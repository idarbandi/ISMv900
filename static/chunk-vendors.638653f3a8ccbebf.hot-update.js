/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(typeof self !== 'undefined' ? self : this)["webpackHotUpdatefrontend"]("chunk-vendors",{

/***/ "./node_modules/html2pdf.js/dist/html2pdf.js":
/*!***************************************************!*\
  !*** ./node_modules/html2pdf.js/dist/html2pdf.js ***!
  \***************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("__webpack_require__(/*! core-js/modules/es.array.push.js */ \"./node_modules/core-js/modules/es.array.push.js\");\n__webpack_require__(/*! core-js/modules/es.regexp.flags.js */ \"./node_modules/core-js/modules/es.regexp.flags.js\");\n__webpack_require__(/*! core-js/modules/es.typed-array.to-reversed.js */ \"./node_modules/core-js/modules/es.typed-array.to-reversed.js\");\n__webpack_require__(/*! core-js/modules/es.typed-array.to-sorted.js */ \"./node_modules/core-js/modules/es.typed-array.to-sorted.js\");\n__webpack_require__(/*! core-js/modules/es.typed-array.with.js */ \"./node_modules/core-js/modules/es.typed-array.with.js\");\n__webpack_require__(/*! core-js/modules/esnext.array-buffer.detached.js */ \"./node_modules/core-js/modules/esnext.array-buffer.detached.js\");\n__webpack_require__(/*! core-js/modules/esnext.array-buffer.transfer.js */ \"./node_modules/core-js/modules/esnext.array-buffer.transfer.js\");\n__webpack_require__(/*! core-js/modules/esnext.array-buffer.transfer-to-fixed-length.js */ \"./node_modules/core-js/modules/esnext.array-buffer.transfer-to-fixed-length.js\");\n/*!\n * html2pdf.js v0.10.3\n * Copyright (c) 2025 Erik Koopmans\n * Released under the MIT License.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (true) module.exports = factory(__webpack_require__(/*! jspdf */ \"./node_modules/html2pdf.js/node_modules/jspdf/dist/jspdf.es.min.js\"), __webpack_require__(/*! html2canvas */ \"./node_modules/html2canvas/dist/html2canvas.js\"));else {}\n})(self, function (__WEBPACK_EXTERNAL_MODULE_jspdf__, __WEBPACK_EXTERNAL_MODULE_html2canvas__) {\n  return /******/function () {\n    // webpackBootstrap\n    /******/\n    var __webpack_modules__ = {\n      /***/\"./src/plugin/hyperlinks.js\": (\n      /*!**********************************!*\\\n        !*** ./src/plugin/hyperlinks.js ***!\n        \\**********************************/\n      /***/\n      function (__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_1484__) {\n        \"use strict\";\n\n        __nested_webpack_require_1484__.r(__nested_webpack_exports__);\n        /* harmony import */\n        var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_1484__( /*! core-js/modules/web.dom-collections.for-each.js */\"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\n        /* harmony import */\n        var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_1484__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_1484__( /*! core-js/modules/es.string.link.js */\"./node_modules/core-js/modules/es.string.link.js\");\n        /* harmony import */\n        var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__nested_webpack_require_1484__.n(core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var _worker_js__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_1484__( /*! ../worker.js */\"./src/worker.js\");\n        /* harmony import */\n        var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_1484__( /*! ../utils.js */\"./src/utils.js\");\n\n        // Add hyperlink functionality to the PDF creation.\n        // Main link array, and refs to original functions.\n\n        var linkInfo = [];\n        var orig = {\n          toContainer: _worker_js__WEBPACK_IMPORTED_MODULE_2__.default.prototype.toContainer,\n          toPdf: _worker_js__WEBPACK_IMPORTED_MODULE_2__.default.prototype.toPdf\n        };\n        _worker_js__WEBPACK_IMPORTED_MODULE_2__.default.prototype.toContainer = function toContainer() {\n          return orig.toContainer.call(this).then(function toContainer_hyperlink() {\n            // Retrieve hyperlink info if the option is enabled.\n            if (this.opt.enableLinks) {\n              // Find all anchor tags and get the container's bounds for reference.\n              var container = this.prop.container;\n              var links = container.querySelectorAll('a');\n              var containerRect = (0, _utils_js__WEBPACK_IMPORTED_MODULE_3__.unitConvert)(container.getBoundingClientRect(), this.prop.pageSize.k);\n              linkInfo = []; // Loop through each anchor tag.\n\n              Array.prototype.forEach.call(links, function (link) {\n                // Treat each client rect as a separate link (for text-wrapping).\n                var clientRects = link.getClientRects();\n                for (var i = 0; i < clientRects.length; i++) {\n                  var clientRect = (0, _utils_js__WEBPACK_IMPORTED_MODULE_3__.unitConvert)(clientRects[i], this.prop.pageSize.k);\n                  clientRect.left -= containerRect.left;\n                  clientRect.top -= containerRect.top;\n                  var page = Math.floor(clientRect.top / this.prop.pageSize.inner.height) + 1;\n                  var top = this.opt.margin[0] + clientRect.top % this.prop.pageSize.inner.height;\n                  var left = this.opt.margin[1] + clientRect.left;\n                  linkInfo.push({\n                    page: page,\n                    top: top,\n                    left: left,\n                    clientRect: clientRect,\n                    link: link\n                  });\n                }\n              }, this);\n            }\n          });\n        };\n        _worker_js__WEBPACK_IMPORTED_MODULE_2__.default.prototype.toPdf = function toPdf() {\n          return orig.toPdf.call(this).then(function toPdf_hyperlink() {\n            // Add hyperlinks if the option is enabled.\n            if (this.opt.enableLinks) {\n              // Attach each anchor tag based on info from toContainer().\n              linkInfo.forEach(function (l) {\n                this.prop.pdf.setPage(l.page);\n                this.prop.pdf.link(l.left, l.top, l.clientRect.width, l.clientRect.height, {\n                  url: l.link.href\n                });\n              }, this); // Reset the active page of the PDF to the final page.\n\n              var nPages = this.prop.pdf.internal.getNumberOfPages();\n              this.prop.pdf.setPage(nPages);\n            }\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./src/plugin/jspdf-plugin.js\": (\n      /*!************************************!*\\\n        !*** ./src/plugin/jspdf-plugin.js ***!\n        \\************************************/\n      /***/\n      function (__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_6036__) {\n        \"use strict\";\n\n        __nested_webpack_require_6036__.r(__nested_webpack_exports__);\n        /* harmony import */\n        var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_6036__( /*! core-js/modules/es.symbol.js */\"./node_modules/core-js/modules/es.symbol.js\");\n        /* harmony import */\n        var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_6036__( /*! core-js/modules/es.symbol.description.js */\"./node_modules/core-js/modules/es.symbol.description.js\");\n        /* harmony import */\n        var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_6036__( /*! core-js/modules/es.object.to-string.js */\"./node_modules/core-js/modules/es.object.to-string.js\");\n        /* harmony import */\n        var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_6036__( /*! core-js/modules/es.symbol.iterator.js */\"./node_modules/core-js/modules/es.symbol.iterator.js\");\n        /* harmony import */\n        var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __nested_webpack_require_6036__( /*! core-js/modules/es.array.iterator.js */\"./node_modules/core-js/modules/es.array.iterator.js\");\n        /* harmony import */\n        var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__);\n        /* harmony import */\n        var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __nested_webpack_require_6036__( /*! core-js/modules/es.string.iterator.js */\"./node_modules/core-js/modules/es.string.iterator.js\");\n        /* harmony import */\n        var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__);\n        /* harmony import */\n        var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __nested_webpack_require_6036__( /*! core-js/modules/web.dom-collections.iterator.js */\"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n        /* harmony import */\n        var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__nested_webpack_require_6036__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__);\n        /* harmony import */\n        var jspdf__WEBPACK_IMPORTED_MODULE_7__ = __nested_webpack_require_6036__( /*! jspdf */\"jspdf\");\n        /* harmony import */\n        var jspdf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__nested_webpack_require_6036__.n(jspdf__WEBPACK_IMPORTED_MODULE_7__);\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n            _typeof = function _typeof(obj) {\n              return typeof obj;\n            };\n          } else {\n            _typeof = function _typeof(obj) {\n              return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n            };\n          }\n          return _typeof(obj);\n        }\n\n        // Import dependencies.\n        // Get dimensions of a PDF page, as determined by jsPDF.\n\n        jspdf__WEBPACK_IMPORTED_MODULE_7__.jsPDF.getPageSize = function (orientation, unit, format) {\n          // Decode options object\n          if (_typeof(orientation) === 'object') {\n            var options = orientation;\n            orientation = options.orientation;\n            unit = options.unit || unit;\n            format = options.format || format;\n          } // Default options\n\n          unit = unit || 'mm';\n          format = format || 'a4';\n          orientation = ('' + (orientation || 'P')).toLowerCase();\n          var format_as_string = ('' + format).toLowerCase(); // Size in pt of various paper formats\n\n          var pageFormats = {\n            'a0': [2383.94, 3370.39],\n            'a1': [1683.78, 2383.94],\n            'a2': [1190.55, 1683.78],\n            'a3': [841.89, 1190.55],\n            'a4': [595.28, 841.89],\n            'a5': [419.53, 595.28],\n            'a6': [297.64, 419.53],\n            'a7': [209.76, 297.64],\n            'a8': [147.40, 209.76],\n            'a9': [104.88, 147.40],\n            'a10': [73.70, 104.88],\n            'b0': [2834.65, 4008.19],\n            'b1': [2004.09, 2834.65],\n            'b2': [1417.32, 2004.09],\n            'b3': [1000.63, 1417.32],\n            'b4': [708.66, 1000.63],\n            'b5': [498.90, 708.66],\n            'b6': [354.33, 498.90],\n            'b7': [249.45, 354.33],\n            'b8': [175.75, 249.45],\n            'b9': [124.72, 175.75],\n            'b10': [87.87, 124.72],\n            'c0': [2599.37, 3676.54],\n            'c1': [1836.85, 2599.37],\n            'c2': [1298.27, 1836.85],\n            'c3': [918.43, 1298.27],\n            'c4': [649.13, 918.43],\n            'c5': [459.21, 649.13],\n            'c6': [323.15, 459.21],\n            'c7': [229.61, 323.15],\n            'c8': [161.57, 229.61],\n            'c9': [113.39, 161.57],\n            'c10': [79.37, 113.39],\n            'dl': [311.81, 623.62],\n            'letter': [612, 792],\n            'government-letter': [576, 756],\n            'legal': [612, 1008],\n            'junior-legal': [576, 360],\n            'ledger': [1224, 792],\n            'tabloid': [792, 1224],\n            'credit-card': [153, 243]\n          }; // Unit conversion\n\n          switch (unit) {\n            case 'pt':\n              var k = 1;\n              break;\n            case 'mm':\n              var k = 72 / 25.4;\n              break;\n            case 'cm':\n              var k = 72 / 2.54;\n              break;\n            case 'in':\n              var k = 72;\n              break;\n            case 'px':\n              var k = 72 / 96;\n              break;\n            case 'pc':\n              var k = 12;\n              break;\n            case 'em':\n              var k = 12;\n              break;\n            case 'ex':\n              var k = 6;\n              break;\n            default:\n              throw 'Invalid unit: ' + unit;\n          } // Dimensions are stored as user units and converted to points on output\n\n          if (pageFormats.hasOwnProperty(format_as_string)) {\n            var pageHeight = pageFormats[format_as_string][1] / k;\n            var pageWidth = pageFormats[format_as_string][0] / k;\n          } else {\n            try {\n              var pageHeight = format[1];\n              var pageWidth = format[0];\n            } catch (err) {\n              throw new Error('Invalid format: ' + format);\n            }\n          } // Handle page orientation\n\n          if (orientation === 'p' || orientation === 'portrait') {\n            orientation = 'p';\n            if (pageWidth > pageHeight) {\n              var tmp = pageWidth;\n              pageWidth = pageHeight;\n              pageHeight = tmp;\n            }\n          } else if (orientation === 'l' || orientation === 'landscape') {\n            orientation = 'l';\n            if (pageHeight > pageWidth) {\n              var tmp = pageWidth;\n              pageWidth = pageHeight;\n              pageHeight = tmp;\n            }\n          } else {\n            throw 'Invalid orientation: ' + orientation;\n          } // Return information (k is the unit conversion ratio from pts)\n\n          var info = {\n            'width': pageWidth,\n            'height': pageHeight,\n            'unit': unit,\n            'k': k\n          };\n          return info;\n        };\n\n        /* harmony default export */\n        __nested_webpack_exports__[\"default\"] = jspdf__WEBPACK_IMPORTED_MODULE_7__.jsPDF;\n\n        /***/\n      }),\n      /***/\"./src/plugin/pagebreaks.js\": (\n      /*!**********************************!*\\\n        !*** ./src/plugin/pagebreaks.js ***!\n        \\**********************************/\n      /***/\n      function (__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_14905__) {\n        \"use strict\";\n\n        __nested_webpack_require_14905__.r(__nested_webpack_exports__);\n        /* harmony import */\n        var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_14905__( /*! core-js/modules/es.array.concat.js */\"./node_modules/core-js/modules/es.array.concat.js\");\n        /* harmony import */\n        var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_14905__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_14905__( /*! core-js/modules/es.array.slice.js */\"./node_modules/core-js/modules/es.array.slice.js\");\n        /* harmony import */\n        var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__nested_webpack_require_14905__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_14905__( /*! core-js/modules/es.array.join.js */\"./node_modules/core-js/modules/es.array.join.js\");\n        /* harmony import */\n        var core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__nested_webpack_require_14905__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_14905__( /*! core-js/modules/web.dom-collections.for-each.js */\"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\n        /* harmony import */\n        var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__nested_webpack_require_14905__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__ = __nested_webpack_require_14905__( /*! core-js/modules/es.object.keys.js */\"./node_modules/core-js/modules/es.object.keys.js\");\n        /* harmony import */\n        var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__nested_webpack_require_14905__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__);\n        /* harmony import */\n        var _worker_js__WEBPACK_IMPORTED_MODULE_5__ = __nested_webpack_require_14905__( /*! ../worker.js */\"./src/worker.js\");\n        /* harmony import */\n        var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __nested_webpack_require_14905__( /*! ../utils.js */\"./src/utils.js\");\n\n        /* Pagebreak plugin:\n        \n            Adds page-break functionality to the html2pdf library. Page-breaks can be\n            enabled by CSS styles, set on individual elements using selectors, or\n            avoided from breaking inside all elements.\n        \n            Options on the `opt.pagebreak` object:\n        \n            mode:   String or array of strings: 'avoid-all', 'css', and/or 'legacy'\n                    Default: ['css', 'legacy']\n        \n            before: String or array of CSS selectors for which to add page-breaks\n                    before each element. Can be a specific element with an ID\n                    ('#myID'), all elements of a type (e.g. 'img'), all of a class\n                    ('.myClass'), or even '*' to match every element.\n        \n            after:  Like 'before', but adds a page-break immediately after the element.\n        \n            avoid:  Like 'before', but avoids page-breaks on these elements. You can\n                    enable this feature on every element using the 'avoid-all' mode.\n        */\n        // Refs to original functions.\n\n        var orig = {\n          toContainer: _worker_js__WEBPACK_IMPORTED_MODULE_5__.default.prototype.toContainer\n        }; // Add pagebreak default options to the Worker template.\n\n        _worker_js__WEBPACK_IMPORTED_MODULE_5__.default.template.opt.pagebreak = {\n          mode: ['css', 'legacy'],\n          before: [],\n          after: [],\n          avoid: []\n        };\n        _worker_js__WEBPACK_IMPORTED_MODULE_5__.default.prototype.toContainer = function toContainer() {\n          return orig.toContainer.call(this).then(function toContainer_pagebreak() {\n            // Setup root element and inner page height.\n            var root = this.prop.container;\n            var pxPageHeight = this.prop.pageSize.inner.px.height; // Check all requested modes.\n\n            var modeSrc = [].concat(this.opt.pagebreak.mode);\n            var mode = {\n              avoidAll: modeSrc.indexOf('avoid-all') !== -1,\n              css: modeSrc.indexOf('css') !== -1,\n              legacy: modeSrc.indexOf('legacy') !== -1\n            }; // Get arrays of all explicitly requested elements.\n\n            var select = {};\n            var self = this;\n            ['before', 'after', 'avoid'].forEach(function (key) {\n              var all = mode.avoidAll && key === 'avoid';\n              select[key] = all ? [] : [].concat(self.opt.pagebreak[key] || []);\n              if (select[key].length > 0) {\n                select[key] = Array.prototype.slice.call(root.querySelectorAll(select[key].join(', ')));\n              }\n            }); // Get all legacy page-break elements.\n\n            var legacyEls = root.querySelectorAll('.html2pdf__page-break');\n            legacyEls = Array.prototype.slice.call(legacyEls); // Loop through all elements.\n\n            var els = root.querySelectorAll('*');\n            Array.prototype.forEach.call(els, function pagebreak_loop(el) {\n              // Setup pagebreak rules based on legacy and avoidAll modes.\n              var rules = {\n                before: false,\n                after: mode.legacy && legacyEls.indexOf(el) !== -1,\n                avoid: mode.avoidAll\n              }; // Add rules for css mode.\n\n              if (mode.css) {\n                // TODO: Check if this is valid with iFrames.\n                var style = window.getComputedStyle(el); // TODO: Handle 'left' and 'right' correctly.\n                // TODO: Add support for 'avoid' on breakBefore/After.\n\n                var breakOpt = ['always', 'page', 'left', 'right'];\n                var avoidOpt = ['avoid', 'avoid-page'];\n                rules = {\n                  before: rules.before || breakOpt.indexOf(style.breakBefore || style.pageBreakBefore) !== -1,\n                  after: rules.after || breakOpt.indexOf(style.breakAfter || style.pageBreakAfter) !== -1,\n                  avoid: rules.avoid || avoidOpt.indexOf(style.breakInside || style.pageBreakInside) !== -1\n                };\n              } // Add rules for explicit requests.\n\n              Object.keys(rules).forEach(function (key) {\n                rules[key] = rules[key] || select[key].indexOf(el) !== -1;\n              }); // Get element position on the screen.\n              // TODO: Subtract the top of the container from clientRect.top/bottom?\n\n              var clientRect = el.getBoundingClientRect(); // Avoid: Check if a break happens mid-element.\n\n              if (rules.avoid && !rules.before) {\n                var startPage = Math.floor(clientRect.top / pxPageHeight);\n                var endPage = Math.floor(clientRect.bottom / pxPageHeight);\n                var nPages = Math.abs(clientRect.bottom - clientRect.top) / pxPageHeight; // Turn on rules.before if the el is broken and is at most one page long.\n\n                if (endPage !== startPage && nPages <= 1) {\n                  rules.before = true;\n                }\n              } // Before: Create a padding div to push the element to the next page.\n\n              if (rules.before) {\n                var pad = (0, _utils_js__WEBPACK_IMPORTED_MODULE_6__.createElement)('div', {\n                  style: {\n                    display: 'block',\n                    height: pxPageHeight - clientRect.top % pxPageHeight + 'px'\n                  }\n                });\n                el.parentNode.insertBefore(pad, el);\n              } // After: Create a padding div to fill the remaining page.\n\n              if (rules.after) {\n                var pad = (0, _utils_js__WEBPACK_IMPORTED_MODULE_6__.createElement)('div', {\n                  style: {\n                    display: 'block',\n                    height: pxPageHeight - clientRect.bottom % pxPageHeight + 'px'\n                  }\n                });\n                el.parentNode.insertBefore(pad, el.nextSibling);\n              }\n            });\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./src/utils.js\": (\n      /*!**********************!*\\\n        !*** ./src/utils.js ***!\n        \\**********************/\n      /***/\n      function (__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_23663__) {\n        \"use strict\";\n\n        __nested_webpack_require_23663__.r(__nested_webpack_exports__);\n        /* harmony export */\n        __nested_webpack_require_23663__.d(__nested_webpack_exports__, {\n          /* harmony export */\"objType\": function () {\n            return /* binding */objType;\n          },\n          /* harmony export */\"createElement\": function () {\n            return /* binding */createElement;\n          },\n          /* harmony export */\"cloneNode\": function () {\n            return /* binding */cloneNode;\n          },\n          /* harmony export */\"unitConvert\": function () {\n            return /* binding */unitConvert;\n          },\n          /* harmony export */\"toPx\": function () {\n            return /* binding */toPx;\n          }\n          /* harmony export */\n        });\n        /* harmony import */\n        var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_23663__( /*! core-js/modules/es.number.constructor.js */\"./node_modules/core-js/modules/es.number.constructor.js\");\n        /* harmony import */\n        var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_23663__( /*! core-js/modules/es.symbol.js */\"./node_modules/core-js/modules/es.symbol.js\");\n        /* harmony import */\n        var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_23663__( /*! core-js/modules/es.symbol.description.js */\"./node_modules/core-js/modules/es.symbol.description.js\");\n        /* harmony import */\n        var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_23663__( /*! core-js/modules/es.object.to-string.js */\"./node_modules/core-js/modules/es.object.to-string.js\");\n        /* harmony import */\n        var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __nested_webpack_require_23663__( /*! core-js/modules/es.symbol.iterator.js */\"./node_modules/core-js/modules/es.symbol.iterator.js\");\n        /* harmony import */\n        var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_4__);\n        /* harmony import */\n        var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __nested_webpack_require_23663__( /*! core-js/modules/es.array.iterator.js */\"./node_modules/core-js/modules/es.array.iterator.js\");\n        /* harmony import */\n        var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_5__);\n        /* harmony import */\n        var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __nested_webpack_require_23663__( /*! core-js/modules/es.string.iterator.js */\"./node_modules/core-js/modules/es.string.iterator.js\");\n        /* harmony import */\n        var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_6__);\n        /* harmony import */\n        var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__ = __nested_webpack_require_23663__( /*! core-js/modules/web.dom-collections.iterator.js */\"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n        /* harmony import */\n        var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__nested_webpack_require_23663__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_7__);\n        function _typeof(obj) {\n          \"@babel/helpers - typeof\";\n\n          if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n            _typeof = function _typeof(obj) {\n              return typeof obj;\n            };\n          } else {\n            _typeof = function _typeof(obj) {\n              return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n            };\n          }\n          return _typeof(obj);\n        }\n\n        // Determine the type of a variable/object.\n        var objType = function objType(obj) {\n          var type = _typeof(obj);\n          if (type === 'undefined') return 'undefined';else if (type === 'string' || obj instanceof String) return 'string';else if (type === 'number' || obj instanceof Number) return 'number';else if (type === 'function' || obj instanceof Function) return 'function';else if (!!obj && obj.constructor === Array) return 'array';else if (obj && obj.nodeType === 1) return 'element';else if (type === 'object') return 'object';else return 'unknown';\n        }; // Create an HTML element with optional className, innerHTML, and style.\n\n        var createElement = function createElement(tagName, opt) {\n          var el = document.createElement(tagName);\n          if (opt.className) el.className = opt.className;\n          if (opt.innerHTML) {\n            el.innerHTML = opt.innerHTML;\n            var scripts = el.getElementsByTagName('script');\n            for (var i = scripts.length; i-- > 0; null) {\n              scripts[i].parentNode.removeChild(scripts[i]);\n            }\n          }\n          for (var key in opt.style) {\n            el.style[key] = opt.style[key];\n          }\n          return el;\n        }; // Deep-clone a node and preserve contents/properties.\n\n        var cloneNode = function cloneNode(node, javascriptEnabled) {\n          // Recursively clone the node.\n          var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n          for (var child = node.firstChild; child; child = child.nextSibling) {\n            if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n              clone.appendChild(cloneNode(child, javascriptEnabled));\n            }\n          }\n          if (node.nodeType === 1) {\n            // Preserve contents/properties of special nodes.\n            if (node.nodeName === 'CANVAS') {\n              clone.width = node.width;\n              clone.height = node.height;\n              clone.getContext('2d').drawImage(node, 0, 0);\n            } else if (node.nodeName === 'TEXTAREA' || node.nodeName === 'SELECT') {\n              clone.value = node.value;\n            } // Preserve the node's scroll position when it loads.\n\n            clone.addEventListener('load', function () {\n              clone.scrollTop = node.scrollTop;\n              clone.scrollLeft = node.scrollLeft;\n            }, true);\n          } // Return the cloned node.\n\n          return clone;\n        }; // Convert units from px using the conversion value 'k' from jsPDF.\n\n        var unitConvert = function unitConvert(obj, k) {\n          if (objType(obj) === 'number') {\n            return obj * 72 / 96 / k;\n          } else {\n            var newObj = {};\n            for (var key in obj) {\n              newObj[key] = obj[key] * 72 / 96 / k;\n            }\n            return newObj;\n          }\n        }; // Convert units to px using the conversion value 'k' from jsPDF.\n\n        var toPx = function toPx(val, k) {\n          return Math.floor(val * k / 72 * 96);\n        };\n\n        /***/\n      }),\n      /***/\"./src/worker.js\": (\n      /*!***********************!*\\\n        !*** ./src/worker.js ***!\n        \\***********************/\n      /***/\n      function (__unused_webpack_module, __nested_webpack_exports__, __nested_webpack_require_31984__) {\n        \"use strict\";\n\n        __nested_webpack_require_31984__.r(__nested_webpack_exports__);\n        /* harmony import */\n        var core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_31984__( /*! core-js/modules/es.object.assign.js */\"./node_modules/core-js/modules/es.object.assign.js\");\n        /* harmony import */\n        var core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_0__);\n        /* harmony import */\n        var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_31984__( /*! core-js/modules/es.array.map.js */\"./node_modules/core-js/modules/es.array.map.js\");\n        /* harmony import */\n        var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);\n        /* harmony import */\n        var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_31984__( /*! core-js/modules/es.object.keys.js */\"./node_modules/core-js/modules/es.object.keys.js\");\n        /* harmony import */\n        var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__);\n        /* harmony import */\n        var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_31984__( /*! core-js/modules/es.array.concat.js */\"./node_modules/core-js/modules/es.array.concat.js\");\n        /* harmony import */\n        var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);\n        /* harmony import */\n        var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __nested_webpack_require_31984__( /*! core-js/modules/es.object.to-string.js */\"./node_modules/core-js/modules/es.object.to-string.js\");\n        /* harmony import */\n        var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_4__);\n        /* harmony import */\n        var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5__ = __nested_webpack_require_31984__( /*! core-js/modules/es.regexp.to-string.js */\"./node_modules/core-js/modules/es.regexp.to-string.js\");\n        /* harmony import */\n        var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_5__);\n        /* harmony import */\n        var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6__ = __nested_webpack_require_31984__( /*! core-js/modules/es.function.name.js */\"./node_modules/core-js/modules/es.function.name.js\");\n        /* harmony import */\n        var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6__);\n        /* harmony import */\n        var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__ = __nested_webpack_require_31984__( /*! core-js/modules/web.dom-collections.for-each.js */\"./node_modules/core-js/modules/web.dom-collections.for-each.js\");\n        /* harmony import */\n        var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__nested_webpack_require_31984__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_7__);\n        /* harmony import */\n        var jspdf__WEBPACK_IMPORTED_MODULE_8__ = __nested_webpack_require_31984__( /*! jspdf */\"jspdf\");\n        /* harmony import */\n        var jspdf__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__nested_webpack_require_31984__.n(jspdf__WEBPACK_IMPORTED_MODULE_8__);\n        /* harmony import */\n        var html2canvas__WEBPACK_IMPORTED_MODULE_9__ = __nested_webpack_require_31984__( /*! html2canvas */\"html2canvas\");\n        /* harmony import */\n        var html2canvas__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__nested_webpack_require_31984__.n(html2canvas__WEBPACK_IMPORTED_MODULE_9__);\n        /* harmony import */\n        var _utils_js__WEBPACK_IMPORTED_MODULE_10__ = __nested_webpack_require_31984__( /*! ./utils.js */\"./src/utils.js\");\n        /* harmony import */\n        var es6_promise__WEBPACK_IMPORTED_MODULE_11__ = __nested_webpack_require_31984__( /*! es6-promise */\"./node_modules/es6-promise/dist/es6-promise.js\");\n        /* harmony import */\n        var es6_promise__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__nested_webpack_require_31984__.n(es6_promise__WEBPACK_IMPORTED_MODULE_11__);\n        var Promise = es6_promise__WEBPACK_IMPORTED_MODULE_11___default().Promise;\n        /* ----- CONSTRUCTOR ----- */\n\n        var Worker = function Worker(opt) {\n          // Create the root parent for the proto chain, and the starting Worker.\n          var root = Object.assign(Worker.convert(Promise.resolve()), JSON.parse(JSON.stringify(Worker.template)));\n          var self = Worker.convert(Promise.resolve(), root); // Set progress, optional settings, and return.\n\n          self = self.setProgress(1, Worker, 1, [Worker]);\n          self = self.set(opt);\n          return self;\n        }; // Boilerplate for subclassing Promise.\n\n        Worker.prototype = Object.create(Promise.prototype);\n        Worker.prototype.constructor = Worker; // Converts/casts promises into Workers.\n\n        Worker.convert = function convert(promise, inherit) {\n          // Uses prototypal inheritance to receive changes made to ancestors' properties.\n          promise.__proto__ = inherit || Worker.prototype;\n          return promise;\n        };\n        Worker.template = {\n          prop: {\n            src: null,\n            container: null,\n            overlay: null,\n            canvas: null,\n            img: null,\n            pdf: null,\n            pageSize: null\n          },\n          progress: {\n            val: 0,\n            state: null,\n            n: 0,\n            stack: []\n          },\n          opt: {\n            filename: 'file.pdf',\n            margin: [0, 0, 0, 0],\n            image: {\n              type: 'jpeg',\n              quality: 0.95\n            },\n            enableLinks: true,\n            html2canvas: {},\n            jsPDF: {}\n          }\n        };\n        /* ----- FROM / TO ----- */\n\n        Worker.prototype.from = function from(src, type) {\n          function getType(src) {\n            switch ((0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.objType)(src)) {\n              case 'string':\n                return 'string';\n              case 'element':\n                return src.nodeName.toLowerCase && src.nodeName.toLowerCase() === 'canvas' ? 'canvas' : 'element';\n              default:\n                return 'unknown';\n            }\n          }\n          return this.then(function from_main() {\n            type = type || getType(src);\n            switch (type) {\n              case 'string':\n                return this.set({\n                  src: (0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.createElement)('div', {\n                    innerHTML: src\n                  })\n                });\n              case 'element':\n                return this.set({\n                  src: src\n                });\n              case 'canvas':\n                return this.set({\n                  canvas: src\n                });\n              case 'img':\n                return this.set({\n                  img: src\n                });\n              default:\n                return this.error('Unknown source type.');\n            }\n          });\n        };\n        Worker.prototype.to = function to(target) {\n          // Route the 'to' request to the appropriate method.\n          switch (target) {\n            case 'container':\n              return this.toContainer();\n            case 'canvas':\n              return this.toCanvas();\n            case 'img':\n              return this.toImg();\n            case 'pdf':\n              return this.toPdf();\n            default:\n              return this.error('Invalid target.');\n          }\n        };\n        Worker.prototype.toContainer = function toContainer() {\n          // Set up function prerequisites.\n          var prereqs = [function checkSrc() {\n            return this.prop.src || this.error('Cannot duplicate - no source HTML.');\n          }, function checkPageSize() {\n            return this.prop.pageSize || this.setPageSize();\n          }];\n          return this.thenList(prereqs).then(function toContainer_main() {\n            // Define the CSS styles for the container and its overlay parent.\n            var overlayCSS = {\n              position: 'fixed',\n              overflow: 'hidden',\n              zIndex: 1000,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              top: 0,\n              backgroundColor: 'rgba(0,0,0,0.8)'\n            };\n            var containerCSS = {\n              position: 'absolute',\n              width: this.prop.pageSize.inner.width + this.prop.pageSize.unit,\n              left: 0,\n              right: 0,\n              top: 0,\n              height: 'auto',\n              margin: 'auto',\n              backgroundColor: 'white'\n            }; // Set the overlay to hidden (could be changed in the future to provide a print preview).\n\n            overlayCSS.opacity = 0; // Create and attach the elements.\n\n            var source = (0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.cloneNode)(this.prop.src, this.opt.html2canvas.javascriptEnabled);\n            this.prop.overlay = (0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.createElement)('div', {\n              className: 'html2pdf__overlay',\n              style: overlayCSS\n            });\n            this.prop.container = (0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.createElement)('div', {\n              className: 'html2pdf__container',\n              style: containerCSS\n            });\n            this.prop.container.appendChild(source);\n            this.prop.overlay.appendChild(this.prop.container);\n            document.body.appendChild(this.prop.overlay);\n          });\n        };\n        Worker.prototype.toCanvas = function toCanvas() {\n          // Set up function prerequisites.\n          var prereqs = [function checkContainer() {\n            return document.body.contains(this.prop.container) || this.toContainer();\n          }]; // Fulfill prereqs then create the canvas.\n\n          return this.thenList(prereqs).then(function toCanvas_main() {\n            // Handle old-fashioned 'onrendered' argument.\n            var options = Object.assign({}, this.opt.html2canvas);\n            delete options.onrendered;\n            return html2canvas__WEBPACK_IMPORTED_MODULE_9__(this.prop.container, options);\n          }).then(function toCanvas_post(canvas) {\n            // Handle old-fashioned 'onrendered' argument.\n            var onRendered = this.opt.html2canvas.onrendered || function () {};\n            onRendered(canvas);\n            this.prop.canvas = canvas;\n            document.body.removeChild(this.prop.overlay);\n          });\n        };\n        Worker.prototype.toImg = function toImg() {\n          // Set up function prerequisites.\n          var prereqs = [function checkCanvas() {\n            return this.prop.canvas || this.toCanvas();\n          }]; // Fulfill prereqs then create the image.\n\n          return this.thenList(prereqs).then(function toImg_main() {\n            var imgData = this.prop.canvas.toDataURL('image/' + this.opt.image.type, this.opt.image.quality);\n            this.prop.img = document.createElement('img');\n            this.prop.img.src = imgData;\n          });\n        };\n        Worker.prototype.toPdf = function toPdf() {\n          // Set up function prerequisites.\n          var prereqs = [function checkCanvas() {\n            return this.prop.canvas || this.toCanvas();\n          }, function checkPageSize() {\n            return this.prop.pageSize || this.setPageSize();\n          }]; // Fulfill prereqs then create the image.\n\n          return this.thenList(prereqs).then(function toPdf_main() {\n            // Create local copies of frequently used properties.\n            var canvas = this.prop.canvas;\n            var opt = this.opt; // Calculate the number of pages.\n\n            var pxFullHeight = canvas.height;\n            var pxPageHeight = Math.floor(canvas.width * this.prop.pageSize.inner.ratio);\n            var nPages = Math.ceil(pxFullHeight / pxPageHeight); // Define pageHeight separately so it can be trimmed on the final page.\n\n            var pageHeight = this.prop.pageSize.inner.height; // Create a one-page canvas to split up the full image.\n\n            var pageCanvas = document.createElement('canvas');\n            var pageCtx = pageCanvas.getContext('2d');\n            pageCanvas.width = canvas.width;\n            pageCanvas.height = pxPageHeight; // Initialize the PDF.\n\n            this.prop.pdf = this.prop.pdf || new jspdf__WEBPACK_IMPORTED_MODULE_8__.jsPDF(opt.jsPDF);\n            for (var page = 0; page < nPages; page++) {\n              // Trim the final page to reduce file size.\n              if (page === nPages - 1 && pxFullHeight % pxPageHeight !== 0) {\n                pageCanvas.height = pxFullHeight % pxPageHeight;\n                pageHeight = pageCanvas.height * this.prop.pageSize.inner.width / pageCanvas.width;\n              } // Display the page.\n\n              var w = pageCanvas.width;\n              var h = pageCanvas.height;\n              pageCtx.fillStyle = 'white';\n              pageCtx.fillRect(0, 0, w, h);\n              pageCtx.drawImage(canvas, 0, page * pxPageHeight, w, h, 0, 0, w, h); // Add the page to the PDF.\n\n              if (page) this.prop.pdf.addPage();\n              var imgData = pageCanvas.toDataURL('image/' + opt.image.type, opt.image.quality);\n              this.prop.pdf.addImage(imgData, opt.image.type, opt.margin[1], opt.margin[0], this.prop.pageSize.inner.width, pageHeight);\n            }\n          });\n        };\n        /* ----- OUTPUT / SAVE ----- */\n\n        Worker.prototype.output = function output(type, options, src) {\n          // Redirect requests to the correct function (outputPdf / outputImg).\n          src = src || 'pdf';\n          if (src.toLowerCase() === 'img' || src.toLowerCase() === 'image') {\n            return this.outputImg(type, options);\n          } else {\n            return this.outputPdf(type, options);\n          }\n        };\n        Worker.prototype.outputPdf = function outputPdf(type, options) {\n          // Set up function prerequisites.\n          var prereqs = [function checkPdf() {\n            return this.prop.pdf || this.toPdf();\n          }]; // Fulfill prereqs then perform the appropriate output.\n\n          return this.thenList(prereqs).then(function outputPdf_main() {\n            /* Currently implemented output types:\n             *    https://rawgit.com/MrRio/jsPDF/master/docs/jspdf.js.html#line992\n             *  save(options), arraybuffer, blob, bloburi/bloburl,\n             *  datauristring/dataurlstring, dataurlnewwindow, datauri/dataurl\n             */\n            return this.prop.pdf.output(type, options);\n          });\n        };\n        Worker.prototype.outputImg = function outputImg(type, options) {\n          // Set up function prerequisites.\n          var prereqs = [function checkImg() {\n            return this.prop.img || this.toImg();\n          }]; // Fulfill prereqs then perform the appropriate output.\n\n          return this.thenList(prereqs).then(function outputImg_main() {\n            switch (type) {\n              case undefined:\n              case 'img':\n                return this.prop.img;\n              case 'datauristring':\n              case 'dataurlstring':\n                return this.prop.img.src;\n              case 'datauri':\n              case 'dataurl':\n                return document.location.href = this.prop.img.src;\n              default:\n                throw 'Image output type \"' + type + '\" is not supported.';\n            }\n          });\n        };\n        Worker.prototype.save = function save(filename) {\n          // Set up function prerequisites.\n          var prereqs = [function checkPdf() {\n            return this.prop.pdf || this.toPdf();\n          }]; // Fulfill prereqs, update the filename (if provided), and save the PDF.\n\n          return this.thenList(prereqs).set(filename ? {\n            filename: filename\n          } : null).then(function save_main() {\n            this.prop.pdf.save(this.opt.filename);\n          });\n        };\n        /* ----- SET / GET ----- */\n\n        Worker.prototype.set = function set(opt) {\n          // TODO: Implement ordered pairs?\n          // Silently ignore invalid or empty input.\n          if ((0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.objType)(opt) !== 'object') {\n            return this;\n          } // Build an array of setter functions to queue.\n\n          var fns = Object.keys(opt || {}).map(function (key) {\n            switch (key) {\n              case 'margin':\n                return this.setMargin.bind(this, opt.margin);\n              case 'jsPDF':\n                return function set_jsPDF() {\n                  this.opt.jsPDF = opt.jsPDF;\n                  return this.setPageSize();\n                };\n              case 'pageSize':\n                return this.setPageSize.bind(this, opt.pageSize);\n              default:\n                if (key in Worker.template.prop) {\n                  // Set pre-defined properties in prop.\n                  return function set_prop() {\n                    this.prop[key] = opt[key];\n                  };\n                } else {\n                  // Set any other properties in opt.\n                  return function set_opt() {\n                    this.opt[key] = opt[key];\n                  };\n                }\n            }\n          }, this); // Set properties within the promise chain.\n\n          return this.then(function set_main() {\n            return this.thenList(fns);\n          });\n        };\n        Worker.prototype.get = function get(key, cbk) {\n          return this.then(function get_main() {\n            // Fetch the requested property, either as a predefined prop or in opt.\n            var val = key in Worker.template.prop ? this.prop[key] : this.opt[key];\n            return cbk ? cbk(val) : val;\n          });\n        };\n        Worker.prototype.setMargin = function setMargin(margin) {\n          return this.then(function setMargin_main() {\n            // Parse the margin property: [top, left, bottom, right].\n            switch ((0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.objType)(margin)) {\n              case 'number':\n                margin = [margin, margin, margin, margin];\n              case 'array':\n                if (margin.length === 2) {\n                  margin = [margin[0], margin[1], margin[0], margin[1]];\n                }\n                if (margin.length === 4) {\n                  break;\n                }\n              default:\n                return this.error('Invalid margin array.');\n            } // Set the margin property, then update pageSize.\n\n            this.opt.margin = margin;\n          }).then(this.setPageSize);\n        };\n        Worker.prototype.setPageSize = function setPageSize(pageSize) {\n          return this.then(function setPageSize_main() {\n            // Retrieve page-size based on jsPDF settings, if not explicitly provided.\n            pageSize = pageSize || jspdf__WEBPACK_IMPORTED_MODULE_8__.jsPDF.getPageSize(this.opt.jsPDF); // Add 'inner' field if not present.\n\n            if (!pageSize.hasOwnProperty('inner')) {\n              pageSize.inner = {\n                width: pageSize.width - this.opt.margin[1] - this.opt.margin[3],\n                height: pageSize.height - this.opt.margin[0] - this.opt.margin[2]\n              };\n              pageSize.inner.px = {\n                width: (0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.toPx)(pageSize.inner.width, pageSize.k),\n                height: (0, _utils_js__WEBPACK_IMPORTED_MODULE_10__.toPx)(pageSize.inner.height, pageSize.k)\n              };\n              pageSize.inner.ratio = pageSize.inner.height / pageSize.inner.width;\n            } // Attach pageSize to this.\n\n            this.prop.pageSize = pageSize;\n          });\n        };\n        Worker.prototype.setProgress = function setProgress(val, state, n, stack) {\n          // Immediately update all progress values.\n          if (val != null) this.progress.val = val;\n          if (state != null) this.progress.state = state;\n          if (n != null) this.progress.n = n;\n          if (stack != null) this.progress.stack = stack;\n          this.progress.ratio = this.progress.val / this.progress.state; // Return this for command chaining.\n\n          return this;\n        };\n        Worker.prototype.updateProgress = function updateProgress(val, state, n, stack) {\n          // Immediately update all progress values, using setProgress.\n          return this.setProgress(val ? this.progress.val + val : null, state ? state : null, n ? this.progress.n + n : null, stack ? this.progress.stack.concat(stack) : null);\n        };\n        /* ----- PROMISE MAPPING ----- */\n\n        Worker.prototype.then = function then(onFulfilled, onRejected) {\n          // Wrap `this` for encapsulation.\n          var self = this;\n          return this.thenCore(onFulfilled, onRejected, function then_main(onFulfilled, onRejected) {\n            // Update progress while queuing, calling, and resolving `then`.\n            self.updateProgress(null, null, 1, [onFulfilled]);\n            return Promise.prototype.then.call(this, function then_pre(val) {\n              self.updateProgress(null, onFulfilled);\n              return val;\n            }).then(onFulfilled, onRejected).then(function then_post(val) {\n              self.updateProgress(1);\n              return val;\n            });\n          });\n        };\n        Worker.prototype.thenCore = function thenCore(onFulfilled, onRejected, thenBase) {\n          // Handle optional thenBase parameter.\n          thenBase = thenBase || Promise.prototype.then; // Wrap `this` for encapsulation and bind it to the promise handlers.\n\n          var self = this;\n          if (onFulfilled) {\n            onFulfilled = onFulfilled.bind(self);\n          }\n          if (onRejected) {\n            onRejected = onRejected.bind(self);\n          } // Cast self into a Promise to avoid polyfills recursively defining `then`.\n\n          var isNative = Promise.toString().indexOf('[native code]') !== -1 && Promise.name === 'Promise';\n          var selfPromise = isNative ? self : Worker.convert(Object.assign({}, self), Promise.prototype); // Return the promise, after casting it into a Worker and preserving props.\n\n          var returnVal = thenBase.call(selfPromise, onFulfilled, onRejected);\n          return Worker.convert(returnVal, self.__proto__);\n        };\n        Worker.prototype.thenExternal = function thenExternal(onFulfilled, onRejected) {\n          // Call `then` and return a standard promise (exits the Worker chain).\n          return Promise.prototype.then.call(this, onFulfilled, onRejected);\n        };\n        Worker.prototype.thenList = function thenList(fns) {\n          // Queue a series of promise 'factories' into the promise chain.\n          var self = this;\n          fns.forEach(function thenList_forEach(fn) {\n            self = self.thenCore(fn);\n          });\n          return self;\n        };\n        Worker.prototype['catch'] = function (onRejected) {\n          // Bind `this` to the promise handler, call `catch`, and return a Worker.\n          if (onRejected) {\n            onRejected = onRejected.bind(this);\n          }\n          var returnVal = Promise.prototype['catch'].call(this, onRejected);\n          return Worker.convert(returnVal, this);\n        };\n        Worker.prototype.catchExternal = function catchExternal(onRejected) {\n          // Call `catch` and return a standard promise (exits the Worker chain).\n          return Promise.prototype['catch'].call(this, onRejected);\n        };\n        Worker.prototype.error = function error(msg) {\n          // Throw the error in the Promise chain.\n          return this.then(function error_main() {\n            throw new Error(msg);\n          });\n        };\n        /* ----- ALIASES ----- */\n\n        Worker.prototype.using = Worker.prototype.set;\n        Worker.prototype.saveAs = Worker.prototype.save;\n        Worker.prototype.export = Worker.prototype.output;\n        Worker.prototype.run = Worker.prototype.then;\n        /* ----- FINISHING ----- */\n        // Expose the Worker class.\n\n        /* harmony default export */\n        __nested_webpack_exports__[\"default\"] = Worker;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/a-function.js\": (\n      /*!******************************************************!*\\\n        !*** ./node_modules/core-js/internals/a-function.js ***!\n        \\******************************************************/\n      /***/\n      function (module) {\n        module.exports = function (it) {\n          if (typeof it != 'function') {\n            throw TypeError(String(it) + ' is not a function');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/a-possible-prototype.js\": (\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js/internals/a-possible-prototype.js ***!\n        \\****************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_57708__) {\n        var isObject = __nested_webpack_require_57708__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        module.exports = function (it) {\n          if (!isObject(it) && it !== null) {\n            throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/add-to-unscopables.js\": (\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js/internals/add-to-unscopables.js ***!\n        \\**************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_58440__) {\n        var wellKnownSymbol = __nested_webpack_require_58440__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var create = __nested_webpack_require_58440__( /*! ../internals/object-create */\"./node_modules/core-js/internals/object-create.js\");\n        var definePropertyModule = __nested_webpack_require_58440__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\");\n        var UNSCOPABLES = wellKnownSymbol('unscopables');\n        var ArrayPrototype = Array.prototype;\n\n        // Array.prototype[@@unscopables]\n        // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n        if (ArrayPrototype[UNSCOPABLES] == undefined) {\n          definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n            configurable: true,\n            value: create(null)\n          });\n        }\n\n        // add a key to Array.prototype[@@unscopables]\n        module.exports = function (key) {\n          ArrayPrototype[UNSCOPABLES][key] = true;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/an-object.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/an-object.js ***!\n        \\*****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_59827__) {\n        var isObject = __nested_webpack_require_59827__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        module.exports = function (it) {\n          if (!isObject(it)) {\n            throw TypeError(String(it) + ' is not an object');\n          }\n          return it;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-for-each.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-for-each.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_60515__) {\n        \"use strict\";\n\n        var $forEach = __nested_webpack_require_60515__( /*! ../internals/array-iteration */\"./node_modules/core-js/internals/array-iteration.js\").forEach;\n        var arrayMethodIsStrict = __nested_webpack_require_60515__( /*! ../internals/array-method-is-strict */\"./node_modules/core-js/internals/array-method-is-strict.js\");\n        var STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n        // `Array.prototype.forEach` method implementation\n        // https://tc39.es/ecma262/#sec-array.prototype.foreach\n        module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n          return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n          // eslint-disable-next-line es/no-array-prototype-foreach -- safe\n        } : [].forEach;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-includes.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-includes.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_61694__) {\n        var toIndexedObject = __nested_webpack_require_61694__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var toLength = __nested_webpack_require_61694__( /*! ../internals/to-length */\"./node_modules/core-js/internals/to-length.js\");\n        var toAbsoluteIndex = __nested_webpack_require_61694__( /*! ../internals/to-absolute-index */\"./node_modules/core-js/internals/to-absolute-index.js\");\n\n        // `Array.prototype.{ indexOf, includes }` methods implementation\n        var createMethod = function (IS_INCLUDES) {\n          return function ($this, el, fromIndex) {\n            var O = toIndexedObject($this);\n            var length = toLength(O.length);\n            var index = toAbsoluteIndex(fromIndex, length);\n            var value;\n            // Array#includes uses SameValueZero equality algorithm\n            // eslint-disable-next-line no-self-compare -- NaN check\n            if (IS_INCLUDES && el != el) while (length > index) {\n              value = O[index++];\n              // eslint-disable-next-line no-self-compare -- NaN check\n              if (value != value) return true;\n              // Array#indexOf ignores holes, Array#includes - not\n            } else for (; length > index; index++) {\n              if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n            }\n            return !IS_INCLUDES && -1;\n          };\n        };\n        module.exports = {\n          // `Array.prototype.includes` method\n          // https://tc39.es/ecma262/#sec-array.prototype.includes\n          includes: createMethod(true),\n          // `Array.prototype.indexOf` method\n          // https://tc39.es/ecma262/#sec-array.prototype.indexof\n          indexOf: createMethod(false)\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-iteration.js\": (\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-iteration.js ***!\n        \\***********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_63844__) {\n        var bind = __nested_webpack_require_63844__( /*! ../internals/function-bind-context */\"./node_modules/core-js/internals/function-bind-context.js\");\n        var IndexedObject = __nested_webpack_require_63844__( /*! ../internals/indexed-object */\"./node_modules/core-js/internals/indexed-object.js\");\n        var toObject = __nested_webpack_require_63844__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var toLength = __nested_webpack_require_63844__( /*! ../internals/to-length */\"./node_modules/core-js/internals/to-length.js\");\n        var arraySpeciesCreate = __nested_webpack_require_63844__( /*! ../internals/array-species-create */\"./node_modules/core-js/internals/array-species-create.js\");\n        var push = [].push;\n\n        // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\n        var createMethod = function (TYPE) {\n          var IS_MAP = TYPE == 1;\n          var IS_FILTER = TYPE == 2;\n          var IS_SOME = TYPE == 3;\n          var IS_EVERY = TYPE == 4;\n          var IS_FIND_INDEX = TYPE == 6;\n          var IS_FILTER_REJECT = TYPE == 7;\n          var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n          return function ($this, callbackfn, that, specificCreate) {\n            var O = toObject($this);\n            var self = IndexedObject(O);\n            var boundFunction = bind(callbackfn, that, 3);\n            var length = toLength(self.length);\n            var index = 0;\n            var create = specificCreate || arraySpeciesCreate;\n            var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n            var value, result;\n            for (; length > index; index++) if (NO_HOLES || index in self) {\n              value = self[index];\n              result = boundFunction(value, index, O);\n              if (TYPE) {\n                if (IS_MAP) target[index] = result; // map\n                else if (result) switch (TYPE) {\n                  case 3:\n                    return true;\n                  // some\n                  case 5:\n                    return value;\n                  // find\n                  case 6:\n                    return index;\n                  // findIndex\n                  case 2:\n                    push.call(target, value);\n                  // filter\n                } else switch (TYPE) {\n                  case 4:\n                    return false;\n                  // every\n                  case 7:\n                    push.call(target, value);\n                  // filterReject\n                }\n              }\n            }\n            return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n          };\n        };\n        module.exports = {\n          // `Array.prototype.forEach` method\n          // https://tc39.es/ecma262/#sec-array.prototype.foreach\n          forEach: createMethod(0),\n          // `Array.prototype.map` method\n          // https://tc39.es/ecma262/#sec-array.prototype.map\n          map: createMethod(1),\n          // `Array.prototype.filter` method\n          // https://tc39.es/ecma262/#sec-array.prototype.filter\n          filter: createMethod(2),\n          // `Array.prototype.some` method\n          // https://tc39.es/ecma262/#sec-array.prototype.some\n          some: createMethod(3),\n          // `Array.prototype.every` method\n          // https://tc39.es/ecma262/#sec-array.prototype.every\n          every: createMethod(4),\n          // `Array.prototype.find` method\n          // https://tc39.es/ecma262/#sec-array.prototype.find\n          find: createMethod(5),\n          // `Array.prototype.findIndex` method\n          // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n          findIndex: createMethod(6),\n          // `Array.prototype.filterReject` method\n          // https://github.com/tc39/proposal-array-filtering\n          filterReject: createMethod(7)\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-method-has-species-support.js\": (\n      /*!****************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-method-has-species-support.js ***!\n        \\****************************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_68197__) {\n        var fails = __nested_webpack_require_68197__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var wellKnownSymbol = __nested_webpack_require_68197__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var V8_VERSION = __nested_webpack_require_68197__( /*! ../internals/engine-v8-version */\"./node_modules/core-js/internals/engine-v8-version.js\");\n        var SPECIES = wellKnownSymbol('species');\n        module.exports = function (METHOD_NAME) {\n          // We can't use this feature detection in V8 since it causes\n          // deoptimization and serious performance degradation\n          // https://github.com/zloirock/core-js/issues/677\n          return V8_VERSION >= 51 || !fails(function () {\n            var array = [];\n            var constructor = array.constructor = {};\n            constructor[SPECIES] = function () {\n              return {\n                foo: 1\n              };\n            };\n            return array[METHOD_NAME](Boolean).foo !== 1;\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-method-is-strict.js\": (\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-method-is-strict.js ***!\n        \\******************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_69659__) {\n        \"use strict\";\n\n        var fails = __nested_webpack_require_69659__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        module.exports = function (METHOD_NAME, argument) {\n          var method = [][METHOD_NAME];\n          return !!method && fails(function () {\n            // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n            method.call(null, argument || function () {\n              throw 1;\n            }, 1);\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-species-constructor.js\": (\n      /*!*********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-species-constructor.js ***!\n        \\*********************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_70593__) {\n        var isObject = __nested_webpack_require_70593__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var isArray = __nested_webpack_require_70593__( /*! ../internals/is-array */\"./node_modules/core-js/internals/is-array.js\");\n        var wellKnownSymbol = __nested_webpack_require_70593__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var SPECIES = wellKnownSymbol('species');\n\n        // a part of `ArraySpeciesCreate` abstract operation\n        // https://tc39.es/ecma262/#sec-arrayspeciescreate\n        module.exports = function (originalArray) {\n          var C;\n          if (isArray(originalArray)) {\n            C = originalArray.constructor;\n            // cross-realm fallback\n            if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;else if (isObject(C)) {\n              C = C[SPECIES];\n              if (C === null) C = undefined;\n            }\n          }\n          return C === undefined ? Array : C;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/array-species-create.js\": (\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js/internals/array-species-create.js ***!\n        \\****************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_72028__) {\n        var arraySpeciesConstructor = __nested_webpack_require_72028__( /*! ../internals/array-species-constructor */\"./node_modules/core-js/internals/array-species-constructor.js\");\n\n        // `ArraySpeciesCreate` abstract operation\n        // https://tc39.es/ecma262/#sec-arrayspeciescreate\n        module.exports = function (originalArray, length) {\n          return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/classof-raw.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/classof-raw.js ***!\n        \\*******************************************************/\n      /***/\n      function (module) {\n        var toString = {}.toString;\n        module.exports = function (it) {\n          return toString.call(it).slice(8, -1);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/classof.js\": (\n      /*!***************************************************!*\\\n        !*** ./node_modules/core-js/internals/classof.js ***!\n        \\***************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_73292__) {\n        var TO_STRING_TAG_SUPPORT = __nested_webpack_require_73292__( /*! ../internals/to-string-tag-support */\"./node_modules/core-js/internals/to-string-tag-support.js\");\n        var classofRaw = __nested_webpack_require_73292__( /*! ../internals/classof-raw */\"./node_modules/core-js/internals/classof-raw.js\");\n        var wellKnownSymbol = __nested_webpack_require_73292__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        // ES3 wrong here\n        var CORRECT_ARGUMENTS = classofRaw(function () {\n          return arguments;\n        }()) == 'Arguments';\n\n        // fallback for IE11 Script Access Denied error\n        var tryGet = function (it, key) {\n          try {\n            return it[key];\n          } catch (error) {/* empty */}\n        };\n\n        // getting tag from ES6+ `Object.prototype.toString`\n        module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n          var O, tag, result;\n          return it === undefined ? 'Undefined' : it === null ? 'Null'\n          // @@toStringTag case\n          : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n          // builtinTag case\n          : CORRECT_ARGUMENTS ? classofRaw(O)\n          // ES3 arguments fallback\n          : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/copy-constructor-properties.js\": (\n      /*!***********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/copy-constructor-properties.js ***!\n        \\***********************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_75143__) {\n        var has = __nested_webpack_require_75143__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var ownKeys = __nested_webpack_require_75143__( /*! ../internals/own-keys */\"./node_modules/core-js/internals/own-keys.js\");\n        var getOwnPropertyDescriptorModule = __nested_webpack_require_75143__( /*! ../internals/object-get-own-property-descriptor */\"./node_modules/core-js/internals/object-get-own-property-descriptor.js\");\n        var definePropertyModule = __nested_webpack_require_75143__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\");\n        module.exports = function (target, source) {\n          var keys = ownKeys(source);\n          var defineProperty = definePropertyModule.f;\n          var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n          for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n          }\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/correct-prototype-getter.js\": (\n      /*!********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/correct-prototype-getter.js ***!\n        \\********************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_76579__) {\n        var fails = __nested_webpack_require_76579__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        module.exports = !fails(function () {\n          function F() {/* empty */}\n          F.prototype.constructor = null;\n          // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n          return Object.getPrototypeOf(new F()) !== F.prototype;\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/create-html.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/create-html.js ***!\n        \\*******************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_77357__) {\n        var requireObjectCoercible = __nested_webpack_require_77357__( /*! ../internals/require-object-coercible */\"./node_modules/core-js/internals/require-object-coercible.js\");\n        var toString = __nested_webpack_require_77357__( /*! ../internals/to-string */\"./node_modules/core-js/internals/to-string.js\");\n        var quot = /\"/g;\n\n        // `CreateHTML` abstract operation\n        // https://tc39.es/ecma262/#sec-createhtml\n        module.exports = function (string, tag, attribute, value) {\n          var S = toString(requireObjectCoercible(string));\n          var p1 = '<' + tag;\n          if (attribute !== '') p1 += ' ' + attribute + '=\"' + toString(value).replace(quot, '&quot;') + '\"';\n          return p1 + '>' + S + '</' + tag + '>';\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/create-iterator-constructor.js\": (\n      /*!***********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/create-iterator-constructor.js ***!\n        \\***********************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_78534__) {\n        \"use strict\";\n\n        var IteratorPrototype = __nested_webpack_require_78534__( /*! ../internals/iterators-core */\"./node_modules/core-js/internals/iterators-core.js\").IteratorPrototype;\n        var create = __nested_webpack_require_78534__( /*! ../internals/object-create */\"./node_modules/core-js/internals/object-create.js\");\n        var createPropertyDescriptor = __nested_webpack_require_78534__( /*! ../internals/create-property-descriptor */\"./node_modules/core-js/internals/create-property-descriptor.js\");\n        var setToStringTag = __nested_webpack_require_78534__( /*! ../internals/set-to-string-tag */\"./node_modules/core-js/internals/set-to-string-tag.js\");\n        var Iterators = __nested_webpack_require_78534__( /*! ../internals/iterators */\"./node_modules/core-js/internals/iterators.js\");\n        var returnThis = function () {\n          return this;\n        };\n        module.exports = function (IteratorConstructor, NAME, next) {\n          var TO_STRING_TAG = NAME + ' Iterator';\n          IteratorConstructor.prototype = create(IteratorPrototype, {\n            next: createPropertyDescriptor(1, next)\n          });\n          setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n          Iterators[TO_STRING_TAG] = returnThis;\n          return IteratorConstructor;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/create-non-enumerable-property.js\": (\n      /*!**************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/create-non-enumerable-property.js ***!\n        \\**************************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_80240__) {\n        var DESCRIPTORS = __nested_webpack_require_80240__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var definePropertyModule = __nested_webpack_require_80240__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\");\n        var createPropertyDescriptor = __nested_webpack_require_80240__( /*! ../internals/create-property-descriptor */\"./node_modules/core-js/internals/create-property-descriptor.js\");\n        module.exports = DESCRIPTORS ? function (object, key, value) {\n          return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n        } : function (object, key, value) {\n          object[key] = value;\n          return object;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/create-property-descriptor.js\": (\n      /*!**********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/create-property-descriptor.js ***!\n        \\**********************************************************************/\n      /***/\n      function (module) {\n        module.exports = function (bitmap, value) {\n          return {\n            enumerable: !(bitmap & 1),\n            configurable: !(bitmap & 2),\n            writable: !(bitmap & 4),\n            value: value\n          };\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/create-property.js\": (\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js/internals/create-property.js ***!\n        \\***********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_81990__) {\n        \"use strict\";\n\n        var toPropertyKey = __nested_webpack_require_81990__( /*! ../internals/to-property-key */\"./node_modules/core-js/internals/to-property-key.js\");\n        var definePropertyModule = __nested_webpack_require_81990__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\");\n        var createPropertyDescriptor = __nested_webpack_require_81990__( /*! ../internals/create-property-descriptor */\"./node_modules/core-js/internals/create-property-descriptor.js\");\n        module.exports = function (object, key, value) {\n          var propertyKey = toPropertyKey(key);\n          if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));else object[propertyKey] = value;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/define-iterator.js\": (\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js/internals/define-iterator.js ***!\n        \\***********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_83144__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_83144__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var createIteratorConstructor = __nested_webpack_require_83144__( /*! ../internals/create-iterator-constructor */\"./node_modules/core-js/internals/create-iterator-constructor.js\");\n        var getPrototypeOf = __nested_webpack_require_83144__( /*! ../internals/object-get-prototype-of */\"./node_modules/core-js/internals/object-get-prototype-of.js\");\n        var setPrototypeOf = __nested_webpack_require_83144__( /*! ../internals/object-set-prototype-of */\"./node_modules/core-js/internals/object-set-prototype-of.js\");\n        var setToStringTag = __nested_webpack_require_83144__( /*! ../internals/set-to-string-tag */\"./node_modules/core-js/internals/set-to-string-tag.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_83144__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var redefine = __nested_webpack_require_83144__( /*! ../internals/redefine */\"./node_modules/core-js/internals/redefine.js\");\n        var wellKnownSymbol = __nested_webpack_require_83144__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var IS_PURE = __nested_webpack_require_83144__( /*! ../internals/is-pure */\"./node_modules/core-js/internals/is-pure.js\");\n        var Iterators = __nested_webpack_require_83144__( /*! ../internals/iterators */\"./node_modules/core-js/internals/iterators.js\");\n        var IteratorsCore = __nested_webpack_require_83144__( /*! ../internals/iterators-core */\"./node_modules/core-js/internals/iterators-core.js\");\n        var IteratorPrototype = IteratorsCore.IteratorPrototype;\n        var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\n        var ITERATOR = wellKnownSymbol('iterator');\n        var KEYS = 'keys';\n        var VALUES = 'values';\n        var ENTRIES = 'entries';\n        var returnThis = function () {\n          return this;\n        };\n        module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n          createIteratorConstructor(IteratorConstructor, NAME, next);\n          var getIterationMethod = function (KIND) {\n            if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n            if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n            switch (KIND) {\n              case KEYS:\n                return function keys() {\n                  return new IteratorConstructor(this, KIND);\n                };\n              case VALUES:\n                return function values() {\n                  return new IteratorConstructor(this, KIND);\n                };\n              case ENTRIES:\n                return function entries() {\n                  return new IteratorConstructor(this, KIND);\n                };\n            }\n            return function () {\n              return new IteratorConstructor(this);\n            };\n          };\n          var TO_STRING_TAG = NAME + ' Iterator';\n          var INCORRECT_VALUES_NAME = false;\n          var IterablePrototype = Iterable.prototype;\n          var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype['@@iterator'] || DEFAULT && IterablePrototype[DEFAULT];\n          var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n          var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n          var CurrentIteratorPrototype, methods, KEY;\n\n          // fix native\n          if (anyNativeIterator) {\n            CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n            if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n              if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n                if (setPrototypeOf) {\n                  setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n                } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n                  createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n                }\n              }\n              // Set @@toStringTag to native iterators\n              setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n              if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n            }\n          }\n\n          // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n          if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n            INCORRECT_VALUES_NAME = true;\n            defaultIterator = function values() {\n              return nativeIterator.call(this);\n            };\n          }\n\n          // define iterator\n          if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n            createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n          }\n          Iterators[NAME] = defaultIterator;\n\n          // export additional methods\n          if (DEFAULT) {\n            methods = {\n              values: getIterationMethod(VALUES),\n              keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n              entries: getIterationMethod(ENTRIES)\n            };\n            if (FORCED) for (KEY in methods) {\n              if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n                redefine(IterablePrototype, KEY, methods[KEY]);\n              }\n            } else $({\n              target: NAME,\n              proto: true,\n              forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME\n            }, methods);\n          }\n          return methods;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/define-well-known-symbol.js\": (\n      /*!********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/define-well-known-symbol.js ***!\n        \\********************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_89318__) {\n        var path = __nested_webpack_require_89318__( /*! ../internals/path */\"./node_modules/core-js/internals/path.js\");\n        var has = __nested_webpack_require_89318__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var wrappedWellKnownSymbolModule = __nested_webpack_require_89318__( /*! ../internals/well-known-symbol-wrapped */\"./node_modules/core-js/internals/well-known-symbol-wrapped.js\");\n        var defineProperty = __nested_webpack_require_89318__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\").f;\n        module.exports = function (NAME) {\n          var Symbol = path.Symbol || (path.Symbol = {});\n          if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n            value: wrappedWellKnownSymbolModule.f(NAME)\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/descriptors.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/descriptors.js ***!\n        \\*******************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_90486__) {\n        var fails = __nested_webpack_require_90486__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n\n        // Detect IE8's incomplete defineProperty implementation\n        module.exports = !fails(function () {\n          // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n          return Object.defineProperty({}, 1, {\n            get: function () {\n              return 7;\n            }\n          })[1] != 7;\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/document-create-element.js\": (\n      /*!*******************************************************************!*\\\n        !*** ./node_modules/core-js/internals/document-create-element.js ***!\n        \\*******************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_91373__) {\n        var global = __nested_webpack_require_91373__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var isObject = __nested_webpack_require_91373__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var document = global.document;\n        // typeof document.createElement is 'object' in old IE\n        var EXISTS = isObject(document) && isObject(document.createElement);\n        module.exports = function (it) {\n          return EXISTS ? document.createElement(it) : {};\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/dom-iterables.js\": (\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js/internals/dom-iterables.js ***!\n        \\*********************************************************/\n      /***/\n      function (module) {\n        // iterable DOM collections\n        // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\n        module.exports = {\n          CSSRuleList: 0,\n          CSSStyleDeclaration: 0,\n          CSSValueList: 0,\n          ClientRectList: 0,\n          DOMRectList: 0,\n          DOMStringList: 0,\n          DOMTokenList: 1,\n          DataTransferItemList: 0,\n          FileList: 0,\n          HTMLAllCollection: 0,\n          HTMLCollection: 0,\n          HTMLFormElement: 0,\n          HTMLSelectElement: 0,\n          MediaList: 0,\n          MimeTypeArray: 0,\n          NamedNodeMap: 0,\n          NodeList: 1,\n          PaintRequestList: 0,\n          Plugin: 0,\n          PluginArray: 0,\n          SVGLengthList: 0,\n          SVGNumberList: 0,\n          SVGPathSegList: 0,\n          SVGPointList: 0,\n          SVGStringList: 0,\n          SVGTransformList: 0,\n          SourceBufferList: 0,\n          StyleSheetList: 0,\n          TextTrackCueList: 0,\n          TextTrackList: 0,\n          TouchList: 0\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/engine-user-agent.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/engine-user-agent.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_93668__) {\n        var getBuiltIn = __nested_webpack_require_93668__( /*! ../internals/get-built-in */\"./node_modules/core-js/internals/get-built-in.js\");\n        module.exports = getBuiltIn('navigator', 'userAgent') || '';\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/engine-v8-version.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/engine-v8-version.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_94266__) {\n        var global = __nested_webpack_require_94266__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var userAgent = __nested_webpack_require_94266__( /*! ../internals/engine-user-agent */\"./node_modules/core-js/internals/engine-user-agent.js\");\n        var process = global.process;\n        var Deno = global.Deno;\n        var versions = process && process.versions || Deno && Deno.version;\n        var v8 = versions && versions.v8;\n        var match, version;\n        if (v8) {\n          match = v8.split('.');\n          version = match[0] < 4 ? 1 : match[0] + match[1];\n        } else if (userAgent) {\n          match = userAgent.match(/Edge\\/(\\d+)/);\n          if (!match || match[1] >= 74) {\n            match = userAgent.match(/Chrome\\/(\\d+)/);\n            if (match) version = match[1];\n          }\n        }\n        module.exports = version && +version;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/enum-bug-keys.js\": (\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js/internals/enum-bug-keys.js ***!\n        \\*********************************************************/\n      /***/\n      function (module) {\n        // IE8- don't enum bug keys\n        module.exports = ['constructor', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'valueOf'];\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/export.js\": (\n      /*!**************************************************!*\\\n        !*** ./node_modules/core-js/internals/export.js ***!\n        \\**************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_96004__) {\n        var global = __nested_webpack_require_96004__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var getOwnPropertyDescriptor = __nested_webpack_require_96004__( /*! ../internals/object-get-own-property-descriptor */\"./node_modules/core-js/internals/object-get-own-property-descriptor.js\").f;\n        var createNonEnumerableProperty = __nested_webpack_require_96004__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var redefine = __nested_webpack_require_96004__( /*! ../internals/redefine */\"./node_modules/core-js/internals/redefine.js\");\n        var setGlobal = __nested_webpack_require_96004__( /*! ../internals/set-global */\"./node_modules/core-js/internals/set-global.js\");\n        var copyConstructorProperties = __nested_webpack_require_96004__( /*! ../internals/copy-constructor-properties */\"./node_modules/core-js/internals/copy-constructor-properties.js\");\n        var isForced = __nested_webpack_require_96004__( /*! ../internals/is-forced */\"./node_modules/core-js/internals/is-forced.js\");\n\n        /*\n          options.target      - name of the target object\n          options.global      - target is the global object\n          options.stat        - export as static methods of target\n          options.proto       - export as prototype methods of target\n          options.real        - real prototype method for the `pure` version\n          options.forced      - export even if the native feature is available\n          options.bind        - bind methods to the target, required for the `pure` version\n          options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n          options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n          options.sham        - add a flag to not completely full polyfills\n          options.enumerable  - export as enumerable property\n          options.noTargetGet - prevent calling a getter on target\n        */\n        module.exports = function (options, source) {\n          var TARGET = options.target;\n          var GLOBAL = options.global;\n          var STATIC = options.stat;\n          var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n          if (GLOBAL) {\n            target = global;\n          } else if (STATIC) {\n            target = global[TARGET] || setGlobal(TARGET, {});\n          } else {\n            target = (global[TARGET] || {}).prototype;\n          }\n          if (target) for (key in source) {\n            sourceProperty = source[key];\n            if (options.noTargetGet) {\n              descriptor = getOwnPropertyDescriptor(target, key);\n              targetProperty = descriptor && descriptor.value;\n            } else targetProperty = target[key];\n            FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n            // contained in target\n            if (!FORCED && targetProperty !== undefined) {\n              if (typeof sourceProperty === typeof targetProperty) continue;\n              copyConstructorProperties(sourceProperty, targetProperty);\n            }\n            // add a flag to not completely full polyfills\n            if (options.sham || targetProperty && targetProperty.sham) {\n              createNonEnumerableProperty(sourceProperty, 'sham', true);\n            }\n            // extend global\n            redefine(target, key, sourceProperty, options);\n          }\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/fails.js\": (\n      /*!*************************************************!*\\\n        !*** ./node_modules/core-js/internals/fails.js ***!\n        \\*************************************************/\n      /***/\n      function (module) {\n        module.exports = function (exec) {\n          try {\n            return !!exec();\n          } catch (error) {\n            return true;\n          }\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/function-bind-context.js\": (\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js/internals/function-bind-context.js ***!\n        \\*****************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_100342__) {\n        var aFunction = __nested_webpack_require_100342__( /*! ../internals/a-function */\"./node_modules/core-js/internals/a-function.js\");\n\n        // optional / simple context binding\n        module.exports = function (fn, that, length) {\n          aFunction(fn);\n          if (that === undefined) return fn;\n          switch (length) {\n            case 0:\n              return function () {\n                return fn.call(that);\n              };\n            case 1:\n              return function (a) {\n                return fn.call(that, a);\n              };\n            case 2:\n              return function (a, b) {\n                return fn.call(that, a, b);\n              };\n            case 3:\n              return function (a, b, c) {\n                return fn.call(that, a, b, c);\n              };\n          }\n          return function /* ...args */\n          () {\n            return fn.apply(that, arguments);\n          };\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/get-built-in.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/internals/get-built-in.js ***!\n        \\********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_101652__) {\n        var global = __nested_webpack_require_101652__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var aFunction = function (variable) {\n          return typeof variable == 'function' ? variable : undefined;\n        };\n        module.exports = function (namespace, method) {\n          return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/global.js\": (\n      /*!**************************************************!*\\\n        !*** ./node_modules/core-js/internals/global.js ***!\n        \\**************************************************/\n      /***/\n      function (module) {\n        var check = function (it) {\n          return it && it.Math == Math && it;\n        };\n\n        // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n        module.exports =\n        // eslint-disable-next-line es/no-global-this -- safe\n        check(typeof globalThis == 'object' && globalThis) || check(typeof window == 'object' && window) ||\n        // eslint-disable-next-line no-restricted-globals -- safe\n        check(typeof self == 'object' && self) || check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||\n        // eslint-disable-next-line no-new-func -- fallback\n        function () {\n          return this;\n        }() || Function('return this')();\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/has.js\": (\n      /*!***********************************************!*\\\n        !*** ./node_modules/core-js/internals/has.js ***!\n        \\***********************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_103408__) {\n        var toObject = __nested_webpack_require_103408__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var hasOwnProperty = {}.hasOwnProperty;\n        module.exports = Object.hasOwn || function hasOwn(it, key) {\n          return hasOwnProperty.call(toObject(it), key);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/hidden-keys.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/hidden-keys.js ***!\n        \\*******************************************************/\n      /***/\n      function (module) {\n        module.exports = {};\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/html.js\": (\n      /*!************************************************!*\\\n        !*** ./node_modules/core-js/internals/html.js ***!\n        \\************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_104418__) {\n        var getBuiltIn = __nested_webpack_require_104418__( /*! ../internals/get-built-in */\"./node_modules/core-js/internals/get-built-in.js\");\n        module.exports = getBuiltIn('document', 'documentElement');\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/ie8-dom-define.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/ie8-dom-define.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_105003__) {\n        var DESCRIPTORS = __nested_webpack_require_105003__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var fails = __nested_webpack_require_105003__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var createElement = __nested_webpack_require_105003__( /*! ../internals/document-create-element */\"./node_modules/core-js/internals/document-create-element.js\");\n\n        // Thank's IE8 for his funny defineProperty\n        module.exports = !DESCRIPTORS && !fails(function () {\n          // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n          return Object.defineProperty(createElement('div'), 'a', {\n            get: function () {\n              return 7;\n            }\n          }).a != 7;\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/indexed-object.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/indexed-object.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_106161__) {\n        var fails = __nested_webpack_require_106161__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var classof = __nested_webpack_require_106161__( /*! ../internals/classof-raw */\"./node_modules/core-js/internals/classof-raw.js\");\n        var split = ''.split;\n\n        // fallback for non-array-like ES3 and non-enumerable old V8 strings\n        module.exports = fails(function () {\n          // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n          // eslint-disable-next-line no-prototype-builtins -- safe\n          return !Object('z').propertyIsEnumerable(0);\n        }) ? function (it) {\n          return classof(it) == 'String' ? split.call(it, '') : Object(it);\n        } : Object;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/inherit-if-required.js\": (\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js/internals/inherit-if-required.js ***!\n        \\***************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_107293__) {\n        var isObject = __nested_webpack_require_107293__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var setPrototypeOf = __nested_webpack_require_107293__( /*! ../internals/object-set-prototype-of */\"./node_modules/core-js/internals/object-set-prototype-of.js\");\n\n        // makes subclassing work correct for wrapped built-ins\n        module.exports = function ($this, dummy, Wrapper) {\n          var NewTarget, NewTargetPrototype;\n          if (\n          // it can work only with native `setPrototypeOf`\n          setPrototypeOf &&\n          // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n          typeof (NewTarget = dummy.constructor) == 'function' && NewTarget !== Wrapper && isObject(NewTargetPrototype = NewTarget.prototype) && NewTargetPrototype !== Wrapper.prototype) setPrototypeOf($this, NewTargetPrototype);\n          return $this;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/inspect-source.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/inspect-source.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_108589__) {\n        var store = __nested_webpack_require_108589__( /*! ../internals/shared-store */\"./node_modules/core-js/internals/shared-store.js\");\n        var functionToString = Function.toString;\n\n        // this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\n        if (typeof store.inspectSource != 'function') {\n          store.inspectSource = function (it) {\n            return functionToString.call(it);\n          };\n        }\n        module.exports = store.inspectSource;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/internal-state.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/internal-state.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_109459__) {\n        var NATIVE_WEAK_MAP = __nested_webpack_require_109459__( /*! ../internals/native-weak-map */\"./node_modules/core-js/internals/native-weak-map.js\");\n        var global = __nested_webpack_require_109459__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var isObject = __nested_webpack_require_109459__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_109459__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var objectHas = __nested_webpack_require_109459__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var shared = __nested_webpack_require_109459__( /*! ../internals/shared-store */\"./node_modules/core-js/internals/shared-store.js\");\n        var sharedKey = __nested_webpack_require_109459__( /*! ../internals/shared-key */\"./node_modules/core-js/internals/shared-key.js\");\n        var hiddenKeys = __nested_webpack_require_109459__( /*! ../internals/hidden-keys */\"./node_modules/core-js/internals/hidden-keys.js\");\n        var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\n        var WeakMap = global.WeakMap;\n        var set, get, has;\n        var enforce = function (it) {\n          return has(it) ? get(it) : set(it, {});\n        };\n        var getterFor = function (TYPE) {\n          return function (it) {\n            var state;\n            if (!isObject(it) || (state = get(it)).type !== TYPE) {\n              throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n            }\n            return state;\n          };\n        };\n        if (NATIVE_WEAK_MAP || shared.state) {\n          var store = shared.state || (shared.state = new WeakMap());\n          var wmget = store.get;\n          var wmhas = store.has;\n          var wmset = store.set;\n          set = function (it, metadata) {\n            if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n            metadata.facade = it;\n            wmset.call(store, it, metadata);\n            return metadata;\n          };\n          get = function (it) {\n            return wmget.call(store, it) || {};\n          };\n          has = function (it) {\n            return wmhas.call(store, it);\n          };\n        } else {\n          var STATE = sharedKey('state');\n          hiddenKeys[STATE] = true;\n          set = function (it, metadata) {\n            if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n            metadata.facade = it;\n            createNonEnumerableProperty(it, STATE, metadata);\n            return metadata;\n          };\n          get = function (it) {\n            return objectHas(it, STATE) ? it[STATE] : {};\n          };\n          has = function (it) {\n            return objectHas(it, STATE);\n          };\n        }\n        module.exports = {\n          set: set,\n          get: get,\n          has: has,\n          enforce: enforce,\n          getterFor: getterFor\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/is-array.js\": (\n      /*!****************************************************!*\\\n        !*** ./node_modules/core-js/internals/is-array.js ***!\n        \\****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_112788__) {\n        var classof = __nested_webpack_require_112788__( /*! ../internals/classof-raw */\"./node_modules/core-js/internals/classof-raw.js\");\n\n        // `IsArray` abstract operation\n        // https://tc39.es/ecma262/#sec-isarray\n        // eslint-disable-next-line es/no-array-isarray -- safe\n        module.exports = Array.isArray || function isArray(arg) {\n          return classof(arg) == 'Array';\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/is-forced.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/is-forced.js ***!\n        \\*****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_113552__) {\n        var fails = __nested_webpack_require_113552__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var replacement = /#|\\.prototype\\./;\n        var isForced = function (feature, detection) {\n          var value = data[normalize(feature)];\n          return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == 'function' ? fails(detection) : !!detection;\n        };\n        var normalize = isForced.normalize = function (string) {\n          return String(string).replace(replacement, '.').toLowerCase();\n        };\n        var data = isForced.data = {};\n        var NATIVE = isForced.NATIVE = 'N';\n        var POLYFILL = isForced.POLYFILL = 'P';\n        module.exports = isForced;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/is-object.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/is-object.js ***!\n        \\*****************************************************/\n      /***/\n      function (module) {\n        module.exports = function (it) {\n          return typeof it === 'object' ? it !== null : typeof it === 'function';\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/is-pure.js\": (\n      /*!***************************************************!*\\\n        !*** ./node_modules/core-js/internals/is-pure.js ***!\n        \\***************************************************/\n      /***/\n      function (module) {\n        module.exports = false;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/is-symbol.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/is-symbol.js ***!\n        \\*****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_115435__) {\n        var getBuiltIn = __nested_webpack_require_115435__( /*! ../internals/get-built-in */\"./node_modules/core-js/internals/get-built-in.js\");\n        var USE_SYMBOL_AS_UID = __nested_webpack_require_115435__( /*! ../internals/use-symbol-as-uid */\"./node_modules/core-js/internals/use-symbol-as-uid.js\");\n        module.exports = USE_SYMBOL_AS_UID ? function (it) {\n          return typeof it == 'symbol';\n        } : function (it) {\n          var $Symbol = getBuiltIn('Symbol');\n          return typeof $Symbol == 'function' && Object(it) instanceof $Symbol;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/iterators-core.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/internals/iterators-core.js ***!\n        \\**********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_116366__) {\n        \"use strict\";\n\n        var fails = __nested_webpack_require_116366__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var getPrototypeOf = __nested_webpack_require_116366__( /*! ../internals/object-get-prototype-of */\"./node_modules/core-js/internals/object-get-prototype-of.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_116366__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var has = __nested_webpack_require_116366__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var wellKnownSymbol = __nested_webpack_require_116366__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var IS_PURE = __nested_webpack_require_116366__( /*! ../internals/is-pure */\"./node_modules/core-js/internals/is-pure.js\");\n        var ITERATOR = wellKnownSymbol('iterator');\n        var BUGGY_SAFARI_ITERATORS = false;\n        var returnThis = function () {\n          return this;\n        };\n\n        // `%IteratorPrototype%` object\n        // https://tc39.es/ecma262/#sec-%iteratorprototype%-object\n        var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n        /* eslint-disable es/no-array-prototype-keys -- safe */\n        if ([].keys) {\n          arrayIterator = [].keys();\n          // Safari 8 has buggy iterators w/o `next`\n          if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;else {\n            PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n            if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n          }\n        }\n        var NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n          var test = {};\n          // FF44- legacy iterators case\n          return IteratorPrototype[ITERATOR].call(test) !== test;\n        });\n        if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n        // `%IteratorPrototype%[@@iterator]()` method\n        // https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\n        if ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n          createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n        }\n        module.exports = {\n          IteratorPrototype: IteratorPrototype,\n          BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/iterators.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/iterators.js ***!\n        \\*****************************************************/\n      /***/\n      function (module) {\n        module.exports = {};\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/native-symbol.js\": (\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js/internals/native-symbol.js ***!\n        \\*********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_119544__) {\n        /* eslint-disable es/no-symbol -- required for testing */\n        var V8_VERSION = __nested_webpack_require_119544__( /*! ../internals/engine-v8-version */\"./node_modules/core-js/internals/engine-v8-version.js\");\n        var fails = __nested_webpack_require_119544__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n\n        // eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\n        module.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n          var symbol = Symbol();\n          // Chrome 38 Symbol has incorrect toString conversion\n          // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n          return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n          // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n          !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/native-weak-map.js\": (\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js/internals/native-weak-map.js ***!\n        \\***********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_120869__) {\n        var global = __nested_webpack_require_120869__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var inspectSource = __nested_webpack_require_120869__( /*! ../internals/inspect-source */\"./node_modules/core-js/internals/inspect-source.js\");\n        var WeakMap = global.WeakMap;\n        module.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-assign.js\": (\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-assign.js ***!\n        \\*********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_121644__) {\n        \"use strict\";\n\n        var DESCRIPTORS = __nested_webpack_require_121644__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var fails = __nested_webpack_require_121644__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var objectKeys = __nested_webpack_require_121644__( /*! ../internals/object-keys */\"./node_modules/core-js/internals/object-keys.js\");\n        var getOwnPropertySymbolsModule = __nested_webpack_require_121644__( /*! ../internals/object-get-own-property-symbols */\"./node_modules/core-js/internals/object-get-own-property-symbols.js\");\n        var propertyIsEnumerableModule = __nested_webpack_require_121644__( /*! ../internals/object-property-is-enumerable */\"./node_modules/core-js/internals/object-property-is-enumerable.js\");\n        var toObject = __nested_webpack_require_121644__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var IndexedObject = __nested_webpack_require_121644__( /*! ../internals/indexed-object */\"./node_modules/core-js/internals/indexed-object.js\");\n\n        // eslint-disable-next-line es/no-object-assign -- safe\n        var $assign = Object.assign;\n        // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n        var defineProperty = Object.defineProperty;\n\n        // `Object.assign` method\n        // https://tc39.es/ecma262/#sec-object.assign\n        module.exports = !$assign || fails(function () {\n          // should have correct order of operations (Edge bug)\n          if (DESCRIPTORS && $assign({\n            b: 1\n          }, $assign(defineProperty({}, 'a', {\n            enumerable: true,\n            get: function () {\n              defineProperty(this, 'b', {\n                value: 3,\n                enumerable: false\n              });\n            }\n          }), {\n            b: 2\n          })).b !== 1) return true;\n          // should work with symbols and should have deterministic property order (V8 bug)\n          var A = {};\n          var B = {};\n          // eslint-disable-next-line es/no-symbol -- safe\n          var symbol = Symbol();\n          var alphabet = 'abcdefghijklmnopqrst';\n          A[symbol] = 7;\n          alphabet.split('').forEach(function (chr) {\n            B[chr] = chr;\n          });\n          return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n        }) ? function assign(target, source) {\n          // eslint-disable-line no-unused-vars -- required for `.length`\n          var T = toObject(target);\n          var argumentsLength = arguments.length;\n          var index = 1;\n          var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n          var propertyIsEnumerable = propertyIsEnumerableModule.f;\n          while (argumentsLength > index) {\n            var S = IndexedObject(arguments[index++]);\n            var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n            var length = keys.length;\n            var j = 0;\n            var key;\n            while (length > j) {\n              key = keys[j++];\n              if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n            }\n          }\n          return T;\n        } : $assign;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-create.js\": (\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-create.js ***!\n        \\*********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_125237__) {\n        /* global ActiveXObject -- old IE, WSH */\n        var anObject = __nested_webpack_require_125237__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n        var defineProperties = __nested_webpack_require_125237__( /*! ../internals/object-define-properties */\"./node_modules/core-js/internals/object-define-properties.js\");\n        var enumBugKeys = __nested_webpack_require_125237__( /*! ../internals/enum-bug-keys */\"./node_modules/core-js/internals/enum-bug-keys.js\");\n        var hiddenKeys = __nested_webpack_require_125237__( /*! ../internals/hidden-keys */\"./node_modules/core-js/internals/hidden-keys.js\");\n        var html = __nested_webpack_require_125237__( /*! ../internals/html */\"./node_modules/core-js/internals/html.js\");\n        var documentCreateElement = __nested_webpack_require_125237__( /*! ../internals/document-create-element */\"./node_modules/core-js/internals/document-create-element.js\");\n        var sharedKey = __nested_webpack_require_125237__( /*! ../internals/shared-key */\"./node_modules/core-js/internals/shared-key.js\");\n        var GT = '>';\n        var LT = '<';\n        var PROTOTYPE = 'prototype';\n        var SCRIPT = 'script';\n        var IE_PROTO = sharedKey('IE_PROTO');\n        var EmptyConstructor = function () {/* empty */};\n        var scriptTag = function (content) {\n          return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n        };\n\n        // Create object with fake `null` prototype: use ActiveX Object with cleared prototype\n        var NullProtoObjectViaActiveX = function (activeXDocument) {\n          activeXDocument.write(scriptTag(''));\n          activeXDocument.close();\n          var temp = activeXDocument.parentWindow.Object;\n          activeXDocument = null; // avoid memory leak\n          return temp;\n        };\n\n        // Create object with fake `null` prototype: use iframe Object with cleared prototype\n        var NullProtoObjectViaIFrame = function () {\n          // Thrash, waste and sodomy: IE GC bug\n          var iframe = documentCreateElement('iframe');\n          var JS = 'java' + SCRIPT + ':';\n          var iframeDocument;\n          if (iframe.style) {\n            iframe.style.display = 'none';\n            html.appendChild(iframe);\n            // https://github.com/zloirock/core-js/issues/475\n            iframe.src = String(JS);\n            iframeDocument = iframe.contentWindow.document;\n            iframeDocument.open();\n            iframeDocument.write(scriptTag('document.F=Object'));\n            iframeDocument.close();\n            return iframeDocument.F;\n          }\n        };\n\n        // Check for document.domain and active x support\n        // No need to use active x approach when document.domain is not set\n        // see https://github.com/es-shims/es5-shim/issues/150\n        // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n        // avoid IE GC bug\n        var activeXDocument;\n        var NullProtoObject = function () {\n          try {\n            activeXDocument = new ActiveXObject('htmlfile');\n          } catch (error) {/* ignore */}\n          NullProtoObject = document.domain && activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) :\n          // old IE\n          NullProtoObjectViaIFrame() || NullProtoObjectViaActiveX(activeXDocument); // WSH\n          var length = enumBugKeys.length;\n          while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n          return NullProtoObject();\n        };\n        hiddenKeys[IE_PROTO] = true;\n\n        // `Object.create` method\n        // https://tc39.es/ecma262/#sec-object.create\n        module.exports = Object.create || function create(O, Properties) {\n          var result;\n          if (O !== null) {\n            EmptyConstructor[PROTOTYPE] = anObject(O);\n            result = new EmptyConstructor();\n            EmptyConstructor[PROTOTYPE] = null;\n            // add \"__proto__\" for Object.getPrototypeOf polyfill\n            result[IE_PROTO] = O;\n          } else result = NullProtoObject();\n          return Properties === undefined ? result : defineProperties(result, Properties);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-define-properties.js\": (\n      /*!********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-define-properties.js ***!\n        \\********************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_129730__) {\n        var DESCRIPTORS = __nested_webpack_require_129730__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var definePropertyModule = __nested_webpack_require_129730__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\");\n        var anObject = __nested_webpack_require_129730__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n        var objectKeys = __nested_webpack_require_129730__( /*! ../internals/object-keys */\"./node_modules/core-js/internals/object-keys.js\");\n\n        // `Object.defineProperties` method\n        // https://tc39.es/ecma262/#sec-object.defineproperties\n        // eslint-disable-next-line es/no-object-defineproperties -- safe\n        module.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n          anObject(O);\n          var keys = objectKeys(Properties);\n          var length = keys.length;\n          var index = 0;\n          var key;\n          while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n          return O;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-define-property.js\": (\n      /*!******************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-define-property.js ***!\n        \\******************************************************************/\n      /***/\n      function (__unused_webpack_module, exports, __nested_webpack_require_131259__) {\n        var DESCRIPTORS = __nested_webpack_require_131259__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var IE8_DOM_DEFINE = __nested_webpack_require_131259__( /*! ../internals/ie8-dom-define */\"./node_modules/core-js/internals/ie8-dom-define.js\");\n        var anObject = __nested_webpack_require_131259__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n        var toPropertyKey = __nested_webpack_require_131259__( /*! ../internals/to-property-key */\"./node_modules/core-js/internals/to-property-key.js\");\n\n        // eslint-disable-next-line es/no-object-defineproperty -- safe\n        var $defineProperty = Object.defineProperty;\n\n        // `Object.defineProperty` method\n        // https://tc39.es/ecma262/#sec-object.defineproperty\n        exports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n          anObject(O);\n          P = toPropertyKey(P);\n          anObject(Attributes);\n          if (IE8_DOM_DEFINE) try {\n            return $defineProperty(O, P, Attributes);\n          } catch (error) {/* empty */}\n          if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n          if ('value' in Attributes) O[P] = Attributes.value;\n          return O;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-get-own-property-descriptor.js\": (\n      /*!******************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-get-own-property-descriptor.js ***!\n        \\******************************************************************************/\n      /***/\n      function (__unused_webpack_module, exports, __nested_webpack_require_132996__) {\n        var DESCRIPTORS = __nested_webpack_require_132996__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var propertyIsEnumerableModule = __nested_webpack_require_132996__( /*! ../internals/object-property-is-enumerable */\"./node_modules/core-js/internals/object-property-is-enumerable.js\");\n        var createPropertyDescriptor = __nested_webpack_require_132996__( /*! ../internals/create-property-descriptor */\"./node_modules/core-js/internals/create-property-descriptor.js\");\n        var toIndexedObject = __nested_webpack_require_132996__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var toPropertyKey = __nested_webpack_require_132996__( /*! ../internals/to-property-key */\"./node_modules/core-js/internals/to-property-key.js\");\n        var has = __nested_webpack_require_132996__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var IE8_DOM_DEFINE = __nested_webpack_require_132996__( /*! ../internals/ie8-dom-define */\"./node_modules/core-js/internals/ie8-dom-define.js\");\n\n        // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n        var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n        // `Object.getOwnPropertyDescriptor` method\n        // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n        exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n          O = toIndexedObject(O);\n          P = toPropertyKey(P);\n          if (IE8_DOM_DEFINE) try {\n            return $getOwnPropertyDescriptor(O, P);\n          } catch (error) {/* empty */}\n          if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-get-own-property-names-external.js\": (\n      /*!**********************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-get-own-property-names-external.js ***!\n        \\**********************************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_135189__) {\n        /* eslint-disable es/no-object-getownpropertynames -- safe */\n        var toIndexedObject = __nested_webpack_require_135189__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var $getOwnPropertyNames = __nested_webpack_require_135189__( /*! ../internals/object-get-own-property-names */\"./node_modules/core-js/internals/object-get-own-property-names.js\").f;\n        var toString = {}.toString;\n        var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n        var getWindowNames = function (it) {\n          try {\n            return $getOwnPropertyNames(it);\n          } catch (error) {\n            return windowNames.slice();\n          }\n        };\n\n        // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n        module.exports.f = function getOwnPropertyNames(it) {\n          return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : $getOwnPropertyNames(toIndexedObject(it));\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-get-own-property-names.js\": (\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-get-own-property-names.js ***!\n        \\*************************************************************************/\n      /***/\n      function (__unused_webpack_module, exports, __nested_webpack_require_136692__) {\n        var internalObjectKeys = __nested_webpack_require_136692__( /*! ../internals/object-keys-internal */\"./node_modules/core-js/internals/object-keys-internal.js\");\n        var enumBugKeys = __nested_webpack_require_136692__( /*! ../internals/enum-bug-keys */\"./node_modules/core-js/internals/enum-bug-keys.js\");\n        var hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n        // `Object.getOwnPropertyNames` method\n        // https://tc39.es/ecma262/#sec-object.getownpropertynames\n        // eslint-disable-next-line es/no-object-getownpropertynames -- safe\n        exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n          return internalObjectKeys(O, hiddenKeys);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-get-own-property-symbols.js\": (\n      /*!***************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-get-own-property-symbols.js ***!\n        \\***************************************************************************/\n      /***/\n      function (__unused_webpack_module, exports) {\n        // eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\n        exports.f = Object.getOwnPropertySymbols;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-get-prototype-of.js\": (\n      /*!*******************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-get-prototype-of.js ***!\n        \\*******************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_138372__) {\n        var has = __nested_webpack_require_138372__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var toObject = __nested_webpack_require_138372__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var sharedKey = __nested_webpack_require_138372__( /*! ../internals/shared-key */\"./node_modules/core-js/internals/shared-key.js\");\n        var CORRECT_PROTOTYPE_GETTER = __nested_webpack_require_138372__( /*! ../internals/correct-prototype-getter */\"./node_modules/core-js/internals/correct-prototype-getter.js\");\n        var IE_PROTO = sharedKey('IE_PROTO');\n        var ObjectPrototype = Object.prototype;\n\n        // `Object.getPrototypeOf` method\n        // https://tc39.es/ecma262/#sec-object.getprototypeof\n        // eslint-disable-next-line es/no-object-getprototypeof -- safe\n        module.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n          O = toObject(O);\n          if (has(O, IE_PROTO)) return O[IE_PROTO];\n          if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n            return O.constructor.prototype;\n          }\n          return O instanceof Object ? ObjectPrototype : null;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-keys-internal.js\": (\n      /*!****************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-keys-internal.js ***!\n        \\****************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_139959__) {\n        var has = __nested_webpack_require_139959__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var toIndexedObject = __nested_webpack_require_139959__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var indexOf = __nested_webpack_require_139959__( /*! ../internals/array-includes */\"./node_modules/core-js/internals/array-includes.js\").indexOf;\n        var hiddenKeys = __nested_webpack_require_139959__( /*! ../internals/hidden-keys */\"./node_modules/core-js/internals/hidden-keys.js\");\n        module.exports = function (object, names) {\n          var O = toIndexedObject(object);\n          var i = 0;\n          var result = [];\n          var key;\n          for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n          // Don't enum bug & hidden keys\n          while (names.length > i) if (has(O, key = names[i++])) {\n            ~indexOf(result, key) || result.push(key);\n          }\n          return result;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-keys.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-keys.js ***!\n        \\*******************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_141311__) {\n        var internalObjectKeys = __nested_webpack_require_141311__( /*! ../internals/object-keys-internal */\"./node_modules/core-js/internals/object-keys-internal.js\");\n        var enumBugKeys = __nested_webpack_require_141311__( /*! ../internals/enum-bug-keys */\"./node_modules/core-js/internals/enum-bug-keys.js\");\n\n        // `Object.keys` method\n        // https://tc39.es/ecma262/#sec-object.keys\n        // eslint-disable-next-line es/no-object-keys -- safe\n        module.exports = Object.keys || function keys(O) {\n          return internalObjectKeys(O, enumBugKeys);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-property-is-enumerable.js\": (\n      /*!*************************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-property-is-enumerable.js ***!\n        \\*************************************************************************/\n      /***/\n      function (__unused_webpack_module, exports) {\n        \"use strict\";\n\n        var $propertyIsEnumerable = {}.propertyIsEnumerable;\n        // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n        var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n        // Nashorn ~ JDK8 bug\n        var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({\n          1: 2\n        }, 1);\n\n        // `Object.prototype.propertyIsEnumerable` method implementation\n        // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\n        exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n          var descriptor = getOwnPropertyDescriptor(this, V);\n          return !!descriptor && descriptor.enumerable;\n        } : $propertyIsEnumerable;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-set-prototype-of.js\": (\n      /*!*******************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-set-prototype-of.js ***!\n        \\*******************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_143474__) {\n        /* eslint-disable no-proto -- safe */\n        var anObject = __nested_webpack_require_143474__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n        var aPossiblePrototype = __nested_webpack_require_143474__( /*! ../internals/a-possible-prototype */\"./node_modules/core-js/internals/a-possible-prototype.js\");\n\n        // `Object.setPrototypeOf` method\n        // https://tc39.es/ecma262/#sec-object.setprototypeof\n        // Works with __proto__ only. Old v8 can't work with null proto objects.\n        // eslint-disable-next-line es/no-object-setprototypeof -- safe\n        module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n          var CORRECT_SETTER = false;\n          var test = {};\n          var setter;\n          try {\n            // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n            setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n            setter.call(test, []);\n            CORRECT_SETTER = test instanceof Array;\n          } catch (error) {/* empty */}\n          return function setPrototypeOf(O, proto) {\n            anObject(O);\n            aPossiblePrototype(proto);\n            if (CORRECT_SETTER) setter.call(O, proto);else O.__proto__ = proto;\n            return O;\n          };\n        }() : undefined);\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/object-to-string.js\": (\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js/internals/object-to-string.js ***!\n        \\************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_145196__) {\n        \"use strict\";\n\n        var TO_STRING_TAG_SUPPORT = __nested_webpack_require_145196__( /*! ../internals/to-string-tag-support */\"./node_modules/core-js/internals/to-string-tag-support.js\");\n        var classof = __nested_webpack_require_145196__( /*! ../internals/classof */\"./node_modules/core-js/internals/classof.js\");\n\n        // `Object.prototype.toString` method implementation\n        // https://tc39.es/ecma262/#sec-object.prototype.tostring\n        module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n          return '[object ' + classof(this) + ']';\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/ordinary-to-primitive.js\": (\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js/internals/ordinary-to-primitive.js ***!\n        \\*****************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_146186__) {\n        var isObject = __nested_webpack_require_146186__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n\n        // `OrdinaryToPrimitive` abstract operation\n        // https://tc39.es/ecma262/#sec-ordinarytoprimitive\n        module.exports = function (input, pref) {\n          var fn, val;\n          if (pref === 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n          if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n          if (pref !== 'string' && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n          throw TypeError(\"Can't convert object to primitive value\");\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/own-keys.js\": (\n      /*!****************************************************!*\\\n        !*** ./node_modules/core-js/internals/own-keys.js ***!\n        \\****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_147294__) {\n        var getBuiltIn = __nested_webpack_require_147294__( /*! ../internals/get-built-in */\"./node_modules/core-js/internals/get-built-in.js\");\n        var getOwnPropertyNamesModule = __nested_webpack_require_147294__( /*! ../internals/object-get-own-property-names */\"./node_modules/core-js/internals/object-get-own-property-names.js\");\n        var getOwnPropertySymbolsModule = __nested_webpack_require_147294__( /*! ../internals/object-get-own-property-symbols */\"./node_modules/core-js/internals/object-get-own-property-symbols.js\");\n        var anObject = __nested_webpack_require_147294__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n\n        // all object keys, includes non-enumerable and symbols\n        module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n          var keys = getOwnPropertyNamesModule.f(anObject(it));\n          var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n          return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/path.js\": (\n      /*!************************************************!*\\\n        !*** ./node_modules/core-js/internals/path.js ***!\n        \\************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_148641__) {\n        var global = __nested_webpack_require_148641__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        module.exports = global;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/redefine.js\": (\n      /*!****************************************************!*\\\n        !*** ./node_modules/core-js/internals/redefine.js ***!\n        \\****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_149151__) {\n        var global = __nested_webpack_require_149151__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_149151__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var has = __nested_webpack_require_149151__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var setGlobal = __nested_webpack_require_149151__( /*! ../internals/set-global */\"./node_modules/core-js/internals/set-global.js\");\n        var inspectSource = __nested_webpack_require_149151__( /*! ../internals/inspect-source */\"./node_modules/core-js/internals/inspect-source.js\");\n        var InternalStateModule = __nested_webpack_require_149151__( /*! ../internals/internal-state */\"./node_modules/core-js/internals/internal-state.js\");\n        var getInternalState = InternalStateModule.get;\n        var enforceInternalState = InternalStateModule.enforce;\n        var TEMPLATE = String(String).split('String');\n        (module.exports = function (O, key, value, options) {\n          var unsafe = options ? !!options.unsafe : false;\n          var simple = options ? !!options.enumerable : false;\n          var noTargetGet = options ? !!options.noTargetGet : false;\n          var state;\n          if (typeof value == 'function') {\n            if (typeof key == 'string' && !has(value, 'name')) {\n              createNonEnumerableProperty(value, 'name', key);\n            }\n            state = enforceInternalState(value);\n            if (!state.source) {\n              state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n            }\n          }\n          if (O === global) {\n            if (simple) O[key] = value;else setGlobal(key, value);\n            return;\n          } else if (!unsafe) {\n            delete O[key];\n          } else if (!noTargetGet && O[key]) {\n            simple = true;\n          }\n          if (simple) O[key] = value;else createNonEnumerableProperty(O, key, value);\n          // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n        })(Function.prototype, 'toString', function toString() {\n          return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/regexp-flags.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/internals/regexp-flags.js ***!\n        \\********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_151811__) {\n        \"use strict\";\n\n        var anObject = __nested_webpack_require_151811__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n\n        // `RegExp.prototype.flags` getter implementation\n        // https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\n        module.exports = function () {\n          var that = anObject(this);\n          var result = '';\n          if (that.global) result += 'g';\n          if (that.ignoreCase) result += 'i';\n          if (that.multiline) result += 'm';\n          if (that.dotAll) result += 's';\n          if (that.unicode) result += 'u';\n          if (that.sticky) result += 'y';\n          return result;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/require-object-coercible.js\": (\n      /*!********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/require-object-coercible.js ***!\n        \\********************************************************************/\n      /***/\n      function (module) {\n        // `RequireObjectCoercible` abstract operation\n        // https://tc39.es/ecma262/#sec-requireobjectcoercible\n        module.exports = function (it) {\n          if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n          return it;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/set-global.js\": (\n      /*!******************************************************!*\\\n        !*** ./node_modules/core-js/internals/set-global.js ***!\n        \\******************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_153500__) {\n        var global = __nested_webpack_require_153500__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        module.exports = function (key, value) {\n          try {\n            // eslint-disable-next-line es/no-object-defineproperty -- safe\n            Object.defineProperty(global, key, {\n              value: value,\n              configurable: true,\n              writable: true\n            });\n          } catch (error) {\n            global[key] = value;\n          }\n          return value;\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/set-to-string-tag.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/set-to-string-tag.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_154418__) {\n        var defineProperty = __nested_webpack_require_154418__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\").f;\n        var has = __nested_webpack_require_154418__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var wellKnownSymbol = __nested_webpack_require_154418__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        module.exports = function (it, TAG, STATIC) {\n          if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n            defineProperty(it, TO_STRING_TAG, {\n              configurable: true,\n              value: TAG\n            });\n          }\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/shared-key.js\": (\n      /*!******************************************************!*\\\n        !*** ./node_modules/core-js/internals/shared-key.js ***!\n        \\******************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_155533__) {\n        var shared = __nested_webpack_require_155533__( /*! ../internals/shared */\"./node_modules/core-js/internals/shared.js\");\n        var uid = __nested_webpack_require_155533__( /*! ../internals/uid */\"./node_modules/core-js/internals/uid.js\");\n        var keys = shared('keys');\n        module.exports = function (key) {\n          return keys[key] || (keys[key] = uid(key));\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/shared-store.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/internals/shared-store.js ***!\n        \\********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_156274__) {\n        var global = __nested_webpack_require_156274__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var setGlobal = __nested_webpack_require_156274__( /*! ../internals/set-global */\"./node_modules/core-js/internals/set-global.js\");\n        var SHARED = '__core-js_shared__';\n        var store = global[SHARED] || setGlobal(SHARED, {});\n        module.exports = store;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/shared.js\": (\n      /*!**************************************************!*\\\n        !*** ./node_modules/core-js/internals/shared.js ***!\n        \\**************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_157005__) {\n        var IS_PURE = __nested_webpack_require_157005__( /*! ../internals/is-pure */\"./node_modules/core-js/internals/is-pure.js\");\n        var store = __nested_webpack_require_157005__( /*! ../internals/shared-store */\"./node_modules/core-js/internals/shared-store.js\");\n        (module.exports = function (key, value) {\n          return store[key] || (store[key] = value !== undefined ? value : {});\n        })('versions', []).push({\n          version: '3.16.0',\n          mode: IS_PURE ? 'pure' : 'global',\n          copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/string-html-forced.js\": (\n      /*!**************************************************************!*\\\n        !*** ./node_modules/core-js/internals/string-html-forced.js ***!\n        \\**************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_157961__) {\n        var fails = __nested_webpack_require_157961__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n\n        // check the existence of a method, lowercase\n        // of a tag and escaping quotes in arguments\n        module.exports = function (METHOD_NAME) {\n          return fails(function () {\n            var test = ''[METHOD_NAME]('\"');\n            return test !== test.toLowerCase() || test.split('\"').length > 3;\n          });\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/string-multibyte.js\": (\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js/internals/string-multibyte.js ***!\n        \\************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_158810__) {\n        var toInteger = __nested_webpack_require_158810__( /*! ../internals/to-integer */\"./node_modules/core-js/internals/to-integer.js\");\n        var toString = __nested_webpack_require_158810__( /*! ../internals/to-string */\"./node_modules/core-js/internals/to-string.js\");\n        var requireObjectCoercible = __nested_webpack_require_158810__( /*! ../internals/require-object-coercible */\"./node_modules/core-js/internals/require-object-coercible.js\");\n\n        // `String.prototype.codePointAt` methods implementation\n        var createMethod = function (CONVERT_TO_STRING) {\n          return function ($this, pos) {\n            var S = toString(requireObjectCoercible($this));\n            var position = toInteger(pos);\n            var size = S.length;\n            var first, second;\n            if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n            first = S.charCodeAt(position);\n            return first < 0xD800 || first > 0xDBFF || position + 1 === size || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n          };\n        };\n        module.exports = {\n          // `String.prototype.codePointAt` method\n          // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n          codeAt: createMethod(false),\n          // `String.prototype.at` method\n          // https://github.com/mathiasbynens/String.prototype.at\n          charAt: createMethod(true)\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/string-trim.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/string-trim.js ***!\n        \\*******************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_160743__) {\n        var requireObjectCoercible = __nested_webpack_require_160743__( /*! ../internals/require-object-coercible */\"./node_modules/core-js/internals/require-object-coercible.js\");\n        var toString = __nested_webpack_require_160743__( /*! ../internals/to-string */\"./node_modules/core-js/internals/to-string.js\");\n        var whitespaces = __nested_webpack_require_160743__( /*! ../internals/whitespaces */\"./node_modules/core-js/internals/whitespaces.js\");\n        var whitespace = '[' + whitespaces + ']';\n        var ltrim = RegExp('^' + whitespace + whitespace + '*');\n        var rtrim = RegExp(whitespace + whitespace + '*$');\n\n        // `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\n        var createMethod = function (TYPE) {\n          return function ($this) {\n            var string = toString(requireObjectCoercible($this));\n            if (TYPE & 1) string = string.replace(ltrim, '');\n            if (TYPE & 2) string = string.replace(rtrim, '');\n            return string;\n          };\n        };\n        module.exports = {\n          // `String.prototype.{ trimLeft, trimStart }` methods\n          // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n          start: createMethod(1),\n          // `String.prototype.{ trimRight, trimEnd }` methods\n          // https://tc39.es/ecma262/#sec-string.prototype.trimend\n          end: createMethod(2),\n          // `String.prototype.trim` method\n          // https://tc39.es/ecma262/#sec-string.prototype.trim\n          trim: createMethod(3)\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-absolute-index.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-absolute-index.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_162669__) {\n        var toInteger = __nested_webpack_require_162669__( /*! ../internals/to-integer */\"./node_modules/core-js/internals/to-integer.js\");\n        var max = Math.max;\n        var min = Math.min;\n\n        // Helper for a popular repeating case of the spec:\n        // Let integer be ? ToInteger(index).\n        // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\n        module.exports = function (index, length) {\n          var integer = toInteger(index);\n          return integer < 0 ? max(integer + length, 0) : min(integer, length);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-indexed-object.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-indexed-object.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_163651__) {\n        // toObject with fallback for non-array-like ES3 strings\n        var IndexedObject = __nested_webpack_require_163651__( /*! ../internals/indexed-object */\"./node_modules/core-js/internals/indexed-object.js\");\n        var requireObjectCoercible = __nested_webpack_require_163651__( /*! ../internals/require-object-coercible */\"./node_modules/core-js/internals/require-object-coercible.js\");\n        module.exports = function (it) {\n          return IndexedObject(requireObjectCoercible(it));\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-integer.js\": (\n      /*!******************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-integer.js ***!\n        \\******************************************************/\n      /***/\n      function (module) {\n        var ceil = Math.ceil;\n        var floor = Math.floor;\n\n        // `ToInteger` abstract operation\n        // https://tc39.es/ecma262/#sec-tointeger\n        module.exports = function (argument) {\n          return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-length.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-length.js ***!\n        \\*****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_165127__) {\n        var toInteger = __nested_webpack_require_165127__( /*! ../internals/to-integer */\"./node_modules/core-js/internals/to-integer.js\");\n        var min = Math.min;\n\n        // `ToLength` abstract operation\n        // https://tc39.es/ecma262/#sec-tolength\n        module.exports = function (argument) {\n          return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-object.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-object.js ***!\n        \\*****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_165911__) {\n        var requireObjectCoercible = __nested_webpack_require_165911__( /*! ../internals/require-object-coercible */\"./node_modules/core-js/internals/require-object-coercible.js\");\n\n        // `ToObject` abstract operation\n        // https://tc39.es/ecma262/#sec-toobject\n        module.exports = function (argument) {\n          return Object(requireObjectCoercible(argument));\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-primitive.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-primitive.js ***!\n        \\********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_166664__) {\n        var isObject = __nested_webpack_require_166664__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var isSymbol = __nested_webpack_require_166664__( /*! ../internals/is-symbol */\"./node_modules/core-js/internals/is-symbol.js\");\n        var ordinaryToPrimitive = __nested_webpack_require_166664__( /*! ../internals/ordinary-to-primitive */\"./node_modules/core-js/internals/ordinary-to-primitive.js\");\n        var wellKnownSymbol = __nested_webpack_require_166664__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n        // `ToPrimitive` abstract operation\n        // https://tc39.es/ecma262/#sec-toprimitive\n        module.exports = function (input, pref) {\n          if (!isObject(input) || isSymbol(input)) return input;\n          var exoticToPrim = input[TO_PRIMITIVE];\n          var result;\n          if (exoticToPrim !== undefined) {\n            if (pref === undefined) pref = 'default';\n            result = exoticToPrim.call(input, pref);\n            if (!isObject(result) || isSymbol(result)) return result;\n            throw TypeError(\"Can't convert object to primitive value\");\n          }\n          if (pref === undefined) pref = 'number';\n          return ordinaryToPrimitive(input, pref);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-property-key.js\": (\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-property-key.js ***!\n        \\***********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_168365__) {\n        var toPrimitive = __nested_webpack_require_168365__( /*! ../internals/to-primitive */\"./node_modules/core-js/internals/to-primitive.js\");\n        var isSymbol = __nested_webpack_require_168365__( /*! ../internals/is-symbol */\"./node_modules/core-js/internals/is-symbol.js\");\n\n        // `ToPropertyKey` abstract operation\n        // https://tc39.es/ecma262/#sec-topropertykey\n        module.exports = function (argument) {\n          var key = toPrimitive(argument, 'string');\n          return isSymbol(key) ? key : String(key);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-string-tag-support.js\": (\n      /*!*****************************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-string-tag-support.js ***!\n        \\*****************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_169298__) {\n        var wellKnownSymbol = __nested_webpack_require_169298__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        var test = {};\n        test[TO_STRING_TAG] = 'z';\n        module.exports = String(test) === '[object z]';\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/to-string.js\": (\n      /*!*****************************************************!*\\\n        !*** ./node_modules/core-js/internals/to-string.js ***!\n        \\*****************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_169984__) {\n        var isSymbol = __nested_webpack_require_169984__( /*! ../internals/is-symbol */\"./node_modules/core-js/internals/is-symbol.js\");\n        module.exports = function (argument) {\n          if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a string');\n          return String(argument);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/uid.js\": (\n      /*!***********************************************!*\\\n        !*** ./node_modules/core-js/internals/uid.js ***!\n        \\***********************************************/\n      /***/\n      function (module) {\n        var id = 0;\n        var postfix = Math.random();\n        module.exports = function (key) {\n          return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/use-symbol-as-uid.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/use-symbol-as-uid.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_171205__) {\n        /* eslint-disable es/no-symbol -- required for testing */\n        var NATIVE_SYMBOL = __nested_webpack_require_171205__( /*! ../internals/native-symbol */\"./node_modules/core-js/internals/native-symbol.js\");\n        module.exports = NATIVE_SYMBOL && !Symbol.sham && typeof Symbol.iterator == 'symbol';\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/well-known-symbol-wrapped.js\": (\n      /*!*********************************************************************!*\\\n        !*** ./node_modules/core-js/internals/well-known-symbol-wrapped.js ***!\n        \\*********************************************************************/\n      /***/\n      function (__unused_webpack_module, exports, __nested_webpack_require_171931__) {\n        var wellKnownSymbol = __nested_webpack_require_171931__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        exports.f = wellKnownSymbol;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/well-known-symbol.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/internals/well-known-symbol.js ***!\n        \\*************************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_172512__) {\n        var global = __nested_webpack_require_172512__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var shared = __nested_webpack_require_172512__( /*! ../internals/shared */\"./node_modules/core-js/internals/shared.js\");\n        var has = __nested_webpack_require_172512__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var uid = __nested_webpack_require_172512__( /*! ../internals/uid */\"./node_modules/core-js/internals/uid.js\");\n        var NATIVE_SYMBOL = __nested_webpack_require_172512__( /*! ../internals/native-symbol */\"./node_modules/core-js/internals/native-symbol.js\");\n        var USE_SYMBOL_AS_UID = __nested_webpack_require_172512__( /*! ../internals/use-symbol-as-uid */\"./node_modules/core-js/internals/use-symbol-as-uid.js\");\n        var WellKnownSymbolsStore = shared('wks');\n        var Symbol = global.Symbol;\n        var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n        module.exports = function (name) {\n          if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n            if (NATIVE_SYMBOL && has(Symbol, name)) {\n              WellKnownSymbolsStore[name] = Symbol[name];\n            } else {\n              WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n            }\n          }\n          return WellKnownSymbolsStore[name];\n        };\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/internals/whitespaces.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/internals/whitespaces.js ***!\n        \\*******************************************************/\n      /***/\n      function (module) {\n        // a string of all valid unicode whitespaces\n        module.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' + '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.array.concat.js\": (\n      /*!*********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.array.concat.js ***!\n        \\*********************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_174857__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_174857__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var fails = __nested_webpack_require_174857__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var isArray = __nested_webpack_require_174857__( /*! ../internals/is-array */\"./node_modules/core-js/internals/is-array.js\");\n        var isObject = __nested_webpack_require_174857__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var toObject = __nested_webpack_require_174857__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var toLength = __nested_webpack_require_174857__( /*! ../internals/to-length */\"./node_modules/core-js/internals/to-length.js\");\n        var createProperty = __nested_webpack_require_174857__( /*! ../internals/create-property */\"./node_modules/core-js/internals/create-property.js\");\n        var arraySpeciesCreate = __nested_webpack_require_174857__( /*! ../internals/array-species-create */\"./node_modules/core-js/internals/array-species-create.js\");\n        var arrayMethodHasSpeciesSupport = __nested_webpack_require_174857__( /*! ../internals/array-method-has-species-support */\"./node_modules/core-js/internals/array-method-has-species-support.js\");\n        var wellKnownSymbol = __nested_webpack_require_174857__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var V8_VERSION = __nested_webpack_require_174857__( /*! ../internals/engine-v8-version */\"./node_modules/core-js/internals/engine-v8-version.js\");\n        var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\n        var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\n        var MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n        // We can't use this feature detection in V8 since it causes\n        // deoptimization and serious performance degradation\n        // https://github.com/zloirock/core-js/issues/679\n        var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n          var array = [];\n          array[IS_CONCAT_SPREADABLE] = false;\n          return array.concat()[0] !== array;\n        });\n        var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n        var isConcatSpreadable = function (O) {\n          if (!isObject(O)) return false;\n          var spreadable = O[IS_CONCAT_SPREADABLE];\n          return spreadable !== undefined ? !!spreadable : isArray(O);\n        };\n        var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n        // `Array.prototype.concat` method\n        // https://tc39.es/ecma262/#sec-array.prototype.concat\n        // with adding support of @@isConcatSpreadable and @@species\n        $({\n          target: 'Array',\n          proto: true,\n          forced: FORCED\n        }, {\n          // eslint-disable-next-line no-unused-vars -- required for `.length`\n          concat: function concat(arg) {\n            var O = toObject(this);\n            var A = arraySpeciesCreate(O, 0);\n            var n = 0;\n            var i, k, length, len, E;\n            for (i = -1, length = arguments.length; i < length; i++) {\n              E = i === -1 ? O : arguments[i];\n              if (isConcatSpreadable(E)) {\n                len = toLength(E.length);\n                if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n                for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n              } else {\n                if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n                createProperty(A, n++, E);\n              }\n            }\n            A.length = n;\n            return A;\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.array.iterator.js\": (\n      /*!***********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.array.iterator.js ***!\n        \\***********************************************************/\n      /***/\n      function (module, __unused_webpack_exports, __nested_webpack_require_178912__) {\n        \"use strict\";\n\n        var toIndexedObject = __nested_webpack_require_178912__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var addToUnscopables = __nested_webpack_require_178912__( /*! ../internals/add-to-unscopables */\"./node_modules/core-js/internals/add-to-unscopables.js\");\n        var Iterators = __nested_webpack_require_178912__( /*! ../internals/iterators */\"./node_modules/core-js/internals/iterators.js\");\n        var InternalStateModule = __nested_webpack_require_178912__( /*! ../internals/internal-state */\"./node_modules/core-js/internals/internal-state.js\");\n        var defineIterator = __nested_webpack_require_178912__( /*! ../internals/define-iterator */\"./node_modules/core-js/internals/define-iterator.js\");\n        var ARRAY_ITERATOR = 'Array Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n        // `Array.prototype.entries` method\n        // https://tc39.es/ecma262/#sec-array.prototype.entries\n        // `Array.prototype.keys` method\n        // https://tc39.es/ecma262/#sec-array.prototype.keys\n        // `Array.prototype.values` method\n        // https://tc39.es/ecma262/#sec-array.prototype.values\n        // `Array.prototype[@@iterator]` method\n        // https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n        // `CreateArrayIterator` internal method\n        // https://tc39.es/ecma262/#sec-createarrayiterator\n        module.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n          setInternalState(this, {\n            type: ARRAY_ITERATOR,\n            target: toIndexedObject(iterated),\n            // target\n            index: 0,\n            // next index\n            kind: kind // kind\n          });\n          // `%ArrayIteratorPrototype%.next` method\n          // https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n        }, function () {\n          var state = getInternalState(this);\n          var target = state.target;\n          var kind = state.kind;\n          var index = state.index++;\n          if (!target || index >= target.length) {\n            state.target = undefined;\n            return {\n              value: undefined,\n              done: true\n            };\n          }\n          if (kind == 'keys') return {\n            value: index,\n            done: false\n          };\n          if (kind == 'values') return {\n            value: target[index],\n            done: false\n          };\n          return {\n            value: [index, target[index]],\n            done: false\n          };\n        }, 'values');\n\n        // argumentsList[@@iterator] is %ArrayProto_values%\n        // https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n        // https://tc39.es/ecma262/#sec-createmappedargumentsobject\n        Iterators.Arguments = Iterators.Array;\n\n        // https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\n        addToUnscopables('keys');\n        addToUnscopables('values');\n        addToUnscopables('entries');\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.array.join.js\": (\n      /*!*******************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.array.join.js ***!\n        \\*******************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_182322__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_182322__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var IndexedObject = __nested_webpack_require_182322__( /*! ../internals/indexed-object */\"./node_modules/core-js/internals/indexed-object.js\");\n        var toIndexedObject = __nested_webpack_require_182322__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var arrayMethodIsStrict = __nested_webpack_require_182322__( /*! ../internals/array-method-is-strict */\"./node_modules/core-js/internals/array-method-is-strict.js\");\n        var nativeJoin = [].join;\n        var ES3_STRINGS = IndexedObject != Object;\n        var STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n        // `Array.prototype.join` method\n        // https://tc39.es/ecma262/#sec-array.prototype.join\n        $({\n          target: 'Array',\n          proto: true,\n          forced: ES3_STRINGS || !STRICT_METHOD\n        }, {\n          join: function join(separator) {\n            return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.array.map.js\": (\n      /*!******************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.array.map.js ***!\n        \\******************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_183828__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_183828__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var $map = __nested_webpack_require_183828__( /*! ../internals/array-iteration */\"./node_modules/core-js/internals/array-iteration.js\").map;\n        var arrayMethodHasSpeciesSupport = __nested_webpack_require_183828__( /*! ../internals/array-method-has-species-support */\"./node_modules/core-js/internals/array-method-has-species-support.js\");\n        var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n        // `Array.prototype.map` method\n        // https://tc39.es/ecma262/#sec-array.prototype.map\n        // with adding support of @@species\n        $({\n          target: 'Array',\n          proto: true,\n          forced: !HAS_SPECIES_SUPPORT\n        }, {\n          map: function map(callbackfn /* , thisArg */) {\n            return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.array.slice.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.array.slice.js ***!\n        \\********************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_185184__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_185184__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var isObject = __nested_webpack_require_185184__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var isArray = __nested_webpack_require_185184__( /*! ../internals/is-array */\"./node_modules/core-js/internals/is-array.js\");\n        var toAbsoluteIndex = __nested_webpack_require_185184__( /*! ../internals/to-absolute-index */\"./node_modules/core-js/internals/to-absolute-index.js\");\n        var toLength = __nested_webpack_require_185184__( /*! ../internals/to-length */\"./node_modules/core-js/internals/to-length.js\");\n        var toIndexedObject = __nested_webpack_require_185184__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var createProperty = __nested_webpack_require_185184__( /*! ../internals/create-property */\"./node_modules/core-js/internals/create-property.js\");\n        var wellKnownSymbol = __nested_webpack_require_185184__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var arrayMethodHasSpeciesSupport = __nested_webpack_require_185184__( /*! ../internals/array-method-has-species-support */\"./node_modules/core-js/internals/array-method-has-species-support.js\");\n        var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n        var SPECIES = wellKnownSymbol('species');\n        var nativeSlice = [].slice;\n        var max = Math.max;\n\n        // `Array.prototype.slice` method\n        // https://tc39.es/ecma262/#sec-array.prototype.slice\n        // fallback for not array-like ES3 strings and DOM objects\n        $({\n          target: 'Array',\n          proto: true,\n          forced: !HAS_SPECIES_SUPPORT\n        }, {\n          slice: function slice(start, end) {\n            var O = toIndexedObject(this);\n            var length = toLength(O.length);\n            var k = toAbsoluteIndex(start, length);\n            var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n            // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n            var Constructor, result, n;\n            if (isArray(O)) {\n              Constructor = O.constructor;\n              // cross-realm fallback\n              if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n                Constructor = undefined;\n              } else if (isObject(Constructor)) {\n                Constructor = Constructor[SPECIES];\n                if (Constructor === null) Constructor = undefined;\n              }\n              if (Constructor === Array || Constructor === undefined) {\n                return nativeSlice.call(O, k, fin);\n              }\n            }\n            result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n            for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n            result.length = n;\n            return result;\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.function.name.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.function.name.js ***!\n        \\**********************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_188597__) {\n        var DESCRIPTORS = __nested_webpack_require_188597__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var defineProperty = __nested_webpack_require_188597__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\").f;\n        var FunctionPrototype = Function.prototype;\n        var FunctionPrototypeToString = FunctionPrototype.toString;\n        var nameRE = /^\\s*function ([^ (]*)/;\n        var NAME = 'name';\n\n        // Function instances `.name` property\n        // https://tc39.es/ecma262/#sec-function-instances-name\n        if (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n          defineProperty(FunctionPrototype, NAME, {\n            configurable: true,\n            get: function () {\n              try {\n                return FunctionPrototypeToString.call(this).match(nameRE)[1];\n              } catch (error) {\n                return '';\n              }\n            }\n          });\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.number.constructor.js\": (\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.number.constructor.js ***!\n        \\***************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_189997__) {\n        \"use strict\";\n\n        var DESCRIPTORS = __nested_webpack_require_189997__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var global = __nested_webpack_require_189997__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var isForced = __nested_webpack_require_189997__( /*! ../internals/is-forced */\"./node_modules/core-js/internals/is-forced.js\");\n        var redefine = __nested_webpack_require_189997__( /*! ../internals/redefine */\"./node_modules/core-js/internals/redefine.js\");\n        var has = __nested_webpack_require_189997__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var classof = __nested_webpack_require_189997__( /*! ../internals/classof-raw */\"./node_modules/core-js/internals/classof-raw.js\");\n        var inheritIfRequired = __nested_webpack_require_189997__( /*! ../internals/inherit-if-required */\"./node_modules/core-js/internals/inherit-if-required.js\");\n        var isSymbol = __nested_webpack_require_189997__( /*! ../internals/is-symbol */\"./node_modules/core-js/internals/is-symbol.js\");\n        var toPrimitive = __nested_webpack_require_189997__( /*! ../internals/to-primitive */\"./node_modules/core-js/internals/to-primitive.js\");\n        var fails = __nested_webpack_require_189997__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var create = __nested_webpack_require_189997__( /*! ../internals/object-create */\"./node_modules/core-js/internals/object-create.js\");\n        var getOwnPropertyNames = __nested_webpack_require_189997__( /*! ../internals/object-get-own-property-names */\"./node_modules/core-js/internals/object-get-own-property-names.js\").f;\n        var getOwnPropertyDescriptor = __nested_webpack_require_189997__( /*! ../internals/object-get-own-property-descriptor */\"./node_modules/core-js/internals/object-get-own-property-descriptor.js\").f;\n        var defineProperty = __nested_webpack_require_189997__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\").f;\n        var trim = __nested_webpack_require_189997__( /*! ../internals/string-trim */\"./node_modules/core-js/internals/string-trim.js\").trim;\n        var NUMBER = 'Number';\n        var NativeNumber = global[NUMBER];\n        var NumberPrototype = NativeNumber.prototype;\n\n        // Opera ~12 has broken Object#toString\n        var BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n        // `ToNumber` abstract operation\n        // https://tc39.es/ecma262/#sec-tonumber\n        var toNumber = function (argument) {\n          if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a number');\n          var it = toPrimitive(argument, 'number');\n          var first, third, radix, maxCode, digits, length, index, code;\n          if (typeof it == 'string' && it.length > 2) {\n            it = trim(it);\n            first = it.charCodeAt(0);\n            if (first === 43 || first === 45) {\n              third = it.charCodeAt(2);\n              if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n            } else if (first === 48) {\n              switch (it.charCodeAt(1)) {\n                case 66:\n                case 98:\n                  radix = 2;\n                  maxCode = 49;\n                  break;\n                // fast equal of /^0b[01]+$/i\n                case 79:\n                case 111:\n                  radix = 8;\n                  maxCode = 55;\n                  break;\n                // fast equal of /^0o[0-7]+$/i\n                default:\n                  return +it;\n              }\n              digits = it.slice(2);\n              length = digits.length;\n              for (index = 0; index < length; index++) {\n                code = digits.charCodeAt(index);\n                // parseInt parses a string to a first unavailable symbol\n                // but ToNumber should return NaN if a string contains unavailable symbols\n                if (code < 48 || code > maxCode) return NaN;\n              }\n              return parseInt(digits, radix);\n            }\n          }\n          return +it;\n        };\n\n        // `Number` constructor\n        // https://tc39.es/ecma262/#sec-number-constructor\n        if (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n          var NumberWrapper = function Number(value) {\n            var it = arguments.length < 1 ? 0 : value;\n            var dummy = this;\n            return dummy instanceof NumberWrapper\n            // check on 1..constructor(foo) case\n            && (BROKEN_CLASSOF ? fails(function () {\n              NumberPrototype.valueOf.call(dummy);\n            }) : classof(dummy) != NUMBER) ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n          };\n          for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n            // ES3:\n            'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n            // ES2015 (in case, if modules with ES2015 Number statics required before):\n            'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' + 'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n            // ESNext\n            'fromString,range').split(','), j = 0, key; keys.length > j; j++) {\n            if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n              defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n            }\n          }\n          NumberWrapper.prototype = NumberPrototype;\n          NumberPrototype.constructor = NumberWrapper;\n          redefine(global, NUMBER, NumberWrapper);\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.object.assign.js\": (\n      /*!**********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.object.assign.js ***!\n        \\**********************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_195962__) {\n        var $ = __nested_webpack_require_195962__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var assign = __nested_webpack_require_195962__( /*! ../internals/object-assign */\"./node_modules/core-js/internals/object-assign.js\");\n\n        // `Object.assign` method\n        // https://tc39.es/ecma262/#sec-object.assign\n        // eslint-disable-next-line es/no-object-assign -- required for testing\n        $({\n          target: 'Object',\n          stat: true,\n          forced: Object.assign !== assign\n        }, {\n          assign: assign\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.object.keys.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.object.keys.js ***!\n        \\********************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_196920__) {\n        var $ = __nested_webpack_require_196920__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var toObject = __nested_webpack_require_196920__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var nativeKeys = __nested_webpack_require_196920__( /*! ../internals/object-keys */\"./node_modules/core-js/internals/object-keys.js\");\n        var fails = __nested_webpack_require_196920__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var FAILS_ON_PRIMITIVES = fails(function () {\n          nativeKeys(1);\n        });\n\n        // `Object.keys` method\n        // https://tc39.es/ecma262/#sec-object.keys\n        $({\n          target: 'Object',\n          stat: true,\n          forced: FAILS_ON_PRIMITIVES\n        }, {\n          keys: function keys(it) {\n            return nativeKeys(toObject(it));\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.object.to-string.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.object.to-string.js ***!\n        \\*************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_198203__) {\n        var TO_STRING_TAG_SUPPORT = __nested_webpack_require_198203__( /*! ../internals/to-string-tag-support */\"./node_modules/core-js/internals/to-string-tag-support.js\");\n        var redefine = __nested_webpack_require_198203__( /*! ../internals/redefine */\"./node_modules/core-js/internals/redefine.js\");\n        var toString = __nested_webpack_require_198203__( /*! ../internals/object-to-string */\"./node_modules/core-js/internals/object-to-string.js\");\n\n        // `Object.prototype.toString` method\n        // https://tc39.es/ecma262/#sec-object.prototype.tostring\n        if (!TO_STRING_TAG_SUPPORT) {\n          redefine(Object.prototype, 'toString', toString, {\n            unsafe: true\n          });\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.regexp.to-string.js\": (\n      /*!*************************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.regexp.to-string.js ***!\n        \\*************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_199297__) {\n        \"use strict\";\n\n        var redefine = __nested_webpack_require_199297__( /*! ../internals/redefine */\"./node_modules/core-js/internals/redefine.js\");\n        var anObject = __nested_webpack_require_199297__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n        var $toString = __nested_webpack_require_199297__( /*! ../internals/to-string */\"./node_modules/core-js/internals/to-string.js\");\n        var fails = __nested_webpack_require_199297__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var flags = __nested_webpack_require_199297__( /*! ../internals/regexp-flags */\"./node_modules/core-js/internals/regexp-flags.js\");\n        var TO_STRING = 'toString';\n        var RegExpPrototype = RegExp.prototype;\n        var nativeToString = RegExpPrototype[TO_STRING];\n        var NOT_GENERIC = fails(function () {\n          return nativeToString.call({\n            source: 'a',\n            flags: 'b'\n          }) != '/a/b';\n        });\n        // FF44- RegExp#toString has a wrong name\n        var INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n        // `RegExp.prototype.toString` method\n        // https://tc39.es/ecma262/#sec-regexp.prototype.tostring\n        if (NOT_GENERIC || INCORRECT_NAME) {\n          redefine(RegExp.prototype, TO_STRING, function toString() {\n            var R = anObject(this);\n            var p = $toString(R.source);\n            var rf = R.flags;\n            var f = $toString(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n            return '/' + p + '/' + f;\n          }, {\n            unsafe: true\n          });\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.string.iterator.js\": (\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.string.iterator.js ***!\n        \\************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_201323__) {\n        \"use strict\";\n\n        var charAt = __nested_webpack_require_201323__( /*! ../internals/string-multibyte */\"./node_modules/core-js/internals/string-multibyte.js\").charAt;\n        var toString = __nested_webpack_require_201323__( /*! ../internals/to-string */\"./node_modules/core-js/internals/to-string.js\");\n        var InternalStateModule = __nested_webpack_require_201323__( /*! ../internals/internal-state */\"./node_modules/core-js/internals/internal-state.js\");\n        var defineIterator = __nested_webpack_require_201323__( /*! ../internals/define-iterator */\"./node_modules/core-js/internals/define-iterator.js\");\n        var STRING_ITERATOR = 'String Iterator';\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n        // `String.prototype[@@iterator]` method\n        // https://tc39.es/ecma262/#sec-string.prototype-@@iterator\n        defineIterator(String, 'String', function (iterated) {\n          setInternalState(this, {\n            type: STRING_ITERATOR,\n            string: toString(iterated),\n            index: 0\n          });\n          // `%StringIteratorPrototype%.next` method\n          // https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n        }, function next() {\n          var state = getInternalState(this);\n          var string = state.string;\n          var index = state.index;\n          var point;\n          if (index >= string.length) return {\n            value: undefined,\n            done: true\n          };\n          point = charAt(string, index);\n          state.index += point.length;\n          return {\n            value: point,\n            done: false\n          };\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.string.link.js\": (\n      /*!********************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.string.link.js ***!\n        \\********************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_203382__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_203382__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var createHTML = __nested_webpack_require_203382__( /*! ../internals/create-html */\"./node_modules/core-js/internals/create-html.js\");\n        var forcedStringHTMLMethod = __nested_webpack_require_203382__( /*! ../internals/string-html-forced */\"./node_modules/core-js/internals/string-html-forced.js\");\n\n        // `String.prototype.link` method\n        // https://tc39.es/ecma262/#sec-string.prototype.link\n        $({\n          target: 'String',\n          proto: true,\n          forced: forcedStringHTMLMethod('link')\n        }, {\n          link: function link(url) {\n            return createHTML(this, 'a', 'href', url);\n          }\n        });\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.symbol.description.js\": (\n      /*!***************************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.symbol.description.js ***!\n        \\***************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_204568__) {\n        \"use strict\";\n\n        // `Symbol.prototype.description` getter\n        // https://tc39.es/ecma262/#sec-symbol.prototype.description\n        var $ = __nested_webpack_require_204568__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var DESCRIPTORS = __nested_webpack_require_204568__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var global = __nested_webpack_require_204568__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var has = __nested_webpack_require_204568__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var isObject = __nested_webpack_require_204568__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var defineProperty = __nested_webpack_require_204568__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\").f;\n        var copyConstructorProperties = __nested_webpack_require_204568__( /*! ../internals/copy-constructor-properties */\"./node_modules/core-js/internals/copy-constructor-properties.js\");\n        var NativeSymbol = global.Symbol;\n        if (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n        // Safari 12 bug\n        NativeSymbol().description !== undefined)) {\n          var EmptyStringDescriptionStore = {};\n          // wrap Symbol constructor for correct work with undefined description\n          var SymbolWrapper = function Symbol() {\n            var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n            var result = this instanceof SymbolWrapper ? new NativeSymbol(description)\n            // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n            : description === undefined ? NativeSymbol() : NativeSymbol(description);\n            if (description === '') EmptyStringDescriptionStore[result] = true;\n            return result;\n          };\n          copyConstructorProperties(SymbolWrapper, NativeSymbol);\n          var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n          symbolPrototype.constructor = SymbolWrapper;\n          var symbolToString = symbolPrototype.toString;\n          var native = String(NativeSymbol('test')) == 'Symbol(test)';\n          var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n          defineProperty(symbolPrototype, 'description', {\n            configurable: true,\n            get: function description() {\n              var symbol = isObject(this) ? this.valueOf() : this;\n              var string = symbolToString.call(symbol);\n              if (has(EmptyStringDescriptionStore, symbol)) return '';\n              var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n              return desc === '' ? undefined : desc;\n            }\n          });\n          $({\n            global: true,\n            forced: true\n          }, {\n            Symbol: SymbolWrapper\n          });\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.symbol.iterator.js\": (\n      /*!************************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.symbol.iterator.js ***!\n        \\************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_207945__) {\n        var defineWellKnownSymbol = __nested_webpack_require_207945__( /*! ../internals/define-well-known-symbol */\"./node_modules/core-js/internals/define-well-known-symbol.js\");\n\n        // `Symbol.iterator` well-known symbol\n        // https://tc39.es/ecma262/#sec-symbol.iterator\n        defineWellKnownSymbol('iterator');\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/es.symbol.js\": (\n      /*!***************************************************!*\\\n        !*** ./node_modules/core-js/modules/es.symbol.js ***!\n        \\***************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_208633__) {\n        \"use strict\";\n\n        var $ = __nested_webpack_require_208633__( /*! ../internals/export */\"./node_modules/core-js/internals/export.js\");\n        var global = __nested_webpack_require_208633__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var getBuiltIn = __nested_webpack_require_208633__( /*! ../internals/get-built-in */\"./node_modules/core-js/internals/get-built-in.js\");\n        var IS_PURE = __nested_webpack_require_208633__( /*! ../internals/is-pure */\"./node_modules/core-js/internals/is-pure.js\");\n        var DESCRIPTORS = __nested_webpack_require_208633__( /*! ../internals/descriptors */\"./node_modules/core-js/internals/descriptors.js\");\n        var NATIVE_SYMBOL = __nested_webpack_require_208633__( /*! ../internals/native-symbol */\"./node_modules/core-js/internals/native-symbol.js\");\n        var fails = __nested_webpack_require_208633__( /*! ../internals/fails */\"./node_modules/core-js/internals/fails.js\");\n        var has = __nested_webpack_require_208633__( /*! ../internals/has */\"./node_modules/core-js/internals/has.js\");\n        var isArray = __nested_webpack_require_208633__( /*! ../internals/is-array */\"./node_modules/core-js/internals/is-array.js\");\n        var isObject = __nested_webpack_require_208633__( /*! ../internals/is-object */\"./node_modules/core-js/internals/is-object.js\");\n        var isSymbol = __nested_webpack_require_208633__( /*! ../internals/is-symbol */\"./node_modules/core-js/internals/is-symbol.js\");\n        var anObject = __nested_webpack_require_208633__( /*! ../internals/an-object */\"./node_modules/core-js/internals/an-object.js\");\n        var toObject = __nested_webpack_require_208633__( /*! ../internals/to-object */\"./node_modules/core-js/internals/to-object.js\");\n        var toIndexedObject = __nested_webpack_require_208633__( /*! ../internals/to-indexed-object */\"./node_modules/core-js/internals/to-indexed-object.js\");\n        var toPropertyKey = __nested_webpack_require_208633__( /*! ../internals/to-property-key */\"./node_modules/core-js/internals/to-property-key.js\");\n        var $toString = __nested_webpack_require_208633__( /*! ../internals/to-string */\"./node_modules/core-js/internals/to-string.js\");\n        var createPropertyDescriptor = __nested_webpack_require_208633__( /*! ../internals/create-property-descriptor */\"./node_modules/core-js/internals/create-property-descriptor.js\");\n        var nativeObjectCreate = __nested_webpack_require_208633__( /*! ../internals/object-create */\"./node_modules/core-js/internals/object-create.js\");\n        var objectKeys = __nested_webpack_require_208633__( /*! ../internals/object-keys */\"./node_modules/core-js/internals/object-keys.js\");\n        var getOwnPropertyNamesModule = __nested_webpack_require_208633__( /*! ../internals/object-get-own-property-names */\"./node_modules/core-js/internals/object-get-own-property-names.js\");\n        var getOwnPropertyNamesExternal = __nested_webpack_require_208633__( /*! ../internals/object-get-own-property-names-external */\"./node_modules/core-js/internals/object-get-own-property-names-external.js\");\n        var getOwnPropertySymbolsModule = __nested_webpack_require_208633__( /*! ../internals/object-get-own-property-symbols */\"./node_modules/core-js/internals/object-get-own-property-symbols.js\");\n        var getOwnPropertyDescriptorModule = __nested_webpack_require_208633__( /*! ../internals/object-get-own-property-descriptor */\"./node_modules/core-js/internals/object-get-own-property-descriptor.js\");\n        var definePropertyModule = __nested_webpack_require_208633__( /*! ../internals/object-define-property */\"./node_modules/core-js/internals/object-define-property.js\");\n        var propertyIsEnumerableModule = __nested_webpack_require_208633__( /*! ../internals/object-property-is-enumerable */\"./node_modules/core-js/internals/object-property-is-enumerable.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_208633__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var redefine = __nested_webpack_require_208633__( /*! ../internals/redefine */\"./node_modules/core-js/internals/redefine.js\");\n        var shared = __nested_webpack_require_208633__( /*! ../internals/shared */\"./node_modules/core-js/internals/shared.js\");\n        var sharedKey = __nested_webpack_require_208633__( /*! ../internals/shared-key */\"./node_modules/core-js/internals/shared-key.js\");\n        var hiddenKeys = __nested_webpack_require_208633__( /*! ../internals/hidden-keys */\"./node_modules/core-js/internals/hidden-keys.js\");\n        var uid = __nested_webpack_require_208633__( /*! ../internals/uid */\"./node_modules/core-js/internals/uid.js\");\n        var wellKnownSymbol = __nested_webpack_require_208633__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var wrappedWellKnownSymbolModule = __nested_webpack_require_208633__( /*! ../internals/well-known-symbol-wrapped */\"./node_modules/core-js/internals/well-known-symbol-wrapped.js\");\n        var defineWellKnownSymbol = __nested_webpack_require_208633__( /*! ../internals/define-well-known-symbol */\"./node_modules/core-js/internals/define-well-known-symbol.js\");\n        var setToStringTag = __nested_webpack_require_208633__( /*! ../internals/set-to-string-tag */\"./node_modules/core-js/internals/set-to-string-tag.js\");\n        var InternalStateModule = __nested_webpack_require_208633__( /*! ../internals/internal-state */\"./node_modules/core-js/internals/internal-state.js\");\n        var $forEach = __nested_webpack_require_208633__( /*! ../internals/array-iteration */\"./node_modules/core-js/internals/array-iteration.js\").forEach;\n        var HIDDEN = sharedKey('hidden');\n        var SYMBOL = 'Symbol';\n        var PROTOTYPE = 'prototype';\n        var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n        var setInternalState = InternalStateModule.set;\n        var getInternalState = InternalStateModule.getterFor(SYMBOL);\n        var ObjectPrototype = Object[PROTOTYPE];\n        var $Symbol = global.Symbol;\n        var $stringify = getBuiltIn('JSON', 'stringify');\n        var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n        var nativeDefineProperty = definePropertyModule.f;\n        var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\n        var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\n        var AllSymbols = shared('symbols');\n        var ObjectPrototypeSymbols = shared('op-symbols');\n        var StringToSymbolRegistry = shared('string-to-symbol-registry');\n        var SymbolToStringRegistry = shared('symbol-to-string-registry');\n        var WellKnownSymbolsStore = shared('wks');\n        var QObject = global.QObject;\n        // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n        var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n        // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n        var setSymbolDescriptor = DESCRIPTORS && fails(function () {\n          return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n            get: function () {\n              return nativeDefineProperty(this, 'a', {\n                value: 7\n              }).a;\n            }\n          })).a != 7;\n        }) ? function (O, P, Attributes) {\n          var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n          if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n          nativeDefineProperty(O, P, Attributes);\n          if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n            nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n          }\n        } : nativeDefineProperty;\n        var wrap = function (tag, description) {\n          var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n          setInternalState(symbol, {\n            type: SYMBOL,\n            tag: tag,\n            description: description\n          });\n          if (!DESCRIPTORS) symbol.description = description;\n          return symbol;\n        };\n        var $defineProperty = function defineProperty(O, P, Attributes) {\n          if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n          anObject(O);\n          var key = toPropertyKey(P);\n          anObject(Attributes);\n          if (has(AllSymbols, key)) {\n            if (!Attributes.enumerable) {\n              if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n              O[HIDDEN][key] = true;\n            } else {\n              if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n              Attributes = nativeObjectCreate(Attributes, {\n                enumerable: createPropertyDescriptor(0, false)\n              });\n            }\n            return setSymbolDescriptor(O, key, Attributes);\n          }\n          return nativeDefineProperty(O, key, Attributes);\n        };\n        var $defineProperties = function defineProperties(O, Properties) {\n          anObject(O);\n          var properties = toIndexedObject(Properties);\n          var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n          $forEach(keys, function (key) {\n            if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n          });\n          return O;\n        };\n        var $create = function create(O, Properties) {\n          return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n        };\n        var $propertyIsEnumerable = function propertyIsEnumerable(V) {\n          var P = toPropertyKey(V);\n          var enumerable = nativePropertyIsEnumerable.call(this, P);\n          if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n          return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n        };\n        var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n          var it = toIndexedObject(O);\n          var key = toPropertyKey(P);\n          if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n          var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n          if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n            descriptor.enumerable = true;\n          }\n          return descriptor;\n        };\n        var $getOwnPropertyNames = function getOwnPropertyNames(O) {\n          var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n          var result = [];\n          $forEach(names, function (key) {\n            if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n          });\n          return result;\n        };\n        var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n          var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n          var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n          var result = [];\n          $forEach(names, function (key) {\n            if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n              result.push(AllSymbols[key]);\n            }\n          });\n          return result;\n        };\n\n        // `Symbol` constructor\n        // https://tc39.es/ecma262/#sec-symbol-constructor\n        if (!NATIVE_SYMBOL) {\n          $Symbol = function Symbol() {\n            if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n            var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n            var tag = uid(description);\n            var setter = function (value) {\n              if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n              if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n              setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n            };\n            if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, {\n              configurable: true,\n              set: setter\n            });\n            return wrap(tag, description);\n          };\n          redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n            return getInternalState(this).tag;\n          });\n          redefine($Symbol, 'withoutSetter', function (description) {\n            return wrap(uid(description), description);\n          });\n          propertyIsEnumerableModule.f = $propertyIsEnumerable;\n          definePropertyModule.f = $defineProperty;\n          getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n          getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n          getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n          wrappedWellKnownSymbolModule.f = function (name) {\n            return wrap(wellKnownSymbol(name), name);\n          };\n          if (DESCRIPTORS) {\n            // https://github.com/tc39/proposal-Symbol-description\n            nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n              configurable: true,\n              get: function description() {\n                return getInternalState(this).description;\n              }\n            });\n            if (!IS_PURE) {\n              redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, {\n                unsafe: true\n              });\n            }\n          }\n        }\n        $({\n          global: true,\n          wrap: true,\n          forced: !NATIVE_SYMBOL,\n          sham: !NATIVE_SYMBOL\n        }, {\n          Symbol: $Symbol\n        });\n        $forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n          defineWellKnownSymbol(name);\n        });\n        $({\n          target: SYMBOL,\n          stat: true,\n          forced: !NATIVE_SYMBOL\n        }, {\n          // `Symbol.for` method\n          // https://tc39.es/ecma262/#sec-symbol.for\n          'for': function (key) {\n            var string = $toString(key);\n            if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n            var symbol = $Symbol(string);\n            StringToSymbolRegistry[string] = symbol;\n            SymbolToStringRegistry[symbol] = string;\n            return symbol;\n          },\n          // `Symbol.keyFor` method\n          // https://tc39.es/ecma262/#sec-symbol.keyfor\n          keyFor: function keyFor(sym) {\n            if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n            if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n          },\n          useSetter: function () {\n            USE_SETTER = true;\n          },\n          useSimple: function () {\n            USE_SETTER = false;\n          }\n        });\n        $({\n          target: 'Object',\n          stat: true,\n          forced: !NATIVE_SYMBOL,\n          sham: !DESCRIPTORS\n        }, {\n          // `Object.create` method\n          // https://tc39.es/ecma262/#sec-object.create\n          create: $create,\n          // `Object.defineProperty` method\n          // https://tc39.es/ecma262/#sec-object.defineproperty\n          defineProperty: $defineProperty,\n          // `Object.defineProperties` method\n          // https://tc39.es/ecma262/#sec-object.defineproperties\n          defineProperties: $defineProperties,\n          // `Object.getOwnPropertyDescriptor` method\n          // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n          getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n        });\n        $({\n          target: 'Object',\n          stat: true,\n          forced: !NATIVE_SYMBOL\n        }, {\n          // `Object.getOwnPropertyNames` method\n          // https://tc39.es/ecma262/#sec-object.getownpropertynames\n          getOwnPropertyNames: $getOwnPropertyNames,\n          // `Object.getOwnPropertySymbols` method\n          // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n          getOwnPropertySymbols: $getOwnPropertySymbols\n        });\n\n        // Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n        // https://bugs.chromium.org/p/v8/issues/detail?id=3443\n        $({\n          target: 'Object',\n          stat: true,\n          forced: fails(function () {\n            getOwnPropertySymbolsModule.f(1);\n          })\n        }, {\n          getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n            return getOwnPropertySymbolsModule.f(toObject(it));\n          }\n        });\n\n        // `JSON.stringify` method behavior with symbols\n        // https://tc39.es/ecma262/#sec-json.stringify\n        if ($stringify) {\n          var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n            var symbol = $Symbol();\n            // MS Edge converts symbol values to JSON as {}\n            return $stringify([symbol]) != '[null]'\n            // WebKit converts symbol values to JSON as null\n            || $stringify({\n              a: symbol\n            }) != '{}'\n            // V8 throws on boxed symbols\n            || $stringify(Object(symbol)) != '{}';\n          });\n          $({\n            target: 'JSON',\n            stat: true,\n            forced: FORCED_JSON_STRINGIFY\n          }, {\n            // eslint-disable-next-line no-unused-vars -- required for `.length`\n            stringify: function stringify(it, replacer, space) {\n              var args = [it];\n              var index = 1;\n              var $replacer;\n              while (arguments.length > index) args.push(arguments[index++]);\n              $replacer = replacer;\n              if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n              if (!isArray(replacer)) replacer = function (key, value) {\n                if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n                if (!isSymbol(value)) return value;\n              };\n              args[1] = replacer;\n              return $stringify.apply(null, args);\n            }\n          });\n        }\n\n        // `Symbol.prototype[@@toPrimitive]` method\n        // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\n        if (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n          createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n        }\n        // `Symbol.prototype[@@toStringTag]` property\n        // https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\n        setToStringTag($Symbol, SYMBOL);\n        hiddenKeys[HIDDEN] = true;\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/web.dom-collections.for-each.js\": (\n      /*!**********************************************************************!*\\\n        !*** ./node_modules/core-js/modules/web.dom-collections.for-each.js ***!\n        \\**********************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_227399__) {\n        var global = __nested_webpack_require_227399__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var DOMIterables = __nested_webpack_require_227399__( /*! ../internals/dom-iterables */\"./node_modules/core-js/internals/dom-iterables.js\");\n        var forEach = __nested_webpack_require_227399__( /*! ../internals/array-for-each */\"./node_modules/core-js/internals/array-for-each.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_227399__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        for (var COLLECTION_NAME in DOMIterables) {\n          var Collection = global[COLLECTION_NAME];\n          var CollectionPrototype = Collection && Collection.prototype;\n          // some Chrome versions have non-configurable methods on DOMTokenList\n          if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n            createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n          } catch (error) {\n            CollectionPrototype.forEach = forEach;\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/core-js/modules/web.dom-collections.iterator.js\": (\n      /*!**********************************************************************!*\\\n        !*** ./node_modules/core-js/modules/web.dom-collections.iterator.js ***!\n        \\**********************************************************************/\n      /***/\n      function (__unused_webpack_module, __unused_webpack_exports, __nested_webpack_require_228939__) {\n        var global = __nested_webpack_require_228939__( /*! ../internals/global */\"./node_modules/core-js/internals/global.js\");\n        var DOMIterables = __nested_webpack_require_228939__( /*! ../internals/dom-iterables */\"./node_modules/core-js/internals/dom-iterables.js\");\n        var ArrayIteratorMethods = __nested_webpack_require_228939__( /*! ../modules/es.array.iterator */\"./node_modules/core-js/modules/es.array.iterator.js\");\n        var createNonEnumerableProperty = __nested_webpack_require_228939__( /*! ../internals/create-non-enumerable-property */\"./node_modules/core-js/internals/create-non-enumerable-property.js\");\n        var wellKnownSymbol = __nested_webpack_require_228939__( /*! ../internals/well-known-symbol */\"./node_modules/core-js/internals/well-known-symbol.js\");\n        var ITERATOR = wellKnownSymbol('iterator');\n        var TO_STRING_TAG = wellKnownSymbol('toStringTag');\n        var ArrayValues = ArrayIteratorMethods.values;\n        for (var COLLECTION_NAME in DOMIterables) {\n          var Collection = global[COLLECTION_NAME];\n          var CollectionPrototype = Collection && Collection.prototype;\n          if (CollectionPrototype) {\n            // some Chrome versions have non-configurable methods on DOMTokenList\n            if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n              createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n            } catch (error) {\n              CollectionPrototype[ITERATOR] = ArrayValues;\n            }\n            if (!CollectionPrototype[TO_STRING_TAG]) {\n              createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n            }\n            if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n              // some Chrome versions have non-configurable methods on DOMTokenList\n              if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n                createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n              } catch (error) {\n                CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n              }\n            }\n          }\n        }\n\n        /***/\n      }),\n      /***/\"./node_modules/es6-promise/dist/es6-promise.js\": (\n      /*!******************************************************!*\\\n        !*** ./node_modules/es6-promise/dist/es6-promise.js ***!\n        \\******************************************************/\n      /***/\n      function (module) {\n        /*!\n         * @overview es6-promise - a tiny implementation of Promises/A+.\n         * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n         * @license   Licensed under MIT license\n         *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n         * @version   v4.2.8+1e68dce6\n         */\n\n        (function (global, factory) {\n           true ? module.exports = factory() : 0;\n        })(this, function () {\n          'use strict';\n\n          function objectOrFunction(x) {\n            var type = typeof x;\n            return x !== null && (type === 'object' || type === 'function');\n          }\n          function isFunction(x) {\n            return typeof x === 'function';\n          }\n          var _isArray = void 0;\n          if (Array.isArray) {\n            _isArray = Array.isArray;\n          } else {\n            _isArray = function (x) {\n              return Object.prototype.toString.call(x) === '[object Array]';\n            };\n          }\n          var isArray = _isArray;\n          var len = 0;\n          var vertxNext = void 0;\n          var customSchedulerFn = void 0;\n          var asap = function asap(callback, arg) {\n            queue[len] = callback;\n            queue[len + 1] = arg;\n            len += 2;\n            if (len === 2) {\n              // If len is 2, that means that we need to schedule an async flush.\n              // If additional callbacks are queued before the queue is flushed, they\n              // will be processed by this flush that we are scheduling.\n              if (customSchedulerFn) {\n                customSchedulerFn(flush);\n              } else {\n                scheduleFlush();\n              }\n            }\n          };\n          function setScheduler(scheduleFn) {\n            customSchedulerFn = scheduleFn;\n          }\n          function setAsap(asapFn) {\n            asap = asapFn;\n          }\n          var browserWindow = typeof window !== 'undefined' ? window : undefined;\n          var browserGlobal = browserWindow || {};\n          var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\n          var isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n          // test for web worker but not in IE10\n          var isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n          // node\n          function useNextTick() {\n            // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n            // see https://github.com/cujojs/when/issues/410 for details\n            return function () {\n              return process.nextTick(flush);\n            };\n          }\n\n          // vertx\n          function useVertxTimer() {\n            if (typeof vertxNext !== 'undefined') {\n              return function () {\n                vertxNext(flush);\n              };\n            }\n            return useSetTimeout();\n          }\n          function useMutationObserver() {\n            var iterations = 0;\n            var observer = new BrowserMutationObserver(flush);\n            var node = document.createTextNode('');\n            observer.observe(node, {\n              characterData: true\n            });\n            return function () {\n              node.data = iterations = ++iterations % 2;\n            };\n          }\n\n          // web worker\n          function useMessageChannel() {\n            var channel = new MessageChannel();\n            channel.port1.onmessage = flush;\n            return function () {\n              return channel.port2.postMessage(0);\n            };\n          }\n          function useSetTimeout() {\n            // Store setTimeout reference so es6-promise will be unaffected by\n            // other code modifying setTimeout (like sinon.useFakeTimers())\n            var globalSetTimeout = setTimeout;\n            return function () {\n              return globalSetTimeout(flush, 1);\n            };\n          }\n          var queue = new Array(1000);\n          function flush() {\n            for (var i = 0; i < len; i += 2) {\n              var callback = queue[i];\n              var arg = queue[i + 1];\n              callback(arg);\n              queue[i] = undefined;\n              queue[i + 1] = undefined;\n            }\n            len = 0;\n          }\n          function attemptVertx() {\n            try {\n              var vertx = Function('return this')().require('vertx');\n              vertxNext = vertx.runOnLoop || vertx.runOnContext;\n              return useVertxTimer();\n            } catch (e) {\n              return useSetTimeout();\n            }\n          }\n          var scheduleFlush = void 0;\n          // Decide what async method to use to triggering processing of queued callbacks:\n          if (isNode) {\n            scheduleFlush = useNextTick();\n          } else if (BrowserMutationObserver) {\n            scheduleFlush = useMutationObserver();\n          } else if (isWorker) {\n            scheduleFlush = useMessageChannel();\n          } else if (browserWindow === undefined && \"function\" === 'function') {\n            scheduleFlush = attemptVertx();\n          } else {\n            scheduleFlush = useSetTimeout();\n          }\n          function then(onFulfillment, onRejection) {\n            var parent = this;\n            var child = new this.constructor(noop);\n            if (child[PROMISE_ID] === undefined) {\n              makePromise(child);\n            }\n            var _state = parent._state;\n            if (_state) {\n              var callback = arguments[_state - 1];\n              asap(function () {\n                return invokeCallback(_state, child, callback, parent._result);\n              });\n            } else {\n              subscribe(parent, child, onFulfillment, onRejection);\n            }\n            return child;\n          }\n\n          /**\n            `Promise.resolve` returns a promise that will become resolved with the\n            passed `value`. It is shorthand for the following:\n          \n            ```javascript\n            let promise = new Promise(function(resolve, reject){\n              resolve(1);\n            });\n          \n            promise.then(function(value){\n              // value === 1\n            });\n            ```\n          \n            Instead of writing the above, your code now simply becomes the following:\n          \n            ```javascript\n            let promise = Promise.resolve(1);\n          \n            promise.then(function(value){\n              // value === 1\n            });\n            ```\n          \n            @method resolve\n            @static\n            @param {Any} value value that the returned promise will be resolved with\n            Useful for tooling.\n            @return {Promise} a promise that will become fulfilled with the given\n            `value`\n          */\n          function resolve$1(object) {\n            /*jshint validthis:true */\n            var Constructor = this;\n            if (object && typeof object === 'object' && object.constructor === Constructor) {\n              return object;\n            }\n            var promise = new Constructor(noop);\n            resolve(promise, object);\n            return promise;\n          }\n          var PROMISE_ID = Math.random().toString(36).substring(2);\n          function noop() {}\n          var PENDING = void 0;\n          var FULFILLED = 1;\n          var REJECTED = 2;\n          function selfFulfillment() {\n            return new TypeError(\"You cannot resolve a promise with itself\");\n          }\n          function cannotReturnOwn() {\n            return new TypeError('A promises callback cannot return that same promise.');\n          }\n          function tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n            try {\n              then$$1.call(value, fulfillmentHandler, rejectionHandler);\n            } catch (e) {\n              return e;\n            }\n          }\n          function handleForeignThenable(promise, thenable, then$$1) {\n            asap(function (promise) {\n              var sealed = false;\n              var error = tryThen(then$$1, thenable, function (value) {\n                if (sealed) {\n                  return;\n                }\n                sealed = true;\n                if (thenable !== value) {\n                  resolve(promise, value);\n                } else {\n                  fulfill(promise, value);\n                }\n              }, function (reason) {\n                if (sealed) {\n                  return;\n                }\n                sealed = true;\n                reject(promise, reason);\n              }, 'Settle: ' + (promise._label || ' unknown promise'));\n              if (!sealed && error) {\n                sealed = true;\n                reject(promise, error);\n              }\n            }, promise);\n          }\n          function handleOwnThenable(promise, thenable) {\n            if (thenable._state === FULFILLED) {\n              fulfill(promise, thenable._result);\n            } else if (thenable._state === REJECTED) {\n              reject(promise, thenable._result);\n            } else {\n              subscribe(thenable, undefined, function (value) {\n                return resolve(promise, value);\n              }, function (reason) {\n                return reject(promise, reason);\n              });\n            }\n          }\n          function handleMaybeThenable(promise, maybeThenable, then$$1) {\n            if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n              handleOwnThenable(promise, maybeThenable);\n            } else {\n              if (then$$1 === undefined) {\n                fulfill(promise, maybeThenable);\n              } else if (isFunction(then$$1)) {\n                handleForeignThenable(promise, maybeThenable, then$$1);\n              } else {\n                fulfill(promise, maybeThenable);\n              }\n            }\n          }\n          function resolve(promise, value) {\n            if (promise === value) {\n              reject(promise, selfFulfillment());\n            } else if (objectOrFunction(value)) {\n              var then$$1 = void 0;\n              try {\n                then$$1 = value.then;\n              } catch (error) {\n                reject(promise, error);\n                return;\n              }\n              handleMaybeThenable(promise, value, then$$1);\n            } else {\n              fulfill(promise, value);\n            }\n          }\n          function publishRejection(promise) {\n            if (promise._onerror) {\n              promise._onerror(promise._result);\n            }\n            publish(promise);\n          }\n          function fulfill(promise, value) {\n            if (promise._state !== PENDING) {\n              return;\n            }\n            promise._result = value;\n            promise._state = FULFILLED;\n            if (promise._subscribers.length !== 0) {\n              asap(publish, promise);\n            }\n          }\n          function reject(promise, reason) {\n            if (promise._state !== PENDING) {\n              return;\n            }\n            promise._state = REJECTED;\n            promise._result = reason;\n            asap(publishRejection, promise);\n          }\n          function subscribe(parent, child, onFulfillment, onRejection) {\n            var _subscribers = parent._subscribers;\n            var length = _subscribers.length;\n            parent._onerror = null;\n            _subscribers[length] = child;\n            _subscribers[length + FULFILLED] = onFulfillment;\n            _subscribers[length + REJECTED] = onRejection;\n            if (length === 0 && parent._state) {\n              asap(publish, parent);\n            }\n          }\n          function publish(promise) {\n            var subscribers = promise._subscribers;\n            var settled = promise._state;\n            if (subscribers.length === 0) {\n              return;\n            }\n            var child = void 0,\n              callback = void 0,\n              detail = promise._result;\n            for (var i = 0; i < subscribers.length; i += 3) {\n              child = subscribers[i];\n              callback = subscribers[i + settled];\n              if (child) {\n                invokeCallback(settled, child, callback, detail);\n              } else {\n                callback(detail);\n              }\n            }\n            promise._subscribers.length = 0;\n          }\n          function invokeCallback(settled, promise, callback, detail) {\n            var hasCallback = isFunction(callback),\n              value = void 0,\n              error = void 0,\n              succeeded = true;\n            if (hasCallback) {\n              try {\n                value = callback(detail);\n              } catch (e) {\n                succeeded = false;\n                error = e;\n              }\n              if (promise === value) {\n                reject(promise, cannotReturnOwn());\n                return;\n              }\n            } else {\n              value = detail;\n            }\n            if (promise._state !== PENDING) {\n              // noop\n            } else if (hasCallback && succeeded) {\n              resolve(promise, value);\n            } else if (succeeded === false) {\n              reject(promise, error);\n            } else if (settled === FULFILLED) {\n              fulfill(promise, value);\n            } else if (settled === REJECTED) {\n              reject(promise, value);\n            }\n          }\n          function initializePromise(promise, resolver) {\n            try {\n              resolver(function resolvePromise(value) {\n                resolve(promise, value);\n              }, function rejectPromise(reason) {\n                reject(promise, reason);\n              });\n            } catch (e) {\n              reject(promise, e);\n            }\n          }\n          var id = 0;\n          function nextId() {\n            return id++;\n          }\n          function makePromise(promise) {\n            promise[PROMISE_ID] = id++;\n            promise._state = undefined;\n            promise._result = undefined;\n            promise._subscribers = [];\n          }\n          function validationError() {\n            return new Error('Array Methods must be provided an Array');\n          }\n          var Enumerator = function () {\n            function Enumerator(Constructor, input) {\n              this._instanceConstructor = Constructor;\n              this.promise = new Constructor(noop);\n              if (!this.promise[PROMISE_ID]) {\n                makePromise(this.promise);\n              }\n              if (isArray(input)) {\n                this.length = input.length;\n                this._remaining = input.length;\n                this._result = new Array(this.length);\n                if (this.length === 0) {\n                  fulfill(this.promise, this._result);\n                } else {\n                  this.length = this.length || 0;\n                  this._enumerate(input);\n                  if (this._remaining === 0) {\n                    fulfill(this.promise, this._result);\n                  }\n                }\n              } else {\n                reject(this.promise, validationError());\n              }\n            }\n            Enumerator.prototype._enumerate = function _enumerate(input) {\n              for (var i = 0; this._state === PENDING && i < input.length; i++) {\n                this._eachEntry(input[i], i);\n              }\n            };\n            Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n              var c = this._instanceConstructor;\n              var resolve$$1 = c.resolve;\n              if (resolve$$1 === resolve$1) {\n                var _then = void 0;\n                var error = void 0;\n                var didError = false;\n                try {\n                  _then = entry.then;\n                } catch (e) {\n                  didError = true;\n                  error = e;\n                }\n                if (_then === then && entry._state !== PENDING) {\n                  this._settledAt(entry._state, i, entry._result);\n                } else if (typeof _then !== 'function') {\n                  this._remaining--;\n                  this._result[i] = entry;\n                } else if (c === Promise$1) {\n                  var promise = new c(noop);\n                  if (didError) {\n                    reject(promise, error);\n                  } else {\n                    handleMaybeThenable(promise, entry, _then);\n                  }\n                  this._willSettleAt(promise, i);\n                } else {\n                  this._willSettleAt(new c(function (resolve$$1) {\n                    return resolve$$1(entry);\n                  }), i);\n                }\n              } else {\n                this._willSettleAt(resolve$$1(entry), i);\n              }\n            };\n            Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n              var promise = this.promise;\n              if (promise._state === PENDING) {\n                this._remaining--;\n                if (state === REJECTED) {\n                  reject(promise, value);\n                } else {\n                  this._result[i] = value;\n                }\n              }\n              if (this._remaining === 0) {\n                fulfill(promise, this._result);\n              }\n            };\n            Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n              var enumerator = this;\n              subscribe(promise, undefined, function (value) {\n                return enumerator._settledAt(FULFILLED, i, value);\n              }, function (reason) {\n                return enumerator._settledAt(REJECTED, i, reason);\n              });\n            };\n            return Enumerator;\n          }();\n\n          /**\n            `Promise.all` accepts an array of promises, and returns a new promise which\n            is fulfilled with an array of fulfillment values for the passed promises, or\n            rejected with the reason of the first passed promise to be rejected. It casts all\n            elements of the passed iterable to promises as it runs this algorithm.\n          \n            Example:\n          \n            ```javascript\n            let promise1 = resolve(1);\n            let promise2 = resolve(2);\n            let promise3 = resolve(3);\n            let promises = [ promise1, promise2, promise3 ];\n          \n            Promise.all(promises).then(function(array){\n              // The array here would be [ 1, 2, 3 ];\n            });\n            ```\n          \n            If any of the `promises` given to `all` are rejected, the first promise\n            that is rejected will be given as an argument to the returned promises's\n            rejection handler. For example:\n          \n            Example:\n          \n            ```javascript\n            let promise1 = resolve(1);\n            let promise2 = reject(new Error(\"2\"));\n            let promise3 = reject(new Error(\"3\"));\n            let promises = [ promise1, promise2, promise3 ];\n          \n            Promise.all(promises).then(function(array){\n              // Code here never runs because there are rejected promises!\n            }, function(error) {\n              // error.message === \"2\"\n            });\n            ```\n          \n            @method all\n            @static\n            @param {Array} entries array of promises\n            @param {String} label optional string for labeling the promise.\n            Useful for tooling.\n            @return {Promise} promise that is fulfilled when all `promises` have been\n            fulfilled, or rejected if any of them become rejected.\n            @static\n          */\n          function all(entries) {\n            return new Enumerator(this, entries).promise;\n          }\n\n          /**\n            `Promise.race` returns a new promise which is settled in the same way as the\n            first passed promise to settle.\n          \n            Example:\n          \n            ```javascript\n            let promise1 = new Promise(function(resolve, reject){\n              setTimeout(function(){\n                resolve('promise 1');\n              }, 200);\n            });\n          \n            let promise2 = new Promise(function(resolve, reject){\n              setTimeout(function(){\n                resolve('promise 2');\n              }, 100);\n            });\n          \n            Promise.race([promise1, promise2]).then(function(result){\n              // result === 'promise 2' because it was resolved before promise1\n              // was resolved.\n            });\n            ```\n          \n            `Promise.race` is deterministic in that only the state of the first\n            settled promise matters. For example, even if other promises given to the\n            `promises` array argument are resolved, but the first settled promise has\n            become rejected before the other promises became fulfilled, the returned\n            promise will become rejected:\n          \n            ```javascript\n            let promise1 = new Promise(function(resolve, reject){\n              setTimeout(function(){\n                resolve('promise 1');\n              }, 200);\n            });\n          \n            let promise2 = new Promise(function(resolve, reject){\n              setTimeout(function(){\n                reject(new Error('promise 2'));\n              }, 100);\n            });\n          \n            Promise.race([promise1, promise2]).then(function(result){\n              // Code here never runs\n            }, function(reason){\n              // reason.message === 'promise 2' because promise 2 became rejected before\n              // promise 1 became fulfilled\n            });\n            ```\n          \n            An example real-world use case is implementing timeouts:\n          \n            ```javascript\n            Promise.race([ajax('foo.json'), timeout(5000)])\n            ```\n          \n            @method race\n            @static\n            @param {Array} promises array of promises to observe\n            Useful for tooling.\n            @return {Promise} a promise which settles in the same way as the first passed\n            promise to settle.\n          */\n          function race(entries) {\n            /*jshint validthis:true */\n            var Constructor = this;\n            if (!isArray(entries)) {\n              return new Constructor(function (_, reject) {\n                return reject(new TypeError('You must pass an array to race.'));\n              });\n            } else {\n              return new Constructor(function (resolve, reject) {\n                var length = entries.length;\n                for (var i = 0; i < length; i++) {\n                  Constructor.resolve(entries[i]).then(resolve, reject);\n                }\n              });\n            }\n          }\n\n          /**\n            `Promise.reject` returns a promise rejected with the passed `reason`.\n            It is shorthand for the following:\n          \n            ```javascript\n            let promise = new Promise(function(resolve, reject){\n              reject(new Error('WHOOPS'));\n            });\n          \n            promise.then(function(value){\n              // Code here doesn't run because the promise is rejected!\n            }, function(reason){\n              // reason.message === 'WHOOPS'\n            });\n            ```\n          \n            Instead of writing the above, your code now simply becomes the following:\n          \n            ```javascript\n            let promise = Promise.reject(new Error('WHOOPS'));\n          \n            promise.then(function(value){\n              // Code here doesn't run because the promise is rejected!\n            }, function(reason){\n              // reason.message === 'WHOOPS'\n            });\n            ```\n          \n            @method reject\n            @static\n            @param {Any} reason value that the returned promise will be rejected with.\n            Useful for tooling.\n            @return {Promise} a promise rejected with the given `reason`.\n          */\n          function reject$1(reason) {\n            /*jshint validthis:true */\n            var Constructor = this;\n            var promise = new Constructor(noop);\n            reject(promise, reason);\n            return promise;\n          }\n          function needsResolver() {\n            throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n          }\n          function needsNew() {\n            throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n          }\n\n          /**\n            Promise objects represent the eventual result of an asynchronous operation. The\n            primary way of interacting with a promise is through its `then` method, which\n            registers callbacks to receive either a promise's eventual value or the reason\n            why the promise cannot be fulfilled.\n          \n            Terminology\n            -----------\n          \n            - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n            - `thenable` is an object or function that defines a `then` method.\n            - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n            - `exception` is a value that is thrown using the throw statement.\n            - `reason` is a value that indicates why a promise was rejected.\n            - `settled` the final resting state of a promise, fulfilled or rejected.\n          \n            A promise can be in one of three states: pending, fulfilled, or rejected.\n          \n            Promises that are fulfilled have a fulfillment value and are in the fulfilled\n            state.  Promises that are rejected have a rejection reason and are in the\n            rejected state.  A fulfillment value is never a thenable.\n          \n            Promises can also be said to *resolve* a value.  If this value is also a\n            promise, then the original promise's settled state will match the value's\n            settled state.  So a promise that *resolves* a promise that rejects will\n            itself reject, and a promise that *resolves* a promise that fulfills will\n            itself fulfill.\n          \n          \n            Basic Usage:\n            ------------\n          \n            ```js\n            let promise = new Promise(function(resolve, reject) {\n              // on success\n              resolve(value);\n          \n              // on failure\n              reject(reason);\n            });\n          \n            promise.then(function(value) {\n              // on fulfillment\n            }, function(reason) {\n              // on rejection\n            });\n            ```\n          \n            Advanced Usage:\n            ---------------\n          \n            Promises shine when abstracting away asynchronous interactions such as\n            `XMLHttpRequest`s.\n          \n            ```js\n            function getJSON(url) {\n              return new Promise(function(resolve, reject){\n                let xhr = new XMLHttpRequest();\n          \n                xhr.open('GET', url);\n                xhr.onreadystatechange = handler;\n                xhr.responseType = 'json';\n                xhr.setRequestHeader('Accept', 'application/json');\n                xhr.send();\n          \n                function handler() {\n                  if (this.readyState === this.DONE) {\n                    if (this.status === 200) {\n                      resolve(this.response);\n                    } else {\n                      reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n                    }\n                  }\n                };\n              });\n            }\n          \n            getJSON('/posts.json').then(function(json) {\n              // on fulfillment\n            }, function(reason) {\n              // on rejection\n            });\n            ```\n          \n            Unlike callbacks, promises are great composable primitives.\n          \n            ```js\n            Promise.all([\n              getJSON('/posts'),\n              getJSON('/comments')\n            ]).then(function(values){\n              values[0] // => postsJSON\n              values[1] // => commentsJSON\n          \n              return values;\n            });\n            ```\n          \n            @class Promise\n            @param {Function} resolver\n            Useful for tooling.\n            @constructor\n          */\n\n          var Promise$1 = function () {\n            function Promise(resolver) {\n              this[PROMISE_ID] = nextId();\n              this._result = this._state = undefined;\n              this._subscribers = [];\n              if (noop !== resolver) {\n                typeof resolver !== 'function' && needsResolver();\n                this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n              }\n            }\n\n            /**\n            The primary way of interacting with a promise is through its `then` method,\n            which registers callbacks to receive either a promise's eventual value or the\n            reason why the promise cannot be fulfilled.\n             ```js\n            findUser().then(function(user){\n              // user is available\n            }, function(reason){\n              // user is unavailable, and you are given the reason why\n            });\n            ```\n             Chaining\n            --------\n             The return value of `then` is itself a promise.  This second, 'downstream'\n            promise is resolved with the return value of the first promise's fulfillment\n            or rejection handler, or rejected if the handler throws an exception.\n             ```js\n            findUser().then(function (user) {\n              return user.name;\n            }, function (reason) {\n              return 'default name';\n            }).then(function (userName) {\n              // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n              // will be `'default name'`\n            });\n             findUser().then(function (user) {\n              throw new Error('Found user, but still unhappy');\n            }, function (reason) {\n              throw new Error('`findUser` rejected and we're unhappy');\n            }).then(function (value) {\n              // never reached\n            }, function (reason) {\n              // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n              // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n            });\n            ```\n            If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n             ```js\n            findUser().then(function (user) {\n              throw new PedagogicalException('Upstream error');\n            }).then(function (value) {\n              // never reached\n            }).then(function (value) {\n              // never reached\n            }, function (reason) {\n              // The `PedgagocialException` is propagated all the way down to here\n            });\n            ```\n             Assimilation\n            ------------\n             Sometimes the value you want to propagate to a downstream promise can only be\n            retrieved asynchronously. This can be achieved by returning a promise in the\n            fulfillment or rejection handler. The downstream promise will then be pending\n            until the returned promise is settled. This is called *assimilation*.\n             ```js\n            findUser().then(function (user) {\n              return findCommentsByAuthor(user);\n            }).then(function (comments) {\n              // The user's comments are now available\n            });\n            ```\n             If the assimliated promise rejects, then the downstream promise will also reject.\n             ```js\n            findUser().then(function (user) {\n              return findCommentsByAuthor(user);\n            }).then(function (comments) {\n              // If `findCommentsByAuthor` fulfills, we'll have the value here\n            }, function (reason) {\n              // If `findCommentsByAuthor` rejects, we'll have the reason here\n            });\n            ```\n             Simple Example\n            --------------\n             Synchronous Example\n             ```javascript\n            let result;\n             try {\n              result = findResult();\n              // success\n            } catch(reason) {\n              // failure\n            }\n            ```\n             Errback Example\n             ```js\n            findResult(function(result, err){\n              if (err) {\n                // failure\n              } else {\n                // success\n              }\n            });\n            ```\n             Promise Example;\n             ```javascript\n            findResult().then(function(result){\n              // success\n            }, function(reason){\n              // failure\n            });\n            ```\n             Advanced Example\n            --------------\n             Synchronous Example\n             ```javascript\n            let author, books;\n             try {\n              author = findAuthor();\n              books  = findBooksByAuthor(author);\n              // success\n            } catch(reason) {\n              // failure\n            }\n            ```\n             Errback Example\n             ```js\n             function foundBooks(books) {\n             }\n             function failure(reason) {\n             }\n             findAuthor(function(author, err){\n              if (err) {\n                failure(err);\n                // failure\n              } else {\n                try {\n                  findBoooksByAuthor(author, function(books, err) {\n                    if (err) {\n                      failure(err);\n                    } else {\n                      try {\n                        foundBooks(books);\n                      } catch(reason) {\n                        failure(reason);\n                      }\n                    }\n                  });\n                } catch(error) {\n                  failure(err);\n                }\n                // success\n              }\n            });\n            ```\n             Promise Example;\n             ```javascript\n            findAuthor().\n              then(findBooksByAuthor).\n              then(function(books){\n                // found books\n            }).catch(function(reason){\n              // something went wrong\n            });\n            ```\n             @method then\n            @param {Function} onFulfilled\n            @param {Function} onRejected\n            Useful for tooling.\n            @return {Promise}\n            */\n\n            /**\n            `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n            as the catch block of a try/catch statement.\n            ```js\n            function findAuthor(){\n            throw new Error('couldn't find that author');\n            }\n            // synchronous\n            try {\n            findAuthor();\n            } catch(reason) {\n            // something went wrong\n            }\n            // async with promises\n            findAuthor().catch(function(reason){\n            // something went wrong\n            });\n            ```\n            @method catch\n            @param {Function} onRejection\n            Useful for tooling.\n            @return {Promise}\n            */\n\n            Promise.prototype.catch = function _catch(onRejection) {\n              return this.then(null, onRejection);\n            };\n\n            /**\n              `finally` will be invoked regardless of the promise's fate just as native\n              try/catch/finally behaves\n            \n              Synchronous example:\n            \n              ```js\n              findAuthor() {\n                if (Math.random() > 0.5) {\n                  throw new Error();\n                }\n                return new Author();\n              }\n            \n              try {\n                return findAuthor(); // succeed or fail\n              } catch(error) {\n                return findOtherAuther();\n              } finally {\n                // always runs\n                // doesn't affect the return value\n              }\n              ```\n            \n              Asynchronous example:\n            \n              ```js\n              findAuthor().catch(function(reason){\n                return findOtherAuther();\n              }).finally(function(){\n                // author was either found, or not\n              });\n              ```\n            \n              @method finally\n              @param {Function} callback\n              @return {Promise}\n            */\n\n            Promise.prototype.finally = function _finally(callback) {\n              var promise = this;\n              var constructor = promise.constructor;\n              if (isFunction(callback)) {\n                return promise.then(function (value) {\n                  return constructor.resolve(callback()).then(function () {\n                    return value;\n                  });\n                }, function (reason) {\n                  return constructor.resolve(callback()).then(function () {\n                    throw reason;\n                  });\n                });\n              }\n              return promise.then(callback, callback);\n            };\n            return Promise;\n          }();\n          Promise$1.prototype.then = then;\n          Promise$1.all = all;\n          Promise$1.race = race;\n          Promise$1.resolve = resolve$1;\n          Promise$1.reject = reject$1;\n          Promise$1._setScheduler = setScheduler;\n          Promise$1._setAsap = setAsap;\n          Promise$1._asap = asap;\n\n          /*global self*/\n          function polyfill() {\n            var local = void 0;\n            if (typeof __webpack_require__.g !== 'undefined') {\n              local = __webpack_require__.g;\n            } else if (typeof self !== 'undefined') {\n              local = self;\n            } else {\n              try {\n                local = Function('return this')();\n              } catch (e) {\n                throw new Error('polyfill failed because global object is unavailable in this environment');\n              }\n            }\n            var P = local.Promise;\n            if (P) {\n              var promiseToString = null;\n              try {\n                promiseToString = Object.prototype.toString.call(P.resolve());\n              } catch (e) {\n                // silently ignored\n              }\n              if (promiseToString === '[object Promise]' && !P.cast) {\n                return;\n              }\n            }\n            local.Promise = Promise$1;\n          }\n\n          // Strange compat..\n          Promise$1.polyfill = polyfill;\n          Promise$1.Promise = Promise$1;\n          return Promise$1;\n        });\n\n        /***/\n      }),\n      /***/\"html2canvas\": (\n      /*!******************************!*\\\n        !*** external \"html2canvas\" ***!\n        \\******************************/\n      /***/\n      function (module) {\n        \"use strict\";\n\n        module.exports = __WEBPACK_EXTERNAL_MODULE_html2canvas__;\n\n        /***/\n      }),\n      /***/\"jspdf\": (\n      /*!************************!*\\\n        !*** external \"jspdf\" ***!\n        \\************************/\n      /***/\n      function (module) {\n        \"use strict\";\n\n        module.exports = __WEBPACK_EXTERNAL_MODULE_jspdf__;\n\n        /***/\n      })\n\n      /******/\n    };\n    /************************************************************************/\n    /******/ // The module cache\n    /******/\n    var __webpack_module_cache__ = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __nested_webpack_require_271658__(moduleId) {\n      /******/ // Check if module is in cache\n      /******/var cachedModule = __webpack_module_cache__[moduleId];\n      /******/\n      if (cachedModule !== undefined) {\n        /******/return cachedModule.exports;\n        /******/\n      }\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = __webpack_module_cache__[moduleId] = {\n        /******/ // no module.id needed\n        /******/ // no module.loaded needed\n        /******/exports: {}\n        /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      __webpack_modules__[moduleId].call(module.exports, module, module.exports, __nested_webpack_require_271658__);\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /************************************************************************/\n    /******/ /* webpack/runtime/compat get default export */\n    /******/\n    !function () {\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__nested_webpack_require_271658__.n = function (module) {\n        /******/var getter = module && module.__esModule ? /******/function () {\n          return module['default'];\n        } : /******/function () {\n          return module;\n        };\n        /******/\n        __nested_webpack_require_271658__.d(getter, {\n          a: getter\n        });\n        /******/\n        return getter;\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/define property getters */\n    /******/\n    !function () {\n      /******/ // define getter functions for harmony exports\n      /******/__nested_webpack_require_271658__.d = function (exports, definition) {\n        /******/for (var key in definition) {\n          /******/if (__nested_webpack_require_271658__.o(definition, key) && !__nested_webpack_require_271658__.o(exports, key)) {\n            /******/Object.defineProperty(exports, key, {\n              enumerable: true,\n              get: definition[key]\n            });\n            /******/\n          }\n          /******/\n        }\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/hasOwnProperty shorthand */\n    /******/\n    !function () {\n      /******/__nested_webpack_require_271658__.o = function (obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n      };\n      /******/\n    }();\n    /******/\n    /******/ /* webpack/runtime/make namespace object */\n    /******/\n    !function () {\n      /******/ // define __esModule on exports\n      /******/__nested_webpack_require_271658__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, {\n            value: 'Module'\n          });\n          /******/\n        }\n        /******/\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n        /******/\n      };\n      /******/\n    }();\n    /******/\n    /************************************************************************/\n    var __nested_webpack_exports__ = {};\n    // This entry need to be wrapped in an IIFE because it need to be in strict mode.\n    !function () {\n      \"use strict\";\n\n      /*!**********************!*\\\n        !*** ./src/index.js ***!\n        \\**********************/\n      __nested_webpack_require_271658__.r(__nested_webpack_exports__);\n      /* harmony import */\n      var _worker_js__WEBPACK_IMPORTED_MODULE_0__ = __nested_webpack_require_271658__( /*! ./worker.js */\"./src/worker.js\");\n      /* harmony import */\n      var _plugin_jspdf_plugin_js__WEBPACK_IMPORTED_MODULE_1__ = __nested_webpack_require_271658__( /*! ./plugin/jspdf-plugin.js */\"./src/plugin/jspdf-plugin.js\");\n      /* harmony import */\n      var _plugin_pagebreaks_js__WEBPACK_IMPORTED_MODULE_2__ = __nested_webpack_require_271658__( /*! ./plugin/pagebreaks.js */\"./src/plugin/pagebreaks.js\");\n      /* harmony import */\n      var _plugin_hyperlinks_js__WEBPACK_IMPORTED_MODULE_3__ = __nested_webpack_require_271658__( /*! ./plugin/hyperlinks.js */\"./src/plugin/hyperlinks.js\");\n\n      /**\n       * Generate a PDF from an HTML element or string using html2canvas and jsPDF.\n       *\n       * @param {Element|string} source The source element or HTML string.\n       * @param {Object=} opt An object of optional settings: 'margin', 'filename',\n       *    'image' ('type' and 'quality'), and 'html2canvas' / 'jspdf', which are\n       *    sent as settings to their corresponding functions.\n       */\n\n      var html2pdf = function html2pdf(src, opt) {\n        // Create a new worker with the given options.\n        var worker = new html2pdf.Worker(opt);\n        if (src) {\n          // If src is specified, perform the traditional 'simple' operation.\n          return worker.from(src).save();\n        } else {\n          // Otherwise, return the worker for new Promise-based operation.\n          return worker;\n        }\n      };\n      html2pdf.Worker = _worker_js__WEBPACK_IMPORTED_MODULE_0__.default; // Expose the html2pdf function.\n\n      /* harmony default export */\n      __nested_webpack_exports__[\"default\"] = html2pdf;\n    }();\n    __nested_webpack_exports__ = __nested_webpack_exports__.default;\n    /******/\n    return __nested_webpack_exports__;\n    /******/\n  }();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbDJwZGYuanMvZGlzdC9odG1sMnBkZi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBOztBQUlBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBU0E7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBOztBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBVUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBYUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7O0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBV0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFHQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7O0FBS0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBOztBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBT0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBOztBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTs7QUFFQTtBQUFBOztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9odG1sMnBkZi5qcy9kaXN0L2h0bWwycGRmLmpzPzg1MzEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBodG1sMnBkZi5qcyB2MC4xMC4zXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjUgRXJpayBLb29wbWFuc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJqc3BkZlwiKSwgcmVxdWlyZShcImh0bWwyY2FudmFzXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiaHRtbDJwZGZcIiwgW1wianNwZGZcIiwgXCJodG1sMmNhbnZhc1wiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJodG1sMnBkZlwiXSA9IGZhY3RvcnkocmVxdWlyZShcImpzcGRmXCIpLCByZXF1aXJlKFwiaHRtbDJjYW52YXNcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImh0bWwycGRmXCJdID0gZmFjdG9yeShyb290W1wianNwZGZcIl0sIHJvb3RbXCJodG1sMmNhbnZhc1wiXSk7XG59KShzZWxmLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2pzcGRmX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfaHRtbDJjYW52YXNfXykge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbigpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZXNfXyA9ICh7XG5cbi8qKiovIFwiLi9zcmMvcGx1Z2luL2h5cGVybGlua3MuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvcGx1Z2luL2h5cGVybGlua3MuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfZm9yX2VhY2hfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfZm9yX2VhY2hfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfd2ViX2RvbV9jb2xsZWN0aW9uc19mb3JfZWFjaF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfc3RyaW5nX2xpbmtfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluay5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluay5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfc3RyaW5nX2xpbmtfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfc3RyaW5nX2xpbmtfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3dvcmtlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vd29ya2VyLmpzICovIFwiLi9zcmMvd29ya2VyLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF91dGlsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMuanMgKi8gXCIuL3NyYy91dGlscy5qc1wiKTtcblxuXG5cbiAvLyBBZGQgaHlwZXJsaW5rIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIFBERiBjcmVhdGlvbi5cbi8vIE1haW4gbGluayBhcnJheSwgYW5kIHJlZnMgdG8gb3JpZ2luYWwgZnVuY3Rpb25zLlxuXG52YXIgbGlua0luZm8gPSBbXTtcbnZhciBvcmlnID0ge1xuICB0b0NvbnRhaW5lcjogX3dvcmtlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fLmRlZmF1bHQucHJvdG90eXBlLnRvQ29udGFpbmVyLFxuICB0b1BkZjogX3dvcmtlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fLmRlZmF1bHQucHJvdG90eXBlLnRvUGRmXG59O1xuXG5fd29ya2VyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18uZGVmYXVsdC5wcm90b3R5cGUudG9Db250YWluZXIgPSBmdW5jdGlvbiB0b0NvbnRhaW5lcigpIHtcbiAgcmV0dXJuIG9yaWcudG9Db250YWluZXIuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uIHRvQ29udGFpbmVyX2h5cGVybGluaygpIHtcbiAgICAvLyBSZXRyaWV2ZSBoeXBlcmxpbmsgaW5mbyBpZiB0aGUgb3B0aW9uIGlzIGVuYWJsZWQuXG4gICAgaWYgKHRoaXMub3B0LmVuYWJsZUxpbmtzKSB7XG4gICAgICAvLyBGaW5kIGFsbCBhbmNob3IgdGFncyBhbmQgZ2V0IHRoZSBjb250YWluZXIncyBib3VuZHMgZm9yIHJlZmVyZW5jZS5cbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLnByb3AuY29udGFpbmVyO1xuICAgICAgdmFyIGxpbmtzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcbiAgICAgIHZhciBjb250YWluZXJSZWN0ID0gKDAsX3V0aWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18udW5pdENvbnZlcnQpKGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5wcm9wLnBhZ2VTaXplLmspO1xuICAgICAgbGlua0luZm8gPSBbXTsgLy8gTG9vcCB0aHJvdWdoIGVhY2ggYW5jaG9yIHRhZy5cblxuICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChsaW5rcywgZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgLy8gVHJlYXQgZWFjaCBjbGllbnQgcmVjdCBhcyBhIHNlcGFyYXRlIGxpbmsgKGZvciB0ZXh0LXdyYXBwaW5nKS5cbiAgICAgICAgdmFyIGNsaWVudFJlY3RzID0gbGluay5nZXRDbGllbnRSZWN0cygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpZW50UmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2xpZW50UmVjdCA9ICgwLF91dGlsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fLnVuaXRDb252ZXJ0KShjbGllbnRSZWN0c1tpXSwgdGhpcy5wcm9wLnBhZ2VTaXplLmspO1xuICAgICAgICAgIGNsaWVudFJlY3QubGVmdCAtPSBjb250YWluZXJSZWN0LmxlZnQ7XG4gICAgICAgICAgY2xpZW50UmVjdC50b3AgLT0gY29udGFpbmVyUmVjdC50b3A7XG4gICAgICAgICAgdmFyIHBhZ2UgPSBNYXRoLmZsb29yKGNsaWVudFJlY3QudG9wIC8gdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLmhlaWdodCkgKyAxO1xuICAgICAgICAgIHZhciB0b3AgPSB0aGlzLm9wdC5tYXJnaW5bMF0gKyBjbGllbnRSZWN0LnRvcCAlIHRoaXMucHJvcC5wYWdlU2l6ZS5pbm5lci5oZWlnaHQ7XG4gICAgICAgICAgdmFyIGxlZnQgPSB0aGlzLm9wdC5tYXJnaW5bMV0gKyBjbGllbnRSZWN0LmxlZnQ7XG4gICAgICAgICAgbGlua0luZm8ucHVzaCh7XG4gICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgY2xpZW50UmVjdDogY2xpZW50UmVjdCxcbiAgICAgICAgICAgIGxpbms6IGxpbmtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9KTtcbn07XG5cbl93b3JrZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXy5kZWZhdWx0LnByb3RvdHlwZS50b1BkZiA9IGZ1bmN0aW9uIHRvUGRmKCkge1xuICByZXR1cm4gb3JpZy50b1BkZi5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gdG9QZGZfaHlwZXJsaW5rKCkge1xuICAgIC8vIEFkZCBoeXBlcmxpbmtzIGlmIHRoZSBvcHRpb24gaXMgZW5hYmxlZC5cbiAgICBpZiAodGhpcy5vcHQuZW5hYmxlTGlua3MpIHtcbiAgICAgIC8vIEF0dGFjaCBlYWNoIGFuY2hvciB0YWcgYmFzZWQgb24gaW5mbyBmcm9tIHRvQ29udGFpbmVyKCkuXG4gICAgICBsaW5rSW5mby5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIHRoaXMucHJvcC5wZGYuc2V0UGFnZShsLnBhZ2UpO1xuICAgICAgICB0aGlzLnByb3AucGRmLmxpbmsobC5sZWZ0LCBsLnRvcCwgbC5jbGllbnRSZWN0LndpZHRoLCBsLmNsaWVudFJlY3QuaGVpZ2h0LCB7XG4gICAgICAgICAgdXJsOiBsLmxpbmsuaHJlZlxuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMpOyAvLyBSZXNldCB0aGUgYWN0aXZlIHBhZ2Ugb2YgdGhlIFBERiB0byB0aGUgZmluYWwgcGFnZS5cblxuICAgICAgdmFyIG5QYWdlcyA9IHRoaXMucHJvcC5wZGYuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICAgICAgdGhpcy5wcm9wLnBkZi5zZXRQYWdlKG5QYWdlcyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3BsdWdpbi9qc3BkZi1wbHVnaW4uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9wbHVnaW4vanNwZGYtcGx1Z2luLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19zeW1ib2xfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9kZXNjcmlwdGlvbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9kZXNjcmlwdGlvbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19zeW1ib2xfZGVzY3JpcHRpb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF90b19zdHJpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF90b19zdHJpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X3RvX3N0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfc3ltYm9sX2l0ZXJhdG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfc3ltYm9sX2l0ZXJhdG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N0cmluZ19pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N0cmluZ19pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19zdHJpbmdfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfd2ViX2RvbV9jb2xsZWN0aW9uc19pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBqc3BkZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEganNwZGYgKi8gXCJqc3BkZlwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBqc3BkZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGpzcGRmX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X18pO1xuXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLy8gSW1wb3J0IGRlcGVuZGVuY2llcy5cbiAvLyBHZXQgZGltZW5zaW9ucyBvZiBhIFBERiBwYWdlLCBhcyBkZXRlcm1pbmVkIGJ5IGpzUERGLlxuXG5qc3BkZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fLmpzUERGLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKG9yaWVudGF0aW9uLCB1bml0LCBmb3JtYXQpIHtcbiAgLy8gRGVjb2RlIG9wdGlvbnMgb2JqZWN0XG4gIGlmIChfdHlwZW9mKG9yaWVudGF0aW9uKSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9yaWVudGF0aW9uO1xuICAgIG9yaWVudGF0aW9uID0gb3B0aW9ucy5vcmllbnRhdGlvbjtcbiAgICB1bml0ID0gb3B0aW9ucy51bml0IHx8IHVuaXQ7XG4gICAgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQgfHwgZm9ybWF0O1xuICB9IC8vIERlZmF1bHQgb3B0aW9uc1xuXG5cbiAgdW5pdCA9IHVuaXQgfHwgJ21tJztcbiAgZm9ybWF0ID0gZm9ybWF0IHx8ICdhNCc7XG4gIG9yaWVudGF0aW9uID0gKCcnICsgKG9yaWVudGF0aW9uIHx8ICdQJykpLnRvTG93ZXJDYXNlKCk7XG4gIHZhciBmb3JtYXRfYXNfc3RyaW5nID0gKCcnICsgZm9ybWF0KS50b0xvd2VyQ2FzZSgpOyAvLyBTaXplIGluIHB0IG9mIHZhcmlvdXMgcGFwZXIgZm9ybWF0c1xuXG4gIHZhciBwYWdlRm9ybWF0cyA9IHtcbiAgICAnYTAnOiBbMjM4My45NCwgMzM3MC4zOV0sXG4gICAgJ2ExJzogWzE2ODMuNzgsIDIzODMuOTRdLFxuICAgICdhMic6IFsxMTkwLjU1LCAxNjgzLjc4XSxcbiAgICAnYTMnOiBbODQxLjg5LCAxMTkwLjU1XSxcbiAgICAnYTQnOiBbNTk1LjI4LCA4NDEuODldLFxuICAgICdhNSc6IFs0MTkuNTMsIDU5NS4yOF0sXG4gICAgJ2E2JzogWzI5Ny42NCwgNDE5LjUzXSxcbiAgICAnYTcnOiBbMjA5Ljc2LCAyOTcuNjRdLFxuICAgICdhOCc6IFsxNDcuNDAsIDIwOS43Nl0sXG4gICAgJ2E5JzogWzEwNC44OCwgMTQ3LjQwXSxcbiAgICAnYTEwJzogWzczLjcwLCAxMDQuODhdLFxuICAgICdiMCc6IFsyODM0LjY1LCA0MDA4LjE5XSxcbiAgICAnYjEnOiBbMjAwNC4wOSwgMjgzNC42NV0sXG4gICAgJ2IyJzogWzE0MTcuMzIsIDIwMDQuMDldLFxuICAgICdiMyc6IFsxMDAwLjYzLCAxNDE3LjMyXSxcbiAgICAnYjQnOiBbNzA4LjY2LCAxMDAwLjYzXSxcbiAgICAnYjUnOiBbNDk4LjkwLCA3MDguNjZdLFxuICAgICdiNic6IFszNTQuMzMsIDQ5OC45MF0sXG4gICAgJ2I3JzogWzI0OS40NSwgMzU0LjMzXSxcbiAgICAnYjgnOiBbMTc1Ljc1LCAyNDkuNDVdLFxuICAgICdiOSc6IFsxMjQuNzIsIDE3NS43NV0sXG4gICAgJ2IxMCc6IFs4Ny44NywgMTI0LjcyXSxcbiAgICAnYzAnOiBbMjU5OS4zNywgMzY3Ni41NF0sXG4gICAgJ2MxJzogWzE4MzYuODUsIDI1OTkuMzddLFxuICAgICdjMic6IFsxMjk4LjI3LCAxODM2Ljg1XSxcbiAgICAnYzMnOiBbOTE4LjQzLCAxMjk4LjI3XSxcbiAgICAnYzQnOiBbNjQ5LjEzLCA5MTguNDNdLFxuICAgICdjNSc6IFs0NTkuMjEsIDY0OS4xM10sXG4gICAgJ2M2JzogWzMyMy4xNSwgNDU5LjIxXSxcbiAgICAnYzcnOiBbMjI5LjYxLCAzMjMuMTVdLFxuICAgICdjOCc6IFsxNjEuNTcsIDIyOS42MV0sXG4gICAgJ2M5JzogWzExMy4zOSwgMTYxLjU3XSxcbiAgICAnYzEwJzogWzc5LjM3LCAxMTMuMzldLFxuICAgICdkbCc6IFszMTEuODEsIDYyMy42Ml0sXG4gICAgJ2xldHRlcic6IFs2MTIsIDc5Ml0sXG4gICAgJ2dvdmVybm1lbnQtbGV0dGVyJzogWzU3NiwgNzU2XSxcbiAgICAnbGVnYWwnOiBbNjEyLCAxMDA4XSxcbiAgICAnanVuaW9yLWxlZ2FsJzogWzU3NiwgMzYwXSxcbiAgICAnbGVkZ2VyJzogWzEyMjQsIDc5Ml0sXG4gICAgJ3RhYmxvaWQnOiBbNzkyLCAxMjI0XSxcbiAgICAnY3JlZGl0LWNhcmQnOiBbMTUzLCAyNDNdXG4gIH07IC8vIFVuaXQgY29udmVyc2lvblxuXG4gIHN3aXRjaCAodW5pdCkge1xuICAgIGNhc2UgJ3B0JzpcbiAgICAgIHZhciBrID0gMTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbW0nOlxuICAgICAgdmFyIGsgPSA3MiAvIDI1LjQ7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2NtJzpcbiAgICAgIHZhciBrID0gNzIgLyAyLjU0O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdpbic6XG4gICAgICB2YXIgayA9IDcyO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdweCc6XG4gICAgICB2YXIgayA9IDcyIC8gOTY7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3BjJzpcbiAgICAgIHZhciBrID0gMTI7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2VtJzpcbiAgICAgIHZhciBrID0gMTI7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2V4JzpcbiAgICAgIHZhciBrID0gNjtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93ICdJbnZhbGlkIHVuaXQ6ICcgKyB1bml0O1xuICB9IC8vIERpbWVuc2lvbnMgYXJlIHN0b3JlZCBhcyB1c2VyIHVuaXRzIGFuZCBjb252ZXJ0ZWQgdG8gcG9pbnRzIG9uIG91dHB1dFxuXG5cbiAgaWYgKHBhZ2VGb3JtYXRzLmhhc093blByb3BlcnR5KGZvcm1hdF9hc19zdHJpbmcpKSB7XG4gICAgdmFyIHBhZ2VIZWlnaHQgPSBwYWdlRm9ybWF0c1tmb3JtYXRfYXNfc3RyaW5nXVsxXSAvIGs7XG4gICAgdmFyIHBhZ2VXaWR0aCA9IHBhZ2VGb3JtYXRzW2Zvcm1hdF9hc19zdHJpbmddWzBdIC8gaztcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHBhZ2VIZWlnaHQgPSBmb3JtYXRbMV07XG4gICAgICB2YXIgcGFnZVdpZHRoID0gZm9ybWF0WzBdO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGZvcm1hdDogJyArIGZvcm1hdCk7XG4gICAgfVxuICB9IC8vIEhhbmRsZSBwYWdlIG9yaWVudGF0aW9uXG5cblxuICBpZiAob3JpZW50YXRpb24gPT09ICdwJyB8fCBvcmllbnRhdGlvbiA9PT0gJ3BvcnRyYWl0Jykge1xuICAgIG9yaWVudGF0aW9uID0gJ3AnO1xuXG4gICAgaWYgKHBhZ2VXaWR0aCA+IHBhZ2VIZWlnaHQpIHtcbiAgICAgIHZhciB0bXAgPSBwYWdlV2lkdGg7XG4gICAgICBwYWdlV2lkdGggPSBwYWdlSGVpZ2h0O1xuICAgICAgcGFnZUhlaWdodCA9IHRtcDtcbiAgICB9XG4gIH0gZWxzZSBpZiAob3JpZW50YXRpb24gPT09ICdsJyB8fCBvcmllbnRhdGlvbiA9PT0gJ2xhbmRzY2FwZScpIHtcbiAgICBvcmllbnRhdGlvbiA9ICdsJztcblxuICAgIGlmIChwYWdlSGVpZ2h0ID4gcGFnZVdpZHRoKSB7XG4gICAgICB2YXIgdG1wID0gcGFnZVdpZHRoO1xuICAgICAgcGFnZVdpZHRoID0gcGFnZUhlaWdodDtcbiAgICAgIHBhZ2VIZWlnaHQgPSB0bXA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93ICdJbnZhbGlkIG9yaWVudGF0aW9uOiAnICsgb3JpZW50YXRpb247XG4gIH0gLy8gUmV0dXJuIGluZm9ybWF0aW9uIChrIGlzIHRoZSB1bml0IGNvbnZlcnNpb24gcmF0aW8gZnJvbSBwdHMpXG5cblxuICB2YXIgaW5mbyA9IHtcbiAgICAnd2lkdGgnOiBwYWdlV2lkdGgsXG4gICAgJ2hlaWdodCc6IHBhZ2VIZWlnaHQsXG4gICAgJ3VuaXQnOiB1bml0LFxuICAgICdrJzoga1xuICB9O1xuICByZXR1cm4gaW5mbztcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoanNwZGZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXy5qc1BERik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3BsdWdpbi9wYWdlYnJlYWtzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3BsdWdpbi9wYWdlYnJlYWtzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9jb25jYXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9jb25jYXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfY29uY2F0X2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9zbGljZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9zbGljZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9zbGljZV9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfam9pbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfam9pbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9qb2luX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc193ZWJfZG9tX2NvbGxlY3Rpb25zX2Zvcl9lYWNoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc193ZWJfZG9tX2NvbGxlY3Rpb25zX2Zvcl9lYWNoX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfZm9yX2VhY2hfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF9rZXlzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF9rZXlzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF9rZXlzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF93b3JrZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3dvcmtlci5qcyAqLyBcIi4vc3JjL3dvcmtlci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzLmpzICovIFwiLi9zcmMvdXRpbHMuanNcIik7XG5cblxuXG5cblxuXG5cbi8qIFBhZ2VicmVhayBwbHVnaW46XG5cbiAgICBBZGRzIHBhZ2UtYnJlYWsgZnVuY3Rpb25hbGl0eSB0byB0aGUgaHRtbDJwZGYgbGlicmFyeS4gUGFnZS1icmVha3MgY2FuIGJlXG4gICAgZW5hYmxlZCBieSBDU1Mgc3R5bGVzLCBzZXQgb24gaW5kaXZpZHVhbCBlbGVtZW50cyB1c2luZyBzZWxlY3RvcnMsIG9yXG4gICAgYXZvaWRlZCBmcm9tIGJyZWFraW5nIGluc2lkZSBhbGwgZWxlbWVudHMuXG5cbiAgICBPcHRpb25zIG9uIHRoZSBgb3B0LnBhZ2VicmVha2Agb2JqZWN0OlxuXG4gICAgbW9kZTogICBTdHJpbmcgb3IgYXJyYXkgb2Ygc3RyaW5nczogJ2F2b2lkLWFsbCcsICdjc3MnLCBhbmQvb3IgJ2xlZ2FjeSdcbiAgICAgICAgICAgIERlZmF1bHQ6IFsnY3NzJywgJ2xlZ2FjeSddXG5cbiAgICBiZWZvcmU6IFN0cmluZyBvciBhcnJheSBvZiBDU1Mgc2VsZWN0b3JzIGZvciB3aGljaCB0byBhZGQgcGFnZS1icmVha3NcbiAgICAgICAgICAgIGJlZm9yZSBlYWNoIGVsZW1lbnQuIENhbiBiZSBhIHNwZWNpZmljIGVsZW1lbnQgd2l0aCBhbiBJRFxuICAgICAgICAgICAgKCcjbXlJRCcpLCBhbGwgZWxlbWVudHMgb2YgYSB0eXBlIChlLmcuICdpbWcnKSwgYWxsIG9mIGEgY2xhc3NcbiAgICAgICAgICAgICgnLm15Q2xhc3MnKSwgb3IgZXZlbiAnKicgdG8gbWF0Y2ggZXZlcnkgZWxlbWVudC5cblxuICAgIGFmdGVyOiAgTGlrZSAnYmVmb3JlJywgYnV0IGFkZHMgYSBwYWdlLWJyZWFrIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBlbGVtZW50LlxuXG4gICAgYXZvaWQ6ICBMaWtlICdiZWZvcmUnLCBidXQgYXZvaWRzIHBhZ2UtYnJlYWtzIG9uIHRoZXNlIGVsZW1lbnRzLiBZb3UgY2FuXG4gICAgICAgICAgICBlbmFibGUgdGhpcyBmZWF0dXJlIG9uIGV2ZXJ5IGVsZW1lbnQgdXNpbmcgdGhlICdhdm9pZC1hbGwnIG1vZGUuXG4qL1xuLy8gUmVmcyB0byBvcmlnaW5hbCBmdW5jdGlvbnMuXG5cbnZhciBvcmlnID0ge1xuICB0b0NvbnRhaW5lcjogX3dvcmtlcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fLmRlZmF1bHQucHJvdG90eXBlLnRvQ29udGFpbmVyXG59OyAvLyBBZGQgcGFnZWJyZWFrIGRlZmF1bHQgb3B0aW9ucyB0byB0aGUgV29ya2VyIHRlbXBsYXRlLlxuXG5fd29ya2VyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18uZGVmYXVsdC50ZW1wbGF0ZS5vcHQucGFnZWJyZWFrID0ge1xuICBtb2RlOiBbJ2NzcycsICdsZWdhY3knXSxcbiAgYmVmb3JlOiBbXSxcbiAgYWZ0ZXI6IFtdLFxuICBhdm9pZDogW11cbn07XG5cbl93b3JrZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXy5kZWZhdWx0LnByb3RvdHlwZS50b0NvbnRhaW5lciA9IGZ1bmN0aW9uIHRvQ29udGFpbmVyKCkge1xuICByZXR1cm4gb3JpZy50b0NvbnRhaW5lci5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24gdG9Db250YWluZXJfcGFnZWJyZWFrKCkge1xuICAgIC8vIFNldHVwIHJvb3QgZWxlbWVudCBhbmQgaW5uZXIgcGFnZSBoZWlnaHQuXG4gICAgdmFyIHJvb3QgPSB0aGlzLnByb3AuY29udGFpbmVyO1xuICAgIHZhciBweFBhZ2VIZWlnaHQgPSB0aGlzLnByb3AucGFnZVNpemUuaW5uZXIucHguaGVpZ2h0OyAvLyBDaGVjayBhbGwgcmVxdWVzdGVkIG1vZGVzLlxuXG4gICAgdmFyIG1vZGVTcmMgPSBbXS5jb25jYXQodGhpcy5vcHQucGFnZWJyZWFrLm1vZGUpO1xuICAgIHZhciBtb2RlID0ge1xuICAgICAgYXZvaWRBbGw6IG1vZGVTcmMuaW5kZXhPZignYXZvaWQtYWxsJykgIT09IC0xLFxuICAgICAgY3NzOiBtb2RlU3JjLmluZGV4T2YoJ2NzcycpICE9PSAtMSxcbiAgICAgIGxlZ2FjeTogbW9kZVNyYy5pbmRleE9mKCdsZWdhY3knKSAhPT0gLTFcbiAgICB9OyAvLyBHZXQgYXJyYXlzIG9mIGFsbCBleHBsaWNpdGx5IHJlcXVlc3RlZCBlbGVtZW50cy5cblxuICAgIHZhciBzZWxlY3QgPSB7fTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgWydiZWZvcmUnLCAnYWZ0ZXInLCAnYXZvaWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBhbGwgPSBtb2RlLmF2b2lkQWxsICYmIGtleSA9PT0gJ2F2b2lkJztcbiAgICAgIHNlbGVjdFtrZXldID0gYWxsID8gW10gOiBbXS5jb25jYXQoc2VsZi5vcHQucGFnZWJyZWFrW2tleV0gfHwgW10pO1xuXG4gICAgICBpZiAoc2VsZWN0W2tleV0ubGVuZ3RoID4gMCkge1xuICAgICAgICBzZWxlY3Rba2V5XSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJvb3QucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rba2V5XS5qb2luKCcsICcpKSk7XG4gICAgICB9XG4gICAgfSk7IC8vIEdldCBhbGwgbGVnYWN5IHBhZ2UtYnJlYWsgZWxlbWVudHMuXG5cbiAgICB2YXIgbGVnYWN5RWxzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcuaHRtbDJwZGZfX3BhZ2UtYnJlYWsnKTtcbiAgICBsZWdhY3lFbHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChsZWdhY3lFbHMpOyAvLyBMb29wIHRocm91Z2ggYWxsIGVsZW1lbnRzLlxuXG4gICAgdmFyIGVscyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWxzLCBmdW5jdGlvbiBwYWdlYnJlYWtfbG9vcChlbCkge1xuICAgICAgLy8gU2V0dXAgcGFnZWJyZWFrIHJ1bGVzIGJhc2VkIG9uIGxlZ2FjeSBhbmQgYXZvaWRBbGwgbW9kZXMuXG4gICAgICB2YXIgcnVsZXMgPSB7XG4gICAgICAgIGJlZm9yZTogZmFsc2UsXG4gICAgICAgIGFmdGVyOiBtb2RlLmxlZ2FjeSAmJiBsZWdhY3lFbHMuaW5kZXhPZihlbCkgIT09IC0xLFxuICAgICAgICBhdm9pZDogbW9kZS5hdm9pZEFsbFxuICAgICAgfTsgLy8gQWRkIHJ1bGVzIGZvciBjc3MgbW9kZS5cblxuICAgICAgaWYgKG1vZGUuY3NzKSB7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGlmIHRoaXMgaXMgdmFsaWQgd2l0aCBpRnJhbWVzLlxuICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7IC8vIFRPRE86IEhhbmRsZSAnbGVmdCcgYW5kICdyaWdodCcgY29ycmVjdGx5LlxuICAgICAgICAvLyBUT0RPOiBBZGQgc3VwcG9ydCBmb3IgJ2F2b2lkJyBvbiBicmVha0JlZm9yZS9BZnRlci5cblxuICAgICAgICB2YXIgYnJlYWtPcHQgPSBbJ2Fsd2F5cycsICdwYWdlJywgJ2xlZnQnLCAncmlnaHQnXTtcbiAgICAgICAgdmFyIGF2b2lkT3B0ID0gWydhdm9pZCcsICdhdm9pZC1wYWdlJ107XG4gICAgICAgIHJ1bGVzID0ge1xuICAgICAgICAgIGJlZm9yZTogcnVsZXMuYmVmb3JlIHx8IGJyZWFrT3B0LmluZGV4T2Yoc3R5bGUuYnJlYWtCZWZvcmUgfHwgc3R5bGUucGFnZUJyZWFrQmVmb3JlKSAhPT0gLTEsXG4gICAgICAgICAgYWZ0ZXI6IHJ1bGVzLmFmdGVyIHx8IGJyZWFrT3B0LmluZGV4T2Yoc3R5bGUuYnJlYWtBZnRlciB8fCBzdHlsZS5wYWdlQnJlYWtBZnRlcikgIT09IC0xLFxuICAgICAgICAgIGF2b2lkOiBydWxlcy5hdm9pZCB8fCBhdm9pZE9wdC5pbmRleE9mKHN0eWxlLmJyZWFrSW5zaWRlIHx8IHN0eWxlLnBhZ2VCcmVha0luc2lkZSkgIT09IC0xXG4gICAgICAgIH07XG4gICAgICB9IC8vIEFkZCBydWxlcyBmb3IgZXhwbGljaXQgcmVxdWVzdHMuXG5cblxuICAgICAgT2JqZWN0LmtleXMocnVsZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBydWxlc1trZXldID0gcnVsZXNba2V5XSB8fCBzZWxlY3Rba2V5XS5pbmRleE9mKGVsKSAhPT0gLTE7XG4gICAgICB9KTsgLy8gR2V0IGVsZW1lbnQgcG9zaXRpb24gb24gdGhlIHNjcmVlbi5cbiAgICAgIC8vIFRPRE86IFN1YnRyYWN0IHRoZSB0b3Agb2YgdGhlIGNvbnRhaW5lciBmcm9tIGNsaWVudFJlY3QudG9wL2JvdHRvbT9cblxuICAgICAgdmFyIGNsaWVudFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gQXZvaWQ6IENoZWNrIGlmIGEgYnJlYWsgaGFwcGVucyBtaWQtZWxlbWVudC5cblxuICAgICAgaWYgKHJ1bGVzLmF2b2lkICYmICFydWxlcy5iZWZvcmUpIHtcbiAgICAgICAgdmFyIHN0YXJ0UGFnZSA9IE1hdGguZmxvb3IoY2xpZW50UmVjdC50b3AgLyBweFBhZ2VIZWlnaHQpO1xuICAgICAgICB2YXIgZW5kUGFnZSA9IE1hdGguZmxvb3IoY2xpZW50UmVjdC5ib3R0b20gLyBweFBhZ2VIZWlnaHQpO1xuICAgICAgICB2YXIgblBhZ2VzID0gTWF0aC5hYnMoY2xpZW50UmVjdC5ib3R0b20gLSBjbGllbnRSZWN0LnRvcCkgLyBweFBhZ2VIZWlnaHQ7IC8vIFR1cm4gb24gcnVsZXMuYmVmb3JlIGlmIHRoZSBlbCBpcyBicm9rZW4gYW5kIGlzIGF0IG1vc3Qgb25lIHBhZ2UgbG9uZy5cblxuICAgICAgICBpZiAoZW5kUGFnZSAhPT0gc3RhcnRQYWdlICYmIG5QYWdlcyA8PSAxKSB7XG4gICAgICAgICAgcnVsZXMuYmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBCZWZvcmU6IENyZWF0ZSBhIHBhZGRpbmcgZGl2IHRvIHB1c2ggdGhlIGVsZW1lbnQgdG8gdGhlIG5leHQgcGFnZS5cblxuXG4gICAgICBpZiAocnVsZXMuYmVmb3JlKSB7XG4gICAgICAgIHZhciBwYWQgPSAoMCxfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXy5jcmVhdGVFbGVtZW50KSgnZGl2Jywge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgICAgaGVpZ2h0OiBweFBhZ2VIZWlnaHQgLSBjbGllbnRSZWN0LnRvcCAlIHB4UGFnZUhlaWdodCArICdweCdcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwYWQsIGVsKTtcbiAgICAgIH0gLy8gQWZ0ZXI6IENyZWF0ZSBhIHBhZGRpbmcgZGl2IHRvIGZpbGwgdGhlIHJlbWFpbmluZyBwYWdlLlxuXG5cbiAgICAgIGlmIChydWxlcy5hZnRlcikge1xuICAgICAgICB2YXIgcGFkID0gKDAsX3V0aWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18uY3JlYXRlRWxlbWVudCkoJ2RpdicsIHtcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgIGhlaWdodDogcHhQYWdlSGVpZ2h0IC0gY2xpZW50UmVjdC5ib3R0b20gJSBweFBhZ2VIZWlnaHQgKyAncHgnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGFkLCBlbC5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGV4cG9ydCAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xuLyogaGFybW9ueSBleHBvcnQgKi8gICBcIm9ialR5cGVcIjogZnVuY3Rpb24oKSB7IHJldHVybiAvKiBiaW5kaW5nICovIG9ialR5cGU7IH0sXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwiY3JlYXRlRWxlbWVudFwiOiBmdW5jdGlvbigpIHsgcmV0dXJuIC8qIGJpbmRpbmcgKi8gY3JlYXRlRWxlbWVudDsgfSxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJjbG9uZU5vZGVcIjogZnVuY3Rpb24oKSB7IHJldHVybiAvKiBiaW5kaW5nICovIGNsb25lTm9kZTsgfSxcbi8qIGhhcm1vbnkgZXhwb3J0ICovICAgXCJ1bml0Q29udmVydFwiOiBmdW5jdGlvbigpIHsgcmV0dXJuIC8qIGJpbmRpbmcgKi8gdW5pdENvbnZlcnQ7IH0sXG4vKiBoYXJtb255IGV4cG9ydCAqLyAgIFwidG9QeFwiOiBmdW5jdGlvbigpIHsgcmV0dXJuIC8qIGJpbmRpbmcgKi8gdG9QeDsgfVxuLyogaGFybW9ueSBleHBvcnQgKi8gfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX251bWJlcl9jb25zdHJ1Y3Rvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX251bWJlcl9jb25zdHJ1Y3Rvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19udW1iZXJfY29uc3RydWN0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19zeW1ib2xfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9kZXNjcmlwdGlvbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9kZXNjcmlwdGlvbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19zeW1ib2xfZGVzY3JpcHRpb25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF90b19zdHJpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF90b19zdHJpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X3RvX3N0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfc3ltYm9sX2l0ZXJhdG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfc3ltYm9sX2l0ZXJhdG9yX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY29yZV9qc19tb2R1bGVzX2VzX3N5bWJvbF9pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N0cmluZ19pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX3N0cmluZ19pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19zdHJpbmdfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfaXRlcmF0b3JfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfd2ViX2RvbV9jb2xsZWN0aW9uc19pdGVyYXRvcl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fKTtcblxuXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuLy8gRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGEgdmFyaWFibGUvb2JqZWN0LlxudmFyIG9ialR5cGUgPSBmdW5jdGlvbiBvYmpUeXBlKG9iaikge1xuICB2YXIgdHlwZSA9IF90eXBlb2Yob2JqKTtcblxuICBpZiAodHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAndW5kZWZpbmVkJztlbHNlIGlmICh0eXBlID09PSAnc3RyaW5nJyB8fCBvYmogaW5zdGFuY2VvZiBTdHJpbmcpIHJldHVybiAnc3RyaW5nJztlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyB8fCBvYmogaW5zdGFuY2VvZiBOdW1iZXIpIHJldHVybiAnbnVtYmVyJztlbHNlIGlmICh0eXBlID09PSAnZnVuY3Rpb24nIHx8IG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSByZXR1cm4gJ2Z1bmN0aW9uJztlbHNlIGlmICghIW9iaiAmJiBvYmouY29uc3RydWN0b3IgPT09IEFycmF5KSByZXR1cm4gJ2FycmF5JztlbHNlIGlmIChvYmogJiYgb2JqLm5vZGVUeXBlID09PSAxKSByZXR1cm4gJ2VsZW1lbnQnO2Vsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSByZXR1cm4gJ29iamVjdCc7ZWxzZSByZXR1cm4gJ3Vua25vd24nO1xufTsgLy8gQ3JlYXRlIGFuIEhUTUwgZWxlbWVudCB3aXRoIG9wdGlvbmFsIGNsYXNzTmFtZSwgaW5uZXJIVE1MLCBhbmQgc3R5bGUuXG5cbnZhciBjcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCBvcHQpIHtcbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKG9wdC5jbGFzc05hbWUpIGVsLmNsYXNzTmFtZSA9IG9wdC5jbGFzc05hbWU7XG5cbiAgaWYgKG9wdC5pbm5lckhUTUwpIHtcbiAgICBlbC5pbm5lckhUTUwgPSBvcHQuaW5uZXJIVE1MO1xuICAgIHZhciBzY3JpcHRzID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuXG4gICAgZm9yICh2YXIgaSA9IHNjcmlwdHMubGVuZ3RoOyBpLS0gPiAwOyBudWxsKSB7XG4gICAgICBzY3JpcHRzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0c1tpXSk7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIga2V5IGluIG9wdC5zdHlsZSkge1xuICAgIGVsLnN0eWxlW2tleV0gPSBvcHQuc3R5bGVba2V5XTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn07IC8vIERlZXAtY2xvbmUgYSBub2RlIGFuZCBwcmVzZXJ2ZSBjb250ZW50cy9wcm9wZXJ0aWVzLlxuXG52YXIgY2xvbmVOb2RlID0gZnVuY3Rpb24gY2xvbmVOb2RlKG5vZGUsIGphdmFzY3JpcHRFbmFibGVkKSB7XG4gIC8vIFJlY3Vyc2l2ZWx5IGNsb25lIHRoZSBub2RlLlxuICB2YXIgY2xvbmUgPSBub2RlLm5vZGVUeXBlID09PSAzID8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS5ub2RlVmFsdWUpIDogbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuXG4gIGZvciAodmFyIGNoaWxkID0gbm9kZS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgIGlmIChqYXZhc2NyaXB0RW5hYmxlZCA9PT0gdHJ1ZSB8fCBjaGlsZC5ub2RlVHlwZSAhPT0gMSB8fCBjaGlsZC5ub2RlTmFtZSAhPT0gJ1NDUklQVCcpIHtcbiAgICAgIGNsb25lLmFwcGVuZENoaWxkKGNsb25lTm9kZShjaGlsZCwgamF2YXNjcmlwdEVuYWJsZWQpKTtcbiAgICB9XG4gIH1cblxuICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIC8vIFByZXNlcnZlIGNvbnRlbnRzL3Byb3BlcnRpZXMgb2Ygc3BlY2lhbCBub2Rlcy5cbiAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ0NBTlZBUycpIHtcbiAgICAgIGNsb25lLndpZHRoID0gbm9kZS53aWR0aDtcbiAgICAgIGNsb25lLmhlaWdodCA9IG5vZGUuaGVpZ2h0O1xuICAgICAgY2xvbmUuZ2V0Q29udGV4dCgnMmQnKS5kcmF3SW1hZ2Uobm9kZSwgMCwgMCk7XG4gICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSAnVEVYVEFSRUEnIHx8IG5vZGUubm9kZU5hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBjbG9uZS52YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgfSAvLyBQcmVzZXJ2ZSB0aGUgbm9kZSdzIHNjcm9sbCBwb3NpdGlvbiB3aGVuIGl0IGxvYWRzLlxuXG5cbiAgICBjbG9uZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgY2xvbmUuc2Nyb2xsVG9wID0gbm9kZS5zY3JvbGxUb3A7XG4gICAgICBjbG9uZS5zY3JvbGxMZWZ0ID0gbm9kZS5zY3JvbGxMZWZ0O1xuICAgIH0sIHRydWUpO1xuICB9IC8vIFJldHVybiB0aGUgY2xvbmVkIG5vZGUuXG5cblxuICByZXR1cm4gY2xvbmU7XG59OyAvLyBDb252ZXJ0IHVuaXRzIGZyb20gcHggdXNpbmcgdGhlIGNvbnZlcnNpb24gdmFsdWUgJ2snIGZyb20ganNQREYuXG5cbnZhciB1bml0Q29udmVydCA9IGZ1bmN0aW9uIHVuaXRDb252ZXJ0KG9iaiwgaykge1xuICBpZiAob2JqVHlwZShvYmopID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBvYmogKiA3MiAvIDk2IC8gaztcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmV3T2JqID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldICogNzIgLyA5NiAvIGs7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld09iajtcbiAgfVxufTsgLy8gQ29udmVydCB1bml0cyB0byBweCB1c2luZyB0aGUgY29udmVyc2lvbiB2YWx1ZSAnaycgZnJvbSBqc1BERi5cblxudmFyIHRvUHggPSBmdW5jdGlvbiB0b1B4KHZhbCwgaykge1xuICByZXR1cm4gTWF0aC5mbG9vcih2YWwgKiBrIC8gNzIgKiA5Nik7XG59O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy93b3JrZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3dvcmtlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF9hc3NpZ25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuYXNzaWduLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF9hc3NpZ25fanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X2Fzc2lnbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfbWFwX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfYXJyYXlfbWFwX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY29yZV9qc19tb2R1bGVzX2VzX2FycmF5X21hcF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X2tleXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X2tleXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X2tleXNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX2FycmF5X2NvbmNhdF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX2FycmF5X2NvbmNhdF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19hcnJheV9jb25jYXRfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF90b19zdHJpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX2VzX29iamVjdF90b19zdHJpbmdfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfZXNfb2JqZWN0X3RvX3N0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfcmVnZXhwX3RvX3N0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBjb3JlX2pzX21vZHVsZXNfZXNfcmVnZXhwX3RvX3N0cmluZ19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGNvcmVfanNfbW9kdWxlc19lc19yZWdleHBfdG9fc3RyaW5nX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc19lc19mdW5jdGlvbl9uYW1lX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGNvcmVfanNfbW9kdWxlc19lc19mdW5jdGlvbl9uYW1lX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oY29yZV9qc19tb2R1bGVzX2VzX2Z1bmN0aW9uX25hbWVfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfZm9yX2VhY2hfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanNcIik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgY29yZV9qc19tb2R1bGVzX3dlYl9kb21fY29sbGVjdGlvbnNfZm9yX2VhY2hfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihjb3JlX2pzX21vZHVsZXNfd2ViX2RvbV9jb2xsZWN0aW9uc19mb3JfZWFjaF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBqc3BkZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEganNwZGYgKi8gXCJqc3BkZlwiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBqc3BkZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGpzcGRmX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGh0bWwyY2FudmFzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBodG1sMmNhbnZhcyAqLyBcImh0bWwyY2FudmFzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGh0bWwyY2FudmFzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV85X19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oaHRtbDJjYW52YXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX3V0aWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy5qcyAqLyBcIi4vc3JjL3V0aWxzLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGVzNl9wcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZXM2LXByb21pc2UgKi8gXCIuL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzXCIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIGVzNl9wcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGVzNl9wcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fKTtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBQcm9taXNlID0gKGVzNl9wcm9taXNlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fX2RlZmF1bHQoKS5Qcm9taXNlKTtcbi8qIC0tLS0tIENPTlNUUlVDVE9SIC0tLS0tICovXG5cbnZhciBXb3JrZXIgPSBmdW5jdGlvbiBXb3JrZXIob3B0KSB7XG4gIC8vIENyZWF0ZSB0aGUgcm9vdCBwYXJlbnQgZm9yIHRoZSBwcm90byBjaGFpbiwgYW5kIHRoZSBzdGFydGluZyBXb3JrZXIuXG4gIHZhciByb290ID0gT2JqZWN0LmFzc2lnbihXb3JrZXIuY29udmVydChQcm9taXNlLnJlc29sdmUoKSksIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoV29ya2VyLnRlbXBsYXRlKSkpO1xuICB2YXIgc2VsZiA9IFdvcmtlci5jb252ZXJ0KFByb21pc2UucmVzb2x2ZSgpLCByb290KTsgLy8gU2V0IHByb2dyZXNzLCBvcHRpb25hbCBzZXR0aW5ncywgYW5kIHJldHVybi5cblxuICBzZWxmID0gc2VsZi5zZXRQcm9ncmVzcygxLCBXb3JrZXIsIDEsIFtXb3JrZXJdKTtcbiAgc2VsZiA9IHNlbGYuc2V0KG9wdCk7XG4gIHJldHVybiBzZWxmO1xufTsgLy8gQm9pbGVycGxhdGUgZm9yIHN1YmNsYXNzaW5nIFByb21pc2UuXG5cblxuV29ya2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJvbWlzZS5wcm90b3R5cGUpO1xuV29ya2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFdvcmtlcjsgLy8gQ29udmVydHMvY2FzdHMgcHJvbWlzZXMgaW50byBXb3JrZXJzLlxuXG5Xb3JrZXIuY29udmVydCA9IGZ1bmN0aW9uIGNvbnZlcnQocHJvbWlzZSwgaW5oZXJpdCkge1xuICAvLyBVc2VzIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgdG8gcmVjZWl2ZSBjaGFuZ2VzIG1hZGUgdG8gYW5jZXN0b3JzJyBwcm9wZXJ0aWVzLlxuICBwcm9taXNlLl9fcHJvdG9fXyA9IGluaGVyaXQgfHwgV29ya2VyLnByb3RvdHlwZTtcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5Xb3JrZXIudGVtcGxhdGUgPSB7XG4gIHByb3A6IHtcbiAgICBzcmM6IG51bGwsXG4gICAgY29udGFpbmVyOiBudWxsLFxuICAgIG92ZXJsYXk6IG51bGwsXG4gICAgY2FudmFzOiBudWxsLFxuICAgIGltZzogbnVsbCxcbiAgICBwZGY6IG51bGwsXG4gICAgcGFnZVNpemU6IG51bGxcbiAgfSxcbiAgcHJvZ3Jlc3M6IHtcbiAgICB2YWw6IDAsXG4gICAgc3RhdGU6IG51bGwsXG4gICAgbjogMCxcbiAgICBzdGFjazogW11cbiAgfSxcbiAgb3B0OiB7XG4gICAgZmlsZW5hbWU6ICdmaWxlLnBkZicsXG4gICAgbWFyZ2luOiBbMCwgMCwgMCwgMF0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHR5cGU6ICdqcGVnJyxcbiAgICAgIHF1YWxpdHk6IDAuOTVcbiAgICB9LFxuICAgIGVuYWJsZUxpbmtzOiB0cnVlLFxuICAgIGh0bWwyY2FudmFzOiB7fSxcbiAgICBqc1BERjoge31cbiAgfVxufTtcbi8qIC0tLS0tIEZST00gLyBUTyAtLS0tLSAqL1xuXG5Xb3JrZXIucHJvdG90eXBlLmZyb20gPSBmdW5jdGlvbiBmcm9tKHNyYywgdHlwZSkge1xuICBmdW5jdGlvbiBnZXRUeXBlKHNyYykge1xuICAgIHN3aXRjaCAoKDAsX3V0aWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fLm9ialR5cGUpKHNyYykpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiAnc3RyaW5nJztcblxuICAgICAgY2FzZSAnZWxlbWVudCc6XG4gICAgICAgIHJldHVybiBzcmMubm9kZU5hbWUudG9Mb3dlckNhc2UgJiYgc3JjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdjYW52YXMnID8gJ2NhbnZhcycgOiAnZWxlbWVudCc7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiBmcm9tX21haW4oKSB7XG4gICAgdHlwZSA9IHR5cGUgfHwgZ2V0VHlwZShzcmMpO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gdGhpcy5zZXQoe1xuICAgICAgICAgIHNyYzogKDAsX3V0aWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fLmNyZWF0ZUVsZW1lbnQpKCdkaXYnLCB7XG4gICAgICAgICAgICBpbm5lckhUTUw6IHNyY1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICBjYXNlICdlbGVtZW50JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHtcbiAgICAgICAgICBzcmM6IHNyY1xuICAgICAgICB9KTtcblxuICAgICAgY2FzZSAnY2FudmFzJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHtcbiAgICAgICAgICBjYW52YXM6IHNyY1xuICAgICAgICB9KTtcblxuICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHtcbiAgICAgICAgICBpbWc6IHNyY1xuICAgICAgICB9KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoJ1Vua25vd24gc291cmNlIHR5cGUuJyk7XG4gICAgfVxuICB9KTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiB0byh0YXJnZXQpIHtcbiAgLy8gUm91dGUgdGhlICd0bycgcmVxdWVzdCB0byB0aGUgYXBwcm9wcmlhdGUgbWV0aG9kLlxuICBzd2l0Y2ggKHRhcmdldCkge1xuICAgIGNhc2UgJ2NvbnRhaW5lcic6XG4gICAgICByZXR1cm4gdGhpcy50b0NvbnRhaW5lcigpO1xuXG4gICAgY2FzZSAnY2FudmFzJzpcbiAgICAgIHJldHVybiB0aGlzLnRvQ2FudmFzKCk7XG5cbiAgICBjYXNlICdpbWcnOlxuICAgICAgcmV0dXJuIHRoaXMudG9JbWcoKTtcblxuICAgIGNhc2UgJ3BkZic6XG4gICAgICByZXR1cm4gdGhpcy50b1BkZigpO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB0aGlzLmVycm9yKCdJbnZhbGlkIHRhcmdldC4nKTtcbiAgfVxufTtcblxuV29ya2VyLnByb3RvdHlwZS50b0NvbnRhaW5lciA9IGZ1bmN0aW9uIHRvQ29udGFpbmVyKCkge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tTcmMoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5zcmMgfHwgdGhpcy5lcnJvcignQ2Fubm90IGR1cGxpY2F0ZSAtIG5vIHNvdXJjZSBIVE1MLicpO1xuICB9LCBmdW5jdGlvbiBjaGVja1BhZ2VTaXplKCkge1xuICAgIHJldHVybiB0aGlzLnByb3AucGFnZVNpemUgfHwgdGhpcy5zZXRQYWdlU2l6ZSgpO1xuICB9XTtcbiAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcykudGhlbihmdW5jdGlvbiB0b0NvbnRhaW5lcl9tYWluKCkge1xuICAgIC8vIERlZmluZSB0aGUgQ1NTIHN0eWxlcyBmb3IgdGhlIGNvbnRhaW5lciBhbmQgaXRzIG92ZXJsYXkgcGFyZW50LlxuICAgIHZhciBvdmVybGF5Q1NTID0ge1xuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuOCknXG4gICAgfTtcbiAgICB2YXIgY29udGFpbmVyQ1NTID0ge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLndpZHRoICsgdGhpcy5wcm9wLnBhZ2VTaXplLnVuaXQsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICAgIG1hcmdpbjogJ2F1dG8nLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnXG4gICAgfTsgLy8gU2V0IHRoZSBvdmVybGF5IHRvIGhpZGRlbiAoY291bGQgYmUgY2hhbmdlZCBpbiB0aGUgZnV0dXJlIHRvIHByb3ZpZGUgYSBwcmludCBwcmV2aWV3KS5cblxuICAgIG92ZXJsYXlDU1Mub3BhY2l0eSA9IDA7IC8vIENyZWF0ZSBhbmQgYXR0YWNoIHRoZSBlbGVtZW50cy5cblxuICAgIHZhciBzb3VyY2UgPSAoMCxfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18uY2xvbmVOb2RlKSh0aGlzLnByb3Auc3JjLCB0aGlzLm9wdC5odG1sMmNhbnZhcy5qYXZhc2NyaXB0RW5hYmxlZCk7XG4gICAgdGhpcy5wcm9wLm92ZXJsYXkgPSAoMCxfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18uY3JlYXRlRWxlbWVudCkoJ2RpdicsIHtcbiAgICAgIGNsYXNzTmFtZTogJ2h0bWwycGRmX19vdmVybGF5JyxcbiAgICAgIHN0eWxlOiBvdmVybGF5Q1NTXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wLmNvbnRhaW5lciA9ICgwLF91dGlsc19qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXy5jcmVhdGVFbGVtZW50KSgnZGl2Jywge1xuICAgICAgY2xhc3NOYW1lOiAnaHRtbDJwZGZfX2NvbnRhaW5lcicsXG4gICAgICBzdHlsZTogY29udGFpbmVyQ1NTXG4gICAgfSk7XG4gICAgdGhpcy5wcm9wLmNvbnRhaW5lci5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgIHRoaXMucHJvcC5vdmVybGF5LmFwcGVuZENoaWxkKHRoaXMucHJvcC5jb250YWluZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wcm9wLm92ZXJsYXkpO1xuICB9KTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudG9DYW52YXMgPSBmdW5jdGlvbiB0b0NhbnZhcygpIHtcbiAgLy8gU2V0IHVwIGZ1bmN0aW9uIHByZXJlcXVpc2l0ZXMuXG4gIHZhciBwcmVyZXFzID0gW2Z1bmN0aW9uIGNoZWNrQ29udGFpbmVyKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMucHJvcC5jb250YWluZXIpIHx8IHRoaXMudG9Db250YWluZXIoKTtcbiAgfV07IC8vIEZ1bGZpbGwgcHJlcmVxcyB0aGVuIGNyZWF0ZSB0aGUgY2FudmFzLlxuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gdG9DYW52YXNfbWFpbigpIHtcbiAgICAvLyBIYW5kbGUgb2xkLWZhc2hpb25lZCAnb25yZW5kZXJlZCcgYXJndW1lbnQuXG4gICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdC5odG1sMmNhbnZhcyk7XG4gICAgZGVsZXRlIG9wdGlvbnMub25yZW5kZXJlZDtcbiAgICByZXR1cm4gaHRtbDJjYW52YXNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyh0aGlzLnByb3AuY29udGFpbmVyLCBvcHRpb25zKTtcbiAgfSkudGhlbihmdW5jdGlvbiB0b0NhbnZhc19wb3N0KGNhbnZhcykge1xuICAgIC8vIEhhbmRsZSBvbGQtZmFzaGlvbmVkICdvbnJlbmRlcmVkJyBhcmd1bWVudC5cbiAgICB2YXIgb25SZW5kZXJlZCA9IHRoaXMub3B0Lmh0bWwyY2FudmFzLm9ucmVuZGVyZWQgfHwgZnVuY3Rpb24gKCkge307XG5cbiAgICBvblJlbmRlcmVkKGNhbnZhcyk7XG4gICAgdGhpcy5wcm9wLmNhbnZhcyA9IGNhbnZhcztcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMucHJvcC5vdmVybGF5KTtcbiAgfSk7XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLnRvSW1nID0gZnVuY3Rpb24gdG9JbWcoKSB7XG4gIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICB2YXIgcHJlcmVxcyA9IFtmdW5jdGlvbiBjaGVja0NhbnZhcygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wLmNhbnZhcyB8fCB0aGlzLnRvQ2FudmFzKCk7XG4gIH1dOyAvLyBGdWxmaWxsIHByZXJlcXMgdGhlbiBjcmVhdGUgdGhlIGltYWdlLlxuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gdG9JbWdfbWFpbigpIHtcbiAgICB2YXIgaW1nRGF0YSA9IHRoaXMucHJvcC5jYW52YXMudG9EYXRhVVJMKCdpbWFnZS8nICsgdGhpcy5vcHQuaW1hZ2UudHlwZSwgdGhpcy5vcHQuaW1hZ2UucXVhbGl0eSk7XG4gICAgdGhpcy5wcm9wLmltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIHRoaXMucHJvcC5pbWcuc3JjID0gaW1nRGF0YTtcbiAgfSk7XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLnRvUGRmID0gZnVuY3Rpb24gdG9QZGYoKSB7XG4gIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICB2YXIgcHJlcmVxcyA9IFtmdW5jdGlvbiBjaGVja0NhbnZhcygpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wLmNhbnZhcyB8fCB0aGlzLnRvQ2FudmFzKCk7XG4gIH0sIGZ1bmN0aW9uIGNoZWNrUGFnZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5wYWdlU2l6ZSB8fCB0aGlzLnNldFBhZ2VTaXplKCk7XG4gIH1dOyAvLyBGdWxmaWxsIHByZXJlcXMgdGhlbiBjcmVhdGUgdGhlIGltYWdlLlxuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gdG9QZGZfbWFpbigpIHtcbiAgICAvLyBDcmVhdGUgbG9jYWwgY29waWVzIG9mIGZyZXF1ZW50bHkgdXNlZCBwcm9wZXJ0aWVzLlxuICAgIHZhciBjYW52YXMgPSB0aGlzLnByb3AuY2FudmFzO1xuICAgIHZhciBvcHQgPSB0aGlzLm9wdDsgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgcGFnZXMuXG5cbiAgICB2YXIgcHhGdWxsSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICB2YXIgcHhQYWdlSGVpZ2h0ID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggKiB0aGlzLnByb3AucGFnZVNpemUuaW5uZXIucmF0aW8pO1xuICAgIHZhciBuUGFnZXMgPSBNYXRoLmNlaWwocHhGdWxsSGVpZ2h0IC8gcHhQYWdlSGVpZ2h0KTsgLy8gRGVmaW5lIHBhZ2VIZWlnaHQgc2VwYXJhdGVseSBzbyBpdCBjYW4gYmUgdHJpbW1lZCBvbiB0aGUgZmluYWwgcGFnZS5cblxuICAgIHZhciBwYWdlSGVpZ2h0ID0gdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLmhlaWdodDsgLy8gQ3JlYXRlIGEgb25lLXBhZ2UgY2FudmFzIHRvIHNwbGl0IHVwIHRoZSBmdWxsIGltYWdlLlxuXG4gICAgdmFyIHBhZ2VDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB2YXIgcGFnZUN0eCA9IHBhZ2VDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBwYWdlQ2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHBhZ2VDYW52YXMuaGVpZ2h0ID0gcHhQYWdlSGVpZ2h0OyAvLyBJbml0aWFsaXplIHRoZSBQREYuXG5cbiAgICB0aGlzLnByb3AucGRmID0gdGhpcy5wcm9wLnBkZiB8fCBuZXcganNwZGZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXy5qc1BERihvcHQuanNQREYpO1xuXG4gICAgZm9yICh2YXIgcGFnZSA9IDA7IHBhZ2UgPCBuUGFnZXM7IHBhZ2UrKykge1xuICAgICAgLy8gVHJpbSB0aGUgZmluYWwgcGFnZSB0byByZWR1Y2UgZmlsZSBzaXplLlxuICAgICAgaWYgKHBhZ2UgPT09IG5QYWdlcyAtIDEgJiYgcHhGdWxsSGVpZ2h0ICUgcHhQYWdlSGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgIHBhZ2VDYW52YXMuaGVpZ2h0ID0gcHhGdWxsSGVpZ2h0ICUgcHhQYWdlSGVpZ2h0O1xuICAgICAgICBwYWdlSGVpZ2h0ID0gcGFnZUNhbnZhcy5oZWlnaHQgKiB0aGlzLnByb3AucGFnZVNpemUuaW5uZXIud2lkdGggLyBwYWdlQ2FudmFzLndpZHRoO1xuICAgICAgfSAvLyBEaXNwbGF5IHRoZSBwYWdlLlxuXG5cbiAgICAgIHZhciB3ID0gcGFnZUNhbnZhcy53aWR0aDtcbiAgICAgIHZhciBoID0gcGFnZUNhbnZhcy5oZWlnaHQ7XG4gICAgICBwYWdlQ3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICBwYWdlQ3R4LmZpbGxSZWN0KDAsIDAsIHcsIGgpO1xuICAgICAgcGFnZUN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCBwYWdlICogcHhQYWdlSGVpZ2h0LCB3LCBoLCAwLCAwLCB3LCBoKTsgLy8gQWRkIHRoZSBwYWdlIHRvIHRoZSBQREYuXG5cbiAgICAgIGlmIChwYWdlKSB0aGlzLnByb3AucGRmLmFkZFBhZ2UoKTtcbiAgICAgIHZhciBpbWdEYXRhID0gcGFnZUNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlLycgKyBvcHQuaW1hZ2UudHlwZSwgb3B0LmltYWdlLnF1YWxpdHkpO1xuICAgICAgdGhpcy5wcm9wLnBkZi5hZGRJbWFnZShpbWdEYXRhLCBvcHQuaW1hZ2UudHlwZSwgb3B0Lm1hcmdpblsxXSwgb3B0Lm1hcmdpblswXSwgdGhpcy5wcm9wLnBhZ2VTaXplLmlubmVyLndpZHRoLCBwYWdlSGVpZ2h0KTtcbiAgICB9XG4gIH0pO1xufTtcbi8qIC0tLS0tIE9VVFBVVCAvIFNBVkUgLS0tLS0gKi9cblxuXG5Xb3JrZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uIG91dHB1dCh0eXBlLCBvcHRpb25zLCBzcmMpIHtcbiAgLy8gUmVkaXJlY3QgcmVxdWVzdHMgdG8gdGhlIGNvcnJlY3QgZnVuY3Rpb24gKG91dHB1dFBkZiAvIG91dHB1dEltZykuXG4gIHNyYyA9IHNyYyB8fCAncGRmJztcblxuICBpZiAoc3JjLnRvTG93ZXJDYXNlKCkgPT09ICdpbWcnIHx8IHNyYy50b0xvd2VyQ2FzZSgpID09PSAnaW1hZ2UnKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0SW1nKHR5cGUsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLm91dHB1dFBkZih0eXBlLCBvcHRpb25zKTtcbiAgfVxufTtcblxuV29ya2VyLnByb3RvdHlwZS5vdXRwdXRQZGYgPSBmdW5jdGlvbiBvdXRwdXRQZGYodHlwZSwgb3B0aW9ucykge1xuICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgdmFyIHByZXJlcXMgPSBbZnVuY3Rpb24gY2hlY2tQZGYoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcC5wZGYgfHwgdGhpcy50b1BkZigpO1xuICB9XTsgLy8gRnVsZmlsbCBwcmVyZXFzIHRoZW4gcGVyZm9ybSB0aGUgYXBwcm9wcmlhdGUgb3V0cHV0LlxuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gb3V0cHV0UGRmX21haW4oKSB7XG4gICAgLyogQ3VycmVudGx5IGltcGxlbWVudGVkIG91dHB1dCB0eXBlczpcbiAgICAgKiAgICBodHRwczovL3Jhd2dpdC5jb20vTXJSaW8vanNQREYvbWFzdGVyL2RvY3MvanNwZGYuanMuaHRtbCNsaW5lOTkyXG4gICAgICogIHNhdmUob3B0aW9ucyksIGFycmF5YnVmZmVyLCBibG9iLCBibG9idXJpL2Jsb2J1cmwsXG4gICAgICogIGRhdGF1cmlzdHJpbmcvZGF0YXVybHN0cmluZywgZGF0YXVybG5ld3dpbmRvdywgZGF0YXVyaS9kYXRhdXJsXG4gICAgICovXG4gICAgcmV0dXJuIHRoaXMucHJvcC5wZGYub3V0cHV0KHR5cGUsIG9wdGlvbnMpO1xuICB9KTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUub3V0cHV0SW1nID0gZnVuY3Rpb24gb3V0cHV0SW1nKHR5cGUsIG9wdGlvbnMpIHtcbiAgLy8gU2V0IHVwIGZ1bmN0aW9uIHByZXJlcXVpc2l0ZXMuXG4gIHZhciBwcmVyZXFzID0gW2Z1bmN0aW9uIGNoZWNrSW1nKCkge1xuICAgIHJldHVybiB0aGlzLnByb3AuaW1nIHx8IHRoaXMudG9JbWcoKTtcbiAgfV07IC8vIEZ1bGZpbGwgcHJlcmVxcyB0aGVuIHBlcmZvcm0gdGhlIGFwcHJvcHJpYXRlIG91dHB1dC5cblxuICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIG91dHB1dEltZ19tYWluKCkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICBjYXNlICdpbWcnOlxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wLmltZztcblxuICAgICAgY2FzZSAnZGF0YXVyaXN0cmluZyc6XG4gICAgICBjYXNlICdkYXRhdXJsc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcC5pbWcuc3JjO1xuXG4gICAgICBjYXNlICdkYXRhdXJpJzpcbiAgICAgIGNhc2UgJ2RhdGF1cmwnOlxuICAgICAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHRoaXMucHJvcC5pbWcuc3JjO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyAnSW1hZ2Ugb3V0cHV0IHR5cGUgXCInICsgdHlwZSArICdcIiBpcyBub3Qgc3VwcG9ydGVkLic7XG4gICAgfVxuICB9KTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIHNhdmUoZmlsZW5hbWUpIHtcbiAgLy8gU2V0IHVwIGZ1bmN0aW9uIHByZXJlcXVpc2l0ZXMuXG4gIHZhciBwcmVyZXFzID0gW2Z1bmN0aW9uIGNoZWNrUGRmKCkge1xuICAgIHJldHVybiB0aGlzLnByb3AucGRmIHx8IHRoaXMudG9QZGYoKTtcbiAgfV07IC8vIEZ1bGZpbGwgcHJlcmVxcywgdXBkYXRlIHRoZSBmaWxlbmFtZSAoaWYgcHJvdmlkZWQpLCBhbmQgc2F2ZSB0aGUgUERGLlxuXG4gIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnNldChmaWxlbmFtZSA/IHtcbiAgICBmaWxlbmFtZTogZmlsZW5hbWVcbiAgfSA6IG51bGwpLnRoZW4oZnVuY3Rpb24gc2F2ZV9tYWluKCkge1xuICAgIHRoaXMucHJvcC5wZGYuc2F2ZSh0aGlzLm9wdC5maWxlbmFtZSk7XG4gIH0pO1xufTtcbi8qIC0tLS0tIFNFVCAvIEdFVCAtLS0tLSAqL1xuXG5cbldvcmtlci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0KG9wdCkge1xuICAvLyBUT0RPOiBJbXBsZW1lbnQgb3JkZXJlZCBwYWlycz9cbiAgLy8gU2lsZW50bHkgaWdub3JlIGludmFsaWQgb3IgZW1wdHkgaW5wdXQuXG4gIGlmICgoMCxfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18ub2JqVHlwZSkob3B0KSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyBCdWlsZCBhbiBhcnJheSBvZiBzZXR0ZXIgZnVuY3Rpb25zIHRvIHF1ZXVlLlxuXG5cbiAgdmFyIGZucyA9IE9iamVjdC5rZXlzKG9wdCB8fCB7fSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSAnbWFyZ2luJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TWFyZ2luLmJpbmQodGhpcywgb3B0Lm1hcmdpbik7XG5cbiAgICAgIGNhc2UgJ2pzUERGJzpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9qc1BERigpIHtcbiAgICAgICAgICB0aGlzLm9wdC5qc1BERiA9IG9wdC5qc1BERjtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXRQYWdlU2l6ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICBjYXNlICdwYWdlU2l6ZSc6XG4gICAgICAgIHJldHVybiB0aGlzLnNldFBhZ2VTaXplLmJpbmQodGhpcywgb3B0LnBhZ2VTaXplKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGtleSBpbiBXb3JrZXIudGVtcGxhdGUucHJvcCkge1xuICAgICAgICAgIC8vIFNldCBwcmUtZGVmaW5lZCBwcm9wZXJ0aWVzIGluIHByb3AuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9wcm9wKCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wW2tleV0gPSBvcHRba2V5XTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNldCBhbnkgb3RoZXIgcHJvcGVydGllcyBpbiBvcHQuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9vcHQoKSB7XG4gICAgICAgICAgICB0aGlzLm9wdFtrZXldID0gb3B0W2tleV07XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgfVxuICB9LCB0aGlzKTsgLy8gU2V0IHByb3BlcnRpZXMgd2l0aGluIHRoZSBwcm9taXNlIGNoYWluLlxuXG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gc2V0X21haW4oKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbkxpc3QoZm5zKTtcbiAgfSk7XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldChrZXksIGNiaykge1xuICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIGdldF9tYWluKCkge1xuICAgIC8vIEZldGNoIHRoZSByZXF1ZXN0ZWQgcHJvcGVydHksIGVpdGhlciBhcyBhIHByZWRlZmluZWQgcHJvcCBvciBpbiBvcHQuXG4gICAgdmFyIHZhbCA9IGtleSBpbiBXb3JrZXIudGVtcGxhdGUucHJvcCA/IHRoaXMucHJvcFtrZXldIDogdGhpcy5vcHRba2V5XTtcbiAgICByZXR1cm4gY2JrID8gY2JrKHZhbCkgOiB2YWw7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5zZXRNYXJnaW4gPSBmdW5jdGlvbiBzZXRNYXJnaW4obWFyZ2luKSB7XG4gIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gc2V0TWFyZ2luX21haW4oKSB7XG4gICAgLy8gUGFyc2UgdGhlIG1hcmdpbiBwcm9wZXJ0eTogW3RvcCwgbGVmdCwgYm90dG9tLCByaWdodF0uXG4gICAgc3dpdGNoICgoMCxfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18ub2JqVHlwZSkobWFyZ2luKSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgbWFyZ2luID0gW21hcmdpbiwgbWFyZ2luLCBtYXJnaW4sIG1hcmdpbl07XG5cbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgICAgaWYgKG1hcmdpbi5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICBtYXJnaW4gPSBbbWFyZ2luWzBdLCBtYXJnaW5bMV0sIG1hcmdpblswXSwgbWFyZ2luWzFdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXJnaW4ubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoJ0ludmFsaWQgbWFyZ2luIGFycmF5LicpO1xuICAgIH0gLy8gU2V0IHRoZSBtYXJnaW4gcHJvcGVydHksIHRoZW4gdXBkYXRlIHBhZ2VTaXplLlxuXG5cbiAgICB0aGlzLm9wdC5tYXJnaW4gPSBtYXJnaW47XG4gIH0pLnRoZW4odGhpcy5zZXRQYWdlU2l6ZSk7XG59O1xuXG5Xb3JrZXIucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gc2V0UGFnZVNpemUocGFnZVNpemUpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiBzZXRQYWdlU2l6ZV9tYWluKCkge1xuICAgIC8vIFJldHJpZXZlIHBhZ2Utc2l6ZSBiYXNlZCBvbiBqc1BERiBzZXR0aW5ncywgaWYgbm90IGV4cGxpY2l0bHkgcHJvdmlkZWQuXG4gICAgcGFnZVNpemUgPSBwYWdlU2l6ZSB8fCBqc3BkZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fLmpzUERGLmdldFBhZ2VTaXplKHRoaXMub3B0LmpzUERGKTsgLy8gQWRkICdpbm5lcicgZmllbGQgaWYgbm90IHByZXNlbnQuXG5cbiAgICBpZiAoIXBhZ2VTaXplLmhhc093blByb3BlcnR5KCdpbm5lcicpKSB7XG4gICAgICBwYWdlU2l6ZS5pbm5lciA9IHtcbiAgICAgICAgd2lkdGg6IHBhZ2VTaXplLndpZHRoIC0gdGhpcy5vcHQubWFyZ2luWzFdIC0gdGhpcy5vcHQubWFyZ2luWzNdLFxuICAgICAgICBoZWlnaHQ6IHBhZ2VTaXplLmhlaWdodCAtIHRoaXMub3B0Lm1hcmdpblswXSAtIHRoaXMub3B0Lm1hcmdpblsyXVxuICAgICAgfTtcbiAgICAgIHBhZ2VTaXplLmlubmVyLnB4ID0ge1xuICAgICAgICB3aWR0aDogKDAsX3V0aWxzX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fLnRvUHgpKHBhZ2VTaXplLmlubmVyLndpZHRoLCBwYWdlU2l6ZS5rKSxcbiAgICAgICAgaGVpZ2h0OiAoMCxfdXRpbHNfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18udG9QeCkocGFnZVNpemUuaW5uZXIuaGVpZ2h0LCBwYWdlU2l6ZS5rKVxuICAgICAgfTtcbiAgICAgIHBhZ2VTaXplLmlubmVyLnJhdGlvID0gcGFnZVNpemUuaW5uZXIuaGVpZ2h0IC8gcGFnZVNpemUuaW5uZXIud2lkdGg7XG4gICAgfSAvLyBBdHRhY2ggcGFnZVNpemUgdG8gdGhpcy5cblxuXG4gICAgdGhpcy5wcm9wLnBhZ2VTaXplID0gcGFnZVNpemU7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS5zZXRQcm9ncmVzcyA9IGZ1bmN0aW9uIHNldFByb2dyZXNzKHZhbCwgc3RhdGUsIG4sIHN0YWNrKSB7XG4gIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBhbGwgcHJvZ3Jlc3MgdmFsdWVzLlxuICBpZiAodmFsICE9IG51bGwpIHRoaXMucHJvZ3Jlc3MudmFsID0gdmFsO1xuICBpZiAoc3RhdGUgIT0gbnVsbCkgdGhpcy5wcm9ncmVzcy5zdGF0ZSA9IHN0YXRlO1xuICBpZiAobiAhPSBudWxsKSB0aGlzLnByb2dyZXNzLm4gPSBuO1xuICBpZiAoc3RhY2sgIT0gbnVsbCkgdGhpcy5wcm9ncmVzcy5zdGFjayA9IHN0YWNrO1xuICB0aGlzLnByb2dyZXNzLnJhdGlvID0gdGhpcy5wcm9ncmVzcy52YWwgLyB0aGlzLnByb2dyZXNzLnN0YXRlOyAvLyBSZXR1cm4gdGhpcyBmb3IgY29tbWFuZCBjaGFpbmluZy5cblxuICByZXR1cm4gdGhpcztcbn07XG5cbldvcmtlci5wcm90b3R5cGUudXBkYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh2YWwsIHN0YXRlLCBuLCBzdGFjaykge1xuICAvLyBJbW1lZGlhdGVseSB1cGRhdGUgYWxsIHByb2dyZXNzIHZhbHVlcywgdXNpbmcgc2V0UHJvZ3Jlc3MuXG4gIHJldHVybiB0aGlzLnNldFByb2dyZXNzKHZhbCA/IHRoaXMucHJvZ3Jlc3MudmFsICsgdmFsIDogbnVsbCwgc3RhdGUgPyBzdGF0ZSA6IG51bGwsIG4gPyB0aGlzLnByb2dyZXNzLm4gKyBuIDogbnVsbCwgc3RhY2sgPyB0aGlzLnByb2dyZXNzLnN0YWNrLmNvbmNhdChzdGFjaykgOiBudWxsKTtcbn07XG4vKiAtLS0tLSBQUk9NSVNFIE1BUFBJTkcgLS0tLS0gKi9cblxuXG5Xb3JrZXIucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIFdyYXAgYHRoaXNgIGZvciBlbmNhcHN1bGF0aW9uLlxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJldHVybiB0aGlzLnRoZW5Db3JlKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBmdW5jdGlvbiB0aGVuX21haW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3Mgd2hpbGUgcXVldWluZywgY2FsbGluZywgYW5kIHJlc29sdmluZyBgdGhlbmAuXG4gICAgc2VsZi51cGRhdGVQcm9ncmVzcyhudWxsLCBudWxsLCAxLCBbb25GdWxmaWxsZWRdKTtcbiAgICByZXR1cm4gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5jYWxsKHRoaXMsIGZ1bmN0aW9uIHRoZW5fcHJlKHZhbCkge1xuICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcyhudWxsLCBvbkZ1bGZpbGxlZCk7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0pLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpLnRoZW4oZnVuY3Rpb24gdGhlbl9wb3N0KHZhbCkge1xuICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcygxKTtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS50aGVuQ29yZSA9IGZ1bmN0aW9uIHRoZW5Db3JlKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCB0aGVuQmFzZSkge1xuICAvLyBIYW5kbGUgb3B0aW9uYWwgdGhlbkJhc2UgcGFyYW1ldGVyLlxuICB0aGVuQmFzZSA9IHRoZW5CYXNlIHx8IFByb21pc2UucHJvdG90eXBlLnRoZW47IC8vIFdyYXAgYHRoaXNgIGZvciBlbmNhcHN1bGF0aW9uIGFuZCBiaW5kIGl0IHRvIHRoZSBwcm9taXNlIGhhbmRsZXJzLlxuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAob25GdWxmaWxsZWQpIHtcbiAgICBvbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkLmJpbmQoc2VsZik7XG4gIH1cblxuICBpZiAob25SZWplY3RlZCkge1xuICAgIG9uUmVqZWN0ZWQgPSBvblJlamVjdGVkLmJpbmQoc2VsZik7XG4gIH0gLy8gQ2FzdCBzZWxmIGludG8gYSBQcm9taXNlIHRvIGF2b2lkIHBvbHlmaWxscyByZWN1cnNpdmVseSBkZWZpbmluZyBgdGhlbmAuXG5cblxuICB2YXIgaXNOYXRpdmUgPSBQcm9taXNlLnRvU3RyaW5nKCkuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9PSAtMSAmJiBQcm9taXNlLm5hbWUgPT09ICdQcm9taXNlJztcbiAgdmFyIHNlbGZQcm9taXNlID0gaXNOYXRpdmUgPyBzZWxmIDogV29ya2VyLmNvbnZlcnQoT2JqZWN0LmFzc2lnbih7fSwgc2VsZiksIFByb21pc2UucHJvdG90eXBlKTsgLy8gUmV0dXJuIHRoZSBwcm9taXNlLCBhZnRlciBjYXN0aW5nIGl0IGludG8gYSBXb3JrZXIgYW5kIHByZXNlcnZpbmcgcHJvcHMuXG5cbiAgdmFyIHJldHVyblZhbCA9IHRoZW5CYXNlLmNhbGwoc2VsZlByb21pc2UsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgcmV0dXJuIFdvcmtlci5jb252ZXJ0KHJldHVyblZhbCwgc2VsZi5fX3Byb3RvX18pO1xufTtcblxuV29ya2VyLnByb3RvdHlwZS50aGVuRXh0ZXJuYWwgPSBmdW5jdGlvbiB0aGVuRXh0ZXJuYWwob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgLy8gQ2FsbCBgdGhlbmAgYW5kIHJldHVybiBhIHN0YW5kYXJkIHByb21pc2UgKGV4aXRzIHRoZSBXb3JrZXIgY2hhaW4pLlxuICByZXR1cm4gUHJvbWlzZS5wcm90b3R5cGUudGhlbi5jYWxsKHRoaXMsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUudGhlbkxpc3QgPSBmdW5jdGlvbiB0aGVuTGlzdChmbnMpIHtcbiAgLy8gUXVldWUgYSBzZXJpZXMgb2YgcHJvbWlzZSAnZmFjdG9yaWVzJyBpbnRvIHRoZSBwcm9taXNlIGNoYWluLlxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGZucy5mb3JFYWNoKGZ1bmN0aW9uIHRoZW5MaXN0X2ZvckVhY2goZm4pIHtcbiAgICBzZWxmID0gc2VsZi50aGVuQ29yZShmbik7XG4gIH0pO1xuICByZXR1cm4gc2VsZjtcbn07XG5cbldvcmtlci5wcm90b3R5cGVbJ2NhdGNoJ10gPSBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAvLyBCaW5kIGB0aGlzYCB0byB0aGUgcHJvbWlzZSBoYW5kbGVyLCBjYWxsIGBjYXRjaGAsIGFuZCByZXR1cm4gYSBXb3JrZXIuXG4gIGlmIChvblJlamVjdGVkKSB7XG4gICAgb25SZWplY3RlZCA9IG9uUmVqZWN0ZWQuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHZhciByZXR1cm5WYWwgPSBQcm9taXNlLnByb3RvdHlwZVsnY2F0Y2gnXS5jYWxsKHRoaXMsIG9uUmVqZWN0ZWQpO1xuICByZXR1cm4gV29ya2VyLmNvbnZlcnQocmV0dXJuVmFsLCB0aGlzKTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUuY2F0Y2hFeHRlcm5hbCA9IGZ1bmN0aW9uIGNhdGNoRXh0ZXJuYWwob25SZWplY3RlZCkge1xuICAvLyBDYWxsIGBjYXRjaGAgYW5kIHJldHVybiBhIHN0YW5kYXJkIHByb21pc2UgKGV4aXRzIHRoZSBXb3JrZXIgY2hhaW4pLlxuICByZXR1cm4gUHJvbWlzZS5wcm90b3R5cGVbJ2NhdGNoJ10uY2FsbCh0aGlzLCBvblJlamVjdGVkKTtcbn07XG5cbldvcmtlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgLy8gVGhyb3cgdGhlIGVycm9yIGluIHRoZSBQcm9taXNlIGNoYWluLlxuICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIGVycm9yX21haW4oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gIH0pO1xufTtcbi8qIC0tLS0tIEFMSUFTRVMgLS0tLS0gKi9cblxuXG5Xb3JrZXIucHJvdG90eXBlLnVzaW5nID0gV29ya2VyLnByb3RvdHlwZS5zZXQ7XG5Xb3JrZXIucHJvdG90eXBlLnNhdmVBcyA9IFdvcmtlci5wcm90b3R5cGUuc2F2ZTtcbldvcmtlci5wcm90b3R5cGUuZXhwb3J0ID0gV29ya2VyLnByb3RvdHlwZS5vdXRwdXQ7XG5Xb3JrZXIucHJvdG90eXBlLnJ1biA9IFdvcmtlci5wcm90b3R5cGUudGhlbjtcbi8qIC0tLS0tIEZJTklTSElORyAtLS0tLSAqL1xuLy8gRXhwb3NlIHRoZSBXb3JrZXIgY2xhc3MuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImRlZmF1bHRcIl0gPSAoV29ya2VyKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYS1mdW5jdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2EtZnVuY3Rpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKFN0cmluZyhpdCkgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hLXBvc3NpYmxlLXByb3RvdHlwZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hLXBvc3NpYmxlLXByb3RvdHlwZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtb2JqZWN0LmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSAmJiBpdCAhPT0gbnVsbCkge1xuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IHNldCBcIiArIFN0cmluZyhpdCkgKyAnIGFzIGEgcHJvdG90eXBlJyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hZGQtdG8tdW5zY29wYWJsZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FkZC10by11bnNjb3BhYmxlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCIpO1xudmFyIGNyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZS5qc1wiKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qc1wiKTtcblxudmFyIFVOU0NPUEFCTEVTID0gd2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmlmIChBcnJheVByb3RvdHlwZVtVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSB7XG4gIGRlZmluZVByb3BlcnR5TW9kdWxlLmYoQXJyYXlQcm90b3R5cGUsIFVOU0NPUEFCTEVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiBjcmVhdGUobnVsbClcbiAgfSk7XG59XG5cbi8vIGFkZCBhIGtleSB0byBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICBBcnJheVByb3RvdHlwZVtVTlNDT1BBQkxFU11ba2V5XSA9IHRydWU7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYW4tb2JqZWN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgaXNPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtb2JqZWN0LmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoIWlzT2JqZWN0KGl0KSkge1xuICAgIHRocm93IFR5cGVFcnJvcihTdHJpbmcoaXQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gIH0gcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1mb3ItZWFjaC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1mb3ItZWFjaC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICRmb3JFYWNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbi5qc1wiKS5mb3JFYWNoO1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QuanNcIik7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnZm9yRWFjaCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxubW9kdWxlLmV4cG9ydHMgPSAhU1RSSUNUX01FVEhPRCA/IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1wcm90b3R5cGUtZm9yZWFjaCAtLSBzYWZlXG59IDogW10uZm9yRWFjaDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1pbmNsdWRlcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1pbmNsdWRlcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QuanNcIik7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tbGVuZ3RoLmpzXCIpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4LmpzXCIpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgaW5kZXhPZiwgaW5jbHVkZXMgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChJU19JTkNMVURFUykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QoJHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSB0b0xlbmd0aChPLmxlbmd0aCk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGlmICgoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykgJiYgT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4gIGluY2x1ZGVzOiBjcmVhdGVNZXRob2QodHJ1ZSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluZGV4b2ZcbiAgaW5kZXhPZjogY3JlYXRlTWV0aG9kKGZhbHNlKVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0LmpzXCIpO1xudmFyIEluZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmRleGVkLW9iamVjdC5qc1wiKTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1vYmplY3QuanNcIik7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tbGVuZ3RoLmpzXCIpO1xudmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNyZWF0ZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY3JlYXRlLmpzXCIpO1xuXG52YXIgcHVzaCA9IFtdLnB1c2g7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyBmb3JFYWNoLCBtYXAsIGZpbHRlciwgc29tZSwgZXZlcnksIGZpbmQsIGZpbmRJbmRleCwgZmlsdGVyUmVqZWN0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoVFlQRSkge1xuICB2YXIgSVNfTUFQID0gVFlQRSA9PSAxO1xuICB2YXIgSVNfRklMVEVSID0gVFlQRSA9PSAyO1xuICB2YXIgSVNfU09NRSA9IFRZUEUgPT0gMztcbiAgdmFyIElTX0VWRVJZID0gVFlQRSA9PSA0O1xuICB2YXIgSVNfRklORF9JTkRFWCA9IFRZUEUgPT0gNjtcbiAgdmFyIElTX0ZJTFRFUl9SRUpFQ1QgPSBUWVBFID09IDc7XG4gIHZhciBOT19IT0xFUyA9IFRZUEUgPT0gNSB8fCBJU19GSU5EX0lOREVYO1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0LCBzcGVjaWZpY0NyZWF0ZSkge1xuICAgIHZhciBPID0gdG9PYmplY3QoJHRoaXMpO1xuICAgIHZhciBzZWxmID0gSW5kZXhlZE9iamVjdChPKTtcbiAgICB2YXIgYm91bmRGdW5jdGlvbiA9IGJpbmQoY2FsbGJhY2tmbiwgdGhhdCwgMyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKHNlbGYubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBjcmVhdGUgPSBzcGVjaWZpY0NyZWF0ZSB8fCBhcnJheVNwZWNpZXNDcmVhdGU7XG4gICAgdmFyIHRhcmdldCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiB8fCBJU19GSUxURVJfUkVKRUNUID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdmFsdWUsIHJlc3VsdDtcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbHVlID0gc2VsZltpbmRleF07XG4gICAgICByZXN1bHQgPSBib3VuZEZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgTyk7XG4gICAgICBpZiAoVFlQRSkge1xuICAgICAgICBpZiAoSVNfTUFQKSB0YXJnZXRbaW5kZXhdID0gcmVzdWx0OyAvLyBtYXBcbiAgICAgICAgZWxzZSBpZiAocmVzdWx0KSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbHVlOyAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgIC8vIGZpbmRJbmRleFxuICAgICAgICAgIGNhc2UgMjogcHVzaC5jYWxsKHRhcmdldCwgdmFsdWUpOyAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIGZhbHNlOyAgICAgICAgICAgICAvLyBldmVyeVxuICAgICAgICAgIGNhc2UgNzogcHVzaC5jYWxsKHRhcmdldCwgdmFsdWUpOyAvLyBmaWx0ZXJSZWplY3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogdGFyZ2V0O1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgZm9yRWFjaDogY3JlYXRlTWV0aG9kKDApLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLm1hcFxuICBtYXA6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maWx0ZXJcbiAgZmlsdGVyOiBjcmVhdGVNZXRob2QoMiksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuc29tZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvbWVcbiAgc29tZTogY3JlYXRlTWV0aG9kKDMpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmV2ZXJ5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZXZlcnlcbiAgZXZlcnk6IGNyZWF0ZU1ldGhvZCg0KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maW5kYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZFxuICBmaW5kOiBjcmVhdGVNZXRob2QoNSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gIGZpbmRJbmRleDogY3JlYXRlTWV0aG9kKDYpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlclJlamVjdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFycmF5LWZpbHRlcmluZ1xuICBmaWx0ZXJSZWplY3Q6IGNyZWF0ZU1ldGhvZCg3KVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC5qc1wiKTtcbnZhciBWOF9WRVJTSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24uanNcIik7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc3XG4gIHJldHVybiBWOF9WRVJTSU9OID49IDUxIHx8ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gYXJyYXkuY29uc3RydWN0b3IgPSB7fTtcbiAgICBjb25zdHJ1Y3RvcltTUEVDSUVTXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGZvbzogMSB9O1xuICAgIH07XG4gICAgcmV0dXJuIGFycmF5W01FVEhPRF9OQU1FXShCb29sZWFuKS5mb28gIT09IDE7XG4gIH0pO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUsIGFyZ3VtZW50KSB7XG4gIHZhciBtZXRob2QgPSBbXVtNRVRIT0RfTkFNRV07XG4gIHJldHVybiAhIW1ldGhvZCAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtY2FsbCxuby10aHJvdy1saXRlcmFsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgbWV0aG9kLmNhbGwobnVsbCwgYXJndW1lbnQgfHwgZnVuY3Rpb24gKCkgeyB0aHJvdyAxOyB9LCAxKTtcbiAgfSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNvbnN0cnVjdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW9iamVjdC5qc1wiKTtcbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLWFycmF5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtYXJyYXkuanNcIik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanNcIik7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbi8vIGEgcGFydCBvZiBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbEFycmF5KSB7XG4gIHZhciBDO1xuICBpZiAoaXNBcnJheShvcmlnaW5hbEFycmF5KSkge1xuICAgIEMgPSBvcmlnaW5hbEFycmF5LmNvbnN0cnVjdG9yO1xuICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiBDID09ICdmdW5jdGlvbicgJiYgKEMgPT09IEFycmF5IHx8IGlzQXJyYXkoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICBlbHNlIGlmIChpc09iamVjdChDKSkge1xuICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/IEFycmF5IDogQztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNvbnN0cnVjdG9yLmpzXCIpO1xuXG4vLyBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbEFycmF5LCBsZW5ndGgpIHtcbiAgcmV0dXJuIG5ldyAoYXJyYXlTcGVjaWVzQ29uc3RydWN0b3Iob3JpZ2luYWxBcnJheSkpKGxlbmd0aCA9PT0gMCA/IDAgOiBsZW5ndGgpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLXJhdy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLXJhdy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NsYXNzb2YuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQuanNcIik7XG52YXIgY2xhc3NvZlJhdyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9jbGFzc29mLXJhdyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NsYXNzb2YtcmF3LmpzXCIpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCIpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQ09SUkVDVF9BUkdVTUVOVFMgPSBjbGFzc29mUmF3KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG4vLyBnZXR0aW5nIHRhZyBmcm9tIEVTNisgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgXG5tb2R1bGUuZXhwb3J0cyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IGNsYXNzb2ZSYXcgOiBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIHRhZywgcmVzdWx0O1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAodGFnID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUT19TVFJJTkdfVEFHKSkgPT0gJ3N0cmluZycgPyB0YWdcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IENPUlJFQ1RfQVJHVU1FTlRTID8gY2xhc3NvZlJhdyhPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChyZXN1bHQgPSBjbGFzc29mUmF3KE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogcmVzdWx0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jb3B5LWNvbnN0cnVjdG9yLXByb3BlcnRpZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NvcHktY29uc3RydWN0b3ItcHJvcGVydGllcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanNcIik7XG52YXIgb3duS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vd24ta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL293bi1rZXlzLmpzXCIpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qc1wiKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcbiAgdmFyIGtleXMgPSBvd25LZXlzKHNvdXJjZSk7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlLmY7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKCFoYXModGFyZ2V0LCBrZXkpKSBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gIH1cbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29ycmVjdC1wcm90b3R5cGUtZ2V0dGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jb3JyZWN0LXByb3RvdHlwZS1nZXR0ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEYoKSB7IC8qIGVtcHR5ICovIH1cbiAgRi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBudWxsO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IEYoKSkgIT09IEYucHJvdG90eXBlO1xufSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLWh0bWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLWh0bWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlLmpzXCIpO1xudmFyIHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLXN0cmluZyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXN0cmluZy5qc1wiKTtcblxudmFyIHF1b3QgPSAvXCIvZztcblxuLy8gYENyZWF0ZUhUTUxgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVodG1sXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHJpbmcsIHRhZywgYXR0cmlidXRlLCB2YWx1ZSkge1xuICB2YXIgUyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoc3RyaW5nKSk7XG4gIHZhciBwMSA9ICc8JyArIHRhZztcbiAgaWYgKGF0dHJpYnV0ZSAhPT0gJycpIHAxICs9ICcgJyArIGF0dHJpYnV0ZSArICc9XCInICsgdG9TdHJpbmcodmFsdWUpLnJlcGxhY2UocXVvdCwgJyZxdW90OycpICsgJ1wiJztcbiAgcmV0dXJuIHAxICsgJz4nICsgUyArICc8LycgKyB0YWcgKyAnPic7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1pdGVyYXRvci1jb25zdHJ1Y3Rvci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLWl0ZXJhdG9yLWNvbnN0cnVjdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycy1jb3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUuanNcIikuSXRlcmF0b3JQcm90b3R5cGU7XG52YXIgY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtY3JlYXRlLmpzXCIpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXCIpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcuanNcIik7XG52YXIgSXRlcmF0b3JzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2l0ZXJhdG9ycy5qc1wiKTtcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KSB7XG4gIHZhciBUT19TVFJJTkdfVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICBJdGVyYXRvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yQ29uc3RydWN0b3IsIFRPX1NUUklOR19UQUcsIGZhbHNlLCB0cnVlKTtcbiAgSXRlcmF0b3JzW1RPX1NUUklOR19UQUddID0gcmV0dXJuVGhpcztcbiAgcmV0dXJuIEl0ZXJhdG9yQ29uc3RydWN0b3I7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZXNjcmlwdG9ycy5qc1wiKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qc1wiKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvci5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5TW9kdWxlLmYob2JqZWN0LCBrZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgdG9Qcm9wZXJ0eUtleSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXkuanNcIik7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkuanNcIik7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgcHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChwcm9wZXJ0eUtleSBpbiBvYmplY3QpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYob2JqZWN0LCBwcm9wZXJ0eUtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W3Byb3BlcnR5S2V5XSA9IHZhbHVlO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RlZmluZS1pdGVyYXRvci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2V4cG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qc1wiKTtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1pdGVyYXRvci1jb25zdHJ1Y3RvciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1pdGVyYXRvci1jb25zdHJ1Y3Rvci5qc1wiKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZ2V0LXByb3RvdHlwZS1vZiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mLmpzXCIpO1xudmFyIHNldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1zZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXNldC1wcm90b3R5cGUtb2YuanNcIik7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZy5qc1wiKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzXCIpO1xudmFyIHJlZGVmaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3JlZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVkZWZpbmUuanNcIik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanNcIik7XG52YXIgSVNfUFVSRSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1wdXJlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtcHVyZS5qc1wiKTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXRlcmF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXRlcmF0b3JzLmpzXCIpO1xudmFyIEl0ZXJhdG9yc0NvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pdGVyYXRvcnMtY29yZS5qc1wiKTtcblxudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gSXRlcmF0b3JzQ29yZS5JdGVyYXRvclByb3RvdHlwZTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gSXRlcmF0b3JzQ29yZS5CVUdHWV9TQUZBUklfSVRFUkFUT1JTO1xudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG52YXIgRU5UUklFUyA9ICdlbnRyaWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJdGVyYWJsZSwgTkFNRSwgSXRlcmF0b3JDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcblxuICB2YXIgZ2V0SXRlcmF0aW9uTWV0aG9kID0gZnVuY3Rpb24gKEtJTkQpIHtcbiAgICBpZiAoS0lORCA9PT0gREVGQVVMVCAmJiBkZWZhdWx0SXRlcmF0b3IpIHJldHVybiBkZWZhdWx0SXRlcmF0b3I7XG4gICAgaWYgKCFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIEtJTkQgaW4gSXRlcmFibGVQcm90b3R5cGUpIHJldHVybiBJdGVyYWJsZVByb3RvdHlwZVtLSU5EXTtcbiAgICBzd2l0Y2ggKEtJTkQpIHtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICBjYXNlIEVOVFJJRVM6IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcyk7IH07XG4gIH07XG5cbiAgdmFyIFRPX1NUUklOR19UQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIHZhciBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgPSBmYWxzZTtcbiAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICB2YXIgbmF0aXZlSXRlcmF0b3IgPSBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl1cbiAgICB8fCBJdGVyYWJsZVByb3RvdHlwZVsnQEBpdGVyYXRvciddXG4gICAgfHwgREVGQVVMVCAmJiBJdGVyYWJsZVByb3RvdHlwZVtERUZBVUxUXTtcbiAgdmFyIGRlZmF1bHRJdGVyYXRvciA9ICFCVUdHWV9TQUZBUklfSVRFUkFUT1JTICYmIG5hdGl2ZUl0ZXJhdG9yIHx8IGdldEl0ZXJhdGlvbk1ldGhvZChERUZBVUxUKTtcbiAgdmFyIGFueU5hdGl2ZUl0ZXJhdG9yID0gTkFNRSA9PSAnQXJyYXknID8gSXRlcmFibGVQcm90b3R5cGUuZW50cmllcyB8fCBuYXRpdmVJdGVyYXRvciA6IG5hdGl2ZUl0ZXJhdG9yO1xuICB2YXIgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBtZXRob2RzLCBLRVk7XG5cbiAgLy8gZml4IG5hdGl2ZVxuICBpZiAoYW55TmF0aXZlSXRlcmF0b3IpIHtcbiAgICBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihhbnlOYXRpdmVJdGVyYXRvci5jYWxsKG5ldyBJdGVyYWJsZSgpKSk7XG4gICAgaWYgKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICBpZiAoIUlTX1BVUkUgJiYgZ2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlKSAhPT0gSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgc2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBJdGVyYXRvclByb3RvdHlwZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHLCB0cnVlLCB0cnVlKTtcbiAgICAgIGlmIChJU19QVVJFKSBJdGVyYXRvcnNbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzO1xuICAgIH1cbiAgfVxuXG4gIC8vIGZpeCBBcnJheS5wcm90b3R5cGUueyB2YWx1ZXMsIEBAaXRlcmF0b3IgfS5uYW1lIGluIFY4IC8gRkZcbiAgaWYgKERFRkFVTFQgPT0gVkFMVUVTICYmIG5hdGl2ZUl0ZXJhdG9yICYmIG5hdGl2ZUl0ZXJhdG9yLm5hbWUgIT09IFZBTFVFUykge1xuICAgIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IHRydWU7XG4gICAgZGVmYXVsdEl0ZXJhdG9yID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmF0aXZlSXRlcmF0b3IuY2FsbCh0aGlzKTsgfTtcbiAgfVxuXG4gIC8vIGRlZmluZSBpdGVyYXRvclxuICBpZiAoKCFJU19QVVJFIHx8IEZPUkNFRCkgJiYgSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JdICE9PSBkZWZhdWx0SXRlcmF0b3IpIHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmFibGVQcm90b3R5cGUsIElURVJBVE9SLCBkZWZhdWx0SXRlcmF0b3IpO1xuICB9XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IGRlZmF1bHRJdGVyYXRvcjtcblxuICAvLyBleHBvcnQgYWRkaXRpb25hbCBtZXRob2RzXG4gIGlmIChERUZBVUxUKSB7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogZ2V0SXRlcmF0aW9uTWV0aG9kKFZBTFVFUyksXG4gICAgICBrZXlzOiBJU19TRVQgPyBkZWZhdWx0SXRlcmF0b3IgOiBnZXRJdGVyYXRpb25NZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiBnZXRJdGVyYXRpb25NZXRob2QoRU5UUklFUylcbiAgICB9O1xuICAgIGlmIChGT1JDRUQpIGZvciAoS0VZIGluIG1ldGhvZHMpIHtcbiAgICAgIGlmIChCVUdHWV9TQUZBUklfSVRFUkFUT1JTIHx8IElOQ09SUkVDVF9WQUxVRVNfTkFNRSB8fCAhKEtFWSBpbiBJdGVyYWJsZVByb3RvdHlwZSkpIHtcbiAgICAgICAgcmVkZWZpbmUoSXRlcmFibGVQcm90b3R5cGUsIEtFWSwgbWV0aG9kc1tLRVldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgJCh7IHRhcmdldDogTkFNRSwgcHJvdG86IHRydWUsIGZvcmNlZDogQlVHR1lfU0FGQVJJX0lURVJBVE9SUyB8fCBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgfSwgbWV0aG9kcyk7XG4gIH1cblxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVmaW5lLXdlbGwta25vd24tc3ltYm9sLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBwYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3BhdGggKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9wYXRoLmpzXCIpO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanNcIik7XG52YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC13cmFwcGVkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZC5qc1wiKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qc1wiKS5mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChOQU1FKSB7XG4gIHZhciBTeW1ib2wgPSBwYXRoLlN5bWJvbCB8fCAocGF0aC5TeW1ib2wgPSB7fSk7XG4gIGlmICghaGFzKFN5bWJvbCwgTkFNRSkpIGRlZmluZVByb3BlcnR5KFN5bWJvbCwgTkFNRSwge1xuICAgIHZhbHVlOiB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlLmYoTkFNRSlcbiAgfSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCIpO1xuXG4vLyBEZXRlY3QgSUU4J3MgaW5jb21wbGV0ZSBkZWZpbmVQcm9wZXJ0eSBpbXBsZW1lbnRhdGlvblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIDEsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pWzFdICE9IDc7XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanNcIik7XG5cbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIEVYSVNUUyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEVYSVNUUyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RvbS1pdGVyYWJsZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kb20taXRlcmFibGVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbi8vIGl0ZXJhYmxlIERPTSBjb2xsZWN0aW9uc1xuLy8gZmxhZyAtIGBpdGVyYWJsZWAgaW50ZXJmYWNlIC0gJ2VudHJpZXMnLCAna2V5cycsICd2YWx1ZXMnLCAnZm9yRWFjaCcgbWV0aG9kc1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENTU1J1bGVMaXN0OiAwLFxuICBDU1NTdHlsZURlY2xhcmF0aW9uOiAwLFxuICBDU1NWYWx1ZUxpc3Q6IDAsXG4gIENsaWVudFJlY3RMaXN0OiAwLFxuICBET01SZWN0TGlzdDogMCxcbiAgRE9NU3RyaW5nTGlzdDogMCxcbiAgRE9NVG9rZW5MaXN0OiAxLFxuICBEYXRhVHJhbnNmZXJJdGVtTGlzdDogMCxcbiAgRmlsZUxpc3Q6IDAsXG4gIEhUTUxBbGxDb2xsZWN0aW9uOiAwLFxuICBIVE1MQ29sbGVjdGlvbjogMCxcbiAgSFRNTEZvcm1FbGVtZW50OiAwLFxuICBIVE1MU2VsZWN0RWxlbWVudDogMCxcbiAgTWVkaWFMaXN0OiAwLFxuICBNaW1lVHlwZUFycmF5OiAwLFxuICBOYW1lZE5vZGVNYXA6IDAsXG4gIE5vZGVMaXN0OiAxLFxuICBQYWludFJlcXVlc3RMaXN0OiAwLFxuICBQbHVnaW46IDAsXG4gIFBsdWdpbkFycmF5OiAwLFxuICBTVkdMZW5ndGhMaXN0OiAwLFxuICBTVkdOdW1iZXJMaXN0OiAwLFxuICBTVkdQYXRoU2VnTGlzdDogMCxcbiAgU1ZHUG9pbnRMaXN0OiAwLFxuICBTVkdTdHJpbmdMaXN0OiAwLFxuICBTVkdUcmFuc2Zvcm1MaXN0OiAwLFxuICBTb3VyY2VCdWZmZXJMaXN0OiAwLFxuICBTdHlsZVNoZWV0TGlzdDogMCxcbiAgVGV4dFRyYWNrQ3VlTGlzdDogMCxcbiAgVGV4dFRyYWNrTGlzdDogMCxcbiAgVG91Y2hMaXN0OiAwXG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1idWlsdC1pbi5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCduYXZpZ2F0b3InLCAndXNlckFnZW50JykgfHwgJyc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanNcIik7XG52YXIgdXNlckFnZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQuanNcIik7XG5cbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgRGVubyA9IGdsb2JhbC5EZW5vO1xudmFyIHZlcnNpb25zID0gcHJvY2VzcyAmJiBwcm9jZXNzLnZlcnNpb25zIHx8IERlbm8gJiYgRGVuby52ZXJzaW9uO1xudmFyIHY4ID0gdmVyc2lvbnMgJiYgdmVyc2lvbnMudjg7XG52YXIgbWF0Y2gsIHZlcnNpb247XG5cbmlmICh2OCkge1xuICBtYXRjaCA9IHY4LnNwbGl0KCcuJyk7XG4gIHZlcnNpb24gPSBtYXRjaFswXSA8IDQgPyAxIDogbWF0Y2hbMF0gKyBtYXRjaFsxXTtcbn0gZWxzZSBpZiAodXNlckFnZW50KSB7XG4gIG1hdGNoID0gdXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLyk7XG4gIGlmICghbWF0Y2ggfHwgbWF0Y2hbMV0gPj0gNzQpIHtcbiAgICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgaWYgKG1hdGNoKSB2ZXJzaW9uID0gbWF0Y2hbMV07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2ZXJzaW9uICYmICt2ZXJzaW9uO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VudW0tYnVnLWtleXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbi8vIElFOC0gZG9uJ3QgZW51bSBidWcga2V5c1xubW9kdWxlLmV4cG9ydHMgPSBbXG4gICdjb25zdHJ1Y3RvcicsXG4gICdoYXNPd25Qcm9wZXJ0eScsXG4gICdpc1Byb3RvdHlwZU9mJyxcbiAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcbiAgJ3RvTG9jYWxlU3RyaW5nJyxcbiAgJ3RvU3RyaW5nJyxcbiAgJ3ZhbHVlT2YnXG5dO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanNcIikuZjtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzXCIpO1xudmFyIHJlZGVmaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3JlZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVkZWZpbmUuanNcIik7XG52YXIgc2V0R2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3NldC1nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtZ2xvYmFsLmpzXCIpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzLmpzXCIpO1xudmFyIGlzRm9yY2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLWZvcmNlZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLWZvcmNlZC5qc1wiKTtcblxuLypcbiAgb3B0aW9ucy50YXJnZXQgICAgICAtIG5hbWUgb2YgdGhlIHRhcmdldCBvYmplY3RcbiAgb3B0aW9ucy5nbG9iYWwgICAgICAtIHRhcmdldCBpcyB0aGUgZ2xvYmFsIG9iamVjdFxuICBvcHRpb25zLnN0YXQgICAgICAgIC0gZXhwb3J0IGFzIHN0YXRpYyBtZXRob2RzIG9mIHRhcmdldFxuICBvcHRpb25zLnByb3RvICAgICAgIC0gZXhwb3J0IGFzIHByb3RvdHlwZSBtZXRob2RzIG9mIHRhcmdldFxuICBvcHRpb25zLnJlYWwgICAgICAgIC0gcmVhbCBwcm90b3R5cGUgbWV0aG9kIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy5mb3JjZWQgICAgICAtIGV4cG9ydCBldmVuIGlmIHRoZSBuYXRpdmUgZmVhdHVyZSBpcyBhdmFpbGFibGVcbiAgb3B0aW9ucy5iaW5kICAgICAgICAtIGJpbmQgbWV0aG9kcyB0byB0aGUgdGFyZ2V0LCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMud3JhcCAgICAgICAgLSB3cmFwIGNvbnN0cnVjdG9ycyB0byBwcmV2ZW50aW5nIGdsb2JhbCBwb2xsdXRpb24sIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy51bnNhZmUgICAgICAtIHVzZSB0aGUgc2ltcGxlIGFzc2lnbm1lbnQgb2YgcHJvcGVydHkgaW5zdGVhZCBvZiBkZWxldGUgKyBkZWZpbmVQcm9wZXJ0eVxuICBvcHRpb25zLnNoYW0gICAgICAgIC0gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICBvcHRpb25zLmVudW1lcmFibGUgIC0gZXhwb3J0IGFzIGVudW1lcmFibGUgcHJvcGVydHlcbiAgb3B0aW9ucy5ub1RhcmdldEdldCAtIHByZXZlbnQgY2FsbGluZyBhIGdldHRlciBvbiB0YXJnZXRcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRpb25zLCBzb3VyY2UpIHtcbiAgdmFyIFRBUkdFVCA9IG9wdGlvbnMudGFyZ2V0O1xuICB2YXIgR0xPQkFMID0gb3B0aW9ucy5nbG9iYWw7XG4gIHZhciBTVEFUSUMgPSBvcHRpb25zLnN0YXQ7XG4gIHZhciBGT1JDRUQsIHRhcmdldCwga2V5LCB0YXJnZXRQcm9wZXJ0eSwgc291cmNlUHJvcGVydHksIGRlc2NyaXB0b3I7XG4gIGlmIChHTE9CQUwpIHtcbiAgICB0YXJnZXQgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAoU1RBVElDKSB7XG4gICAgdGFyZ2V0ID0gZ2xvYmFsW1RBUkdFVF0gfHwgc2V0R2xvYmFsKFRBUkdFVCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldCA9IChnbG9iYWxbVEFSR0VUXSB8fCB7fSkucHJvdG90eXBlO1xuICB9XG4gIGlmICh0YXJnZXQpIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIHNvdXJjZVByb3BlcnR5ID0gc291cmNlW2tleV07XG4gICAgaWYgKG9wdGlvbnMubm9UYXJnZXRHZXQpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpO1xuICAgICAgdGFyZ2V0UHJvcGVydHkgPSBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IudmFsdWU7XG4gICAgfSBlbHNlIHRhcmdldFByb3BlcnR5ID0gdGFyZ2V0W2tleV07XG4gICAgRk9SQ0VEID0gaXNGb3JjZWQoR0xPQkFMID8ga2V5IDogVEFSR0VUICsgKFNUQVRJQyA/ICcuJyA6ICcjJykgKyBrZXksIG9wdGlvbnMuZm9yY2VkKTtcbiAgICAvLyBjb250YWluZWQgaW4gdGFyZ2V0XG4gICAgaWYgKCFGT1JDRUQgJiYgdGFyZ2V0UHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBzb3VyY2VQcm9wZXJ0eSA9PT0gdHlwZW9mIHRhcmdldFByb3BlcnR5KSBjb250aW51ZTtcbiAgICAgIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMoc291cmNlUHJvcGVydHksIHRhcmdldFByb3BlcnR5KTtcbiAgICB9XG4gICAgLy8gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICAgIGlmIChvcHRpb25zLnNoYW0gfHwgKHRhcmdldFByb3BlcnR5ICYmIHRhcmdldFByb3BlcnR5LnNoYW0pKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoc291cmNlUHJvcGVydHksICdzaGFtJywgdHJ1ZSk7XG4gICAgfVxuICAgIC8vIGV4dGVuZCBnbG9iYWxcbiAgICByZWRlZmluZSh0YXJnZXQsIGtleSwgc291cmNlUHJvcGVydHksIG9wdGlvbnMpO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgYUZ1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2EtZnVuY3Rpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hLWZ1bmN0aW9uLmpzXCIpO1xuXG4vLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuLCB0aGF0LCBsZW5ndGgpIHtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYgKHRoYXQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZuO1xuICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQpO1xuICAgIH07XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIpO1xuICAgIH07XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1idWlsdC1pbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJpYWJsZSkge1xuICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09ICdmdW5jdGlvbicgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihnbG9iYWxbbmFtZXNwYWNlXSkgOiBnbG9iYWxbbmFtZXNwYWNlXSAmJiBnbG9iYWxbbmFtZXNwYWNlXVttZXRob2RdO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbnZhciBjaGVjayA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgJiYgaXQuTWF0aCA9PSBNYXRoICYmIGl0O1xufTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbm1vZHVsZS5leHBvcnRzID1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fFxuICBjaGVjayh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1vYmplY3QuanNcIik7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5oYXNPd24gfHwgZnVuY3Rpb24gaGFzT3duKGl0LCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwodG9PYmplY3QoaXQpLCBrZXkpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oaWRkZW4ta2V5cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oaWRkZW4ta2V5cy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxubW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9odG1sLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaHRtbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1idWlsdC1pbi5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdkb2N1bWVudCcsICdkb2N1bWVudEVsZW1lbnQnKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pZTgtZG9tLWRlZmluZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pZTgtZG9tLWRlZmluZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZXNjcmlwdG9ycy5qc1wiKTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCIpO1xudmFyIGNyZWF0ZUVsZW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudC5qc1wiKTtcblxuLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhREVTQ1JJUFRPUlMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aWVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmRleGVkLW9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmRleGVkLW9iamVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY2xhc3NvZi1yYXcuanNcIik7XG5cbnZhciBzcGxpdCA9ICcnLnNwbGl0O1xuXG4vLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xubW9kdWxlLmV4cG9ydHMgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAtLSBzYWZlXG4gIHJldHVybiAhT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCk7XG59KSA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY2xhc3NvZihpdCkgPT0gJ1N0cmluZycgPyBzcGxpdC5jYWxsKGl0LCAnJykgOiBPYmplY3QoaXQpO1xufSA6IE9iamVjdDtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmhlcml0LWlmLXJlcXVpcmVkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5oZXJpdC1pZi1yZXF1aXJlZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanNcIik7XG52YXIgc2V0UHJvdG90eXBlT2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LXNldC1wcm90b3R5cGUtb2YgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZi5qc1wiKTtcblxuLy8gbWFrZXMgc3ViY2xhc3Npbmcgd29yayBjb3JyZWN0IGZvciB3cmFwcGVkIGJ1aWx0LWluc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJHRoaXMsIGR1bW15LCBXcmFwcGVyKSB7XG4gIHZhciBOZXdUYXJnZXQsIE5ld1RhcmdldFByb3RvdHlwZTtcbiAgaWYgKFxuICAgIC8vIGl0IGNhbiB3b3JrIG9ubHkgd2l0aCBuYXRpdmUgYHNldFByb3RvdHlwZU9mYFxuICAgIHNldFByb3RvdHlwZU9mICYmXG4gICAgLy8gd2UgaGF2ZW4ndCBjb21wbGV0ZWx5IGNvcnJlY3QgcHJlLUVTNiB3YXkgZm9yIGdldHRpbmcgYG5ldy50YXJnZXRgLCBzbyB1c2UgdGhpc1xuICAgIHR5cGVvZiAoTmV3VGFyZ2V0ID0gZHVtbXkuY29uc3RydWN0b3IpID09ICdmdW5jdGlvbicgJiZcbiAgICBOZXdUYXJnZXQgIT09IFdyYXBwZXIgJiZcbiAgICBpc09iamVjdChOZXdUYXJnZXRQcm90b3R5cGUgPSBOZXdUYXJnZXQucHJvdG90eXBlKSAmJlxuICAgIE5ld1RhcmdldFByb3RvdHlwZSAhPT0gV3JhcHBlci5wcm90b3R5cGVcbiAgKSBzZXRQcm90b3R5cGVPZigkdGhpcywgTmV3VGFyZ2V0UHJvdG90eXBlKTtcbiAgcmV0dXJuICR0aGlzO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlLmpzXCIpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IEZ1bmN0aW9uLnRvU3RyaW5nO1xuXG4vLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYGNvcmUtanNAMy40LjEtMy40LjRgLCBzbyB3ZSBjYW4ndCB1c2UgYHNoYXJlZGAgaGVscGVyXG5pZiAodHlwZW9mIHN0b3JlLmluc3BlY3RTb3VyY2UgIT0gJ2Z1bmN0aW9uJykge1xuICBzdG9yZS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uVG9TdHJpbmcuY2FsbChpdCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmUuaW5zcGVjdFNvdXJjZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgTkFUSVZFX1dFQUtfTUFQID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL25hdGl2ZS13ZWFrLW1hcCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS13ZWFrLW1hcC5qc1wiKTtcbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZ2xvYmFsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzXCIpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW9iamVjdC5qc1wiKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzXCIpO1xudmFyIG9iamVjdEhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanNcIik7XG52YXIgc2hhcmVkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC1zdG9yZS5qc1wiKTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2hhcmVkLWtleSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC1rZXkuanNcIik7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oaWRkZW4ta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hpZGRlbi1rZXlzLmpzXCIpO1xuXG52YXIgT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQgPSAnT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnO1xudmFyIFdlYWtNYXAgPSBnbG9iYWwuV2Vha01hcDtcbnZhciBzZXQsIGdldCwgaGFzO1xuXG52YXIgZW5mb3JjZSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaGFzKGl0KSA/IGdldChpdCkgOiBzZXQoaXQsIHt9KTtcbn07XG5cbnZhciBnZXR0ZXJGb3IgPSBmdW5jdGlvbiAoVFlQRSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIHN0YXRlO1xuICAgIGlmICghaXNPYmplY3QoaXQpIHx8IChzdGF0ZSA9IGdldChpdCkpLnR5cGUgIT09IFRZUEUpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcbiAgICB9IHJldHVybiBzdGF0ZTtcbiAgfTtcbn07XG5cbmlmIChOQVRJVkVfV0VBS19NQVAgfHwgc2hhcmVkLnN0YXRlKSB7XG4gIHZhciBzdG9yZSA9IHNoYXJlZC5zdGF0ZSB8fCAoc2hhcmVkLnN0YXRlID0gbmV3IFdlYWtNYXAoKSk7XG4gIHZhciB3bWdldCA9IHN0b3JlLmdldDtcbiAgdmFyIHdtaGFzID0gc3RvcmUuaGFzO1xuICB2YXIgd21zZXQgPSBzdG9yZS5zZXQ7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAod21oYXMuY2FsbChzdG9yZSwgaXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICB3bXNldC5jYWxsKHN0b3JlLCBpdCwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtZ2V0LmNhbGwoc3RvcmUsIGl0KSB8fCB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHdtaGFzLmNhbGwoc3RvcmUsIGl0KTtcbiAgfTtcbn0gZWxzZSB7XG4gIHZhciBTVEFURSA9IHNoYXJlZEtleSgnc3RhdGUnKTtcbiAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgaWYgKG9iamVjdEhhcyhpdCwgU1RBVEUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoaXQsIFNUQVRFLCBtZXRhZGF0YSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhO1xuICB9O1xuICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gb2JqZWN0SGFzKGl0LCBTVEFURSkgPyBpdFtTVEFURV0gOiB7fTtcbiAgfTtcbiAgaGFzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIG9iamVjdEhhcyhpdCwgU1RBVEUpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXQsXG4gIGdldDogZ2V0LFxuICBoYXM6IGhhcyxcbiAgZW5mb3JjZTogZW5mb3JjZSxcbiAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3Jcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtYXJyYXkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtYXJyYXkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLXJhdy5qc1wiKTtcblxuLy8gYElzQXJyYXlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktaXNhcnJheSAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNsYXNzb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1mb3JjZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLWZvcmNlZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2ZhaWxzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZmFpbHMuanNcIik7XG5cbnZhciByZXBsYWNlbWVudCA9IC8jfFxcLnByb3RvdHlwZVxcLi87XG5cbnZhciBpc0ZvcmNlZCA9IGZ1bmN0aW9uIChmZWF0dXJlLCBkZXRlY3Rpb24pIHtcbiAgdmFyIHZhbHVlID0gZGF0YVtub3JtYWxpemUoZmVhdHVyZSldO1xuICByZXR1cm4gdmFsdWUgPT0gUE9MWUZJTEwgPyB0cnVlXG4gICAgOiB2YWx1ZSA9PSBOQVRJVkUgPyBmYWxzZVxuICAgIDogdHlwZW9mIGRldGVjdGlvbiA9PSAnZnVuY3Rpb24nID8gZmFpbHMoZGV0ZWN0aW9uKVxuICAgIDogISFkZXRlY3Rpb247XG59O1xuXG52YXIgbm9ybWFsaXplID0gaXNGb3JjZWQubm9ybWFsaXplID0gZnVuY3Rpb24gKHN0cmluZykge1xuICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZShyZXBsYWNlbWVudCwgJy4nKS50b0xvd2VyQ2FzZSgpO1xufTtcblxudmFyIGRhdGEgPSBpc0ZvcmNlZC5kYXRhID0ge307XG52YXIgTkFUSVZFID0gaXNGb3JjZWQuTkFUSVZFID0gJ04nO1xudmFyIFBPTFlGSUxMID0gaXNGb3JjZWQuUE9MWUZJTEwgPSAnUCc7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGb3JjZWQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtb2JqZWN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1wdXJlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtcHVyZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXN5bWJvbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtc3ltYm9sLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nZXQtYnVpbHQtaW4uanNcIik7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdzeW1ib2wnO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgJFN5bWJvbCA9IGdldEJ1aWx0SW4oJ1N5bWJvbCcpO1xuICByZXR1cm4gdHlwZW9mICRTeW1ib2wgPT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3QoaXQpIGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCIpO1xudmFyIGdldFByb3RvdHlwZU9mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YuanNcIik7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eS5qc1wiKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCIpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCIpO1xudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtcHVyZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXB1cmUuanNcIik7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gZmFsc2U7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxuLy8gYCVJdGVyYXRvclByb3RvdHlwZSVgIG9iamVjdFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0laXRlcmF0b3Jwcm90b3R5cGUlLW9iamVjdFxudmFyIEl0ZXJhdG9yUHJvdG90eXBlLCBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUsIGFycmF5SXRlcmF0b3I7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzL25vLWFycmF5LXByb3RvdHlwZS1rZXlzIC0tIHNhZmUgKi9cbmlmIChbXS5rZXlzKSB7XG4gIGFycmF5SXRlcmF0b3IgPSBbXS5rZXlzKCk7XG4gIC8vIFNhZmFyaSA4IGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxuICBpZiAoISgnbmV4dCcgaW4gYXJyYXlJdGVyYXRvcikpIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSB0cnVlO1xuICBlbHNlIHtcbiAgICBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihnZXRQcm90b3R5cGVPZihhcnJheUl0ZXJhdG9yKSk7XG4gICAgaWYgKFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkgSXRlcmF0b3JQcm90b3R5cGUgPSBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cbn1cblxudmFyIE5FV19JVEVSQVRPUl9QUk9UT1RZUEUgPSBJdGVyYXRvclByb3RvdHlwZSA9PSB1bmRlZmluZWQgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgdGVzdCA9IHt9O1xuICAvLyBGRjQ0LSBsZWdhY3kgaXRlcmF0b3JzIGNhc2VcbiAgcmV0dXJuIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXS5jYWxsKHRlc3QpICE9PSB0ZXN0O1xufSk7XG5cbmlmIChORVdfSVRFUkFUT1JfUFJPVE9UWVBFKSBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG5pZiAoKCFJU19QVVJFIHx8IE5FV19JVEVSQVRPUl9QUk9UT1RZUEUpICYmICFoYXMoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SKSkge1xuICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEl0ZXJhdG9yUHJvdG90eXBlOiBJdGVyYXRvclByb3RvdHlwZSxcbiAgQlVHR1lfU0FGQVJJX0lURVJBVE9SUzogQlVHR1lfU0FGQVJJX0lURVJBVE9SU1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pdGVyYXRvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2l0ZXJhdG9ycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbnZhciBWOF9WRVJTSU9OID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24uanNcIik7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eXN5bWJvbHMgLS0gcmVxdWlyZWQgZm9yIHRlc3Rpbmdcbm1vZHVsZS5leHBvcnRzID0gISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBzeW1ib2wgPSBTeW1ib2woKTtcbiAgLy8gQ2hyb21lIDM4IFN5bWJvbCBoYXMgaW5jb3JyZWN0IHRvU3RyaW5nIGNvbnZlcnNpb25cbiAgLy8gYGdldC1vd24tcHJvcGVydHktc3ltYm9sc2AgcG9seWZpbGwgc3ltYm9scyBjb252ZXJ0ZWQgdG8gb2JqZWN0IGFyZSBub3QgU3ltYm9sIGluc3RhbmNlc1xuICByZXR1cm4gIVN0cmluZyhzeW1ib2wpIHx8ICEoT2JqZWN0KHN5bWJvbCkgaW5zdGFuY2VvZiBTeW1ib2wpIHx8XG4gICAgLy8gQ2hyb21lIDM4LTQwIHN5bWJvbHMgYXJlIG5vdCBpbmhlcml0ZWQgZnJvbSBET00gY29sbGVjdGlvbnMgcHJvdG90eXBlcyB0byBpbnN0YW5jZXNcbiAgICAhU3ltYm9sLnNoYW0gJiYgVjhfVkVSU0lPTiAmJiBWOF9WRVJTSU9OIDwgNDE7XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS13ZWFrLW1hcC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanNcIik7XG52YXIgaW5zcGVjdFNvdXJjZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlLmpzXCIpO1xuXG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nICYmIC9uYXRpdmUgY29kZS8udGVzdChpbnNwZWN0U291cmNlKFdlYWtNYXApKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtYXNzaWduLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWFzc2lnbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZXNjcmlwdG9ycy5qc1wiKTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCIpO1xudmFyIG9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy5qc1wiKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMuanNcIik7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtcHJvcGVydHktaXMtZW51bWVyYWJsZS5qc1wiKTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1vYmplY3QuanNcIik7XG52YXIgSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0LmpzXCIpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWFzc2lnbiAtLSBzYWZlXG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbi8vIGBPYmplY3QuYXNzaWduYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmFzc2lnblxubW9kdWxlLmV4cG9ydHMgPSAhJGFzc2lnbiB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIHNob3VsZCBoYXZlIGNvcnJlY3Qgb3JkZXIgb2Ygb3BlcmF0aW9ucyAoRWRnZSBidWcpXG4gIGlmIChERVNDUklQVE9SUyAmJiAkYXNzaWduKHsgYjogMSB9LCAkYXNzaWduKGRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGhpcywgJ2InLCB7XG4gICAgICAgIHZhbHVlOiAzLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9KSwgeyBiOiAyIH0pKS5iICE9PSAxKSByZXR1cm4gdHJ1ZTtcbiAgLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG4gIHZhciBBID0ge307XG4gIHZhciBCID0ge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1zeW1ib2wgLS0gc2FmZVxuICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gIHZhciBhbHBoYWJldCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbc3ltYm9sXSA9IDc7XG4gIGFscGhhYmV0LnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChjaHIpIHsgQltjaHJdID0gY2hyOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW3N5bWJvbF0gIT0gNyB8fCBvYmplY3RLZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBhbHBoYWJldDtcbn0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICB2YXIgVCA9IHRvT2JqZWN0KHRhcmdldCk7XG4gIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAxO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmY7XG4gIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmY7XG4gIHdoaWxlIChhcmd1bWVudHNMZW5ndGggPiBpbmRleCkge1xuICAgIHZhciBTID0gSW5kZXhlZE9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gb2JqZWN0S2V5cyhTKS5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKFMpKSA6IG9iamVjdEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSB7XG4gICAgICBrZXkgPSBrZXlzW2orK107XG4gICAgICBpZiAoIURFU0NSSVBUT1JTIHx8IHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoUywga2V5KSkgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1jcmVhdGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtY3JlYXRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgLS0gb2xkIElFLCBXU0ggKi9cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hbi1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hbi1vYmplY3QuanNcIik7XG52YXIgZGVmaW5lUHJvcGVydGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMuanNcIik7XG52YXIgZW51bUJ1Z0tleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZW51bS1idWcta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2VudW0tYnVnLWtleXMuanNcIik7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oaWRkZW4ta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hpZGRlbi1rZXlzLmpzXCIpO1xudmFyIGh0bWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaHRtbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2h0bWwuanNcIik7XG52YXIgZG9jdW1lbnRDcmVhdGVFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQuanNcIik7XG52YXIgc2hhcmVkS2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQta2V5LmpzXCIpO1xuXG52YXIgR1QgPSAnPic7XG52YXIgTFQgPSAnPCc7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgU0NSSVBUID0gJ3NjcmlwdCc7XG52YXIgSUVfUFJPVE8gPSBzaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG5cbnZhciBFbXB0eUNvbnN0cnVjdG9yID0gZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9O1xuXG52YXIgc2NyaXB0VGFnID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgcmV0dXJuIExUICsgU0NSSVBUICsgR1QgKyBjb250ZW50ICsgTFQgKyAnLycgKyBTQ1JJUFQgKyBHVDtcbn07XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBBY3RpdmVYIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWCA9IGZ1bmN0aW9uIChhY3RpdmVYRG9jdW1lbnQpIHtcbiAgYWN0aXZlWERvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnJykpO1xuICBhY3RpdmVYRG9jdW1lbnQuY2xvc2UoKTtcbiAgdmFyIHRlbXAgPSBhY3RpdmVYRG9jdW1lbnQucGFyZW50V2luZG93Lk9iamVjdDtcbiAgYWN0aXZlWERvY3VtZW50ID0gbnVsbDsgLy8gYXZvaWQgbWVtb3J5IGxlYWtcbiAgcmV0dXJuIHRlbXA7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgaWZyYW1lIE9iamVjdCB3aXRoIGNsZWFyZWQgcHJvdG90eXBlXG52YXIgTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgdmFyIEpTID0gJ2phdmEnICsgU0NSSVBUICsgJzonO1xuICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmIChpZnJhbWUuc3R5bGUpIHtcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBodG1sLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzQ3NVxuICAgIGlmcmFtZS5zcmMgPSBTdHJpbmcoSlMpO1xuICAgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICAgIGlmcmFtZURvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnZG9jdW1lbnQuRj1PYmplY3QnKSk7XG4gICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbiAgfVxufTtcblxuLy8gQ2hlY2sgZm9yIGRvY3VtZW50LmRvbWFpbiBhbmQgYWN0aXZlIHggc3VwcG9ydFxuLy8gTm8gbmVlZCB0byB1c2UgYWN0aXZlIHggYXBwcm9hY2ggd2hlbiBkb2N1bWVudC5kb21haW4gaXMgbm90IHNldFxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9pc3N1ZXMvMTUwXG4vLyB2YXJpYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL2tpdGNhbWJyaWRnZS9lczUtc2hpbS9jb21taXQvNGY3MzhhYzA2NjM0NlxuLy8gYXZvaWQgSUUgR0MgYnVnXG52YXIgYWN0aXZlWERvY3VtZW50O1xudmFyIE51bGxQcm90b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlICovIH1cbiAgTnVsbFByb3RvT2JqZWN0ID0gZG9jdW1lbnQuZG9tYWluICYmIGFjdGl2ZVhEb2N1bWVudCA/XG4gICAgTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWChhY3RpdmVYRG9jdW1lbnQpIDogLy8gb2xkIElFXG4gICAgTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lKCkgfHxcbiAgICBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCk7IC8vIFdTSFxuICB2YXIgbGVuZ3RoID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIGRlbGV0ZSBOdWxsUHJvdG9PYmplY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tsZW5ndGhdXTtcbiAgcmV0dXJuIE51bGxQcm90b09iamVjdCgpO1xufTtcblxuaGlkZGVuS2V5c1tJRV9QUk9UT10gPSB0cnVlO1xuXG4vLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eUNvbnN0cnVjdG9yKCk7XG4gICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBOdWxsUHJvdG9PYmplY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRlZmluZVByb3BlcnRpZXMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzXCIpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzXCIpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FuLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qc1wiKTtcbnZhciBvYmplY3RLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1rZXlzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWtleXMuanNcIik7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0aWVzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnRpZXMgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIFByb3BlcnRpZXNba2V5XSk7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzXCIpO1xudmFyIElFOF9ET01fREVGSU5FID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUuanNcIik7XG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvYW4tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYW4tb2JqZWN0LmpzXCIpO1xudmFyIHRvUHJvcGVydHlLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5LmpzXCIpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciAkZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gJGRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBhbk9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgREVTQ1JJUFRPUlMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZXNjcmlwdG9ycy5qc1wiKTtcbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtcHJvcGVydHktaXMtZW51bWVyYWJsZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlLmpzXCIpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXCIpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzXCIpO1xudmFyIHRvUHJvcGVydHlLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5LmpzXCIpO1xudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanNcIik7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaWU4LWRvbS1kZWZpbmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pZTgtZG9tLWRlZmluZS5qc1wiKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0luZGV4ZWRPYmplY3QoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcighcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZi5jYWxsKE8sIFApLCBPW1BdKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZXNsaW50LWRpc2FibGUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZSAqL1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzXCIpO1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMuanNcIikuZjtcblxudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5TmFtZXMoaXQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB3aW5kb3dOYW1lcy5zbGljZSgpO1xuICB9XG59O1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBidWdneSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB3aXRoIGlmcmFtZSBhbmQgd2luZG93XG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCkge1xuICByZXR1cm4gd2luZG93TmFtZXMgJiYgdG9TdHJpbmcuY2FsbChpdCkgPT0gJ1tvYmplY3QgV2luZG93XSdcbiAgICA/IGdldFdpbmRvd05hbWVzKGl0KVxuICAgIDogJGdldE93blByb3BlcnR5TmFtZXModG9JbmRleGVkT2JqZWN0KGl0KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpbnRlcm5hbE9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1wiKTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW51bS1idWcta2V5cy5qc1wiKTtcblxudmFyIGhpZGRlbktleXMgPSBlbnVtQnVnS2V5cy5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBoaWRkZW5LZXlzKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSBzYWZlXG5leHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtcHJvdG90eXBlLW9mLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCIpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLW9iamVjdC5qc1wiKTtcbnZhciBzaGFyZWRLZXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2hhcmVkLWtleSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC1rZXkuanNcIik7XG52YXIgQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NvcnJlY3QtcHJvdG90eXBlLWdldHRlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NvcnJlY3QtcHJvdG90eXBlLWdldHRlci5qc1wiKTtcblxudmFyIElFX1BST1RPID0gc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xudmFyIE9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8vIGBPYmplY3QuZ2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0cHJvdG90eXBlb2Zcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0cHJvdG90eXBlb2YgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiAoTykge1xuICBPID0gdG9PYmplY3QoTyk7XG4gIGlmIChoYXMoTywgSUVfUFJPVE8pKSByZXR1cm4gT1tJRV9QUk9UT107XG4gIGlmICh0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG90eXBlIDogbnVsbDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGhhcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oYXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oYXMuanNcIik7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QuanNcIik7XG52YXIgaW5kZXhPZiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzLmpzXCIpLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9oaWRkZW4ta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hpZGRlbi1rZXlzLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSAhaGFzKGhpZGRlbktleXMsIGtleSkgJiYgaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhcyhPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpbnRlcm5hbE9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1wiKTtcbnZhciBlbnVtQnVnS2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZW51bS1idWcta2V5cy5qc1wiKTtcblxuLy8gYE9iamVjdC5rZXlzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmtleXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3Qta2V5cyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGVudW1CdWdLZXlzKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAhJHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAxOiAyIH0sIDEpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcbmV4cG9ydHMuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBWKTtcbiAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG59IDogJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1zZXQtcHJvdG90eXBlLW9mLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1zZXQtcHJvdG90eXBlLW9mLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvIC0tIHNhZmUgKi9cbnZhciBhbk9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hbi1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hbi1vYmplY3QuanNcIik7XG52YXIgYVBvc3NpYmxlUHJvdG90eXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2EtcG9zc2libGUtcHJvdG90eXBlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYS1wb3NzaWJsZS1wcm90b3R5cGUuanNcIik7XG5cbi8vIGBPYmplY3Quc2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Quc2V0cHJvdG90eXBlb2Zcbi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1zZXRwcm90b3R5cGVvZiAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbiAoKSB7XG4gIHZhciBDT1JSRUNUX1NFVFRFUiA9IGZhbHNlO1xuICB2YXIgdGVzdCA9IHt9O1xuICB2YXIgc2V0dGVyO1xuICB0cnkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgICBzZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsICdfX3Byb3RvX18nKS5zZXQ7XG4gICAgc2V0dGVyLmNhbGwodGVzdCwgW10pO1xuICAgIENPUlJFQ1RfU0VUVEVSID0gdGVzdCBpbnN0YW5jZW9mIEFycmF5O1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgIGFuT2JqZWN0KE8pO1xuICAgIGFQb3NzaWJsZVByb3RvdHlwZShwcm90byk7XG4gICAgaWYgKENPUlJFQ1RfU0VUVEVSKSBzZXR0ZXIuY2FsbChPLCBwcm90byk7XG4gICAgZWxzZSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgIHJldHVybiBPO1xuICB9O1xufSgpIDogdW5kZWZpbmVkKTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtdG8tc3RyaW5nLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXRvLXN0cmluZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydC5qc1wiKTtcbnZhciBjbGFzc29mID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NsYXNzb2YgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLmpzXCIpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gVE9fU1RSSU5HX1RBR19TVVBQT1JUID8ge30udG9TdHJpbmcgOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdbb2JqZWN0ICcgKyBjbGFzc29mKHRoaXMpICsgJ10nO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vcmRpbmFyeS10by1wcmltaXRpdmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29yZGluYXJ5LXRvLXByaW1pdGl2ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW9iamVjdC5qc1wiKTtcblxuLy8gYE9yZGluYXJ5VG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vcmRpbmFyeXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICB2YXIgZm4sIHZhbDtcbiAgaWYgKHByZWYgPT09ICdzdHJpbmcnICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGlucHV0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHByZWYgIT09ICdzdHJpbmcnICYmIHR5cGVvZiAoZm4gPSBpbnB1dC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpbnB1dCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL293bi1rZXlzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL293bi1rZXlzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnZXRCdWlsdEluID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dldC1idWlsdC1pbi5qc1wiKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMuanNcIik7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzXCIpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FuLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qc1wiKTtcblxuLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ293bktleXMnKSB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG4gIHZhciBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mKGFuT2JqZWN0KGl0KSk7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgcmV0dXJuIGdldE93blByb3BlcnR5U3ltYm9scyA/IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhpdCkpIDoga2V5cztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcGF0aC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3BhdGguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnbG9iYWw7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVkZWZpbmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVkZWZpbmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanNcIik7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eS5qc1wiKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCIpO1xudmFyIHNldEdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zZXQtZ2xvYmFsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2V0LWdsb2JhbC5qc1wiKTtcbnZhciBpbnNwZWN0U291cmNlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UuanNcIik7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlLmpzXCIpO1xuXG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xudmFyIGVuZm9yY2VJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5lbmZvcmNlO1xudmFyIFRFTVBMQVRFID0gU3RyaW5nKFN0cmluZykuc3BsaXQoJ1N0cmluZycpO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywga2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICB2YXIgdW5zYWZlID0gb3B0aW9ucyA/ICEhb3B0aW9ucy51bnNhZmUgOiBmYWxzZTtcbiAgdmFyIHNpbXBsZSA9IG9wdGlvbnMgPyAhIW9wdGlvbnMuZW51bWVyYWJsZSA6IGZhbHNlO1xuICB2YXIgbm9UYXJnZXRHZXQgPSBvcHRpb25zID8gISFvcHRpb25zLm5vVGFyZ2V0R2V0IDogZmFsc2U7XG4gIHZhciBzdGF0ZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT0gJ3N0cmluZycgJiYgIWhhcyh2YWx1ZSwgJ25hbWUnKSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KHZhbHVlLCAnbmFtZScsIGtleSk7XG4gICAgfVxuICAgIHN0YXRlID0gZW5mb3JjZUludGVybmFsU3RhdGUodmFsdWUpO1xuICAgIGlmICghc3RhdGUuc291cmNlKSB7XG4gICAgICBzdGF0ZS5zb3VyY2UgPSBURU1QTEFURS5qb2luKHR5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyBrZXkgOiAnJyk7XG4gICAgfVxuICB9XG4gIGlmIChPID09PSBnbG9iYWwpIHtcbiAgICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgICBlbHNlIHNldEdsb2JhbChrZXksIHZhbHVlKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoIXVuc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gIH0gZWxzZSBpZiAoIW5vVGFyZ2V0R2V0ICYmIE9ba2V5XSkge1xuICAgIHNpbXBsZSA9IHRydWU7XG4gIH1cbiAgaWYgKHNpbXBsZSkgT1trZXldID0gdmFsdWU7XG4gIGVsc2UgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KE8sIGtleSwgdmFsdWUpO1xuLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcgZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG59KShGdW5jdGlvbi5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyAmJiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLnNvdXJjZSB8fCBpbnNwZWN0U291cmNlKHRoaXMpO1xufSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVnZXhwLWZsYWdzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWdleHAtZmxhZ3MuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYW5PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvYW4tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYW4tb2JqZWN0LmpzXCIpO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS5mbGFnc2AgZ2V0dGVyIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1yZWdleHAucHJvdG90eXBlLmZsYWdzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRoYXQgPSBhbk9iamVjdCh0aGlzKTtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAodGhhdC5nbG9iYWwpIHJlc3VsdCArPSAnZyc7XG4gIGlmICh0aGF0Lmlnbm9yZUNhc2UpIHJlc3VsdCArPSAnaSc7XG4gIGlmICh0aGF0Lm11bHRpbGluZSkgcmVzdWx0ICs9ICdtJztcbiAgaWYgKHRoYXQuZG90QWxsKSByZXN1bHQgKz0gJ3MnO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxuLy8gYFJlcXVpcmVPYmplY3RDb2VyY2libGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZXF1aXJlb2JqZWN0Y29lcmNpYmxlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgPT0gdW5kZWZpbmVkKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zZXQtZ2xvYmFsLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2V0LWdsb2JhbC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZ2xvYmFsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbCwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzXCIpLmY7XG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2hhcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hhcy5qc1wiKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC5qc1wiKTtcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBUQUcsIFNUQVRJQykge1xuICBpZiAoaXQgJiYgIWhhcyhpdCA9IFNUQVRJQyA/IGl0IDogaXQucHJvdG90eXBlLCBUT19TVFJJTkdfVEFHKSkge1xuICAgIGRlZmluZVByb3BlcnR5KGl0LCBUT19TVFJJTkdfVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IFRBRyB9KTtcbiAgfVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQta2V5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLWtleS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBzaGFyZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2hhcmVkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLmpzXCIpO1xudmFyIHVpZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy91aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91aWQuanNcIik7XG5cbnZhciBrZXlzID0gc2hhcmVkKCdrZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4ga2V5c1trZXldIHx8IChrZXlzW2tleV0gPSB1aWQoa2V5KSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC1zdG9yZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcbnZhciBzZXRHbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2V0LWdsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NldC1nbG9iYWwuanNcIik7XG5cbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IHNldEdsb2JhbChTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NoYXJlZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIElTX1BVUkUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtcHVyZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLXB1cmUuanNcIik7XG52YXIgc3RvcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlLmpzXCIpO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbn0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgdmVyc2lvbjogJzMuMTYuMCcsXG4gIG1vZGU6IElTX1BVUkUgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAyMSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3N0cmluZy1odG1sLWZvcmNlZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3RyaW5nLWh0bWwtZm9yY2VkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcblxuLy8gY2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiBhIG1ldGhvZCwgbG93ZXJjYXNlXG4vLyBvZiBhIHRhZyBhbmQgZXNjYXBpbmcgcXVvdGVzIGluIGFyZ3VtZW50c1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgcmV0dXJuIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGVzdCA9ICcnW01FVEhPRF9OQU1FXSgnXCInKTtcbiAgICByZXR1cm4gdGVzdCAhPT0gdGVzdC50b0xvd2VyQ2FzZSgpIHx8IHRlc3Quc3BsaXQoJ1wiJykubGVuZ3RoID4gMztcbiAgfSk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3N0cmluZy1tdWx0aWJ5dGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zdHJpbmctbXVsdGlieXRlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1pbnRlZ2VyICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW50ZWdlci5qc1wiKTtcbnZhciB0b1N0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1zdHJpbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1zdHJpbmcuanNcIik7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanNcIik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKENPTlZFUlRfVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIHBvcykge1xuICAgIHZhciBTID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIHZhciBwb3NpdGlvbiA9IHRvSW50ZWdlcihwb3MpO1xuICAgIHZhciBzaXplID0gUy5sZW5ndGg7XG4gICAgdmFyIGZpcnN0LCBzZWNvbmQ7XG4gICAgaWYgKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBzaXplKSByZXR1cm4gQ09OVkVSVF9UT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBmaXJzdCA9IFMuY2hhckNvZGVBdChwb3NpdGlvbik7XG4gICAgcmV0dXJuIGZpcnN0IDwgMHhEODAwIHx8IGZpcnN0ID4gMHhEQkZGIHx8IHBvc2l0aW9uICsgMSA9PT0gc2l6ZVxuICAgICAgfHwgKHNlY29uZCA9IFMuY2hhckNvZGVBdChwb3NpdGlvbiArIDEpKSA8IDB4REMwMCB8fCBzZWNvbmQgPiAweERGRkZcbiAgICAgICAgPyBDT05WRVJUX1RPX1NUUklORyA/IFMuY2hhckF0KHBvc2l0aW9uKSA6IGZpcnN0XG4gICAgICAgIDogQ09OVkVSVF9UT19TVFJJTkcgPyBTLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIDIpIDogKGZpcnN0IC0gMHhEODAwIDw8IDEwKSArIChzZWNvbmQgLSAweERDMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5jb2RlcG9pbnRhdFxuICBjb2RlQXQ6IGNyZWF0ZU1ldGhvZChmYWxzZSksXG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLmF0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvU3RyaW5nLnByb3RvdHlwZS5hdFxuICBjaGFyQXQ6IGNyZWF0ZU1ldGhvZCh0cnVlKVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zdHJpbmctdHJpbS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zdHJpbmctdHJpbS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanNcIik7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tc3RyaW5nICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tc3RyaW5nLmpzXCIpO1xudmFyIHdoaXRlc3BhY2VzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3doaXRlc3BhY2VzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2hpdGVzcGFjZXMuanNcIik7XG5cbnZhciB3aGl0ZXNwYWNlID0gJ1snICsgd2hpdGVzcGFjZXMgKyAnXSc7XG52YXIgbHRyaW0gPSBSZWdFeHAoJ14nICsgd2hpdGVzcGFjZSArIHdoaXRlc3BhY2UgKyAnKicpO1xudmFyIHJ0cmltID0gUmVnRXhwKHdoaXRlc3BhY2UgKyB3aGl0ZXNwYWNlICsgJyokJyk7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbSwgdHJpbVN0YXJ0LCB0cmltRW5kLCB0cmltTGVmdCwgdHJpbVJpZ2h0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoVFlQRSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzKSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoJHRoaXMpKTtcbiAgICBpZiAoVFlQRSAmIDEpIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKGx0cmltLCAnJyk7XG4gICAgaWYgKFRZUEUgJiAyKSBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShydHJpbSwgJycpO1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltTGVmdCwgdHJpbVN0YXJ0IH1gIG1ldGhvZHNcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1zdGFydFxuICBzdGFydDogY3JlYXRlTWV0aG9kKDEpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1SaWdodCwgdHJpbUVuZCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltZW5kXG4gIGVuZDogY3JlYXRlTWV0aG9kKDIpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS50cmltYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1cbiAgdHJpbTogY3JlYXRlTWV0aG9kKDMpXG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB0b0ludGVnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8taW50ZWdlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWludGVnZXIuanNcIik7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICB2YXIgaW50ZWdlciA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbnRlZ2VyIDwgMCA/IG1heChpbnRlZ2VyICsgbGVuZ3RoLCAwKSA6IG1pbihpbnRlZ2VyLCBsZW5ndGgpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG4vLyB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIEluZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmRleGVkLW9iamVjdC5qc1wiKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZS5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEluZGV4ZWRPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShpdCkpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1pbnRlZ2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW50ZWdlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5cbi8vIGBUb0ludGVnZXJgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2ludGVnZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBpc05hTihhcmd1bWVudCA9ICthcmd1bWVudCkgPyAwIDogKGFyZ3VtZW50ID4gMCA/IGZsb29yIDogY2VpbCkoYXJndW1lbnQpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1sZW5ndGguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWxlbmd0aC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1pbnRlZ2VyICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW50ZWdlci5qc1wiKTtcblxudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXIoYXJndW1lbnQpLCAweDFGRkZGRkZGRkZGRkZGKSA6IDA7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tb2JqZWN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1vYmplY3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZS5qc1wiKTtcblxuLy8gYFRvT2JqZWN0YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9vYmplY3Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1wcmltaXRpdmUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXByaW1pdGl2ZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW9iamVjdC5qc1wiKTtcbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1zeW1ib2wuanNcIik7XG52YXIgb3JkaW5hcnlUb1ByaW1pdGl2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vcmRpbmFyeS10by1wcmltaXRpdmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vcmRpbmFyeS10by1wcmltaXRpdmUuanNcIik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanNcIik7XG5cbnZhciBUT19QUklNSVRJVkUgPSB3ZWxsS25vd25TeW1ib2woJ3RvUHJpbWl0aXZlJyk7XG5cbi8vIGBUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICBpZiAoIWlzT2JqZWN0KGlucHV0KSB8fCBpc1N5bWJvbChpbnB1dCkpIHJldHVybiBpbnB1dDtcbiAgdmFyIGV4b3RpY1RvUHJpbSA9IGlucHV0W1RPX1BSSU1JVElWRV07XG4gIHZhciByZXN1bHQ7XG4gIGlmIChleG90aWNUb1ByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnZGVmYXVsdCc7XG4gICAgcmVzdWx0ID0gZXhvdGljVG9QcmltLmNhbGwoaW5wdXQsIHByZWYpO1xuICAgIGlmICghaXNPYmplY3QocmVzdWx0KSB8fCBpc1N5bWJvbChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfVxuICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gIHJldHVybiBvcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBwcmVmKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXkuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB0b1ByaW1pdGl2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1wcmltaXRpdmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1wcmltaXRpdmUuanNcIik7XG52YXIgaXNTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtc3ltYm9sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtc3ltYm9sLmpzXCIpO1xuXG4vLyBgVG9Qcm9wZXJ0eUtleWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmd1bWVudCwgJ3N0cmluZycpO1xuICByZXR1cm4gaXNTeW1ib2woa2V5KSA/IGtleSA6IFN0cmluZyhrZXkpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCIpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciB0ZXN0ID0ge307XG5cbnRlc3RbVE9fU1RSSU5HX1RBR10gPSAneic7XG5cbm1vZHVsZS5leHBvcnRzID0gU3RyaW5nKHRlc3QpID09PSAnW29iamVjdCB6XSc7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tc3RyaW5nLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1zdHJpbmcuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1zeW1ib2wuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc1N5bWJvbChhcmd1bWVudCkpIHRocm93IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcnKTtcbiAgcmV0dXJuIFN0cmluZyhhcmd1bWVudCk7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3VpZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdWlkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxudmFyIGlkID0gMDtcbnZhciBwb3N0Zml4ID0gTWF0aC5yYW5kb20oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyBTdHJpbmcoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgKCsraWQgKyBwb3N0Zml4KS50b1N0cmluZygzNik7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX1NZTUJPTFxuICAmJiAhU3ltYm9sLnNoYW1cbiAgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC13cmFwcGVkLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC5qc1wiKTtcblxuZXhwb3J0cy5mID0gd2VsbEtub3duU3ltYm9sO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZ2xvYmFsICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZ2xvYmFsLmpzXCIpO1xudmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zaGFyZWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQuanNcIik7XG52YXIgaGFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2hhcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2hhcy5qc1wiKTtcbnZhciB1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdWlkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdWlkLmpzXCIpO1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanNcIik7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZC5qc1wiKTtcblxudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXMoV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSB8fCAhKE5BVElWRV9TWU1CT0wgfHwgdHlwZW9mIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9PSAnc3RyaW5nJykpIHtcbiAgICBpZiAoTkFUSVZFX1NZTUJPTCAmJiBoYXMoU3ltYm9sLCBuYW1lKSkge1xuICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdID0gU3ltYm9sW25hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gICAgfVxuICB9IHJldHVybiBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV07XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3doaXRlc3BhY2VzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3doaXRlc3BhY2VzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG4vLyBhIHN0cmluZyBvZiBhbGwgdmFsaWQgdW5pY29kZSB3aGl0ZXNwYWNlc1xubW9kdWxlLmV4cG9ydHMgPSAnXFx1MDAwOVxcdTAwMEFcXHUwMDBCXFx1MDAwQ1xcdTAwMERcXHUwMDIwXFx1MDBBMFxcdTE2ODBcXHUyMDAwXFx1MjAwMVxcdTIwMDInICtcbiAgJ1xcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1MjAyOFxcdTIwMjlcXHVGRUZGJztcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2V4cG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qc1wiKTtcbnZhciBmYWlscyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9mYWlscyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2ZhaWxzLmpzXCIpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtYXJyYXkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1hcnJheS5qc1wiKTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanNcIik7XG52YXIgdG9PYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tb2JqZWN0LmpzXCIpO1xudmFyIHRvTGVuZ3RoID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLWxlbmd0aCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWxlbmd0aC5qc1wiKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHkuanNcIik7XG52YXIgYXJyYXlTcGVjaWVzQ3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY3JlYXRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUuanNcIik7XG52YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0LmpzXCIpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCIpO1xudmFyIFY4X1ZFUlNJT04gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbi5qc1wiKTtcblxudmFyIElTX0NPTkNBVF9TUFJFQURBQkxFID0gd2VsbEtub3duU3ltYm9sKCdpc0NvbmNhdFNwcmVhZGFibGUnKTtcbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gMHgxRkZGRkZGRkZGRkZGRjtcbnZhciBNQVhJTVVNX0FMTE9XRURfSU5ERVhfRVhDRUVERUQgPSAnTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkJztcblxuLy8gV2UgY2FuJ3QgdXNlIHRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaW4gVjggc2luY2UgaXQgY2F1c2VzXG4vLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxudmFyIElTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgPSBWOF9WRVJTSU9OID49IDUxIHx8ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBhcnJheSA9IFtdO1xuICBhcnJheVtJU19DT05DQVRfU1BSRUFEQUJMRV0gPSBmYWxzZTtcbiAgcmV0dXJuIGFycmF5LmNvbmNhdCgpWzBdICE9PSBhcnJheTtcbn0pO1xuXG52YXIgU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnY29uY2F0Jyk7XG5cbnZhciBpc0NvbmNhdFNwcmVhZGFibGUgPSBmdW5jdGlvbiAoTykge1xuICBpZiAoIWlzT2JqZWN0KE8pKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzcHJlYWRhYmxlID0gT1tJU19DT05DQVRfU1BSRUFEQUJMRV07XG4gIHJldHVybiBzcHJlYWRhYmxlICE9PSB1bmRlZmluZWQgPyAhIXNwcmVhZGFibGUgOiBpc0FycmF5KE8pO1xufTtcblxudmFyIEZPUkNFRCA9ICFJU19DT05DQVRfU1BSRUFEQUJMRV9TVVBQT1JUIHx8ICFTUEVDSUVTX1NVUFBPUlQ7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuY29uY2F0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmNvbmNhdFxuLy8gd2l0aCBhZGRpbmcgc3VwcG9ydCBvZiBAQGlzQ29uY2F0U3ByZWFkYWJsZSBhbmQgQEBzcGVjaWVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdChhcmcpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpO1xuICAgIHZhciBBID0gYXJyYXlTcGVjaWVzQ3JlYXRlKE8sIDApO1xuICAgIHZhciBuID0gMDtcbiAgICB2YXIgaSwgaywgbGVuZ3RoLCBsZW4sIEU7XG4gICAgZm9yIChpID0gLTEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgRSA9IGkgPT09IC0xID8gTyA6IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChpc0NvbmNhdFNwcmVhZGFibGUoRSkpIHtcbiAgICAgICAgbGVuID0gdG9MZW5ndGgoRS5sZW5ndGgpO1xuICAgICAgICBpZiAobiArIGxlbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHRocm93IFR5cGVFcnJvcihNQVhJTVVNX0FMTE9XRURfSU5ERVhfRVhDRUVERUQpO1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrKyssIG4rKykgaWYgKGsgaW4gRSkgY3JlYXRlUHJvcGVydHkoQSwgbiwgRVtrXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobiA+PSBNQVhfU0FGRV9JTlRFR0VSKSB0aHJvdyBUeXBlRXJyb3IoTUFYSU1VTV9BTExPV0VEX0lOREVYX0VYQ0VFREVEKTtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkoQSwgbisrLCBFKTtcbiAgICAgIH1cbiAgICB9XG4gICAgQS5sZW5ndGggPSBuO1xuICAgIHJldHVybiBBO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdC5qc1wiKTtcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FkZC10by11bnNjb3BhYmxlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FkZC10by11bnNjb3BhYmxlcy5qc1wiKTtcbnZhciBJdGVyYXRvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXRlcmF0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXRlcmF0b3JzLmpzXCIpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZS5qc1wiKTtcbnZhciBkZWZpbmVJdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IuanNcIik7XG5cbnZhciBBUlJBWV9JVEVSQVRPUiA9ICdBcnJheSBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihBUlJBWV9JVEVSQVRPUik7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuZW50cmllc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5lbnRyaWVzXG4vLyBgQXJyYXkucHJvdG90eXBlLmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUua2V5c1xuLy8gYEFycmF5LnByb3RvdHlwZS52YWx1ZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUudmFsdWVzXG4vLyBgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAaXRlcmF0b3Jcbi8vIGBDcmVhdGVBcnJheUl0ZXJhdG9yYCBpbnRlcm5hbCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlYXJyYXlpdGVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmVJdGVyYXRvcihBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IEFSUkFZX0lURVJBVE9SLFxuICAgIHRhcmdldDogdG9JbmRleGVkT2JqZWN0KGl0ZXJhdGVkKSwgLy8gdGFyZ2V0XG4gICAgaW5kZXg6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gICAga2luZDoga2luZCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBraW5kXG4gIH0pO1xuLy8gYCVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWFycmF5aXRlcmF0b3Jwcm90b3R5cGUlLm5leHRcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgdmFyIHRhcmdldCA9IHN0YXRlLnRhcmdldDtcbiAgdmFyIGtpbmQgPSBzdGF0ZS5raW5kO1xuICB2YXIgaW5kZXggPSBzdGF0ZS5pbmRleCsrO1xuICBpZiAoIXRhcmdldCB8fCBpbmRleCA+PSB0YXJnZXQubGVuZ3RoKSB7XG4gICAgc3RhdGUudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiB7IHZhbHVlOiBpbmRleCwgZG9uZTogZmFsc2UgfTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiB7IHZhbHVlOiB0YXJnZXRbaW5kZXhdLCBkb25lOiBmYWxzZSB9O1xuICByZXR1cm4geyB2YWx1ZTogW2luZGV4LCB0YXJnZXRbaW5kZXhdXSwgZG9uZTogZmFsc2UgfTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZXVubWFwcGVkYXJndW1lbnRzb2JqZWN0XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZW1hcHBlZGFyZ3VtZW50c29iamVjdFxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzXCIpO1xudmFyIEluZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbmRleGVkLW9iamVjdC5qc1wiKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdC5qc1wiKTtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0LmpzXCIpO1xuXG52YXIgbmF0aXZlSm9pbiA9IFtdLmpvaW47XG5cbnZhciBFUzNfU1RSSU5HUyA9IEluZGV4ZWRPYmplY3QgIT0gT2JqZWN0O1xudmFyIFNUUklDVF9NRVRIT0QgPSBhcnJheU1ldGhvZElzU3RyaWN0KCdqb2luJywgJywnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5qb2luYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmpvaW5cbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEVTM19TVFJJTkdTIHx8ICFTVFJJQ1RfTUVUSE9EIH0sIHtcbiAgam9pbjogZnVuY3Rpb24gam9pbihzZXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbmF0aXZlSm9pbi5jYWxsKHRvSW5kZXhlZE9iamVjdCh0aGlzKSwgc2VwYXJhdG9yID09PSB1bmRlZmluZWQgPyAnLCcgOiBzZXBhcmF0b3IpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2V4cG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qc1wiKTtcbnZhciAkbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbi5qc1wiKS5tYXA7XG52YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0LmpzXCIpO1xuXG52YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ21hcCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbi8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIG1hcDogZnVuY3Rpb24gbWFwKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgcmV0dXJuICRtYXAodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzXCIpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW9iamVjdC5qc1wiKTtcbnZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLWFycmF5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtYXJyYXkuanNcIik7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tYWJzb2x1dGUtaW5kZXguanNcIik7XG52YXIgdG9MZW5ndGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tbGVuZ3RoLmpzXCIpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0LmpzXCIpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS5qc1wiKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC5qc1wiKTtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWhhcy1zcGVjaWVzLXN1cHBvcnQuanNcIik7XG5cbnZhciBIQVNfU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnc2xpY2UnKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciBuYXRpdmVTbGljZSA9IFtdLnNsaWNlO1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnNsaWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNsaWNlXG4vLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgayA9IHRvQWJzb2x1dGVJbmRleChzdGFydCwgbGVuZ3RoKTtcbiAgICB2YXIgZmluID0gdG9BYnNvbHV0ZUluZGV4KGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICAgIC8vIGlubGluZSBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBmb3IgdXNhZ2UgbmF0aXZlIGBBcnJheSNzbGljZWAgd2hlcmUgaXQncyBwb3NzaWJsZVxuICAgIHZhciBDb25zdHJ1Y3RvciwgcmVzdWx0LCBuO1xuICAgIGlmIChpc0FycmF5KE8pKSB7XG4gICAgICBDb25zdHJ1Y3RvciA9IE8uY29uc3RydWN0b3I7XG4gICAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiBDb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIChDb25zdHJ1Y3RvciA9PT0gQXJyYXkgfHwgaXNBcnJheShDb25zdHJ1Y3Rvci5wcm90b3R5cGUpKSkge1xuICAgICAgICBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoQ29uc3RydWN0b3IpKSB7XG4gICAgICAgIENvbnN0cnVjdG9yID0gQ29uc3RydWN0b3JbU1BFQ0lFU107XG4gICAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gbnVsbCkgQ29uc3RydWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoQ29uc3RydWN0b3IgPT09IEFycmF5IHx8IENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVNsaWNlLmNhbGwoTywgaywgZmluKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IChDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkID8gQXJyYXkgOiBDb25zdHJ1Y3RvcikobWF4KGZpbiAtIGssIDApKTtcbiAgICBmb3IgKG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgaWYgKGsgaW4gTykgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBuLCBPW2tdKTtcbiAgICByZXN1bHQubGVuZ3RoID0gbjtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzXCIpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzXCIpLmY7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBGdW5jdGlvblByb3RvdHlwZVRvU3RyaW5nID0gRnVuY3Rpb25Qcm90b3R5cGUudG9TdHJpbmc7XG52YXIgbmFtZVJFID0gL15cXHMqZnVuY3Rpb24gKFteIChdKikvO1xudmFyIE5BTUUgPSAnbmFtZSc7XG5cbi8vIEZ1bmN0aW9uIGluc3RhbmNlcyBgLm5hbWVgIHByb3BlcnR5XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWZ1bmN0aW9uLWluc3RhbmNlcy1uYW1lXG5pZiAoREVTQ1JJUFRPUlMgJiYgIShOQU1FIGluIEZ1bmN0aW9uUHJvdG90eXBlKSkge1xuICBkZWZpbmVQcm9wZXJ0eShGdW5jdGlvblByb3RvdHlwZSwgTkFNRSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvblByb3RvdHlwZVRvU3RyaW5nLmNhbGwodGhpcykubWF0Y2gobmFtZVJFKVsxXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVzY3JpcHRvcnMuanNcIik7XG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcbnZhciBpc0ZvcmNlZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1mb3JjZWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1mb3JjZWQuanNcIik7XG52YXIgcmVkZWZpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvcmVkZWZpbmUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9yZWRlZmluZS5qc1wiKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCIpO1xudmFyIGNsYXNzb2YgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jbGFzc29mLXJhdy5qc1wiKTtcbnZhciBpbmhlcml0SWZSZXF1aXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pbmhlcml0LWlmLXJlcXVpcmVkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW5oZXJpdC1pZi1yZXF1aXJlZC5qc1wiKTtcbnZhciBpc1N5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1zeW1ib2wuanNcIik7XG52YXIgdG9QcmltaXRpdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlLmpzXCIpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2ZhaWxzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZmFpbHMuanNcIik7XG52YXIgY3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtY3JlYXRlLmpzXCIpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcy5qc1wiKS5mO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qc1wiKS5mO1xudmFyIGRlZmluZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzXCIpLmY7XG52YXIgdHJpbSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zdHJpbmctdHJpbSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3N0cmluZy10cmltLmpzXCIpLnRyaW07XG5cbnZhciBOVU1CRVIgPSAnTnVtYmVyJztcbnZhciBOYXRpdmVOdW1iZXIgPSBnbG9iYWxbTlVNQkVSXTtcbnZhciBOdW1iZXJQcm90b3R5cGUgPSBOYXRpdmVOdW1iZXIucHJvdG90eXBlO1xuXG4vLyBPcGVyYSB+MTIgaGFzIGJyb2tlbiBPYmplY3QjdG9TdHJpbmdcbnZhciBCUk9LRU5fQ0xBU1NPRiA9IGNsYXNzb2YoY3JlYXRlKE51bWJlclByb3RvdHlwZSkpID09IE5VTUJFUjtcblxuLy8gYFRvTnVtYmVyYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9udW1iZXJcbnZhciB0b051bWJlciA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNTeW1ib2woYXJndW1lbnQpKSB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgbnVtYmVyJyk7XG4gIHZhciBpdCA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnbnVtYmVyJyk7XG4gIHZhciBmaXJzdCwgdGhpcmQsIHJhZGl4LCBtYXhDb2RlLCBkaWdpdHMsIGxlbmd0aCwgaW5kZXgsIGNvZGU7XG4gIGlmICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgJiYgaXQubGVuZ3RoID4gMikge1xuICAgIGl0ID0gdHJpbShpdCk7XG4gICAgZmlyc3QgPSBpdC5jaGFyQ29kZUF0KDApO1xuICAgIGlmIChmaXJzdCA9PT0gNDMgfHwgZmlyc3QgPT09IDQ1KSB7XG4gICAgICB0aGlyZCA9IGl0LmNoYXJDb2RlQXQoMik7XG4gICAgICBpZiAodGhpcmQgPT09IDg4IHx8IHRoaXJkID09PSAxMjApIHJldHVybiBOYU47IC8vIE51bWJlcignKzB4MScpIHNob3VsZCBiZSBOYU4sIG9sZCBWOCBmaXhcbiAgICB9IGVsc2UgaWYgKGZpcnN0ID09PSA0OCkge1xuICAgICAgc3dpdGNoIChpdC5jaGFyQ29kZUF0KDEpKSB7XG4gICAgICAgIGNhc2UgNjY6IGNhc2UgOTg6IHJhZGl4ID0gMjsgbWF4Q29kZSA9IDQ5OyBicmVhazsgLy8gZmFzdCBlcXVhbCBvZiAvXjBiWzAxXSskL2lcbiAgICAgICAgY2FzZSA3OTogY2FzZSAxMTE6IHJhZGl4ID0gODsgbWF4Q29kZSA9IDU1OyBicmVhazsgLy8gZmFzdCBlcXVhbCBvZiAvXjBvWzAtN10rJC9pXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAraXQ7XG4gICAgICB9XG4gICAgICBkaWdpdHMgPSBpdC5zbGljZSgyKTtcbiAgICAgIGxlbmd0aCA9IGRpZ2l0cy5sZW5ndGg7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29kZSA9IGRpZ2l0cy5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgLy8gcGFyc2VJbnQgcGFyc2VzIGEgc3RyaW5nIHRvIGEgZmlyc3QgdW5hdmFpbGFibGUgc3ltYm9sXG4gICAgICAgIC8vIGJ1dCBUb051bWJlciBzaG91bGQgcmV0dXJuIE5hTiBpZiBhIHN0cmluZyBjb250YWlucyB1bmF2YWlsYWJsZSBzeW1ib2xzXG4gICAgICAgIGlmIChjb2RlIDwgNDggfHwgY29kZSA+IG1heENvZGUpIHJldHVybiBOYU47XG4gICAgICB9IHJldHVybiBwYXJzZUludChkaWdpdHMsIHJhZGl4KTtcbiAgICB9XG4gIH0gcmV0dXJuICtpdDtcbn07XG5cbi8vIGBOdW1iZXJgIGNvbnN0cnVjdG9yXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW51bWJlci1jb25zdHJ1Y3RvclxuaWYgKGlzRm9yY2VkKE5VTUJFUiwgIU5hdGl2ZU51bWJlcignIDBvMScpIHx8ICFOYXRpdmVOdW1iZXIoJzBiMScpIHx8IE5hdGl2ZU51bWJlcignKzB4MScpKSkge1xuICB2YXIgTnVtYmVyV3JhcHBlciA9IGZ1bmN0aW9uIE51bWJlcih2YWx1ZSkge1xuICAgIHZhciBpdCA9IGFyZ3VtZW50cy5sZW5ndGggPCAxID8gMCA6IHZhbHVlO1xuICAgIHZhciBkdW1teSA9IHRoaXM7XG4gICAgcmV0dXJuIGR1bW15IGluc3RhbmNlb2YgTnVtYmVyV3JhcHBlclxuICAgICAgLy8gY2hlY2sgb24gMS4uY29uc3RydWN0b3IoZm9vKSBjYXNlXG4gICAgICAmJiAoQlJPS0VOX0NMQVNTT0YgPyBmYWlscyhmdW5jdGlvbiAoKSB7IE51bWJlclByb3RvdHlwZS52YWx1ZU9mLmNhbGwoZHVtbXkpOyB9KSA6IGNsYXNzb2YoZHVtbXkpICE9IE5VTUJFUilcbiAgICAgICAgPyBpbmhlcml0SWZSZXF1aXJlZChuZXcgTmF0aXZlTnVtYmVyKHRvTnVtYmVyKGl0KSksIGR1bW15LCBOdW1iZXJXcmFwcGVyKSA6IHRvTnVtYmVyKGl0KTtcbiAgfTtcbiAgZm9yICh2YXIga2V5cyA9IERFU0NSSVBUT1JTID8gZ2V0T3duUHJvcGVydHlOYW1lcyhOYXRpdmVOdW1iZXIpIDogKFxuICAgIC8vIEVTMzpcbiAgICAnTUFYX1ZBTFVFLE1JTl9WQUxVRSxOYU4sTkVHQVRJVkVfSU5GSU5JVFksUE9TSVRJVkVfSU5GSU5JVFksJyArXG4gICAgLy8gRVMyMDE1IChpbiBjYXNlLCBpZiBtb2R1bGVzIHdpdGggRVMyMDE1IE51bWJlciBzdGF0aWNzIHJlcXVpcmVkIGJlZm9yZSk6XG4gICAgJ0VQU0lMT04saXNGaW5pdGUsaXNJbnRlZ2VyLGlzTmFOLGlzU2FmZUludGVnZXIsTUFYX1NBRkVfSU5URUdFUiwnICtcbiAgICAnTUlOX1NBRkVfSU5URUdFUixwYXJzZUZsb2F0LHBhcnNlSW50LGlzSW50ZWdlciwnICtcbiAgICAvLyBFU05leHRcbiAgICAnZnJvbVN0cmluZyxyYW5nZSdcbiAgKS5zcGxpdCgnLCcpLCBqID0gMCwga2V5OyBrZXlzLmxlbmd0aCA+IGo7IGorKykge1xuICAgIGlmIChoYXMoTmF0aXZlTnVtYmVyLCBrZXkgPSBrZXlzW2pdKSAmJiAhaGFzKE51bWJlcldyYXBwZXIsIGtleSkpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KE51bWJlcldyYXBwZXIsIGtleSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE5hdGl2ZU51bWJlciwga2V5KSk7XG4gICAgfVxuICB9XG4gIE51bWJlcldyYXBwZXIucHJvdG90eXBlID0gTnVtYmVyUHJvdG90eXBlO1xuICBOdW1iZXJQcm90b3R5cGUuY29uc3RydWN0b3IgPSBOdW1iZXJXcmFwcGVyO1xuICByZWRlZmluZShnbG9iYWwsIE5VTUJFUiwgTnVtYmVyV3JhcHBlcik7XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgJCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9leHBvcnQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9leHBvcnQuanNcIik7XG52YXIgYXNzaWduID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1hc3NpZ24gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtYXNzaWduLmpzXCIpO1xuXG4vLyBgT2JqZWN0LmFzc2lnbmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5hc3NpZ25cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtYXNzaWduIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBPYmplY3QuYXNzaWduICE9PSBhc3NpZ24gfSwge1xuICBhc3NpZ246IGFzc2lnblxufSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzXCIpO1xudmFyIHRvT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLW9iamVjdC5qc1wiKTtcbnZhciBuYXRpdmVLZXlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1rZXlzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWtleXMuanNcIik7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcblxudmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSBmYWlscyhmdW5jdGlvbiAoKSB7IG5hdGl2ZUtleXMoMSk7IH0pO1xuXG4vLyBgT2JqZWN0LmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Qua2V5c1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRkFJTFNfT05fUFJJTUlUSVZFUyB9LCB7XG4gIGtleXM6IGZ1bmN0aW9uIGtleXMoaXQpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5cyh0b09iamVjdChpdCkpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tc3RyaW5nLXRhZy1zdXBwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tc3RyaW5nLXRhZy1zdXBwb3J0LmpzXCIpO1xudmFyIHJlZGVmaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3JlZGVmaW5lICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVkZWZpbmUuanNcIik7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LXRvLXN0cmluZyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcuanNcIik7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZ1xuaWYgKCFUT19TVFJJTkdfVEFHX1NVUFBPUlQpIHtcbiAgcmVkZWZpbmUoT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgdG9TdHJpbmcsIHsgdW5zYWZlOiB0cnVlIH0pO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciByZWRlZmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9yZWRlZmluZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlZGVmaW5lLmpzXCIpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FuLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qc1wiKTtcbnZhciAkdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tc3RyaW5nICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tc3RyaW5nLmpzXCIpO1xudmFyIGZhaWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2ZhaWxzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZmFpbHMuanNcIik7XG52YXIgZmxhZ3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvcmVnZXhwLWZsYWdzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvcmVnZXhwLWZsYWdzLmpzXCIpO1xuXG52YXIgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJztcbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xudmFyIG5hdGl2ZVRvU3RyaW5nID0gUmVnRXhwUHJvdG90eXBlW1RPX1NUUklOR107XG5cbnZhciBOT1RfR0VORVJJQyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwoeyBzb3VyY2U6ICdhJywgZmxhZ3M6ICdiJyB9KSAhPSAnL2EvYic7IH0pO1xuLy8gRkY0NC0gUmVnRXhwI3RvU3RyaW5nIGhhcyBhIHdyb25nIG5hbWVcbnZhciBJTkNPUlJFQ1RfTkFNRSA9IG5hdGl2ZVRvU3RyaW5nLm5hbWUgIT0gVE9fU1RSSU5HO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbmlmIChOT1RfR0VORVJJQyB8fCBJTkNPUlJFQ1RfTkFNRSkge1xuICByZWRlZmluZShSZWdFeHAucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHZhciBSID0gYW5PYmplY3QodGhpcyk7XG4gICAgdmFyIHAgPSAkdG9TdHJpbmcoUi5zb3VyY2UpO1xuICAgIHZhciByZiA9IFIuZmxhZ3M7XG4gICAgdmFyIGYgPSAkdG9TdHJpbmcocmYgPT09IHVuZGVmaW5lZCAmJiBSIGluc3RhbmNlb2YgUmVnRXhwICYmICEoJ2ZsYWdzJyBpbiBSZWdFeHBQcm90b3R5cGUpID8gZmxhZ3MuY2FsbChSKSA6IHJmKTtcbiAgICByZXR1cm4gJy8nICsgcCArICcvJyArIGY7XG4gIH0sIHsgdW5zYWZlOiB0cnVlIH0pO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGNoYXJBdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zdHJpbmctbXVsdGlieXRlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3RyaW5nLW11bHRpYnl0ZS5qc1wiKS5jaGFyQXQ7XG52YXIgdG9TdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdG8tc3RyaW5nICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8tc3RyaW5nLmpzXCIpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZS5qc1wiKTtcbnZhciBkZWZpbmVJdGVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtaXRlcmF0b3IuanNcIik7XG5cbnZhciBTVFJJTkdfSVRFUkFUT1IgPSAnU3RyaW5nIEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFNUUklOR19JVEVSQVRPUik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS1AQGl0ZXJhdG9yXG5kZWZpbmVJdGVyYXRvcihTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogU1RSSU5HX0lURVJBVE9SLFxuICAgIHN0cmluZzogdG9TdHJpbmcoaXRlcmF0ZWQpLFxuICAgIGluZGV4OiAwXG4gIH0pO1xuLy8gYCVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgdmFyIHN0cmluZyA9IHN0YXRlLnN0cmluZztcbiAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXg7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IHN0cmluZy5sZW5ndGgpIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgcG9pbnQgPSBjaGFyQXQoc3RyaW5nLCBpbmRleCk7XG4gIHN0YXRlLmluZGV4ICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHsgdmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZSB9O1xufSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5saW5rLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmxpbmsuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciAkID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2V4cG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2V4cG9ydC5qc1wiKTtcbnZhciBjcmVhdGVIVE1MID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1odG1sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLWh0bWwuanNcIik7XG52YXIgZm9yY2VkU3RyaW5nSFRNTE1ldGhvZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zdHJpbmctaHRtbC1mb3JjZWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zdHJpbmctaHRtbC1mb3JjZWQuanNcIik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLmxpbmtgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLmxpbmtcbiQoeyB0YXJnZXQ6ICdTdHJpbmcnLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBmb3JjZWRTdHJpbmdIVE1MTWV0aG9kKCdsaW5rJykgfSwge1xuICBsaW5rOiBmdW5jdGlvbiBsaW5rKHVybCkge1xuICAgIHJldHVybiBjcmVhdGVIVE1MKHRoaXMsICdhJywgJ2hyZWYnLCB1cmwpO1xuICB9XG59KTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBgU3ltYm9sLnByb3RvdHlwZS5kZXNjcmlwdGlvbmAgZ2V0dGVyXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUuZGVzY3JpcHRpb25cblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzXCIpO1xudmFyIERFU0NSSVBUT1JTID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZGVzY3JpcHRvcnMuanNcIik7XG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCIpO1xudmFyIGlzT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2lzLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2lzLW9iamVjdC5qc1wiKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eS5qc1wiKS5mO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzLmpzXCIpO1xuXG52YXIgTmF0aXZlU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcblxuaWYgKERFU0NSSVBUT1JTICYmIHR5cGVvZiBOYXRpdmVTeW1ib2wgPT0gJ2Z1bmN0aW9uJyAmJiAoISgnZGVzY3JpcHRpb24nIGluIE5hdGl2ZVN5bWJvbC5wcm90b3R5cGUpIHx8XG4gIC8vIFNhZmFyaSAxMiBidWdcbiAgTmF0aXZlU3ltYm9sKCkuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZFxuKSkge1xuICB2YXIgRW1wdHlTdHJpbmdEZXNjcmlwdGlvblN0b3JlID0ge307XG4gIC8vIHdyYXAgU3ltYm9sIGNvbnN0cnVjdG9yIGZvciBjb3JyZWN0IHdvcmsgd2l0aCB1bmRlZmluZWQgZGVzY3JpcHRpb25cbiAgdmFyIFN5bWJvbFdyYXBwZXIgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8IDEgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBTdHJpbmcoYXJndW1lbnRzWzBdKTtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcyBpbnN0YW5jZW9mIFN5bWJvbFdyYXBwZXJcbiAgICAgID8gbmV3IE5hdGl2ZVN5bWJvbChkZXNjcmlwdGlvbilcbiAgICAgIC8vIGluIEVkZ2UgMTMsIFN0cmluZyhTeW1ib2wodW5kZWZpbmVkKSkgPT09ICdTeW1ib2wodW5kZWZpbmVkKSdcbiAgICAgIDogZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCA/IE5hdGl2ZVN5bWJvbCgpIDogTmF0aXZlU3ltYm9sKGRlc2NyaXB0aW9uKTtcbiAgICBpZiAoZGVzY3JpcHRpb24gPT09ICcnKSBFbXB0eVN0cmluZ0Rlc2NyaXB0aW9uU3RvcmVbcmVzdWx0XSA9IHRydWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyhTeW1ib2xXcmFwcGVyLCBOYXRpdmVTeW1ib2wpO1xuICB2YXIgc3ltYm9sUHJvdG90eXBlID0gU3ltYm9sV3JhcHBlci5wcm90b3R5cGUgPSBOYXRpdmVTeW1ib2wucHJvdG90eXBlO1xuICBzeW1ib2xQcm90b3R5cGUuY29uc3RydWN0b3IgPSBTeW1ib2xXcmFwcGVyO1xuXG4gIHZhciBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvdHlwZS50b1N0cmluZztcbiAgdmFyIG5hdGl2ZSA9IFN0cmluZyhOYXRpdmVTeW1ib2woJ3Rlc3QnKSkgPT0gJ1N5bWJvbCh0ZXN0KSc7XG4gIHZhciByZWdleHAgPSAvXlN5bWJvbFxcKCguKilcXClbXildKyQvO1xuICBkZWZpbmVQcm9wZXJ0eShzeW1ib2xQcm90b3R5cGUsICdkZXNjcmlwdGlvbicsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBkZXNjcmlwdGlvbigpIHtcbiAgICAgIHZhciBzeW1ib2wgPSBpc09iamVjdCh0aGlzKSA/IHRoaXMudmFsdWVPZigpIDogdGhpcztcbiAgICAgIHZhciBzdHJpbmcgPSBzeW1ib2xUb1N0cmluZy5jYWxsKHN5bWJvbCk7XG4gICAgICBpZiAoaGFzKEVtcHR5U3RyaW5nRGVzY3JpcHRpb25TdG9yZSwgc3ltYm9sKSkgcmV0dXJuICcnO1xuICAgICAgdmFyIGRlc2MgPSBuYXRpdmUgPyBzdHJpbmcuc2xpY2UoNywgLTEpIDogc3RyaW5nLnJlcGxhY2UocmVnZXhwLCAnJDEnKTtcbiAgICAgIHJldHVybiBkZXNjID09PSAnJyA/IHVuZGVmaW5lZCA6IGRlc2M7XG4gICAgfVxuICB9KTtcblxuICAkKHsgZ2xvYmFsOiB0cnVlLCBmb3JjZWQ6IHRydWUgfSwge1xuICAgIFN5bWJvbDogU3ltYm9sV3JhcHBlclxuICB9KTtcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kZWZpbmUtd2VsbC1rbm93bi1zeW1ib2wuanNcIik7XG5cbi8vIGBTeW1ib2wuaXRlcmF0b3JgIHdlbGwta25vd24gc3ltYm9sXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5pdGVyYXRvclxuZGVmaW5lV2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZXhwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvZXhwb3J0LmpzXCIpO1xudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanNcIik7XG52YXIgZ2V0QnVpbHRJbiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nZXQtYnVpbHQtaW4uanNcIik7XG52YXIgSVNfUFVSRSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1wdXJlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtcHVyZS5qc1wiKTtcbnZhciBERVNDUklQVE9SUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9kZXNjcmlwdG9ycyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2Rlc2NyaXB0b3JzLmpzXCIpO1xudmFyIE5BVElWRV9TWU1CT0wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvbmF0aXZlLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL25hdGl2ZS1zeW1ib2wuanNcIik7XG52YXIgZmFpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZmFpbHMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mYWlscy5qc1wiKTtcbnZhciBoYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGFzICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaGFzLmpzXCIpO1xudmFyIGlzQXJyYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtYXJyYXkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1hcnJheS5qc1wiKTtcbnZhciBpc09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9pcy1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pcy1vYmplY3QuanNcIik7XG52YXIgaXNTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaXMtc3ltYm9sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaXMtc3ltYm9sLmpzXCIpO1xudmFyIGFuT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2FuLW9iamVjdCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2FuLW9iamVjdC5qc1wiKTtcbnZhciB0b09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1vYmplY3QgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1vYmplY3QuanNcIik7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QuanNcIik7XG52YXIgdG9Qcm9wZXJ0eUtleSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXkuanNcIik7XG52YXIgJHRvU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3RvLXN0cmluZyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3RvLXN0cmluZy5qc1wiKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvci5qc1wiKTtcbnZhciBuYXRpdmVPYmplY3RDcmVhdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1jcmVhdGUuanNcIik7XG52YXIgb2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9vYmplY3Qta2V5cyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1rZXlzLmpzXCIpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcy5qc1wiKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcy1leHRlcm5hbC5qc1wiKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMuanNcIik7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzXCIpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzXCIpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUuanNcIik7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eS5qc1wiKTtcbnZhciByZWRlZmluZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9yZWRlZmluZSAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3JlZGVmaW5lLmpzXCIpO1xudmFyIHNoYXJlZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zaGFyZWQgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQuanNcIik7XG52YXIgc2hhcmVkS2V5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9zaGFyZWQta2V5LmpzXCIpO1xudmFyIGhpZGRlbktleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaGlkZGVuLWtleXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9oaWRkZW4ta2V5cy5qc1wiKTtcbnZhciB1aWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvdWlkICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvdWlkLmpzXCIpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLmpzXCIpO1xudmFyIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLXdyYXBwZWQuanNcIik7XG52YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RlZmluZS13ZWxsLWtub3duLXN5bWJvbC5qc1wiKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnLmpzXCIpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZS5qc1wiKTtcbnZhciAkZm9yRWFjaCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24gKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24uanNcIikuZm9yRWFjaDtcblxudmFyIEhJRERFTiA9IHNoYXJlZEtleSgnaGlkZGVuJyk7XG52YXIgU1lNQk9MID0gJ1N5bWJvbCc7XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG52YXIgVE9fUFJJTUlUSVZFID0gd2VsbEtub3duU3ltYm9sKCd0b1ByaW1pdGl2ZScpO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoU1lNQk9MKTtcbnZhciBPYmplY3RQcm90b3R5cGUgPSBPYmplY3RbUFJPVE9UWVBFXTtcbnZhciAkU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciAkc3RyaW5naWZ5ID0gZ2V0QnVpbHRJbignSlNPTicsICdzdHJpbmdpZnknKTtcbnZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbnZhciBuYXRpdmVEZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5TW9kdWxlLmY7XG52YXIgbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbC5mO1xudmFyIG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZjtcbnZhciBBbGxTeW1ib2xzID0gc2hhcmVkKCdzeW1ib2xzJyk7XG52YXIgT2JqZWN0UHJvdG90eXBlU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N0cmluZy10by1zeW1ib2wtcmVnaXN0cnknKTtcbnZhciBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5Jyk7XG52YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlID0gc2hhcmVkKCd3a3MnKTtcbnZhciBRT2JqZWN0ID0gZ2xvYmFsLlFPYmplY3Q7XG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBVU0VfU0VUVEVSID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzY3JpcHRvciA9IERFU0NSSVBUT1JTICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdENyZWF0ZShuYXRpdmVEZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoTywgUCwgQXR0cmlidXRlcykge1xuICB2YXIgT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciA9IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3RQcm90b3R5cGUsIFApO1xuICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvcikgZGVsZXRlIE9iamVjdFByb3RvdHlwZVtQXTtcbiAgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIGlmIChPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yICYmIE8gIT09IE9iamVjdFByb3RvdHlwZSkge1xuICAgIG5hdGl2ZURlZmluZVByb3BlcnR5KE9iamVjdFByb3RvdHlwZSwgUCwgT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvcik7XG4gIH1cbn0gOiBuYXRpdmVEZWZpbmVQcm9wZXJ0eTtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnLCBkZXNjcmlwdGlvbikge1xuICB2YXIgc3ltYm9sID0gQWxsU3ltYm9sc1t0YWddID0gbmF0aXZlT2JqZWN0Q3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHNldEludGVybmFsU3RhdGUoc3ltYm9sLCB7XG4gICAgdHlwZTogU1lNQk9MLFxuICAgIHRhZzogdGFnLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICB9KTtcbiAgaWYgKCFERVNDUklQVE9SUykgc3ltYm9sLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIHJldHVybiBzeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBpZiAoTyA9PT0gT2JqZWN0UHJvdG90eXBlKSAkZGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG90eXBlU3ltYm9scywgUCwgQXR0cmlidXRlcyk7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghQXR0cmlidXRlcy5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhPLCBISURERU4pKSBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBISURERU4sIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB7fSkpO1xuICAgICAgT1tISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzKE8sIEhJRERFTikgJiYgT1tISURERU5dW2tleV0pIE9bSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBBdHRyaWJ1dGVzID0gbmF0aXZlT2JqZWN0Q3JlYXRlKEF0dHJpYnV0ZXMsIHsgZW51bWVyYWJsZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjcmlwdG9yKE8sIGtleSwgQXR0cmlidXRlcyk7XG4gIH0gcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIGtleSwgQXR0cmlidXRlcyk7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gdG9JbmRleGVkT2JqZWN0KFByb3BlcnRpZXMpO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMocHJvcGVydGllcykuY29uY2F0KCRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcGVydGllcykpO1xuICAkZm9yRWFjaChrZXlzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFERVNDUklQVE9SUyB8fCAkcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChwcm9wZXJ0aWVzLCBrZXkpKSAkZGVmaW5lUHJvcGVydHkoTywga2V5LCBwcm9wZXJ0aWVzW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIE87XG59O1xuXG52YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyBuYXRpdmVPYmplY3RDcmVhdGUoTykgOiAkZGVmaW5lUHJvcGVydGllcyhuYXRpdmVPYmplY3RDcmVhdGUoTyksIFByb3BlcnRpZXMpO1xufTtcblxudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKFYpIHtcbiAgdmFyIFAgPSB0b1Byb3BlcnR5S2V5KFYpO1xuICB2YXIgZW51bWVyYWJsZSA9IG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodGhpcywgUCk7XG4gIGlmICh0aGlzID09PSBPYmplY3RQcm90b3R5cGUgJiYgaGFzKEFsbFN5bWJvbHMsIFApICYmICFoYXMoT2JqZWN0UHJvdG90eXBlU3ltYm9scywgUCkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGVudW1lcmFibGUgfHwgIWhhcyh0aGlzLCBQKSB8fCAhaGFzKEFsbFN5bWJvbHMsIFApIHx8IGhhcyh0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtQXSA/IGVudW1lcmFibGUgOiB0cnVlO1xufTtcblxudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICB2YXIgaXQgPSB0b0luZGV4ZWRPYmplY3QoTyk7XG4gIHZhciBrZXkgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBpZiAoaXQgPT09IE9iamVjdFByb3RvdHlwZSAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgdmFyIGRlc2NyaXB0b3IgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7XG4gIGlmIChkZXNjcmlwdG9yICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIHtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSB0cnVlO1xuICB9XG4gIHJldHVybiBkZXNjcmlwdG9yO1xufTtcblxudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHZhciBuYW1lcyA9IG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXModG9JbmRleGVkT2JqZWN0KE8pKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICAkZm9yRWFjaChuYW1lcywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghaGFzKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhcyhoaWRkZW5LZXlzLCBrZXkpKSByZXN1bHQucHVzaChrZXkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pIHtcbiAgdmFyIElTX09CSkVDVF9QUk9UT1RZUEUgPSBPID09PSBPYmplY3RQcm90b3R5cGU7XG4gIHZhciBuYW1lcyA9IG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXMoSVNfT0JKRUNUX1BST1RPVFlQRSA/IE9iamVjdFByb3RvdHlwZVN5bWJvbHMgOiB0b0luZGV4ZWRPYmplY3QoTykpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gICRmb3JFYWNoKG5hbWVzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICghSVNfT0JKRUNUX1BST1RPVFlQRSB8fCBoYXMoT2JqZWN0UHJvdG90eXBlLCBrZXkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gYFN5bWJvbGAgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLWNvbnN0cnVjdG9yXG5pZiAoIU5BVElWRV9TWU1CT0wpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mICRTeW1ib2wpIHRocm93IFR5cGVFcnJvcignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gIWFyZ3VtZW50cy5sZW5ndGggfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiAkdG9TdHJpbmcoYXJndW1lbnRzWzBdKTtcbiAgICB2YXIgdGFnID0gdWlkKGRlc2NyaXB0aW9uKTtcbiAgICB2YXIgc2V0dGVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcyA9PT0gT2JqZWN0UHJvdG90eXBlKSBzZXR0ZXIuY2FsbChPYmplY3RQcm90b3R5cGVTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzKHRoaXMsIEhJRERFTikgJiYgaGFzKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2NyaXB0b3IodGhpcywgdGFnLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmIChERVNDUklQVE9SUyAmJiBVU0VfU0VUVEVSKSBzZXRTeW1ib2xEZXNjcmlwdG9yKE9iamVjdFByb3RvdHlwZSwgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiBzZXR0ZXIgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnLCBkZXNjcmlwdGlvbik7XG4gIH07XG5cbiAgcmVkZWZpbmUoJFN5bWJvbFtQUk9UT1RZUEVdLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS50YWc7XG4gIH0pO1xuXG4gIHJlZGVmaW5lKCRTeW1ib2wsICd3aXRob3V0U2V0dGVyJywgZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHdyYXAodWlkKGRlc2NyaXB0aW9uKSwgZGVzY3JpcHRpb24pO1xuICB9KTtcblxuICBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mID0gJGRlZmluZVByb3BlcnR5O1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUuZiA9IGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlLmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdlbGxLbm93blN5bWJvbChuYW1lKSwgbmFtZSk7XG4gIH07XG5cbiAgaWYgKERFU0NSSVBUT1JTKSB7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtU3ltYm9sLWRlc2NyaXB0aW9uXG4gICAgbmF0aXZlRGVmaW5lUHJvcGVydHkoJFN5bWJvbFtQUk9UT1RZUEVdLCAnZGVzY3JpcHRpb24nLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIUlTX1BVUkUpIHtcbiAgICAgIHJlZGVmaW5lKE9iamVjdFByb3RvdHlwZSwgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB7IHVuc2FmZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cbn1cblxuJCh7IGdsb2JhbDogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCwgc2hhbTogIU5BVElWRV9TWU1CT0wgfSwge1xuICBTeW1ib2w6ICRTeW1ib2xcbn0pO1xuXG4kZm9yRWFjaChvYmplY3RLZXlzKFdlbGxLbm93blN5bWJvbHNTdG9yZSksIGZ1bmN0aW9uIChuYW1lKSB7XG4gIGRlZmluZVdlbGxLbm93blN5bWJvbChuYW1lKTtcbn0pO1xuXG4kKHsgdGFyZ2V0OiBTWU1CT0wsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wgfSwge1xuICAvLyBgU3ltYm9sLmZvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmZvclxuICAnZm9yJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzdHJpbmcgPSAkdG9TdHJpbmcoa2V5KTtcbiAgICBpZiAoaGFzKFN0cmluZ1RvU3ltYm9sUmVnaXN0cnksIHN0cmluZykpIHJldHVybiBTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5W3N0cmluZ107XG4gICAgdmFyIHN5bWJvbCA9ICRTeW1ib2woc3RyaW5nKTtcbiAgICBTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5W3N0cmluZ10gPSBzeW1ib2w7XG4gICAgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeVtzeW1ib2xdID0gc3RyaW5nO1xuICAgIHJldHVybiBzeW1ib2w7XG4gIH0sXG4gIC8vIGBTeW1ib2wua2V5Rm9yYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wua2V5Zm9yXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sJyk7XG4gICAgaWYgKGhhcyhTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5LCBzeW0pKSByZXR1cm4gU3ltYm9sVG9TdHJpbmdSZWdpc3RyeVtzeW1dO1xuICB9LFxuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHsgVVNFX1NFVFRFUiA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBVU0VfU0VUVEVSID0gZmFsc2U7IH1cbn0pO1xuXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCwgc2hhbTogIURFU0NSSVBUT1JTIH0sIHtcbiAgLy8gYE9iamVjdC5jcmVhdGVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JzXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvclxufSk7XG5cbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eXN5bWJvbHNcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzXG59KTtcblxuLy8gQ2hyb21lIDM4IGFuZCAzOSBgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc2AgZmFpbHMgb24gcHJpbWl0aXZlc1xuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzQ0M1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogZmFpbHMoZnVuY3Rpb24gKCkgeyBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZigxKTsgfSkgfSwge1xuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICAgIHJldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZih0b09iamVjdChpdCkpO1xuICB9XG59KTtcblxuLy8gYEpTT04uc3RyaW5naWZ5YCBtZXRob2QgYmVoYXZpb3Igd2l0aCBzeW1ib2xzXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWpzb24uc3RyaW5naWZ5XG5pZiAoJHN0cmluZ2lmeSkge1xuICB2YXIgRk9SQ0VEX0pTT05fU1RSSU5HSUZZID0gIU5BVElWRV9TWU1CT0wgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHZhciBzeW1ib2wgPSAkU3ltYm9sKCk7XG4gICAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgICByZXR1cm4gJHN0cmluZ2lmeShbc3ltYm9sXSkgIT0gJ1tudWxsXSdcbiAgICAgIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAgICAgfHwgJHN0cmluZ2lmeSh7IGE6IHN5bWJvbCB9KSAhPSAne30nXG4gICAgICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICAgICAgfHwgJHN0cmluZ2lmeShPYmplY3Qoc3ltYm9sKSkgIT0gJ3t9JztcbiAgfSk7XG5cbiAgJCh7IHRhcmdldDogJ0pTT04nLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9KU09OX1NUUklOR0lGWSB9LCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgICB2YXIgYXJncyA9IFtpdF07XG4gICAgICB2YXIgaW5kZXggPSAxO1xuICAgICAgdmFyICRyZXBsYWNlcjtcbiAgICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaW5kZXgpIGFyZ3MucHVzaChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgICAgJHJlcGxhY2VyID0gcmVwbGFjZXI7XG4gICAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgICBpZiAoIWlzQXJyYXkocmVwbGFjZXIpKSByZXBsYWNlciA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgJHJlcGxhY2VyID09ICdmdW5jdGlvbicpIHZhbHVlID0gJHJlcGxhY2VyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgICAgcmV0dXJuICRzdHJpbmdpZnkuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9wcmltaXRpdmVcbmlmICghJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0pIHtcbiAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG59XG4vLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXWAgcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCBTWU1CT0wpO1xuXG5oaWRkZW5LZXlzW0hJRERFTl0gPSB0cnVlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGdsb2JhbCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9nbG9iYWwgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9nbG9iYWwuanNcIik7XG52YXIgRE9NSXRlcmFibGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2RvbS1pdGVyYWJsZXMgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9kb20taXRlcmFibGVzLmpzXCIpO1xudmFyIGZvckVhY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvYXJyYXktZm9yLWVhY2ggKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9hcnJheS1mb3ItZWFjaC5qc1wiKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5ICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5LmpzXCIpO1xuXG5mb3IgKHZhciBDT0xMRUNUSU9OX05BTUUgaW4gRE9NSXRlcmFibGVzKSB7XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV07XG4gIHZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgLy8gc29tZSBDaHJvbWUgdmVyc2lvbnMgaGF2ZSBub24tY29uZmlndXJhYmxlIG1ldGhvZHMgb24gRE9NVG9rZW5MaXN0XG4gIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlICYmIENvbGxlY3Rpb25Qcm90b3R5cGUuZm9yRWFjaCAhPT0gZm9yRWFjaCkgdHJ5IHtcbiAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgJ2ZvckVhY2gnLCBmb3JFYWNoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBDb2xsZWN0aW9uUHJvdG90eXBlLmZvckVhY2ggPSBmb3JFYWNoO1xuICB9XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL2dsb2JhbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qc1wiKTtcbnZhciBET01JdGVyYWJsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9pbnRlcm5hbHMvZG9tLWl0ZXJhYmxlcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvcmUtanMvaW50ZXJuYWxzL2RvbS1pdGVyYWJsZXMuanNcIik7XG52YXIgQXJyYXlJdGVyYXRvck1ldGhvZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yLmpzXCIpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkgKi8gXCIuL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkuanNcIik7XG52YXIgd2VsbEtub3duU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sICovIFwiLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wuanNcIik7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyIEFycmF5VmFsdWVzID0gQXJyYXlJdGVyYXRvck1ldGhvZHMudmFsdWVzO1xuXG5mb3IgKHZhciBDT0xMRUNUSU9OX05BTUUgaW4gRE9NSXRlcmFibGVzKSB7XG4gIHZhciBDb2xsZWN0aW9uID0gZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV07XG4gIHZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGUpIHtcbiAgICAvLyBzb21lIENocm9tZSB2ZXJzaW9ucyBoYXZlIG5vbi1jb25maWd1cmFibGUgbWV0aG9kcyBvbiBET01Ub2tlbkxpc3RcbiAgICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZVtJVEVSQVRPUl0gIT09IEFycmF5VmFsdWVzKSB0cnkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsIElURVJBVE9SLCBBcnJheVZhbHVlcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JdID0gQXJyYXlWYWx1ZXM7XG4gICAgfVxuICAgIGlmICghQ29sbGVjdGlvblByb3RvdHlwZVtUT19TVFJJTkdfVEFHXSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsIFRPX1NUUklOR19UQUcsIENPTExFQ1RJT05fTkFNRSk7XG4gICAgfVxuICAgIGlmIChET01JdGVyYWJsZXNbQ09MTEVDVElPTl9OQU1FXSkgZm9yICh2YXIgTUVUSE9EX05BTUUgaW4gQXJyYXlJdGVyYXRvck1ldGhvZHMpIHtcbiAgICAgIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICAgICAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGVbTUVUSE9EX05BTUVdICE9PSBBcnJheUl0ZXJhdG9yTWV0aG9kc1tNRVRIT0RfTkFNRV0pIHRyeSB7XG4gICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBNRVRIT0RfTkFNRSwgQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGVbTUVUSE9EX05BTUVdID0gQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlL2Rpc3QvZXM2LXByb21pc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0IHRydWUgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdDA7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb2JqZWN0T3JGdW5jdGlvbih4KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHg7XG4gIHJldHVybiB4ICE9PSBudWxsICYmICh0eXBlID09PSAnb2JqZWN0JyB8fCB0eXBlID09PSAnZnVuY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG5cbnZhciBfaXNBcnJheSA9IHZvaWQgMDtcbmlmIChBcnJheS5pc0FycmF5KSB7XG4gIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbn0gZWxzZSB7XG4gIF9pc0FycmF5ID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufVxuXG52YXIgaXNBcnJheSA9IF9pc0FycmF5O1xuXG52YXIgbGVuID0gMDtcbnZhciB2ZXJ0eE5leHQgPSB2b2lkIDA7XG52YXIgY3VzdG9tU2NoZWR1bGVyRm4gPSB2b2lkIDA7XG5cbnZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTY2hlZHVsZXIoc2NoZWR1bGVGbikge1xuICBjdXN0b21TY2hlZHVsZXJGbiA9IHNjaGVkdWxlRm47XG59XG5cbmZ1bmN0aW9uIHNldEFzYXAoYXNhcEZuKSB7XG4gIGFzYXAgPSBhc2FwRm47XG59XG5cbnZhciBicm93c2VyV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG52YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gIH07XG59XG5cbi8vIHZlcnR4XG5mdW5jdGlvbiB1c2VWZXJ0eFRpbWVyKCkge1xuICBpZiAodHlwZW9mIHZlcnR4TmV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmVydHhOZXh0KGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIC8vIFN0b3JlIHNldFRpbWVvdXQgcmVmZXJlbmNlIHNvIGVzNi1wcm9taXNlIHdpbGwgYmUgdW5hZmZlY3RlZCBieVxuICAvLyBvdGhlciBjb2RlIG1vZGlmeWluZyBzZXRUaW1lb3V0IChsaWtlIHNpbm9uLnVzZUZha2VUaW1lcnMoKSlcbiAgdmFyIGdsb2JhbFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnbG9iYWxTZXRUaW1lb3V0KGZsdXNoLCAxKTtcbiAgfTtcbn1cblxudmFyIHF1ZXVlID0gbmV3IEFycmF5KDEwMDApO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICB2YXIgYXJnID0gcXVldWVbaSArIDFdO1xuXG4gICAgY2FsbGJhY2soYXJnKTtcblxuICAgIHF1ZXVlW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlW2kgKyAxXSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGxlbiA9IDA7XG59XG5cbmZ1bmN0aW9uIGF0dGVtcHRWZXJ0eCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgdmVydHggPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpLnJlcXVpcmUoJ3ZlcnR4Jyk7XG4gICAgdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICByZXR1cm4gdXNlVmVydHhUaW1lcigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZVNldFRpbWVvdXQoKTtcbiAgfVxufVxuXG52YXIgc2NoZWR1bGVGbHVzaCA9IHZvaWQgMDtcbi8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG5pZiAoaXNOb2RlKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTXV0YXRpb25PYnNlcnZlcigpO1xufSBlbHNlIGlmIChpc1dvcmtlcikge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlTWVzc2FnZUNoYW5uZWwoKTtcbn0gZWxzZSBpZiAoYnJvd3NlcldpbmRvdyA9PT0gdW5kZWZpbmVkICYmIFwiZnVuY3Rpb25cIiA9PT0gJ2Z1bmN0aW9uJykge1xuICBzY2hlZHVsZUZsdXNoID0gYXR0ZW1wdFZlcnR4KCk7XG59IGVsc2Uge1xuICBzY2hlZHVsZUZsdXNoID0gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB0aGVuKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzO1xuXG4gIHZhciBjaGlsZCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG5vb3ApO1xuXG4gIGlmIChjaGlsZFtQUk9NSVNFX0lEXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbWFrZVByb21pc2UoY2hpbGQpO1xuICB9XG5cbiAgdmFyIF9zdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cblxuICBpZiAoX3N0YXRlKSB7XG4gICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzW19zdGF0ZSAtIDFdO1xuICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrKF9zdGF0ZSwgY2hpbGQsIGNhbGxiYWNrLCBwYXJlbnQuX3Jlc3VsdCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZDtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJlc29sdmVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgcGFzc2VkIGB2YWx1ZWAuIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZXNvbHZlKDEpO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIHZhbHVlID09PSAxXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgxKTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgIC8vIHZhbHVlID09PSAxXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlc29sdmVcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FueX0gdmFsdWUgdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGhcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAgYHZhbHVlYFxuKi9cbmZ1bmN0aW9uIHJlc29sdmUkMShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBQUk9NSVNFX0lEID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpO1xuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFBFTkRJTkcgPSB2b2lkIDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG5cbmZ1bmN0aW9uIHNlbGZGdWxmaWxsbWVudCgpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpO1xufVxuXG5mdW5jdGlvbiBjYW5ub3RSZXR1cm5Pd24oKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiQkMSwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4kJDEuY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbiQkMSkge1xuICBhc2FwKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgIHZhciBlcnJvciA9IHRyeVRoZW4odGhlbiQkMSwgdGhlbmFibGUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoZW5hYmxlICE9PSB2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcblxuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgIGlmICghc2VhbGVkICYmIGVycm9yKSB7XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICB9XG4gIH0sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSkge1xuICBpZiAodGhlbmFibGUuX3N0YXRlID09PSBGVUxGSUxMRUQpIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2UgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgc3Vic2NyaWJlKHRoZW5hYmxlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgaWYgKG1heWJlVGhlbmFibGUuY29uc3RydWN0b3IgPT09IHByb21pc2UuY29uc3RydWN0b3IgJiYgdGhlbiQkMSA9PT0gdGhlbiAmJiBtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yLnJlc29sdmUgPT09IHJlc29sdmUkMSkge1xuICAgIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0aGVuJCQxID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoZW4kJDEpKSB7XG4gICAgICBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbiQkMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHNlbGZGdWxmaWxsbWVudCgpKTtcbiAgfSBlbHNlIGlmIChvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciB0aGVuJCQxID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICB0aGVuJCQxID0gdmFsdWUudGhlbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSwgdGhlbiQkMSk7XG4gIH0gZWxzZSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaFJlamVjdGlvbihwcm9taXNlKSB7XG4gIGlmIChwcm9taXNlLl9vbmVycm9yKSB7XG4gICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICB9XG5cbiAgcHVibGlzaChwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gZnVsZmlsbChwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9taXNlLl9yZXN1bHQgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQ7XG5cbiAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgIGFzYXAocHVibGlzaCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbikge1xuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcHJvbWlzZS5fc3RhdGUgPSBSRUpFQ1RFRDtcbiAgcHJvbWlzZS5fcmVzdWx0ID0gcmVhc29uO1xuXG4gIGFzYXAocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgX3N1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgdmFyIGxlbmd0aCA9IF9zdWJzY3JpYmVycy5sZW5ndGg7XG5cblxuICBwYXJlbnQuX29uZXJyb3IgPSBudWxsO1xuXG4gIF9zdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgX3N1YnNjcmliZXJzW2xlbmd0aCArIFJFSkVDVEVEXSA9IG9uUmVqZWN0aW9uO1xuXG4gIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgIGFzYXAocHVibGlzaCwgcGFyZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnM7XG4gIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjaGlsZCA9IHZvaWQgMCxcbiAgICAgIGNhbGxiYWNrID0gdm9pZCAwLFxuICAgICAgZGV0YWlsID0gcHJvbWlzZS5fcmVzdWx0O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgIGNhbGxiYWNrID0gc3Vic2NyaWJlcnNbaSArIHNldHRsZWRdO1xuXG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgfVxuICB9XG5cbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDtcbn1cblxuZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgcHJvbWlzZSwgY2FsbGJhY2ssIGRldGFpbCkge1xuICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgIHZhbHVlID0gdm9pZCAwLFxuICAgICAgZXJyb3IgPSB2b2lkIDAsXG4gICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuXG4gIGlmIChoYXNDYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKGRldGFpbCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICBlcnJvciA9IGU7XG4gICAgfVxuXG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgY2Fubm90UmV0dXJuT3duKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IGRldGFpbDtcbiAgfVxuXG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIC8vIG5vb3BcbiAgfSBlbHNlIGlmIChoYXNDYWxsYmFjayAmJiBzdWNjZWVkZWQpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChzdWNjZWVkZWQgPT09IGZhbHNlKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdGlhbGl6ZVByb21pc2UocHJvbWlzZSwgcmVzb2x2ZXIpIHtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICB9XG59XG5cbnZhciBpZCA9IDA7XG5mdW5jdGlvbiBuZXh0SWQoKSB7XG4gIHJldHVybiBpZCsrO1xufVxuXG5mdW5jdGlvbiBtYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gIHByb21pc2VbUFJPTUlTRV9JRF0gPSBpZCsrO1xuICBwcm9taXNlLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICBwcm9taXNlLl9zdWJzY3JpYmVycyA9IFtdO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3IoKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ0FycmF5IE1ldGhvZHMgbXVzdCBiZSBwcm92aWRlZCBhbiBBcnJheScpO1xufVxuXG52YXIgRW51bWVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQpIHtcbiAgICB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuXG4gICAgaWYgKCF0aGlzLnByb21pc2VbUFJPTUlTRV9JRF0pIHtcbiAgICAgIG1ha2VQcm9taXNlKHRoaXMucHJvbWlzZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgIHRoaXMuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgICAgdGhpcy5fcmVzdWx0ID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcblxuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLmxlbmd0aCB8fCAwO1xuICAgICAgICB0aGlzLl9lbnVtZXJhdGUoaW5wdXQpO1xuICAgICAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVqZWN0KHRoaXMucHJvbWlzZSwgdmFsaWRhdGlvbkVycm9yKCkpO1xuICAgIH1cbiAgfVxuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiBfZW51bWVyYXRlKGlucHV0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IHRoaXMuX3N0YXRlID09PSBQRU5ESU5HICYmIGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uIF9lYWNoRW50cnkoZW50cnksIGkpIHtcbiAgICB2YXIgYyA9IHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3I7XG4gICAgdmFyIHJlc29sdmUkJDEgPSBjLnJlc29sdmU7XG5cblxuICAgIGlmIChyZXNvbHZlJCQxID09PSByZXNvbHZlJDEpIHtcbiAgICAgIHZhciBfdGhlbiA9IHZvaWQgMDtcbiAgICAgIHZhciBlcnJvciA9IHZvaWQgMDtcbiAgICAgIHZhciBkaWRFcnJvciA9IGZhbHNlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgX3RoZW4gPSBlbnRyeS50aGVuO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkaWRFcnJvciA9IHRydWU7XG4gICAgICAgIGVycm9yID0gZTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGVuID09PSB0aGVuICYmIGVudHJ5Ll9zdGF0ZSAhPT0gUEVORElORykge1xuICAgICAgICB0aGlzLl9zZXR0bGVkQXQoZW50cnkuX3N0YXRlLCBpLCBlbnRyeS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90aGVuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSBlbnRyeTtcbiAgICAgIH0gZWxzZSBpZiAoYyA9PT0gUHJvbWlzZSQxKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gbmV3IGMobm9vcCk7XG4gICAgICAgIGlmIChkaWRFcnJvcikge1xuICAgICAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBlbnRyeSwgX3RoZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChuZXcgYyhmdW5jdGlvbiAocmVzb2x2ZSQkMSkge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlJCQxKGVudHJ5KTtcbiAgICAgICAgfSksIGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZSQkMShlbnRyeSksIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fc2V0dGxlZEF0ID0gZnVuY3Rpb24gX3NldHRsZWRBdChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuXG4gICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgICB0aGlzLl9yZW1haW5pbmctLTtcblxuICAgICAgaWYgKHN0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24gX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKSB7XG4gICAgdmFyIGVudW1lcmF0b3IgPSB0aGlzO1xuXG4gICAgc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KEZVTEZJTExFRCwgaSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoUkVKRUNURUQsIGksIHJlYXNvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIEVudW1lcmF0b3I7XG59KCk7XG5cbi8qKlxuICBgUHJvbWlzZS5hbGxgIGFjY2VwdHMgYW4gYXJyYXkgb2YgcHJvbWlzZXMsIGFuZCByZXR1cm5zIGEgbmV3IHByb21pc2Ugd2hpY2hcbiAgaXMgZnVsZmlsbGVkIHdpdGggYW4gYXJyYXkgb2YgZnVsZmlsbG1lbnQgdmFsdWVzIGZvciB0aGUgcGFzc2VkIHByb21pc2VzLCBvclxuICByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gb2YgdGhlIGZpcnN0IHBhc3NlZCBwcm9taXNlIHRvIGJlIHJlamVjdGVkLiBJdCBjYXN0cyBhbGxcbiAgZWxlbWVudHMgb2YgdGhlIHBhc3NlZCBpdGVyYWJsZSB0byBwcm9taXNlcyBhcyBpdCBydW5zIHRoaXMgYWxnb3JpdGhtLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSByZXNvbHZlKDMpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gVGhlIGFycmF5IGhlcmUgd291bGQgYmUgWyAxLCAyLCAzIF07XG4gIH0pO1xuICBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYGFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSByZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSByZWplY3QobmV3IEVycm9yKFwiMlwiKSk7XG4gIGxldCBwcm9taXNlMyA9IHJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIC8vIGVycm9yLm1lc3NhZ2UgPT09IFwiMlwiXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXNcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC5cbiAgQHN0YXRpY1xuKi9cbmZ1bmN0aW9uIGFsbChlbnRyaWVzKSB7XG4gIHJldHVybiBuZXcgRW51bWVyYXRvcih0aGlzLCBlbnRyaWVzKS5wcm9taXNlO1xufVxuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIHBhc3NlZCBgcmVhc29uYC5cbiAgSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgZ2l2ZW4gYHJlYXNvbmAuXG4qL1xuZnVuY3Rpb24gcmVqZWN0JDEocmVhc29uKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIG5lZWRzUmVzb2x2ZXIoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbn1cblxuZnVuY3Rpb24gbmVlZHNOZXcoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG59XG5cbi8qKlxuICBQcm9taXNlIG9iamVjdHMgcmVwcmVzZW50IHRoZSBldmVudHVhbCByZXN1bHQgb2YgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi4gVGhlXG4gIHByaW1hcnkgd2F5IG9mIGludGVyYWN0aW5nIHdpdGggYSBwcm9taXNlIGlzIHRocm91Z2ggaXRzIGB0aGVuYCBtZXRob2QsIHdoaWNoXG4gIHJlZ2lzdGVycyBjYWxsYmFja3MgdG8gcmVjZWl2ZSBlaXRoZXIgYSBwcm9taXNlJ3MgZXZlbnR1YWwgdmFsdWUgb3IgdGhlIHJlYXNvblxuICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICBUZXJtaW5vbG9neVxuICAtLS0tLS0tLS0tLVxuXG4gIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gIC0gYHRoZW5hYmxlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgYHRoZW5gIG1ldGhvZC5cbiAgLSBgdmFsdWVgIGlzIGFueSBsZWdhbCBKYXZhU2NyaXB0IHZhbHVlIChpbmNsdWRpbmcgdW5kZWZpbmVkLCBhIHRoZW5hYmxlLCBvciBhIHByb21pc2UpLlxuICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgLSBgcmVhc29uYCBpcyBhIHZhbHVlIHRoYXQgaW5kaWNhdGVzIHdoeSBhIHByb21pc2Ugd2FzIHJlamVjdGVkLlxuICAtIGBzZXR0bGVkYCB0aGUgZmluYWwgcmVzdGluZyBzdGF0ZSBvZiBhIHByb21pc2UsIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cblxuICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgUHJvbWlzZXMgdGhhdCBhcmUgZnVsZmlsbGVkIGhhdmUgYSBmdWxmaWxsbWVudCB2YWx1ZSBhbmQgYXJlIGluIHRoZSBmdWxmaWxsZWRcbiAgc3RhdGUuICBQcm9taXNlcyB0aGF0IGFyZSByZWplY3RlZCBoYXZlIGEgcmVqZWN0aW9uIHJlYXNvbiBhbmQgYXJlIGluIHRoZVxuICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICBQcm9taXNlcyBjYW4gYWxzbyBiZSBzYWlkIHRvICpyZXNvbHZlKiBhIHZhbHVlLiAgSWYgdGhpcyB2YWx1ZSBpcyBhbHNvIGFcbiAgcHJvbWlzZSwgdGhlbiB0aGUgb3JpZ2luYWwgcHJvbWlzZSdzIHNldHRsZWQgc3RhdGUgd2lsbCBtYXRjaCB0aGUgdmFsdWUnc1xuICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgaXRzZWxmIHJlamVjdCwgYW5kIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2lsbFxuICBpdHNlbGYgZnVsZmlsbC5cblxuXG4gIEJhc2ljIFVzYWdlOlxuICAtLS0tLS0tLS0tLS1cblxuICBgYGBqc1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIG9uIHN1Y2Nlc3NcbiAgICByZXNvbHZlKHZhbHVlKTtcblxuICAgIC8vIG9uIGZhaWx1cmVcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBBZHZhbmNlZCBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tLS0tXG5cbiAgUHJvbWlzZXMgc2hpbmUgd2hlbiBhYnN0cmFjdGluZyBhd2F5IGFzeW5jaHJvbm91cyBpbnRlcmFjdGlvbnMgc3VjaCBhc1xuICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICBgYGBqc1xuICBmdW5jdGlvbiBnZXRKU09OKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsKTtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5ET05FKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgYGBganNcbiAgUHJvbWlzZS5hbGwoW1xuICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgIGdldEpTT04oJy9jb21tZW50cycpXG4gIF0pLnRoZW4oZnVuY3Rpb24odmFsdWVzKXtcbiAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgdmFsdWVzWzFdIC8vID0+IGNvbW1lbnRzSlNPTlxuXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSk7XG4gIGBgYFxuXG4gIEBjbGFzcyBQcm9taXNlXG4gIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmVyXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQGNvbnN0cnVjdG9yXG4qL1xuXG52YXIgUHJvbWlzZSQxID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZSQxLnByb3RvdHlwZS50aGVuID0gdGhlbjtcblByb21pc2UkMS5hbGwgPSBhbGw7XG5Qcm9taXNlJDEucmFjZSA9IHJhY2U7XG5Qcm9taXNlJDEucmVzb2x2ZSA9IHJlc29sdmUkMTtcblByb21pc2UkMS5yZWplY3QgPSByZWplY3QkMTtcblByb21pc2UkMS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZSQxLl9zZXRBc2FwID0gc2V0QXNhcDtcblByb21pc2UkMS5fYXNhcCA9IGFzYXA7XG5cbi8qZ2xvYmFsIHNlbGYqL1xuZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gIHZhciBsb2NhbCA9IHZvaWQgMDtcblxuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbCA9IHNlbGY7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBQID0gbG9jYWwuUHJvbWlzZTtcblxuICBpZiAoUCkge1xuICAgIHZhciBwcm9taXNlVG9TdHJpbmcgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBwcm9taXNlVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUC5yZXNvbHZlKCkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNpbGVudGx5IGlnbm9yZWRcbiAgICB9XG5cbiAgICBpZiAocHJvbWlzZVRvU3RyaW5nID09PSAnW29iamVjdCBQcm9taXNlXScgJiYgIVAuY2FzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGxvY2FsLlByb21pc2UgPSBQcm9taXNlJDE7XG59XG5cbi8vIFN0cmFuZ2UgY29tcGF0Li5cblByb21pc2UkMS5wb2x5ZmlsbCA9IHBvbHlmaWxsO1xuUHJvbWlzZSQxLlByb21pc2UgPSBQcm9taXNlJDE7XG5cbnJldHVybiBQcm9taXNlJDE7XG5cbn0pKSk7XG5cblxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lczYtcHJvbWlzZS5tYXBcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCJodG1sMmNhbnZhc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIFwiaHRtbDJjYW52YXNcIiAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9odG1sMmNhbnZhc19fO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCJqc3BkZlwiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIGV4dGVybmFsIFwianNwZGZcIiAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qc3BkZl9fO1xuXG4vKioqLyB9KVxuXG4vKioqKioqLyBcdH0pO1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovIFx0XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCAqL1xuLyoqKioqKi8gXHQhZnVuY3Rpb24oKSB7XG4vKioqKioqLyBcdFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0fSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzICovXG4vKioqKioqLyBcdCFmdW5jdGlvbigpIHtcbi8qKioqKiovIFx0XHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuLyoqKioqKi8gXHRcdFx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuLyoqKioqKi8gXHRcdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcbi8qKioqKiovIFx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuLyoqKioqKi8gXHRcdFx0XHR9XG4vKioqKioqLyBcdFx0XHR9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0fSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCAqL1xuLyoqKioqKi8gXHQhZnVuY3Rpb24oKSB7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfVxuLyoqKioqKi8gXHR9KCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0ICovXG4vKioqKioqLyBcdCFmdW5jdGlvbigpIHtcbi8qKioqKiovIFx0XHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHR9KCk7XG4vKioqKioqLyBcdFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0ge307XG4vLyBUaGlzIGVudHJ5IG5lZWQgdG8gYmUgd3JhcHBlZCBpbiBhbiBJSUZFIGJlY2F1c2UgaXQgbmVlZCB0byBiZSBpbiBzdHJpY3QgbW9kZS5cbiFmdW5jdGlvbigpIHtcblwidXNlIHN0cmljdFwiO1xuLyohKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKi9cbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfd29ya2VyX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3dvcmtlci5qcyAqLyBcIi4vc3JjL3dvcmtlci5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcGx1Z2luX2pzcGRmX3BsdWdpbl9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wbHVnaW4vanNwZGYtcGx1Z2luLmpzICovIFwiLi9zcmMvcGx1Z2luL2pzcGRmLXBsdWdpbi5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcGx1Z2luX3BhZ2VicmVha3NfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGx1Z2luL3BhZ2VicmVha3MuanMgKi8gXCIuL3NyYy9wbHVnaW4vcGFnZWJyZWFrcy5qc1wiKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfcGx1Z2luX2h5cGVybGlua3NfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGx1Z2luL2h5cGVybGlua3MuanMgKi8gXCIuL3NyYy9wbHVnaW4vaHlwZXJsaW5rcy5qc1wiKTtcblxuXG5cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIFBERiBmcm9tIGFuIEhUTUwgZWxlbWVudCBvciBzdHJpbmcgdXNpbmcgaHRtbDJjYW52YXMgYW5kIGpzUERGLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIGVsZW1lbnQgb3IgSFRNTCBzdHJpbmcuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdCBBbiBvYmplY3Qgb2Ygb3B0aW9uYWwgc2V0dGluZ3M6ICdtYXJnaW4nLCAnZmlsZW5hbWUnLFxuICogICAgJ2ltYWdlJyAoJ3R5cGUnIGFuZCAncXVhbGl0eScpLCBhbmQgJ2h0bWwyY2FudmFzJyAvICdqc3BkZicsIHdoaWNoIGFyZVxuICogICAgc2VudCBhcyBzZXR0aW5ncyB0byB0aGVpciBjb3JyZXNwb25kaW5nIGZ1bmN0aW9ucy5cbiAqL1xuXG52YXIgaHRtbDJwZGYgPSBmdW5jdGlvbiBodG1sMnBkZihzcmMsIG9wdCkge1xuICAvLyBDcmVhdGUgYSBuZXcgd29ya2VyIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXG4gIHZhciB3b3JrZXIgPSBuZXcgaHRtbDJwZGYuV29ya2VyKG9wdCk7XG5cbiAgaWYgKHNyYykge1xuICAgIC8vIElmIHNyYyBpcyBzcGVjaWZpZWQsIHBlcmZvcm0gdGhlIHRyYWRpdGlvbmFsICdzaW1wbGUnIG9wZXJhdGlvbi5cbiAgICByZXR1cm4gd29ya2VyLmZyb20oc3JjKS5zYXZlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIHdvcmtlciBmb3IgbmV3IFByb21pc2UtYmFzZWQgb3BlcmF0aW9uLlxuICAgIHJldHVybiB3b3JrZXI7XG4gIH1cbn07XG5cbmh0bWwycGRmLldvcmtlciA9IF93b3JrZXJfanNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXy5kZWZhdWx0OyAvLyBFeHBvc2UgdGhlIGh0bWwycGRmIGZ1bmN0aW9uLlxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gKGh0bWwycGRmKTtcbn0oKTtcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfZXhwb3J0c19fLmRlZmF1bHQ7XG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xuLyoqKioqKi8gfSkoKVxuO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html2pdf.js/dist/html2pdf.js\n");

/***/ }),

/***/ "./node_modules/html2pdf.js/node_modules/fflate/esm/browser.js":
/*!*********************************************************************!*\
  !*** ./node_modules/html2pdf.js/node_modules/fflate/esm/browser.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncCompress: function() { return /* binding */ AsyncGzip; },\n/* harmony export */   AsyncDecompress: function() { return /* binding */ AsyncDecompress; },\n/* harmony export */   AsyncDeflate: function() { return /* binding */ AsyncDeflate; },\n/* harmony export */   AsyncGunzip: function() { return /* binding */ AsyncGunzip; },\n/* harmony export */   AsyncGzip: function() { return /* binding */ AsyncGzip; },\n/* harmony export */   AsyncInflate: function() { return /* binding */ AsyncInflate; },\n/* harmony export */   AsyncUnzipInflate: function() { return /* binding */ AsyncUnzipInflate; },\n/* harmony export */   AsyncUnzlib: function() { return /* binding */ AsyncUnzlib; },\n/* harmony export */   AsyncZipDeflate: function() { return /* binding */ AsyncZipDeflate; },\n/* harmony export */   AsyncZlib: function() { return /* binding */ AsyncZlib; },\n/* harmony export */   Compress: function() { return /* binding */ Gzip; },\n/* harmony export */   DecodeUTF8: function() { return /* binding */ DecodeUTF8; },\n/* harmony export */   Decompress: function() { return /* binding */ Decompress; },\n/* harmony export */   Deflate: function() { return /* binding */ Deflate; },\n/* harmony export */   EncodeUTF8: function() { return /* binding */ EncodeUTF8; },\n/* harmony export */   FlateErrorCode: function() { return /* binding */ FlateErrorCode; },\n/* harmony export */   Gunzip: function() { return /* binding */ Gunzip; },\n/* harmony export */   Gzip: function() { return /* binding */ Gzip; },\n/* harmony export */   Inflate: function() { return /* binding */ Inflate; },\n/* harmony export */   Unzip: function() { return /* binding */ Unzip; },\n/* harmony export */   UnzipInflate: function() { return /* binding */ UnzipInflate; },\n/* harmony export */   UnzipPassThrough: function() { return /* binding */ UnzipPassThrough; },\n/* harmony export */   Unzlib: function() { return /* binding */ Unzlib; },\n/* harmony export */   Zip: function() { return /* binding */ Zip; },\n/* harmony export */   ZipDeflate: function() { return /* binding */ ZipDeflate; },\n/* harmony export */   ZipPassThrough: function() { return /* binding */ ZipPassThrough; },\n/* harmony export */   Zlib: function() { return /* binding */ Zlib; },\n/* harmony export */   compress: function() { return /* binding */ gzip; },\n/* harmony export */   compressSync: function() { return /* binding */ gzipSync; },\n/* harmony export */   decompress: function() { return /* binding */ decompress; },\n/* harmony export */   decompressSync: function() { return /* binding */ decompressSync; },\n/* harmony export */   deflate: function() { return /* binding */ deflate; },\n/* harmony export */   deflateSync: function() { return /* binding */ deflateSync; },\n/* harmony export */   gunzip: function() { return /* binding */ gunzip; },\n/* harmony export */   gunzipSync: function() { return /* binding */ gunzipSync; },\n/* harmony export */   gzip: function() { return /* binding */ gzip; },\n/* harmony export */   gzipSync: function() { return /* binding */ gzipSync; },\n/* harmony export */   inflate: function() { return /* binding */ inflate; },\n/* harmony export */   inflateSync: function() { return /* binding */ inflateSync; },\n/* harmony export */   strFromU8: function() { return /* binding */ strFromU8; },\n/* harmony export */   strToU8: function() { return /* binding */ strToU8; },\n/* harmony export */   unzip: function() { return /* binding */ unzip; },\n/* harmony export */   unzipSync: function() { return /* binding */ unzipSync; },\n/* harmony export */   unzlib: function() { return /* binding */ unzlib; },\n/* harmony export */   unzlibSync: function() { return /* binding */ unzlibSync; },\n/* harmony export */   zip: function() { return /* binding */ zip; },\n/* harmony export */   zipSync: function() { return /* binding */ zipSync; },\n/* harmony export */   zlib: function() { return /* binding */ zlib; },\n/* harmony export */   zlibSync: function() { return /* binding */ zlibSync; }\n/* harmony export */ });\n/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.push.js */ \"./node_modules/core-js/modules/es.array.push.js\");\n/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_typed_array_to_reversed_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-reversed.js */ \"./node_modules/core-js/modules/es.typed-array.to-reversed.js\");\n/* harmony import */ var core_js_modules_es_typed_array_to_reversed_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_reversed_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_typed_array_to_sorted_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-sorted.js */ \"./node_modules/core-js/modules/es.typed-array.to-sorted.js\");\n/* harmony import */ var core_js_modules_es_typed_array_to_sorted_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_sorted_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_typed_array_with_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.typed-array.with.js */ \"./node_modules/core-js/modules/es.typed-array.with.js\");\n/* harmony import */ var core_js_modules_es_typed_array_with_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_with_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_esnext_array_buffer_detached_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/esnext.array-buffer.detached.js */ \"./node_modules/core-js/modules/esnext.array-buffer.detached.js\");\n/* harmony import */ var core_js_modules_esnext_array_buffer_detached_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_buffer_detached_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/esnext.array-buffer.transfer.js */ \"./node_modules/core-js/modules/esnext.array-buffer.transfer.js\");\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_buffer_transfer_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_to_fixed_length_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/esnext.array-buffer.transfer-to-fixed-length.js */ \"./node_modules/core-js/modules/esnext.array-buffer.transfer-to-fixed-length.js\");\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_to_fixed_length_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_buffer_transfer_to_fixed_length_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/web.url-search-params.delete.js */ \"./node_modules/core-js/modules/web.url-search-params.delete.js\");\n/* harmony import */ var core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_delete_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/web.url-search-params.has.js */ \"./node_modules/core-js/modules/web.url-search-params.has.js\");\n/* harmony import */ var core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_has_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/web.url-search-params.size.js */ \"./node_modules/core-js/modules/web.url-search-params.size.js\");\n/* harmony import */ var core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_size_js__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\n// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = function (c, id, msg, transfer, cb) {\n  var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'], {\n    type: 'text/javascript'\n  }))));\n  w.onmessage = function (e) {\n    var d = e.data,\n      ed = d.$e$;\n    if (ed) {\n      var err = new Error(ed[0]);\n      err['code'] = ed[1];\n      err.stack = ed[2];\n      cb(err, null);\n    } else cb(null, d);\n  };\n  w.postMessage(msg, transfer);\n  return w;\n};\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array,\n  u16 = Uint16Array,\n  i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */0, 0, /* impossible */0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n  var b = new u16(31);\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  }\n  // numbers here are at max 18 bits\n  var r = new i32(b[30]);\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n  return {\n    b: b,\n    r: r\n  };\n};\nvar _a = freb(fleb, 2),\n  fl = _a.b,\n  revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0),\n  fd = _b.b,\n  revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n  // reverse table algorithm from SO\n  var x = (i & 0xAAAA) >> 1 | (i & 0x5555) << 1;\n  x = (x & 0xCCCC) >> 2 | (x & 0x3333) << 2;\n  x = (x & 0xF0F0) >> 4 | (x & 0x0F0F) << 4;\n  rev[i] = ((x & 0xFF00) >> 8 | (x & 0x00FF) << 8) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = function (cd, mb, r) {\n  var s = cd.length;\n  // index\n  var i = 0;\n  // u16 \"map\": index -> # of codes with bit length = index\n  var l = new u16(mb);\n  // length of cd must be 288 (total # of codes)\n  for (; i < s; ++i) {\n    if (cd[i]) ++l[cd[i] - 1];\n  }\n  // u16 \"map\": index -> minimum code for bit length = index\n  var le = new u16(mb);\n  for (i = 1; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n  var co;\n  if (r) {\n    // u16 \"map\": index -> number of actual bits, symbol for code\n    co = new u16(1 << mb);\n    // bits to remove for reverser\n    var rvb = 15 - mb;\n    for (i = 0; i < s; ++i) {\n      // ignore 0 lengths\n      if (cd[i]) {\n        // num encoding both symbol and bits read\n        var sv = i << 4 | cd[i];\n        // free bits\n        var r_1 = mb - cd[i];\n        // start value\n        var v = le[cd[i] - 1]++ << r_1;\n        // m is end value\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          // every 16 bit value starting with the code yields the same result\n          co[rev[v] >> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        co[i] = rev[le[cd[i] - 1]++] >> 15 - cd[i];\n      }\n    }\n  }\n  return co;\n};\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i) flt[i] = 8;\nfor (var i = 144; i < 256; ++i) flt[i] = 9;\nfor (var i = 256; i < 280; ++i) flt[i] = 7;\nfor (var i = 280; i < 288; ++i) flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i) fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/hMap(flt, 9, 0),\n  flrm = /*#__PURE__*/hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/hMap(fdt, 5, 0),\n  fdrm = /*#__PURE__*/hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n  var m = a[0];\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m) m = a[i];\n  }\n  return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8) >> (p & 7) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);\n};\n// get end of byte\nvar shft = function (p) {\n  return (p + 7) / 8 | 0;\n};\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n  if (s == null || s < 0) s = 0;\n  if (e == null || e > v.length) e = v.length;\n  // can't use .constructor in case user-supplied\n  return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nvar FlateErrorCode = {\n  UnexpectedEOF: 0,\n  InvalidBlockType: 1,\n  InvalidLengthLiteral: 2,\n  InvalidDistance: 3,\n  StreamFinished: 4,\n  NoStreamHandler: 5,\n  InvalidHeader: 6,\n  NoCallback: 7,\n  InvalidUTF8: 8,\n  ExtraFieldTooLong: 9,\n  InvalidDate: 10,\n  FilenameTooLong: 11,\n  StreamFinishing: 12,\n  InvalidZipData: 13,\n  UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = ['unexpected EOF', 'invalid block type', 'invalid length/literal', 'invalid distance', 'stream finished', 'no stream handler',, 'no callback', 'invalid UTF-8 data', 'extra field too long', 'date not in range 1980-2099', 'filename too long', 'stream finishing', 'invalid zip data'\n// determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n  var e = new Error(msg || ec[ind]);\n  e.code = ind;\n  if (Error.captureStackTrace) Error.captureStackTrace(e, err);\n  if (!nt) throw e;\n  return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n  // source length       dict length\n  var sl = dat.length,\n    dl = dict ? dict.length : 0;\n  if (!sl || st.f && !st.l) return buf || new u8(0);\n  var noBuf = !buf;\n  // have to estimate size\n  var resize = noBuf || st.i != 2;\n  // no state\n  var noSt = st.i;\n  // Assumes roughly 33% compression ratio average\n  if (noBuf) buf = new u8(sl * 3);\n  // ensure buffer can fit at least l elements\n  var cbuf = function (l) {\n    var bl = buf.length;\n    // need to increase size to fit\n    if (l > bl) {\n      // Double or set to necessary, whichever is greater\n      var nbuf = new u8(Math.max(bl * 2, l));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  //  last chunk         bitpos           bytes\n  var final = st.f || 0,\n    pos = st.p || 0,\n    bt = st.b || 0,\n    lm = st.l,\n    dm = st.d,\n    lbt = st.m,\n    dbt = st.n;\n  // total bits\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      // BFINAL - this is only 1 when last chunk is next\n      final = bits(dat, pos, 1);\n      // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        // go to end of byte boundary\n        var s = shft(pos) + 4,\n          l = dat[s - 4] | dat[s - 3] << 8,\n          t = s + l;\n        if (t > sl) {\n          if (noSt) err(0);\n          break;\n        }\n        // ensure size\n        if (resize) cbuf(bt + l);\n        // Copy over uncompressed data\n        buf.set(dat.subarray(s, t), bt);\n        // Get new bitpos, update byte count\n        st.b = bt += l, st.p = pos = t * 8, st.f = final;\n        continue;\n      } else if (type == 1) lm = flrm, dm = fdrm, lbt = 9, dbt = 5;else if (type == 2) {\n        //  literal                            lengths\n        var hLit = bits(dat, pos, 31) + 257,\n          hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        // length+distance tree\n        var ldt = new u8(tl);\n        // code length tree\n        var clt = new u8(19);\n        for (var i = 0; i < hcLen; ++i) {\n          // use index map to get real code\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n        pos += hcLen * 3;\n        // code lengths bits\n        var clb = max(clt),\n          clbmsk = (1 << clb) - 1;\n        // code lengths map\n        var clm = hMap(clt, clb, 1);\n        for (var i = 0; i < tl;) {\n          var r = clm[bits(dat, pos, clbmsk)];\n          // bits read\n          pos += r & 15;\n          // symbol\n          var s = r >> 4;\n          // code length to copy\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            //  copy   count\n            var c = 0,\n              n = 0;\n            if (s == 16) n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];else if (s == 17) n = 3 + bits(dat, pos, 7), pos += 3;else if (s == 18) n = 11 + bits(dat, pos, 127), pos += 7;\n            while (n--) ldt[i++] = c;\n          }\n        }\n        //    length tree                 distance tree\n        var lt = ldt.subarray(0, hLit),\n          dt = ldt.subarray(hLit);\n        // max length bits\n        lbt = max(lt);\n        // max dist bits\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else err(1);\n      if (pos > tbts) {\n        if (noSt) err(0);\n        break;\n      }\n    }\n    // Make sure the buffer can hold this + the largest possible addition\n    // Maximum chunk size (practically, theoretically infinite) is 2^17\n    if (resize) cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1,\n      dms = (1 << dbt) - 1;\n    var lpos = pos;\n    for (;; lpos = pos) {\n      // bits read, code\n      var c = lm[bits16(dat, pos) & lms],\n        sym = c >> 4;\n      pos += c & 15;\n      if (pos > tbts) {\n        if (noSt) err(0);\n        break;\n      }\n      if (!c) err(2);\n      if (sym < 256) buf[bt++] = sym;else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        // no extra bits needed if less\n        if (sym > 264) {\n          // index\n          var i = sym - 257,\n            b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        }\n        // dist\n        var d = dm[bits16(dat, pos) & dms],\n          dsym = d >> 4;\n        if (!d) err(3);\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt) err(0);\n          break;\n        }\n        if (resize) cbuf(bt + 131072);\n        var end = bt + add;\n        if (bt < dt) {\n          var shift = dl - dt,\n            dend = Math.min(dt, end);\n          if (shift + bt < 0) err(3);\n          for (; bt < dend; ++bt) buf[bt] = dict[shift + bt];\n        }\n        for (; bt < end; ++bt) buf[bt] = buf[bt - dt];\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n    if (lm) final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  // don't reallocate for streams or user buffers\n  return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >> 8;\n  d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n  // Need extra info to make a tree\n  var t = [];\n  for (var i = 0; i < d.length; ++i) {\n    if (d[i]) t.push({\n      s: i,\n      f: d[i]\n    });\n  }\n  var s = t.length;\n  var t2 = t.slice();\n  if (!s) return {\n    t: et,\n    l: 0\n  };\n  if (s == 1) {\n    var v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return {\n      t: v,\n      l: 1\n    };\n  }\n  t.sort(function (a, b) {\n    return a.f - b.f;\n  });\n  // after i2 reaches last ind, will be stopped\n  // freq must be greater than largest possible number of symbols\n  t.push({\n    s: -1,\n    f: 25001\n  });\n  var l = t[0],\n    r = t[1],\n    i0 = 0,\n    i1 = 1,\n    i2 = 2;\n  t[0] = {\n    s: -1,\n    f: l.f + r.f,\n    l: l,\n    r: r\n  };\n  // efficient algorithm from UZIP.js\n  // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n  // symbols that combined have high freq, will start processing i2 (high-freq,\n  // non-composite) symbols instead\n  // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = {\n      s: -1,\n      f: l.f + r.f,\n      l: l,\n      r: r\n    };\n  }\n  var maxSym = t2[0].s;\n  for (var i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym) maxSym = t2[i].s;\n  }\n  // code lengths\n  var tr = new u16(maxSym + 1);\n  // max bits in tree\n  var mbt = ln(t[i1 - 1], tr, 0);\n  if (mbt > mb) {\n    // more algorithms from UZIP.js\n    // TODO: find out how this code works (debt)\n    //  ind    debt\n    var i = 0,\n      dt = 0;\n    //    left            cost\n    var lft = mbt - mb,\n      cst = 1 << lft;\n    t2.sort(function (a, b) {\n      return tr[b.s] - tr[a.s] || a.f - b.f;\n    });\n    for (; i < s; ++i) {\n      var i2_1 = t2[i].s;\n      if (tr[i2_1] > mb) {\n        dt += cst - (1 << mbt - tr[i2_1]);\n        tr[i2_1] = mb;\n      } else break;\n    }\n    dt >>= lft;\n    while (dt > 0) {\n      var i2_2 = t2[i].s;\n      if (tr[i2_2] < mb) dt -= 1 << mb - tr[i2_2]++ - 1;else ++i;\n    }\n    for (; i >= 0 && dt; --i) {\n      var i2_3 = t2[i].s;\n      if (tr[i2_3] == mb) {\n        --tr[i2_3];\n        ++dt;\n      }\n    }\n    mbt = mb;\n  }\n  return {\n    t: new u8(tr),\n    l: mbt\n  };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n  return n.s == -1 ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1)) : l[n.s] = d;\n};\n// length codes generation\nvar lc = function (c) {\n  var s = c.length;\n  // Note that the semicolon was intentional\n  while (s && !c[--s]);\n  var cl = new u16(++s);\n  //  ind      num         streak\n  var cli = 0,\n    cln = c[0],\n    cls = 1;\n  var w = function (v) {\n    cl[cli++] = v;\n  };\n  for (var i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s) ++cls;else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138) w(32754);\n        if (cls > 2) {\n          w(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n        for (; cls > 6; cls -= 6) w(8304);\n        if (cls > 2) w(cls - 3 << 5 | 8208), cls = 0;\n      }\n      while (cls--) w(cln);\n      cls = 1;\n      cln = c[i];\n    }\n  }\n  return {\n    c: cl.subarray(0, cli),\n    n: s\n  };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n  var l = 0;\n  for (var i = 0; i < cl.length; ++i) l += cf[i] * cl[i];\n  return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n  // no need to write 00 as type: TypedArray defaults to 0\n  var s = dat.length;\n  var o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n  for (var i = 0; i < s; ++i) out[o + i + 4] = dat[i];\n  return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n  wbits(out, p++, final);\n  ++lf[256];\n  var _a = hTree(lf, 15),\n    dlt = _a.t,\n    mlb = _a.l;\n  var _b = hTree(df, 15),\n    ddt = _b.t,\n    mdb = _b.l;\n  var _c = lc(dlt),\n    lclt = _c.c,\n    nlc = _c.n;\n  var _d = lc(ddt),\n    lcdt = _d.c,\n    ndc = _d.n;\n  var lcfreq = new u16(19);\n  for (var i = 0; i < lclt.length; ++i) ++lcfreq[lclt[i] & 31];\n  for (var i = 0; i < lcdt.length; ++i) ++lcfreq[lcdt[i] & 31];\n  var _e = hTree(lcfreq, 7),\n    lct = _e.t,\n    mlcb = _e.l;\n  var nlcc = 19;\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc);\n  var flen = bl + 5 << 3;\n  var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n  if (bs >= 0 && flen <= ftlen && flen <= dtlen) return wfblk(out, p, dat.subarray(bs, bs + bl));\n  var lm, ll, dm, dl;\n  wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    var llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n    for (var i = 0; i < nlcc; ++i) wbits(out, p + 3 * i, lct[clim[i]]);\n    p += 3 * nlcc;\n    var lcts = [lclt, lcdt];\n    for (var it = 0; it < 2; ++it) {\n      var clct = lcts[it];\n      for (var i = 0; i < clct.length; ++i) {\n        var len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15) wbits(out, p, clct[i] >> 5 & 127), p += clct[i] >> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n  for (var i = 0; i < li; ++i) {\n    var sym = syms[i];\n    if (sym > 255) {\n      var len = sym >> 18 & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7) wbits(out, p, sym >> 23 & 31), p += fleb[len];\n      var dst = sym & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3) wbits16(out, p, sym >> 5 & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[sym]), p += ll[sym];\n    }\n  }\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n  var s = st.z || dat.length;\n  var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n  // writing to this writes to the output buffer\n  var w = o.subarray(pre, o.length - post);\n  var lst = st.l;\n  var pos = (st.r || 0) & 7;\n  if (lvl) {\n    if (pos) w[0] = st.r >> 3;\n    var opt = deo[lvl - 1];\n    var n = opt >> 13,\n      c = opt & 8191;\n    var msk_1 = (1 << plvl) - 1;\n    //    prev 2-byte val map    curr 2-byte val map\n    var prev = st.p || new u16(32768),\n      head = st.h || new u16(msk_1 + 1);\n    var bs1_1 = Math.ceil(plvl / 3),\n      bs2_1 = 2 * bs1_1;\n    var hsh = function (i) {\n      return (dat[i] ^ dat[i + 1] << bs1_1 ^ dat[i + 2] << bs2_1) & msk_1;\n    };\n    // 24576 is an arbitrary number of maximum symbols per block\n    // 424 buffer for last block\n    var syms = new i32(25000);\n    // length/literal freq   distance freq\n    var lf = new u16(288),\n      df = new u16(32);\n    //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n    var lc_1 = 0,\n      eb = 0,\n      i = st.i || 0,\n      li = 0,\n      wi = st.w || 0,\n      bs = 0;\n    for (; i + 2 < s; ++i) {\n      // hash value\n      var hv = hsh(i);\n      // index mod 32768    previous index mod\n      var imod = i & 32767,\n        pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod;\n      // We always should modify head and prev, but only add symbols if\n      // this data is not yet processed (\"wait\" for wait index)\n      if (wi <= i) {\n        // bytes remaining\n        var rem = s - i;\n        if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc_1 = eb = 0, bs = i;\n          for (var j = 0; j < 286; ++j) lf[j] = 0;\n          for (var j = 0; j < 30; ++j) df[j] = 0;\n        }\n        //  len    dist   chain\n        var l = 2,\n          d = 0,\n          ch_1 = c,\n          dif = imod - pimod & 32767;\n        if (rem > 2 && hv == hsh(i - dif)) {\n          var maxn = Math.min(n, rem) - 1;\n          var maxd = Math.min(32767, i);\n          // max possible length\n          // not capped at dif because decompressors implement \"rolling\" index population\n          var ml = Math.min(258, rem);\n          while (dif <= maxd && --ch_1 && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              var nl = 0;\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl);\n              if (nl > l) {\n                l = nl, d = dif;\n                // break out early when we reach \"nice\" (we are satisfied enough)\n                if (nl > maxn) break;\n                // now, find the rarest 2-byte sequence within this\n                // length of literals and search for that instead.\n                // Much faster than just using the start\n                var mmd = Math.min(dif, nl - 2);\n                var md = 0;\n                for (var j = 0; j < mmd; ++j) {\n                  var ti = i - dif + j & 32767;\n                  var pti = prev[ti];\n                  var cd = ti - pti & 32767;\n                  if (cd > md) md = cd, pimod = ti;\n                }\n              }\n            }\n            // check the previous match\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod & 32767;\n          }\n        }\n        // d will be nonzero only when a match was found\n        if (d) {\n          // store both dist and len data in one int32\n          // Make sure this is recognized as a len/dist with 28th bit (2^28)\n          syms[li++] = 268435456 | revfl[l] << 18 | revfd[d];\n          var lin = revfl[l] & 31,\n            din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc_1;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n    for (i = Math.max(i, wi); i < s; ++i) {\n      syms[li++] = dat[i];\n      ++lf[dat[i]];\n    }\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n    if (!lst) {\n      st.r = pos & 7 | w[pos / 8 | 0] << 3;\n      // shft(pos) now 1 less if pos & 7 != 0\n      pos -= 7;\n      st.h = head, st.p = prev, st.i = i, st.w = wi;\n    }\n  } else {\n    for (var i = st.w || 0; i < s + lst; i += 65535) {\n      // end\n      var e = i + 65535;\n      if (e >= s) {\n        // write final block\n        w[pos / 8 | 0] = lst;\n        e = s;\n      }\n      pos = wfblk(w, pos + 1, dat.subarray(i, e));\n    }\n    st.i = s;\n  }\n  return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/function () {\n  var t = new Int32Array(256);\n  for (var i = 0; i < 256; ++i) {\n    var c = i,\n      k = 9;\n    while (--k) c = (c & 1 && -306674912) ^ c >>> 1;\n    t[i] = c;\n  }\n  return t;\n}();\n// CRC32\nvar crc = function () {\n  var c = -1;\n  return {\n    p: function (d) {\n      // closures have awful performance\n      var cr = c;\n      for (var i = 0; i < d.length; ++i) cr = crct[cr & 255 ^ d[i]] ^ cr >>> 8;\n      c = cr;\n    },\n    d: function () {\n      return ~c;\n    }\n  };\n};\n// Adler32\nvar adler = function () {\n  var a = 1,\n    b = 0;\n  return {\n    p: function (d) {\n      // closures have awful performance\n      var n = a,\n        m = b;\n      var l = d.length | 0;\n      for (var i = 0; i != l;) {\n        var e = Math.min(i + 2655, l);\n        for (; i < e; ++i) m += n += d[i];\n        n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n      }\n      a = n, b = m;\n    },\n    d: function () {\n      a %= 65521, b %= 65521;\n      return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | b >> 8;\n    }\n  };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n  if (!st) {\n    st = {\n      l: 1\n    };\n    if (opt.dictionary) {\n      var dict = opt.dictionary.subarray(-32768);\n      var newDat = new u8(dict.length + dat.length);\n      newDat.set(dict);\n      newDat.set(dat, dict.length);\n      dat = newDat;\n      st.w = dict.length;\n    }\n  }\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20 : 12 + opt.mem, pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n  var o = {};\n  for (var k in a) o[k] = a[k];\n  for (var k in b) o[k] = b[k];\n  return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n  var dt = fn();\n  var st = fn.toString();\n  var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n  for (var i = 0; i < dt.length; ++i) {\n    var v = dt[i],\n      k = ks[i];\n    if (typeof v == 'function') {\n      fnStr += ';' + k + '=';\n      var st_1 = v.toString();\n      if (v.prototype) {\n        // for global objects\n        if (st_1.indexOf('[native code]') != -1) {\n          var spInd = st_1.indexOf(' ', 8) + 1;\n          fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n        } else {\n          fnStr += st_1;\n          for (var t in v.prototype) fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n        }\n      } else fnStr += st_1;\n    } else td[k] = v;\n  }\n  return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n  var tl = [];\n  for (var k in v) {\n    if (v[k].buffer) {\n      tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n  }\n  return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n  if (!ch[id]) {\n    var fnStr = '',\n      td_1 = {},\n      m = fns.length - 1;\n    for (var i = 0; i < m; ++i) fnStr = wcln(fns[i], fnStr, td_1);\n    ch[id] = {\n      c: wcln(fns[m], fnStr, td_1),\n      e: td_1\n    };\n  }\n  var td = mrg({}, ch[id].e);\n  return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () {\n  return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt];\n};\nvar bDflt = function () {\n  return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf];\n};\n// gzip extra\nvar gze = function () {\n  return [gzh, gzhl, wbytes, crc, crct];\n};\n// gunzip extra\nvar guze = function () {\n  return [gzs, gzl];\n};\n// zlib extra\nvar zle = function () {\n  return [zlh, wbytes, adler];\n};\n// unzlib extra\nvar zule = function () {\n  return [zls];\n};\n// post buf\nvar pbf = function (msg) {\n  return postMessage(msg, [msg.buffer]);\n};\n// get opts\nvar gopt = function (o) {\n  return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n  };\n};\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n  var w = wrkr(fns, init, id, function (err, dat) {\n    w.terminate();\n    cb(err, dat);\n  });\n  w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n  return function () {\n    w.terminate();\n  };\n};\n// auto stream\nvar astrm = function (strm) {\n  strm.ondata = function (dat, final) {\n    return postMessage([dat, final], [dat.buffer]);\n  };\n  return function (ev) {\n    if (ev.data.length) {\n      strm.push(ev.data[0], ev.data[1]);\n      postMessage([ev.data[0].length]);\n    } else strm.flush();\n  };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n  var t;\n  var w = wrkr(fns, init, id, function (err, dat) {\n    if (err) w.terminate(), strm.ondata.call(strm, err);else if (!Array.isArray(dat)) ext(dat);else if (dat.length == 1) {\n      strm.queuedSize -= dat[0];\n      if (strm.ondrain) strm.ondrain(dat[0]);\n    } else {\n      if (dat[1]) w.terminate();\n      strm.ondata.call(strm, err, dat[0], dat[1]);\n    }\n  });\n  w.postMessage(opts);\n  strm.queuedSize = 0;\n  strm.push = function (d, f) {\n    if (!strm.ondata) err(5);\n    if (t) strm.ondata(err(4, 0, 1), null, !!f);\n    strm.queuedSize += d.length;\n    w.postMessage([d, t = f], [d.buffer]);\n  };\n  strm.terminate = function () {\n    w.terminate();\n  };\n  if (flush) {\n    strm.flush = function () {\n      w.postMessage([]);\n    };\n  }\n};\n// read 2 bytes\nvar b2 = function (d, b) {\n  return d[b] | d[b + 1] << 8;\n};\n// read 4 bytes\nvar b4 = function (d, b) {\n  return (d[b] | d[b + 1] << 8 | d[b + 2] << 16 | d[b + 3] << 24) >>> 0;\n};\nvar b8 = function (d, b) {\n  return b4(d, b) + b4(d, b + 4) * 4294967296;\n};\n// write bytes\nvar wbytes = function (d, b, v) {\n  for (; v; ++b) d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n  var fn = o.filename;\n  c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n  if (o.mtime != 0) wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n  if (fn) {\n    c[3] = 8;\n    for (var i = 0; i <= fn.length; ++i) c[i + 10] = fn.charCodeAt(i);\n  }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8) err(6, 'invalid gzip data');\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4) st += (d[10] | d[11] << 8) + 2;\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++]);\n  return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n  var l = d.length;\n  return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) {\n  return 10 + (o.filename ? o.filename.length + 1 : 0);\n};\n// zlib header\nvar zlh = function (c, o) {\n  var lv = o.level,\n    fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = fl << 6 | (o.dictionary && 32);\n  c[1] |= 31 - (c[0] << 8 | c[1]) % 31;\n  if (o.dictionary) {\n    var h = adler();\n    h.p(o.dictionary);\n    wbytes(c, 2, h.d());\n  }\n};\n// zlib start\nvar zls = function (d, dict) {\n  if ((d[0] & 15) != 8 || d[0] >> 4 > 7 || (d[0] << 8 | d[1]) % 31) err(6, 'invalid zlib data');\n  if ((d[1] >> 5 & 1) == +!dict) err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n  return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n  if (typeof opts == 'function') cb = opts, opts = {};\n  this.ondata = cb;\n  return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/function () {\n  function Deflate(opts, cb) {\n    if (typeof opts == 'function') cb = opts, opts = {};\n    this.ondata = cb;\n    this.o = opts || {};\n    this.s = {\n      l: 0,\n      i: 32768,\n      w: 32768,\n      z: 32768\n    };\n    // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n    // 98304 = 32768 (lookback) + 65536 (common chunk size)\n    this.b = new u8(98304);\n    if (this.o.dictionary) {\n      var dict = this.o.dictionary.subarray(-32768);\n      this.b.set(dict, 32768 - dict.length);\n      this.s.i = 32768 - dict.length;\n    }\n  }\n  Deflate.prototype.p = function (c, f) {\n    this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Deflate.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    if (this.s.l) err(4);\n    var endLen = chunk.length + this.s.z;\n    if (endLen > this.b.length) {\n      if (endLen > 2 * this.b.length - 32768) {\n        var newBuf = new u8(endLen & -32768);\n        newBuf.set(this.b.subarray(0, this.s.z));\n        this.b = newBuf;\n      }\n      var split = this.b.length - this.s.z;\n      this.b.set(chunk.subarray(0, split), this.s.z);\n      this.s.z = this.b.length;\n      this.p(this.b, false);\n      this.b.set(this.b.subarray(-32768));\n      this.b.set(chunk.subarray(split), 32768);\n      this.s.z = chunk.length - split + 32768;\n      this.s.i = 32766, this.s.w = 32768;\n    } else {\n      this.b.set(chunk, this.s.z);\n      this.s.z += chunk.length;\n    }\n    this.s.l = final & 1;\n    if (this.s.z > this.s.w + 8191 || final) {\n      this.p(this.b, final || false);\n      this.s.w = this.s.i, this.s.i -= 2;\n    }\n  };\n  /**\n   * Flushes buffered uncompressed data. Useful to immediately retrieve the\n   * deflated output for small inputs.\n   */\n  Deflate.prototype.flush = function () {\n    if (!this.ondata) err(5);\n    if (this.s.l) err(4);\n    this.p(this.b, false);\n    this.s.w = this.s.i, this.s.i -= 2;\n  };\n  return Deflate;\n}();\n\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/function () {\n  function AsyncDeflate(opts, cb) {\n    astrmify([bDflt, function () {\n      return [astrm, Deflate];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Deflate(ev.data);\n      onmessage = astrm(strm);\n    }, 6, 1);\n  }\n  return AsyncDeflate;\n}();\n\nfunction deflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bDflt], function (ev) {\n    return pbf(deflateSync(ev.data[0], ev.data[1]));\n  }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nfunction deflateSync(data, opts) {\n  return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/function () {\n  function Inflate(opts, cb) {\n    // no StrmOpt here to avoid adding to workerizer\n    if (typeof opts == 'function') cb = opts, opts = {};\n    this.ondata = cb;\n    var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n    this.s = {\n      i: 0,\n      b: dict ? dict.length : 0\n    };\n    this.o = new u8(32768);\n    this.p = new u8(0);\n    if (dict) this.o.set(dict);\n  }\n  Inflate.prototype.e = function (c) {\n    if (!this.ondata) err(5);\n    if (this.d) err(4);\n    if (!this.p.length) this.p = c;else if (c.length) {\n      var n = new u8(this.p.length + c.length);\n      n.set(this.p), n.set(c, this.p.length), this.p = n;\n    }\n  };\n  Inflate.prototype.c = function (final) {\n    this.s.i = +(this.d = final || false);\n    var bts = this.s.b;\n    var dt = inflt(this.p, this.s, this.o);\n    this.ondata(slc(dt, bts, this.s.b), this.d);\n    this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n    this.p = slc(this.p, this.s.p / 8 | 0), this.s.p &= 7;\n  };\n  /**\n   * Pushes a chunk to be inflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the final chunk\n   */\n  Inflate.prototype.push = function (chunk, final) {\n    this.e(chunk), this.c(final);\n  };\n  return Inflate;\n}();\n\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/function () {\n  function AsyncInflate(opts, cb) {\n    astrmify([bInflt, function () {\n      return [astrm, Inflate];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Inflate(ev.data);\n      onmessage = astrm(strm);\n    }, 7, 0);\n  }\n  return AsyncInflate;\n}();\n\nfunction inflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bInflt], function (ev) {\n    return pbf(inflateSync(ev.data[0], gopt(ev.data[1])));\n  }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction inflateSync(data, opts) {\n  return inflt(data, {\n    i: 2\n  }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/function () {\n  function Gzip(opts, cb) {\n    this.c = crc();\n    this.l = 0;\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be GZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Gzip.prototype.push = function (chunk, final) {\n    this.c.p(chunk);\n    this.l += chunk.length;\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n  Gzip.prototype.p = function (c, f) {\n    var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n    if (this.v) gzh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n    this.ondata(raw, f);\n  };\n  /**\n   * Flushes buffered uncompressed data. Useful to immediately retrieve the\n   * GZIPped output for small inputs.\n   */\n  Gzip.prototype.flush = function () {\n    Deflate.prototype.flush.call(this);\n  };\n  return Gzip;\n}();\n\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/function () {\n  function AsyncGzip(opts, cb) {\n    astrmify([bDflt, gze, function () {\n      return [astrm, Deflate, Gzip];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Gzip(ev.data);\n      onmessage = astrm(strm);\n    }, 8, 1);\n  }\n  return AsyncGzip;\n}();\n\nfunction gzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bDflt, gze, function () {\n    return [gzipSync];\n  }], function (ev) {\n    return pbf(gzipSync(ev.data[0], ev.data[1]));\n  }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nfunction gzipSync(data, opts) {\n  if (!opts) opts = {};\n  var c = crc(),\n    l = data.length;\n  c.p(data);\n  var d = dopt(data, opts, gzhl(opts), 8),\n    s = d.length;\n  return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/function () {\n  function Gunzip(opts, cb) {\n    this.v = 1;\n    this.r = 0;\n    Inflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be GUNZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Gunzip.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n    this.r += chunk.length;\n    if (this.v) {\n      var p = this.p.subarray(this.v - 1);\n      var s = p.length > 3 ? gzs(p) : 4;\n      if (s > p.length) {\n        if (!final) return;\n      } else if (this.v > 1 && this.onmember) {\n        this.onmember(this.r - p.length);\n      }\n      this.p = p.subarray(s), this.v = 0;\n    }\n    // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n    Inflate.prototype.c.call(this, final);\n    // process concatenated GZIP\n    if (this.s.f && !this.s.l && !final) {\n      this.v = shft(this.s.p) + 9;\n      this.s = {\n        i: 0\n      };\n      this.o = new u8(0);\n      this.push(new u8(0), final);\n    }\n  };\n  return Gunzip;\n}();\n\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/function () {\n  function AsyncGunzip(opts, cb) {\n    var _this = this;\n    astrmify([bInflt, guze, function () {\n      return [astrm, Inflate, Gunzip];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Gunzip(ev.data);\n      strm.onmember = function (offset) {\n        return postMessage(offset);\n      };\n      onmessage = astrm(strm);\n    }, 9, 0, function (offset) {\n      return _this.onmember && _this.onmember(offset);\n    });\n  }\n  return AsyncGunzip;\n}();\n\nfunction gunzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bInflt, guze, function () {\n    return [gunzipSync];\n  }], function (ev) {\n    return pbf(gunzipSync(ev.data[0], ev.data[1]));\n  }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction gunzipSync(data, opts) {\n  var st = gzs(data);\n  if (st + 8 > data.length) err(6, 'invalid gzip data');\n  return inflt(data.subarray(st, -8), {\n    i: 2\n  }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/function () {\n  function Zlib(opts, cb) {\n    this.c = adler();\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be zlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Zlib.prototype.push = function (chunk, final) {\n    this.c.p(chunk);\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n  Zlib.prototype.p = function (c, f) {\n    var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n    if (this.v) zlh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 4, this.c.d());\n    this.ondata(raw, f);\n  };\n  /**\n   * Flushes buffered uncompressed data. Useful to immediately retrieve the\n   * zlibbed output for small inputs.\n   */\n  Zlib.prototype.flush = function () {\n    Deflate.prototype.flush.call(this);\n  };\n  return Zlib;\n}();\n\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/function () {\n  function AsyncZlib(opts, cb) {\n    astrmify([bDflt, zle, function () {\n      return [astrm, Deflate, Zlib];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Zlib(ev.data);\n      onmessage = astrm(strm);\n    }, 10, 1);\n  }\n  return AsyncZlib;\n}();\n\nfunction zlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bDflt, zle, function () {\n    return [zlibSync];\n  }], function (ev) {\n    return pbf(zlibSync(ev.data[0], ev.data[1]));\n  }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nfunction zlibSync(data, opts) {\n  if (!opts) opts = {};\n  var a = adler();\n  a.p(data);\n  var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/function () {\n  function Unzlib(opts, cb) {\n    Inflate.call(this, opts, cb);\n    this.v = opts && opts.dictionary ? 2 : 1;\n  }\n  /**\n   * Pushes a chunk to be unzlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Unzlib.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n    if (this.v) {\n      if (this.p.length < 6 && !final) return;\n      this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n    }\n    if (final) {\n      if (this.p.length < 4) err(6, 'invalid zlib data');\n      this.p = this.p.subarray(0, -4);\n    }\n    // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n    Inflate.prototype.c.call(this, final);\n  };\n  return Unzlib;\n}();\n\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/function () {\n  function AsyncUnzlib(opts, cb) {\n    astrmify([bInflt, zule, function () {\n      return [astrm, Inflate, Unzlib];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Unzlib(ev.data);\n      onmessage = astrm(strm);\n    }, 11, 0);\n  }\n  return AsyncUnzlib;\n}();\n\nfunction unzlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bInflt, zule, function () {\n    return [unzlibSync];\n  }], function (ev) {\n    return pbf(unzlibSync(ev.data[0], gopt(ev.data[1])));\n  }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction unzlibSync(data, opts) {\n  return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), {\n    i: 2\n  }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\n\n\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/function () {\n  function Decompress(opts, cb) {\n    this.o = StrmOpt.call(this, opts, cb) || {};\n    this.G = Gunzip;\n    this.I = Inflate;\n    this.Z = Unzlib;\n  }\n  // init substream\n  // overriden by AsyncDecompress\n  Decompress.prototype.i = function () {\n    var _this = this;\n    this.s.ondata = function (dat, final) {\n      _this.ondata(dat, final);\n    };\n  };\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Decompress.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    if (!this.s) {\n      if (this.p && this.p.length) {\n        var n = new u8(this.p.length + chunk.length);\n        n.set(this.p), n.set(chunk, this.p.length);\n      } else this.p = chunk;\n      if (this.p.length > 2) {\n        this.s = this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8 ? new this.G(this.o) : (this.p[0] & 15) != 8 || this.p[0] >> 4 > 7 || (this.p[0] << 8 | this.p[1]) % 31 ? new this.I(this.o) : new this.Z(this.o);\n        this.i();\n        this.s.push(this.p, final);\n        this.p = null;\n      }\n    } else this.s.push(chunk, final);\n  };\n  return Decompress;\n}();\n\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/function () {\n  function AsyncDecompress(opts, cb) {\n    Decompress.call(this, opts, cb);\n    this.queuedSize = 0;\n    this.G = AsyncGunzip;\n    this.I = AsyncInflate;\n    this.Z = AsyncUnzlib;\n  }\n  AsyncDecompress.prototype.i = function () {\n    var _this = this;\n    this.s.ondata = function (err, dat, final) {\n      _this.ondata(err, dat, final);\n    };\n    this.s.ondrain = function (size) {\n      _this.queuedSize -= size;\n      if (_this.ondrain) _this.ondrain(size);\n    };\n  };\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  AsyncDecompress.prototype.push = function (chunk, final) {\n    this.queuedSize += chunk.length;\n    Decompress.prototype.push.call(this, chunk, final);\n  };\n  return AsyncDecompress;\n}();\n\nfunction decompress(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzip(data, opts, cb) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflate(data, opts, cb) : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nfunction decompressSync(data, opts) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, opts) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, opts) : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n  for (var k in d) {\n    var val = d[k],\n      n = p + k,\n      op = o;\n    if (Array.isArray(val)) op = mrg(o, val[1]), val = val[0];\n    if (val instanceof u8) t[n] = [val, op];else {\n      t[n += '/'] = [new u8(0), op];\n      fltn(val, n, t, o);\n    }\n  }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n  td.decode(et, {\n    stream: true\n  });\n  tds = 1;\n} catch (e) {}\n// decode UTF8\nvar dutf8 = function (d) {\n  for (var r = '', i = 0;;) {\n    var c = d[i++];\n    var eb = (c > 127) + (c > 223) + (c > 239);\n    if (i + eb > d.length) return {\n      s: r,\n      r: slc(d, i - 1)\n    };\n    if (!eb) r += String.fromCharCode(c);else if (eb == 3) {\n      c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n    } else if (eb & 1) r += String.fromCharCode((c & 31) << 6 | d[i++] & 63);else r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);\n  }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/function () {\n  /**\n   * Creates a UTF-8 decoding stream\n   * @param cb The callback to call whenever data is decoded\n   */\n  function DecodeUTF8(cb) {\n    this.ondata = cb;\n    if (tds) this.t = new TextDecoder();else this.p = et;\n  }\n  /**\n   * Pushes a chunk to be decoded from UTF-8 binary\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  DecodeUTF8.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    final = !!final;\n    if (this.t) {\n      this.ondata(this.t.decode(chunk, {\n        stream: true\n      }), final);\n      if (final) {\n        if (this.t.decode().length) err(8);\n        this.t = null;\n      }\n      return;\n    }\n    if (!this.p) err(4);\n    var dat = new u8(this.p.length + chunk.length);\n    dat.set(this.p);\n    dat.set(chunk, this.p.length);\n    var _a = dutf8(dat),\n      s = _a.s,\n      r = _a.r;\n    if (final) {\n      if (r.length) err(8);\n      this.p = null;\n    } else this.p = r;\n    this.ondata(s, final);\n  };\n  return DecodeUTF8;\n}();\n\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/function () {\n  /**\n   * Creates a UTF-8 decoding stream\n   * @param cb The callback to call whenever data is encoded\n   */\n  function EncodeUTF8(cb) {\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be encoded to UTF-8\n   * @param chunk The string data to push\n   * @param final Whether this is the last chunk\n   */\n  EncodeUTF8.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    if (this.d) err(4);\n    this.ondata(strToU8(chunk), this.d = final || false);\n  };\n  return EncodeUTF8;\n}();\n\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nfunction strToU8(str, latin1) {\n  if (latin1) {\n    var ar_1 = new u8(str.length);\n    for (var i = 0; i < str.length; ++i) ar_1[i] = str.charCodeAt(i);\n    return ar_1;\n  }\n  if (te) return te.encode(str);\n  var l = str.length;\n  var ar = new u8(str.length + (str.length >> 1));\n  var ai = 0;\n  var w = function (v) {\n    ar[ai++] = v;\n  };\n  for (var i = 0; i < l; ++i) {\n    if (ai + 5 > ar.length) {\n      var n = new u8(ai + 8 + (l - i << 1));\n      n.set(ar);\n      ar = n;\n    }\n    var c = str.charCodeAt(i);\n    if (c < 128 || latin1) w(c);else if (c < 2048) w(192 | c >> 6), w(128 | c & 63);else if (c > 55295 && c < 57344) c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023, w(240 | c >> 18), w(128 | c >> 12 & 63), w(128 | c >> 6 & 63), w(128 | c & 63);else w(224 | c >> 12), w(128 | c >> 6 & 63), w(128 | c & 63);\n  }\n  return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nfunction strFromU8(dat, latin1) {\n  if (latin1) {\n    var r = '';\n    for (var i = 0; i < dat.length; i += 16384) r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n    return r;\n  } else if (td) {\n    return td.decode(dat);\n  } else {\n    var _a = dutf8(dat),\n      s = _a.s,\n      r = _a.r;\n    if (r.length) err(8);\n    return s;\n  }\n}\n;\n// deflate bit flag\nvar dbf = function (l) {\n  return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0;\n};\n// skip local zip header\nvar slzh = function (d, b) {\n  return b + 30 + b2(d, b + 26) + b2(d, b + 28);\n};\n// read zip header\nvar zh = function (d, b, z) {\n  var fnl = b2(d, b + 28),\n    fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)),\n    es = b + 46 + fnl,\n    bs = b4(d, b + 20);\n  var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)],\n    sc = _a[0],\n    su = _a[1],\n    off = _a[2];\n  return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n  for (; b2(d, b) != 1; b += 4 + b2(d, b + 2));\n  return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n  var le = 0;\n  if (ex) {\n    for (var k in ex) {\n      var l = ex[k].length;\n      if (l > 65535) err(9);\n      le += l + 4;\n    }\n  }\n  return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n  var fl = fn.length,\n    ex = f.extra,\n    col = co && co.length;\n  var exl = exfl(ex);\n  wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n  if (ce != null) d[b++] = 20, d[b++] = f.os;\n  d[b] = 20, b += 2; // spec compliance? what's that?\n  d[b++] = f.flag << 1 | (c < 0 && 8), d[b++] = u && 8;\n  d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n  var dt = new Date(f.mtime == null ? Date.now() : f.mtime),\n    y = dt.getFullYear() - 1980;\n  if (y < 0 || y > 119) err(10);\n  wbytes(d, b, y << 25 | dt.getMonth() + 1 << 21 | dt.getDate() << 16 | dt.getHours() << 11 | dt.getMinutes() << 5 | dt.getSeconds() >> 1), b += 4;\n  if (c != -1) {\n    wbytes(d, b, f.crc);\n    wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n    wbytes(d, b + 8, f.size);\n  }\n  wbytes(d, b + 12, fl);\n  wbytes(d, b + 14, exl), b += 16;\n  if (ce != null) {\n    wbytes(d, b, col);\n    wbytes(d, b + 6, f.attrs);\n    wbytes(d, b + 10, ce), b += 14;\n  }\n  d.set(fn, b);\n  b += fl;\n  if (exl) {\n    for (var k in ex) {\n      var exf = ex[k],\n        l = exf.length;\n      wbytes(d, b, +k);\n      wbytes(d, b + 2, l);\n      d.set(exf, b + 4), b += 4 + l;\n    }\n  }\n  if (col) d.set(co, b), b += col;\n  return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n  wbytes(o, b, 0x6054B50); // skip disk\n  wbytes(o, b + 8, c);\n  wbytes(o, b + 10, c);\n  wbytes(o, b + 12, d);\n  wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/function () {\n  /**\n   * Creates a pass-through stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   */\n  function ZipPassThrough(filename) {\n    this.filename = filename;\n    this.c = crc();\n    this.size = 0;\n    this.compression = 0;\n  }\n  /**\n   * Processes a chunk and pushes to the output stream. You can override this\n   * method in a subclass for custom behavior, but by default this passes\n   * the data through. You must call this.ondata(err, chunk, final) at some\n   * point in this method.\n   * @param chunk The chunk to process\n   * @param final Whether this is the last chunk\n   */\n  ZipPassThrough.prototype.process = function (chunk, final) {\n    this.ondata(null, chunk, final);\n  };\n  /**\n   * Pushes a chunk to be added. If you are subclassing this with a custom\n   * compression algorithm, note that you must push data from the source\n   * file only, pre-compression.\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  ZipPassThrough.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    this.c.p(chunk);\n    this.size += chunk.length;\n    if (final) this.crc = this.c.d();\n    this.process(chunk, final || false);\n  };\n  return ZipPassThrough;\n}();\n\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/function () {\n  /**\n   * Creates a DEFLATE stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   * @param opts The compression options\n   */\n  function ZipDeflate(filename, opts) {\n    var _this = this;\n    if (!opts) opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new Deflate(opts, function (dat, final) {\n      _this.ondata(null, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n  }\n  ZipDeflate.prototype.process = function (chunk, final) {\n    try {\n      this.d.push(chunk, final);\n    } catch (e) {\n      this.ondata(e, null, final);\n    }\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  ZipDeflate.prototype.push = function (chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n  return ZipDeflate;\n}();\n\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/function () {\n  /**\n   * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   * @param opts The compression options\n   */\n  function AsyncZipDeflate(filename, opts) {\n    var _this = this;\n    if (!opts) opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new AsyncDeflate(opts, function (err, dat, final) {\n      _this.ondata(err, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n    this.terminate = this.d.terminate;\n  }\n  AsyncZipDeflate.prototype.process = function (chunk, final) {\n    this.d.push(chunk, final);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  AsyncZipDeflate.prototype.push = function (chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n  return AsyncZipDeflate;\n}();\n\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/function () {\n  /**\n   * Creates an empty ZIP archive to which files can be added\n   * @param cb The callback to call whenever data for the generated ZIP archive\n   *           is available\n   */\n  function Zip(cb) {\n    this.ondata = cb;\n    this.u = [];\n    this.d = 1;\n  }\n  /**\n   * Adds a file to the ZIP archive\n   * @param file The file stream to add\n   */\n  Zip.prototype.add = function (file) {\n    var _this = this;\n    if (!this.ondata) err(5);\n    // finishing or finished\n    if (this.d & 2) this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);else {\n      var f = strToU8(file.filename),\n        fl_1 = f.length;\n      var com = file.comment,\n        o = com && strToU8(com);\n      var u = fl_1 != file.filename.length || o && com.length != o.length;\n      var hl_1 = fl_1 + exfl(file.extra) + 30;\n      if (fl_1 > 65535) this.ondata(err(11, 0, 1), null, false);\n      var header = new u8(hl_1);\n      wzh(header, 0, file, f, u, -1);\n      var chks_1 = [header];\n      var pAll_1 = function () {\n        for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n          var chk = chks_2[_i];\n          _this.ondata(null, chk, false);\n        }\n        chks_1 = [];\n      };\n      var tr_1 = this.d;\n      this.d = 0;\n      var ind_1 = this.u.length;\n      var uf_1 = mrg(file, {\n        f: f,\n        u: u,\n        o: o,\n        t: function () {\n          if (file.terminate) file.terminate();\n        },\n        r: function () {\n          pAll_1();\n          if (tr_1) {\n            var nxt = _this.u[ind_1 + 1];\n            if (nxt) nxt.r();else _this.d = 1;\n          }\n          tr_1 = 1;\n        }\n      });\n      var cl_1 = 0;\n      file.ondata = function (err, dat, final) {\n        if (err) {\n          _this.ondata(err, dat, final);\n          _this.terminate();\n        } else {\n          cl_1 += dat.length;\n          chks_1.push(dat);\n          if (final) {\n            var dd = new u8(16);\n            wbytes(dd, 0, 0x8074B50);\n            wbytes(dd, 4, file.crc);\n            wbytes(dd, 8, cl_1);\n            wbytes(dd, 12, file.size);\n            chks_1.push(dd);\n            uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n            if (tr_1) uf_1.r();\n            tr_1 = 1;\n          } else if (tr_1) pAll_1();\n        }\n      };\n      this.u.push(uf_1);\n    }\n  };\n  /**\n   * Ends the process of adding files and prepares to emit the final chunks.\n   * This *must* be called after adding all desired files for the resulting\n   * ZIP file to work properly.\n   */\n  Zip.prototype.end = function () {\n    var _this = this;\n    if (this.d & 2) {\n      this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n      return;\n    }\n    if (this.d) this.e();else this.u.push({\n      r: function () {\n        if (!(_this.d & 1)) return;\n        _this.u.splice(-1, 1);\n        _this.e();\n      },\n      t: function () {}\n    });\n    this.d = 3;\n  };\n  Zip.prototype.e = function () {\n    var bt = 0,\n      l = 0,\n      tl = 0;\n    for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n      var f = _a[_i];\n      tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n    }\n    var out = new u8(tl + 22);\n    for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n      var f = _c[_b];\n      wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n      bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n    }\n    wzf(out, bt, this.u.length, tl, l);\n    this.ondata(null, out, true);\n    this.d = 2;\n  };\n  /**\n   * A method to terminate any internal workers used by the stream. Subsequent\n   * calls to add() will fail.\n   */\n  Zip.prototype.terminate = function () {\n    for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n      var f = _a[_i];\n      f.t();\n    }\n    this.d = 2;\n  };\n  return Zip;\n}();\n\nfunction zip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  var r = {};\n  fltn(data, '', r, opts);\n  var k = Object.keys(r);\n  var lft = k.length,\n    o = 0,\n    tot = 0;\n  var slft = lft,\n    files = new Array(lft);\n  var term = [];\n  var tAll = function () {\n    for (var i = 0; i < term.length; ++i) term[i]();\n  };\n  var cbd = function (a, b) {\n    mt(function () {\n      cb(a, b);\n    });\n  };\n  mt(function () {\n    cbd = cb;\n  });\n  var cbf = function () {\n    var out = new u8(tot + 22),\n      oe = o,\n      cdl = tot - o;\n    tot = 0;\n    for (var i = 0; i < slft; ++i) {\n      var f = files[i];\n      try {\n        var l = f.c.length;\n        wzh(out, tot, f, f.f, f.u, l);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        var loc = tot + badd;\n        out.set(f.c, loc);\n        wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n      } catch (e) {\n        return cbd(e, null);\n      }\n    }\n    wzf(out, o, files.length, cdl, oe);\n    cbd(null, out);\n  };\n  if (!lft) cbf();\n  var _loop_1 = function (i) {\n    var fn = k[i];\n    var _a = r[fn],\n      file = _a[0],\n      p = _a[1];\n    var c = crc(),\n      size = file.length;\n    c.p(file);\n    var f = strToU8(fn),\n      s = f.length;\n    var com = p.comment,\n      m = com && strToU8(com),\n      ms = m && m.length;\n    var exl = exfl(p.extra);\n    var compression = p.level == 0 ? 0 : 8;\n    var cbl = function (e, d) {\n      if (e) {\n        tAll();\n        cbd(e, null);\n      } else {\n        var l = d.length;\n        files[i] = mrg(p, {\n          size: size,\n          crc: c.d(),\n          c: d,\n          f: f,\n          m: m,\n          u: s != fn.length || m && com.length != ms,\n          compression: compression\n        });\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n        if (! --lft) cbf();\n      }\n    };\n    if (s > 65535) cbl(err(11, 0, 1), null);\n    if (!compression) cbl(null, file);else if (size < 160000) {\n      try {\n        cbl(null, deflateSync(file, p));\n      } catch (e) {\n        cbl(e, null);\n      }\n    } else term.push(deflate(file, p, cbl));\n  };\n  // Cannot use lft because it can decrease\n  for (var i = 0; i < slft; ++i) {\n    _loop_1(i);\n  }\n  return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nfunction zipSync(data, opts) {\n  if (!opts) opts = {};\n  var r = {};\n  var files = [];\n  fltn(data, '', r, opts);\n  var o = 0;\n  var tot = 0;\n  for (var fn in r) {\n    var _a = r[fn],\n      file = _a[0],\n      p = _a[1];\n    var compression = p.level == 0 ? 0 : 8;\n    var f = strToU8(fn),\n      s = f.length;\n    var com = p.comment,\n      m = com && strToU8(com),\n      ms = m && m.length;\n    var exl = exfl(p.extra);\n    if (s > 65535) err(11);\n    var d = compression ? deflateSync(file, p) : file,\n      l = d.length;\n    var c = crc();\n    c.p(file);\n    files.push(mrg(p, {\n      size: file.length,\n      crc: c.d(),\n      c: d,\n      f: f,\n      m: m,\n      u: s != fn.length || m && com.length != ms,\n      o: o,\n      compression: compression\n    }));\n    o += 30 + s + exl + l;\n    tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n  }\n  var out = new u8(tot + 22),\n    oe = o,\n    cdl = tot - o;\n  for (var i = 0; i < files.length; ++i) {\n    var f = files[i];\n    wzh(out, f.o, f, f.f, f.u, f.c.length);\n    var badd = 30 + f.f.length + exfl(f.extra);\n    out.set(f.c, f.o + badd);\n    wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n  }\n  wzf(out, o, files.length, cdl, oe);\n  return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/function () {\n  function UnzipPassThrough() {}\n  UnzipPassThrough.prototype.push = function (data, final) {\n    this.ondata(null, data, final);\n  };\n  UnzipPassThrough.compression = 0;\n  return UnzipPassThrough;\n}();\n\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/function () {\n  /**\n   * Creates a DEFLATE decompression that can be used in ZIP archives\n   */\n  function UnzipInflate() {\n    var _this = this;\n    this.i = new Inflate(function (dat, final) {\n      _this.ondata(null, dat, final);\n    });\n  }\n  UnzipInflate.prototype.push = function (data, final) {\n    try {\n      this.i.push(data, final);\n    } catch (e) {\n      this.ondata(e, null, final);\n    }\n  };\n  UnzipInflate.compression = 8;\n  return UnzipInflate;\n}();\n\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/function () {\n  /**\n   * Creates a DEFLATE decompression that can be used in ZIP archives\n   */\n  function AsyncUnzipInflate(_, sz) {\n    var _this = this;\n    if (sz < 320000) {\n      this.i = new Inflate(function (dat, final) {\n        _this.ondata(null, dat, final);\n      });\n    } else {\n      this.i = new AsyncInflate(function (err, dat, final) {\n        _this.ondata(err, dat, final);\n      });\n      this.terminate = this.i.terminate;\n    }\n  }\n  AsyncUnzipInflate.prototype.push = function (data, final) {\n    if (this.i.terminate) data = slc(data, 0);\n    this.i.push(data, final);\n  };\n  AsyncUnzipInflate.compression = 8;\n  return AsyncUnzipInflate;\n}();\n\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/function () {\n  /**\n   * Creates a ZIP decompression stream\n   * @param cb The callback to call whenever a file in the ZIP archive is found\n   */\n  function Unzip(cb) {\n    this.onfile = cb;\n    this.k = [];\n    this.o = {\n      0: UnzipPassThrough\n    };\n    this.p = et;\n  }\n  /**\n   * Pushes a chunk to be unzipped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Unzip.prototype.push = function (chunk, final) {\n    var _this = this;\n    if (!this.onfile) err(5);\n    if (!this.p) err(4);\n    if (this.c > 0) {\n      var len = Math.min(this.c, chunk.length);\n      var toAdd = chunk.subarray(0, len);\n      this.c -= len;\n      if (this.d) this.d.push(toAdd, !this.c);else this.k[0].push(toAdd);\n      chunk = chunk.subarray(len);\n      if (chunk.length) return this.push(chunk, final);\n    } else {\n      var f = 0,\n        i = 0,\n        is = void 0,\n        buf = void 0;\n      if (!this.p.length) buf = chunk;else if (!chunk.length) buf = this.p;else {\n        buf = new u8(this.p.length + chunk.length);\n        buf.set(this.p), buf.set(chunk, this.p.length);\n      }\n      var l = buf.length,\n        oc = this.c,\n        add = oc && this.d;\n      var _loop_2 = function () {\n        var _a;\n        var sig = b4(buf, i);\n        if (sig == 0x4034B50) {\n          f = 1, is = i;\n          this_1.d = null;\n          this_1.c = 0;\n          var bf = b2(buf, i + 6),\n            cmp_1 = b2(buf, i + 8),\n            u = bf & 2048,\n            dd = bf & 8,\n            fnl = b2(buf, i + 26),\n            es = b2(buf, i + 28);\n          if (l > i + 30 + fnl + es) {\n            var chks_3 = [];\n            this_1.k.unshift(chks_3);\n            f = 2;\n            var sc_1 = b4(buf, i + 18),\n              su_1 = b4(buf, i + 22);\n            var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n            if (sc_1 == 4294967295) {\n              _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n            } else if (dd) sc_1 = -1;\n            i += es;\n            this_1.c = sc_1;\n            var d_1;\n            var file_1 = {\n              name: fn_1,\n              compression: cmp_1,\n              start: function () {\n                if (!file_1.ondata) err(5);\n                if (!sc_1) file_1.ondata(null, et, true);else {\n                  var ctr = _this.o[cmp_1];\n                  if (!ctr) file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                  d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                  d_1.ondata = function (err, dat, final) {\n                    file_1.ondata(err, dat, final);\n                  };\n                  for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                    var dat = chks_4[_i];\n                    d_1.push(dat, false);\n                  }\n                  if (_this.k[0] == chks_3 && _this.c) _this.d = d_1;else d_1.push(et, true);\n                }\n              },\n              terminate: function () {\n                if (d_1 && d_1.terminate) d_1.terminate();\n              }\n            };\n            if (sc_1 >= 0) file_1.size = sc_1, file_1.originalSize = su_1;\n            this_1.onfile(file_1);\n          }\n          return \"break\";\n        } else if (oc) {\n          if (sig == 0x8074B50) {\n            is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n            return \"break\";\n          } else if (sig == 0x2014B50) {\n            is = i -= 4, f = 3, this_1.c = 0;\n            return \"break\";\n          }\n        }\n      };\n      var this_1 = this;\n      for (; i < l - 4; ++i) {\n        var state_1 = _loop_2();\n        if (state_1 === \"break\") break;\n      }\n      this.p = et;\n      if (oc < 0) {\n        var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n        if (add) add.push(dat, !!f);else this.k[+(f == 2)].push(dat);\n      }\n      if (f & 2) return this.push(buf.subarray(i), final);\n      this.p = buf.subarray(i);\n    }\n    if (final) {\n      if (this.c) err(13);\n      this.p = null;\n    }\n  };\n  /**\n   * Registers a decoder with the stream, allowing for files compressed with\n   * the compression type provided to be expanded correctly\n   * @param decoder The decoder constructor\n   */\n  Unzip.prototype.register = function (decoder) {\n    this.o[decoder.compression] = decoder;\n  };\n  return Unzip;\n}();\n\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) {\n  fn();\n};\nfunction unzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  var term = [];\n  var tAll = function () {\n    for (var i = 0; i < term.length; ++i) term[i]();\n  };\n  var files = {};\n  var cbd = function (a, b) {\n    mt(function () {\n      cb(a, b);\n    });\n  };\n  mt(function () {\n    cbd = cb;\n  });\n  var e = data.length - 22;\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) {\n      cbd(err(13, 0, 1), null);\n      return tAll;\n    }\n  }\n  ;\n  var lft = b2(data, e + 8);\n  if (lft) {\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n      var ze = b4(data, e - 12);\n      z = b4(data, ze) == 0x6064B50;\n      if (z) {\n        c = lft = b4(data, ze + 32);\n        o = b4(data, ze + 48);\n      }\n    }\n    var fltr = opts && opts.filter;\n    var _loop_3 = function (i) {\n      var _a = zh(data, o, z),\n        c_1 = _a[0],\n        sc = _a[1],\n        su = _a[2],\n        fn = _a[3],\n        no = _a[4],\n        off = _a[5],\n        b = slzh(data, off);\n      o = no;\n      var cbl = function (e, d) {\n        if (e) {\n          tAll();\n          cbd(e, null);\n        } else {\n          if (d) files[fn] = d;\n          if (! --lft) cbd(null, files);\n        }\n      };\n      if (!fltr || fltr({\n        name: fn,\n        size: sc,\n        originalSize: su,\n        compression: c_1\n      })) {\n        if (!c_1) cbl(null, slc(data, b, b + sc));else if (c_1 == 8) {\n          var infl = data.subarray(b, b + sc);\n          // Synchronously decompress under 512KB, or barely-compressed data\n          if (su < 524288 || sc > 0.8 * su) {\n            try {\n              cbl(null, inflateSync(infl, {\n                out: new u8(su)\n              }));\n            } catch (e) {\n              cbl(e, null);\n            }\n          } else term.push(inflate(infl, {\n            size: su\n          }, cbl));\n        } else cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n      } else cbl(null, null);\n    };\n    for (var i = 0; i < c; ++i) {\n      _loop_3(i);\n    }\n  } else cbd(null, {});\n  return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nfunction unzipSync(data, opts) {\n  var files = {};\n  var e = data.length - 22;\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) err(13);\n  }\n  ;\n  var c = b2(data, e + 8);\n  if (!c) return {};\n  var o = b4(data, e + 16);\n  var z = o == 4294967295 || c == 65535;\n  if (z) {\n    var ze = b4(data, e - 12);\n    z = b4(data, ze) == 0x6064B50;\n    if (z) {\n      c = b4(data, ze + 32);\n      o = b4(data, ze + 48);\n    }\n  }\n  var fltr = opts && opts.filter;\n  for (var i = 0; i < c; ++i) {\n    var _a = zh(data, o, z),\n      c_2 = _a[0],\n      sc = _a[1],\n      su = _a[2],\n      fn = _a[3],\n      no = _a[4],\n      off = _a[5],\n      b = slzh(data, off);\n    o = no;\n    if (!fltr || fltr({\n      name: fn,\n      size: sc,\n      originalSize: su,\n      compression: c_2\n    })) {\n      if (!c_2) files[fn] = slc(data, b, b + sc);else if (c_2 == 8) files[fn] = inflateSync(data.subarray(b, b + sc), {\n        out: new u8(su)\n      });else err(14, 'unknown compression type ' + c_2);\n    }\n  }\n  return files;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbDJwZGYuanMvbm9kZV9tb2R1bGVzL2ZmbGF0ZS9lc20vYnJvd3Nlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2h0bWwycGRmLmpzL25vZGVfbW9kdWxlcy9mZmxhdGUvZXNtL2Jyb3dzZXIuanM/NTIzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBERUZMQVRFIGlzIGEgY29tcGxleCBmb3JtYXQ7IHRvIHJlYWQgdGhpcyBjb2RlLCB5b3Ugc2hvdWxkIHByb2JhYmx5IGNoZWNrIHRoZSBSRkMgZmlyc3Q6XG4vLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTk1MVxuLy8gWW91IG1heSBhbHNvIHdpc2ggdG8gdGFrZSBhIGxvb2sgYXQgdGhlIGd1aWRlIEkgbWFkZSBhYm91dCB0aGlzIHByb2dyYW06XG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDFhcnJvd3ovMjUzZjMxZWI1YWJjM2Q5Mjc1YWI5NDMwMDNmZmVjYWRcbi8vIFNvbWUgb2YgdGhlIGZvbGxvd2luZyBjb2RlIGlzIHNpbWlsYXIgdG8gdGhhdCBvZiBVWklQLmpzOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvcGVhL1VaSVAuanNcbi8vIEhvd2V2ZXIsIHRoZSB2YXN0IG1ham9yaXR5IG9mIHRoZSBjb2RlYmFzZSBoYXMgZGl2ZXJnZWQgZnJvbSBVWklQLmpzIHRvIGluY3JlYXNlIHBlcmZvcm1hbmNlIGFuZCByZWR1Y2UgYnVuZGxlIHNpemUuXG4vLyBTb21ldGltZXMgMCB3aWxsIGFwcGVhciB3aGVyZSAtMSB3b3VsZCBiZSBtb3JlIGFwcHJvcHJpYXRlLiBUaGlzIGlzIGJlY2F1c2UgdXNpbmcgYSB1aW50XG4vLyBpcyBiZXR0ZXIgZm9yIG1lbW9yeSBpbiBtb3N0IGVuZ2luZXMgKEkgKnRoaW5rKikuXG52YXIgY2gyID0ge307XG52YXIgd2sgPSAoZnVuY3Rpb24gKGMsIGlkLCBtc2csIHRyYW5zZmVyLCBjYikge1xuICAgIHZhciB3ID0gbmV3IFdvcmtlcihjaDJbaWRdIHx8IChjaDJbaWRdID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbXG4gICAgICAgIGMgKyAnO2FkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGZ1bmN0aW9uKGUpe2U9ZS5lcnJvcjtwb3N0TWVzc2FnZSh7JGUkOltlLm1lc3NhZ2UsZS5jb2RlLGUuc3RhY2tdfSl9KSdcbiAgICBdLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pKSkpO1xuICAgIHcub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGQgPSBlLmRhdGEsIGVkID0gZC4kZSQ7XG4gICAgICAgIGlmIChlZCkge1xuICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihlZFswXSk7XG4gICAgICAgICAgICBlcnJbJ2NvZGUnXSA9IGVkWzFdO1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gZWRbMl07XG4gICAgICAgICAgICBjYihlcnIsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNiKG51bGwsIGQpO1xuICAgIH07XG4gICAgdy5wb3N0TWVzc2FnZShtc2csIHRyYW5zZmVyKTtcbiAgICByZXR1cm4gdztcbn0pO1xuXG4vLyBhbGlhc2VzIGZvciBzaG9ydGVyIGNvbXByZXNzZWQgY29kZSAobW9zdCBtaW5pZmVycyBkb24ndCBkbyB0aGlzKVxudmFyIHU4ID0gVWludDhBcnJheSwgdTE2ID0gVWludDE2QXJyYXksIGkzMiA9IEludDMyQXJyYXk7XG4vLyBmaXhlZCBsZW5ndGggZXh0cmEgYml0c1xudmFyIGZsZWIgPSBuZXcgdTgoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDEsIDEsIDEsIDEsIDIsIDIsIDIsIDIsIDMsIDMsIDMsIDMsIDQsIDQsIDQsIDQsIDUsIDUsIDUsIDUsIDAsIC8qIHVudXNlZCAqLyAwLCAwLCAvKiBpbXBvc3NpYmxlICovIDBdKTtcbi8vIGZpeGVkIGRpc3RhbmNlIGV4dHJhIGJpdHNcbnZhciBmZGViID0gbmV3IHU4KFswLCAwLCAwLCAwLCAxLCAxLCAyLCAyLCAzLCAzLCA0LCA0LCA1LCA1LCA2LCA2LCA3LCA3LCA4LCA4LCA5LCA5LCAxMCwgMTAsIDExLCAxMSwgMTIsIDEyLCAxMywgMTMsIC8qIHVudXNlZCAqLyAwLCAwXSk7XG4vLyBjb2RlIGxlbmd0aCBpbmRleCBtYXBcbnZhciBjbGltID0gbmV3IHU4KFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XSk7XG4vLyBnZXQgYmFzZSwgcmV2ZXJzZSBpbmRleCBtYXAgZnJvbSBleHRyYSBiaXRzXG52YXIgZnJlYiA9IGZ1bmN0aW9uIChlYiwgc3RhcnQpIHtcbiAgICB2YXIgYiA9IG5ldyB1MTYoMzEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzE7ICsraSkge1xuICAgICAgICBiW2ldID0gc3RhcnQgKz0gMSA8PCBlYltpIC0gMV07XG4gICAgfVxuICAgIC8vIG51bWJlcnMgaGVyZSBhcmUgYXQgbWF4IDE4IGJpdHNcbiAgICB2YXIgciA9IG5ldyBpMzIoYlszMF0pO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgMzA7ICsraSkge1xuICAgICAgICBmb3IgKHZhciBqID0gYltpXTsgaiA8IGJbaSArIDFdOyArK2opIHtcbiAgICAgICAgICAgIHJbal0gPSAoKGogLSBiW2ldKSA8PCA1KSB8IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYjogYiwgcjogciB9O1xufTtcbnZhciBfYSA9IGZyZWIoZmxlYiwgMiksIGZsID0gX2EuYiwgcmV2ZmwgPSBfYS5yO1xuLy8gd2UgY2FuIGlnbm9yZSB0aGUgZmFjdCB0aGF0IHRoZSBvdGhlciBudW1iZXJzIGFyZSB3cm9uZzsgdGhleSBuZXZlciBoYXBwZW4gYW55d2F5XG5mbFsyOF0gPSAyNTgsIHJldmZsWzI1OF0gPSAyODtcbnZhciBfYiA9IGZyZWIoZmRlYiwgMCksIGZkID0gX2IuYiwgcmV2ZmQgPSBfYi5yO1xuLy8gbWFwIG9mIHZhbHVlIHRvIHJldmVyc2UgKGFzc3VtaW5nIDE2IGJpdHMpXG52YXIgcmV2ID0gbmV3IHUxNigzMjc2OCk7XG5mb3IgKHZhciBpID0gMDsgaSA8IDMyNzY4OyArK2kpIHtcbiAgICAvLyByZXZlcnNlIHRhYmxlIGFsZ29yaXRobSBmcm9tIFNPXG4gICAgdmFyIHggPSAoKGkgJiAweEFBQUEpID4+IDEpIHwgKChpICYgMHg1NTU1KSA8PCAxKTtcbiAgICB4ID0gKCh4ICYgMHhDQ0NDKSA+PiAyKSB8ICgoeCAmIDB4MzMzMykgPDwgMik7XG4gICAgeCA9ICgoeCAmIDB4RjBGMCkgPj4gNCkgfCAoKHggJiAweDBGMEYpIDw8IDQpO1xuICAgIHJldltpXSA9ICgoKHggJiAweEZGMDApID4+IDgpIHwgKCh4ICYgMHgwMEZGKSA8PCA4KSkgPj4gMTtcbn1cbi8vIGNyZWF0ZSBodWZmbWFuIHRyZWUgZnJvbSB1OCBcIm1hcFwiOiBpbmRleCAtPiBjb2RlIGxlbmd0aCBmb3IgY29kZSBpbmRleFxuLy8gbWIgKG1heCBiaXRzKSBtdXN0IGJlIGF0IG1vc3QgMTVcbi8vIFRPRE86IG9wdGltaXplL3NwbGl0IHVwP1xudmFyIGhNYXAgPSAoZnVuY3Rpb24gKGNkLCBtYiwgcikge1xuICAgIHZhciBzID0gY2QubGVuZ3RoO1xuICAgIC8vIGluZGV4XG4gICAgdmFyIGkgPSAwO1xuICAgIC8vIHUxNiBcIm1hcFwiOiBpbmRleCAtPiAjIG9mIGNvZGVzIHdpdGggYml0IGxlbmd0aCA9IGluZGV4XG4gICAgdmFyIGwgPSBuZXcgdTE2KG1iKTtcbiAgICAvLyBsZW5ndGggb2YgY2QgbXVzdCBiZSAyODggKHRvdGFsICMgb2YgY29kZXMpXG4gICAgZm9yICg7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgaWYgKGNkW2ldKVxuICAgICAgICAgICAgKytsW2NkW2ldIC0gMV07XG4gICAgfVxuICAgIC8vIHUxNiBcIm1hcFwiOiBpbmRleCAtPiBtaW5pbXVtIGNvZGUgZm9yIGJpdCBsZW5ndGggPSBpbmRleFxuICAgIHZhciBsZSA9IG5ldyB1MTYobWIpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBtYjsgKytpKSB7XG4gICAgICAgIGxlW2ldID0gKGxlW2kgLSAxXSArIGxbaSAtIDFdKSA8PCAxO1xuICAgIH1cbiAgICB2YXIgY287XG4gICAgaWYgKHIpIHtcbiAgICAgICAgLy8gdTE2IFwibWFwXCI6IGluZGV4IC0+IG51bWJlciBvZiBhY3R1YWwgYml0cywgc3ltYm9sIGZvciBjb2RlXG4gICAgICAgIGNvID0gbmV3IHUxNigxIDw8IG1iKTtcbiAgICAgICAgLy8gYml0cyB0byByZW1vdmUgZm9yIHJldmVyc2VyXG4gICAgICAgIHZhciBydmIgPSAxNSAtIG1iO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmUgMCBsZW5ndGhzXG4gICAgICAgICAgICBpZiAoY2RbaV0pIHtcbiAgICAgICAgICAgICAgICAvLyBudW0gZW5jb2RpbmcgYm90aCBzeW1ib2wgYW5kIGJpdHMgcmVhZFxuICAgICAgICAgICAgICAgIHZhciBzdiA9IChpIDw8IDQpIHwgY2RbaV07XG4gICAgICAgICAgICAgICAgLy8gZnJlZSBiaXRzXG4gICAgICAgICAgICAgICAgdmFyIHJfMSA9IG1iIC0gY2RbaV07XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgdiA9IGxlW2NkW2ldIC0gMV0rKyA8PCByXzE7XG4gICAgICAgICAgICAgICAgLy8gbSBpcyBlbmQgdmFsdWVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtID0gdiB8ICgoMSA8PCByXzEpIC0gMSk7IHYgPD0gbTsgKyt2KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZXJ5IDE2IGJpdCB2YWx1ZSBzdGFydGluZyB3aXRoIHRoZSBjb2RlIHlpZWxkcyB0aGUgc2FtZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgY29bcmV2W3ZdID4+IHJ2Yl0gPSBzdjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvID0gbmV3IHUxNihzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgaWYgKGNkW2ldKSB7XG4gICAgICAgICAgICAgICAgY29baV0gPSByZXZbbGVbY2RbaV0gLSAxXSsrXSA+PiAoMTUgLSBjZFtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvO1xufSk7XG4vLyBmaXhlZCBsZW5ndGggdHJlZVxudmFyIGZsdCA9IG5ldyB1OCgyODgpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAxNDQ7ICsraSlcbiAgICBmbHRbaV0gPSA4O1xuZm9yICh2YXIgaSA9IDE0NDsgaSA8IDI1NjsgKytpKVxuICAgIGZsdFtpXSA9IDk7XG5mb3IgKHZhciBpID0gMjU2OyBpIDwgMjgwOyArK2kpXG4gICAgZmx0W2ldID0gNztcbmZvciAodmFyIGkgPSAyODA7IGkgPCAyODg7ICsraSlcbiAgICBmbHRbaV0gPSA4O1xuLy8gZml4ZWQgZGlzdGFuY2UgdHJlZVxudmFyIGZkdCA9IG5ldyB1OCgzMik7XG5mb3IgKHZhciBpID0gMDsgaSA8IDMyOyArK2kpXG4gICAgZmR0W2ldID0gNTtcbi8vIGZpeGVkIGxlbmd0aCBtYXBcbnZhciBmbG0gPSAvKiNfX1BVUkVfXyovIGhNYXAoZmx0LCA5LCAwKSwgZmxybSA9IC8qI19fUFVSRV9fKi8gaE1hcChmbHQsIDksIDEpO1xuLy8gZml4ZWQgZGlzdGFuY2UgbWFwXG52YXIgZmRtID0gLyojX19QVVJFX18qLyBoTWFwKGZkdCwgNSwgMCksIGZkcm0gPSAvKiNfX1BVUkVfXyovIGhNYXAoZmR0LCA1LCAxKTtcbi8vIGZpbmQgbWF4IG9mIGFycmF5XG52YXIgbWF4ID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgbSA9IGFbMF07XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldID4gbSlcbiAgICAgICAgICAgIG0gPSBhW2ldO1xuICAgIH1cbiAgICByZXR1cm4gbTtcbn07XG4vLyByZWFkIGQsIHN0YXJ0aW5nIGF0IGJpdCBwIGFuZCBtYXNrIHdpdGggbVxudmFyIGJpdHMgPSBmdW5jdGlvbiAoZCwgcCwgbSkge1xuICAgIHZhciBvID0gKHAgLyA4KSB8IDA7XG4gICAgcmV0dXJuICgoZFtvXSB8IChkW28gKyAxXSA8PCA4KSkgPj4gKHAgJiA3KSkgJiBtO1xufTtcbi8vIHJlYWQgZCwgc3RhcnRpbmcgYXQgYml0IHAgY29udGludWluZyBmb3IgYXQgbGVhc3QgMTYgYml0c1xudmFyIGJpdHMxNiA9IGZ1bmN0aW9uIChkLCBwKSB7XG4gICAgdmFyIG8gPSAocCAvIDgpIHwgMDtcbiAgICByZXR1cm4gKChkW29dIHwgKGRbbyArIDFdIDw8IDgpIHwgKGRbbyArIDJdIDw8IDE2KSkgPj4gKHAgJiA3KSk7XG59O1xuLy8gZ2V0IGVuZCBvZiBieXRlXG52YXIgc2hmdCA9IGZ1bmN0aW9uIChwKSB7IHJldHVybiAoKHAgKyA3KSAvIDgpIHwgMDsgfTtcbi8vIHR5cGVkIGFycmF5IHNsaWNlIC0gYWxsb3dzIGdhcmJhZ2UgY29sbGVjdG9yIHRvIGZyZWUgb3JpZ2luYWwgcmVmZXJlbmNlLFxuLy8gd2hpbGUgYmVpbmcgbW9yZSBjb21wYXRpYmxlIHRoYW4gLnNsaWNlXG52YXIgc2xjID0gZnVuY3Rpb24gKHYsIHMsIGUpIHtcbiAgICBpZiAocyA9PSBudWxsIHx8IHMgPCAwKVxuICAgICAgICBzID0gMDtcbiAgICBpZiAoZSA9PSBudWxsIHx8IGUgPiB2Lmxlbmd0aClcbiAgICAgICAgZSA9IHYubGVuZ3RoO1xuICAgIC8vIGNhbid0IHVzZSAuY29uc3RydWN0b3IgaW4gY2FzZSB1c2VyLXN1cHBsaWVkXG4gICAgcmV0dXJuIG5ldyB1OCh2LnN1YmFycmF5KHMsIGUpKTtcbn07XG4vKipcbiAqIENvZGVzIGZvciBlcnJvcnMgZ2VuZXJhdGVkIHdpdGhpbiB0aGlzIGxpYnJhcnlcbiAqL1xuZXhwb3J0IHZhciBGbGF0ZUVycm9yQ29kZSA9IHtcbiAgICBVbmV4cGVjdGVkRU9GOiAwLFxuICAgIEludmFsaWRCbG9ja1R5cGU6IDEsXG4gICAgSW52YWxpZExlbmd0aExpdGVyYWw6IDIsXG4gICAgSW52YWxpZERpc3RhbmNlOiAzLFxuICAgIFN0cmVhbUZpbmlzaGVkOiA0LFxuICAgIE5vU3RyZWFtSGFuZGxlcjogNSxcbiAgICBJbnZhbGlkSGVhZGVyOiA2LFxuICAgIE5vQ2FsbGJhY2s6IDcsXG4gICAgSW52YWxpZFVURjg6IDgsXG4gICAgRXh0cmFGaWVsZFRvb0xvbmc6IDksXG4gICAgSW52YWxpZERhdGU6IDEwLFxuICAgIEZpbGVuYW1lVG9vTG9uZzogMTEsXG4gICAgU3RyZWFtRmluaXNoaW5nOiAxMixcbiAgICBJbnZhbGlkWmlwRGF0YTogMTMsXG4gICAgVW5rbm93bkNvbXByZXNzaW9uTWV0aG9kOiAxNFxufTtcbi8vIGVycm9yIGNvZGVzXG52YXIgZWMgPSBbXG4gICAgJ3VuZXhwZWN0ZWQgRU9GJyxcbiAgICAnaW52YWxpZCBibG9jayB0eXBlJyxcbiAgICAnaW52YWxpZCBsZW5ndGgvbGl0ZXJhbCcsXG4gICAgJ2ludmFsaWQgZGlzdGFuY2UnLFxuICAgICdzdHJlYW0gZmluaXNoZWQnLFxuICAgICdubyBzdHJlYW0gaGFuZGxlcicsXG4gICAgLFxuICAgICdubyBjYWxsYmFjaycsXG4gICAgJ2ludmFsaWQgVVRGLTggZGF0YScsXG4gICAgJ2V4dHJhIGZpZWxkIHRvbyBsb25nJyxcbiAgICAnZGF0ZSBub3QgaW4gcmFuZ2UgMTk4MC0yMDk5JyxcbiAgICAnZmlsZW5hbWUgdG9vIGxvbmcnLFxuICAgICdzdHJlYW0gZmluaXNoaW5nJyxcbiAgICAnaW52YWxpZCB6aXAgZGF0YSdcbiAgICAvLyBkZXRlcm1pbmVkIGJ5IHVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXG5dO1xuO1xudmFyIGVyciA9IGZ1bmN0aW9uIChpbmQsIG1zZywgbnQpIHtcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtc2cgfHwgZWNbaW5kXSk7XG4gICAgZS5jb2RlID0gaW5kO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSlcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZSwgZXJyKTtcbiAgICBpZiAoIW50KVxuICAgICAgICB0aHJvdyBlO1xuICAgIHJldHVybiBlO1xufTtcbi8vIGV4cGFuZHMgcmF3IERFRkxBVEUgZGF0YVxudmFyIGluZmx0ID0gZnVuY3Rpb24gKGRhdCwgc3QsIGJ1ZiwgZGljdCkge1xuICAgIC8vIHNvdXJjZSBsZW5ndGggICAgICAgZGljdCBsZW5ndGhcbiAgICB2YXIgc2wgPSBkYXQubGVuZ3RoLCBkbCA9IGRpY3QgPyBkaWN0Lmxlbmd0aCA6IDA7XG4gICAgaWYgKCFzbCB8fCBzdC5mICYmICFzdC5sKVxuICAgICAgICByZXR1cm4gYnVmIHx8IG5ldyB1OCgwKTtcbiAgICB2YXIgbm9CdWYgPSAhYnVmO1xuICAgIC8vIGhhdmUgdG8gZXN0aW1hdGUgc2l6ZVxuICAgIHZhciByZXNpemUgPSBub0J1ZiB8fCBzdC5pICE9IDI7XG4gICAgLy8gbm8gc3RhdGVcbiAgICB2YXIgbm9TdCA9IHN0Lmk7XG4gICAgLy8gQXNzdW1lcyByb3VnaGx5IDMzJSBjb21wcmVzc2lvbiByYXRpbyBhdmVyYWdlXG4gICAgaWYgKG5vQnVmKVxuICAgICAgICBidWYgPSBuZXcgdTgoc2wgKiAzKTtcbiAgICAvLyBlbnN1cmUgYnVmZmVyIGNhbiBmaXQgYXQgbGVhc3QgbCBlbGVtZW50c1xuICAgIHZhciBjYnVmID0gZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgdmFyIGJsID0gYnVmLmxlbmd0aDtcbiAgICAgICAgLy8gbmVlZCB0byBpbmNyZWFzZSBzaXplIHRvIGZpdFxuICAgICAgICBpZiAobCA+IGJsKSB7XG4gICAgICAgICAgICAvLyBEb3VibGUgb3Igc2V0IHRvIG5lY2Vzc2FyeSwgd2hpY2hldmVyIGlzIGdyZWF0ZXJcbiAgICAgICAgICAgIHZhciBuYnVmID0gbmV3IHU4KE1hdGgubWF4KGJsICogMiwgbCkpO1xuICAgICAgICAgICAgbmJ1Zi5zZXQoYnVmKTtcbiAgICAgICAgICAgIGJ1ZiA9IG5idWY7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vICBsYXN0IGNodW5rICAgICAgICAgYml0cG9zICAgICAgICAgICBieXRlc1xuICAgIHZhciBmaW5hbCA9IHN0LmYgfHwgMCwgcG9zID0gc3QucCB8fCAwLCBidCA9IHN0LmIgfHwgMCwgbG0gPSBzdC5sLCBkbSA9IHN0LmQsIGxidCA9IHN0Lm0sIGRidCA9IHN0Lm47XG4gICAgLy8gdG90YWwgYml0c1xuICAgIHZhciB0YnRzID0gc2wgKiA4O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCFsbSkge1xuICAgICAgICAgICAgLy8gQkZJTkFMIC0gdGhpcyBpcyBvbmx5IDEgd2hlbiBsYXN0IGNodW5rIGlzIG5leHRcbiAgICAgICAgICAgIGZpbmFsID0gYml0cyhkYXQsIHBvcywgMSk7XG4gICAgICAgICAgICAvLyB0eXBlOiAwID0gbm8gY29tcHJlc3Npb24sIDEgPSBmaXhlZCBodWZmbWFuLCAyID0gZHluYW1pYyBodWZmbWFuXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGJpdHMoZGF0LCBwb3MgKyAxLCAzKTtcbiAgICAgICAgICAgIHBvcyArPSAzO1xuICAgICAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZ28gdG8gZW5kIG9mIGJ5dGUgYm91bmRhcnlcbiAgICAgICAgICAgICAgICB2YXIgcyA9IHNoZnQocG9zKSArIDQsIGwgPSBkYXRbcyAtIDRdIHwgKGRhdFtzIC0gM10gPDwgOCksIHQgPSBzICsgbDtcbiAgICAgICAgICAgICAgICBpZiAodCA+IHNsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub1N0KVxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHNpemVcbiAgICAgICAgICAgICAgICBpZiAocmVzaXplKVxuICAgICAgICAgICAgICAgICAgICBjYnVmKGJ0ICsgbCk7XG4gICAgICAgICAgICAgICAgLy8gQ29weSBvdmVyIHVuY29tcHJlc3NlZCBkYXRhXG4gICAgICAgICAgICAgICAgYnVmLnNldChkYXQuc3ViYXJyYXkocywgdCksIGJ0KTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgbmV3IGJpdHBvcywgdXBkYXRlIGJ5dGUgY291bnRcbiAgICAgICAgICAgICAgICBzdC5iID0gYnQgKz0gbCwgc3QucCA9IHBvcyA9IHQgKiA4LCBzdC5mID0gZmluYWw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDEpXG4gICAgICAgICAgICAgICAgbG0gPSBmbHJtLCBkbSA9IGZkcm0sIGxidCA9IDksIGRidCA9IDU7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IDIpIHtcbiAgICAgICAgICAgICAgICAvLyAgbGl0ZXJhbCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGhzXG4gICAgICAgICAgICAgICAgdmFyIGhMaXQgPSBiaXRzKGRhdCwgcG9zLCAzMSkgKyAyNTcsIGhjTGVuID0gYml0cyhkYXQsIHBvcyArIDEwLCAxNSkgKyA0O1xuICAgICAgICAgICAgICAgIHZhciB0bCA9IGhMaXQgKyBiaXRzKGRhdCwgcG9zICsgNSwgMzEpICsgMTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gMTQ7XG4gICAgICAgICAgICAgICAgLy8gbGVuZ3RoK2Rpc3RhbmNlIHRyZWVcbiAgICAgICAgICAgICAgICB2YXIgbGR0ID0gbmV3IHU4KHRsKTtcbiAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aCB0cmVlXG4gICAgICAgICAgICAgICAgdmFyIGNsdCA9IG5ldyB1OCgxOSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoY0xlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZSBpbmRleCBtYXAgdG8gZ2V0IHJlYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICBjbHRbY2xpbVtpXV0gPSBiaXRzKGRhdCwgcG9zICsgaSAqIDMsIDcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3MgKz0gaGNMZW4gKiAzO1xuICAgICAgICAgICAgICAgIC8vIGNvZGUgbGVuZ3RocyBiaXRzXG4gICAgICAgICAgICAgICAgdmFyIGNsYiA9IG1heChjbHQpLCBjbGJtc2sgPSAoMSA8PCBjbGIpIC0gMTtcbiAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aHMgbWFwXG4gICAgICAgICAgICAgICAgdmFyIGNsbSA9IGhNYXAoY2x0LCBjbGIsIDEpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGw7KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gY2xtW2JpdHMoZGF0LCBwb3MsIGNsYm1zayldO1xuICAgICAgICAgICAgICAgICAgICAvLyBiaXRzIHJlYWRcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IHIgJiAxNTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3ltYm9sXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gciA+PiA0O1xuICAgICAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aCB0byBjb3B5XG4gICAgICAgICAgICAgICAgICAgIGlmIChzIDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxkdFtpKytdID0gcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBjb3B5ICAgY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gMCwgbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PSAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gMyArIGJpdHMoZGF0LCBwb3MsIDMpLCBwb3MgKz0gMiwgYyA9IGxkdFtpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzID09IDE3KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAzICsgYml0cyhkYXQsIHBvcywgNyksIHBvcyArPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocyA9PSAxOClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gMTEgKyBiaXRzKGRhdCwgcG9zLCAxMjcpLCBwb3MgKz0gNztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuLS0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGR0W2krK10gPSBjO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgIGxlbmd0aCB0cmVlICAgICAgICAgICAgICAgICBkaXN0YW5jZSB0cmVlXG4gICAgICAgICAgICAgICAgdmFyIGx0ID0gbGR0LnN1YmFycmF5KDAsIGhMaXQpLCBkdCA9IGxkdC5zdWJhcnJheShoTGl0KTtcbiAgICAgICAgICAgICAgICAvLyBtYXggbGVuZ3RoIGJpdHNcbiAgICAgICAgICAgICAgICBsYnQgPSBtYXgobHQpO1xuICAgICAgICAgICAgICAgIC8vIG1heCBkaXN0IGJpdHNcbiAgICAgICAgICAgICAgICBkYnQgPSBtYXgoZHQpO1xuICAgICAgICAgICAgICAgIGxtID0gaE1hcChsdCwgbGJ0LCAxKTtcbiAgICAgICAgICAgICAgICBkbSA9IGhNYXAoZHQsIGRidCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZXJyKDEpO1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRidHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgYnVmZmVyIGNhbiBob2xkIHRoaXMgKyB0aGUgbGFyZ2VzdCBwb3NzaWJsZSBhZGRpdGlvblxuICAgICAgICAvLyBNYXhpbXVtIGNodW5rIHNpemUgKHByYWN0aWNhbGx5LCB0aGVvcmV0aWNhbGx5IGluZmluaXRlKSBpcyAyXjE3XG4gICAgICAgIGlmIChyZXNpemUpXG4gICAgICAgICAgICBjYnVmKGJ0ICsgMTMxMDcyKTtcbiAgICAgICAgdmFyIGxtcyA9ICgxIDw8IGxidCkgLSAxLCBkbXMgPSAoMSA8PCBkYnQpIC0gMTtcbiAgICAgICAgdmFyIGxwb3MgPSBwb3M7XG4gICAgICAgIGZvciAoOzsgbHBvcyA9IHBvcykge1xuICAgICAgICAgICAgLy8gYml0cyByZWFkLCBjb2RlXG4gICAgICAgICAgICB2YXIgYyA9IGxtW2JpdHMxNihkYXQsIHBvcykgJiBsbXNdLCBzeW0gPSBjID4+IDQ7XG4gICAgICAgICAgICBwb3MgKz0gYyAmIDE1O1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRidHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjKVxuICAgICAgICAgICAgICAgIGVycigyKTtcbiAgICAgICAgICAgIGlmIChzeW0gPCAyNTYpXG4gICAgICAgICAgICAgICAgYnVmW2J0KytdID0gc3ltO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltID09IDI1Nikge1xuICAgICAgICAgICAgICAgIGxwb3MgPSBwb3MsIGxtID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhZGQgPSBzeW0gLSAyNTQ7XG4gICAgICAgICAgICAgICAgLy8gbm8gZXh0cmEgYml0cyBuZWVkZWQgaWYgbGVzc1xuICAgICAgICAgICAgICAgIGlmIChzeW0gPiAyNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBzeW0gLSAyNTcsIGIgPSBmbGViW2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGQgPSBiaXRzKGRhdCwgcG9zLCAoMSA8PCBiKSAtIDEpICsgZmxbaV07XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXN0XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBkbVtiaXRzMTYoZGF0LCBwb3MpICYgZG1zXSwgZHN5bSA9IGQgPj4gNDtcbiAgICAgICAgICAgICAgICBpZiAoIWQpXG4gICAgICAgICAgICAgICAgICAgIGVycigzKTtcbiAgICAgICAgICAgICAgICBwb3MgKz0gZCAmIDE1O1xuICAgICAgICAgICAgICAgIHZhciBkdCA9IGZkW2RzeW1dO1xuICAgICAgICAgICAgICAgIGlmIChkc3ltID4gMykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IGZkZWJbZHN5bV07XG4gICAgICAgICAgICAgICAgICAgIGR0ICs9IGJpdHMxNihkYXQsIHBvcykgJiAoMSA8PCBiKSAtIDEsIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9zID4gdGJ0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycigwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNpemUpXG4gICAgICAgICAgICAgICAgICAgIGNidWYoYnQgKyAxMzEwNzIpO1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBidCArIGFkZDtcbiAgICAgICAgICAgICAgICBpZiAoYnQgPCBkdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hpZnQgPSBkbCAtIGR0LCBkZW5kID0gTWF0aC5taW4oZHQsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGlmdCArIGJ0IDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycigzKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGJ0IDwgZGVuZDsgKytidClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZltidF0gPSBkaWN0W3NoaWZ0ICsgYnRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKDsgYnQgPCBlbmQ7ICsrYnQpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltidF0gPSBidWZbYnQgLSBkdF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3QubCA9IGxtLCBzdC5wID0gbHBvcywgc3QuYiA9IGJ0LCBzdC5mID0gZmluYWw7XG4gICAgICAgIGlmIChsbSlcbiAgICAgICAgICAgIGZpbmFsID0gMSwgc3QubSA9IGxidCwgc3QuZCA9IGRtLCBzdC5uID0gZGJ0O1xuICAgIH0gd2hpbGUgKCFmaW5hbCk7XG4gICAgLy8gZG9uJ3QgcmVhbGxvY2F0ZSBmb3Igc3RyZWFtcyBvciB1c2VyIGJ1ZmZlcnNcbiAgICByZXR1cm4gYnQgIT0gYnVmLmxlbmd0aCAmJiBub0J1ZiA/IHNsYyhidWYsIDAsIGJ0KSA6IGJ1Zi5zdWJhcnJheSgwLCBidCk7XG59O1xuLy8gc3RhcnRpbmcgYXQgcCwgd3JpdGUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIGJpdHMgdGhhdCBjYW4gaG9sZCB2IHRvIGRcbnZhciB3Yml0cyA9IGZ1bmN0aW9uIChkLCBwLCB2KSB7XG4gICAgdiA8PD0gcCAmIDc7XG4gICAgdmFyIG8gPSAocCAvIDgpIHwgMDtcbiAgICBkW29dIHw9IHY7XG4gICAgZFtvICsgMV0gfD0gdiA+PiA4O1xufTtcbi8vIHN0YXJ0aW5nIGF0IHAsIHdyaXRlIHRoZSBtaW5pbXVtIG51bWJlciBvZiBiaXRzICg+OCkgdGhhdCBjYW4gaG9sZCB2IHRvIGRcbnZhciB3Yml0czE2ID0gZnVuY3Rpb24gKGQsIHAsIHYpIHtcbiAgICB2IDw8PSBwICYgNztcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIGRbb10gfD0gdjtcbiAgICBkW28gKyAxXSB8PSB2ID4+IDg7XG4gICAgZFtvICsgMl0gfD0gdiA+PiAxNjtcbn07XG4vLyBjcmVhdGVzIGNvZGUgbGVuZ3RocyBmcm9tIGEgZnJlcXVlbmN5IHRhYmxlXG52YXIgaFRyZWUgPSBmdW5jdGlvbiAoZCwgbWIpIHtcbiAgICAvLyBOZWVkIGV4dHJhIGluZm8gdG8gbWFrZSBhIHRyZWVcbiAgICB2YXIgdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoZFtpXSlcbiAgICAgICAgICAgIHQucHVzaCh7IHM6IGksIGY6IGRbaV0gfSk7XG4gICAgfVxuICAgIHZhciBzID0gdC5sZW5ndGg7XG4gICAgdmFyIHQyID0gdC5zbGljZSgpO1xuICAgIGlmICghcylcbiAgICAgICAgcmV0dXJuIHsgdDogZXQsIGw6IDAgfTtcbiAgICBpZiAocyA9PSAxKSB7XG4gICAgICAgIHZhciB2ID0gbmV3IHU4KHRbMF0ucyArIDEpO1xuICAgICAgICB2W3RbMF0uc10gPSAxO1xuICAgICAgICByZXR1cm4geyB0OiB2LCBsOiAxIH07XG4gICAgfVxuICAgIHQuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5mIC0gYi5mOyB9KTtcbiAgICAvLyBhZnRlciBpMiByZWFjaGVzIGxhc3QgaW5kLCB3aWxsIGJlIHN0b3BwZWRcbiAgICAvLyBmcmVxIG11c3QgYmUgZ3JlYXRlciB0aGFuIGxhcmdlc3QgcG9zc2libGUgbnVtYmVyIG9mIHN5bWJvbHNcbiAgICB0LnB1c2goeyBzOiAtMSwgZjogMjUwMDEgfSk7XG4gICAgdmFyIGwgPSB0WzBdLCByID0gdFsxXSwgaTAgPSAwLCBpMSA9IDEsIGkyID0gMjtcbiAgICB0WzBdID0geyBzOiAtMSwgZjogbC5mICsgci5mLCBsOiBsLCByOiByIH07XG4gICAgLy8gZWZmaWNpZW50IGFsZ29yaXRobSBmcm9tIFVaSVAuanNcbiAgICAvLyBpMCBpcyBsb29rYmVoaW5kLCBpMiBpcyBsb29rYWhlYWQgLSBhZnRlciBwcm9jZXNzaW5nIHR3byBsb3ctZnJlcVxuICAgIC8vIHN5bWJvbHMgdGhhdCBjb21iaW5lZCBoYXZlIGhpZ2ggZnJlcSwgd2lsbCBzdGFydCBwcm9jZXNzaW5nIGkyIChoaWdoLWZyZXEsXG4gICAgLy8gbm9uLWNvbXBvc2l0ZSkgc3ltYm9scyBpbnN0ZWFkXG4gICAgLy8gc2VlIGh0dHBzOi8vcmVkZGl0LmNvbS9yL3Bob3RvcGVhL2NvbW1lbnRzL2lrZWtodC91emlwanNfcXVlc3Rpb25zL1xuICAgIHdoaWxlIChpMSAhPSBzIC0gMSkge1xuICAgICAgICBsID0gdFt0W2kwXS5mIDwgdFtpMl0uZiA/IGkwKysgOiBpMisrXTtcbiAgICAgICAgciA9IHRbaTAgIT0gaTEgJiYgdFtpMF0uZiA8IHRbaTJdLmYgPyBpMCsrIDogaTIrK107XG4gICAgICAgIHRbaTErK10gPSB7IHM6IC0xLCBmOiBsLmYgKyByLmYsIGw6IGwsIHI6IHIgfTtcbiAgICB9XG4gICAgdmFyIG1heFN5bSA9IHQyWzBdLnM7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgaWYgKHQyW2ldLnMgPiBtYXhTeW0pXG4gICAgICAgICAgICBtYXhTeW0gPSB0MltpXS5zO1xuICAgIH1cbiAgICAvLyBjb2RlIGxlbmd0aHNcbiAgICB2YXIgdHIgPSBuZXcgdTE2KG1heFN5bSArIDEpO1xuICAgIC8vIG1heCBiaXRzIGluIHRyZWVcbiAgICB2YXIgbWJ0ID0gbG4odFtpMSAtIDFdLCB0ciwgMCk7XG4gICAgaWYgKG1idCA+IG1iKSB7XG4gICAgICAgIC8vIG1vcmUgYWxnb3JpdGhtcyBmcm9tIFVaSVAuanNcbiAgICAgICAgLy8gVE9ETzogZmluZCBvdXQgaG93IHRoaXMgY29kZSB3b3JrcyAoZGVidClcbiAgICAgICAgLy8gIGluZCAgICBkZWJ0XG4gICAgICAgIHZhciBpID0gMCwgZHQgPSAwO1xuICAgICAgICAvLyAgICBsZWZ0ICAgICAgICAgICAgY29zdFxuICAgICAgICB2YXIgbGZ0ID0gbWJ0IC0gbWIsIGNzdCA9IDEgPDwgbGZ0O1xuICAgICAgICB0Mi5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiB0cltiLnNdIC0gdHJbYS5zXSB8fCBhLmYgLSBiLmY7IH0pO1xuICAgICAgICBmb3IgKDsgaSA8IHM7ICsraSkge1xuICAgICAgICAgICAgdmFyIGkyXzEgPSB0MltpXS5zO1xuICAgICAgICAgICAgaWYgKHRyW2kyXzFdID4gbWIpIHtcbiAgICAgICAgICAgICAgICBkdCArPSBjc3QgLSAoMSA8PCAobWJ0IC0gdHJbaTJfMV0pKTtcbiAgICAgICAgICAgICAgICB0cltpMl8xXSA9IG1iO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGR0ID4+PSBsZnQ7XG4gICAgICAgIHdoaWxlIChkdCA+IDApIHtcbiAgICAgICAgICAgIHZhciBpMl8yID0gdDJbaV0ucztcbiAgICAgICAgICAgIGlmICh0cltpMl8yXSA8IG1iKVxuICAgICAgICAgICAgICAgIGR0IC09IDEgPDwgKG1iIC0gdHJbaTJfMl0rKyAtIDEpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgaSA+PSAwICYmIGR0OyAtLWkpIHtcbiAgICAgICAgICAgIHZhciBpMl8zID0gdDJbaV0ucztcbiAgICAgICAgICAgIGlmICh0cltpMl8zXSA9PSBtYikge1xuICAgICAgICAgICAgICAgIC0tdHJbaTJfM107XG4gICAgICAgICAgICAgICAgKytkdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYnQgPSBtYjtcbiAgICB9XG4gICAgcmV0dXJuIHsgdDogbmV3IHU4KHRyKSwgbDogbWJ0IH07XG59O1xuLy8gZ2V0IHRoZSBtYXggbGVuZ3RoIGFuZCBhc3NpZ24gbGVuZ3RoIGNvZGVzXG52YXIgbG4gPSBmdW5jdGlvbiAobiwgbCwgZCkge1xuICAgIHJldHVybiBuLnMgPT0gLTFcbiAgICAgICAgPyBNYXRoLm1heChsbihuLmwsIGwsIGQgKyAxKSwgbG4obi5yLCBsLCBkICsgMSkpXG4gICAgICAgIDogKGxbbi5zXSA9IGQpO1xufTtcbi8vIGxlbmd0aCBjb2RlcyBnZW5lcmF0aW9uXG52YXIgbGMgPSBmdW5jdGlvbiAoYykge1xuICAgIHZhciBzID0gYy5sZW5ndGg7XG4gICAgLy8gTm90ZSB0aGF0IHRoZSBzZW1pY29sb24gd2FzIGludGVudGlvbmFsXG4gICAgd2hpbGUgKHMgJiYgIWNbLS1zXSlcbiAgICAgICAgO1xuICAgIHZhciBjbCA9IG5ldyB1MTYoKytzKTtcbiAgICAvLyAgaW5kICAgICAgbnVtICAgICAgICAgc3RyZWFrXG4gICAgdmFyIGNsaSA9IDAsIGNsbiA9IGNbMF0sIGNscyA9IDE7XG4gICAgdmFyIHcgPSBmdW5jdGlvbiAodikgeyBjbFtjbGkrK10gPSB2OyB9O1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHM7ICsraSkge1xuICAgICAgICBpZiAoY1tpXSA9PSBjbG4gJiYgaSAhPSBzKVxuICAgICAgICAgICAgKytjbHM7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFjbG4gJiYgY2xzID4gMikge1xuICAgICAgICAgICAgICAgIGZvciAoOyBjbHMgPiAxMzg7IGNscyAtPSAxMzgpXG4gICAgICAgICAgICAgICAgICAgIHcoMzI3NTQpO1xuICAgICAgICAgICAgICAgIGlmIChjbHMgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHcoY2xzID4gMTAgPyAoKGNscyAtIDExKSA8PCA1KSB8IDI4NjkwIDogKChjbHMgLSAzKSA8PCA1KSB8IDEyMzA1KTtcbiAgICAgICAgICAgICAgICAgICAgY2xzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjbHMgPiAzKSB7XG4gICAgICAgICAgICAgICAgdyhjbG4pLCAtLWNscztcbiAgICAgICAgICAgICAgICBmb3IgKDsgY2xzID4gNjsgY2xzIC09IDYpXG4gICAgICAgICAgICAgICAgICAgIHcoODMwNCk7XG4gICAgICAgICAgICAgICAgaWYgKGNscyA+IDIpXG4gICAgICAgICAgICAgICAgICAgIHcoKChjbHMgLSAzKSA8PCA1KSB8IDgyMDgpLCBjbHMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGNscy0tKVxuICAgICAgICAgICAgICAgIHcoY2xuKTtcbiAgICAgICAgICAgIGNscyA9IDE7XG4gICAgICAgICAgICBjbG4gPSBjW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGM6IGNsLnN1YmFycmF5KDAsIGNsaSksIG46IHMgfTtcbn07XG4vLyBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiBvdXRwdXQgZnJvbSB0cmVlLCBjb2RlIGxlbmd0aHNcbnZhciBjbGVuID0gZnVuY3Rpb24gKGNmLCBjbCkge1xuICAgIHZhciBsID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsLmxlbmd0aDsgKytpKVxuICAgICAgICBsICs9IGNmW2ldICogY2xbaV07XG4gICAgcmV0dXJuIGw7XG59O1xuLy8gd3JpdGVzIGEgZml4ZWQgYmxvY2tcbi8vIHJldHVybnMgdGhlIG5ldyBiaXQgcG9zXG52YXIgd2ZibGsgPSBmdW5jdGlvbiAob3V0LCBwb3MsIGRhdCkge1xuICAgIC8vIG5vIG5lZWQgdG8gd3JpdGUgMDAgYXMgdHlwZTogVHlwZWRBcnJheSBkZWZhdWx0cyB0byAwXG4gICAgdmFyIHMgPSBkYXQubGVuZ3RoO1xuICAgIHZhciBvID0gc2hmdChwb3MgKyAyKTtcbiAgICBvdXRbb10gPSBzICYgMjU1O1xuICAgIG91dFtvICsgMV0gPSBzID4+IDg7XG4gICAgb3V0W28gKyAyXSA9IG91dFtvXSBeIDI1NTtcbiAgICBvdXRbbyArIDNdID0gb3V0W28gKyAxXSBeIDI1NTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHM7ICsraSlcbiAgICAgICAgb3V0W28gKyBpICsgNF0gPSBkYXRbaV07XG4gICAgcmV0dXJuIChvICsgNCArIHMpICogODtcbn07XG4vLyB3cml0ZXMgYSBibG9ja1xudmFyIHdibGsgPSBmdW5jdGlvbiAoZGF0LCBvdXQsIGZpbmFsLCBzeW1zLCBsZiwgZGYsIGViLCBsaSwgYnMsIGJsLCBwKSB7XG4gICAgd2JpdHMob3V0LCBwKyssIGZpbmFsKTtcbiAgICArK2xmWzI1Nl07XG4gICAgdmFyIF9hID0gaFRyZWUobGYsIDE1KSwgZGx0ID0gX2EudCwgbWxiID0gX2EubDtcbiAgICB2YXIgX2IgPSBoVHJlZShkZiwgMTUpLCBkZHQgPSBfYi50LCBtZGIgPSBfYi5sO1xuICAgIHZhciBfYyA9IGxjKGRsdCksIGxjbHQgPSBfYy5jLCBubGMgPSBfYy5uO1xuICAgIHZhciBfZCA9IGxjKGRkdCksIGxjZHQgPSBfZC5jLCBuZGMgPSBfZC5uO1xuICAgIHZhciBsY2ZyZXEgPSBuZXcgdTE2KDE5KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxjbHQubGVuZ3RoOyArK2kpXG4gICAgICAgICsrbGNmcmVxW2xjbHRbaV0gJiAzMV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsY2R0Lmxlbmd0aDsgKytpKVxuICAgICAgICArK2xjZnJlcVtsY2R0W2ldICYgMzFdO1xuICAgIHZhciBfZSA9IGhUcmVlKGxjZnJlcSwgNyksIGxjdCA9IF9lLnQsIG1sY2IgPSBfZS5sO1xuICAgIHZhciBubGNjID0gMTk7XG4gICAgZm9yICg7IG5sY2MgPiA0ICYmICFsY3RbY2xpbVtubGNjIC0gMV1dOyAtLW5sY2MpXG4gICAgICAgIDtcbiAgICB2YXIgZmxlbiA9IChibCArIDUpIDw8IDM7XG4gICAgdmFyIGZ0bGVuID0gY2xlbihsZiwgZmx0KSArIGNsZW4oZGYsIGZkdCkgKyBlYjtcbiAgICB2YXIgZHRsZW4gPSBjbGVuKGxmLCBkbHQpICsgY2xlbihkZiwgZGR0KSArIGViICsgMTQgKyAzICogbmxjYyArIGNsZW4obGNmcmVxLCBsY3QpICsgMiAqIGxjZnJlcVsxNl0gKyAzICogbGNmcmVxWzE3XSArIDcgKiBsY2ZyZXFbMThdO1xuICAgIGlmIChicyA+PSAwICYmIGZsZW4gPD0gZnRsZW4gJiYgZmxlbiA8PSBkdGxlbilcbiAgICAgICAgcmV0dXJuIHdmYmxrKG91dCwgcCwgZGF0LnN1YmFycmF5KGJzLCBicyArIGJsKSk7XG4gICAgdmFyIGxtLCBsbCwgZG0sIGRsO1xuICAgIHdiaXRzKG91dCwgcCwgMSArIChkdGxlbiA8IGZ0bGVuKSksIHAgKz0gMjtcbiAgICBpZiAoZHRsZW4gPCBmdGxlbikge1xuICAgICAgICBsbSA9IGhNYXAoZGx0LCBtbGIsIDApLCBsbCA9IGRsdCwgZG0gPSBoTWFwKGRkdCwgbWRiLCAwKSwgZGwgPSBkZHQ7XG4gICAgICAgIHZhciBsbG0gPSBoTWFwKGxjdCwgbWxjYiwgMCk7XG4gICAgICAgIHdiaXRzKG91dCwgcCwgbmxjIC0gMjU3KTtcbiAgICAgICAgd2JpdHMob3V0LCBwICsgNSwgbmRjIC0gMSk7XG4gICAgICAgIHdiaXRzKG91dCwgcCArIDEwLCBubGNjIC0gNCk7XG4gICAgICAgIHAgKz0gMTQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmxjYzsgKytpKVxuICAgICAgICAgICAgd2JpdHMob3V0LCBwICsgMyAqIGksIGxjdFtjbGltW2ldXSk7XG4gICAgICAgIHAgKz0gMyAqIG5sY2M7XG4gICAgICAgIHZhciBsY3RzID0gW2xjbHQsIGxjZHRdO1xuICAgICAgICBmb3IgKHZhciBpdCA9IDA7IGl0IDwgMjsgKytpdCkge1xuICAgICAgICAgICAgdmFyIGNsY3QgPSBsY3RzW2l0XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xjdC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBjbGN0W2ldICYgMzE7XG4gICAgICAgICAgICAgICAgd2JpdHMob3V0LCBwLCBsbG1bbGVuXSksIHAgKz0gbGN0W2xlbl07XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDE1KVxuICAgICAgICAgICAgICAgICAgICB3Yml0cyhvdXQsIHAsIChjbGN0W2ldID4+IDUpICYgMTI3KSwgcCArPSBjbGN0W2ldID4+IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsbSA9IGZsbSwgbGwgPSBmbHQsIGRtID0gZmRtLCBkbCA9IGZkdDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaTsgKytpKSB7XG4gICAgICAgIHZhciBzeW0gPSBzeW1zW2ldO1xuICAgICAgICBpZiAoc3ltID4gMjU1KSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gKHN5bSA+PiAxOCkgJiAzMTtcbiAgICAgICAgICAgIHdiaXRzMTYob3V0LCBwLCBsbVtsZW4gKyAyNTddKSwgcCArPSBsbFtsZW4gKyAyNTddO1xuICAgICAgICAgICAgaWYgKGxlbiA+IDcpXG4gICAgICAgICAgICAgICAgd2JpdHMob3V0LCBwLCAoc3ltID4+IDIzKSAmIDMxKSwgcCArPSBmbGViW2xlbl07XG4gICAgICAgICAgICB2YXIgZHN0ID0gc3ltICYgMzE7XG4gICAgICAgICAgICB3Yml0czE2KG91dCwgcCwgZG1bZHN0XSksIHAgKz0gZGxbZHN0XTtcbiAgICAgICAgICAgIGlmIChkc3QgPiAzKVxuICAgICAgICAgICAgICAgIHdiaXRzMTYob3V0LCBwLCAoc3ltID4+IDUpICYgODE5MSksIHAgKz0gZmRlYltkc3RdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2JpdHMxNihvdXQsIHAsIGxtW3N5bV0pLCBwICs9IGxsW3N5bV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2JpdHMxNihvdXQsIHAsIGxtWzI1Nl0pO1xuICAgIHJldHVybiBwICsgbGxbMjU2XTtcbn07XG4vLyBkZWZsYXRlIG9wdGlvbnMgKG5pY2UgPDwgMTMpIHwgY2hhaW5cbnZhciBkZW8gPSAvKiNfX1BVUkVfXyovIG5ldyBpMzIoWzY1NTQwLCAxMzEwODAsIDEzMTA4OCwgMTMxMTA0LCAyNjIxNzYsIDEwNDg3MDQsIDEwNDg4MzIsIDIxMTQ1NjAsIDIxMTc2MzJdKTtcbi8vIGVtcHR5XG52YXIgZXQgPSAvKiNfX1BVUkVfXyovIG5ldyB1OCgwKTtcbi8vIGNvbXByZXNzZXMgZGF0YSBpbnRvIGEgcmF3IERFRkxBVEUgYnVmZmVyXG52YXIgZGZsdCA9IGZ1bmN0aW9uIChkYXQsIGx2bCwgcGx2bCwgcHJlLCBwb3N0LCBzdCkge1xuICAgIHZhciBzID0gc3QueiB8fCBkYXQubGVuZ3RoO1xuICAgIHZhciBvID0gbmV3IHU4KHByZSArIHMgKyA1ICogKDEgKyBNYXRoLmNlaWwocyAvIDcwMDApKSArIHBvc3QpO1xuICAgIC8vIHdyaXRpbmcgdG8gdGhpcyB3cml0ZXMgdG8gdGhlIG91dHB1dCBidWZmZXJcbiAgICB2YXIgdyA9IG8uc3ViYXJyYXkocHJlLCBvLmxlbmd0aCAtIHBvc3QpO1xuICAgIHZhciBsc3QgPSBzdC5sO1xuICAgIHZhciBwb3MgPSAoc3QuciB8fCAwKSAmIDc7XG4gICAgaWYgKGx2bCkge1xuICAgICAgICBpZiAocG9zKVxuICAgICAgICAgICAgd1swXSA9IHN0LnIgPj4gMztcbiAgICAgICAgdmFyIG9wdCA9IGRlb1tsdmwgLSAxXTtcbiAgICAgICAgdmFyIG4gPSBvcHQgPj4gMTMsIGMgPSBvcHQgJiA4MTkxO1xuICAgICAgICB2YXIgbXNrXzEgPSAoMSA8PCBwbHZsKSAtIDE7XG4gICAgICAgIC8vICAgIHByZXYgMi1ieXRlIHZhbCBtYXAgICAgY3VyciAyLWJ5dGUgdmFsIG1hcFxuICAgICAgICB2YXIgcHJldiA9IHN0LnAgfHwgbmV3IHUxNigzMjc2OCksIGhlYWQgPSBzdC5oIHx8IG5ldyB1MTYobXNrXzEgKyAxKTtcbiAgICAgICAgdmFyIGJzMV8xID0gTWF0aC5jZWlsKHBsdmwgLyAzKSwgYnMyXzEgPSAyICogYnMxXzE7XG4gICAgICAgIHZhciBoc2ggPSBmdW5jdGlvbiAoaSkgeyByZXR1cm4gKGRhdFtpXSBeIChkYXRbaSArIDFdIDw8IGJzMV8xKSBeIChkYXRbaSArIDJdIDw8IGJzMl8xKSkgJiBtc2tfMTsgfTtcbiAgICAgICAgLy8gMjQ1NzYgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBtYXhpbXVtIHN5bWJvbHMgcGVyIGJsb2NrXG4gICAgICAgIC8vIDQyNCBidWZmZXIgZm9yIGxhc3QgYmxvY2tcbiAgICAgICAgdmFyIHN5bXMgPSBuZXcgaTMyKDI1MDAwKTtcbiAgICAgICAgLy8gbGVuZ3RoL2xpdGVyYWwgZnJlcSAgIGRpc3RhbmNlIGZyZXFcbiAgICAgICAgdmFyIGxmID0gbmV3IHUxNigyODgpLCBkZiA9IG5ldyB1MTYoMzIpO1xuICAgICAgICAvLyAgbC9sY250ICBleGJpdHMgIGluZGV4ICAgICAgICAgIGwvbGluZCAgd2FpdGR4ICAgICAgICAgIGJsa3Bvc1xuICAgICAgICB2YXIgbGNfMSA9IDAsIGViID0gMCwgaSA9IHN0LmkgfHwgMCwgbGkgPSAwLCB3aSA9IHN0LncgfHwgMCwgYnMgPSAwO1xuICAgICAgICBmb3IgKDsgaSArIDIgPCBzOyArK2kpIHtcbiAgICAgICAgICAgIC8vIGhhc2ggdmFsdWVcbiAgICAgICAgICAgIHZhciBodiA9IGhzaChpKTtcbiAgICAgICAgICAgIC8vIGluZGV4IG1vZCAzMjc2OCAgICBwcmV2aW91cyBpbmRleCBtb2RcbiAgICAgICAgICAgIHZhciBpbW9kID0gaSAmIDMyNzY3LCBwaW1vZCA9IGhlYWRbaHZdO1xuICAgICAgICAgICAgcHJldltpbW9kXSA9IHBpbW9kO1xuICAgICAgICAgICAgaGVhZFtodl0gPSBpbW9kO1xuICAgICAgICAgICAgLy8gV2UgYWx3YXlzIHNob3VsZCBtb2RpZnkgaGVhZCBhbmQgcHJldiwgYnV0IG9ubHkgYWRkIHN5bWJvbHMgaWZcbiAgICAgICAgICAgIC8vIHRoaXMgZGF0YSBpcyBub3QgeWV0IHByb2Nlc3NlZCAoXCJ3YWl0XCIgZm9yIHdhaXQgaW5kZXgpXG4gICAgICAgICAgICBpZiAod2kgPD0gaSkge1xuICAgICAgICAgICAgICAgIC8vIGJ5dGVzIHJlbWFpbmluZ1xuICAgICAgICAgICAgICAgIHZhciByZW0gPSBzIC0gaTtcbiAgICAgICAgICAgICAgICBpZiAoKGxjXzEgPiA3MDAwIHx8IGxpID4gMjQ1NzYpICYmIChyZW0gPiA0MjMgfHwgIWxzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gd2JsayhkYXQsIHcsIDAsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgaSAtIGJzLCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICBsaSA9IGxjXzEgPSBlYiA9IDAsIGJzID0gaTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAyODY7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgIGxmW2pdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzMDsgKytqKVxuICAgICAgICAgICAgICAgICAgICAgICAgZGZbal0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgbGVuICAgIGRpc3QgICBjaGFpblxuICAgICAgICAgICAgICAgIHZhciBsID0gMiwgZCA9IDAsIGNoXzEgPSBjLCBkaWYgPSBpbW9kIC0gcGltb2QgJiAzMjc2NztcbiAgICAgICAgICAgICAgICBpZiAocmVtID4gMiAmJiBodiA9PSBoc2goaSAtIGRpZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heG4gPSBNYXRoLm1pbihuLCByZW0pIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heGQgPSBNYXRoLm1pbigzMjc2NywgaSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1heCBwb3NzaWJsZSBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGNhcHBlZCBhdCBkaWYgYmVjYXVzZSBkZWNvbXByZXNzb3JzIGltcGxlbWVudCBcInJvbGxpbmdcIiBpbmRleCBwb3B1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBtbCA9IE1hdGgubWluKDI1OCwgcmVtKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRpZiA8PSBtYXhkICYmIC0tY2hfMSAmJiBpbW9kICE9IHBpbW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0W2kgKyBsXSA9PSBkYXRbaSArIGwgLSBkaWZdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgbmwgPCBtbCAmJiBkYXRbaSArIG5sXSA9PSBkYXRbaSArIG5sIC0gZGlmXTsgKytubClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubCA+IGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IG5sLCBkID0gZGlmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBicmVhayBvdXQgZWFybHkgd2hlbiB3ZSByZWFjaCBcIm5pY2VcIiAod2UgYXJlIHNhdGlzZmllZCBlbm91Z2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubCA+IG1heG4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93LCBmaW5kIHRoZSByYXJlc3QgMi1ieXRlIHNlcXVlbmNlIHdpdGhpbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlbmd0aCBvZiBsaXRlcmFscyBhbmQgc2VhcmNoIGZvciB0aGF0IGluc3RlYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11Y2ggZmFzdGVyIHRoYW4ganVzdCB1c2luZyB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1tZCA9IE1hdGgubWluKGRpZiwgbmwgLSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1kID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtbWQ7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpID0gaSAtIGRpZiArIGogJiAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwdGkgPSBwcmV2W3RpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZCA9IHRpIC0gcHRpICYgMzI3Njc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2QgPiBtZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZCA9IGNkLCBwaW1vZCA9IHRpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHByZXZpb3VzIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbW9kID0gcGltb2QsIHBpbW9kID0gcHJldltpbW9kXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZiArPSBpbW9kIC0gcGltb2QgJiAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkIHdpbGwgYmUgbm9uemVybyBvbmx5IHdoZW4gYSBtYXRjaCB3YXMgZm91bmRcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBib3RoIGRpc3QgYW5kIGxlbiBkYXRhIGluIG9uZSBpbnQzMlxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyBpcyByZWNvZ25pemVkIGFzIGEgbGVuL2Rpc3Qgd2l0aCAyOHRoIGJpdCAoMl4yOClcbiAgICAgICAgICAgICAgICAgICAgc3ltc1tsaSsrXSA9IDI2ODQzNTQ1NiB8IChyZXZmbFtsXSA8PCAxOCkgfCByZXZmZFtkXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpbiA9IHJldmZsW2xdICYgMzEsIGRpbiA9IHJldmZkW2RdICYgMzE7XG4gICAgICAgICAgICAgICAgICAgIGViICs9IGZsZWJbbGluXSArIGZkZWJbZGluXTtcbiAgICAgICAgICAgICAgICAgICAgKytsZlsyNTcgKyBsaW5dO1xuICAgICAgICAgICAgICAgICAgICArK2RmW2Rpbl07XG4gICAgICAgICAgICAgICAgICAgIHdpID0gaSArIGw7XG4gICAgICAgICAgICAgICAgICAgICsrbGNfMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN5bXNbbGkrK10gPSBkYXRbaV07XG4gICAgICAgICAgICAgICAgICAgICsrbGZbZGF0W2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gTWF0aC5tYXgoaSwgd2kpOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICBzeW1zW2xpKytdID0gZGF0W2ldO1xuICAgICAgICAgICAgKytsZltkYXRbaV1dO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IHdibGsoZGF0LCB3LCBsc3QsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgaSAtIGJzLCBwb3MpO1xuICAgICAgICBpZiAoIWxzdCkge1xuICAgICAgICAgICAgc3QuciA9IChwb3MgJiA3KSB8IHdbKHBvcyAvIDgpIHwgMF0gPDwgMztcbiAgICAgICAgICAgIC8vIHNoZnQocG9zKSBub3cgMSBsZXNzIGlmIHBvcyAmIDcgIT0gMFxuICAgICAgICAgICAgcG9zIC09IDc7XG4gICAgICAgICAgICBzdC5oID0gaGVhZCwgc3QucCA9IHByZXYsIHN0LmkgPSBpLCBzdC53ID0gd2k7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdC53IHx8IDA7IGkgPCBzICsgbHN0OyBpICs9IDY1NTM1KSB7XG4gICAgICAgICAgICAvLyBlbmRcbiAgICAgICAgICAgIHZhciBlID0gaSArIDY1NTM1O1xuICAgICAgICAgICAgaWYgKGUgPj0gcykge1xuICAgICAgICAgICAgICAgIC8vIHdyaXRlIGZpbmFsIGJsb2NrXG4gICAgICAgICAgICAgICAgd1socG9zIC8gOCkgfCAwXSA9IGxzdDtcbiAgICAgICAgICAgICAgICBlID0gcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IHdmYmxrKHcsIHBvcyArIDEsIGRhdC5zdWJhcnJheShpLCBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3QuaSA9IHM7XG4gICAgfVxuICAgIHJldHVybiBzbGMobywgMCwgcHJlICsgc2hmdChwb3MpICsgcG9zdCk7XG59O1xuLy8gQ1JDMzIgdGFibGVcbnZhciBjcmN0ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ID0gbmV3IEludDMyQXJyYXkoMjU2KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIHZhciBjID0gaSwgayA9IDk7XG4gICAgICAgIHdoaWxlICgtLWspXG4gICAgICAgICAgICBjID0gKChjICYgMSkgJiYgLTMwNjY3NDkxMikgXiAoYyA+Pj4gMSk7XG4gICAgICAgIHRbaV0gPSBjO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn0pKCk7XG4vLyBDUkMzMlxudmFyIGNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYyA9IC0xO1xuICAgIHJldHVybiB7XG4gICAgICAgIHA6IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBjbG9zdXJlcyBoYXZlIGF3ZnVsIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICB2YXIgY3IgPSBjO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGNyID0gY3JjdFsoY3IgJiAyNTUpIF4gZFtpXV0gXiAoY3IgPj4+IDgpO1xuICAgICAgICAgICAgYyA9IGNyO1xuICAgICAgICB9LFxuICAgICAgICBkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB+YzsgfVxuICAgIH07XG59O1xuLy8gQWRsZXIzMlxudmFyIGFkbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gMSwgYiA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcDogZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vIGNsb3N1cmVzIGhhdmUgYXdmdWwgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIHZhciBuID0gYSwgbSA9IGI7XG4gICAgICAgICAgICB2YXIgbCA9IGQubGVuZ3RoIHwgMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpICE9IGw7KSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBNYXRoLm1pbihpICsgMjY1NSwgbCk7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBlOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIG0gKz0gbiArPSBkW2ldO1xuICAgICAgICAgICAgICAgIG4gPSAobiAmIDY1NTM1KSArIDE1ICogKG4gPj4gMTYpLCBtID0gKG0gJiA2NTUzNSkgKyAxNSAqIChtID4+IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSBuLCBiID0gbTtcbiAgICAgICAgfSxcbiAgICAgICAgZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYSAlPSA2NTUyMSwgYiAlPSA2NTUyMTtcbiAgICAgICAgICAgIHJldHVybiAoYSAmIDI1NSkgPDwgMjQgfCAoYSAmIDB4RkYwMCkgPDwgOCB8IChiICYgMjU1KSA8PCA4IHwgKGIgPj4gOCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbjtcbi8vIGRlZmxhdGUgd2l0aCBvcHRzXG52YXIgZG9wdCA9IGZ1bmN0aW9uIChkYXQsIG9wdCwgcHJlLCBwb3N0LCBzdCkge1xuICAgIGlmICghc3QpIHtcbiAgICAgICAgc3QgPSB7IGw6IDEgfTtcbiAgICAgICAgaWYgKG9wdC5kaWN0aW9uYXJ5KSB7XG4gICAgICAgICAgICB2YXIgZGljdCA9IG9wdC5kaWN0aW9uYXJ5LnN1YmFycmF5KC0zMjc2OCk7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ID0gbmV3IHU4KGRpY3QubGVuZ3RoICsgZGF0Lmxlbmd0aCk7XG4gICAgICAgICAgICBuZXdEYXQuc2V0KGRpY3QpO1xuICAgICAgICAgICAgbmV3RGF0LnNldChkYXQsIGRpY3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGRhdCA9IG5ld0RhdDtcbiAgICAgICAgICAgIHN0LncgPSBkaWN0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGZsdChkYXQsIG9wdC5sZXZlbCA9PSBudWxsID8gNiA6IG9wdC5sZXZlbCwgb3B0Lm1lbSA9PSBudWxsID8gKHN0LmwgPyBNYXRoLmNlaWwoTWF0aC5tYXgoOCwgTWF0aC5taW4oMTMsIE1hdGgubG9nKGRhdC5sZW5ndGgpKSkgKiAxLjUpIDogMjApIDogKDEyICsgb3B0Lm1lbSksIHByZSwgcG9zdCwgc3QpO1xufTtcbi8vIFdhbG1hcnQgb2JqZWN0IHNwcmVhZFxudmFyIG1yZyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIG8gPSB7fTtcbiAgICBmb3IgKHZhciBrIGluIGEpXG4gICAgICAgIG9ba10gPSBhW2tdO1xuICAgIGZvciAodmFyIGsgaW4gYilcbiAgICAgICAgb1trXSA9IGJba107XG4gICAgcmV0dXJuIG87XG59O1xuLy8gd29ya2VyIGNsb25lXG4vLyBUaGlzIGlzIHBvc3NpYmx5IHRoZSBjcmF6aWVzdCBwYXJ0IG9mIHRoZSBlbnRpcmUgY29kZWJhc2UsIGRlc3BpdGUgaG93IHNpbXBsZSBpdCBtYXkgc2VlbS5cbi8vIFRoZSBvbmx5IHBhcmFtZXRlciB0byB0aGlzIGZ1bmN0aW9uIGlzIGEgY2xvc3VyZSB0aGF0IHJldHVybnMgYW4gYXJyYXkgb2YgdmFyaWFibGVzIG91dHNpZGUgb2YgdGhlIGZ1bmN0aW9uIHNjb3BlLlxuLy8gV2UncmUgZ29pbmcgdG8gdHJ5IHRvIGZpZ3VyZSBvdXQgdGhlIHZhcmlhYmxlIG5hbWVzIHVzZWQgaW4gdGhlIGNsb3N1cmUgYXMgc3RyaW5ncyBiZWNhdXNlIHRoYXQgaXMgY3J1Y2lhbCBmb3Igd29ya2VyaXphdGlvbi5cbi8vIFdlIHdpbGwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIG9mIHRydWUgdmFyaWFibGUgbmFtZSB0byB2YWx1ZSAoYmFzaWNhbGx5LCB0aGUgY3VycmVudCBzY29wZSBhcyBhIEpTIG9iamVjdCkuXG4vLyBUaGUgcmVhc29uIHdlIGNhbid0IGp1c3QgdXNlIHRoZSBvcmlnaW5hbCB2YXJpYWJsZSBuYW1lcyBpcyBtaW5pZmllcnMgbWFuZ2xpbmcgdGhlIHRvcGxldmVsIHNjb3BlLlxuLy8gVGhpcyB0b29rIG1lIHRocmVlIHdlZWtzIHRvIGZpZ3VyZSBvdXQgaG93IHRvIGRvLlxudmFyIHdjbG4gPSBmdW5jdGlvbiAoZm4sIGZuU3RyLCB0ZCkge1xuICAgIHZhciBkdCA9IGZuKCk7XG4gICAgdmFyIHN0ID0gZm4udG9TdHJpbmcoKTtcbiAgICB2YXIga3MgPSBzdC5zbGljZShzdC5pbmRleE9mKCdbJykgKyAxLCBzdC5sYXN0SW5kZXhPZignXScpKS5yZXBsYWNlKC9cXHMrL2csICcnKS5zcGxpdCgnLCcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZHQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHYgPSBkdFtpXSwgayA9IGtzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZm5TdHIgKz0gJzsnICsgayArICc9JztcbiAgICAgICAgICAgIHZhciBzdF8xID0gdi50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHYucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIGdsb2JhbCBvYmplY3RzXG4gICAgICAgICAgICAgICAgaWYgKHN0XzEuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcEluZCA9IHN0XzEuaW5kZXhPZignICcsIDgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgZm5TdHIgKz0gc3RfMS5zbGljZShzcEluZCwgc3RfMS5pbmRleE9mKCcoJywgc3BJbmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZuU3RyICs9IHN0XzE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgaW4gdi5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmblN0ciArPSAnOycgKyBrICsgJy5wcm90b3R5cGUuJyArIHQgKyAnPScgKyB2LnByb3RvdHlwZVt0XS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmblN0ciArPSBzdF8xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRkW2tdID0gdjtcbiAgICB9XG4gICAgcmV0dXJuIGZuU3RyO1xufTtcbnZhciBjaCA9IFtdO1xuLy8gY2xvbmUgYnVmc1xudmFyIGNiZnMgPSBmdW5jdGlvbiAodikge1xuICAgIHZhciB0bCA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gdikge1xuICAgICAgICBpZiAodltrXS5idWZmZXIpIHtcbiAgICAgICAgICAgIHRsLnB1c2goKHZba10gPSBuZXcgdltrXS5jb25zdHJ1Y3Rvcih2W2tdKSkuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGw7XG59O1xuLy8gdXNlIGEgd29ya2VyIHRvIGV4ZWN1dGUgY29kZVxudmFyIHdya3IgPSBmdW5jdGlvbiAoZm5zLCBpbml0LCBpZCwgY2IpIHtcbiAgICBpZiAoIWNoW2lkXSkge1xuICAgICAgICB2YXIgZm5TdHIgPSAnJywgdGRfMSA9IHt9LCBtID0gZm5zLmxlbmd0aCAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbTsgKytpKVxuICAgICAgICAgICAgZm5TdHIgPSB3Y2xuKGZuc1tpXSwgZm5TdHIsIHRkXzEpO1xuICAgICAgICBjaFtpZF0gPSB7IGM6IHdjbG4oZm5zW21dLCBmblN0ciwgdGRfMSksIGU6IHRkXzEgfTtcbiAgICB9XG4gICAgdmFyIHRkID0gbXJnKHt9LCBjaFtpZF0uZSk7XG4gICAgcmV0dXJuIHdrKGNoW2lkXS5jICsgJztvbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciBrIGluIGUuZGF0YSlzZWxmW2tdPWUuZGF0YVtrXTtvbm1lc3NhZ2U9JyArIGluaXQudG9TdHJpbmcoKSArICd9JywgaWQsIHRkLCBjYmZzKHRkKSwgY2IpO1xufTtcbi8vIGJhc2UgYXN5bmMgaW5mbGF0ZSBmblxudmFyIGJJbmZsdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt1OCwgdTE2LCBpMzIsIGZsZWIsIGZkZWIsIGNsaW0sIGZsLCBmZCwgZmxybSwgZmRybSwgcmV2LCBlYywgaE1hcCwgbWF4LCBiaXRzLCBiaXRzMTYsIHNoZnQsIHNsYywgZXJyLCBpbmZsdCwgaW5mbGF0ZVN5bmMsIHBiZiwgZ29wdF07IH07XG52YXIgYkRmbHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbdTgsIHUxNiwgaTMyLCBmbGViLCBmZGViLCBjbGltLCByZXZmbCwgcmV2ZmQsIGZsbSwgZmx0LCBmZG0sIGZkdCwgcmV2LCBkZW8sIGV0LCBoTWFwLCB3Yml0cywgd2JpdHMxNiwgaFRyZWUsIGxuLCBsYywgY2xlbiwgd2ZibGssIHdibGssIHNoZnQsIHNsYywgZGZsdCwgZG9wdCwgZGVmbGF0ZVN5bmMsIHBiZl07IH07XG4vLyBnemlwIGV4dHJhXG52YXIgZ3plID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW2d6aCwgZ3pobCwgd2J5dGVzLCBjcmMsIGNyY3RdOyB9O1xuLy8gZ3VuemlwIGV4dHJhXG52YXIgZ3V6ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtnenMsIGd6bF07IH07XG4vLyB6bGliIGV4dHJhXG52YXIgemxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psaCwgd2J5dGVzLCBhZGxlcl07IH07XG4vLyB1bnpsaWIgZXh0cmFcbnZhciB6dWxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psc107IH07XG4vLyBwb3N0IGJ1ZlxudmFyIHBiZiA9IGZ1bmN0aW9uIChtc2cpIHsgcmV0dXJuIHBvc3RNZXNzYWdlKG1zZywgW21zZy5idWZmZXJdKTsgfTtcbi8vIGdldCBvcHRzXG52YXIgZ29wdCA9IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIHtcbiAgICBvdXQ6IG8uc2l6ZSAmJiBuZXcgdTgoby5zaXplKSxcbiAgICBkaWN0aW9uYXJ5OiBvLmRpY3Rpb25hcnlcbn07IH07XG4vLyBhc3luYyBoZWxwZXJcbnZhciBjYmlmeSA9IGZ1bmN0aW9uIChkYXQsIG9wdHMsIGZucywgaW5pdCwgaWQsIGNiKSB7XG4gICAgdmFyIHcgPSB3cmtyKGZucywgaW5pdCwgaWQsIGZ1bmN0aW9uIChlcnIsIGRhdCkge1xuICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICBjYihlcnIsIGRhdCk7XG4gICAgfSk7XG4gICAgdy5wb3N0TWVzc2FnZShbZGF0LCBvcHRzXSwgb3B0cy5jb25zdW1lID8gW2RhdC5idWZmZXJdIDogW10pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHcudGVybWluYXRlKCk7IH07XG59O1xuLy8gYXV0byBzdHJlYW1cbnZhciBhc3RybSA9IGZ1bmN0aW9uIChzdHJtKSB7XG4gICAgc3RybS5vbmRhdGEgPSBmdW5jdGlvbiAoZGF0LCBmaW5hbCkgeyByZXR1cm4gcG9zdE1lc3NhZ2UoW2RhdCwgZmluYWxdLCBbZGF0LmJ1ZmZlcl0pOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgaWYgKGV2LmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdHJtLnB1c2goZXYuZGF0YVswXSwgZXYuZGF0YVsxXSk7XG4gICAgICAgICAgICBwb3N0TWVzc2FnZShbZXYuZGF0YVswXS5sZW5ndGhdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzdHJtLmZsdXNoKCk7XG4gICAgfTtcbn07XG4vLyBhc3luYyBzdHJlYW0gYXR0YWNoXG52YXIgYXN0cm1pZnkgPSBmdW5jdGlvbiAoZm5zLCBzdHJtLCBvcHRzLCBpbml0LCBpZCwgZmx1c2gsIGV4dCkge1xuICAgIHZhciB0O1xuICAgIHZhciB3ID0gd3JrcihmbnMsIGluaXQsIGlkLCBmdW5jdGlvbiAoZXJyLCBkYXQpIHtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHcudGVybWluYXRlKCksIHN0cm0ub25kYXRhLmNhbGwoc3RybSwgZXJyKTtcbiAgICAgICAgZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoZGF0KSlcbiAgICAgICAgICAgIGV4dChkYXQpO1xuICAgICAgICBlbHNlIGlmIChkYXQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHN0cm0ucXVldWVkU2l6ZSAtPSBkYXRbMF07XG4gICAgICAgICAgICBpZiAoc3RybS5vbmRyYWluKVxuICAgICAgICAgICAgICAgIHN0cm0ub25kcmFpbihkYXRbMF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRhdFsxXSlcbiAgICAgICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgc3RybS5vbmRhdGEuY2FsbChzdHJtLCBlcnIsIGRhdFswXSwgZGF0WzFdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHcucG9zdE1lc3NhZ2Uob3B0cyk7XG4gICAgc3RybS5xdWV1ZWRTaXplID0gMDtcbiAgICBzdHJtLnB1c2ggPSBmdW5jdGlvbiAoZCwgZikge1xuICAgICAgICBpZiAoIXN0cm0ub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodClcbiAgICAgICAgICAgIHN0cm0ub25kYXRhKGVycig0LCAwLCAxKSwgbnVsbCwgISFmKTtcbiAgICAgICAgc3RybS5xdWV1ZWRTaXplICs9IGQubGVuZ3RoO1xuICAgICAgICB3LnBvc3RNZXNzYWdlKFtkLCB0ID0gZl0sIFtkLmJ1ZmZlcl0pO1xuICAgIH07XG4gICAgc3RybS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7IHcudGVybWluYXRlKCk7IH07XG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICAgIHN0cm0uZmx1c2ggPSBmdW5jdGlvbiAoKSB7IHcucG9zdE1lc3NhZ2UoW10pOyB9O1xuICAgIH1cbn07XG4vLyByZWFkIDIgYnl0ZXNcbnZhciBiMiA9IGZ1bmN0aW9uIChkLCBiKSB7IHJldHVybiBkW2JdIHwgKGRbYiArIDFdIDw8IDgpOyB9O1xuLy8gcmVhZCA0IGJ5dGVzXG52YXIgYjQgPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gKGRbYl0gfCAoZFtiICsgMV0gPDwgOCkgfCAoZFtiICsgMl0gPDwgMTYpIHwgKGRbYiArIDNdIDw8IDI0KSkgPj4+IDA7IH07XG52YXIgYjggPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gYjQoZCwgYikgKyAoYjQoZCwgYiArIDQpICogNDI5NDk2NzI5Nik7IH07XG4vLyB3cml0ZSBieXRlc1xudmFyIHdieXRlcyA9IGZ1bmN0aW9uIChkLCBiLCB2KSB7XG4gICAgZm9yICg7IHY7ICsrYilcbiAgICAgICAgZFtiXSA9IHYsIHYgPj4+PSA4O1xufTtcbi8vIGd6aXAgaGVhZGVyXG52YXIgZ3poID0gZnVuY3Rpb24gKGMsIG8pIHtcbiAgICB2YXIgZm4gPSBvLmZpbGVuYW1lO1xuICAgIGNbMF0gPSAzMSwgY1sxXSA9IDEzOSwgY1syXSA9IDgsIGNbOF0gPSBvLmxldmVsIDwgMiA/IDQgOiBvLmxldmVsID09IDkgPyAyIDogMCwgY1s5XSA9IDM7IC8vIGFzc3VtZSBVbml4XG4gICAgaWYgKG8ubXRpbWUgIT0gMClcbiAgICAgICAgd2J5dGVzKGMsIDQsIE1hdGguZmxvb3IobmV3IERhdGUoby5tdGltZSB8fCBEYXRlLm5vdygpKSAvIDEwMDApKTtcbiAgICBpZiAoZm4pIHtcbiAgICAgICAgY1szXSA9IDg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGZuLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgY1tpICsgMTBdID0gZm4uY2hhckNvZGVBdChpKTtcbiAgICB9XG59O1xuLy8gZ3ppcCBmb290ZXI6IC04IHRvIC00ID0gQ1JDLCAtNCB0byAtMCBpcyBsZW5ndGhcbi8vIGd6aXAgc3RhcnRcbnZhciBnenMgPSBmdW5jdGlvbiAoZCkge1xuICAgIGlmIChkWzBdICE9IDMxIHx8IGRbMV0gIT0gMTM5IHx8IGRbMl0gIT0gOClcbiAgICAgICAgZXJyKDYsICdpbnZhbGlkIGd6aXAgZGF0YScpO1xuICAgIHZhciBmbGcgPSBkWzNdO1xuICAgIHZhciBzdCA9IDEwO1xuICAgIGlmIChmbGcgJiA0KVxuICAgICAgICBzdCArPSAoZFsxMF0gfCBkWzExXSA8PCA4KSArIDI7XG4gICAgZm9yICh2YXIgenMgPSAoZmxnID4+IDMgJiAxKSArIChmbGcgPj4gNCAmIDEpOyB6cyA+IDA7IHpzIC09ICFkW3N0KytdKVxuICAgICAgICA7XG4gICAgcmV0dXJuIHN0ICsgKGZsZyAmIDIpO1xufTtcbi8vIGd6aXAgbGVuZ3RoXG52YXIgZ3psID0gZnVuY3Rpb24gKGQpIHtcbiAgICB2YXIgbCA9IGQubGVuZ3RoO1xuICAgIHJldHVybiAoZFtsIC0gNF0gfCBkW2wgLSAzXSA8PCA4IHwgZFtsIC0gMl0gPDwgMTYgfCBkW2wgLSAxXSA8PCAyNCkgPj4+IDA7XG59O1xuLy8gZ3ppcCBoZWFkZXIgbGVuZ3RoXG52YXIgZ3pobCA9IGZ1bmN0aW9uIChvKSB7IHJldHVybiAxMCArIChvLmZpbGVuYW1lID8gby5maWxlbmFtZS5sZW5ndGggKyAxIDogMCk7IH07XG4vLyB6bGliIGhlYWRlclxudmFyIHpsaCA9IGZ1bmN0aW9uIChjLCBvKSB7XG4gICAgdmFyIGx2ID0gby5sZXZlbCwgZmwgPSBsdiA9PSAwID8gMCA6IGx2IDwgNiA/IDEgOiBsdiA9PSA5ID8gMyA6IDI7XG4gICAgY1swXSA9IDEyMCwgY1sxXSA9IChmbCA8PCA2KSB8IChvLmRpY3Rpb25hcnkgJiYgMzIpO1xuICAgIGNbMV0gfD0gMzEgLSAoKGNbMF0gPDwgOCkgfCBjWzFdKSAlIDMxO1xuICAgIGlmIChvLmRpY3Rpb25hcnkpIHtcbiAgICAgICAgdmFyIGggPSBhZGxlcigpO1xuICAgICAgICBoLnAoby5kaWN0aW9uYXJ5KTtcbiAgICAgICAgd2J5dGVzKGMsIDIsIGguZCgpKTtcbiAgICB9XG59O1xuLy8gemxpYiBzdGFydFxudmFyIHpscyA9IGZ1bmN0aW9uIChkLCBkaWN0KSB7XG4gICAgaWYgKChkWzBdICYgMTUpICE9IDggfHwgKGRbMF0gPj4gNCkgPiA3IHx8ICgoZFswXSA8PCA4IHwgZFsxXSkgJSAzMSkpXG4gICAgICAgIGVycig2LCAnaW52YWxpZCB6bGliIGRhdGEnKTtcbiAgICBpZiAoKGRbMV0gPj4gNSAmIDEpID09ICshZGljdClcbiAgICAgICAgZXJyKDYsICdpbnZhbGlkIHpsaWIgZGF0YTogJyArIChkWzFdICYgMzIgPyAnbmVlZCcgOiAndW5leHBlY3RlZCcpICsgJyBkaWN0aW9uYXJ5Jyk7XG4gICAgcmV0dXJuIChkWzFdID4+IDMgJiA0KSArIDI7XG59O1xuZnVuY3Rpb24gU3RybU9wdChvcHRzLCBjYikge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgIHJldHVybiBvcHRzO1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvblxuICovXG52YXIgRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgICAgIHRoaXMubyA9IG9wdHMgfHwge307XG4gICAgICAgIHRoaXMucyA9IHsgbDogMCwgaTogMzI3NjgsIHc6IDMyNzY4LCB6OiAzMjc2OCB9O1xuICAgICAgICAvLyBCdWZmZXIgbGVuZ3RoIG11c3QgYWx3YXlzIGJlIDAgbW9kIDMyNzY4IGZvciBpbmRleCBjYWxjdWxhdGlvbnMgdG8gYmUgY29ycmVjdCB3aGVuIG1vZGlmeWluZyBoZWFkIGFuZCBwcmV2XG4gICAgICAgIC8vIDk4MzA0ID0gMzI3NjggKGxvb2tiYWNrKSArIDY1NTM2IChjb21tb24gY2h1bmsgc2l6ZSlcbiAgICAgICAgdGhpcy5iID0gbmV3IHU4KDk4MzA0KTtcbiAgICAgICAgaWYgKHRoaXMuby5kaWN0aW9uYXJ5KSB7XG4gICAgICAgICAgICB2YXIgZGljdCA9IHRoaXMuby5kaWN0aW9uYXJ5LnN1YmFycmF5KC0zMjc2OCk7XG4gICAgICAgICAgICB0aGlzLmIuc2V0KGRpY3QsIDMyNzY4IC0gZGljdC5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5zLmkgPSAzMjc2OCAtIGRpY3QubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuICAgIERlZmxhdGUucHJvdG90eXBlLnAgPSBmdW5jdGlvbiAoYywgZikge1xuICAgICAgICB0aGlzLm9uZGF0YShkb3B0KGMsIHRoaXMubywgMCwgMCwgdGhpcy5zKSwgZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWZsYXRlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5zLmwpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHZhciBlbmRMZW4gPSBjaHVuay5sZW5ndGggKyB0aGlzLnMuejtcbiAgICAgICAgaWYgKGVuZExlbiA+IHRoaXMuYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChlbmRMZW4gPiAyICogdGhpcy5iLmxlbmd0aCAtIDMyNzY4KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0J1ZiA9IG5ldyB1OChlbmRMZW4gJiAtMzI3NjgpO1xuICAgICAgICAgICAgICAgIG5ld0J1Zi5zZXQodGhpcy5iLnN1YmFycmF5KDAsIHRoaXMucy56KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5iID0gbmV3QnVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNwbGl0ID0gdGhpcy5iLmxlbmd0aCAtIHRoaXMucy56O1xuICAgICAgICAgICAgdGhpcy5iLnNldChjaHVuay5zdWJhcnJheSgwLCBzcGxpdCksIHRoaXMucy56KTtcbiAgICAgICAgICAgIHRoaXMucy56ID0gdGhpcy5iLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMucCh0aGlzLmIsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuYi5zZXQodGhpcy5iLnN1YmFycmF5KC0zMjc2OCkpO1xuICAgICAgICAgICAgdGhpcy5iLnNldChjaHVuay5zdWJhcnJheShzcGxpdCksIDMyNzY4KTtcbiAgICAgICAgICAgIHRoaXMucy56ID0gY2h1bmsubGVuZ3RoIC0gc3BsaXQgKyAzMjc2ODtcbiAgICAgICAgICAgIHRoaXMucy5pID0gMzI3NjYsIHRoaXMucy53ID0gMzI3Njg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmIuc2V0KGNodW5rLCB0aGlzLnMueik7XG4gICAgICAgICAgICB0aGlzLnMueiArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zLmwgPSBmaW5hbCAmIDE7XG4gICAgICAgIGlmICh0aGlzLnMueiA+IHRoaXMucy53ICsgODE5MSB8fCBmaW5hbCkge1xuICAgICAgICAgICAgdGhpcy5wKHRoaXMuYiwgZmluYWwgfHwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zLncgPSB0aGlzLnMuaSwgdGhpcy5zLmkgLT0gMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmx1c2hlcyBidWZmZXJlZCB1bmNvbXByZXNzZWQgZGF0YS4gVXNlZnVsIHRvIGltbWVkaWF0ZWx5IHJldHJpZXZlIHRoZVxuICAgICAqIGRlZmxhdGVkIG91dHB1dCBmb3Igc21hbGwgaW5wdXRzLlxuICAgICAqL1xuICAgIERlZmxhdGUucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5zLmwpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHRoaXMucCh0aGlzLmIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5zLncgPSB0aGlzLnMuaSwgdGhpcy5zLmkgLT0gMjtcbiAgICB9O1xuICAgIHJldHVybiBEZWZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IERlZmxhdGUgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBERUZMQVRFIGNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY0RlZmxhdGUgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNEZWZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIGFzdHJtaWZ5KFtcbiAgICAgICAgICAgIGJEZmx0LFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2FzdHJtLCBEZWZsYXRlXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IERlZmxhdGUoZXYuZGF0YSk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgNiwgMSk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0RlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNEZWZsYXRlIH07XG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZShkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJEZmx0LFxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKGRlZmxhdGVTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgMCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzc2VzIGRhdGEgd2l0aCBERUZMQVRFIHdpdGhvdXQgYW55IHdyYXBwZXJcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlZmxhdGVkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICByZXR1cm4gZG9wdChkYXRhLCBvcHRzIHx8IHt9LCAwLCAwKTtcbn1cbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgSW5mbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIC8vIG5vIFN0cm1PcHQgaGVyZSB0byBhdm9pZCBhZGRpbmcgdG8gd29ya2VyaXplclxuICAgICAgICBpZiAodHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICB2YXIgZGljdCA9IG9wdHMgJiYgb3B0cy5kaWN0aW9uYXJ5ICYmIG9wdHMuZGljdGlvbmFyeS5zdWJhcnJheSgtMzI3NjgpO1xuICAgICAgICB0aGlzLnMgPSB7IGk6IDAsIGI6IGRpY3QgPyBkaWN0Lmxlbmd0aCA6IDAgfTtcbiAgICAgICAgdGhpcy5vID0gbmV3IHU4KDMyNzY4KTtcbiAgICAgICAgdGhpcy5wID0gbmV3IHU4KDApO1xuICAgICAgICBpZiAoZGljdClcbiAgICAgICAgICAgIHRoaXMuby5zZXQoZGljdCk7XG4gICAgfVxuICAgIEluZmxhdGUucHJvdG90eXBlLmUgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5kKVxuICAgICAgICAgICAgZXJyKDQpO1xuICAgICAgICBpZiAoIXRoaXMucC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnAgPSBjO1xuICAgICAgICBlbHNlIGlmIChjLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG4gPSBuZXcgdTgodGhpcy5wLmxlbmd0aCArIGMubGVuZ3RoKTtcbiAgICAgICAgICAgIG4uc2V0KHRoaXMucCksIG4uc2V0KGMsIHRoaXMucC5sZW5ndGgpLCB0aGlzLnAgPSBuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbmZsYXRlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGZpbmFsKSB7XG4gICAgICAgIHRoaXMucy5pID0gKyh0aGlzLmQgPSBmaW5hbCB8fCBmYWxzZSk7XG4gICAgICAgIHZhciBidHMgPSB0aGlzLnMuYjtcbiAgICAgICAgdmFyIGR0ID0gaW5mbHQodGhpcy5wLCB0aGlzLnMsIHRoaXMubyk7XG4gICAgICAgIHRoaXMub25kYXRhKHNsYyhkdCwgYnRzLCB0aGlzLnMuYiksIHRoaXMuZCk7XG4gICAgICAgIHRoaXMubyA9IHNsYyhkdCwgdGhpcy5zLmIgLSAzMjc2OCksIHRoaXMucy5iID0gdGhpcy5vLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wID0gc2xjKHRoaXMucCwgKHRoaXMucy5wIC8gOCkgfCAwKSwgdGhpcy5zLnAgJj0gNztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGluZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgZmluYWwgY2h1bmtcbiAgICAgKi9cbiAgICBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB0aGlzLmUoY2h1bmspLCB0aGlzLmMoZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgSW5mbGF0ZSB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jSW5mbGF0ZShvcHRzLCBjYikge1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiSW5mbHQsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIEluZmxhdGVdOyB9XG4gICAgICAgIF0sIHRoaXMsIFN0cm1PcHQuY2FsbCh0aGlzLCBvcHRzLCBjYiksIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIHN0cm0gPSBuZXcgSW5mbGF0ZShldi5kYXRhKTtcbiAgICAgICAgICAgIG9ubWVzc2FnZSA9IGFzdHJtKHN0cm0pO1xuICAgICAgICB9LCA3LCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY0luZmxhdGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkluZmx0XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoaW5mbGF0ZVN5bmMoZXYuZGF0YVswXSwgZ29wdChldi5kYXRhWzFdKSkpOyB9LCAxLCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgREVGTEFURSBkYXRhIHdpdGggbm8gd3JhcHBlclxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gZGVjb21wcmVzc1xuICogQHBhcmFtIG9wdHMgVGhlIGRlY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlY29tcHJlc3NlZCB2ZXJzaW9uIG9mIHRoZSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlU3luYyhkYXRhLCBvcHRzKSB7XG4gICAgcmV0dXJuIGluZmx0KGRhdGEsIHsgaTogMiB9LCBvcHRzICYmIG9wdHMub3V0LCBvcHRzICYmIG9wdHMuZGljdGlvbmFyeSk7XG59XG4vLyBiZWZvcmUgeW91IHllbGwgYXQgbWUgZm9yIG5vdCBqdXN0IHVzaW5nIGV4dGVuZHMsIG15IHJlYXNvbiBpcyB0aGF0IFRTIGluaGVyaXRhbmNlIGlzIGhhcmQgdG8gd29ya2VyaXplLlxuLyoqXG4gKiBTdHJlYW1pbmcgR1pJUCBjb21wcmVzc2lvblxuICovXG52YXIgR3ppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHemlwKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMuYyA9IGNyYygpO1xuICAgICAgICB0aGlzLmwgPSAwO1xuICAgICAgICB0aGlzLnYgPSAxO1xuICAgICAgICBEZWZsYXRlLmNhbGwodGhpcywgb3B0cywgY2IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBHWklQcGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEd6aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRoaXMuYy5wKGNodW5rKTtcbiAgICAgICAgdGhpcy5sICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgRGVmbGF0ZS5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICBHemlwLnByb3RvdHlwZS5wID0gZnVuY3Rpb24gKGMsIGYpIHtcbiAgICAgICAgdmFyIHJhdyA9IGRvcHQoYywgdGhpcy5vLCB0aGlzLnYgJiYgZ3pobCh0aGlzLm8pLCBmICYmIDgsIHRoaXMucyk7XG4gICAgICAgIGlmICh0aGlzLnYpXG4gICAgICAgICAgICBnemgocmF3LCB0aGlzLm8pLCB0aGlzLnYgPSAwO1xuICAgICAgICBpZiAoZilcbiAgICAgICAgICAgIHdieXRlcyhyYXcsIHJhdy5sZW5ndGggLSA4LCB0aGlzLmMuZCgpKSwgd2J5dGVzKHJhdywgcmF3Lmxlbmd0aCAtIDQsIHRoaXMubCk7XG4gICAgICAgIHRoaXMub25kYXRhKHJhdywgZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGJ1ZmZlcmVkIHVuY29tcHJlc3NlZCBkYXRhLiBVc2VmdWwgdG8gaW1tZWRpYXRlbHkgcmV0cmlldmUgdGhlXG4gICAgICogR1pJUHBlZCBvdXRwdXQgZm9yIHNtYWxsIGlucHV0cy5cbiAgICAgKi9cbiAgICBHemlwLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgRGVmbGF0ZS5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBHemlwO1xufSgpKTtcbmV4cG9ydCB7IEd6aXAgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBHWklQIGNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY0d6aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNHemlwKG9wdHMsIGNiKSB7XG4gICAgICAgIGFzdHJtaWZ5KFtcbiAgICAgICAgICAgIGJEZmx0LFxuICAgICAgICAgICAgZ3plLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2FzdHJtLCBEZWZsYXRlLCBHemlwXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IEd6aXAoZXYuZGF0YSk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgOCwgMSk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0d6aXA7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNHemlwIH07XG5leHBvcnQgZnVuY3Rpb24gZ3ppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJEZmx0LFxuICAgICAgICBnemUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtnemlwU3luY107IH1cbiAgICBdLCBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHBiZihnemlwU3luYyhldi5kYXRhWzBdLCBldi5kYXRhWzFdKSk7IH0sIDIsIGNiKTtcbn1cbi8qKlxuICogQ29tcHJlc3NlcyBkYXRhIHdpdGggR1pJUFxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZ3ppcHBlZCB2ZXJzaW9uIG9mIHRoZSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnemlwU3luYyhkYXRhLCBvcHRzKSB7XG4gICAgaWYgKCFvcHRzKVxuICAgICAgICBvcHRzID0ge307XG4gICAgdmFyIGMgPSBjcmMoKSwgbCA9IGRhdGEubGVuZ3RoO1xuICAgIGMucChkYXRhKTtcbiAgICB2YXIgZCA9IGRvcHQoZGF0YSwgb3B0cywgZ3pobChvcHRzKSwgOCksIHMgPSBkLmxlbmd0aDtcbiAgICByZXR1cm4gZ3poKGQsIG9wdHMpLCB3Ynl0ZXMoZCwgcyAtIDgsIGMuZCgpKSwgd2J5dGVzKGQsIHMgLSA0LCBsKSwgZDtcbn1cbi8qKlxuICogU3RyZWFtaW5nIHNpbmdsZSBvciBtdWx0aS1tZW1iZXIgR1pJUCBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBHdW56aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3VuemlwKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIHRoaXMuciA9IDA7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBvcHRzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIEdVTlpJUHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBHdW56aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIHRoaXMuciArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy5wLnN1YmFycmF5KHRoaXMudiAtIDEpO1xuICAgICAgICAgICAgdmFyIHMgPSBwLmxlbmd0aCA+IDMgPyBnenMocCkgOiA0O1xuICAgICAgICAgICAgaWYgKHMgPiBwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICghZmluYWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudiA+IDEgJiYgdGhpcy5vbm1lbWJlcikge1xuICAgICAgICAgICAgICAgIHRoaXMub25tZW1iZXIodGhpcy5yIC0gcC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wID0gcC5zdWJhcnJheShzKSwgdGhpcy52ID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBUUyBmcm9tIHVzaW5nIHRoZSBjbG9zdXJlIHZhbHVlXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIGZvciB3b3JrZXJpemF0aW9uIHRvIGZ1bmN0aW9uIGNvcnJlY3RseVxuICAgICAgICBJbmZsYXRlLnByb3RvdHlwZS5jLmNhbGwodGhpcywgZmluYWwpO1xuICAgICAgICAvLyBwcm9jZXNzIGNvbmNhdGVuYXRlZCBHWklQXG4gICAgICAgIGlmICh0aGlzLnMuZiAmJiAhdGhpcy5zLmwgJiYgIWZpbmFsKSB7XG4gICAgICAgICAgICB0aGlzLnYgPSBzaGZ0KHRoaXMucy5wKSArIDk7XG4gICAgICAgICAgICB0aGlzLnMgPSB7IGk6IDAgfTtcbiAgICAgICAgICAgIHRoaXMubyA9IG5ldyB1OCgwKTtcbiAgICAgICAgICAgIHRoaXMucHVzaChuZXcgdTgoMCksIGZpbmFsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEd1bnppcDtcbn0oKSk7XG5leHBvcnQgeyBHdW56aXAgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBzaW5nbGUgb3IgbXVsdGktbWVtYmVyIEdaSVAgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNHdW56aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNHdW56aXAob3B0cywgY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkluZmx0LFxuICAgICAgICAgICAgZ3V6ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgSW5mbGF0ZSwgR3VuemlwXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IEd1bnppcChldi5kYXRhKTtcbiAgICAgICAgICAgIHN0cm0ub25tZW1iZXIgPSBmdW5jdGlvbiAob2Zmc2V0KSB7IHJldHVybiBwb3N0TWVzc2FnZShvZmZzZXQpOyB9O1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDksIDAsIGZ1bmN0aW9uIChvZmZzZXQpIHsgcmV0dXJuIF90aGlzLm9ubWVtYmVyICYmIF90aGlzLm9ubWVtYmVyKG9mZnNldCk7IH0pO1xuICAgIH1cbiAgICByZXR1cm4gQXN5bmNHdW56aXA7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNHdW56aXAgfTtcbmV4cG9ydCBmdW5jdGlvbiBndW56aXAoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICByZXR1cm4gY2JpZnkoZGF0YSwgb3B0cywgW1xuICAgICAgICBiSW5mbHQsXG4gICAgICAgIGd1emUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtndW56aXBTeW5jXTsgfVxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKGd1bnppcFN5bmMoZXYuZGF0YVswXSwgZXYuZGF0YVsxXSkpOyB9LCAzLCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgR1pJUCBkYXRhXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgZGVjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGd1bnppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIHZhciBzdCA9IGd6cyhkYXRhKTtcbiAgICBpZiAoc3QgKyA4ID4gZGF0YS5sZW5ndGgpXG4gICAgICAgIGVycig2LCAnaW52YWxpZCBnemlwIGRhdGEnKTtcbiAgICByZXR1cm4gaW5mbHQoZGF0YS5zdWJhcnJheShzdCwgLTgpLCB7IGk6IDIgfSwgb3B0cyAmJiBvcHRzLm91dCB8fCBuZXcgdTgoZ3psKGRhdGEpKSwgb3B0cyAmJiBvcHRzLmRpY3Rpb25hcnkpO1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgWmxpYiBjb21wcmVzc2lvblxuICovXG52YXIgWmxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBabGliKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMuYyA9IGFkbGVyKCk7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIERlZmxhdGUuY2FsbCh0aGlzLCBvcHRzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHpsaWJiZWRcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgWmxpYi5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdGhpcy5jLnAoY2h1bmspO1xuICAgICAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIFpsaWIucHJvdG90eXBlLnAgPSBmdW5jdGlvbiAoYywgZikge1xuICAgICAgICB2YXIgcmF3ID0gZG9wdChjLCB0aGlzLm8sIHRoaXMudiAmJiAodGhpcy5vLmRpY3Rpb25hcnkgPyA2IDogMiksIGYgJiYgNCwgdGhpcy5zKTtcbiAgICAgICAgaWYgKHRoaXMudilcbiAgICAgICAgICAgIHpsaChyYXcsIHRoaXMubyksIHRoaXMudiA9IDA7XG4gICAgICAgIGlmIChmKVxuICAgICAgICAgICAgd2J5dGVzKHJhdywgcmF3Lmxlbmd0aCAtIDQsIHRoaXMuYy5kKCkpO1xuICAgICAgICB0aGlzLm9uZGF0YShyYXcsIGYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmx1c2hlcyBidWZmZXJlZCB1bmNvbXByZXNzZWQgZGF0YS4gVXNlZnVsIHRvIGltbWVkaWF0ZWx5IHJldHJpZXZlIHRoZVxuICAgICAqIHpsaWJiZWQgb3V0cHV0IGZvciBzbWFsbCBpbnB1dHMuXG4gICAgICovXG4gICAgWmxpYi5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLmZsdXNoLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gWmxpYjtcbn0oKSk7XG5leHBvcnQgeyBabGliIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgWmxpYiBjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNabGliID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jWmxpYihvcHRzLCBjYikge1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiRGZsdCxcbiAgICAgICAgICAgIHpsZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgRGVmbGF0ZSwgWmxpYl07IH1cbiAgICAgICAgXSwgdGhpcywgU3RybU9wdC5jYWxsKHRoaXMsIG9wdHMsIGNiKSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc3RybSA9IG5ldyBabGliKGV2LmRhdGEpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDEwLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jWmxpYjtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1psaWIgfTtcbmV4cG9ydCBmdW5jdGlvbiB6bGliKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkRmbHQsXG4gICAgICAgIHpsZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psaWJTeW5jXTsgfVxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKHpsaWJTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgNCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzcyBkYXRhIHdpdGggWmxpYlxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgemxpYi1jb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpsaWJTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpXG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICB2YXIgYSA9IGFkbGVyKCk7XG4gICAgYS5wKGRhdGEpO1xuICAgIHZhciBkID0gZG9wdChkYXRhLCBvcHRzLCBvcHRzLmRpY3Rpb25hcnkgPyA2IDogMiwgNCk7XG4gICAgcmV0dXJuIHpsaChkLCBvcHRzKSwgd2J5dGVzKGQsIGQubGVuZ3RoIC0gNCwgYS5kKCkpLCBkO1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgWmxpYiBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBVbnpsaWIgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW56bGliKG9wdHMsIGNiKSB7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBvcHRzLCBjYik7XG4gICAgICAgIHRoaXMudiA9IG9wdHMgJiYgb3B0cy5kaWN0aW9uYXJ5ID8gMiA6IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHVuemxpYmJlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBVbnpsaWIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoIDwgNiAmJiAhZmluYWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5wLnN1YmFycmF5KHpscyh0aGlzLnAsIHRoaXMudiAtIDEpKSwgdGhpcy52ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoIDwgNClcbiAgICAgICAgICAgICAgICBlcnIoNiwgJ2ludmFsaWQgemxpYiBkYXRhJyk7XG4gICAgICAgICAgICB0aGlzLnAgPSB0aGlzLnAuc3ViYXJyYXkoMCwgLTQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5lY2Vzc2FyeSB0byBwcmV2ZW50IFRTIGZyb20gdXNpbmcgdGhlIGNsb3N1cmUgdmFsdWVcbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgZm9yIHdvcmtlcml6YXRpb24gdG8gZnVuY3Rpb24gY29ycmVjdGx5XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmMuY2FsbCh0aGlzLCBmaW5hbCk7XG4gICAgfTtcbiAgICByZXR1cm4gVW56bGliO1xufSgpKTtcbmV4cG9ydCB7IFVuemxpYiB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIFpsaWIgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNVbnpsaWIgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXN5bmNVbnpsaWIob3B0cywgY2IpIHtcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkluZmx0LFxuICAgICAgICAgICAgenVsZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgSW5mbGF0ZSwgVW56bGliXTsgfVxuICAgICAgICBdLCB0aGlzLCBTdHJtT3B0LmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IFVuemxpYihldi5kYXRhKTtcbiAgICAgICAgICAgIG9ubWVzc2FnZSA9IGFzdHJtKHN0cm0pO1xuICAgICAgICB9LCAxMSwgMCk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY1VuemxpYjtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1VuemxpYiB9O1xuZXhwb3J0IGZ1bmN0aW9uIHVuemxpYihkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJJbmZsdCxcbiAgICAgICAgenVsZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3VuemxpYlN5bmNdOyB9XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYodW56bGliU3luYyhldi5kYXRhWzBdLCBnb3B0KGV2LmRhdGFbMV0pKSk7IH0sIDUsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBabGliIGRhdGFcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGRlY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBkZWNvbXByZXNzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBkZWNvbXByZXNzZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gdW56bGliU3luYyhkYXRhLCBvcHRzKSB7XG4gICAgcmV0dXJuIGluZmx0KGRhdGEuc3ViYXJyYXkoemxzKGRhdGEsIG9wdHMgJiYgb3B0cy5kaWN0aW9uYXJ5KSwgLTQpLCB7IGk6IDIgfSwgb3B0cyAmJiBvcHRzLm91dCwgb3B0cyAmJiBvcHRzLmRpY3Rpb25hcnkpO1xufVxuLy8gRGVmYXVsdCBhbGdvcml0aG0gZm9yIGNvbXByZXNzaW9uICh1c2VkIGJlY2F1c2UgaGF2aW5nIGEga25vd24gb3V0cHV0IHNpemUgYWxsb3dzIGZhc3RlciBkZWNvbXByZXNzaW9uKVxuZXhwb3J0IHsgZ3ppcCBhcyBjb21wcmVzcywgQXN5bmNHemlwIGFzIEFzeW5jQ29tcHJlc3MgfTtcbmV4cG9ydCB7IGd6aXBTeW5jIGFzIGNvbXByZXNzU3luYywgR3ppcCBhcyBDb21wcmVzcyB9O1xuLyoqXG4gKiBTdHJlYW1pbmcgR1pJUCwgWmxpYiwgb3IgcmF3IERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgRGVjb21wcmVzcyA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNvbXByZXNzKG9wdHMsIGNiKSB7XG4gICAgICAgIHRoaXMubyA9IFN0cm1PcHQuY2FsbCh0aGlzLCBvcHRzLCBjYikgfHwge307XG4gICAgICAgIHRoaXMuRyA9IEd1bnppcDtcbiAgICAgICAgdGhpcy5JID0gSW5mbGF0ZTtcbiAgICAgICAgdGhpcy5aID0gVW56bGliO1xuICAgIH1cbiAgICAvLyBpbml0IHN1YnN0cmVhbVxuICAgIC8vIG92ZXJyaWRlbiBieSBBc3luY0RlY29tcHJlc3NcbiAgICBEZWNvbXByZXNzLnByb3RvdHlwZS5pID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnMub25kYXRhID0gZnVuY3Rpb24gKGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShkYXQsIGZpbmFsKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlY29tcHJlc3NlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWNvbXByZXNzLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAoIXRoaXMucykge1xuICAgICAgICAgICAgaWYgKHRoaXMucCAmJiB0aGlzLnAubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG4gPSBuZXcgdTgodGhpcy5wLmxlbmd0aCArIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbi5zZXQodGhpcy5wKSwgbi5zZXQoY2h1bmssIHRoaXMucC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMucCA9IGNodW5rO1xuICAgICAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zID0gKHRoaXMucFswXSA9PSAzMSAmJiB0aGlzLnBbMV0gPT0gMTM5ICYmIHRoaXMucFsyXSA9PSA4KVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyB0aGlzLkcodGhpcy5vKVxuICAgICAgICAgICAgICAgICAgICA6ICgodGhpcy5wWzBdICYgMTUpICE9IDggfHwgKHRoaXMucFswXSA+PiA0KSA+IDcgfHwgKCh0aGlzLnBbMF0gPDwgOCB8IHRoaXMucFsxXSkgJSAzMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyB0aGlzLkkodGhpcy5vKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgdGhpcy5aKHRoaXMubyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zLnB1c2godGhpcy5wLCBmaW5hbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnMucHVzaChjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIERlY29tcHJlc3M7XG59KCkpO1xuZXhwb3J0IHsgRGVjb21wcmVzcyB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIEdaSVAsIFpsaWIsIG9yIHJhdyBERUZMQVRFIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jRGVjb21wcmVzcyA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3luY0RlY29tcHJlc3Mob3B0cywgY2IpIHtcbiAgICAgICAgRGVjb21wcmVzcy5jYWxsKHRoaXMsIG9wdHMsIGNiKTtcbiAgICAgICAgdGhpcy5xdWV1ZWRTaXplID0gMDtcbiAgICAgICAgdGhpcy5HID0gQXN5bmNHdW56aXA7XG4gICAgICAgIHRoaXMuSSA9IEFzeW5jSW5mbGF0ZTtcbiAgICAgICAgdGhpcy5aID0gQXN5bmNVbnpsaWI7XG4gICAgfVxuICAgIEFzeW5jRGVjb21wcmVzcy5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnMub25kcmFpbiA9IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgICAgICBfdGhpcy5xdWV1ZWRTaXplIC09IHNpemU7XG4gICAgICAgICAgICBpZiAoX3RoaXMub25kcmFpbilcbiAgICAgICAgICAgICAgICBfdGhpcy5vbmRyYWluKHNpemUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVjb21wcmVzc2VkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEFzeW5jRGVjb21wcmVzcy5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdGhpcy5xdWV1ZWRTaXplICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgRGVjb21wcmVzcy5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNEZWNvbXByZXNzO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jRGVjb21wcmVzcyB9O1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29tcHJlc3MoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICByZXR1cm4gKGRhdGFbMF0gPT0gMzEgJiYgZGF0YVsxXSA9PSAxMzkgJiYgZGF0YVsyXSA9PSA4KVxuICAgICAgICA/IGd1bnppcChkYXRhLCBvcHRzLCBjYilcbiAgICAgICAgOiAoKGRhdGFbMF0gJiAxNSkgIT0gOCB8fCAoZGF0YVswXSA+PiA0KSA+IDcgfHwgKChkYXRhWzBdIDw8IDggfCBkYXRhWzFdKSAlIDMxKSlcbiAgICAgICAgICAgID8gaW5mbGF0ZShkYXRhLCBvcHRzLCBjYilcbiAgICAgICAgICAgIDogdW56bGliKGRhdGEsIG9wdHMsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBjb21wcmVzc2VkIEdaSVAsIFpsaWIsIG9yIHJhdyBERUZMQVRFIGRhdGEsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0aW5nIHRoZSBmb3JtYXRcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGRlY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBkZWNvbXByZXNzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBkZWNvbXByZXNzZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wcmVzc1N5bmMoZGF0YSwgb3B0cykge1xuICAgIHJldHVybiAoZGF0YVswXSA9PSAzMSAmJiBkYXRhWzFdID09IDEzOSAmJiBkYXRhWzJdID09IDgpXG4gICAgICAgID8gZ3VuemlwU3luYyhkYXRhLCBvcHRzKVxuICAgICAgICA6ICgoZGF0YVswXSAmIDE1KSAhPSA4IHx8IChkYXRhWzBdID4+IDQpID4gNyB8fCAoKGRhdGFbMF0gPDwgOCB8IGRhdGFbMV0pICUgMzEpKVxuICAgICAgICAgICAgPyBpbmZsYXRlU3luYyhkYXRhLCBvcHRzKVxuICAgICAgICAgICAgOiB1bnpsaWJTeW5jKGRhdGEsIG9wdHMpO1xufVxuLy8gZmxhdHRlbiBhIGRpcmVjdG9yeSBzdHJ1Y3R1cmVcbnZhciBmbHRuID0gZnVuY3Rpb24gKGQsIHAsIHQsIG8pIHtcbiAgICBmb3IgKHZhciBrIGluIGQpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRba10sIG4gPSBwICsgaywgb3AgPSBvO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKVxuICAgICAgICAgICAgb3AgPSBtcmcobywgdmFsWzFdKSwgdmFsID0gdmFsWzBdO1xuICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgdTgpXG4gICAgICAgICAgICB0W25dID0gW3ZhbCwgb3BdO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRbbiArPSAnLyddID0gW25ldyB1OCgwKSwgb3BdO1xuICAgICAgICAgICAgZmx0bih2YWwsIG4sIHQsIG8pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIHRleHQgZW5jb2RlclxudmFyIHRlID0gdHlwZW9mIFRleHRFbmNvZGVyICE9ICd1bmRlZmluZWQnICYmIC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vLyB0ZXh0IGRlY29kZXJcbnZhciB0ZCA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyAmJiAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RGVjb2RlcigpO1xuLy8gdGV4dCBkZWNvZGVyIHN0cmVhbVxudmFyIHRkcyA9IDA7XG50cnkge1xuICAgIHRkLmRlY29kZShldCwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgdGRzID0gMTtcbn1cbmNhdGNoIChlKSB7IH1cbi8vIGRlY29kZSBVVEY4XG52YXIgZHV0ZjggPSBmdW5jdGlvbiAoZCkge1xuICAgIGZvciAodmFyIHIgPSAnJywgaSA9IDA7Oykge1xuICAgICAgICB2YXIgYyA9IGRbaSsrXTtcbiAgICAgICAgdmFyIGViID0gKGMgPiAxMjcpICsgKGMgPiAyMjMpICsgKGMgPiAyMzkpO1xuICAgICAgICBpZiAoaSArIGViID4gZC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4geyBzOiByLCByOiBzbGMoZCwgaSAtIDEpIH07XG4gICAgICAgIGlmICghZWIpXG4gICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgICAgIGVsc2UgaWYgKGViID09IDMpIHtcbiAgICAgICAgICAgIGMgPSAoKGMgJiAxNSkgPDwgMTggfCAoZFtpKytdICYgNjMpIDw8IDEyIHwgKGRbaSsrXSAmIDYzKSA8PCA2IHwgKGRbaSsrXSAmIDYzKSkgLSA2NTUzNixcbiAgICAgICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYgfCAoYyA+PiAxMCksIDU2MzIwIHwgKGMgJiAxMDIzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWIgJiAxKVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMzEpIDw8IDYgfCAoZFtpKytdICYgNjMpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMTUpIDw8IDEyIHwgKGRbaSsrXSAmIDYzKSA8PCA2IHwgKGRbaSsrXSAmIDYzKSk7XG4gICAgfVxufTtcbi8qKlxuICogU3RyZWFtaW5nIFVURi04IGRlY29kaW5nXG4gKi9cbnZhciBEZWNvZGVVVEY4ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBVVEYtOCBkZWNvZGluZyBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBkZWNvZGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVjb2RlVVRGOChjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICBpZiAodGRzKVxuICAgICAgICAgICAgdGhpcy50ID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucCA9IGV0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWNvZGVkIGZyb20gVVRGLTggYmluYXJ5XG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIERlY29kZVVURjgucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGZpbmFsID0gISFmaW5hbDtcbiAgICAgICAgaWYgKHRoaXMudCkge1xuICAgICAgICAgICAgdGhpcy5vbmRhdGEodGhpcy50LmRlY29kZShjaHVuaywgeyBzdHJlYW06IHRydWUgfSksIGZpbmFsKTtcbiAgICAgICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnQuZGVjb2RlKCkubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICBlcnIoOCk7XG4gICAgICAgICAgICAgICAgdGhpcy50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMucClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgdmFyIGRhdCA9IG5ldyB1OCh0aGlzLnAubGVuZ3RoICsgY2h1bmsubGVuZ3RoKTtcbiAgICAgICAgZGF0LnNldCh0aGlzLnApO1xuICAgICAgICBkYXQuc2V0KGNodW5rLCB0aGlzLnAubGVuZ3RoKTtcbiAgICAgICAgdmFyIF9hID0gZHV0ZjgoZGF0KSwgcyA9IF9hLnMsIHIgPSBfYS5yO1xuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmIChyLmxlbmd0aClcbiAgICAgICAgICAgICAgICBlcnIoOCk7XG4gICAgICAgICAgICB0aGlzLnAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucCA9IHI7XG4gICAgICAgIHRoaXMub25kYXRhKHMsIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVVVEY4O1xufSgpKTtcbmV4cG9ydCB7IERlY29kZVVURjggfTtcbi8qKlxuICogU3RyZWFtaW5nIFVURi04IGVuY29kaW5nXG4gKi9cbnZhciBFbmNvZGVVVEY4ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBVVEYtOCBkZWNvZGluZyBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBlbmNvZGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gRW5jb2RlVVRGOChjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBlbmNvZGVkIHRvIFVURi04XG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBzdHJpbmcgZGF0YSB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEVuY29kZVVURjgucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHRoaXMub25kYXRhKHN0clRvVTgoY2h1bmspLCB0aGlzLmQgPSBmaW5hbCB8fCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRW5jb2RlVVRGODtcbn0oKSk7XG5leHBvcnQgeyBFbmNvZGVVVEY4IH07XG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIGludG8gYSBVaW50OEFycmF5IGZvciB1c2Ugd2l0aCBjb21wcmVzc2lvbi9kZWNvbXByZXNzaW9uIG1ldGhvZHNcbiAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byBlbmNvZGVcbiAqIEBwYXJhbSBsYXRpbjEgV2hldGhlciBvciBub3QgdG8gaW50ZXJwcmV0IHRoZSBkYXRhIGFzIExhdGluLTEuIFRoaXMgc2hvdWxkXG4gKiAgICAgICAgICAgICAgIG5vdCBuZWVkIHRvIGJlIHRydWUgdW5sZXNzIGRlY29kaW5nIGEgYmluYXJ5IHN0cmluZy5cbiAqIEByZXR1cm5zIFRoZSBzdHJpbmcgZW5jb2RlZCBpbiBVVEYtOC9MYXRpbi0xIGJpbmFyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyVG9VOChzdHIsIGxhdGluMSkge1xuICAgIGlmIChsYXRpbjEpIHtcbiAgICAgICAgdmFyIGFyXzEgPSBuZXcgdTgoc3RyLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgYXJfMVtpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICByZXR1cm4gYXJfMTtcbiAgICB9XG4gICAgaWYgKHRlKVxuICAgICAgICByZXR1cm4gdGUuZW5jb2RlKHN0cik7XG4gICAgdmFyIGwgPSBzdHIubGVuZ3RoO1xuICAgIHZhciBhciA9IG5ldyB1OChzdHIubGVuZ3RoICsgKHN0ci5sZW5ndGggPj4gMSkpO1xuICAgIHZhciBhaSA9IDA7XG4gICAgdmFyIHcgPSBmdW5jdGlvbiAodikgeyBhclthaSsrXSA9IHY7IH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgaWYgKGFpICsgNSA+IGFyLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG4gPSBuZXcgdTgoYWkgKyA4ICsgKChsIC0gaSkgPDwgMSkpO1xuICAgICAgICAgICAgbi5zZXQoYXIpO1xuICAgICAgICAgICAgYXIgPSBuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMTI4IHx8IGxhdGluMSlcbiAgICAgICAgICAgIHcoYyk7XG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KVxuICAgICAgICAgICAgdygxOTIgfCAoYyA+PiA2KSksIHcoMTI4IHwgKGMgJiA2MykpO1xuICAgICAgICBlbHNlIGlmIChjID4gNTUyOTUgJiYgYyA8IDU3MzQ0KVxuICAgICAgICAgICAgYyA9IDY1NTM2ICsgKGMgJiAxMDIzIDw8IDEwKSB8IChzdHIuY2hhckNvZGVBdCgrK2kpICYgMTAyMyksXG4gICAgICAgICAgICAgICAgdygyNDAgfCAoYyA+PiAxOCkpLCB3KDEyOCB8ICgoYyA+PiAxMikgJiA2MykpLCB3KDEyOCB8ICgoYyA+PiA2KSAmIDYzKSksIHcoMTI4IHwgKGMgJiA2MykpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB3KDIyNCB8IChjID4+IDEyKSksIHcoMTI4IHwgKChjID4+IDYpICYgNjMpKSwgdygxMjggfCAoYyAmIDYzKSk7XG4gICAgfVxuICAgIHJldHVybiBzbGMoYXIsIDAsIGFpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IHRvIGEgc3RyaW5nXG4gKiBAcGFyYW0gZGF0IFRoZSBkYXRhIHRvIGRlY29kZSB0byBzdHJpbmdcbiAqIEBwYXJhbSBsYXRpbjEgV2hldGhlciBvciBub3QgdG8gaW50ZXJwcmV0IHRoZSBkYXRhIGFzIExhdGluLTEuIFRoaXMgc2hvdWxkXG4gKiAgICAgICAgICAgICAgIG5vdCBuZWVkIHRvIGJlIHRydWUgdW5sZXNzIGVuY29kaW5nIHRvIGJpbmFyeSBzdHJpbmcuXG4gKiBAcmV0dXJucyBUaGUgb3JpZ2luYWwgVVRGLTgvTGF0aW4tMSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0ckZyb21VOChkYXQsIGxhdGluMSkge1xuICAgIGlmIChsYXRpbjEpIHtcbiAgICAgICAgdmFyIHIgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXQubGVuZ3RoOyBpICs9IDE2Mzg0KVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGRhdC5zdWJhcnJheShpLCBpICsgMTYzODQpKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRkKSB7XG4gICAgICAgIHJldHVybiB0ZC5kZWNvZGUoZGF0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBfYSA9IGR1dGY4KGRhdCksIHMgPSBfYS5zLCByID0gX2EucjtcbiAgICAgICAgaWYgKHIubGVuZ3RoKVxuICAgICAgICAgICAgZXJyKDgpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG59XG47XG4vLyBkZWZsYXRlIGJpdCBmbGFnXG52YXIgZGJmID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwgPT0gMSA/IDMgOiBsIDwgNiA/IDIgOiBsID09IDkgPyAxIDogMDsgfTtcbi8vIHNraXAgbG9jYWwgemlwIGhlYWRlclxudmFyIHNsemggPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gYiArIDMwICsgYjIoZCwgYiArIDI2KSArIGIyKGQsIGIgKyAyOCk7IH07XG4vLyByZWFkIHppcCBoZWFkZXJcbnZhciB6aCA9IGZ1bmN0aW9uIChkLCBiLCB6KSB7XG4gICAgdmFyIGZubCA9IGIyKGQsIGIgKyAyOCksIGZuID0gc3RyRnJvbVU4KGQuc3ViYXJyYXkoYiArIDQ2LCBiICsgNDYgKyBmbmwpLCAhKGIyKGQsIGIgKyA4KSAmIDIwNDgpKSwgZXMgPSBiICsgNDYgKyBmbmwsIGJzID0gYjQoZCwgYiArIDIwKTtcbiAgICB2YXIgX2EgPSB6ICYmIGJzID09IDQyOTQ5NjcyOTUgPyB6NjRlKGQsIGVzKSA6IFticywgYjQoZCwgYiArIDI0KSwgYjQoZCwgYiArIDQyKV0sIHNjID0gX2FbMF0sIHN1ID0gX2FbMV0sIG9mZiA9IF9hWzJdO1xuICAgIHJldHVybiBbYjIoZCwgYiArIDEwKSwgc2MsIHN1LCBmbiwgZXMgKyBiMihkLCBiICsgMzApICsgYjIoZCwgYiArIDMyKSwgb2ZmXTtcbn07XG4vLyByZWFkIHppcDY0IGV4dHJhIGZpZWxkXG52YXIgejY0ZSA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICg7IGIyKGQsIGIpICE9IDE7IGIgKz0gNCArIGIyKGQsIGIgKyAyKSlcbiAgICAgICAgO1xuICAgIHJldHVybiBbYjgoZCwgYiArIDEyKSwgYjgoZCwgYiArIDQpLCBiOChkLCBiICsgMjApXTtcbn07XG4vLyBleHRyYSBmaWVsZCBsZW5ndGhcbnZhciBleGZsID0gZnVuY3Rpb24gKGV4KSB7XG4gICAgdmFyIGxlID0gMDtcbiAgICBpZiAoZXgpIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBleCkge1xuICAgICAgICAgICAgdmFyIGwgPSBleFtrXS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobCA+IDY1NTM1KVxuICAgICAgICAgICAgICAgIGVycig5KTtcbiAgICAgICAgICAgIGxlICs9IGwgKyA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZTtcbn07XG4vLyB3cml0ZSB6aXAgaGVhZGVyXG52YXIgd3poID0gZnVuY3Rpb24gKGQsIGIsIGYsIGZuLCB1LCBjLCBjZSwgY28pIHtcbiAgICB2YXIgZmwgPSBmbi5sZW5ndGgsIGV4ID0gZi5leHRyYSwgY29sID0gY28gJiYgY28ubGVuZ3RoO1xuICAgIHZhciBleGwgPSBleGZsKGV4KTtcbiAgICB3Ynl0ZXMoZCwgYiwgY2UgIT0gbnVsbCA/IDB4MjAxNEI1MCA6IDB4NDAzNEI1MCksIGIgKz0gNDtcbiAgICBpZiAoY2UgIT0gbnVsbClcbiAgICAgICAgZFtiKytdID0gMjAsIGRbYisrXSA9IGYub3M7XG4gICAgZFtiXSA9IDIwLCBiICs9IDI7IC8vIHNwZWMgY29tcGxpYW5jZT8gd2hhdCdzIHRoYXQ/XG4gICAgZFtiKytdID0gKGYuZmxhZyA8PCAxKSB8IChjIDwgMCAmJiA4KSwgZFtiKytdID0gdSAmJiA4O1xuICAgIGRbYisrXSA9IGYuY29tcHJlc3Npb24gJiAyNTUsIGRbYisrXSA9IGYuY29tcHJlc3Npb24gPj4gODtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZShmLm10aW1lID09IG51bGwgPyBEYXRlLm5vdygpIDogZi5tdGltZSksIHkgPSBkdC5nZXRGdWxsWWVhcigpIC0gMTk4MDtcbiAgICBpZiAoeSA8IDAgfHwgeSA+IDExOSlcbiAgICAgICAgZXJyKDEwKTtcbiAgICB3Ynl0ZXMoZCwgYiwgKHkgPDwgMjUpIHwgKChkdC5nZXRNb250aCgpICsgMSkgPDwgMjEpIHwgKGR0LmdldERhdGUoKSA8PCAxNikgfCAoZHQuZ2V0SG91cnMoKSA8PCAxMSkgfCAoZHQuZ2V0TWludXRlcygpIDw8IDUpIHwgKGR0LmdldFNlY29uZHMoKSA+PiAxKSksIGIgKz0gNDtcbiAgICBpZiAoYyAhPSAtMSkge1xuICAgICAgICB3Ynl0ZXMoZCwgYiwgZi5jcmMpO1xuICAgICAgICB3Ynl0ZXMoZCwgYiArIDQsIGMgPCAwID8gLWMgLSAyIDogYyk7XG4gICAgICAgIHdieXRlcyhkLCBiICsgOCwgZi5zaXplKTtcbiAgICB9XG4gICAgd2J5dGVzKGQsIGIgKyAxMiwgZmwpO1xuICAgIHdieXRlcyhkLCBiICsgMTQsIGV4bCksIGIgKz0gMTY7XG4gICAgaWYgKGNlICE9IG51bGwpIHtcbiAgICAgICAgd2J5dGVzKGQsIGIsIGNvbCk7XG4gICAgICAgIHdieXRlcyhkLCBiICsgNiwgZi5hdHRycyk7XG4gICAgICAgIHdieXRlcyhkLCBiICsgMTAsIGNlKSwgYiArPSAxNDtcbiAgICB9XG4gICAgZC5zZXQoZm4sIGIpO1xuICAgIGIgKz0gZmw7XG4gICAgaWYgKGV4bCkge1xuICAgICAgICBmb3IgKHZhciBrIGluIGV4KSB7XG4gICAgICAgICAgICB2YXIgZXhmID0gZXhba10sIGwgPSBleGYubGVuZ3RoO1xuICAgICAgICAgICAgd2J5dGVzKGQsIGIsICtrKTtcbiAgICAgICAgICAgIHdieXRlcyhkLCBiICsgMiwgbCk7XG4gICAgICAgICAgICBkLnNldChleGYsIGIgKyA0KSwgYiArPSA0ICsgbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29sKVxuICAgICAgICBkLnNldChjbywgYiksIGIgKz0gY29sO1xuICAgIHJldHVybiBiO1xufTtcbi8vIHdyaXRlIHppcCBmb290ZXIgKGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSlcbnZhciB3emYgPSBmdW5jdGlvbiAobywgYiwgYywgZCwgZSkge1xuICAgIHdieXRlcyhvLCBiLCAweDYwNTRCNTApOyAvLyBza2lwIGRpc2tcbiAgICB3Ynl0ZXMobywgYiArIDgsIGMpO1xuICAgIHdieXRlcyhvLCBiICsgMTAsIGMpO1xuICAgIHdieXRlcyhvLCBiICsgMTIsIGQpO1xuICAgIHdieXRlcyhvLCBiICsgMTYsIGUpO1xufTtcbi8qKlxuICogQSBwYXNzLXRocm91Z2ggc3RyZWFtIHRvIGtlZXAgZGF0YSB1bmNvbXByZXNzZWQgaW4gYSBaSVAgYXJjaGl2ZS5cbiAqL1xudmFyIFppcFBhc3NUaHJvdWdoID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwYXNzLXRocm91Z2ggc3RyZWFtIHRoYXQgY2FuIGJlIGFkZGVkIHRvIFpJUCBhcmNoaXZlc1xuICAgICAqIEBwYXJhbSBmaWxlbmFtZSBUaGUgZmlsZW5hbWUgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBkYXRhIHN0cmVhbVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFppcFBhc3NUaHJvdWdoKGZpbGVuYW1lKSB7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgdGhpcy5jID0gY3JjKCk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb24gPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgYSBjaHVuayBhbmQgcHVzaGVzIHRvIHRoZSBvdXRwdXQgc3RyZWFtLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXNcbiAgICAgKiBtZXRob2QgaW4gYSBzdWJjbGFzcyBmb3IgY3VzdG9tIGJlaGF2aW9yLCBidXQgYnkgZGVmYXVsdCB0aGlzIHBhc3Nlc1xuICAgICAqIHRoZSBkYXRhIHRocm91Z2guIFlvdSBtdXN0IGNhbGwgdGhpcy5vbmRhdGEoZXJyLCBjaHVuaywgZmluYWwpIGF0IHNvbWVcbiAgICAgKiBwb2ludCBpbiB0aGlzIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHByb2Nlc3NcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgWmlwUGFzc1Rocm91Z2gucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRoaXMub25kYXRhKG51bGwsIGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBhZGRlZC4gSWYgeW91IGFyZSBzdWJjbGFzc2luZyB0aGlzIHdpdGggYSBjdXN0b21cbiAgICAgKiBjb21wcmVzc2lvbiBhbGdvcml0aG0sIG5vdGUgdGhhdCB5b3UgbXVzdCBwdXNoIGRhdGEgZnJvbSB0aGUgc291cmNlXG4gICAgICogZmlsZSBvbmx5LCBwcmUtY29tcHJlc3Npb24uXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICB0aGlzLmMucChjaHVuayk7XG4gICAgICAgIHRoaXMuc2l6ZSArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIGlmIChmaW5hbClcbiAgICAgICAgICAgIHRoaXMuY3JjID0gdGhpcy5jLmQoKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzKGNodW5rLCBmaW5hbCB8fCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwUGFzc1Rocm91Z2g7XG59KCkpO1xuZXhwb3J0IHsgWmlwUGFzc1Rocm91Z2ggfTtcbi8vIEkgZG9uJ3QgZXh0ZW5kIGJlY2F1c2UgVHlwZVNjcmlwdCBleHRlbnNpb24gYWRkcyAxa0Igb2YgcnVudGltZSBibG9hdFxuLyoqXG4gKiBTdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvbiBmb3IgWklQIGFyY2hpdmVzLiBQcmVmZXIgdXNpbmcgQXN5bmNaaXBEZWZsYXRlXG4gKiBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gKi9cbnZhciBaaXBEZWZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIHN0cmVhbSB0aGF0IGNhbiBiZSBhZGRlZCB0byBaSVAgYXJjaGl2ZXNcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZGF0YSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFppcERlZmxhdGUoZmlsZW5hbWUsIG9wdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFvcHRzKVxuICAgICAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgICBaaXBQYXNzVGhyb3VnaC5jYWxsKHRoaXMsIGZpbGVuYW1lKTtcbiAgICAgICAgdGhpcy5kID0gbmV3IERlZmxhdGUob3B0cywgZnVuY3Rpb24gKGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShudWxsLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb24gPSA4O1xuICAgICAgICB0aGlzLmZsYWcgPSBkYmYob3B0cy5sZXZlbCk7XG4gICAgfVxuICAgIFppcERlZmxhdGUucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmQucHVzaChjaHVuaywgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlLCBudWxsLCBmaW5hbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFppcERlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBEZWZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IFppcERlZmxhdGUgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBERUZMQVRFIGNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXNcbiAqL1xudmFyIEFzeW5jWmlwRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFzeW5jaHJvbm91cyBERUZMQVRFIHN0cmVhbSB0aGF0IGNhbiBiZSBhZGRlZCB0byBaSVAgYXJjaGl2ZXNcbiAgICAgKiBAcGFyYW0gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgZGF0YSBzdHJlYW1cbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jWmlwRGVmbGF0ZShmaWxlbmFtZSwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIW9wdHMpXG4gICAgICAgICAgICBvcHRzID0ge307XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLmNhbGwodGhpcywgZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLmQgPSBuZXcgQXN5bmNEZWZsYXRlKG9wdHMsIGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wcmVzc2lvbiA9IDg7XG4gICAgICAgIHRoaXMuZmxhZyA9IGRiZihvcHRzLmxldmVsKTtcbiAgICAgICAgdGhpcy50ZXJtaW5hdGUgPSB0aGlzLmQudGVybWluYXRlO1xuICAgIH1cbiAgICBBc3luY1ppcERlZmxhdGUucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRoaXMuZC5wdXNoKGNodW5rLCBmaW5hbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWZsYXRlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBBc3luY1ppcERlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY1ppcERlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNaaXBEZWZsYXRlIH07XG4vLyBUT0RPOiBCZXR0ZXIgdHJlZSBzaGFraW5nXG4vKipcbiAqIEEgemlwcGFibGUgYXJjaGl2ZSB0byB3aGljaCBmaWxlcyBjYW4gaW5jcmVtZW50YWxseSBiZSBhZGRlZFxuICovXG52YXIgWmlwID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZW1wdHkgWklQIGFyY2hpdmUgdG8gd2hpY2ggZmlsZXMgY2FuIGJlIGFkZGVkXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgZm9yIHRoZSBnZW5lcmF0ZWQgWklQIGFyY2hpdmVcbiAgICAgKiAgICAgICAgICAgaXMgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZnVuY3Rpb24gWmlwKGNiKSB7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgICAgIHRoaXMudSA9IFtdO1xuICAgICAgICB0aGlzLmQgPSAxO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZmlsZSB0byB0aGUgWklQIGFyY2hpdmVcbiAgICAgKiBAcGFyYW0gZmlsZSBUaGUgZmlsZSBzdHJlYW0gdG8gYWRkXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICAvLyBmaW5pc2hpbmcgb3IgZmluaXNoZWRcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpXG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlcnIoNCArICh0aGlzLmQgJiAxKSAqIDgsIDAsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSBzdHJUb1U4KGZpbGUuZmlsZW5hbWUpLCBmbF8xID0gZi5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29tID0gZmlsZS5jb21tZW50LCBvID0gY29tICYmIHN0clRvVTgoY29tKTtcbiAgICAgICAgICAgIHZhciB1ID0gZmxfMSAhPSBmaWxlLmZpbGVuYW1lLmxlbmd0aCB8fCAobyAmJiAoY29tLmxlbmd0aCAhPSBvLmxlbmd0aCkpO1xuICAgICAgICAgICAgdmFyIGhsXzEgPSBmbF8xICsgZXhmbChmaWxlLmV4dHJhKSArIDMwO1xuICAgICAgICAgICAgaWYgKGZsXzEgPiA2NTUzNSlcbiAgICAgICAgICAgICAgICB0aGlzLm9uZGF0YShlcnIoMTEsIDAsIDEpLCBudWxsLCBmYWxzZSk7XG4gICAgICAgICAgICB2YXIgaGVhZGVyID0gbmV3IHU4KGhsXzEpO1xuICAgICAgICAgICAgd3poKGhlYWRlciwgMCwgZmlsZSwgZiwgdSwgLTEpO1xuICAgICAgICAgICAgdmFyIGNoa3NfMSA9IFtoZWFkZXJdO1xuICAgICAgICAgICAgdmFyIHBBbGxfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNoa3NfMiA9IGNoa3NfMTsgX2kgPCBjaGtzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGsgPSBjaGtzXzJbX2ldO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbmRhdGEobnVsbCwgY2hrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoa3NfMSA9IFtdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0cl8xID0gdGhpcy5kO1xuICAgICAgICAgICAgdGhpcy5kID0gMDtcbiAgICAgICAgICAgIHZhciBpbmRfMSA9IHRoaXMudS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgdWZfMSA9IG1yZyhmaWxlLCB7XG4gICAgICAgICAgICAgICAgZjogZixcbiAgICAgICAgICAgICAgICB1OiB1LFxuICAgICAgICAgICAgICAgIG86IG8sXG4gICAgICAgICAgICAgICAgdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS50ZXJtaW5hdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBwQWxsXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBueHQgPSBfdGhpcy51W2luZF8xICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG54dC5yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJfMSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2xfMSA9IDA7XG4gICAgICAgICAgICBmaWxlLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsXzEgKz0gZGF0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY2hrc18xLnB1c2goZGF0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGQgPSBuZXcgdTgoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCAwLCAweDgwNzRCNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCA0LCBmaWxlLmNyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3Ynl0ZXMoZGQsIDgsIGNsXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCAxMiwgZmlsZS5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoa3NfMS5wdXNoKGRkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVmXzEuYyA9IGNsXzEsIHVmXzEuYiA9IGhsXzEgKyBjbF8xICsgMTYsIHVmXzEuY3JjID0gZmlsZS5jcmMsIHVmXzEuc2l6ZSA9IGZpbGUuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cl8xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmXzEucigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJfMSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJfMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHBBbGxfMSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnUucHVzaCh1Zl8xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRW5kcyB0aGUgcHJvY2VzcyBvZiBhZGRpbmcgZmlsZXMgYW5kIHByZXBhcmVzIHRvIGVtaXQgdGhlIGZpbmFsIGNodW5rcy5cbiAgICAgKiBUaGlzICptdXN0KiBiZSBjYWxsZWQgYWZ0ZXIgYWRkaW5nIGFsbCBkZXNpcmVkIGZpbGVzIGZvciB0aGUgcmVzdWx0aW5nXG4gICAgICogWklQIGZpbGUgdG8gd29yayBwcm9wZXJseS5cbiAgICAgKi9cbiAgICBaaXAucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKGVycig0ICsgKHRoaXMuZCAmIDEpICogOCwgMCwgMSksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICB0aGlzLmUoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy51LnB1c2goe1xuICAgICAgICAgICAgICAgIHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuZCAmIDEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51LnNwbGljZSgtMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHQ6IGZ1bmN0aW9uICgpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZCA9IDM7XG4gICAgfTtcbiAgICBaaXAucHJvdG90eXBlLmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidCA9IDAsIGwgPSAwLCB0bCA9IDA7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIHRsICs9IDQ2ICsgZi5mLmxlbmd0aCArIGV4ZmwoZi5leHRyYSkgKyAoZi5vID8gZi5vLmxlbmd0aCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodGwgKyAyMik7XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0aGlzLnU7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9jW19iXTtcbiAgICAgICAgICAgIHd6aChvdXQsIGJ0LCBmLCBmLmYsIGYudSwgLWYuYyAtIDIsIGwsIGYubyk7XG4gICAgICAgICAgICBidCArPSA0NiArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpICsgKGYubyA/IGYuby5sZW5ndGggOiAwKSwgbCArPSBmLmI7XG4gICAgICAgIH1cbiAgICAgICAgd3pmKG91dCwgYnQsIHRoaXMudS5sZW5ndGgsIHRsLCBsKTtcbiAgICAgICAgdGhpcy5vbmRhdGEobnVsbCwgb3V0LCB0cnVlKTtcbiAgICAgICAgdGhpcy5kID0gMjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgbWV0aG9kIHRvIHRlcm1pbmF0ZSBhbnkgaW50ZXJuYWwgd29ya2VycyB1c2VkIGJ5IHRoZSBzdHJlYW0uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byBhZGQoKSB3aWxsIGZhaWwuXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIGYudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZCA9IDI7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwO1xufSgpKTtcbmV4cG9ydCB7IFppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIHppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHZhciByID0ge307XG4gICAgZmx0bihkYXRhLCAnJywgciwgb3B0cyk7XG4gICAgdmFyIGsgPSBPYmplY3Qua2V5cyhyKTtcbiAgICB2YXIgbGZ0ID0gay5sZW5ndGgsIG8gPSAwLCB0b3QgPSAwO1xuICAgIHZhciBzbGZ0ID0gbGZ0LCBmaWxlcyA9IG5ldyBBcnJheShsZnQpO1xuICAgIHZhciB0ZXJtID0gW107XG4gICAgdmFyIHRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRlcm1baV0oKTtcbiAgICB9O1xuICAgIHZhciBjYmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBtdChmdW5jdGlvbiAoKSB7IGNiKGEsIGIpOyB9KTtcbiAgICB9O1xuICAgIG10KGZ1bmN0aW9uICgpIHsgY2JkID0gY2I7IH0pO1xuICAgIHZhciBjYmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodG90ICsgMjIpLCBvZSA9IG8sIGNkbCA9IHRvdCAtIG87XG4gICAgICAgIHRvdCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xmdDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGZpbGVzW2ldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGYuYy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd3poKG91dCwgdG90LCBmLCBmLmYsIGYudSwgbCk7XG4gICAgICAgICAgICAgICAgdmFyIGJhZGQgPSAzMCArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpO1xuICAgICAgICAgICAgICAgIHZhciBsb2MgPSB0b3QgKyBiYWRkO1xuICAgICAgICAgICAgICAgIG91dC5zZXQoZi5jLCBsb2MpO1xuICAgICAgICAgICAgICAgIHd6aChvdXQsIG8sIGYsIGYuZiwgZi51LCBsLCB0b3QsIGYubSksIG8gKz0gMTYgKyBiYWRkICsgKGYubSA/IGYubS5sZW5ndGggOiAwKSwgdG90ID0gbG9jICsgbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3emYob3V0LCBvLCBmaWxlcy5sZW5ndGgsIGNkbCwgb2UpO1xuICAgICAgICBjYmQobnVsbCwgb3V0KTtcbiAgICB9O1xuICAgIGlmICghbGZ0KVxuICAgICAgICBjYmYoKTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhciBmbiA9IGtbaV07XG4gICAgICAgIHZhciBfYSA9IHJbZm5dLCBmaWxlID0gX2FbMF0sIHAgPSBfYVsxXTtcbiAgICAgICAgdmFyIGMgPSBjcmMoKSwgc2l6ZSA9IGZpbGUubGVuZ3RoO1xuICAgICAgICBjLnAoZmlsZSk7XG4gICAgICAgIHZhciBmID0gc3RyVG9VOChmbiksIHMgPSBmLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvbSA9IHAuY29tbWVudCwgbSA9IGNvbSAmJiBzdHJUb1U4KGNvbSksIG1zID0gbSAmJiBtLmxlbmd0aDtcbiAgICAgICAgdmFyIGV4bCA9IGV4ZmwocC5leHRyYSk7XG4gICAgICAgIHZhciBjb21wcmVzc2lvbiA9IHAubGV2ZWwgPT0gMCA/IDAgOiA4O1xuICAgICAgICB2YXIgY2JsID0gZnVuY3Rpb24gKGUsIGQpIHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgdEFsbCgpO1xuICAgICAgICAgICAgICAgIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBsID0gZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZmlsZXNbaV0gPSBtcmcocCwge1xuICAgICAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgICAgICAgICBjcmM6IGMuZCgpLFxuICAgICAgICAgICAgICAgICAgICBjOiBkLFxuICAgICAgICAgICAgICAgICAgICBmOiBmLFxuICAgICAgICAgICAgICAgICAgICBtOiBtLFxuICAgICAgICAgICAgICAgICAgICB1OiBzICE9IGZuLmxlbmd0aCB8fCAobSAmJiAoY29tLmxlbmd0aCAhPSBtcykpLFxuICAgICAgICAgICAgICAgICAgICBjb21wcmVzc2lvbjogY29tcHJlc3Npb25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvICs9IDMwICsgcyArIGV4bCArIGw7XG4gICAgICAgICAgICAgICAgdG90ICs9IDc2ICsgMiAqIChzICsgZXhsKSArIChtcyB8fCAwKSArIGw7XG4gICAgICAgICAgICAgICAgaWYgKCEtLWxmdClcbiAgICAgICAgICAgICAgICAgICAgY2JmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChzID4gNjU1MzUpXG4gICAgICAgICAgICBjYmwoZXJyKDExLCAwLCAxKSwgbnVsbCk7XG4gICAgICAgIGlmICghY29tcHJlc3Npb24pXG4gICAgICAgICAgICBjYmwobnVsbCwgZmlsZSk7XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPCAxNjAwMDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2JsKG51bGwsIGRlZmxhdGVTeW5jKGZpbGUsIHApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2JsKGUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRlcm0ucHVzaChkZWZsYXRlKGZpbGUsIHAsIGNibCkpO1xuICAgIH07XG4gICAgLy8gQ2Fubm90IHVzZSBsZnQgYmVjYXVzZSBpdCBjYW4gZGVjcmVhc2VcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsZnQ7ICsraSkge1xuICAgICAgICBfbG9vcF8xKGkpO1xuICAgIH1cbiAgICByZXR1cm4gdEFsbDtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBjcmVhdGVzIGEgWklQIGZpbGUuIFByZWZlciB1c2luZyBgemlwYCBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gKiB3aXRoIG1vcmUgdGhhbiBvbmUgZmlsZS5cbiAqIEBwYXJhbSBkYXRhIFRoZSBkaXJlY3Rvcnkgc3RydWN0dXJlIGZvciB0aGUgWklQIGFyY2hpdmVcbiAqIEBwYXJhbSBvcHRzIFRoZSBtYWluIG9wdGlvbnMsIG1lcmdlZCB3aXRoIHBlci1maWxlIG9wdGlvbnNcbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgWklQIGFyY2hpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cylcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgIHZhciByID0ge307XG4gICAgdmFyIGZpbGVzID0gW107XG4gICAgZmx0bihkYXRhLCAnJywgciwgb3B0cyk7XG4gICAgdmFyIG8gPSAwO1xuICAgIHZhciB0b3QgPSAwO1xuICAgIGZvciAodmFyIGZuIGluIHIpIHtcbiAgICAgICAgdmFyIF9hID0gcltmbl0sIGZpbGUgPSBfYVswXSwgcCA9IF9hWzFdO1xuICAgICAgICB2YXIgY29tcHJlc3Npb24gPSBwLmxldmVsID09IDAgPyAwIDogODtcbiAgICAgICAgdmFyIGYgPSBzdHJUb1U4KGZuKSwgcyA9IGYubGVuZ3RoO1xuICAgICAgICB2YXIgY29tID0gcC5jb21tZW50LCBtID0gY29tICYmIHN0clRvVTgoY29tKSwgbXMgPSBtICYmIG0ubGVuZ3RoO1xuICAgICAgICB2YXIgZXhsID0gZXhmbChwLmV4dHJhKTtcbiAgICAgICAgaWYgKHMgPiA2NTUzNSlcbiAgICAgICAgICAgIGVycigxMSk7XG4gICAgICAgIHZhciBkID0gY29tcHJlc3Npb24gPyBkZWZsYXRlU3luYyhmaWxlLCBwKSA6IGZpbGUsIGwgPSBkLmxlbmd0aDtcbiAgICAgICAgdmFyIGMgPSBjcmMoKTtcbiAgICAgICAgYy5wKGZpbGUpO1xuICAgICAgICBmaWxlcy5wdXNoKG1yZyhwLCB7XG4gICAgICAgICAgICBzaXplOiBmaWxlLmxlbmd0aCxcbiAgICAgICAgICAgIGNyYzogYy5kKCksXG4gICAgICAgICAgICBjOiBkLFxuICAgICAgICAgICAgZjogZixcbiAgICAgICAgICAgIG06IG0sXG4gICAgICAgICAgICB1OiBzICE9IGZuLmxlbmd0aCB8fCAobSAmJiAoY29tLmxlbmd0aCAhPSBtcykpLFxuICAgICAgICAgICAgbzogbyxcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjb21wcmVzc2lvblxuICAgICAgICB9KSk7XG4gICAgICAgIG8gKz0gMzAgKyBzICsgZXhsICsgbDtcbiAgICAgICAgdG90ICs9IDc2ICsgMiAqIChzICsgZXhsKSArIChtcyB8fCAwKSArIGw7XG4gICAgfVxuICAgIHZhciBvdXQgPSBuZXcgdTgodG90ICsgMjIpLCBvZSA9IG8sIGNkbCA9IHRvdCAtIG87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZiA9IGZpbGVzW2ldO1xuICAgICAgICB3emgob3V0LCBmLm8sIGYsIGYuZiwgZi51LCBmLmMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGJhZGQgPSAzMCArIGYuZi5sZW5ndGggKyBleGZsKGYuZXh0cmEpO1xuICAgICAgICBvdXQuc2V0KGYuYywgZi5vICsgYmFkZCk7XG4gICAgICAgIHd6aChvdXQsIG8sIGYsIGYuZiwgZi51LCBmLmMubGVuZ3RoLCBmLm8sIGYubSksIG8gKz0gMTYgKyBiYWRkICsgKGYubSA/IGYubS5sZW5ndGggOiAwKTtcbiAgICB9XG4gICAgd3pmKG91dCwgbywgZmlsZXMubGVuZ3RoLCBjZGwsIG9lKTtcbiAgICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdHJlYW1pbmcgcGFzcy10aHJvdWdoIGRlY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlc1xuICovXG52YXIgVW56aXBQYXNzVGhyb3VnaCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnppcFBhc3NUaHJvdWdoKCkge1xuICAgIH1cbiAgICBVbnppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZpbmFsKSB7XG4gICAgICAgIHRoaXMub25kYXRhKG51bGwsIGRhdGEsIGZpbmFsKTtcbiAgICB9O1xuICAgIFVuemlwUGFzc1Rocm91Z2guY29tcHJlc3Npb24gPSAwO1xuICAgIHJldHVybiBVbnppcFBhc3NUaHJvdWdoO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwUGFzc1Rocm91Z2ggfTtcbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvbiBmb3IgWklQIGFyY2hpdmVzLiBQcmVmZXIgQXN5bmNaaXBJbmZsYXRlIGZvclxuICogYmV0dGVyIHBlcmZvcm1hbmNlLlxuICovXG52YXIgVW56aXBJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIGRlY29tcHJlc3Npb24gdGhhdCBjYW4gYmUgdXNlZCBpbiBaSVAgYXJjaGl2ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbnppcEluZmxhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaSA9IG5ldyBJbmZsYXRlKGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICBfdGhpcy5vbmRhdGEobnVsbCwgZGF0LCBmaW5hbCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBVbnppcEluZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZmluYWwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaS5wdXNoKGRhdGEsIGZpbmFsKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5vbmRhdGEoZSwgbnVsbCwgZmluYWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBVbnppcEluZmxhdGUuY29tcHJlc3Npb24gPSA4O1xuICAgIHJldHVybiBVbnppcEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgVW56aXBJbmZsYXRlIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgREVGTEFURSBkZWNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXNcbiAqL1xudmFyIEFzeW5jVW56aXBJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBERUZMQVRFIGRlY29tcHJlc3Npb24gdGhhdCBjYW4gYmUgdXNlZCBpbiBaSVAgYXJjaGl2ZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1VuemlwSW5mbGF0ZShfLCBzeikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoc3ogPCAzMjAwMDApIHtcbiAgICAgICAgICAgIHRoaXMuaSA9IG5ldyBJbmZsYXRlKGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25kYXRhKG51bGwsIGRhdCwgZmluYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBuZXcgQXN5bmNJbmZsYXRlKGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbmRhdGEoZXJyLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUgPSB0aGlzLmkudGVybWluYXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFzeW5jVW56aXBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGRhdGEsIGZpbmFsKSB7XG4gICAgICAgIGlmICh0aGlzLmkudGVybWluYXRlKVxuICAgICAgICAgICAgZGF0YSA9IHNsYyhkYXRhLCAwKTtcbiAgICAgICAgdGhpcy5pLnB1c2goZGF0YSwgZmluYWwpO1xuICAgIH07XG4gICAgQXN5bmNVbnppcEluZmxhdGUuY29tcHJlc3Npb24gPSA4O1xuICAgIHJldHVybiBBc3luY1VuemlwSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1VuemlwSW5mbGF0ZSB9O1xuLyoqXG4gKiBBIFpJUCBhcmNoaXZlIGRlY29tcHJlc3Npb24gc3RyZWFtIHRoYXQgZW1pdHMgZmlsZXMgYXMgdGhleSBhcmUgZGlzY292ZXJlZFxuICovXG52YXIgVW56aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFpJUCBkZWNvbXByZXNzaW9uIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBhIGZpbGUgaW4gdGhlIFpJUCBhcmNoaXZlIGlzIGZvdW5kXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW56aXAoY2IpIHtcbiAgICAgICAgdGhpcy5vbmZpbGUgPSBjYjtcbiAgICAgICAgdGhpcy5rID0gW107XG4gICAgICAgIHRoaXMubyA9IHtcbiAgICAgICAgICAgIDA6IFVuemlwUGFzc1Rocm91Z2hcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wID0gZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHVuemlwcGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFVuemlwLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMub25maWxlKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAoIXRoaXMucClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgaWYgKHRoaXMuYyA+IDApIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbih0aGlzLmMsIGNodW5rLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgdG9BZGQgPSBjaHVuay5zdWJhcnJheSgwLCBsZW4pO1xuICAgICAgICAgICAgdGhpcy5jIC09IGxlbjtcbiAgICAgICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICAgICAgdGhpcy5kLnB1c2godG9BZGQsICF0aGlzLmMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMua1swXS5wdXNoKHRvQWRkKTtcbiAgICAgICAgICAgIGNodW5rID0gY2h1bmsuc3ViYXJyYXkobGVuKTtcbiAgICAgICAgICAgIGlmIChjaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChjaHVuaywgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSAwLCBpID0gMCwgaXMgPSB2b2lkIDAsIGJ1ZiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICghdGhpcy5wLmxlbmd0aClcbiAgICAgICAgICAgICAgICBidWYgPSBjaHVuaztcbiAgICAgICAgICAgIGVsc2UgaWYgKCFjaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYnVmID0gdGhpcy5wO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnVmID0gbmV3IHU4KHRoaXMucC5sZW5ndGggKyBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJ1Zi5zZXQodGhpcy5wKSwgYnVmLnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbCA9IGJ1Zi5sZW5ndGgsIG9jID0gdGhpcy5jLCBhZGQgPSBvYyAmJiB0aGlzLmQ7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHNpZyA9IGI0KGJ1ZiwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpZyA9PSAweDQwMzRCNTApIHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IDEsIGlzID0gaTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLmQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzXzEuYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZiA9IGIyKGJ1ZiwgaSArIDYpLCBjbXBfMSA9IGIyKGJ1ZiwgaSArIDgpLCB1ID0gYmYgJiAyMDQ4LCBkZCA9IGJmICYgOCwgZm5sID0gYjIoYnVmLCBpICsgMjYpLCBlcyA9IGIyKGJ1ZiwgaSArIDI4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPiBpICsgMzAgKyBmbmwgKyBlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoa3NfMyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmsudW5zaGlmdChjaGtzXzMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZiA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NfMSA9IGI0KGJ1ZiwgaSArIDE4KSwgc3VfMSA9IGI0KGJ1ZiwgaSArIDIyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbl8xID0gc3RyRnJvbVU4KGJ1Zi5zdWJhcnJheShpICsgMzAsIGkgKz0gMzAgKyBmbmwpLCAhdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NfMSA9PSA0Mjk0OTY3Mjk1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBkZCA/IFstMl0gOiB6NjRlKGJ1ZiwgaSksIHNjXzEgPSBfYVswXSwgc3VfMSA9IF9hWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NfMSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSArPSBlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jID0gc2NfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZV8xID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZuXzEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Npb246IGNtcF8xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZV8xLm9uZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzY18xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLm9uZGF0YShudWxsLCBldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN0ciA9IF90aGlzLm9bY21wXzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLm9uZGF0YShlcnIoMTQsICd1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgJyArIGNtcF8xLCAxKSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xID0gc2NfMSA8IDAgPyBuZXcgY3RyKGZuXzEpIDogbmV3IGN0cihmbl8xLCBzY18xLCBzdV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfMS5vbmRhdGEgPSBmdW5jdGlvbiAoZXJyLCBkYXQsIGZpbmFsKSB7IGZpbGVfMS5vbmRhdGEoZXJyLCBkYXQsIGZpbmFsKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY2hrc180ID0gY2hrc18zOyBfaSA8IGNoa3NfNC5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ID0gY2hrc180W19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkXzEucHVzaChkYXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5rWzBdID09IGNoa3NfMyAmJiBfdGhpcy5jKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmQgPSBkXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLnB1c2goZXQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRfMSAmJiBkXzEudGVybWluYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NfMSA+PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfMS5zaXplID0gc2NfMSwgZmlsZV8xLm9yaWdpbmFsU2l6ZSA9IHN1XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEub25maWxlKGZpbGVfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZyA9PSAweDgwNzRCNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzID0gaSArPSAxMiArIChvYyA9PSAtMiAmJiA4KSwgZiA9IDMsIHRoaXNfMS5jID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnID09IDB4MjAxNEI1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMgPSBpIC09IDQsIGYgPSAzLCB0aGlzXzEuYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsIC0gNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8yKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlXzEgPT09IFwiYnJlYWtcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnAgPSBldDtcbiAgICAgICAgICAgIGlmIChvYyA8IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ID0gZiA/IGJ1Zi5zdWJhcnJheSgwLCBpcyAtIDEyIC0gKG9jID09IC0yICYmIDgpIC0gKGI0KGJ1ZiwgaXMgLSAxNikgPT0gMHg4MDc0QjUwICYmIDQpKSA6IGJ1Zi5zdWJhcnJheSgwLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkKVxuICAgICAgICAgICAgICAgICAgICBhZGQucHVzaChkYXQsICEhZik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtbKyhmID09IDIpXS5wdXNoKGRhdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZiAmIDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChidWYuc3ViYXJyYXkoaSksIGZpbmFsKTtcbiAgICAgICAgICAgIHRoaXMucCA9IGJ1Zi5zdWJhcnJheShpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmMpXG4gICAgICAgICAgICAgICAgZXJyKDEzKTtcbiAgICAgICAgICAgIHRoaXMucCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGRlY29kZXIgd2l0aCB0aGUgc3RyZWFtLCBhbGxvd2luZyBmb3IgZmlsZXMgY29tcHJlc3NlZCB3aXRoXG4gICAgICogdGhlIGNvbXByZXNzaW9uIHR5cGUgcHJvdmlkZWQgdG8gYmUgZXhwYW5kZWQgY29ycmVjdGx5XG4gICAgICogQHBhcmFtIGRlY29kZXIgVGhlIGRlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBVbnppcC5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgICAgICB0aGlzLm9bZGVjb2Rlci5jb21wcmVzc2lvbl0gPSBkZWNvZGVyO1xuICAgIH07XG4gICAgcmV0dXJuIFVuemlwO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwIH07XG52YXIgbXQgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgPT0gJ2Z1bmN0aW9uJyA/IHF1ZXVlTWljcm90YXNrIDogdHlwZW9mIHNldFRpbWVvdXQgPT0gJ2Z1bmN0aW9uJyA/IHNldFRpbWVvdXQgOiBmdW5jdGlvbiAoZm4pIHsgZm4oKTsgfTtcbmV4cG9ydCBmdW5jdGlvbiB1bnppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHZhciB0ZXJtID0gW107XG4gICAgdmFyIHRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRlcm1baV0oKTtcbiAgICB9O1xuICAgIHZhciBmaWxlcyA9IHt9O1xuICAgIHZhciBjYmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBtdChmdW5jdGlvbiAoKSB7IGNiKGEsIGIpOyB9KTtcbiAgICB9O1xuICAgIG10KGZ1bmN0aW9uICgpIHsgY2JkID0gY2I7IH0pO1xuICAgIHZhciBlID0gZGF0YS5sZW5ndGggLSAyMjtcbiAgICBmb3IgKDsgYjQoZGF0YSwgZSkgIT0gMHg2MDU0QjUwOyAtLWUpIHtcbiAgICAgICAgaWYgKCFlIHx8IGRhdGEubGVuZ3RoIC0gZSA+IDY1NTU4KSB7XG4gICAgICAgICAgICBjYmQoZXJyKDEzLCAwLCAxKSwgbnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gdEFsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgdmFyIGxmdCA9IGIyKGRhdGEsIGUgKyA4KTtcbiAgICBpZiAobGZ0KSB7XG4gICAgICAgIHZhciBjID0gbGZ0O1xuICAgICAgICB2YXIgbyA9IGI0KGRhdGEsIGUgKyAxNik7XG4gICAgICAgIHZhciB6ID0gbyA9PSA0Mjk0OTY3Mjk1IHx8IGMgPT0gNjU1MzU7XG4gICAgICAgIGlmICh6KSB7XG4gICAgICAgICAgICB2YXIgemUgPSBiNChkYXRhLCBlIC0gMTIpO1xuICAgICAgICAgICAgeiA9IGI0KGRhdGEsIHplKSA9PSAweDYwNjRCNTA7XG4gICAgICAgICAgICBpZiAoeikge1xuICAgICAgICAgICAgICAgIGMgPSBsZnQgPSBiNChkYXRhLCB6ZSArIDMyKTtcbiAgICAgICAgICAgICAgICBvID0gYjQoZGF0YSwgemUgKyA0OCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZsdHIgPSBvcHRzICYmIG9wdHMuZmlsdGVyO1xuICAgICAgICB2YXIgX2xvb3BfMyA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSB6aChkYXRhLCBvLCB6KSwgY18xID0gX2FbMF0sIHNjID0gX2FbMV0sIHN1ID0gX2FbMl0sIGZuID0gX2FbM10sIG5vID0gX2FbNF0sIG9mZiA9IF9hWzVdLCBiID0gc2x6aChkYXRhLCBvZmYpO1xuICAgICAgICAgICAgbyA9IG5vO1xuICAgICAgICAgICAgdmFyIGNibCA9IGZ1bmN0aW9uIChlLCBkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdEFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBjYmQoZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzW2ZuXSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1sZnQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjYmQobnVsbCwgZmlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIWZsdHIgfHwgZmx0cih7XG4gICAgICAgICAgICAgICAgbmFtZTogZm4sXG4gICAgICAgICAgICAgICAgc2l6ZTogc2MsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxTaXplOiBzdSxcbiAgICAgICAgICAgICAgICBjb21wcmVzc2lvbjogY18xXG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIGlmICghY18xKVxuICAgICAgICAgICAgICAgICAgICBjYmwobnVsbCwgc2xjKGRhdGEsIGIsIGIgKyBzYykpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNfMSA9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmZsID0gZGF0YS5zdWJhcnJheShiLCBiICsgc2MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTeW5jaHJvbm91c2x5IGRlY29tcHJlc3MgdW5kZXIgNTEyS0IsIG9yIGJhcmVseS1jb21wcmVzc2VkIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1IDwgNTI0Mjg4IHx8IHNjID4gMC44ICogc3UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JsKG51bGwsIGluZmxhdGVTeW5jKGluZmwsIHsgb3V0OiBuZXcgdTgoc3UpIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JsKGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm0ucHVzaChpbmZsYXRlKGluZmwsIHsgc2l6ZTogc3UgfSwgY2JsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2JsKGVycigxNCwgJ3Vua25vd24gY29tcHJlc3Npb24gdHlwZSAnICsgY18xLCAxKSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2JsKG51bGwsIG51bGwpO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGM7ICsraSkge1xuICAgICAgICAgICAgX2xvb3BfMyhpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIGNiZChudWxsLCB7fSk7XG4gICAgcmV0dXJuIHRBbGw7XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgZGVjb21wcmVzc2VzIGEgWklQIGFyY2hpdmUuIFByZWZlciB1c2luZyBgdW56aXBgIGZvciBiZXR0ZXJcbiAqIHBlcmZvcm1hbmNlIHdpdGggbW9yZSB0aGFuIG9uZSBmaWxlLlxuICogQHBhcmFtIGRhdGEgVGhlIHJhdyBjb21wcmVzc2VkIFpJUCBmaWxlXG4gKiBAcGFyYW0gb3B0cyBUaGUgWklQIGV4dHJhY3Rpb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlY29tcHJlc3NlZCBmaWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW56aXBTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICB2YXIgZmlsZXMgPSB7fTtcbiAgICB2YXIgZSA9IGRhdGEubGVuZ3RoIC0gMjI7XG4gICAgZm9yICg7IGI0KGRhdGEsIGUpICE9IDB4NjA1NEI1MDsgLS1lKSB7XG4gICAgICAgIGlmICghZSB8fCBkYXRhLmxlbmd0aCAtIGUgPiA2NTU1OClcbiAgICAgICAgICAgIGVycigxMyk7XG4gICAgfVxuICAgIDtcbiAgICB2YXIgYyA9IGIyKGRhdGEsIGUgKyA4KTtcbiAgICBpZiAoIWMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB2YXIgbyA9IGI0KGRhdGEsIGUgKyAxNik7XG4gICAgdmFyIHogPSBvID09IDQyOTQ5NjcyOTUgfHwgYyA9PSA2NTUzNTtcbiAgICBpZiAoeikge1xuICAgICAgICB2YXIgemUgPSBiNChkYXRhLCBlIC0gMTIpO1xuICAgICAgICB6ID0gYjQoZGF0YSwgemUpID09IDB4NjA2NEI1MDtcbiAgICAgICAgaWYgKHopIHtcbiAgICAgICAgICAgIGMgPSBiNChkYXRhLCB6ZSArIDMyKTtcbiAgICAgICAgICAgIG8gPSBiNChkYXRhLCB6ZSArIDQ4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZmx0ciA9IG9wdHMgJiYgb3B0cy5maWx0ZXI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjOyArK2kpIHtcbiAgICAgICAgdmFyIF9hID0gemgoZGF0YSwgbywgeiksIGNfMiA9IF9hWzBdLCBzYyA9IF9hWzFdLCBzdSA9IF9hWzJdLCBmbiA9IF9hWzNdLCBubyA9IF9hWzRdLCBvZmYgPSBfYVs1XSwgYiA9IHNsemgoZGF0YSwgb2ZmKTtcbiAgICAgICAgbyA9IG5vO1xuICAgICAgICBpZiAoIWZsdHIgfHwgZmx0cih7XG4gICAgICAgICAgICBuYW1lOiBmbixcbiAgICAgICAgICAgIHNpemU6IHNjLFxuICAgICAgICAgICAgb3JpZ2luYWxTaXplOiBzdSxcbiAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjXzJcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIGlmICghY18yKVxuICAgICAgICAgICAgICAgIGZpbGVzW2ZuXSA9IHNsYyhkYXRhLCBiLCBiICsgc2MpO1xuICAgICAgICAgICAgZWxzZSBpZiAoY18yID09IDgpXG4gICAgICAgICAgICAgICAgZmlsZXNbZm5dID0gaW5mbGF0ZVN5bmMoZGF0YS5zdWJhcnJheShiLCBiICsgc2MpLCB7IG91dDogbmV3IHU4KHN1KSB9KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBlcnIoMTQsICd1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgJyArIGNfMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbGVzO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/html2pdf.js/node_modules/fflate/esm/browser.js\n");

/***/ }),

/***/ "./node_modules/html2pdf.js/node_modules/jspdf/dist/jspdf.es.min.js":
/*!**************************************************************************!*\
  !*** ./node_modules/html2pdf.js/node_modules/jspdf/dist/jspdf.es.min.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcroForm: function() { return /* binding */ St; },\n/* harmony export */   AcroFormAppearance: function() { return /* binding */ At; },\n/* harmony export */   AcroFormButton: function() { return /* binding */ mt; },\n/* harmony export */   AcroFormCheckBox: function() { return /* binding */ wt; },\n/* harmony export */   AcroFormChoiceField: function() { return /* binding */ ft; },\n/* harmony export */   AcroFormComboBox: function() { return /* binding */ pt; },\n/* harmony export */   AcroFormEditBox: function() { return /* binding */ gt; },\n/* harmony export */   AcroFormListBox: function() { return /* binding */ dt; },\n/* harmony export */   AcroFormPasswordField: function() { return /* binding */ Lt; },\n/* harmony export */   AcroFormPushButton: function() { return /* binding */ vt; },\n/* harmony export */   AcroFormRadioButton: function() { return /* binding */ bt; },\n/* harmony export */   AcroFormTextField: function() { return /* binding */ Nt; },\n/* harmony export */   GState: function() { return /* binding */ j; },\n/* harmony export */   ShadingPattern: function() { return /* binding */ B; },\n/* harmony export */   TilingPattern: function() { return /* binding */ M; },\n/* harmony export */   \"default\": function() { return /* binding */ E; },\n/* harmony export */   jsPDF: function() { return /* binding */ E; }\n/* harmony export */ });\n/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.push.js */ \"./node_modules/core-js/modules/es.array.push.js\");\n/* harmony import */ var core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.regexp.flags.js */ \"./node_modules/core-js/modules/es.regexp.flags.js\");\n/* harmony import */ var core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_flags_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_typed_array_to_reversed_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-reversed.js */ \"./node_modules/core-js/modules/es.typed-array.to-reversed.js\");\n/* harmony import */ var core_js_modules_es_typed_array_to_reversed_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_reversed_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_typed_array_to_sorted_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.typed-array.to-sorted.js */ \"./node_modules/core-js/modules/es.typed-array.to-sorted.js\");\n/* harmony import */ var core_js_modules_es_typed_array_to_sorted_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_to_sorted_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_typed_array_with_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.typed-array.with.js */ \"./node_modules/core-js/modules/es.typed-array.with.js\");\n/* harmony import */ var core_js_modules_es_typed_array_with_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_typed_array_with_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_esnext_array_buffer_detached_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/esnext.array-buffer.detached.js */ \"./node_modules/core-js/modules/esnext.array-buffer.detached.js\");\n/* harmony import */ var core_js_modules_esnext_array_buffer_detached_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_buffer_detached_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/esnext.array-buffer.transfer.js */ \"./node_modules/core-js/modules/esnext.array-buffer.transfer.js\");\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_buffer_transfer_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_to_fixed_length_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/esnext.array-buffer.transfer-to-fixed-length.js */ \"./node_modules/core-js/modules/esnext.array-buffer.transfer-to-fixed-length.js\");\n/* harmony import */ var core_js_modules_esnext_array_buffer_transfer_to_fixed_length_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_array_buffer_transfer_to_fixed_length_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var fflate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! fflate */ \"./node_modules/html2pdf.js/node_modules/fflate/esm/browser.js\");\n\n\n\n\n\n\n\n\n/** @license\n *\n * jsPDF - PDF Document creation from JavaScript\n * Version 3.0.1 Built on 2025-03-17T14:19:36.873Z\n *                      CommitID 00000000\n *\n * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF\n *               2015-2021 yWorks GmbH, http://www.yworks.com\n *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX\n *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>\n *               2010 Aaron Spike, https://github.com/acspike\n *               2012 Willow Systems Corporation, https://github.com/willowsystems\n *               2012 Pablo Hess, https://github.com/pablohess\n *               2012 Florian Jenett, https://github.com/fjenett\n *               2013 Warren Weckesser, https://github.com/warrenweckesser\n *               2013 Youssef Beddad, https://github.com/lifof\n *               2013 Lee Driscoll, https://github.com/lsdriscoll\n *               2013 Stefan Slonevskiy, https://github.com/stefslon\n *               2013 Jeremy Morel, https://github.com/jmorel\n *               2013 Christoph Hartmann, https://github.com/chris-rock\n *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria\n *               2014 James Makes, https://github.com/dollaruw\n *               2014 Diego Casorran, https://github.com/diegocr\n *               2014 Steven Spungin, https://github.com/Flamenco\n *               2014 Kenneth Glassey, https://github.com/Gavvers\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n *\n * Contributor(s):\n *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,\n *    kim3er, mfo, alnorth, Flamenco\n */\n\n\n\nvar n = function () {\n  return \"undefined\" != typeof window ? window : \"undefined\" != typeof __webpack_require__.g ? __webpack_require__.g : \"undefined\" != typeof self ? self : this;\n}();\nfunction i() {\n  n.console && \"function\" == typeof n.console.log && n.console.log.apply(n.console, arguments);\n}\nvar a = {\n  log: i,\n  warn: function (t) {\n    n.console && (\"function\" == typeof n.console.warn ? n.console.warn.apply(n.console, arguments) : i.call(null, arguments));\n  },\n  error: function (t) {\n    n.console && (\"function\" == typeof n.console.error ? n.console.error.apply(n.console, arguments) : i(t));\n  }\n};\nfunction o(t, e, r) {\n  var n = new XMLHttpRequest();\n  n.open(\"GET\", t), n.responseType = \"blob\", n.onload = function () {\n    l(n.response, e, r);\n  }, n.onerror = function () {\n    a.error(\"could not download file\");\n  }, n.send();\n}\nfunction s(t) {\n  var e = new XMLHttpRequest();\n  e.open(\"HEAD\", t, !1);\n  try {\n    e.send();\n  } catch (t) {}\n  return e.status >= 200 && e.status <= 299;\n}\nfunction c(t) {\n  try {\n    t.dispatchEvent(new MouseEvent(\"click\"));\n  } catch (r) {\n    var e = document.createEvent(\"MouseEvents\");\n    e.initMouseEvent(\"click\", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), t.dispatchEvent(e);\n  }\n}\nvar u,\n  h,\n  l = n.saveAs || (\"object\" !== (\"undefined\" == typeof window ? \"undefined\" : (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(window)) || window !== n ? function () {} : \"undefined\" != typeof HTMLAnchorElement && \"download\" in HTMLAnchorElement.prototype ? function (t, e, r) {\n    var i = n.URL || n.webkitURL,\n      a = document.createElement(\"a\");\n    e = e || t.name || \"download\", a.download = e, a.rel = \"noopener\", \"string\" == typeof t ? (a.href = t, a.origin !== location.origin ? s(a.href) ? o(t, e, r) : c(a, a.target = \"_blank\") : c(a)) : (a.href = i.createObjectURL(t), setTimeout(function () {\n      i.revokeObjectURL(a.href);\n    }, 4e4), setTimeout(function () {\n      c(a);\n    }, 0));\n  } : \"msSaveOrOpenBlob\" in navigator ? function (e, r, n) {\n    if (r = r || e.name || \"download\", \"string\" == typeof e) {\n      if (s(e)) o(e, r, n);else {\n        var i = document.createElement(\"a\");\n        i.href = e, i.target = \"_blank\", setTimeout(function () {\n          c(i);\n        });\n      }\n    } else navigator.msSaveOrOpenBlob(function (e, r) {\n      return void 0 === r ? r = {\n        autoBom: !1\n      } : \"object\" !== (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(r) && (a.warn(\"Deprecated: Expected third argument to be a object\"), r = {\n        autoBom: !r\n      }), r.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type) ? new Blob([String.fromCharCode(65279), e], {\n        type: e.type\n      }) : e;\n    }(e, n), r);\n  } : function (e, r, i, a) {\n    if ((a = a || open(\"\", \"_blank\")) && (a.document.title = a.document.body.innerText = \"downloading...\"), \"string\" == typeof e) return o(e, r, i);\n    var s = \"application/octet-stream\" === e.type,\n      c = /constructor/i.test(n.HTMLElement) || n.safari,\n      u = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n    if ((u || s && c) && \"object\" === (\"undefined\" == typeof FileReader ? \"undefined\" : (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(FileReader))) {\n      var h = new FileReader();\n      h.onloadend = function () {\n        var t = h.result;\n        t = u ? t : t.replace(/^data:[^;]*;/, \"data:attachment/file;\"), a ? a.location.href = t : location = t, a = null;\n      }, h.readAsDataURL(e);\n    } else {\n      var l = n.URL || n.webkitURL,\n        f = l.createObjectURL(e);\n      a ? a.location = f : location.href = f, a = null, setTimeout(function () {\n        l.revokeObjectURL(f);\n      }, 4e4);\n    }\n  });\n/**\n * A class to parse color values\n * @author Stoyan Stefanov <sstoo@gmail.com>\n * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}\n * @license Use it if you like it\n */\nfunction f(t) {\n  var e;\n  t = t || \"\", this.ok = !1, \"#\" == t.charAt(0) && (t = t.substr(1, 6));\n  t = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"00ffff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"0000ff\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"00ffff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dodgerblue: \"1e90ff\",\n    feldspar: \"d19275\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"ff00ff\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgrey: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslateblue: \"8470ff\",\n    lightslategray: \"778899\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"00ff00\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"ff00ff\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370d8\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"d87093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    red: \"ff0000\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    violetred: \"d02090\",\n    wheat: \"f5deb3\",\n    white: \"ffffff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ffff00\",\n    yellowgreen: \"9acd32\"\n  }[t = (t = t.replace(/ /g, \"\")).toLowerCase()] || t;\n  for (var r = [{\n      re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n      example: [\"rgb(123, 234, 45)\", \"rgb(255,234,245)\"],\n      process: function (t) {\n        return [parseInt(t[1]), parseInt(t[2]), parseInt(t[3])];\n      }\n    }, {\n      re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n      example: [\"#00ff00\", \"336699\"],\n      process: function (t) {\n        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)];\n      }\n    }, {\n      re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n      example: [\"#fb0\", \"f0f\"],\n      process: function (t) {\n        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)];\n      }\n    }], n = 0; n < r.length; n++) {\n    var i = r[n].re,\n      a = r[n].process,\n      o = i.exec(t);\n    o && (e = a(o), this.r = e[0], this.g = e[1], this.b = e[2], this.ok = !0);\n  }\n  this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () {\n    return \"rgb(\" + this.r + \", \" + this.g + \", \" + this.b + \")\";\n  }, this.toHex = function () {\n    var t = this.r.toString(16),\n      e = this.g.toString(16),\n      r = this.b.toString(16);\n    return 1 == t.length && (t = \"0\" + t), 1 == e.length && (e = \"0\" + e), 1 == r.length && (r = \"0\" + r), \"#\" + t + e + r;\n  };\n}\n/**\n * @license\n * Joseph Myers does not specify a particular license for his work.\n *\n * Author: Joseph Myers\n * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js\n *\n * Modified by: Owen Leong\n */\nfunction d(t, e) {\n  var r = t[0],\n    n = t[1],\n    i = t[2],\n    a = t[3];\n  r = g(r, n, i, a, e[0], 7, -680876936), a = g(a, r, n, i, e[1], 12, -389564586), i = g(i, a, r, n, e[2], 17, 606105819), n = g(n, i, a, r, e[3], 22, -1044525330), r = g(r, n, i, a, e[4], 7, -176418897), a = g(a, r, n, i, e[5], 12, 1200080426), i = g(i, a, r, n, e[6], 17, -1473231341), n = g(n, i, a, r, e[7], 22, -45705983), r = g(r, n, i, a, e[8], 7, 1770035416), a = g(a, r, n, i, e[9], 12, -1958414417), i = g(i, a, r, n, e[10], 17, -42063), n = g(n, i, a, r, e[11], 22, -1990404162), r = g(r, n, i, a, e[12], 7, 1804603682), a = g(a, r, n, i, e[13], 12, -40341101), i = g(i, a, r, n, e[14], 17, -1502002290), r = m(r, n = g(n, i, a, r, e[15], 22, 1236535329), i, a, e[1], 5, -165796510), a = m(a, r, n, i, e[6], 9, -1069501632), i = m(i, a, r, n, e[11], 14, 643717713), n = m(n, i, a, r, e[0], 20, -373897302), r = m(r, n, i, a, e[5], 5, -701558691), a = m(a, r, n, i, e[10], 9, 38016083), i = m(i, a, r, n, e[15], 14, -660478335), n = m(n, i, a, r, e[4], 20, -405537848), r = m(r, n, i, a, e[9], 5, 568446438), a = m(a, r, n, i, e[14], 9, -1019803690), i = m(i, a, r, n, e[3], 14, -187363961), n = m(n, i, a, r, e[8], 20, 1163531501), r = m(r, n, i, a, e[13], 5, -1444681467), a = m(a, r, n, i, e[2], 9, -51403784), i = m(i, a, r, n, e[7], 14, 1735328473), r = v(r, n = m(n, i, a, r, e[12], 20, -1926607734), i, a, e[5], 4, -378558), a = v(a, r, n, i, e[8], 11, -2022574463), i = v(i, a, r, n, e[11], 16, 1839030562), n = v(n, i, a, r, e[14], 23, -35309556), r = v(r, n, i, a, e[1], 4, -1530992060), a = v(a, r, n, i, e[4], 11, 1272893353), i = v(i, a, r, n, e[7], 16, -155497632), n = v(n, i, a, r, e[10], 23, -1094730640), r = v(r, n, i, a, e[13], 4, 681279174), a = v(a, r, n, i, e[0], 11, -358537222), i = v(i, a, r, n, e[3], 16, -722521979), n = v(n, i, a, r, e[6], 23, 76029189), r = v(r, n, i, a, e[9], 4, -640364487), a = v(a, r, n, i, e[12], 11, -421815835), i = v(i, a, r, n, e[15], 16, 530742520), r = b(r, n = v(n, i, a, r, e[2], 23, -995338651), i, a, e[0], 6, -198630844), a = b(a, r, n, i, e[7], 10, 1126891415), i = b(i, a, r, n, e[14], 15, -1416354905), n = b(n, i, a, r, e[5], 21, -57434055), r = b(r, n, i, a, e[12], 6, 1700485571), a = b(a, r, n, i, e[3], 10, -1894986606), i = b(i, a, r, n, e[10], 15, -1051523), n = b(n, i, a, r, e[1], 21, -2054922799), r = b(r, n, i, a, e[8], 6, 1873313359), a = b(a, r, n, i, e[15], 10, -30611744), i = b(i, a, r, n, e[6], 15, -1560198380), n = b(n, i, a, r, e[13], 21, 1309151649), r = b(r, n, i, a, e[4], 6, -145523070), a = b(a, r, n, i, e[11], 10, -1120210379), i = b(i, a, r, n, e[2], 15, 718787259), n = b(n, i, a, r, e[9], 21, -343485551), t[0] = _(r, t[0]), t[1] = _(n, t[1]), t[2] = _(i, t[2]), t[3] = _(a, t[3]);\n}\nfunction p(t, e, r, n, i, a) {\n  return e = _(_(e, t), _(n, a)), _(e << i | e >>> 32 - i, r);\n}\nfunction g(t, e, r, n, i, a, o) {\n  return p(e & r | ~e & n, t, e, i, a, o);\n}\nfunction m(t, e, r, n, i, a, o) {\n  return p(e & n | r & ~n, t, e, i, a, o);\n}\nfunction v(t, e, r, n, i, a, o) {\n  return p(e ^ r ^ n, t, e, i, a, o);\n}\nfunction b(t, e, r, n, i, a, o) {\n  return p(r ^ (e | ~n), t, e, i, a, o);\n}\nfunction y(t) {\n  var e,\n    r = t.length,\n    n = [1732584193, -271733879, -1732584194, 271733878];\n  for (e = 64; e <= t.length; e += 64) d(n, w(t.substring(e - 64, e)));\n  t = t.substring(e - 64);\n  var i = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (e = 0; e < t.length; e++) i[e >> 2] |= t.charCodeAt(e) << (e % 4 << 3);\n  if (i[e >> 2] |= 128 << (e % 4 << 3), e > 55) for (d(n, i), e = 0; e < 16; e++) i[e] = 0;\n  return i[14] = 8 * r, d(n, i), n;\n}\nfunction w(t) {\n  var e,\n    r = [];\n  for (e = 0; e < 64; e += 4) r[e >> 2] = t.charCodeAt(e) + (t.charCodeAt(e + 1) << 8) + (t.charCodeAt(e + 2) << 16) + (t.charCodeAt(e + 3) << 24);\n  return r;\n}\nu = n.atob.bind(n), h = n.btoa.bind(n);\nvar N = \"0123456789abcdef\".split(\"\");\nfunction L(t) {\n  for (var e = \"\", r = 0; r < 4; r++) e += N[t >> 8 * r + 4 & 15] + N[t >> 8 * r & 15];\n  return e;\n}\nfunction A(t) {\n  return String.fromCharCode((255 & t) >> 0, (65280 & t) >> 8, (16711680 & t) >> 16, (4278190080 & t) >> 24);\n}\nfunction x(t) {\n  return y(t).map(A).join(\"\");\n}\nvar S = \"5d41402abc4b2a76b9719d911017c592\" != function (t) {\n  for (var e = 0; e < t.length; e++) t[e] = L(t[e]);\n  return t.join(\"\");\n}(y(\"hello\"));\nfunction _(t, e) {\n  if (S) {\n    var r = (65535 & t) + (65535 & e);\n    return (t >> 16) + (e >> 16) + (r >> 16) << 16 | 65535 & r;\n  }\n  return t + e & 4294967295;\n}\n/**\n * @license\n * FPDF is released under a permissive license: there is no usage restriction.\n * You may embed it freely in your application (commercial or not), with or\n * without modifications.\n *\n * Reference: http://www.fpdf.org/en/script/script37.php\n */\nfunction P(t, e) {\n  var r, n, i, a;\n  if (t !== r) {\n    for (var o = (i = t, a = 1 + (256 / t.length >> 0), new Array(a + 1).join(i)), s = [], c = 0; c < 256; c++) s[c] = c;\n    var u = 0;\n    for (c = 0; c < 256; c++) {\n      var h = s[c];\n      u = (u + h + o.charCodeAt(c)) % 256, s[c] = s[u], s[u] = h;\n    }\n    r = t, n = s;\n  } else s = n;\n  var l = e.length,\n    f = 0,\n    d = 0,\n    p = \"\";\n  for (c = 0; c < l; c++) d = (d + (h = s[f = (f + 1) % 256])) % 256, s[f] = s[d], s[d] = h, o = s[(s[f] + s[d]) % 256], p += String.fromCharCode(e.charCodeAt(c) ^ o);\n  return p;\n}\n/**\n * @license\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n * Author: Owen Leong (@owenl131)\n * Date: 15 Oct 2020\n * References:\n * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt\n * https://github.com/foliojs/pdfkit/blob/master/lib/security.js\n * http://www.fpdf.org/en/script/script37.php\n */\nvar k = {\n  print: 4,\n  modify: 8,\n  copy: 16,\n  \"annot-forms\": 32\n};\nfunction I(t, e, r, n) {\n  this.v = 1, this.r = 2;\n  var i = 192;\n  t.forEach(function (t) {\n    if (void 0 !== k.perm) throw new Error(\"Invalid permission: \" + t);\n    i += k[t];\n  }), this.padding = \"(¿N^NuAd\\0NVÿú\u0001\\b..\\0¶Ðh>/\\f©þdSiz\";\n  var a = (e + this.padding).substr(0, 32),\n    o = (r + this.padding).substr(0, 32);\n  this.O = this.processOwnerPassword(a, o), this.P = -(1 + (255 ^ i)), this.encryptionKey = x(a + this.O + this.lsbFirstWord(this.P) + this.hexToBytes(n)).substr(0, 5), this.U = P(this.encryptionKey, this.padding);\n}\nfunction F(t) {\n  if (/[^\\u0000-\\u00ff]/.test(t)) throw new Error(\"Invalid PDF Name Object: \" + t + \", Only accept ASCII characters.\");\n  for (var e = \"\", r = t.length, n = 0; n < r; n++) {\n    var i = t.charCodeAt(n);\n    if (i < 33 || 35 === i || 37 === i || 40 === i || 41 === i || 47 === i || 60 === i || 62 === i || 91 === i || 93 === i || 123 === i || 125 === i || i > 126) e += \"#\" + (\"0\" + i.toString(16)).slice(-2);else e += t[n];\n  }\n  return e;\n}\nfunction C(e) {\n  if (\"object\" !== (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e)) throw new Error(\"Invalid Context passed to initialize PubSub (jsPDF-module)\");\n  var r = {};\n  this.subscribe = function (t, e, n) {\n    if (n = n || !1, \"string\" != typeof t || \"function\" != typeof e || \"boolean\" != typeof n) throw new Error(\"Invalid arguments passed to PubSub.subscribe (jsPDF-module)\");\n    r.hasOwnProperty(t) || (r[t] = {});\n    var i = Math.random().toString(35);\n    return r[t][i] = [e, !!n], i;\n  }, this.unsubscribe = function (t) {\n    for (var e in r) if (r[e][t]) return delete r[e][t], 0 === Object.keys(r[e]).length && delete r[e], !0;\n    return !1;\n  }, this.publish = function (t) {\n    if (r.hasOwnProperty(t)) {\n      var i = Array.prototype.slice.call(arguments, 1),\n        o = [];\n      for (var s in r[t]) {\n        var c = r[t][s];\n        try {\n          c[0].apply(e, i);\n        } catch (t) {\n          n.console && a.error(\"jsPDF PubSub Error\", t.message, t);\n        }\n        c[1] && o.push(s);\n      }\n      o.length && o.forEach(this.unsubscribe);\n    }\n  }, this.getTopics = function () {\n    return r;\n  };\n}\nfunction j(t) {\n  if (!(this instanceof j)) return new j(t);\n  var e = \"opacity,stroke-opacity\".split(\",\");\n  for (var r in t) t.hasOwnProperty(r) && e.indexOf(r) >= 0 && (this[r] = t[r]);\n  this.id = \"\", this.objectNumber = -1;\n}\nfunction O(t, e) {\n  this.gState = t, this.matrix = e, this.id = \"\", this.objectNumber = -1;\n}\nfunction B(t, e, r, n, i) {\n  if (!(this instanceof B)) return new B(t, e, r, n, i);\n  this.type = \"axial\" === t ? 2 : 3, this.coords = e, this.colors = r, O.call(this, n, i);\n}\nfunction M(t, e, r, n, i) {\n  if (!(this instanceof M)) return new M(t, e, r, n, i);\n  this.boundingBox = t, this.xStep = e, this.yStep = r, this.stream = \"\", this.cloneIndex = 0, O.call(this, n, i);\n}\nfunction E(e) {\n  var r,\n    i = \"string\" == typeof arguments[0] ? arguments[0] : \"p\",\n    o = arguments[1],\n    s = arguments[2],\n    c = arguments[3],\n    u = [],\n    d = 1,\n    p = 16,\n    g = \"S\",\n    m = null;\n  \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e = e || {}) && (i = e.orientation, o = e.unit || o, s = e.format || s, c = e.compress || e.compressPdf || c, null !== (m = e.encryption || null) && (m.userPassword = m.userPassword || \"\", m.ownerPassword = m.ownerPassword || \"\", m.userPermissions = m.userPermissions || []), d = \"number\" == typeof e.userUnit ? Math.abs(e.userUnit) : 1, void 0 !== e.precision && (r = e.precision), void 0 !== e.floatPrecision && (p = e.floatPrecision), g = e.defaultPathOperation || \"S\"), u = e.filters || (!0 === c ? [\"FlateEncode\"] : u), o = o || \"mm\", i = (\"\" + (i || \"P\")).toLowerCase();\n  var v = e.putOnlyUsedFonts || !1,\n    b = {},\n    y = {\n      internal: {},\n      __private__: {}\n    };\n  y.__private__.PubSub = C;\n  var w = \"1.3\",\n    N = y.__private__.getPdfVersion = function () {\n      return w;\n    };\n  y.__private__.setPdfVersion = function (t) {\n    w = t;\n  };\n  var L = {\n    a0: [2383.94, 3370.39],\n    a1: [1683.78, 2383.94],\n    a2: [1190.55, 1683.78],\n    a3: [841.89, 1190.55],\n    a4: [595.28, 841.89],\n    a5: [419.53, 595.28],\n    a6: [297.64, 419.53],\n    a7: [209.76, 297.64],\n    a8: [147.4, 209.76],\n    a9: [104.88, 147.4],\n    a10: [73.7, 104.88],\n    b0: [2834.65, 4008.19],\n    b1: [2004.09, 2834.65],\n    b2: [1417.32, 2004.09],\n    b3: [1000.63, 1417.32],\n    b4: [708.66, 1000.63],\n    b5: [498.9, 708.66],\n    b6: [354.33, 498.9],\n    b7: [249.45, 354.33],\n    b8: [175.75, 249.45],\n    b9: [124.72, 175.75],\n    b10: [87.87, 124.72],\n    c0: [2599.37, 3676.54],\n    c1: [1836.85, 2599.37],\n    c2: [1298.27, 1836.85],\n    c3: [918.43, 1298.27],\n    c4: [649.13, 918.43],\n    c5: [459.21, 649.13],\n    c6: [323.15, 459.21],\n    c7: [229.61, 323.15],\n    c8: [161.57, 229.61],\n    c9: [113.39, 161.57],\n    c10: [79.37, 113.39],\n    dl: [311.81, 623.62],\n    letter: [612, 792],\n    \"government-letter\": [576, 756],\n    legal: [612, 1008],\n    \"junior-legal\": [576, 360],\n    ledger: [1224, 792],\n    tabloid: [792, 1224],\n    \"credit-card\": [153, 243]\n  };\n  y.__private__.getPageFormats = function () {\n    return L;\n  };\n  var A = y.__private__.getPageFormat = function (t) {\n    return L[t];\n  };\n  s = s || \"a4\";\n  var x = {\n      COMPAT: \"compat\",\n      ADVANCED: \"advanced\"\n    },\n    S = x.COMPAT;\n  function _() {\n    this.saveGraphicsState(), lt(new Vt(_t, 0, 0, -_t, 0, Rr() * _t).toString() + \" cm\"), this.setFontSize(this.getFontSize() / _t), g = \"n\", S = x.ADVANCED;\n  }\n  function P() {\n    this.restoreGraphicsState(), g = \"S\", S = x.COMPAT;\n  }\n  var k = y.__private__.combineFontStyleAndFontWeight = function (t, e) {\n    if (\"bold\" == t && \"normal\" == e || \"bold\" == t && 400 == e || \"normal\" == t && \"italic\" == e || \"bold\" == t && \"italic\" == e) throw new Error(\"Invalid Combination of fontweight and fontstyle\");\n    return e && (t = 400 == e || \"normal\" === e ? \"italic\" === t ? \"italic\" : \"normal\" : 700 != e && \"bold\" !== e || \"normal\" !== t ? (700 == e ? \"bold\" : e) + \"\" + t : \"bold\"), t;\n  };\n  y.advancedAPI = function (t) {\n    var e = S === x.COMPAT;\n    return e && _.call(this), \"function\" != typeof t || (t(this), e && P.call(this)), this;\n  }, y.compatAPI = function (t) {\n    var e = S === x.ADVANCED;\n    return e && P.call(this), \"function\" != typeof t || (t(this), e && _.call(this)), this;\n  }, y.isAdvancedAPI = function () {\n    return S === x.ADVANCED;\n  };\n  var O,\n    q = function (t) {\n      if (S !== x.ADVANCED) throw new Error(t + \" is only available in 'advanced' API mode. You need to call advancedAPI() first.\");\n    },\n    D = y.roundToPrecision = y.__private__.roundToPrecision = function (t, e) {\n      var n = r || e;\n      if (isNaN(t) || isNaN(n)) throw new Error(\"Invalid argument passed to jsPDF.roundToPrecision\");\n      return t.toFixed(n).replace(/0+$/, \"\");\n    };\n  O = y.hpf = y.__private__.hpf = \"number\" == typeof p ? function (t) {\n    if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n    return D(t, p);\n  } : \"smart\" === p ? function (t) {\n    if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n    return D(t, t > -1 && t < 1 ? 16 : 5);\n  } : function (t) {\n    if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.hpf\");\n    return D(t, 16);\n  };\n  var R = y.f2 = y.__private__.f2 = function (t) {\n      if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.f2\");\n      return D(t, 2);\n    },\n    T = y.__private__.f3 = function (t) {\n      if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.f3\");\n      return D(t, 3);\n    },\n    U = y.scale = y.__private__.scale = function (t) {\n      if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.scale\");\n      return S === x.COMPAT ? t * _t : S === x.ADVANCED ? t : void 0;\n    },\n    z = function (t) {\n      return S === x.COMPAT ? Rr() - t : S === x.ADVANCED ? t : void 0;\n    },\n    H = function (t) {\n      return U(z(t));\n    };\n  y.__private__.setPrecision = y.setPrecision = function (t) {\n    \"number\" == typeof parseInt(t, 10) && (r = parseInt(t, 10));\n  };\n  var W,\n    V = \"00000000000000000000000000000000\",\n    G = y.__private__.getFileId = function () {\n      return V;\n    },\n    Y = y.__private__.setFileId = function (t) {\n      return V = void 0 !== t && /^[a-fA-F0-9]{32}$/.test(t) ? t.toUpperCase() : V.split(\"\").map(function () {\n        return \"ABCDEF0123456789\".charAt(Math.floor(16 * Math.random()));\n      }).join(\"\"), null !== m && (Ye = new I(m.userPermissions, m.userPassword, m.ownerPassword, V)), V;\n    };\n  y.setFileId = function (t) {\n    return Y(t), this;\n  }, y.getFileId = function () {\n    return G();\n  };\n  var J = y.__private__.convertDateToPDFDate = function (t) {\n      var e = t.getTimezoneOffset(),\n        r = e < 0 ? \"+\" : \"-\",\n        n = Math.floor(Math.abs(e / 60)),\n        i = Math.abs(e % 60),\n        a = [r, Q(n), \"'\", Q(i), \"'\"].join(\"\");\n      return [\"D:\", t.getFullYear(), Q(t.getMonth() + 1), Q(t.getDate()), Q(t.getHours()), Q(t.getMinutes()), Q(t.getSeconds()), a].join(\"\");\n    },\n    X = y.__private__.convertPDFDateToDate = function (t) {\n      var e = parseInt(t.substr(2, 4), 10),\n        r = parseInt(t.substr(6, 2), 10) - 1,\n        n = parseInt(t.substr(8, 2), 10),\n        i = parseInt(t.substr(10, 2), 10),\n        a = parseInt(t.substr(12, 2), 10),\n        o = parseInt(t.substr(14, 2), 10);\n      return new Date(e, r, n, i, a, o, 0);\n    },\n    K = y.__private__.setCreationDate = function (t) {\n      var e;\n      if (void 0 === t && (t = new Date()), t instanceof Date) e = J(t);else {\n        if (!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\\+0[0-9]|\\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t)) throw new Error(\"Invalid argument passed to jsPDF.setCreationDate\");\n        e = t;\n      }\n      return W = e;\n    },\n    Z = y.__private__.getCreationDate = function (t) {\n      var e = W;\n      return \"jsDate\" === t && (e = X(W)), e;\n    };\n  y.setCreationDate = function (t) {\n    return K(t), this;\n  }, y.getCreationDate = function (t) {\n    return Z(t);\n  };\n  var $,\n    Q = y.__private__.padd2 = function (t) {\n      return (\"0\" + parseInt(t)).slice(-2);\n    },\n    tt = y.__private__.padd2Hex = function (t) {\n      return (\"00\" + (t = t.toString())).substr(t.length);\n    },\n    et = 0,\n    rt = [],\n    nt = [],\n    it = 0,\n    at = [],\n    ot = [],\n    st = !1,\n    ct = nt,\n    ut = function () {\n      et = 0, it = 0, nt = [], rt = [], at = [], Qt = Kt(), te = Kt();\n    };\n  y.__private__.setCustomOutputDestination = function (t) {\n    st = !0, ct = t;\n  };\n  var ht = function (t) {\n    st || (ct = t);\n  };\n  y.__private__.resetCustomOutputDestination = function () {\n    st = !1, ct = nt;\n  };\n  var lt = y.__private__.out = function (t) {\n      return t = t.toString(), it += t.length + 1, ct.push(t), ct;\n    },\n    ft = y.__private__.write = function (t) {\n      return lt(1 === arguments.length ? t.toString() : Array.prototype.join.call(arguments, \" \"));\n    },\n    dt = y.__private__.getArrayBuffer = function (t) {\n      for (var e = t.length, r = new ArrayBuffer(e), n = new Uint8Array(r); e--;) n[e] = t.charCodeAt(e);\n      return r;\n    },\n    pt = [[\"Helvetica\", \"helvetica\", \"normal\", \"WinAnsiEncoding\"], [\"Helvetica-Bold\", \"helvetica\", \"bold\", \"WinAnsiEncoding\"], [\"Helvetica-Oblique\", \"helvetica\", \"italic\", \"WinAnsiEncoding\"], [\"Helvetica-BoldOblique\", \"helvetica\", \"bolditalic\", \"WinAnsiEncoding\"], [\"Courier\", \"courier\", \"normal\", \"WinAnsiEncoding\"], [\"Courier-Bold\", \"courier\", \"bold\", \"WinAnsiEncoding\"], [\"Courier-Oblique\", \"courier\", \"italic\", \"WinAnsiEncoding\"], [\"Courier-BoldOblique\", \"courier\", \"bolditalic\", \"WinAnsiEncoding\"], [\"Times-Roman\", \"times\", \"normal\", \"WinAnsiEncoding\"], [\"Times-Bold\", \"times\", \"bold\", \"WinAnsiEncoding\"], [\"Times-Italic\", \"times\", \"italic\", \"WinAnsiEncoding\"], [\"Times-BoldItalic\", \"times\", \"bolditalic\", \"WinAnsiEncoding\"], [\"ZapfDingbats\", \"zapfdingbats\", \"normal\", null], [\"Symbol\", \"symbol\", \"normal\", null]];\n  y.__private__.getStandardFonts = function () {\n    return pt;\n  };\n  var gt = e.fontSize || 16;\n  y.__private__.setFontSize = y.setFontSize = function (t) {\n    return gt = S === x.ADVANCED ? t / _t : t, this;\n  };\n  var mt,\n    vt = y.__private__.getFontSize = y.getFontSize = function () {\n      return S === x.COMPAT ? gt : gt * _t;\n    },\n    bt = e.R2L || !1;\n  y.__private__.setR2L = y.setR2L = function (t) {\n    return bt = t, this;\n  }, y.__private__.getR2L = y.getR2L = function () {\n    return bt;\n  };\n  var yt,\n    wt = y.__private__.setZoomMode = function (t) {\n      var e = [void 0, null, \"fullwidth\", \"fullheight\", \"fullpage\", \"original\"];\n      if (/^(?:\\d+\\.\\d*|\\d*\\.\\d+|\\d+)%$/.test(t)) mt = t;else if (isNaN(t)) {\n        if (-1 === e.indexOf(t)) throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. \"' + t + '\" is not recognized.');\n        mt = t;\n      } else mt = parseInt(t, 10);\n    };\n  y.__private__.getZoomMode = function () {\n    return mt;\n  };\n  var Nt,\n    Lt = y.__private__.setPageMode = function (t) {\n      if (-1 == [void 0, null, \"UseNone\", \"UseOutlines\", \"UseThumbs\", \"FullScreen\"].indexOf(t)) throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. \"' + t + '\" is not recognized.');\n      yt = t;\n    };\n  y.__private__.getPageMode = function () {\n    return yt;\n  };\n  var At = y.__private__.setLayoutMode = function (t) {\n    if (-1 == [void 0, null, \"continuous\", \"single\", \"twoleft\", \"tworight\", \"two\"].indexOf(t)) throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. \"' + t + '\" is not recognized.');\n    Nt = t;\n  };\n  y.__private__.getLayoutMode = function () {\n    return Nt;\n  }, y.__private__.setDisplayMode = y.setDisplayMode = function (t, e, r) {\n    return wt(t), At(e), Lt(r), this;\n  };\n  var xt = {\n    title: \"\",\n    subject: \"\",\n    author: \"\",\n    keywords: \"\",\n    creator: \"\"\n  };\n  y.__private__.getDocumentProperty = function (t) {\n    if (-1 === Object.keys(xt).indexOf(t)) throw new Error(\"Invalid argument passed to jsPDF.getDocumentProperty\");\n    return xt[t];\n  }, y.__private__.getDocumentProperties = function () {\n    return xt;\n  }, y.__private__.setDocumentProperties = y.setProperties = y.setDocumentProperties = function (t) {\n    for (var e in xt) xt.hasOwnProperty(e) && t[e] && (xt[e] = t[e]);\n    return this;\n  }, y.__private__.setDocumentProperty = function (t, e) {\n    if (-1 === Object.keys(xt).indexOf(t)) throw new Error(\"Invalid arguments passed to jsPDF.setDocumentProperty\");\n    return xt[t] = e;\n  };\n  var St,\n    _t,\n    Pt,\n    kt,\n    It,\n    Ft = {},\n    Ct = {},\n    jt = [],\n    Ot = {},\n    Bt = {},\n    Mt = {},\n    Et = {},\n    qt = null,\n    Dt = 0,\n    Rt = [],\n    Tt = new C(y),\n    Ut = e.hotfixes || [],\n    zt = {},\n    Ht = {},\n    Wt = [],\n    Vt = function t(e, r, n, i, a, o) {\n      if (!(this instanceof t)) return new t(e, r, n, i, a, o);\n      isNaN(e) && (e = 1), isNaN(r) && (r = 0), isNaN(n) && (n = 0), isNaN(i) && (i = 1), isNaN(a) && (a = 0), isNaN(o) && (o = 0), this._matrix = [e, r, n, i, a, o];\n    };\n  Object.defineProperty(Vt.prototype, \"sx\", {\n    get: function () {\n      return this._matrix[0];\n    },\n    set: function (t) {\n      this._matrix[0] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"shy\", {\n    get: function () {\n      return this._matrix[1];\n    },\n    set: function (t) {\n      this._matrix[1] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"shx\", {\n    get: function () {\n      return this._matrix[2];\n    },\n    set: function (t) {\n      this._matrix[2] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"sy\", {\n    get: function () {\n      return this._matrix[3];\n    },\n    set: function (t) {\n      this._matrix[3] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"tx\", {\n    get: function () {\n      return this._matrix[4];\n    },\n    set: function (t) {\n      this._matrix[4] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"ty\", {\n    get: function () {\n      return this._matrix[5];\n    },\n    set: function (t) {\n      this._matrix[5] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"a\", {\n    get: function () {\n      return this._matrix[0];\n    },\n    set: function (t) {\n      this._matrix[0] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"b\", {\n    get: function () {\n      return this._matrix[1];\n    },\n    set: function (t) {\n      this._matrix[1] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"c\", {\n    get: function () {\n      return this._matrix[2];\n    },\n    set: function (t) {\n      this._matrix[2] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"d\", {\n    get: function () {\n      return this._matrix[3];\n    },\n    set: function (t) {\n      this._matrix[3] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"e\", {\n    get: function () {\n      return this._matrix[4];\n    },\n    set: function (t) {\n      this._matrix[4] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"f\", {\n    get: function () {\n      return this._matrix[5];\n    },\n    set: function (t) {\n      this._matrix[5] = t;\n    }\n  }), Object.defineProperty(Vt.prototype, \"rotation\", {\n    get: function () {\n      return Math.atan2(this.shx, this.sx);\n    }\n  }), Object.defineProperty(Vt.prototype, \"scaleX\", {\n    get: function () {\n      return this.decompose().scale.sx;\n    }\n  }), Object.defineProperty(Vt.prototype, \"scaleY\", {\n    get: function () {\n      return this.decompose().scale.sy;\n    }\n  }), Object.defineProperty(Vt.prototype, \"isIdentity\", {\n    get: function () {\n      return 1 === this.sx && 0 === this.shy && 0 === this.shx && 1 === this.sy && 0 === this.tx && 0 === this.ty;\n    }\n  }), Vt.prototype.join = function (t) {\n    return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty].map(O).join(t);\n  }, Vt.prototype.multiply = function (t) {\n    var e = t.sx * this.sx + t.shy * this.shx,\n      r = t.sx * this.shy + t.shy * this.sy,\n      n = t.shx * this.sx + t.sy * this.shx,\n      i = t.shx * this.shy + t.sy * this.sy,\n      a = t.tx * this.sx + t.ty * this.shx + this.tx,\n      o = t.tx * this.shy + t.ty * this.sy + this.ty;\n    return new Vt(e, r, n, i, a, o);\n  }, Vt.prototype.decompose = function () {\n    var t = this.sx,\n      e = this.shy,\n      r = this.shx,\n      n = this.sy,\n      i = this.tx,\n      a = this.ty,\n      o = Math.sqrt(t * t + e * e),\n      s = (t /= o) * r + (e /= o) * n;\n    r -= t * s, n -= e * s;\n    var c = Math.sqrt(r * r + n * n);\n    return s /= c, t * (n /= c) < e * (r /= c) && (t = -t, e = -e, s = -s, o = -o), {\n      scale: new Vt(o, 0, 0, c, 0, 0),\n      translate: new Vt(1, 0, 0, 1, i, a),\n      rotate: new Vt(t, e, -e, t, 0, 0),\n      skew: new Vt(1, 0, s, 1, 0, 0)\n    };\n  }, Vt.prototype.toString = function (t) {\n    return this.join(\" \");\n  }, Vt.prototype.inversed = function () {\n    var t = this.sx,\n      e = this.shy,\n      r = this.shx,\n      n = this.sy,\n      i = this.tx,\n      a = this.ty,\n      o = 1 / (t * n - e * r),\n      s = n * o,\n      c = -e * o,\n      u = -r * o,\n      h = t * o;\n    return new Vt(s, c, u, h, -s * i - u * a, -c * i - h * a);\n  }, Vt.prototype.applyToPoint = function (t) {\n    var e = t.x * this.sx + t.y * this.shx + this.tx,\n      r = t.x * this.shy + t.y * this.sy + this.ty;\n    return new Cr(e, r);\n  }, Vt.prototype.applyToRectangle = function (t) {\n    var e = this.applyToPoint(t),\n      r = this.applyToPoint(new Cr(t.x + t.w, t.y + t.h));\n    return new jr(e.x, e.y, r.x - e.x, r.y - e.y);\n  }, Vt.prototype.clone = function () {\n    var t = this.sx,\n      e = this.shy,\n      r = this.shx,\n      n = this.sy,\n      i = this.tx,\n      a = this.ty;\n    return new Vt(t, e, r, n, i, a);\n  }, y.Matrix = Vt;\n  var Gt = y.matrixMult = function (t, e) {\n      return e.multiply(t);\n    },\n    Yt = new Vt(1, 0, 0, 1, 0, 0);\n  y.unitMatrix = y.identityMatrix = Yt;\n  var Jt = function (t, e) {\n    if (!Bt[t]) {\n      var r = (e instanceof B ? \"Sh\" : \"P\") + (Object.keys(Ot).length + 1).toString(10);\n      e.id = r, Bt[t] = r, Ot[r] = e, Tt.publish(\"addPattern\", e);\n    }\n  };\n  y.ShadingPattern = B, y.TilingPattern = M, y.addShadingPattern = function (t, e) {\n    return q(\"addShadingPattern()\"), Jt(t, e), this;\n  }, y.beginTilingPattern = function (t) {\n    q(\"beginTilingPattern()\"), Br(t.boundingBox[0], t.boundingBox[1], t.boundingBox[2] - t.boundingBox[0], t.boundingBox[3] - t.boundingBox[1], t.matrix);\n  }, y.endTilingPattern = function (t, e) {\n    q(\"endTilingPattern()\"), e.stream = ot[$].join(\"\\n\"), Jt(t, e), Tt.publish(\"endTilingPattern\", e), Wt.pop().restore();\n  };\n  var Xt = y.__private__.newObject = function () {\n      var t = Kt();\n      return Zt(t, !0), t;\n    },\n    Kt = y.__private__.newObjectDeferred = function () {\n      return et++, rt[et] = function () {\n        return it;\n      }, et;\n    },\n    Zt = function (t, e) {\n      return e = \"boolean\" == typeof e && e, rt[t] = it, e && lt(t + \" 0 obj\"), t;\n    },\n    $t = y.__private__.newAdditionalObject = function () {\n      var t = {\n        objId: Kt(),\n        content: \"\"\n      };\n      return at.push(t), t;\n    },\n    Qt = Kt(),\n    te = Kt(),\n    ee = y.__private__.decodeColorString = function (t) {\n      var e = t.split(\" \");\n      if (2 !== e.length || \"g\" !== e[1] && \"G\" !== e[1]) {\n        if (5 === e.length && (\"k\" === e[4] || \"K\" === e[4])) {\n          e = [(1 - e[0]) * (1 - e[3]), (1 - e[1]) * (1 - e[3]), (1 - e[2]) * (1 - e[3]), \"r\"];\n        }\n      } else {\n        var r = parseFloat(e[0]);\n        e = [r, r, r, \"r\"];\n      }\n      for (var n = \"#\", i = 0; i < 3; i++) n += (\"0\" + Math.floor(255 * parseFloat(e[i])).toString(16)).slice(-2);\n      return n;\n    },\n    re = y.__private__.encodeColorString = function (e) {\n      var r;\n      \"string\" == typeof e && (e = {\n        ch1: e\n      });\n      var n = e.ch1,\n        i = e.ch2,\n        a = e.ch3,\n        o = e.ch4,\n        s = \"draw\" === e.pdfColorType ? [\"G\", \"RG\", \"K\"] : [\"g\", \"rg\", \"k\"];\n      if (\"string\" == typeof n && \"#\" !== n.charAt(0)) {\n        var c = new f(n);\n        if (c.ok) n = c.toHex();else if (!/^\\d*\\.?\\d*$/.test(n)) throw new Error('Invalid color \"' + n + '\" passed to jsPDF.encodeColorString.');\n      }\n      if (\"string\" == typeof n && /^#[0-9A-Fa-f]{3}$/.test(n) && (n = \"#\" + n[1] + n[1] + n[2] + n[2] + n[3] + n[3]), \"string\" == typeof n && /^#[0-9A-Fa-f]{6}$/.test(n)) {\n        var u = parseInt(n.substr(1), 16);\n        n = u >> 16 & 255, i = u >> 8 & 255, a = 255 & u;\n      }\n      if (void 0 === i || void 0 === o && n === i && i === a) {\n        if (\"string\" == typeof n) r = n + \" \" + s[0];else switch (e.precision) {\n          case 2:\n            r = R(n / 255) + \" \" + s[0];\n            break;\n          case 3:\n          default:\n            r = T(n / 255) + \" \" + s[0];\n        }\n      } else if (void 0 === o || \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(o)) {\n        if (o && !isNaN(o.a) && 0 === o.a) return r = [\"1.\", \"1.\", \"1.\", s[1]].join(\" \");\n        if (\"string\" == typeof n) r = [n, i, a, s[1]].join(\" \");else switch (e.precision) {\n          case 2:\n            r = [R(n / 255), R(i / 255), R(a / 255), s[1]].join(\" \");\n            break;\n          default:\n          case 3:\n            r = [T(n / 255), T(i / 255), T(a / 255), s[1]].join(\" \");\n        }\n      } else if (\"string\" == typeof n) r = [n, i, a, o, s[2]].join(\" \");else switch (e.precision) {\n        case 2:\n          r = [R(n), R(i), R(a), R(o), s[2]].join(\" \");\n          break;\n        case 3:\n        default:\n          r = [T(n), T(i), T(a), T(o), s[2]].join(\" \");\n      }\n      return r;\n    },\n    ne = y.__private__.getFilters = function () {\n      return u;\n    },\n    ie = y.__private__.putStream = function (t) {\n      var e = (t = t || {}).data || \"\",\n        r = t.filters || ne(),\n        n = t.alreadyAppliedFilters || [],\n        i = t.addLength1 || !1,\n        a = e.length,\n        o = t.objectId,\n        s = function (t) {\n          return t;\n        };\n      if (null !== m && void 0 === o) throw new Error(\"ObjectId must be passed to putStream for file encryption\");\n      null !== m && (s = Ye.encryptor(o, 0));\n      var c = {};\n      !0 === r && (r = [\"FlateEncode\"]);\n      var u = t.additionalKeyValues || [],\n        h = (c = void 0 !== E.API.processDataByFilters ? E.API.processDataByFilters(e, r) : {\n          data: e,\n          reverseChain: []\n        }).reverseChain + (Array.isArray(n) ? n.join(\" \") : n.toString());\n      if (0 !== c.data.length && (u.push({\n        key: \"Length\",\n        value: c.data.length\n      }), !0 === i && u.push({\n        key: \"Length1\",\n        value: a\n      })), 0 != h.length) if (h.split(\"/\").length - 1 == 1) u.push({\n        key: \"Filter\",\n        value: h\n      });else {\n        u.push({\n          key: \"Filter\",\n          value: \"[\" + h + \"]\"\n        });\n        for (var l = 0; l < u.length; l += 1) if (\"DecodeParms\" === u[l].key) {\n          for (var f = [], d = 0; d < c.reverseChain.split(\"/\").length - 1; d += 1) f.push(\"null\");\n          f.push(u[l].value), u[l].value = \"[\" + f.join(\" \") + \"]\";\n        }\n      }\n      lt(\"<<\");\n      for (var p = 0; p < u.length; p++) lt(\"/\" + u[p].key + \" \" + u[p].value);\n      lt(\">>\"), 0 !== c.data.length && (lt(\"stream\"), lt(s(c.data)), lt(\"endstream\"));\n    },\n    ae = y.__private__.putPage = function (t) {\n      var e = t.number,\n        r = t.data,\n        n = t.objId,\n        i = t.contentsObjId;\n      Zt(n, !0), lt(\"<</Type /Page\"), lt(\"/Parent \" + t.rootDictionaryObjId + \" 0 R\"), lt(\"/Resources \" + t.resourceDictionaryObjId + \" 0 R\"), lt(\"/MediaBox [\" + parseFloat(O(t.mediaBox.bottomLeftX)) + \" \" + parseFloat(O(t.mediaBox.bottomLeftY)) + \" \" + O(t.mediaBox.topRightX) + \" \" + O(t.mediaBox.topRightY) + \"]\"), null !== t.cropBox && lt(\"/CropBox [\" + O(t.cropBox.bottomLeftX) + \" \" + O(t.cropBox.bottomLeftY) + \" \" + O(t.cropBox.topRightX) + \" \" + O(t.cropBox.topRightY) + \"]\"), null !== t.bleedBox && lt(\"/BleedBox [\" + O(t.bleedBox.bottomLeftX) + \" \" + O(t.bleedBox.bottomLeftY) + \" \" + O(t.bleedBox.topRightX) + \" \" + O(t.bleedBox.topRightY) + \"]\"), null !== t.trimBox && lt(\"/TrimBox [\" + O(t.trimBox.bottomLeftX) + \" \" + O(t.trimBox.bottomLeftY) + \" \" + O(t.trimBox.topRightX) + \" \" + O(t.trimBox.topRightY) + \"]\"), null !== t.artBox && lt(\"/ArtBox [\" + O(t.artBox.bottomLeftX) + \" \" + O(t.artBox.bottomLeftY) + \" \" + O(t.artBox.topRightX) + \" \" + O(t.artBox.topRightY) + \"]\"), \"number\" == typeof t.userUnit && 1 !== t.userUnit && lt(\"/UserUnit \" + t.userUnit), Tt.publish(\"putPage\", {\n        objId: n,\n        pageContext: Rt[e],\n        pageNumber: e,\n        page: r\n      }), lt(\"/Contents \" + i + \" 0 R\"), lt(\">>\"), lt(\"endobj\");\n      var a = r.join(\"\\n\");\n      return S === x.ADVANCED && (a += \"\\nQ\"), Zt(i, !0), ie({\n        data: a,\n        filters: ne(),\n        objectId: i\n      }), lt(\"endobj\"), n;\n    },\n    oe = y.__private__.putPages = function () {\n      var t,\n        e,\n        r = [];\n      for (t = 1; t <= Dt; t++) Rt[t].objId = Kt(), Rt[t].contentsObjId = Kt();\n      for (t = 1; t <= Dt; t++) r.push(ae({\n        number: t,\n        data: ot[t],\n        objId: Rt[t].objId,\n        contentsObjId: Rt[t].contentsObjId,\n        mediaBox: Rt[t].mediaBox,\n        cropBox: Rt[t].cropBox,\n        bleedBox: Rt[t].bleedBox,\n        trimBox: Rt[t].trimBox,\n        artBox: Rt[t].artBox,\n        userUnit: Rt[t].userUnit,\n        rootDictionaryObjId: Qt,\n        resourceDictionaryObjId: te\n      }));\n      Zt(Qt, !0), lt(\"<</Type /Pages\");\n      var n = \"/Kids [\";\n      for (e = 0; e < Dt; e++) n += r[e] + \" 0 R \";\n      lt(n + \"]\"), lt(\"/Count \" + Dt), lt(\">>\"), lt(\"endobj\"), Tt.publish(\"postPutPages\");\n    },\n    se = function (t) {\n      Tt.publish(\"putFont\", {\n        font: t,\n        out: lt,\n        newObject: Xt,\n        putStream: ie\n      }), !0 !== t.isAlreadyPutted && (t.objectNumber = Xt(), lt(\"<<\"), lt(\"/Type /Font\"), lt(\"/BaseFont /\" + F(t.postScriptName)), lt(\"/Subtype /Type1\"), \"string\" == typeof t.encoding && lt(\"/Encoding /\" + t.encoding), lt(\"/FirstChar 32\"), lt(\"/LastChar 255\"), lt(\">>\"), lt(\"endobj\"));\n    },\n    ce = function () {\n      for (var t in Ft) Ft.hasOwnProperty(t) && (!1 === v || !0 === v && b.hasOwnProperty(t)) && se(Ft[t]);\n    },\n    ue = function (t) {\n      t.objectNumber = Xt();\n      var e = [];\n      e.push({\n        key: \"Type\",\n        value: \"/XObject\"\n      }), e.push({\n        key: \"Subtype\",\n        value: \"/Form\"\n      }), e.push({\n        key: \"BBox\",\n        value: \"[\" + [O(t.x), O(t.y), O(t.x + t.width), O(t.y + t.height)].join(\" \") + \"]\"\n      }), e.push({\n        key: \"Matrix\",\n        value: \"[\" + t.matrix.toString() + \"]\"\n      });\n      var r = t.pages[1].join(\"\\n\");\n      ie({\n        data: r,\n        additionalKeyValues: e,\n        objectId: t.objectNumber\n      }), lt(\"endobj\");\n    },\n    he = function () {\n      for (var t in zt) zt.hasOwnProperty(t) && ue(zt[t]);\n    },\n    le = function (t, e) {\n      var r,\n        n = [],\n        i = 1 / (e - 1);\n      for (r = 0; r < 1; r += i) n.push(r);\n      if (n.push(1), 0 != t[0].offset) {\n        var a = {\n          offset: 0,\n          color: t[0].color\n        };\n        t.unshift(a);\n      }\n      if (1 != t[t.length - 1].offset) {\n        var o = {\n          offset: 1,\n          color: t[t.length - 1].color\n        };\n        t.push(o);\n      }\n      for (var s = \"\", c = 0, u = 0; u < n.length; u++) {\n        for (r = n[u]; r > t[c + 1].offset;) c++;\n        var h = t[c].offset,\n          l = (r - h) / (t[c + 1].offset - h),\n          f = t[c].color,\n          d = t[c + 1].color;\n        s += tt(Math.round((1 - l) * f[0] + l * d[0]).toString(16)) + tt(Math.round((1 - l) * f[1] + l * d[1]).toString(16)) + tt(Math.round((1 - l) * f[2] + l * d[2]).toString(16));\n      }\n      return s.trim();\n    },\n    fe = function (t, e) {\n      e || (e = 21);\n      var r = Xt(),\n        n = le(t.colors, e),\n        i = [];\n      i.push({\n        key: \"FunctionType\",\n        value: \"0\"\n      }), i.push({\n        key: \"Domain\",\n        value: \"[0.0 1.0]\"\n      }), i.push({\n        key: \"Size\",\n        value: \"[\" + e + \"]\"\n      }), i.push({\n        key: \"BitsPerSample\",\n        value: \"8\"\n      }), i.push({\n        key: \"Range\",\n        value: \"[0.0 1.0 0.0 1.0 0.0 1.0]\"\n      }), i.push({\n        key: \"Decode\",\n        value: \"[0.0 1.0 0.0 1.0 0.0 1.0]\"\n      }), ie({\n        data: n,\n        additionalKeyValues: i,\n        alreadyAppliedFilters: [\"/ASCIIHexDecode\"],\n        objectId: r\n      }), lt(\"endobj\"), t.objectNumber = Xt(), lt(\"<< /ShadingType \" + t.type), lt(\"/ColorSpace /DeviceRGB\");\n      var a = \"/Coords [\" + O(parseFloat(t.coords[0])) + \" \" + O(parseFloat(t.coords[1])) + \" \";\n      2 === t.type ? a += O(parseFloat(t.coords[2])) + \" \" + O(parseFloat(t.coords[3])) : a += O(parseFloat(t.coords[2])) + \" \" + O(parseFloat(t.coords[3])) + \" \" + O(parseFloat(t.coords[4])) + \" \" + O(parseFloat(t.coords[5])), lt(a += \"]\"), t.matrix && lt(\"/Matrix [\" + t.matrix.toString() + \"]\"), lt(\"/Function \" + r + \" 0 R\"), lt(\"/Extend [true true]\"), lt(\">>\"), lt(\"endobj\");\n    },\n    de = function (t, e) {\n      var r = Kt(),\n        n = Xt();\n      e.push({\n        resourcesOid: r,\n        objectOid: n\n      }), t.objectNumber = n;\n      var i = [];\n      i.push({\n        key: \"Type\",\n        value: \"/Pattern\"\n      }), i.push({\n        key: \"PatternType\",\n        value: \"1\"\n      }), i.push({\n        key: \"PaintType\",\n        value: \"1\"\n      }), i.push({\n        key: \"TilingType\",\n        value: \"1\"\n      }), i.push({\n        key: \"BBox\",\n        value: \"[\" + t.boundingBox.map(O).join(\" \") + \"]\"\n      }), i.push({\n        key: \"XStep\",\n        value: O(t.xStep)\n      }), i.push({\n        key: \"YStep\",\n        value: O(t.yStep)\n      }), i.push({\n        key: \"Resources\",\n        value: r + \" 0 R\"\n      }), t.matrix && i.push({\n        key: \"Matrix\",\n        value: \"[\" + t.matrix.toString() + \"]\"\n      }), ie({\n        data: t.stream,\n        additionalKeyValues: i,\n        objectId: t.objectNumber\n      }), lt(\"endobj\");\n    },\n    pe = function (t) {\n      var e;\n      for (e in Ot) Ot.hasOwnProperty(e) && (Ot[e] instanceof B ? fe(Ot[e]) : Ot[e] instanceof M && de(Ot[e], t));\n    },\n    ge = function (t) {\n      for (var e in t.objectNumber = Xt(), lt(\"<<\"), t) switch (e) {\n        case \"opacity\":\n          lt(\"/ca \" + R(t[e]));\n          break;\n        case \"stroke-opacity\":\n          lt(\"/CA \" + R(t[e]));\n      }\n      lt(\">>\"), lt(\"endobj\");\n    },\n    me = function () {\n      var t;\n      for (t in Mt) Mt.hasOwnProperty(t) && ge(Mt[t]);\n    },\n    ve = function () {\n      for (var t in lt(\"/XObject <<\"), zt) zt.hasOwnProperty(t) && zt[t].objectNumber >= 0 && lt(\"/\" + t + \" \" + zt[t].objectNumber + \" 0 R\");\n      Tt.publish(\"putXobjectDict\"), lt(\">>\");\n    },\n    be = function () {\n      Ye.oid = Xt(), lt(\"<<\"), lt(\"/Filter /Standard\"), lt(\"/V \" + Ye.v), lt(\"/R \" + Ye.r), lt(\"/U <\" + Ye.toHexString(Ye.U) + \">\"), lt(\"/O <\" + Ye.toHexString(Ye.O) + \">\"), lt(\"/P \" + Ye.P), lt(\">>\"), lt(\"endobj\");\n    },\n    ye = function () {\n      for (var t in lt(\"/Font <<\"), Ft) Ft.hasOwnProperty(t) && (!1 === v || !0 === v && b.hasOwnProperty(t)) && lt(\"/\" + t + \" \" + Ft[t].objectNumber + \" 0 R\");\n      lt(\">>\");\n    },\n    we = function () {\n      if (Object.keys(Ot).length > 0) {\n        for (var t in lt(\"/Shading <<\"), Ot) Ot.hasOwnProperty(t) && Ot[t] instanceof B && Ot[t].objectNumber >= 0 && lt(\"/\" + t + \" \" + Ot[t].objectNumber + \" 0 R\");\n        Tt.publish(\"putShadingPatternDict\"), lt(\">>\");\n      }\n    },\n    Ne = function (t) {\n      if (Object.keys(Ot).length > 0) {\n        for (var e in lt(\"/Pattern <<\"), Ot) Ot.hasOwnProperty(e) && Ot[e] instanceof y.TilingPattern && Ot[e].objectNumber >= 0 && Ot[e].objectNumber < t && lt(\"/\" + e + \" \" + Ot[e].objectNumber + \" 0 R\");\n        Tt.publish(\"putTilingPatternDict\"), lt(\">>\");\n      }\n    },\n    Le = function () {\n      if (Object.keys(Mt).length > 0) {\n        var t;\n        for (t in lt(\"/ExtGState <<\"), Mt) Mt.hasOwnProperty(t) && Mt[t].objectNumber >= 0 && lt(\"/\" + t + \" \" + Mt[t].objectNumber + \" 0 R\");\n        Tt.publish(\"putGStateDict\"), lt(\">>\");\n      }\n    },\n    Ae = function (t) {\n      Zt(t.resourcesOid, !0), lt(\"<<\"), lt(\"/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]\"), ye(), we(), Ne(t.objectOid), Le(), ve(), lt(\">>\"), lt(\"endobj\");\n    },\n    xe = function () {\n      var t = [];\n      ce(), me(), he(), pe(t), Tt.publish(\"putResources\"), t.forEach(Ae), Ae({\n        resourcesOid: te,\n        objectOid: Number.MAX_SAFE_INTEGER\n      }), Tt.publish(\"postPutResources\");\n    },\n    Se = function () {\n      Tt.publish(\"putAdditionalObjects\");\n      for (var t = 0; t < at.length; t++) {\n        var e = at[t];\n        Zt(e.objId, !0), lt(e.content), lt(\"endobj\");\n      }\n      Tt.publish(\"postPutAdditionalObjects\");\n    },\n    _e = function (t) {\n      Ct[t.fontName] = Ct[t.fontName] || {}, Ct[t.fontName][t.fontStyle] = t.id;\n    },\n    Pe = function (t, e, r, n, i) {\n      var a = {\n        id: \"F\" + (Object.keys(Ft).length + 1).toString(10),\n        postScriptName: t,\n        fontName: e,\n        fontStyle: r,\n        encoding: n,\n        isStandardFont: i || !1,\n        metadata: {}\n      };\n      return Tt.publish(\"addFont\", {\n        font: a,\n        instance: this\n      }), Ft[a.id] = a, _e(a), a.id;\n    },\n    ke = function (t) {\n      for (var e = 0, r = pt.length; e < r; e++) {\n        var n = Pe.call(this, t[e][0], t[e][1], t[e][2], pt[e][3], !0);\n        !1 === v && (b[n] = !0);\n        var i = t[e][0].split(\"-\");\n        _e({\n          id: n,\n          fontName: i[0],\n          fontStyle: i[1] || \"\"\n        });\n      }\n      Tt.publish(\"addFonts\", {\n        fonts: Ft,\n        dictionary: Ct\n      });\n    },\n    Ie = function (t) {\n      return t.foo = function () {\n        try {\n          return t.apply(this, arguments);\n        } catch (t) {\n          var e = t.stack || \"\";\n          ~e.indexOf(\" at \") && (e = e.split(\" at \")[1]);\n          var r = \"Error in function \" + e.split(\"\\n\")[0].split(\"<\")[0] + \": \" + t.message;\n          if (!n.console) throw new Error(r);\n          n.console.error(r, t), n.alert && alert(r);\n        }\n      }, t.foo.bar = t, t.foo;\n    },\n    Fe = function (t, e) {\n      var r, n, i, a, o, s, c, u, h;\n      if (i = (e = e || {}).sourceEncoding || \"Unicode\", o = e.outputEncoding, (e.autoencode || o) && Ft[St].metadata && Ft[St].metadata[i] && Ft[St].metadata[i].encoding && (a = Ft[St].metadata[i].encoding, !o && Ft[St].encoding && (o = Ft[St].encoding), !o && a.codePages && (o = a.codePages[0]), \"string\" == typeof o && (o = a[o]), o)) {\n        for (c = !1, s = [], r = 0, n = t.length; r < n; r++) (u = o[t.charCodeAt(r)]) ? s.push(String.fromCharCode(u)) : s.push(t[r]), s[r].charCodeAt(0) >> 8 && (c = !0);\n        t = s.join(\"\");\n      }\n      for (r = t.length; void 0 === c && 0 !== r;) t.charCodeAt(r - 1) >> 8 && (c = !0), r--;\n      if (!c) return t;\n      for (s = e.noBOM ? [] : [254, 255], r = 0, n = t.length; r < n; r++) {\n        if ((h = (u = t.charCodeAt(r)) >> 8) >> 8) throw new Error(\"Character at position \" + r + \" of string '\" + t + \"' exceeds 16bits. Cannot be encoded into UCS-2 BE\");\n        s.push(h), s.push(u - (h << 8));\n      }\n      return String.fromCharCode.apply(void 0, s);\n    },\n    Ce = y.__private__.pdfEscape = y.pdfEscape = function (t, e) {\n      return Fe(t, e).replace(/\\\\/g, \"\\\\\\\\\").replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n    },\n    je = y.__private__.beginPage = function (t) {\n      ot[++Dt] = [], Rt[Dt] = {\n        objId: 0,\n        contentsObjId: 0,\n        userUnit: Number(d),\n        artBox: null,\n        bleedBox: null,\n        cropBox: null,\n        trimBox: null,\n        mediaBox: {\n          bottomLeftX: 0,\n          bottomLeftY: 0,\n          topRightX: Number(t[0]),\n          topRightY: Number(t[1])\n        }\n      }, Me(Dt), ht(ot[$]);\n    },\n    Oe = function (t, e) {\n      var r, n, o;\n      switch (i = e || i, \"string\" == typeof t && (r = A(t.toLowerCase()), Array.isArray(r) && (n = r[0], o = r[1])), Array.isArray(t) && (n = t[0] * _t, o = t[1] * _t), isNaN(n) && (n = s[0], o = s[1]), (n > 14400 || o > 14400) && (a.warn(\"A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400\"), n = Math.min(14400, n), o = Math.min(14400, o)), s = [n, o], i.substr(0, 1)) {\n        case \"l\":\n          o > n && (s = [o, n]);\n          break;\n        case \"p\":\n          n > o && (s = [o, n]);\n      }\n      je(s), pr(fr), lt(Lr), 0 !== kr && lt(kr + \" J\"), 0 !== Ir && lt(Ir + \" j\"), Tt.publish(\"addPage\", {\n        pageNumber: Dt\n      });\n    },\n    Be = function (t) {\n      t > 0 && t <= Dt && (ot.splice(t, 1), Rt.splice(t, 1), Dt--, $ > Dt && ($ = Dt), this.setPage($));\n    },\n    Me = function (t) {\n      t > 0 && t <= Dt && ($ = t);\n    },\n    Ee = y.__private__.getNumberOfPages = y.getNumberOfPages = function () {\n      return ot.length - 1;\n    },\n    qe = function (t, e, r) {\n      var n,\n        i = void 0;\n      return r = r || {}, t = void 0 !== t ? t : Ft[St].fontName, e = void 0 !== e ? e : Ft[St].fontStyle, n = t.toLowerCase(), void 0 !== Ct[n] && void 0 !== Ct[n][e] ? i = Ct[n][e] : void 0 !== Ct[t] && void 0 !== Ct[t][e] ? i = Ct[t][e] : !1 === r.disableWarning && a.warn(\"Unable to look up font label for font '\" + t + \"', '\" + e + \"'. Refer to getFontList() for available fonts.\"), i || r.noFallback || null == (i = Ct.times[e]) && (i = Ct.times.normal), i;\n    },\n    De = y.__private__.putInfo = function () {\n      var t = Xt(),\n        e = function (t) {\n          return t;\n        };\n      for (var r in null !== m && (e = Ye.encryptor(t, 0)), lt(\"<<\"), lt(\"/Producer (\" + Ce(e(\"jsPDF \" + E.version)) + \")\"), xt) xt.hasOwnProperty(r) && xt[r] && lt(\"/\" + r.substr(0, 1).toUpperCase() + r.substr(1) + \" (\" + Ce(e(xt[r])) + \")\");\n      lt(\"/CreationDate (\" + Ce(e(W)) + \")\"), lt(\">>\"), lt(\"endobj\");\n    },\n    Re = y.__private__.putCatalog = function (t) {\n      var e = (t = t || {}).rootDictionaryObjId || Qt;\n      switch (Xt(), lt(\"<<\"), lt(\"/Type /Catalog\"), lt(\"/Pages \" + e + \" 0 R\"), mt || (mt = \"fullwidth\"), mt) {\n        case \"fullwidth\":\n          lt(\"/OpenAction [3 0 R /FitH null]\");\n          break;\n        case \"fullheight\":\n          lt(\"/OpenAction [3 0 R /FitV null]\");\n          break;\n        case \"fullpage\":\n          lt(\"/OpenAction [3 0 R /Fit]\");\n          break;\n        case \"original\":\n          lt(\"/OpenAction [3 0 R /XYZ null null 1]\");\n          break;\n        default:\n          var r = \"\" + mt;\n          \"%\" === r.substr(r.length - 1) && (mt = parseInt(mt) / 100), \"number\" == typeof mt && lt(\"/OpenAction [3 0 R /XYZ null null \" + R(mt) + \"]\");\n      }\n      switch (Nt || (Nt = \"continuous\"), Nt) {\n        case \"continuous\":\n          lt(\"/PageLayout /OneColumn\");\n          break;\n        case \"single\":\n          lt(\"/PageLayout /SinglePage\");\n          break;\n        case \"two\":\n        case \"twoleft\":\n          lt(\"/PageLayout /TwoColumnLeft\");\n          break;\n        case \"tworight\":\n          lt(\"/PageLayout /TwoColumnRight\");\n      }\n      yt && lt(\"/PageMode /\" + yt), Tt.publish(\"putCatalog\"), lt(\">>\"), lt(\"endobj\");\n    },\n    Te = y.__private__.putTrailer = function () {\n      lt(\"trailer\"), lt(\"<<\"), lt(\"/Size \" + (et + 1)), lt(\"/Root \" + et + \" 0 R\"), lt(\"/Info \" + (et - 1) + \" 0 R\"), null !== m && lt(\"/Encrypt \" + Ye.oid + \" 0 R\"), lt(\"/ID [ <\" + V + \"> <\" + V + \"> ]\"), lt(\">>\");\n    },\n    Ue = y.__private__.putHeader = function () {\n      lt(\"%PDF-\" + w), lt(\"%ºß¬à\");\n    },\n    ze = y.__private__.putXRef = function () {\n      var t = \"0000000000\";\n      lt(\"xref\"), lt(\"0 \" + (et + 1)), lt(\"0000000000 65535 f \");\n      for (var e = 1; e <= et; e++) {\n        \"function\" == typeof rt[e] ? lt((t + rt[e]()).slice(-10) + \" 00000 n \") : void 0 !== rt[e] ? lt((t + rt[e]).slice(-10) + \" 00000 n \") : lt(\"0000000000 00000 n \");\n      }\n    },\n    He = y.__private__.buildDocument = function () {\n      ut(), ht(nt), Tt.publish(\"buildDocument\"), Ue(), oe(), Se(), xe(), null !== m && be(), De(), Re();\n      var t = it;\n      return ze(), Te(), lt(\"startxref\"), lt(\"\" + t), lt(\"%%EOF\"), ht(ot[$]), nt.join(\"\\n\");\n    },\n    We = y.__private__.getBlob = function (t) {\n      return new Blob([dt(t)], {\n        type: \"application/pdf\"\n      });\n    },\n    Ve = y.output = y.__private__.output = Ie(function (t, e) {\n      switch (\"string\" == typeof (e = e || {}) ? e = {\n        filename: e\n      } : e.filename = e.filename || \"generated.pdf\", t) {\n        case void 0:\n          return He();\n        case \"save\":\n          y.save(e.filename);\n          break;\n        case \"arraybuffer\":\n          return dt(He());\n        case \"blob\":\n          return We(He());\n        case \"bloburi\":\n        case \"bloburl\":\n          if (void 0 !== n.URL && \"function\" == typeof n.URL.createObjectURL) return n.URL && n.URL.createObjectURL(We(He())) || void 0;\n          a.warn(\"bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.\");\n          break;\n        case \"datauristring\":\n        case \"dataurlstring\":\n          var r = \"\",\n            i = He();\n          try {\n            r = h(i);\n          } catch (t) {\n            r = h(unescape(encodeURIComponent(i)));\n          }\n          return \"data:application/pdf;filename=\" + e.filename + \";base64,\" + r;\n        case \"pdfobjectnewwindow\":\n          if (\"[object Window]\" === Object.prototype.toString.call(n)) {\n            var o = \"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js\",\n              s = ' integrity=\"sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==\" crossorigin=\"anonymous\"';\n            e.pdfObjectUrl && (o = e.pdfObjectUrl, s = \"\");\n            var c = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src=\"' + o + '\"' + s + '><\\/script><script >PDFObject.embed(\"' + this.output(\"dataurlstring\") + '\", ' + JSON.stringify(e) + \");<\\/script></body></html>\",\n              u = n.open();\n            return null !== u && u.document.write(c), u;\n          }\n          throw new Error(\"The option pdfobjectnewwindow just works in a browser-environment.\");\n        case \"pdfjsnewwindow\":\n          if (\"[object Window]\" === Object.prototype.toString.call(n)) {\n            var l = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id=\"pdfViewer\" src=\"' + (e.pdfJsUrl || \"examples/PDF.js/web/viewer.html\") + \"?file=&downloadName=\" + e.filename + '\" width=\"500px\" height=\"400px\" /></body></html>',\n              f = n.open();\n            if (null !== f) {\n              f.document.write(l);\n              var d = this;\n              f.document.documentElement.querySelector(\"#pdfViewer\").onload = function () {\n                f.document.title = e.filename, f.document.documentElement.querySelector(\"#pdfViewer\").contentWindow.PDFViewerApplication.open(d.output(\"bloburl\"));\n              };\n            }\n            return f;\n          }\n          throw new Error(\"The option pdfjsnewwindow just works in a browser-environment.\");\n        case \"dataurlnewwindow\":\n          if (\"[object Window]\" !== Object.prototype.toString.call(n)) throw new Error(\"The option dataurlnewwindow just works in a browser-environment.\");\n          var p = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src=\"' + this.output(\"datauristring\", e) + '\"></iframe></body></html>',\n            g = n.open();\n          if (null !== g && (g.document.write(p), g.document.title = e.filename), g || \"undefined\" == typeof safari) return g;\n          break;\n        case \"datauri\":\n        case \"dataurl\":\n          return n.document.location.href = this.output(\"datauristring\", e);\n        default:\n          return null;\n      }\n    }),\n    Ge = function (t) {\n      return !0 === Array.isArray(Ut) && Ut.indexOf(t) > -1;\n    };\n  switch (o) {\n    case \"pt\":\n      _t = 1;\n      break;\n    case \"mm\":\n      _t = 72 / 25.4;\n      break;\n    case \"cm\":\n      _t = 72 / 2.54;\n      break;\n    case \"in\":\n      _t = 72;\n      break;\n    case \"px\":\n      _t = 1 == Ge(\"px_scaling\") ? .75 : 96 / 72;\n      break;\n    case \"pc\":\n    case \"em\":\n      _t = 12;\n      break;\n    case \"ex\":\n      _t = 6;\n      break;\n    default:\n      if (\"number\" != typeof o) throw new Error(\"Invalid unit: \" + o);\n      _t = o;\n  }\n  var Ye = null;\n  K(), Y();\n  var Je = function (t) {\n      return null !== m ? Ye.encryptor(t, 0) : function (t) {\n        return t;\n      };\n    },\n    Xe = y.__private__.getPageInfo = y.getPageInfo = function (t) {\n      if (isNaN(t) || t % 1 != 0) throw new Error(\"Invalid argument passed to jsPDF.getPageInfo\");\n      return {\n        objId: Rt[t].objId,\n        pageNumber: t,\n        pageContext: Rt[t]\n      };\n    },\n    Ke = y.__private__.getPageInfoByObjId = function (t) {\n      if (isNaN(t) || t % 1 != 0) throw new Error(\"Invalid argument passed to jsPDF.getPageInfoByObjId\");\n      for (var e in Rt) if (Rt[e].objId === t) break;\n      return Xe(e);\n    },\n    Ze = y.__private__.getCurrentPageInfo = y.getCurrentPageInfo = function () {\n      return {\n        objId: Rt[$].objId,\n        pageNumber: $,\n        pageContext: Rt[$]\n      };\n    };\n  y.addPage = function () {\n    return Oe.apply(this, arguments), this;\n  }, y.setPage = function () {\n    return Me.apply(this, arguments), ht.call(this, ot[$]), this;\n  }, y.insertPage = function (t) {\n    return this.addPage(), this.movePage($, t), this;\n  }, y.movePage = function (t, e) {\n    var r, n;\n    if (t > e) {\n      r = ot[t], n = Rt[t];\n      for (var i = t; i > e; i--) ot[i] = ot[i - 1], Rt[i] = Rt[i - 1];\n      ot[e] = r, Rt[e] = n, this.setPage(e);\n    } else if (t < e) {\n      r = ot[t], n = Rt[t];\n      for (var a = t; a < e; a++) ot[a] = ot[a + 1], Rt[a] = Rt[a + 1];\n      ot[e] = r, Rt[e] = n, this.setPage(e);\n    }\n    return this;\n  }, y.deletePage = function () {\n    return Be.apply(this, arguments), this;\n  }, y.__private__.text = y.text = function (e, r, n, i, a) {\n    var o,\n      s,\n      c,\n      u,\n      h,\n      l,\n      f,\n      d,\n      p,\n      g = (i = i || {}).scope || this;\n    if (\"number\" == typeof e && \"number\" == typeof r && (\"string\" == typeof n || Array.isArray(n))) {\n      var m = n;\n      n = r, r = e, e = m;\n    }\n    if (arguments[3] instanceof Vt == !1 ? (c = arguments[4], u = arguments[5], \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(f = arguments[3]) && null !== f || (\"string\" == typeof c && (u = c, c = null), \"string\" == typeof f && (u = f, f = null), \"number\" == typeof f && (c = f, f = null), i = {\n      flags: f,\n      angle: c,\n      align: u\n    })) : (q(\"The transform parameter of text() with a Matrix value\"), p = a), isNaN(r) || isNaN(n) || null == e) throw new Error(\"Invalid arguments passed to jsPDF.text\");\n    if (0 === e.length) return g;\n    var v = \"\",\n      y = !1,\n      w = \"number\" == typeof i.lineHeightFactor ? i.lineHeightFactor : lr,\n      N = g.internal.scaleFactor;\n    function L(t) {\n      return t = t.split(\"\\t\").join(Array(i.TabLen || 9).join(\" \")), Ce(t, f);\n    }\n    function A(t) {\n      for (var e, r = t.concat(), n = [], i = r.length; i--;) \"string\" == typeof (e = r.shift()) ? n.push(e) : Array.isArray(t) && (1 === e.length || void 0 === e[1] && void 0 === e[2]) ? n.push(e[0]) : n.push([e[0], e[1], e[2]]);\n      return n;\n    }\n    function _(t, e) {\n      var r;\n      if (\"string\" == typeof t) r = e(t)[0];else if (Array.isArray(t)) {\n        for (var n, i, a = t.concat(), o = [], s = a.length; s--;) \"string\" == typeof (n = a.shift()) ? o.push(e(n)[0]) : Array.isArray(n) && \"string\" == typeof n[0] && (i = e(n[0], n[1], n[2]), o.push([i[0], i[1], i[2]]));\n        r = o;\n      }\n      return r;\n    }\n    var P = !1,\n      k = !0;\n    if (\"string\" == typeof e) P = !0;else if (Array.isArray(e)) {\n      var I = e.concat();\n      s = [];\n      for (var F, C = I.length; C--;) (\"string\" != typeof (F = I.shift()) || Array.isArray(F) && \"string\" != typeof F[0]) && (k = !1);\n      P = k;\n    }\n    if (!1 === P) throw new Error('Type of text must be string or Array. \"' + e + '\" is not recognized.');\n    \"string\" == typeof e && (e = e.match(/[\\r?\\n]/) ? e.split(/\\r\\n|\\r|\\n/g) : [e]);\n    var j = gt / g.internal.scaleFactor,\n      B = j * (w - 1);\n    switch (i.baseline) {\n      case \"bottom\":\n        n -= B;\n        break;\n      case \"top\":\n        n += j - B;\n        break;\n      case \"hanging\":\n        n += j - 2 * B;\n        break;\n      case \"middle\":\n        n += j / 2 - B;\n    }\n    if ((l = i.maxWidth || 0) > 0 && (\"string\" == typeof e ? e = g.splitTextToSize(e, l) : \"[object Array]\" === Object.prototype.toString.call(e) && (e = e.reduce(function (t, e) {\n      return t.concat(g.splitTextToSize(e, l));\n    }, []))), o = {\n      text: e,\n      x: r,\n      y: n,\n      options: i,\n      mutex: {\n        pdfEscape: Ce,\n        activeFontKey: St,\n        fonts: Ft,\n        activeFontSize: gt\n      }\n    }, Tt.publish(\"preProcessText\", o), e = o.text, c = (i = o.options).angle, p instanceof Vt == !1 && c && \"number\" == typeof c) {\n      c *= Math.PI / 180, 0 === i.rotationDirection && (c = -c), S === x.ADVANCED && (c = -c);\n      var M = Math.cos(c),\n        E = Math.sin(c);\n      p = new Vt(M, E, -E, M, 0, 0);\n    } else c && c instanceof Vt && (p = c);\n    S !== x.ADVANCED || p || (p = Yt), void 0 !== (h = i.charSpace || _r) && (v += O(U(h)) + \" Tc\\n\", this.setCharSpace(this.getCharSpace() || 0)), void 0 !== (d = i.horizontalScale) && (v += O(100 * d) + \" Tz\\n\"), i.lang;\n    var D = -1,\n      R = void 0 !== i.renderingMode ? i.renderingMode : i.stroke,\n      T = g.internal.getCurrentPageInfo().pageContext;\n    switch (R) {\n      case 0:\n      case !1:\n      case \"fill\":\n        D = 0;\n        break;\n      case 1:\n      case !0:\n      case \"stroke\":\n        D = 1;\n        break;\n      case 2:\n      case \"fillThenStroke\":\n        D = 2;\n        break;\n      case 3:\n      case \"invisible\":\n        D = 3;\n        break;\n      case 4:\n      case \"fillAndAddForClipping\":\n        D = 4;\n        break;\n      case 5:\n      case \"strokeAndAddPathForClipping\":\n        D = 5;\n        break;\n      case 6:\n      case \"fillThenStrokeAndAddToPathForClipping\":\n        D = 6;\n        break;\n      case 7:\n      case \"addToPathForClipping\":\n        D = 7;\n    }\n    var z = void 0 !== T.usedRenderingMode ? T.usedRenderingMode : -1;\n    -1 !== D ? v += D + \" Tr\\n\" : -1 !== z && (v += \"0 Tr\\n\"), -1 !== D && (T.usedRenderingMode = D), u = i.align || \"left\";\n    var H,\n      W = gt * w,\n      V = g.internal.pageSize.getWidth(),\n      G = Ft[St];\n    h = i.charSpace || _r, l = i.maxWidth || 0, f = Object.assign({\n      autoencode: !0,\n      noBOM: !0\n    }, i.flags);\n    var Y = [],\n      J = function (t) {\n        return g.getStringUnitWidth(t, {\n          font: G,\n          charSpace: h,\n          fontSize: gt,\n          doKerning: !1\n        }) * gt / N;\n      };\n    if (\"[object Array]\" === Object.prototype.toString.call(e)) {\n      var X;\n      s = A(e), \"left\" !== u && (H = s.map(J));\n      var K,\n        Z = 0;\n      if (\"right\" === u) {\n        r -= H[0], e = [], C = s.length;\n        for (var $ = 0; $ < C; $++) 0 === $ ? (K = br(r), X = yr(n)) : (K = U(Z - H[$]), X = -W), e.push([s[$], K, X]), Z = H[$];\n      } else if (\"center\" === u) {\n        r -= H[0] / 2, e = [], C = s.length;\n        for (var Q = 0; Q < C; Q++) 0 === Q ? (K = br(r), X = yr(n)) : (K = U((Z - H[Q]) / 2), X = -W), e.push([s[Q], K, X]), Z = H[Q];\n      } else if (\"left\" === u) {\n        e = [], C = s.length;\n        for (var tt = 0; tt < C; tt++) e.push(s[tt]);\n      } else if (\"justify\" === u && \"Identity-H\" === G.encoding) {\n        e = [], C = s.length, l = 0 !== l ? l : V;\n        for (var et = 0, rt = 0; rt < C; rt++) if (X = 0 === rt ? yr(n) : -W, K = 0 === rt ? br(r) : et, rt < C - 1) {\n          var nt = U((l - H[rt]) / (s[rt].split(\" \").length - 1)),\n            it = s[rt].split(\" \");\n          e.push([it[0] + \" \", K, X]), et = 0;\n          for (var at = 1; at < it.length; at++) {\n            var ot = (J(it[at - 1] + \" \" + it[at]) - J(it[at])) * N + nt;\n            at == it.length - 1 ? e.push([it[at], ot, 0]) : e.push([it[at] + \" \", ot, 0]), et -= ot;\n          }\n        } else e.push([s[rt], K, X]);\n        e.push([\"\", et, 0]);\n      } else {\n        if (\"justify\" !== u) throw new Error('Unrecognized alignment option, use \"left\", \"center\", \"right\" or \"justify\".');\n        e = [], C = s.length, l = 0 !== l ? l : V;\n        for (rt = 0; rt < C; rt++) X = 0 === rt ? yr(n) : -W, K = 0 === rt ? br(r) : 0, rt < C - 1 ? Y.push(O(U((l - H[rt]) / (s[rt].split(\" \").length - 1)))) : Y.push(0), e.push([s[rt], K, X]);\n      }\n    }\n    var st = \"boolean\" == typeof i.R2L ? i.R2L : bt;\n    !0 === st && (e = _(e, function (t, e, r) {\n      return [t.split(\"\").reverse().join(\"\"), e, r];\n    })), o = {\n      text: e,\n      x: r,\n      y: n,\n      options: i,\n      mutex: {\n        pdfEscape: Ce,\n        activeFontKey: St,\n        fonts: Ft,\n        activeFontSize: gt\n      }\n    }, Tt.publish(\"postProcessText\", o), e = o.text, y = o.mutex.isHex || !1;\n    var ct = Ft[St].encoding;\n    \"WinAnsiEncoding\" !== ct && \"StandardEncoding\" !== ct || (e = _(e, function (t, e, r) {\n      return [L(t), e, r];\n    })), s = A(e), e = [];\n    for (var ut, ht, ft, dt = 0, pt = 1, mt = Array.isArray(s[0]) ? pt : dt, vt = \"\", yt = function (t, e, r) {\n        var n = \"\";\n        return r instanceof Vt ? (r = \"number\" == typeof i.angle ? Gt(r, new Vt(1, 0, 0, 1, t, e)) : Gt(new Vt(1, 0, 0, 1, t, e), r), S === x.ADVANCED && (r = Gt(new Vt(1, 0, 0, -1, 0, 0), r)), n = r.join(\" \") + \" Tm\\n\") : n = O(t) + \" \" + O(e) + \" Td\\n\", n;\n      }, wt = 0; wt < s.length; wt++) {\n      switch (vt = \"\", mt) {\n        case pt:\n          ft = (y ? \"<\" : \"(\") + s[wt][0] + (y ? \">\" : \")\"), ut = parseFloat(s[wt][1]), ht = parseFloat(s[wt][2]);\n          break;\n        case dt:\n          ft = (y ? \"<\" : \"(\") + s[wt] + (y ? \">\" : \")\"), ut = br(r), ht = yr(n);\n      }\n      void 0 !== Y && void 0 !== Y[wt] && (vt = Y[wt] + \" Tw\\n\"), 0 === wt ? e.push(vt + yt(ut, ht, p) + ft) : mt === dt ? e.push(vt + ft) : mt === pt && e.push(vt + yt(ut, ht, p) + ft);\n    }\n    e = mt === dt ? e.join(\" Tj\\nT* \") : e.join(\" Tj\\n\"), e += \" Tj\\n\";\n    var Nt = \"BT\\n/\";\n    return Nt += St + \" \" + gt + \" Tf\\n\", Nt += O(gt * w) + \" TL\\n\", Nt += xr + \"\\n\", Nt += v, Nt += e, lt(Nt += \"ET\"), b[St] = !0, g;\n  };\n  var $e = y.__private__.clip = y.clip = function (t) {\n    return lt(\"evenodd\" === t ? \"W*\" : \"W\"), this;\n  };\n  y.clipEvenOdd = function () {\n    return $e(\"evenodd\");\n  }, y.__private__.discardPath = y.discardPath = function () {\n    return lt(\"n\"), this;\n  };\n  var Qe = y.__private__.isValidStyle = function (t) {\n    var e = !1;\n    return -1 !== [void 0, null, \"S\", \"D\", \"F\", \"DF\", \"FD\", \"f\", \"f*\", \"B\", \"B*\", \"n\"].indexOf(t) && (e = !0), e;\n  };\n  y.__private__.setDefaultPathOperation = y.setDefaultPathOperation = function (t) {\n    return Qe(t) && (g = t), this;\n  };\n  var tr = y.__private__.getStyle = y.getStyle = function (t) {\n      var e = g;\n      switch (t) {\n        case \"D\":\n        case \"S\":\n          e = \"S\";\n          break;\n        case \"F\":\n          e = \"f\";\n          break;\n        case \"FD\":\n        case \"DF\":\n          e = \"B\";\n          break;\n        case \"f\":\n        case \"f*\":\n        case \"B\":\n        case \"B*\":\n          e = t;\n      }\n      return e;\n    },\n    er = y.close = function () {\n      return lt(\"h\"), this;\n    };\n  y.stroke = function () {\n    return lt(\"S\"), this;\n  }, y.fill = function (t) {\n    return rr(\"f\", t), this;\n  }, y.fillEvenOdd = function (t) {\n    return rr(\"f*\", t), this;\n  }, y.fillStroke = function (t) {\n    return rr(\"B\", t), this;\n  }, y.fillStrokeEvenOdd = function (t) {\n    return rr(\"B*\", t), this;\n  };\n  var rr = function (e, r) {\n      \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(r) ? ar(r, e) : lt(e);\n    },\n    nr = function (t) {\n      null === t || S === x.ADVANCED && void 0 === t || (t = tr(t), lt(t));\n    };\n  function ir(t, e, r, n, i) {\n    var a = new M(e || this.boundingBox, r || this.xStep, n || this.yStep, this.gState, i || this.matrix);\n    a.stream = this.stream;\n    var o = t + \"$$\" + this.cloneIndex++ + \"$$\";\n    return Jt(o, a), a;\n  }\n  var ar = function (t, e) {\n      var r = Bt[t.key],\n        n = Ot[r];\n      if (n instanceof B) lt(\"q\"), lt(or(e)), n.gState && y.setGState(n.gState), lt(t.matrix.toString() + \" cm\"), lt(\"/\" + r + \" sh\"), lt(\"Q\");else if (n instanceof M) {\n        var i = new Vt(1, 0, 0, -1, 0, Rr());\n        t.matrix && (i = i.multiply(t.matrix || Yt), r = ir.call(n, t.key, t.boundingBox, t.xStep, t.yStep, i).id), lt(\"q\"), lt(\"/Pattern cs\"), lt(\"/\" + r + \" scn\"), n.gState && y.setGState(n.gState), lt(e), lt(\"Q\");\n      }\n    },\n    or = function (t) {\n      switch (t) {\n        case \"f\":\n        case \"F\":\n          return \"W n\";\n        case \"f*\":\n          return \"W* n\";\n        case \"B\":\n          return \"W S\";\n        case \"B*\":\n          return \"W* S\";\n        case \"S\":\n          return \"W S\";\n        case \"n\":\n          return \"W n\";\n      }\n    },\n    sr = y.moveTo = function (t, e) {\n      return lt(O(U(t)) + \" \" + O(H(e)) + \" m\"), this;\n    },\n    cr = y.lineTo = function (t, e) {\n      return lt(O(U(t)) + \" \" + O(H(e)) + \" l\"), this;\n    },\n    ur = y.curveTo = function (t, e, r, n, i, a) {\n      return lt([O(U(t)), O(H(e)), O(U(r)), O(H(n)), O(U(i)), O(H(a)), \"c\"].join(\" \")), this;\n    };\n  y.__private__.line = y.line = function (t, e, r, n, i) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || !Qe(i)) throw new Error(\"Invalid arguments passed to jsPDF.line\");\n    return S === x.COMPAT ? this.lines([[r - t, n - e]], t, e, [1, 1], i || \"S\") : this.lines([[r - t, n - e]], t, e, [1, 1]).stroke();\n  }, y.__private__.lines = y.lines = function (t, e, r, n, i, a) {\n    var o, s, c, u, h, l, f, d, p, g, m, v;\n    if (\"number\" == typeof t && (v = r, r = e, e = t, t = v), n = n || [1, 1], a = a || !1, isNaN(e) || isNaN(r) || !Array.isArray(t) || !Array.isArray(n) || !Qe(i) || \"boolean\" != typeof a) throw new Error(\"Invalid arguments passed to jsPDF.lines\");\n    for (sr(e, r), o = n[0], s = n[1], u = t.length, g = e, m = r, c = 0; c < u; c++) 2 === (h = t[c]).length ? (g = h[0] * o + g, m = h[1] * s + m, cr(g, m)) : (l = h[0] * o + g, f = h[1] * s + m, d = h[2] * o + g, p = h[3] * s + m, g = h[4] * o + g, m = h[5] * s + m, ur(l, f, d, p, g, m));\n    return a && er(), nr(i), this;\n  }, y.path = function (t) {\n    for (var e = 0; e < t.length; e++) {\n      var r = t[e],\n        n = r.c;\n      switch (r.op) {\n        case \"m\":\n          sr(n[0], n[1]);\n          break;\n        case \"l\":\n          cr(n[0], n[1]);\n          break;\n        case \"c\":\n          ur.apply(this, n);\n          break;\n        case \"h\":\n          er();\n      }\n    }\n    return this;\n  }, y.__private__.rect = y.rect = function (t, e, r, n, i) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || !Qe(i)) throw new Error(\"Invalid arguments passed to jsPDF.rect\");\n    return S === x.COMPAT && (n = -n), lt([O(U(t)), O(H(e)), O(U(r)), O(U(n)), \"re\"].join(\" \")), nr(i), this;\n  }, y.__private__.triangle = y.triangle = function (t, e, r, n, i, a, o) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(i) || isNaN(a) || !Qe(o)) throw new Error(\"Invalid arguments passed to jsPDF.triangle\");\n    return this.lines([[r - t, n - e], [i - r, a - n], [t - i, e - a]], t, e, [1, 1], o, !0), this;\n  }, y.__private__.roundedRect = y.roundedRect = function (t, e, r, n, i, a, o) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(i) || isNaN(a) || !Qe(o)) throw new Error(\"Invalid arguments passed to jsPDF.roundedRect\");\n    var s = 4 / 3 * (Math.SQRT2 - 1);\n    return i = Math.min(i, .5 * r), a = Math.min(a, .5 * n), this.lines([[r - 2 * i, 0], [i * s, 0, i, a - a * s, i, a], [0, n - 2 * a], [0, a * s, -i * s, a, -i, a], [2 * i - r, 0], [-i * s, 0, -i, -a * s, -i, -a], [0, 2 * a - n], [0, -a * s, i * s, -a, i, -a]], t + i, e, [1, 1], o, !0), this;\n  }, y.__private__.ellipse = y.ellipse = function (t, e, r, n, i) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || !Qe(i)) throw new Error(\"Invalid arguments passed to jsPDF.ellipse\");\n    var a = 4 / 3 * (Math.SQRT2 - 1) * r,\n      o = 4 / 3 * (Math.SQRT2 - 1) * n;\n    return sr(t + r, e), ur(t + r, e - o, t + a, e - n, t, e - n), ur(t - a, e - n, t - r, e - o, t - r, e), ur(t - r, e + o, t - a, e + n, t, e + n), ur(t + a, e + n, t + r, e + o, t + r, e), nr(i), this;\n  }, y.__private__.circle = y.circle = function (t, e, r, n) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || !Qe(n)) throw new Error(\"Invalid arguments passed to jsPDF.circle\");\n    return this.ellipse(t, e, r, r, n);\n  }, y.setFont = function (t, e, r) {\n    return r && (e = k(e, r)), St = qe(t, e, {\n      disableWarning: !1\n    }), this;\n  };\n  var hr = y.__private__.getFont = y.getFont = function () {\n    return Ft[qe.apply(y, arguments)];\n  };\n  y.__private__.getFontList = y.getFontList = function () {\n    var t,\n      e,\n      r = {};\n    for (t in Ct) if (Ct.hasOwnProperty(t)) for (e in r[t] = [], Ct[t]) Ct[t].hasOwnProperty(e) && r[t].push(e);\n    return r;\n  }, y.addFont = function (t, e, r, n, i) {\n    var a = [\"StandardEncoding\", \"MacRomanEncoding\", \"Identity-H\", \"WinAnsiEncoding\"];\n    return arguments[3] && -1 !== a.indexOf(arguments[3]) ? i = arguments[3] : arguments[3] && -1 == a.indexOf(arguments[3]) && (r = k(r, n)), i = i || \"Identity-H\", Pe.call(this, t, e, r, i);\n  };\n  var lr,\n    fr = e.lineWidth || .200025,\n    dr = y.__private__.getLineWidth = y.getLineWidth = function () {\n      return fr;\n    },\n    pr = y.__private__.setLineWidth = y.setLineWidth = function (t) {\n      return fr = t, lt(O(U(t)) + \" w\"), this;\n    };\n  y.__private__.setLineDash = E.API.setLineDash = E.API.setLineDashPattern = function (t, e) {\n    if (t = t || [], e = e || 0, isNaN(e) || !Array.isArray(t)) throw new Error(\"Invalid arguments passed to jsPDF.setLineDash\");\n    return t = t.map(function (t) {\n      return O(U(t));\n    }).join(\" \"), e = O(U(e)), lt(\"[\" + t + \"] \" + e + \" d\"), this;\n  };\n  var gr = y.__private__.getLineHeight = y.getLineHeight = function () {\n    return gt * lr;\n  };\n  y.__private__.getLineHeight = y.getLineHeight = function () {\n    return gt * lr;\n  };\n  var mr = y.__private__.setLineHeightFactor = y.setLineHeightFactor = function (t) {\n      return \"number\" == typeof (t = t || 1.15) && (lr = t), this;\n    },\n    vr = y.__private__.getLineHeightFactor = y.getLineHeightFactor = function () {\n      return lr;\n    };\n  mr(e.lineHeight);\n  var br = y.__private__.getHorizontalCoordinate = function (t) {\n      return U(t);\n    },\n    yr = y.__private__.getVerticalCoordinate = function (t) {\n      return S === x.ADVANCED ? t : Rt[$].mediaBox.topRightY - Rt[$].mediaBox.bottomLeftY - U(t);\n    },\n    wr = y.__private__.getHorizontalCoordinateString = y.getHorizontalCoordinateString = function (t) {\n      return O(br(t));\n    },\n    Nr = y.__private__.getVerticalCoordinateString = y.getVerticalCoordinateString = function (t) {\n      return O(yr(t));\n    },\n    Lr = e.strokeColor || \"0 G\";\n  y.__private__.getStrokeColor = y.getDrawColor = function () {\n    return ee(Lr);\n  }, y.__private__.setStrokeColor = y.setDrawColor = function (t, e, r, n) {\n    return Lr = re({\n      ch1: t,\n      ch2: e,\n      ch3: r,\n      ch4: n,\n      pdfColorType: \"draw\",\n      precision: 2\n    }), lt(Lr), this;\n  };\n  var Ar = e.fillColor || \"0 g\";\n  y.__private__.getFillColor = y.getFillColor = function () {\n    return ee(Ar);\n  }, y.__private__.setFillColor = y.setFillColor = function (t, e, r, n) {\n    return Ar = re({\n      ch1: t,\n      ch2: e,\n      ch3: r,\n      ch4: n,\n      pdfColorType: \"fill\",\n      precision: 2\n    }), lt(Ar), this;\n  };\n  var xr = e.textColor || \"0 g\",\n    Sr = y.__private__.getTextColor = y.getTextColor = function () {\n      return ee(xr);\n    };\n  y.__private__.setTextColor = y.setTextColor = function (t, e, r, n) {\n    return xr = re({\n      ch1: t,\n      ch2: e,\n      ch3: r,\n      ch4: n,\n      pdfColorType: \"text\",\n      precision: 3\n    }), this;\n  };\n  var _r = e.charSpace,\n    Pr = y.__private__.getCharSpace = y.getCharSpace = function () {\n      return parseFloat(_r || 0);\n    };\n  y.__private__.setCharSpace = y.setCharSpace = function (t) {\n    if (isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.setCharSpace\");\n    return _r = t, this;\n  };\n  var kr = 0;\n  y.CapJoinStyles = {\n    0: 0,\n    butt: 0,\n    but: 0,\n    miter: 0,\n    1: 1,\n    round: 1,\n    rounded: 1,\n    circle: 1,\n    2: 2,\n    projecting: 2,\n    project: 2,\n    square: 2,\n    bevel: 2\n  }, y.__private__.setLineCap = y.setLineCap = function (t) {\n    var e = y.CapJoinStyles[t];\n    if (void 0 === e) throw new Error(\"Line cap style of '\" + t + \"' is not recognized. See or extend .CapJoinStyles property for valid styles\");\n    return kr = e, lt(e + \" J\"), this;\n  };\n  var Ir = 0;\n  y.__private__.setLineJoin = y.setLineJoin = function (t) {\n    var e = y.CapJoinStyles[t];\n    if (void 0 === e) throw new Error(\"Line join style of '\" + t + \"' is not recognized. See or extend .CapJoinStyles property for valid styles\");\n    return Ir = e, lt(e + \" j\"), this;\n  }, y.__private__.setLineMiterLimit = y.__private__.setMiterLimit = y.setLineMiterLimit = y.setMiterLimit = function (t) {\n    if (t = t || 0, isNaN(t)) throw new Error(\"Invalid argument passed to jsPDF.setLineMiterLimit\");\n    return lt(O(U(t)) + \" M\"), this;\n  }, y.GState = j, y.setGState = function (t) {\n    (t = \"string\" == typeof t ? Mt[Et[t]] : Fr(null, t)).equals(qt) || (lt(\"/\" + t.id + \" gs\"), qt = t);\n  };\n  var Fr = function (t, e) {\n    if (!t || !Et[t]) {\n      var r = !1;\n      for (var n in Mt) if (Mt.hasOwnProperty(n) && Mt[n].equals(e)) {\n        r = !0;\n        break;\n      }\n      if (r) e = Mt[n];else {\n        var i = \"GS\" + (Object.keys(Mt).length + 1).toString(10);\n        Mt[i] = e, e.id = i;\n      }\n      return t && (Et[t] = e.id), Tt.publish(\"addGState\", e), e;\n    }\n  };\n  y.addGState = function (t, e) {\n    return Fr(t, e), this;\n  }, y.saveGraphicsState = function () {\n    return lt(\"q\"), jt.push({\n      key: St,\n      size: gt,\n      color: xr\n    }), this;\n  }, y.restoreGraphicsState = function () {\n    lt(\"Q\");\n    var t = jt.pop();\n    return St = t.key, gt = t.size, xr = t.color, qt = null, this;\n  }, y.setCurrentTransformationMatrix = function (t) {\n    return lt(t.toString() + \" cm\"), this;\n  }, y.comment = function (t) {\n    return lt(\"#\" + t), this;\n  };\n  var Cr = function (t, e) {\n      var r = t || 0;\n      Object.defineProperty(this, \"x\", {\n        enumerable: !0,\n        get: function () {\n          return r;\n        },\n        set: function (t) {\n          isNaN(t) || (r = parseFloat(t));\n        }\n      });\n      var n = e || 0;\n      Object.defineProperty(this, \"y\", {\n        enumerable: !0,\n        get: function () {\n          return n;\n        },\n        set: function (t) {\n          isNaN(t) || (n = parseFloat(t));\n        }\n      });\n      var i = \"pt\";\n      return Object.defineProperty(this, \"type\", {\n        enumerable: !0,\n        get: function () {\n          return i;\n        },\n        set: function (t) {\n          i = t.toString();\n        }\n      }), this;\n    },\n    jr = function (t, e, r, n) {\n      Cr.call(this, t, e), this.type = \"rect\";\n      var i = r || 0;\n      Object.defineProperty(this, \"w\", {\n        enumerable: !0,\n        get: function () {\n          return i;\n        },\n        set: function (t) {\n          isNaN(t) || (i = parseFloat(t));\n        }\n      });\n      var a = n || 0;\n      return Object.defineProperty(this, \"h\", {\n        enumerable: !0,\n        get: function () {\n          return a;\n        },\n        set: function (t) {\n          isNaN(t) || (a = parseFloat(t));\n        }\n      }), this;\n    },\n    Or = function () {\n      this.page = Dt, this.currentPage = $, this.pages = ot.slice(0), this.pagesContext = Rt.slice(0), this.x = Pt, this.y = kt, this.matrix = It, this.width = qr($), this.height = Rr($), this.outputDestination = ct, this.id = \"\", this.objectNumber = -1;\n    };\n  Or.prototype.restore = function () {\n    Dt = this.page, $ = this.currentPage, Rt = this.pagesContext, ot = this.pages, Pt = this.x, kt = this.y, It = this.matrix, Dr($, this.width), Tr($, this.height), ct = this.outputDestination;\n  };\n  var Br = function (t, e, r, n, i) {\n      Wt.push(new Or()), Dt = $ = 0, ot = [], Pt = t, kt = e, It = i, je([r, n]);\n    },\n    Mr = function (t) {\n      if (Ht[t]) Wt.pop().restore();else {\n        var e = new Or(),\n          r = \"Xo\" + (Object.keys(zt).length + 1).toString(10);\n        e.id = r, Ht[t] = r, zt[r] = e, Tt.publish(\"addFormObject\", e), Wt.pop().restore();\n      }\n    };\n  for (var Er in y.beginFormObject = function (t, e, r, n, i) {\n    return Br(t, e, r, n, i), this;\n  }, y.endFormObject = function (t) {\n    return Mr(t), this;\n  }, y.doFormObject = function (t, e) {\n    var r = zt[Ht[t]];\n    return lt(\"q\"), lt(e.toString() + \" cm\"), lt(\"/\" + r.id + \" Do\"), lt(\"Q\"), this;\n  }, y.getFormObject = function (t) {\n    var e = zt[Ht[t]];\n    return {\n      x: e.x,\n      y: e.y,\n      width: e.width,\n      height: e.height,\n      matrix: e.matrix\n    };\n  }, y.save = function (t, e) {\n    return t = t || \"generated.pdf\", (e = e || {}).returnPromise = e.returnPromise || !1, !1 === e.returnPromise ? (l(We(He()), t), \"function\" == typeof l.unload && n.setTimeout && setTimeout(l.unload, 911), this) : new Promise(function (e, r) {\n      try {\n        var i = l(We(He()), t);\n        \"function\" == typeof l.unload && n.setTimeout && setTimeout(l.unload, 911), e(i);\n      } catch (t) {\n        r(t.message);\n      }\n    });\n  }, E.API) E.API.hasOwnProperty(Er) && (\"events\" === Er && E.API.events.length ? function (t, e) {\n    var r, n, i;\n    for (i = e.length - 1; -1 !== i; i--) r = e[i][0], n = e[i][1], t.subscribe.apply(t, [r].concat(\"function\" == typeof n ? [n] : n));\n  }(Tt, E.API.events) : y[Er] = E.API[Er]);\n  var qr = y.getPageWidth = function (t) {\n      return (Rt[t = t || $].mediaBox.topRightX - Rt[t].mediaBox.bottomLeftX) / _t;\n    },\n    Dr = y.setPageWidth = function (t, e) {\n      Rt[t].mediaBox.topRightX = e * _t + Rt[t].mediaBox.bottomLeftX;\n    },\n    Rr = y.getPageHeight = function (t) {\n      return (Rt[t = t || $].mediaBox.topRightY - Rt[t].mediaBox.bottomLeftY) / _t;\n    },\n    Tr = y.setPageHeight = function (t, e) {\n      Rt[t].mediaBox.topRightY = e * _t + Rt[t].mediaBox.bottomLeftY;\n    };\n  return y.internal = {\n    pdfEscape: Ce,\n    getStyle: tr,\n    getFont: hr,\n    getFontSize: vt,\n    getCharSpace: Pr,\n    getTextColor: Sr,\n    getLineHeight: gr,\n    getLineHeightFactor: vr,\n    getLineWidth: dr,\n    write: ft,\n    getHorizontalCoordinate: br,\n    getVerticalCoordinate: yr,\n    getCoordinateString: wr,\n    getVerticalCoordinateString: Nr,\n    collections: {},\n    newObject: Xt,\n    newAdditionalObject: $t,\n    newObjectDeferred: Kt,\n    newObjectDeferredBegin: Zt,\n    getFilters: ne,\n    putStream: ie,\n    events: Tt,\n    scaleFactor: _t,\n    pageSize: {\n      getWidth: function () {\n        return qr($);\n      },\n      setWidth: function (t) {\n        Dr($, t);\n      },\n      getHeight: function () {\n        return Rr($);\n      },\n      setHeight: function (t) {\n        Tr($, t);\n      }\n    },\n    encryptionOptions: m,\n    encryption: Ye,\n    getEncryptor: Je,\n    output: Ve,\n    getNumberOfPages: Ee,\n    pages: ot,\n    out: lt,\n    f2: R,\n    f3: T,\n    getPageInfo: Xe,\n    getPageInfoByObjId: Ke,\n    getCurrentPageInfo: Ze,\n    getPDFVersion: N,\n    Point: Cr,\n    Rectangle: jr,\n    Matrix: Vt,\n    hasHotfix: Ge\n  }, Object.defineProperty(y.internal.pageSize, \"width\", {\n    get: function () {\n      return qr($);\n    },\n    set: function (t) {\n      Dr($, t);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(y.internal.pageSize, \"height\", {\n    get: function () {\n      return Rr($);\n    },\n    set: function (t) {\n      Tr($, t);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), ke.call(y, pt), St = \"F1\", Oe(s, i), Tt.publish(\"initialized\"), y;\n}\nI.prototype.lsbFirstWord = function (t) {\n  return String.fromCharCode(t >> 0 & 255, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255);\n}, I.prototype.toHexString = function (t) {\n  return t.split(\"\").map(function (t) {\n    return (\"0\" + (255 & t.charCodeAt(0)).toString(16)).slice(-2);\n  }).join(\"\");\n}, I.prototype.hexToBytes = function (t) {\n  for (var e = [], r = 0; r < t.length; r += 2) e.push(String.fromCharCode(parseInt(t.substr(r, 2), 16)));\n  return e.join(\"\");\n}, I.prototype.processOwnerPassword = function (t, e) {\n  return P(x(e).substr(0, 5), t);\n}, I.prototype.encryptor = function (t, e) {\n  var r = x(this.encryptionKey + String.fromCharCode(255 & t, t >> 8 & 255, t >> 16 & 255, 255 & e, e >> 8 & 255)).substr(0, 10);\n  return function (t) {\n    return P(r, t);\n  };\n}, j.prototype.equals = function (e) {\n  var r,\n    n = \"id,objectNumber,equals\";\n  if (!e || (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e) !== (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this)) return !1;\n  var i = 0;\n  for (r in this) if (!(n.indexOf(r) >= 0)) {\n    if (this.hasOwnProperty(r) && !e.hasOwnProperty(r)) return !1;\n    if (this[r] !== e[r]) return !1;\n    i++;\n  }\n  for (r in e) e.hasOwnProperty(r) && n.indexOf(r) < 0 && i--;\n  return 0 === i;\n}, E.API = {\n  events: []\n}, E.version = \"3.0.1\";\nvar q = E.API,\n  D = 1,\n  R = function (t) {\n    return t.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\(/g, \"\\\\(\").replace(/\\)/g, \"\\\\)\");\n  },\n  T = function (t) {\n    return t.replace(/\\\\\\\\/g, \"\\\\\").replace(/\\\\\\(/g, \"(\").replace(/\\\\\\)/g, \")\");\n  },\n  U = function (t) {\n    return t.toFixed(2);\n  },\n  z = function (t) {\n    return t.toFixed(5);\n  };\nq.__acroform__ = {};\nvar H = function (t, e) {\n    t.prototype = Object.create(e.prototype), t.prototype.constructor = t;\n  },\n  W = function (t) {\n    return t * D;\n  },\n  V = function (t) {\n    var e = new ut(),\n      r = At.internal.getHeight(t) || 0,\n      n = At.internal.getWidth(t) || 0;\n    return e.BBox = [0, 0, Number(U(n)), Number(U(r))], e;\n  },\n  G = q.__acroform__.setBit = function (t, e) {\n    if (t = t || 0, e = e || 0, isNaN(t) || isNaN(e)) throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.setBit\");\n    return t |= 1 << e;\n  },\n  Y = q.__acroform__.clearBit = function (t, e) {\n    if (t = t || 0, e = e || 0, isNaN(t) || isNaN(e)) throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.clearBit\");\n    return t &= ~(1 << e);\n  },\n  J = q.__acroform__.getBit = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.getBit\");\n    return 0 == (t & 1 << e) ? 0 : 1;\n  },\n  X = q.__acroform__.getBitForPdf = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf\");\n    return J(t, e - 1);\n  },\n  K = q.__acroform__.setBitForPdf = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf\");\n    return G(t, e - 1);\n  },\n  Z = q.__acroform__.clearBitForPdf = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw new Error(\"Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf\");\n    return Y(t, e - 1);\n  },\n  $ = q.__acroform__.calculateCoordinates = function (t, e) {\n    var r = e.internal.getHorizontalCoordinate,\n      n = e.internal.getVerticalCoordinate,\n      i = t[0],\n      a = t[1],\n      o = t[2],\n      s = t[3],\n      c = {};\n    return c.lowerLeft_X = r(i) || 0, c.lowerLeft_Y = n(a + s) || 0, c.upperRight_X = r(i + o) || 0, c.upperRight_Y = n(a) || 0, [Number(U(c.lowerLeft_X)), Number(U(c.lowerLeft_Y)), Number(U(c.upperRight_X)), Number(U(c.upperRight_Y))];\n  },\n  Q = function (t) {\n    if (t.appearanceStreamContent) return t.appearanceStreamContent;\n    if (t.V || t.DV) {\n      var e = [],\n        r = t._V || t.DV,\n        n = tt(t, r),\n        i = t.scope.internal.getFont(t.fontName, t.fontStyle).id;\n      e.push(\"/Tx BMC\"), e.push(\"q\"), e.push(\"BT\"), e.push(t.scope.__private__.encodeColorString(t.color)), e.push(\"/\" + i + \" \" + U(n.fontSize) + \" Tf\"), e.push(\"1 0 0 1 0 0 Tm\"), e.push(n.text), e.push(\"ET\"), e.push(\"Q\"), e.push(\"EMC\");\n      var a = V(t);\n      return a.scope = t.scope, a.stream = e.join(\"\\n\"), a;\n    }\n  },\n  tt = function (t, e) {\n    var r = 0 === t.fontSize ? t.maxFontSize : t.fontSize,\n      n = {\n        text: \"\",\n        fontSize: \"\"\n      },\n      i = (e = \")\" == (e = \"(\" == e.substr(0, 1) ? e.substr(1) : e).substr(e.length - 1) ? e.substr(0, e.length - 1) : e).split(\" \");\n    i = t.multiline ? i.map(function (t) {\n      return t.split(\"\\n\");\n    }) : i.map(function (t) {\n      return [t];\n    });\n    var a = r,\n      o = At.internal.getHeight(t) || 0;\n    o = o < 0 ? -o : o;\n    var s = At.internal.getWidth(t) || 0;\n    s = s < 0 ? -s : s;\n    var c = function (e, r, n) {\n      if (e + 1 < i.length) {\n        var a = r + \" \" + i[e + 1][0];\n        return et(a, t, n).width <= s - 4;\n      }\n      return !1;\n    };\n    a++;\n    t: for (; a > 0;) {\n      e = \"\", a--;\n      var u,\n        h,\n        l = et(\"3\", t, a).height,\n        f = t.multiline ? o - a : (o - l) / 2,\n        d = f += 2,\n        p = 0,\n        g = 0,\n        m = 0;\n      if (a <= 0) {\n        e = \"(...) Tj\\n\", e += \"% Width of Text: \" + et(e, t, a = 12).width + \", FieldWidth:\" + s + \"\\n\";\n        break;\n      }\n      for (var v = \"\", b = 0, y = 0; y < i.length; y++) if (i.hasOwnProperty(y)) {\n        var w = !1;\n        if (1 !== i[y].length && m !== i[y].length - 1) {\n          if ((l + 2) * (b + 2) + 2 > o) continue t;\n          v += i[y][m], w = !0, g = y, y--;\n        } else {\n          v = \" \" == (v += i[y][m] + \" \").substr(v.length - 1) ? v.substr(0, v.length - 1) : v;\n          var N = parseInt(y),\n            L = c(N, v, a),\n            A = y >= i.length - 1;\n          if (L && !A) {\n            v += \" \", m = 0;\n            continue;\n          }\n          if (L || A) {\n            if (A) g = N;else if (t.multiline && (l + 2) * (b + 2) + 2 > o) continue t;\n          } else {\n            if (!t.multiline) continue t;\n            if ((l + 2) * (b + 2) + 2 > o) continue t;\n            g = N;\n          }\n        }\n        for (var x = \"\", S = p; S <= g; S++) {\n          var _ = i[S];\n          if (t.multiline) {\n            if (S === g) {\n              x += _[m] + \" \", m = (m + 1) % _.length;\n              continue;\n            }\n            if (S === p) {\n              x += _[_.length - 1] + \" \";\n              continue;\n            }\n          }\n          x += _[0] + \" \";\n        }\n        switch (x = \" \" == x.substr(x.length - 1) ? x.substr(0, x.length - 1) : x, h = et(x, t, a).width, t.textAlign) {\n          case \"right\":\n            u = s - h - 2;\n            break;\n          case \"center\":\n            u = (s - h) / 2;\n            break;\n          case \"left\":\n          default:\n            u = 2;\n        }\n        e += U(u) + \" \" + U(d) + \" Td\\n\", e += \"(\" + R(x) + \") Tj\\n\", e += -U(u) + \" 0 Td\\n\", d = -(a + 2), h = 0, p = w ? g : g + 1, b++, v = \"\";\n      } else ;\n      break;\n    }\n    return n.text = e, n.fontSize = a, n;\n  },\n  et = function (t, e, r) {\n    var n = e.scope.internal.getFont(e.fontName, e.fontStyle),\n      i = e.scope.getStringUnitWidth(t, {\n        font: n,\n        fontSize: parseFloat(r),\n        charSpace: 0\n      }) * parseFloat(r);\n    return {\n      height: e.scope.getStringUnitWidth(\"3\", {\n        font: n,\n        fontSize: parseFloat(r),\n        charSpace: 0\n      }) * parseFloat(r) * 1.5,\n      width: i\n    };\n  },\n  rt = {\n    fields: [],\n    xForms: [],\n    acroFormDictionaryRoot: null,\n    printedOut: !1,\n    internal: null,\n    isInitialized: !1\n  },\n  nt = function (t, e) {\n    var r = {\n      type: \"reference\",\n      object: t\n    };\n    void 0 === e.internal.getPageInfo(t.page).pageContext.annotations.find(function (t) {\n      return t.type === r.type && t.object === r.object;\n    }) && e.internal.getPageInfo(t.page).pageContext.annotations.push(r);\n  },\n  it = function (e, r) {\n    for (var n in e) if (e.hasOwnProperty(n)) {\n      var i = n,\n        a = e[n];\n      r.internal.newObjectDeferredBegin(a.objId, !0), \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(a) && \"function\" == typeof a.putStream && a.putStream(), delete e[i];\n    }\n  },\n  at = function (e, r) {\n    if (r.scope = e, void 0 !== e.internal && (void 0 === e.internal.acroformPlugin || !1 === e.internal.acroformPlugin.isInitialized)) {\n      if (lt.FieldNum = 0, e.internal.acroformPlugin = JSON.parse(JSON.stringify(rt)), e.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error(\"Exception while creating AcroformDictionary\");\n      D = e.internal.scaleFactor, e.internal.acroformPlugin.acroFormDictionaryRoot = new ht(), e.internal.acroformPlugin.acroFormDictionaryRoot.scope = e, e.internal.acroformPlugin.acroFormDictionaryRoot._eventID = e.internal.events.subscribe(\"postPutResources\", function () {\n        !function (t) {\n          t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID), delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID, t.internal.acroformPlugin.printedOut = !0;\n        }(e);\n      }), e.internal.events.subscribe(\"buildDocument\", function () {\n        !function (t) {\n          t.internal.acroformPlugin.acroFormDictionaryRoot.objId = void 0;\n          var e = t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;\n          for (var r in e) if (e.hasOwnProperty(r)) {\n            var n = e[r];\n            n.objId = void 0, n.hasAnnotation && nt(n, t);\n          }\n        }(e);\n      }), e.internal.events.subscribe(\"putCatalog\", function () {\n        !function (t) {\n          if (void 0 === t.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error(\"putCatalogCallback: Root missing.\");\n          t.internal.write(\"/AcroForm \" + t.internal.acroformPlugin.acroFormDictionaryRoot.objId + \" 0 R\");\n        }(e);\n      }), e.internal.events.subscribe(\"postPutPages\", function (r) {\n        !function (e, r) {\n          var n = !e;\n          for (var i in e || (r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId, !0), r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()), e = e || r.internal.acroformPlugin.acroFormDictionaryRoot.Kids) if (e.hasOwnProperty(i)) {\n            var a = e[i],\n              o = [],\n              s = a.Rect;\n            if (a.Rect && (a.Rect = $(a.Rect, r)), r.internal.newObjectDeferredBegin(a.objId, !0), a.DA = At.createDefaultAppearanceStream(a), \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(a) && \"function\" == typeof a.getKeyValueListForStream && (o = a.getKeyValueListForStream()), a.Rect = s, a.hasAppearanceStream && !a.appearanceStreamContent) {\n              var c = Q(a);\n              o.push({\n                key: \"AP\",\n                value: \"<</N \" + c + \">>\"\n              }), r.internal.acroformPlugin.xForms.push(c);\n            }\n            if (a.appearanceStreamContent) {\n              var u = \"\";\n              for (var h in a.appearanceStreamContent) if (a.appearanceStreamContent.hasOwnProperty(h)) {\n                var l = a.appearanceStreamContent[h];\n                if (u += \"/\" + h + \" \", u += \"<<\", Object.keys(l).length >= 1 || Array.isArray(l)) {\n                  for (var i in l) if (l.hasOwnProperty(i)) {\n                    var f = l[i];\n                    \"function\" == typeof f && (f = f.call(r, a)), u += \"/\" + i + \" \" + f + \" \", r.internal.acroformPlugin.xForms.indexOf(f) >= 0 || r.internal.acroformPlugin.xForms.push(f);\n                  }\n                } else \"function\" == typeof (f = l) && (f = f.call(r, a)), u += \"/\" + i + \" \" + f, r.internal.acroformPlugin.xForms.indexOf(f) >= 0 || r.internal.acroformPlugin.xForms.push(f);\n                u += \">>\";\n              }\n              o.push({\n                key: \"AP\",\n                value: \"<<\\n\" + u + \">>\"\n              });\n            }\n            r.internal.putStream({\n              additionalKeyValues: o,\n              objectId: a.objId\n            }), r.internal.out(\"endobj\");\n          }\n          n && it(r.internal.acroformPlugin.xForms, r);\n        }(r, e);\n      }), e.internal.acroformPlugin.isInitialized = !0;\n    }\n  },\n  ot = q.__acroform__.arrayToPdfArray = function (e, r, n) {\n    var i = function (t) {\n      return t;\n    };\n    if (Array.isArray(e)) {\n      for (var a = \"[\", o = 0; o < e.length; o++) switch (0 !== o && (a += \" \"), (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e[o])) {\n        case \"boolean\":\n        case \"number\":\n        case \"object\":\n          a += e[o].toString();\n          break;\n        case \"string\":\n          \"/\" !== e[o].substr(0, 1) ? (void 0 !== r && n && (i = n.internal.getEncryptor(r)), a += \"(\" + R(i(e[o].toString())) + \")\") : a += e[o].toString();\n      }\n      return a += \"]\";\n    }\n    throw new Error(\"Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray\");\n  };\nvar st = function (t, e, r) {\n    var n = function (t) {\n      return t;\n    };\n    return void 0 !== e && r && (n = r.internal.getEncryptor(e)), (t = t || \"\").toString(), t = \"(\" + R(n(t)) + \")\";\n  },\n  ct = function () {\n    this._objId = void 0, this._scope = void 0, Object.defineProperty(this, \"objId\", {\n      get: function () {\n        if (void 0 === this._objId) {\n          if (void 0 === this.scope) return;\n          this._objId = this.scope.internal.newObjectDeferred();\n        }\n        return this._objId;\n      },\n      set: function (t) {\n        this._objId = t;\n      }\n    }), Object.defineProperty(this, \"scope\", {\n      value: this._scope,\n      writable: !0\n    });\n  };\nct.prototype.toString = function () {\n  return this.objId + \" 0 R\";\n}, ct.prototype.putStream = function () {\n  var t = this.getKeyValueListForStream();\n  this.scope.internal.putStream({\n    data: this.stream,\n    additionalKeyValues: t,\n    objectId: this.objId\n  }), this.scope.internal.out(\"endobj\");\n}, ct.prototype.getKeyValueListForStream = function () {\n  var t = [],\n    e = Object.getOwnPropertyNames(this).filter(function (t) {\n      return \"content\" != t && \"appearanceStreamContent\" != t && \"scope\" != t && \"objId\" != t && \"_\" != t.substring(0, 1);\n    });\n  for (var r in e) if (!1 === Object.getOwnPropertyDescriptor(this, e[r]).configurable) {\n    var n = e[r],\n      i = this[n];\n    i && (Array.isArray(i) ? t.push({\n      key: n,\n      value: ot(i, this.objId, this.scope)\n    }) : i instanceof ct ? (i.scope = this.scope, t.push({\n      key: n,\n      value: i.objId + \" 0 R\"\n    })) : \"function\" != typeof i && t.push({\n      key: n,\n      value: i\n    }));\n  }\n  return t;\n};\nvar ut = function () {\n  ct.call(this), Object.defineProperty(this, \"Type\", {\n    value: \"/XObject\",\n    configurable: !1,\n    writable: !0\n  }), Object.defineProperty(this, \"Subtype\", {\n    value: \"/Form\",\n    configurable: !1,\n    writable: !0\n  }), Object.defineProperty(this, \"FormType\", {\n    value: 1,\n    configurable: !1,\n    writable: !0\n  });\n  var t,\n    e = [];\n  Object.defineProperty(this, \"BBox\", {\n    configurable: !1,\n    get: function () {\n      return e;\n    },\n    set: function (t) {\n      e = t;\n    }\n  }), Object.defineProperty(this, \"Resources\", {\n    value: \"2 0 R\",\n    configurable: !1,\n    writable: !0\n  }), Object.defineProperty(this, \"stream\", {\n    enumerable: !1,\n    configurable: !0,\n    set: function (e) {\n      t = e.trim();\n    },\n    get: function () {\n      return t || null;\n    }\n  });\n};\nH(ut, ct);\nvar ht = function () {\n  ct.call(this);\n  var t,\n    e = [];\n  Object.defineProperty(this, \"Kids\", {\n    enumerable: !1,\n    configurable: !0,\n    get: function () {\n      return e.length > 0 ? e : void 0;\n    }\n  }), Object.defineProperty(this, \"Fields\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      return e;\n    }\n  }), Object.defineProperty(this, \"DA\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      if (t) {\n        var e = function (t) {\n          return t;\n        };\n        return this.scope && (e = this.scope.internal.getEncryptor(this.objId)), \"(\" + R(e(t)) + \")\";\n      }\n    },\n    set: function (e) {\n      t = e;\n    }\n  });\n};\nH(ht, ct);\nvar lt = function t() {\n  ct.call(this);\n  var e = 4;\n  Object.defineProperty(this, \"F\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      return e;\n    },\n    set: function (t) {\n      if (isNaN(t)) throw new Error('Invalid value \"' + t + '\" for attribute F supplied.');\n      e = t;\n    }\n  }), Object.defineProperty(this, \"showWhenPrinted\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(e, 3));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.F = K(e, 3) : this.F = Z(e, 3);\n    }\n  });\n  var r = 0;\n  Object.defineProperty(this, \"Ff\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      return r;\n    },\n    set: function (t) {\n      if (isNaN(t)) throw new Error('Invalid value \"' + t + '\" for attribute Ff supplied.');\n      r = t;\n    }\n  });\n  var n = [];\n  Object.defineProperty(this, \"Rect\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      if (0 !== n.length) return n;\n    },\n    set: function (t) {\n      n = void 0 !== t ? t : [];\n    }\n  }), Object.defineProperty(this, \"x\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return !n || isNaN(n[0]) ? 0 : n[0];\n    },\n    set: function (t) {\n      n[0] = t;\n    }\n  }), Object.defineProperty(this, \"y\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return !n || isNaN(n[1]) ? 0 : n[1];\n    },\n    set: function (t) {\n      n[1] = t;\n    }\n  }), Object.defineProperty(this, \"width\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return !n || isNaN(n[2]) ? 0 : n[2];\n    },\n    set: function (t) {\n      n[2] = t;\n    }\n  }), Object.defineProperty(this, \"height\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return !n || isNaN(n[3]) ? 0 : n[3];\n    },\n    set: function (t) {\n      n[3] = t;\n    }\n  });\n  var i = \"\";\n  Object.defineProperty(this, \"FT\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return i;\n    },\n    set: function (t) {\n      switch (t) {\n        case \"/Btn\":\n        case \"/Tx\":\n        case \"/Ch\":\n        case \"/Sig\":\n          i = t;\n          break;\n        default:\n          throw new Error('Invalid value \"' + t + '\" for attribute FT supplied.');\n      }\n    }\n  });\n  var a = null;\n  Object.defineProperty(this, \"T\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      if (!a || a.length < 1) {\n        if (this instanceof yt) return;\n        a = \"FieldObject\" + t.FieldNum++;\n      }\n      var e = function (t) {\n        return t;\n      };\n      return this.scope && (e = this.scope.internal.getEncryptor(this.objId)), \"(\" + R(e(a)) + \")\";\n    },\n    set: function (t) {\n      a = t.toString();\n    }\n  }), Object.defineProperty(this, \"fieldName\", {\n    configurable: !0,\n    enumerable: !0,\n    get: function () {\n      return a;\n    },\n    set: function (t) {\n      a = t;\n    }\n  });\n  var o = \"helvetica\";\n  Object.defineProperty(this, \"fontName\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return o;\n    },\n    set: function (t) {\n      o = t;\n    }\n  });\n  var s = \"normal\";\n  Object.defineProperty(this, \"fontStyle\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return s;\n    },\n    set: function (t) {\n      s = t;\n    }\n  });\n  var c = 0;\n  Object.defineProperty(this, \"fontSize\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return c;\n    },\n    set: function (t) {\n      c = t;\n    }\n  });\n  var u = void 0;\n  Object.defineProperty(this, \"maxFontSize\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return void 0 === u ? 50 / D : u;\n    },\n    set: function (t) {\n      u = t;\n    }\n  });\n  var h = \"black\";\n  Object.defineProperty(this, \"color\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return h;\n    },\n    set: function (t) {\n      h = t;\n    }\n  });\n  var l = \"/F1 0 Tf 0 g\";\n  Object.defineProperty(this, \"DA\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      if (!(!l || this instanceof yt || this instanceof Nt)) return st(l, this.objId, this.scope);\n    },\n    set: function (t) {\n      t = t.toString(), l = t;\n    }\n  });\n  var f = null;\n  Object.defineProperty(this, \"DV\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      if (f) return this instanceof mt == !1 ? st(f, this.objId, this.scope) : f;\n    },\n    set: function (t) {\n      t = t.toString(), f = this instanceof mt == !1 ? \"(\" === t.substr(0, 1) ? T(t.substr(1, t.length - 2)) : T(t) : t;\n    }\n  }), Object.defineProperty(this, \"defaultValue\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return this instanceof mt == !0 ? T(f.substr(1, f.length - 1)) : f;\n    },\n    set: function (t) {\n      t = t.toString(), f = this instanceof mt == !0 ? \"/\" + t : t;\n    }\n  });\n  var d = null;\n  Object.defineProperty(this, \"_V\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      if (d) return d;\n    },\n    set: function (t) {\n      this.V = t;\n    }\n  }), Object.defineProperty(this, \"V\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      if (d) return this instanceof mt == !1 ? st(d, this.objId, this.scope) : d;\n    },\n    set: function (t) {\n      t = t.toString(), d = this instanceof mt == !1 ? \"(\" === t.substr(0, 1) ? T(t.substr(1, t.length - 2)) : T(t) : t;\n    }\n  }), Object.defineProperty(this, \"value\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return this instanceof mt == !0 ? T(d.substr(1, d.length - 1)) : d;\n    },\n    set: function (t) {\n      t = t.toString(), d = this instanceof mt == !0 ? \"/\" + t : t;\n    }\n  }), Object.defineProperty(this, \"hasAnnotation\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return this.Rect;\n    }\n  }), Object.defineProperty(this, \"Type\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return this.hasAnnotation ? \"/Annot\" : null;\n    }\n  }), Object.defineProperty(this, \"Subtype\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return this.hasAnnotation ? \"/Widget\" : null;\n    }\n  });\n  var p,\n    g = !1;\n  Object.defineProperty(this, \"hasAppearanceStream\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return g;\n    },\n    set: function (t) {\n      t = Boolean(t), g = t;\n    }\n  }), Object.defineProperty(this, \"page\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      if (p) return p;\n    },\n    set: function (t) {\n      p = t;\n    }\n  }), Object.defineProperty(this, \"readOnly\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 1));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 1) : this.Ff = Z(this.Ff, 1);\n    }\n  }), Object.defineProperty(this, \"required\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 2));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 2) : this.Ff = Z(this.Ff, 2);\n    }\n  }), Object.defineProperty(this, \"noExport\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 3));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 3) : this.Ff = Z(this.Ff, 3);\n    }\n  });\n  var m = null;\n  Object.defineProperty(this, \"Q\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      if (null !== m) return m;\n    },\n    set: function (t) {\n      if (-1 === [0, 1, 2].indexOf(t)) throw new Error('Invalid value \"' + t + '\" for attribute Q supplied.');\n      m = t;\n    }\n  }), Object.defineProperty(this, \"textAlign\", {\n    get: function () {\n      var t;\n      switch (m) {\n        case 0:\n        default:\n          t = \"left\";\n          break;\n        case 1:\n          t = \"center\";\n          break;\n        case 2:\n          t = \"right\";\n      }\n      return t;\n    },\n    configurable: !0,\n    enumerable: !0,\n    set: function (t) {\n      switch (t) {\n        case \"right\":\n        case 2:\n          m = 2;\n          break;\n        case \"center\":\n        case 1:\n          m = 1;\n          break;\n        case \"left\":\n        case 0:\n        default:\n          m = 0;\n      }\n    }\n  });\n};\nH(lt, ct);\nvar ft = function () {\n  lt.call(this), this.FT = \"/Ch\", this.V = \"()\", this.fontName = \"zapfdingbats\";\n  var t = 0;\n  Object.defineProperty(this, \"TI\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return t;\n    },\n    set: function (e) {\n      t = e;\n    }\n  }), Object.defineProperty(this, \"topIndex\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return t;\n    },\n    set: function (e) {\n      t = e;\n    }\n  });\n  var e = [];\n  Object.defineProperty(this, \"Opt\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return ot(e, this.objId, this.scope);\n    },\n    set: function (t) {\n      var r, n;\n      n = [], \"string\" == typeof (r = t) && (n = function (t, e, r) {\n        r || (r = 1);\n        for (var n, i = []; n = e.exec(t);) i.push(n[r]);\n        return i;\n      }(r, /\\((.*?)\\)/g)), e = n;\n    }\n  }), this.getOptions = function () {\n    return e;\n  }, this.setOptions = function (t) {\n    e = t, this.sort && e.sort();\n  }, this.addOption = function (t) {\n    t = (t = t || \"\").toString(), e.push(t), this.sort && e.sort();\n  }, this.removeOption = function (t, r) {\n    for (r = r || !1, t = (t = t || \"\").toString(); -1 !== e.indexOf(t) && (e.splice(e.indexOf(t), 1), !1 !== r););\n  }, Object.defineProperty(this, \"combo\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 18));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 18) : this.Ff = Z(this.Ff, 18);\n    }\n  }), Object.defineProperty(this, \"edit\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 19));\n    },\n    set: function (t) {\n      !0 === this.combo && (!0 === Boolean(t) ? this.Ff = K(this.Ff, 19) : this.Ff = Z(this.Ff, 19));\n    }\n  }), Object.defineProperty(this, \"sort\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 20));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? (this.Ff = K(this.Ff, 20), e.sort()) : this.Ff = Z(this.Ff, 20);\n    }\n  }), Object.defineProperty(this, \"multiSelect\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 22));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 22) : this.Ff = Z(this.Ff, 22);\n    }\n  }), Object.defineProperty(this, \"doNotSpellCheck\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 23));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 23) : this.Ff = Z(this.Ff, 23);\n    }\n  }), Object.defineProperty(this, \"commitOnSelChange\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 27));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 27) : this.Ff = Z(this.Ff, 27);\n    }\n  }), this.hasAppearanceStream = !1;\n};\nH(ft, lt);\nvar dt = function () {\n  ft.call(this), this.fontName = \"helvetica\", this.combo = !1;\n};\nH(dt, ft);\nvar pt = function () {\n  dt.call(this), this.combo = !0;\n};\nH(pt, dt);\nvar gt = function () {\n  pt.call(this), this.edit = !0;\n};\nH(gt, pt);\nvar mt = function () {\n  lt.call(this), this.FT = \"/Btn\", Object.defineProperty(this, \"noToggleToOff\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 15));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 15) : this.Ff = Z(this.Ff, 15);\n    }\n  }), Object.defineProperty(this, \"radio\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 16));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 16) : this.Ff = Z(this.Ff, 16);\n    }\n  }), Object.defineProperty(this, \"pushButton\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 17));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 17) : this.Ff = Z(this.Ff, 17);\n    }\n  }), Object.defineProperty(this, \"radioIsUnison\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 26));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 26) : this.Ff = Z(this.Ff, 26);\n    }\n  });\n  var e,\n    r = {};\n  Object.defineProperty(this, \"MK\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      var t = function (t) {\n        return t;\n      };\n      if (this.scope && (t = this.scope.internal.getEncryptor(this.objId)), 0 !== Object.keys(r).length) {\n        var e,\n          n = [];\n        for (e in n.push(\"<<\"), r) n.push(\"/\" + e + \" (\" + R(t(r[e])) + \")\");\n        return n.push(\">>\"), n.join(\"\\n\");\n      }\n    },\n    set: function (e) {\n      \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e) && (r = e);\n    }\n  }), Object.defineProperty(this, \"caption\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return r.CA || \"\";\n    },\n    set: function (t) {\n      \"string\" == typeof t && (r.CA = t);\n    }\n  }), Object.defineProperty(this, \"AS\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      return e;\n    },\n    set: function (t) {\n      e = t;\n    }\n  }), Object.defineProperty(this, \"appearanceState\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return e.substr(1, e.length - 1);\n    },\n    set: function (t) {\n      e = \"/\" + t;\n    }\n  });\n};\nH(mt, lt);\nvar vt = function () {\n  mt.call(this), this.pushButton = !0;\n};\nH(vt, mt);\nvar bt = function () {\n  mt.call(this), this.radio = !0, this.pushButton = !1;\n  var t = [];\n  Object.defineProperty(this, \"Kids\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return t;\n    },\n    set: function (e) {\n      t = void 0 !== e ? e : [];\n    }\n  });\n};\nH(bt, mt);\nvar yt = function () {\n  var e, r;\n  lt.call(this), Object.defineProperty(this, \"Parent\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      return e;\n    },\n    set: function (t) {\n      e = t;\n    }\n  }), Object.defineProperty(this, \"optionName\", {\n    enumerable: !1,\n    configurable: !0,\n    get: function () {\n      return r;\n    },\n    set: function (t) {\n      r = t;\n    }\n  });\n  var n,\n    i = {};\n  Object.defineProperty(this, \"MK\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      var t = function (t) {\n        return t;\n      };\n      this.scope && (t = this.scope.internal.getEncryptor(this.objId));\n      var e,\n        r = [];\n      for (e in r.push(\"<<\"), i) r.push(\"/\" + e + \" (\" + R(t(i[e])) + \")\");\n      return r.push(\">>\"), r.join(\"\\n\");\n    },\n    set: function (e) {\n      \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e) && (i = e);\n    }\n  }), Object.defineProperty(this, \"caption\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return i.CA || \"\";\n    },\n    set: function (t) {\n      \"string\" == typeof t && (i.CA = t);\n    }\n  }), Object.defineProperty(this, \"AS\", {\n    enumerable: !1,\n    configurable: !1,\n    get: function () {\n      return n;\n    },\n    set: function (t) {\n      n = t;\n    }\n  }), Object.defineProperty(this, \"appearanceState\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return n.substr(1, n.length - 1);\n    },\n    set: function (t) {\n      n = \"/\" + t;\n    }\n  }), this.caption = \"l\", this.appearanceState = \"Off\", this._AppearanceType = At.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(this.optionName);\n};\nH(yt, lt), bt.prototype.setAppearance = function (t) {\n  if (!(\"createAppearanceStream\" in t) || !(\"getCA\" in t)) throw new Error(\"Couldn't assign Appearance to RadioButton. Appearance was Invalid!\");\n  for (var e in this.Kids) if (this.Kids.hasOwnProperty(e)) {\n    var r = this.Kids[e];\n    r.appearanceStreamContent = t.createAppearanceStream(r.optionName), r.caption = t.getCA();\n  }\n}, bt.prototype.createOption = function (t) {\n  var e = new yt();\n  return e.Parent = this, e.optionName = t, this.Kids.push(e), xt.call(this.scope, e), e;\n};\nvar wt = function () {\n  mt.call(this), this.fontName = \"zapfdingbats\", this.caption = \"3\", this.appearanceState = \"On\", this.value = \"On\", this.textAlign = \"center\", this.appearanceStreamContent = At.CheckBox.createAppearanceStream();\n};\nH(wt, mt);\nvar Nt = function () {\n  lt.call(this), this.FT = \"/Tx\", Object.defineProperty(this, \"multiline\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 13));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 13) : this.Ff = Z(this.Ff, 13);\n    }\n  }), Object.defineProperty(this, \"fileSelect\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 21));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 21) : this.Ff = Z(this.Ff, 21);\n    }\n  }), Object.defineProperty(this, \"doNotSpellCheck\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 23));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 23) : this.Ff = Z(this.Ff, 23);\n    }\n  }), Object.defineProperty(this, \"doNotScroll\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 24));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 24) : this.Ff = Z(this.Ff, 24);\n    }\n  }), Object.defineProperty(this, \"comb\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 25));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 25) : this.Ff = Z(this.Ff, 25);\n    }\n  }), Object.defineProperty(this, \"richText\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 26));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 26) : this.Ff = Z(this.Ff, 26);\n    }\n  });\n  var t = null;\n  Object.defineProperty(this, \"MaxLen\", {\n    enumerable: !0,\n    configurable: !1,\n    get: function () {\n      return t;\n    },\n    set: function (e) {\n      t = e;\n    }\n  }), Object.defineProperty(this, \"maxLength\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return t;\n    },\n    set: function (e) {\n      Number.isInteger(e) && (t = e);\n    }\n  }), Object.defineProperty(this, \"hasAppearanceStream\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return this.V || this.DV;\n    }\n  });\n};\nH(Nt, lt);\nvar Lt = function () {\n  Nt.call(this), Object.defineProperty(this, \"password\", {\n    enumerable: !0,\n    configurable: !0,\n    get: function () {\n      return Boolean(X(this.Ff, 14));\n    },\n    set: function (t) {\n      !0 === Boolean(t) ? this.Ff = K(this.Ff, 14) : this.Ff = Z(this.Ff, 14);\n    }\n  }), this.password = !0;\n};\nH(Lt, Nt);\nvar At = {\n  CheckBox: {\n    createAppearanceStream: function () {\n      return {\n        N: {\n          On: At.CheckBox.YesNormal\n        },\n        D: {\n          On: At.CheckBox.YesPushDown,\n          Off: At.CheckBox.OffPushDown\n        }\n      };\n    },\n    YesPushDown: function (t) {\n      var e = V(t);\n      e.scope = t.scope;\n      var r = [],\n        n = t.scope.internal.getFont(t.fontName, t.fontStyle).id,\n        i = t.scope.__private__.encodeColorString(t.color),\n        a = tt(t, t.caption);\n      return r.push(\"0.749023 g\"), r.push(\"0 0 \" + U(At.internal.getWidth(t)) + \" \" + U(At.internal.getHeight(t)) + \" re\"), r.push(\"f\"), r.push(\"BMC\"), r.push(\"q\"), r.push(\"0 0 1 rg\"), r.push(\"/\" + n + \" \" + U(a.fontSize) + \" Tf \" + i), r.push(\"BT\"), r.push(a.text), r.push(\"ET\"), r.push(\"Q\"), r.push(\"EMC\"), e.stream = r.join(\"\\n\"), e;\n    },\n    YesNormal: function (t) {\n      var e = V(t);\n      e.scope = t.scope;\n      var r = t.scope.internal.getFont(t.fontName, t.fontStyle).id,\n        n = t.scope.__private__.encodeColorString(t.color),\n        i = [],\n        a = At.internal.getHeight(t),\n        o = At.internal.getWidth(t),\n        s = tt(t, t.caption);\n      return i.push(\"1 g\"), i.push(\"0 0 \" + U(o) + \" \" + U(a) + \" re\"), i.push(\"f\"), i.push(\"q\"), i.push(\"0 0 1 rg\"), i.push(\"0 0 \" + U(o - 1) + \" \" + U(a - 1) + \" re\"), i.push(\"W\"), i.push(\"n\"), i.push(\"0 g\"), i.push(\"BT\"), i.push(\"/\" + r + \" \" + U(s.fontSize) + \" Tf \" + n), i.push(s.text), i.push(\"ET\"), i.push(\"Q\"), e.stream = i.join(\"\\n\"), e;\n    },\n    OffPushDown: function (t) {\n      var e = V(t);\n      e.scope = t.scope;\n      var r = [];\n      return r.push(\"0.749023 g\"), r.push(\"0 0 \" + U(At.internal.getWidth(t)) + \" \" + U(At.internal.getHeight(t)) + \" re\"), r.push(\"f\"), e.stream = r.join(\"\\n\"), e;\n    }\n  },\n  RadioButton: {\n    Circle: {\n      createAppearanceStream: function (t) {\n        var e = {\n          D: {\n            Off: At.RadioButton.Circle.OffPushDown\n          },\n          N: {}\n        };\n        return e.N[t] = At.RadioButton.Circle.YesNormal, e.D[t] = At.RadioButton.Circle.YesPushDown, e;\n      },\n      getCA: function () {\n        return \"l\";\n      },\n      YesNormal: function (t) {\n        var e = V(t);\n        e.scope = t.scope;\n        var r = [],\n          n = At.internal.getWidth(t) <= At.internal.getHeight(t) ? At.internal.getWidth(t) / 4 : At.internal.getHeight(t) / 4;\n        n = Number((.9 * n).toFixed(5));\n        var i = At.internal.Bezier_C,\n          a = Number((n * i).toFixed(5));\n        return r.push(\"q\"), r.push(\"1 0 0 1 \" + z(At.internal.getWidth(t) / 2) + \" \" + z(At.internal.getHeight(t) / 2) + \" cm\"), r.push(n + \" 0 m\"), r.push(n + \" \" + a + \" \" + a + \" \" + n + \" 0 \" + n + \" c\"), r.push(\"-\" + a + \" \" + n + \" -\" + n + \" \" + a + \" -\" + n + \" 0 c\"), r.push(\"-\" + n + \" -\" + a + \" -\" + a + \" -\" + n + \" 0 -\" + n + \" c\"), r.push(a + \" -\" + n + \" \" + n + \" -\" + a + \" \" + n + \" 0 c\"), r.push(\"f\"), r.push(\"Q\"), e.stream = r.join(\"\\n\"), e;\n      },\n      YesPushDown: function (t) {\n        var e = V(t);\n        e.scope = t.scope;\n        var r = [],\n          n = At.internal.getWidth(t) <= At.internal.getHeight(t) ? At.internal.getWidth(t) / 4 : At.internal.getHeight(t) / 4;\n        n = Number((.9 * n).toFixed(5));\n        var i = Number((2 * n).toFixed(5)),\n          a = Number((i * At.internal.Bezier_C).toFixed(5)),\n          o = Number((n * At.internal.Bezier_C).toFixed(5));\n        return r.push(\"0.749023 g\"), r.push(\"q\"), r.push(\"1 0 0 1 \" + z(At.internal.getWidth(t) / 2) + \" \" + z(At.internal.getHeight(t) / 2) + \" cm\"), r.push(i + \" 0 m\"), r.push(i + \" \" + a + \" \" + a + \" \" + i + \" 0 \" + i + \" c\"), r.push(\"-\" + a + \" \" + i + \" -\" + i + \" \" + a + \" -\" + i + \" 0 c\"), r.push(\"-\" + i + \" -\" + a + \" -\" + a + \" -\" + i + \" 0 -\" + i + \" c\"), r.push(a + \" -\" + i + \" \" + i + \" -\" + a + \" \" + i + \" 0 c\"), r.push(\"f\"), r.push(\"Q\"), r.push(\"0 g\"), r.push(\"q\"), r.push(\"1 0 0 1 \" + z(At.internal.getWidth(t) / 2) + \" \" + z(At.internal.getHeight(t) / 2) + \" cm\"), r.push(n + \" 0 m\"), r.push(n + \" \" + o + \" \" + o + \" \" + n + \" 0 \" + n + \" c\"), r.push(\"-\" + o + \" \" + n + \" -\" + n + \" \" + o + \" -\" + n + \" 0 c\"), r.push(\"-\" + n + \" -\" + o + \" -\" + o + \" -\" + n + \" 0 -\" + n + \" c\"), r.push(o + \" -\" + n + \" \" + n + \" -\" + o + \" \" + n + \" 0 c\"), r.push(\"f\"), r.push(\"Q\"), e.stream = r.join(\"\\n\"), e;\n      },\n      OffPushDown: function (t) {\n        var e = V(t);\n        e.scope = t.scope;\n        var r = [],\n          n = At.internal.getWidth(t) <= At.internal.getHeight(t) ? At.internal.getWidth(t) / 4 : At.internal.getHeight(t) / 4;\n        n = Number((.9 * n).toFixed(5));\n        var i = Number((2 * n).toFixed(5)),\n          a = Number((i * At.internal.Bezier_C).toFixed(5));\n        return r.push(\"0.749023 g\"), r.push(\"q\"), r.push(\"1 0 0 1 \" + z(At.internal.getWidth(t) / 2) + \" \" + z(At.internal.getHeight(t) / 2) + \" cm\"), r.push(i + \" 0 m\"), r.push(i + \" \" + a + \" \" + a + \" \" + i + \" 0 \" + i + \" c\"), r.push(\"-\" + a + \" \" + i + \" -\" + i + \" \" + a + \" -\" + i + \" 0 c\"), r.push(\"-\" + i + \" -\" + a + \" -\" + a + \" -\" + i + \" 0 -\" + i + \" c\"), r.push(a + \" -\" + i + \" \" + i + \" -\" + a + \" \" + i + \" 0 c\"), r.push(\"f\"), r.push(\"Q\"), e.stream = r.join(\"\\n\"), e;\n      }\n    },\n    Cross: {\n      createAppearanceStream: function (t) {\n        var e = {\n          D: {\n            Off: At.RadioButton.Cross.OffPushDown\n          },\n          N: {}\n        };\n        return e.N[t] = At.RadioButton.Cross.YesNormal, e.D[t] = At.RadioButton.Cross.YesPushDown, e;\n      },\n      getCA: function () {\n        return \"8\";\n      },\n      YesNormal: function (t) {\n        var e = V(t);\n        e.scope = t.scope;\n        var r = [],\n          n = At.internal.calculateCross(t);\n        return r.push(\"q\"), r.push(\"1 1 \" + U(At.internal.getWidth(t) - 2) + \" \" + U(At.internal.getHeight(t) - 2) + \" re\"), r.push(\"W\"), r.push(\"n\"), r.push(U(n.x1.x) + \" \" + U(n.x1.y) + \" m\"), r.push(U(n.x2.x) + \" \" + U(n.x2.y) + \" l\"), r.push(U(n.x4.x) + \" \" + U(n.x4.y) + \" m\"), r.push(U(n.x3.x) + \" \" + U(n.x3.y) + \" l\"), r.push(\"s\"), r.push(\"Q\"), e.stream = r.join(\"\\n\"), e;\n      },\n      YesPushDown: function (t) {\n        var e = V(t);\n        e.scope = t.scope;\n        var r = At.internal.calculateCross(t),\n          n = [];\n        return n.push(\"0.749023 g\"), n.push(\"0 0 \" + U(At.internal.getWidth(t)) + \" \" + U(At.internal.getHeight(t)) + \" re\"), n.push(\"f\"), n.push(\"q\"), n.push(\"1 1 \" + U(At.internal.getWidth(t) - 2) + \" \" + U(At.internal.getHeight(t) - 2) + \" re\"), n.push(\"W\"), n.push(\"n\"), n.push(U(r.x1.x) + \" \" + U(r.x1.y) + \" m\"), n.push(U(r.x2.x) + \" \" + U(r.x2.y) + \" l\"), n.push(U(r.x4.x) + \" \" + U(r.x4.y) + \" m\"), n.push(U(r.x3.x) + \" \" + U(r.x3.y) + \" l\"), n.push(\"s\"), n.push(\"Q\"), e.stream = n.join(\"\\n\"), e;\n      },\n      OffPushDown: function (t) {\n        var e = V(t);\n        e.scope = t.scope;\n        var r = [];\n        return r.push(\"0.749023 g\"), r.push(\"0 0 \" + U(At.internal.getWidth(t)) + \" \" + U(At.internal.getHeight(t)) + \" re\"), r.push(\"f\"), e.stream = r.join(\"\\n\"), e;\n      }\n    }\n  },\n  createDefaultAppearanceStream: function (t) {\n    var e = t.scope.internal.getFont(t.fontName, t.fontStyle).id,\n      r = t.scope.__private__.encodeColorString(t.color);\n    return \"/\" + e + \" \" + t.fontSize + \" Tf \" + r;\n  }\n};\nAt.internal = {\n  Bezier_C: .551915024494,\n  calculateCross: function (t) {\n    var e = At.internal.getWidth(t),\n      r = At.internal.getHeight(t),\n      n = Math.min(e, r);\n    return {\n      x1: {\n        x: (e - n) / 2,\n        y: (r - n) / 2 + n\n      },\n      x2: {\n        x: (e - n) / 2 + n,\n        y: (r - n) / 2\n      },\n      x3: {\n        x: (e - n) / 2,\n        y: (r - n) / 2\n      },\n      x4: {\n        x: (e - n) / 2 + n,\n        y: (r - n) / 2 + n\n      }\n    };\n  }\n}, At.internal.getWidth = function (e) {\n  var r = 0;\n  return \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e) && (r = W(e.Rect[2])), r;\n}, At.internal.getHeight = function (e) {\n  var r = 0;\n  return \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e) && (r = W(e.Rect[3])), r;\n};\nvar xt = q.addField = function (t) {\n  if (at(this, t), !(t instanceof lt)) throw new Error(\"Invalid argument passed to jsPDF.addField.\");\n  var e;\n  return (e = t).scope.internal.acroformPlugin.printedOut && (e.scope.internal.acroformPlugin.printedOut = !1, e.scope.internal.acroformPlugin.acroFormDictionaryRoot = null), e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e), t.page = t.scope.internal.getCurrentPageInfo().pageNumber, this;\n};\nq.AcroFormChoiceField = ft, q.AcroFormListBox = dt, q.AcroFormComboBox = pt, q.AcroFormEditBox = gt, q.AcroFormButton = mt, q.AcroFormPushButton = vt, q.AcroFormRadioButton = bt, q.AcroFormCheckBox = wt, q.AcroFormTextField = Nt, q.AcroFormPasswordField = Lt, q.AcroFormAppearance = At, q.AcroForm = {\n  ChoiceField: ft,\n  ListBox: dt,\n  ComboBox: pt,\n  EditBox: gt,\n  Button: mt,\n  PushButton: vt,\n  RadioButton: bt,\n  CheckBox: wt,\n  TextField: Nt,\n  PasswordField: Lt,\n  Appearance: At\n}, E.AcroForm = {\n  ChoiceField: ft,\n  ListBox: dt,\n  ComboBox: pt,\n  EditBox: gt,\n  Button: mt,\n  PushButton: vt,\n  RadioButton: bt,\n  CheckBox: wt,\n  TextField: Nt,\n  PasswordField: Lt,\n  Appearance: At\n};\nvar St = E.AcroForm;\nfunction _t(t) {\n  return t.reduce(function (t, e, r) {\n    return t[e] = r, t;\n  }, {});\n}\n!function (e) {\n  e.__addimage__ = {};\n  var r = \"UNKNOWN\",\n    n = {\n      PNG: [[137, 80, 78, 71]],\n      TIFF: [[77, 77, 0, 42], [73, 73, 42, 0]],\n      JPEG: [[255, 216, 255, 224, void 0, void 0, 74, 70, 73, 70, 0], [255, 216, 255, 225, void 0, void 0, 69, 120, 105, 102, 0, 0], [255, 216, 255, 219], [255, 216, 255, 238]],\n      JPEG2000: [[0, 0, 0, 12, 106, 80, 32, 32]],\n      GIF87a: [[71, 73, 70, 56, 55, 97]],\n      GIF89a: [[71, 73, 70, 56, 57, 97]],\n      WEBP: [[82, 73, 70, 70, void 0, void 0, void 0, void 0, 87, 69, 66, 80]],\n      BMP: [[66, 77], [66, 65], [67, 73], [67, 80], [73, 67], [80, 84]]\n    },\n    i = e.__addimage__.getImageFileTypeByImageData = function (t, e) {\n      var i,\n        a,\n        o,\n        s,\n        c,\n        u = r;\n      if (\"RGBA\" === (e = e || r) || void 0 !== t.data && t.data instanceof Uint8ClampedArray && \"height\" in t && \"width\" in t) return \"RGBA\";\n      if (x(t)) for (c in n) for (o = n[c], i = 0; i < o.length; i += 1) {\n        for (s = !0, a = 0; a < o[i].length; a += 1) if (void 0 !== o[i][a] && o[i][a] !== t[a]) {\n          s = !1;\n          break;\n        }\n        if (!0 === s) {\n          u = c;\n          break;\n        }\n      } else for (c in n) for (o = n[c], i = 0; i < o.length; i += 1) {\n        for (s = !0, a = 0; a < o[i].length; a += 1) if (void 0 !== o[i][a] && o[i][a] !== t.charCodeAt(a)) {\n          s = !1;\n          break;\n        }\n        if (!0 === s) {\n          u = c;\n          break;\n        }\n      }\n      return u === r && e !== r && (u = e), u;\n    },\n    a = function t(e) {\n      for (var r = this.internal.write, n = this.internal.putStream, i = (0, this.internal.getFilters)(); -1 !== i.indexOf(\"FlateEncode\");) i.splice(i.indexOf(\"FlateEncode\"), 1);\n      e.objectId = this.internal.newObject();\n      var a = [];\n      if (a.push({\n        key: \"Type\",\n        value: \"/XObject\"\n      }), a.push({\n        key: \"Subtype\",\n        value: \"/Image\"\n      }), a.push({\n        key: \"Width\",\n        value: e.width\n      }), a.push({\n        key: \"Height\",\n        value: e.height\n      }), e.colorSpace === b.INDEXED ? a.push({\n        key: \"ColorSpace\",\n        value: \"[/Indexed /DeviceRGB \" + (e.palette.length / 3 - 1) + \" \" + (\"sMask\" in e && void 0 !== e.sMask ? e.objectId + 2 : e.objectId + 1) + \" 0 R]\"\n      }) : (a.push({\n        key: \"ColorSpace\",\n        value: \"/\" + e.colorSpace\n      }), e.colorSpace === b.DEVICE_CMYK && a.push({\n        key: \"Decode\",\n        value: \"[1 0 1 0 1 0 1 0]\"\n      })), a.push({\n        key: \"BitsPerComponent\",\n        value: e.bitsPerComponent\n      }), \"decodeParameters\" in e && void 0 !== e.decodeParameters && a.push({\n        key: \"DecodeParms\",\n        value: \"<<\" + e.decodeParameters + \">>\"\n      }), \"transparency\" in e && Array.isArray(e.transparency)) {\n        for (var o = \"\", s = 0, c = e.transparency.length; s < c; s++) o += e.transparency[s] + \" \" + e.transparency[s] + \" \";\n        a.push({\n          key: \"Mask\",\n          value: \"[\" + o + \"]\"\n        });\n      }\n      void 0 !== e.sMask && a.push({\n        key: \"SMask\",\n        value: e.objectId + 1 + \" 0 R\"\n      });\n      var u = void 0 !== e.filter ? [\"/\" + e.filter] : void 0;\n      if (n({\n        data: e.data,\n        additionalKeyValues: a,\n        alreadyAppliedFilters: u,\n        objectId: e.objectId\n      }), r(\"endobj\"), \"sMask\" in e && void 0 !== e.sMask) {\n        var h = \"/Predictor \" + e.predictor + \" /Colors 1 /BitsPerComponent \" + e.bitsPerComponent + \" /Columns \" + e.width,\n          l = {\n            width: e.width,\n            height: e.height,\n            colorSpace: \"DeviceGray\",\n            bitsPerComponent: e.bitsPerComponent,\n            decodeParameters: h,\n            data: e.sMask\n          };\n        \"filter\" in e && (l.filter = e.filter), t.call(this, l);\n      }\n      if (e.colorSpace === b.INDEXED) {\n        var f = this.internal.newObject();\n        n({\n          data: _(new Uint8Array(e.palette)),\n          objectId: f\n        }), r(\"endobj\");\n      }\n    },\n    o = function () {\n      var t = this.internal.collections.addImage_images;\n      for (var e in t) a.call(this, t[e]);\n    },\n    s = function () {\n      var t,\n        e = this.internal.collections.addImage_images,\n        r = this.internal.write;\n      for (var n in e) r(\"/I\" + (t = e[n]).index, t.objectId, \"0\", \"R\");\n    },\n    c = function () {\n      this.internal.collections.addImage_images || (this.internal.collections.addImage_images = {}, this.internal.events.subscribe(\"putResources\", o), this.internal.events.subscribe(\"putXobjectDict\", s));\n    },\n    h = function () {\n      var t = this.internal.collections.addImage_images;\n      return c.call(this), t;\n    },\n    l = function () {\n      return Object.keys(this.internal.collections.addImage_images).length;\n    },\n    f = function (t) {\n      return \"function\" == typeof e[\"process\" + t.toUpperCase()];\n    },\n    d = function (e) {\n      return \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e) && 1 === e.nodeType;\n    },\n    p = function (t, r) {\n      if (\"IMG\" === t.nodeName && t.hasAttribute(\"src\")) {\n        var n = \"\" + t.getAttribute(\"src\");\n        if (0 === n.indexOf(\"data:image/\")) return u(unescape(n).split(\"base64,\").pop());\n        var i = e.loadFile(n, !0);\n        if (void 0 !== i) return i;\n      }\n      if (\"CANVAS\" === t.nodeName) {\n        if (0 === t.width || 0 === t.height) throw new Error(\"Given canvas must have data. Canvas width: \" + t.width + \", height: \" + t.height);\n        var a;\n        switch (r) {\n          case \"PNG\":\n            a = \"image/png\";\n            break;\n          case \"WEBP\":\n            a = \"image/webp\";\n            break;\n          case \"JPEG\":\n          case \"JPG\":\n          default:\n            a = \"image/jpeg\";\n        }\n        return u(t.toDataURL(a, 1).split(\"base64,\").pop());\n      }\n    },\n    g = function (t) {\n      var e = this.internal.collections.addImage_images;\n      if (e) for (var r in e) if (t === e[r].alias) return e[r];\n    },\n    m = function (t, e, r) {\n      return t || e || (t = -96, e = -96), t < 0 && (t = -1 * r.width * 72 / t / this.internal.scaleFactor), e < 0 && (e = -1 * r.height * 72 / e / this.internal.scaleFactor), 0 === t && (t = e * r.width / r.height), 0 === e && (e = t * r.height / r.width), [t, e];\n    },\n    v = function (t, e, r, n, i, a) {\n      var o = m.call(this, r, n, i),\n        s = this.internal.getCoordinateString,\n        c = this.internal.getVerticalCoordinateString,\n        u = h.call(this);\n      if (r = o[0], n = o[1], u[i.index] = i, a) {\n        a *= Math.PI / 180;\n        var l = Math.cos(a),\n          f = Math.sin(a),\n          d = function (t) {\n            return t.toFixed(4);\n          },\n          p = [d(l), d(f), d(-1 * f), d(l), 0, 0, \"cm\"];\n      }\n      this.internal.write(\"q\"), a ? (this.internal.write([1, \"0\", \"0\", 1, s(t), c(e + n), \"cm\"].join(\" \")), this.internal.write(p.join(\" \")), this.internal.write([s(r), \"0\", \"0\", s(n), \"0\", \"0\", \"cm\"].join(\" \"))) : this.internal.write([s(r), \"0\", \"0\", s(n), s(t), c(e + n), \"cm\"].join(\" \")), this.isAdvancedAPI() && this.internal.write([1, 0, 0, -1, 0, 0, \"cm\"].join(\" \")), this.internal.write(\"/I\" + i.index + \" Do\"), this.internal.write(\"Q\");\n    },\n    b = e.color_spaces = {\n      DEVICE_RGB: \"DeviceRGB\",\n      DEVICE_GRAY: \"DeviceGray\",\n      DEVICE_CMYK: \"DeviceCMYK\",\n      CAL_GREY: \"CalGray\",\n      CAL_RGB: \"CalRGB\",\n      LAB: \"Lab\",\n      ICC_BASED: \"ICCBased\",\n      INDEXED: \"Indexed\",\n      PATTERN: \"Pattern\",\n      SEPARATION: \"Separation\",\n      DEVICE_N: \"DeviceN\"\n    };\n  e.decode = {\n    DCT_DECODE: \"DCTDecode\",\n    FLATE_DECODE: \"FlateDecode\",\n    LZW_DECODE: \"LZWDecode\",\n    JPX_DECODE: \"JPXDecode\",\n    JBIG2_DECODE: \"JBIG2Decode\",\n    ASCII85_DECODE: \"ASCII85Decode\",\n    ASCII_HEX_DECODE: \"ASCIIHexDecode\",\n    RUN_LENGTH_DECODE: \"RunLengthDecode\",\n    CCITT_FAX_DECODE: \"CCITTFaxDecode\"\n  };\n  var y = e.image_compression = {\n      NONE: \"NONE\",\n      FAST: \"FAST\",\n      MEDIUM: \"MEDIUM\",\n      SLOW: \"SLOW\"\n    },\n    w = e.__addimage__.sHashCode = function (t) {\n      var e,\n        r,\n        n = 0;\n      if (\"string\" == typeof t) for (r = t.length, e = 0; e < r; e++) n = (n << 5) - n + t.charCodeAt(e), n |= 0;else if (x(t)) for (r = t.byteLength / 2, e = 0; e < r; e++) n = (n << 5) - n + t[e], n |= 0;\n      return n;\n    },\n    N = e.__addimage__.validateStringAsBase64 = function (t) {\n      (t = t || \"\").toString().trim();\n      var e = !0;\n      return 0 === t.length && (e = !1), t.length % 4 != 0 && (e = !1), !1 === /^[A-Za-z0-9+/]+$/.test(t.substr(0, t.length - 2)) && (e = !1), !1 === /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2)) && (e = !1), e;\n    },\n    L = e.__addimage__.extractImageFromDataUrl = function (t) {\n      if (null == t) return null;\n      if (!(t = t.trim()).startsWith(\"data:\")) return null;\n      var e = t.indexOf(\",\");\n      return e < 0 ? null : t.substring(0, e).trim().endsWith(\"base64\") ? t.substring(e + 1) : null;\n    },\n    A = e.__addimage__.supportsArrayBuffer = function () {\n      return \"undefined\" != typeof ArrayBuffer && \"undefined\" != typeof Uint8Array;\n    };\n  e.__addimage__.isArrayBuffer = function (t) {\n    return A() && t instanceof ArrayBuffer;\n  };\n  var x = e.__addimage__.isArrayBufferView = function (t) {\n      return A() && \"undefined\" != typeof Uint32Array && (t instanceof Int8Array || t instanceof Uint8Array || \"undefined\" != typeof Uint8ClampedArray && t instanceof Uint8ClampedArray || t instanceof Int16Array || t instanceof Uint16Array || t instanceof Int32Array || t instanceof Uint32Array || t instanceof Float32Array || t instanceof Float64Array);\n    },\n    S = e.__addimage__.binaryStringToUint8Array = function (t) {\n      for (var e = t.length, r = new Uint8Array(e), n = 0; n < e; n++) r[n] = t.charCodeAt(n);\n      return r;\n    },\n    _ = e.__addimage__.arrayBufferToBinaryString = function (t) {\n      for (var e = \"\", r = x(t) ? t : new Uint8Array(t), n = 0; n < r.length; n += 8192) e += String.fromCharCode.apply(null, r.subarray(n, n + 8192));\n      return e;\n    };\n  e.addImage = function () {\n    var e, n, i, a, o, s, u, h, l;\n    if (\"number\" == typeof arguments[1] ? (n = r, i = arguments[1], a = arguments[2], o = arguments[3], s = arguments[4], u = arguments[5], h = arguments[6], l = arguments[7]) : (n = arguments[1], i = arguments[2], a = arguments[3], o = arguments[4], s = arguments[5], u = arguments[6], h = arguments[7], l = arguments[8]), \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e = arguments[0]) && !d(e) && \"imageData\" in e) {\n      var f = e;\n      e = f.imageData, n = f.format || n || r, i = f.x || i || 0, a = f.y || a || 0, o = f.w || f.width || o, s = f.h || f.height || s, u = f.alias || u, h = f.compression || h, l = f.rotation || f.angle || l;\n    }\n    var p = this.internal.getFilters();\n    if (void 0 === h && -1 !== p.indexOf(\"FlateEncode\") && (h = \"SLOW\"), isNaN(i) || isNaN(a)) throw new Error(\"Invalid coordinates passed to jsPDF.addImage\");\n    c.call(this);\n    var g = P.call(this, e, n, u, h);\n    return v.call(this, i, a, o, s, g, l), this;\n  };\n  var P = function (t, n, a, o) {\n      var s, c, u;\n      if (\"string\" == typeof t && i(t) === r) {\n        t = unescape(t);\n        var h = k(t, !1);\n        (\"\" !== h || void 0 !== (h = e.loadFile(t, !0))) && (t = h);\n      }\n      if (d(t) && (t = p(t, n)), n = i(t, n), !f(n)) throw new Error(\"addImage does not support files of type '\" + n + \"', please ensure that a plugin for '\" + n + \"' support is added.\");\n      if ((null == (u = a) || 0 === u.length) && (a = function (t) {\n        return \"string\" == typeof t || x(t) ? w(t) : x(t.data) ? w(t.data) : null;\n      }(t)), (s = g.call(this, a)) || (A() && (t instanceof Uint8Array || \"RGBA\" === n || (c = t, t = S(t))), s = this[\"process\" + n.toUpperCase()](t, l.call(this), a, function (t) {\n        return t && \"string\" == typeof t && (t = t.toUpperCase()), t in e.image_compression ? t : y.NONE;\n      }(o), c)), !s) throw new Error(\"An unknown error occurred whilst processing the image.\");\n      return s;\n    },\n    k = e.__addimage__.convertBase64ToBinaryString = function (t, e) {\n      e = \"boolean\" != typeof e || e;\n      var r,\n        n = \"\";\n      if (\"string\" == typeof t) {\n        var i;\n        r = null !== (i = L(t)) && void 0 !== i ? i : t;\n        try {\n          n = u(r);\n        } catch (t) {\n          if (e) throw N(r) ? new Error(\"atob-Error in jsPDF.convertBase64ToBinaryString \" + t.message) : new Error(\"Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString \");\n        }\n      }\n      return n;\n    };\n  e.getImageProperties = function (t) {\n    var n,\n      a,\n      o = \"\";\n    if (d(t) && (t = p(t)), \"string\" == typeof t && i(t) === r && (\"\" === (o = k(t, !1)) && (o = e.loadFile(t) || \"\"), t = o), a = i(t), !f(a)) throw new Error(\"addImage does not support files of type '\" + a + \"', please ensure that a plugin for '\" + a + \"' support is added.\");\n    if (!A() || t instanceof Uint8Array || (t = S(t)), !(n = this[\"process\" + a.toUpperCase()](t))) throw new Error(\"An unknown error occurred whilst processing the image\");\n    return n.fileType = a, n;\n  };\n}(E.API),\n/**\n * @license\n * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e = function (t) {\n    if (void 0 !== t && \"\" != t) return !0;\n  };\n  E.API.events.push([\"addPage\", function (t) {\n    this.internal.getPageInfo(t.pageNumber).pageContext.annotations = [];\n  }]), t.events.push([\"putPage\", function (t) {\n    for (var r, n, i, a = this.internal.getCoordinateString, o = this.internal.getVerticalCoordinateString, s = this.internal.getPageInfoByObjId(t.objId), c = t.pageContext.annotations, u = !1, h = 0; h < c.length && !u; h++) switch ((r = c[h]).type) {\n      case \"link\":\n        (e(r.options.url) || e(r.options.pageNumber)) && (u = !0);\n        break;\n      case \"reference\":\n      case \"text\":\n      case \"freetext\":\n        u = !0;\n    }\n    if (0 != u) {\n      this.internal.write(\"/Annots [\");\n      for (var l = 0; l < c.length; l++) {\n        r = c[l];\n        var f = this.internal.pdfEscape,\n          d = this.internal.getEncryptor(t.objId);\n        switch (r.type) {\n          case \"reference\":\n            this.internal.write(\" \" + r.object.objId + \" 0 R \");\n            break;\n          case \"text\":\n            var p = this.internal.newAdditionalObject(),\n              g = this.internal.newAdditionalObject(),\n              m = this.internal.getEncryptor(p.objId),\n              v = r.title || \"Note\";\n            i = \"<</Type /Annot /Subtype /Text \" + (n = \"/Rect [\" + a(r.bounds.x) + \" \" + o(r.bounds.y + r.bounds.h) + \" \" + a(r.bounds.x + r.bounds.w) + \" \" + o(r.bounds.y) + \"] \") + \"/Contents (\" + f(m(r.contents)) + \")\", i += \" /Popup \" + g.objId + \" 0 R\", i += \" /P \" + s.objId + \" 0 R\", i += \" /T (\" + f(m(v)) + \") >>\", p.content = i;\n            var b = p.objId + \" 0 R\";\n            i = \"<</Type /Annot /Subtype /Popup \" + (n = \"/Rect [\" + a(r.bounds.x + 30) + \" \" + o(r.bounds.y + r.bounds.h) + \" \" + a(r.bounds.x + r.bounds.w + 30) + \" \" + o(r.bounds.y) + \"] \") + \" /Parent \" + b, r.open && (i += \" /Open true\"), i += \" >>\", g.content = i, this.internal.write(p.objId, \"0 R\", g.objId, \"0 R\");\n            break;\n          case \"freetext\":\n            n = \"/Rect [\" + a(r.bounds.x) + \" \" + o(r.bounds.y) + \" \" + a(r.bounds.x + r.bounds.w) + \" \" + o(r.bounds.y + r.bounds.h) + \"] \";\n            var y = r.color || \"#000000\";\n            i = \"<</Type /Annot /Subtype /FreeText \" + n + \"/Contents (\" + f(d(r.contents)) + \")\", i += \" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#\" + y + \")\", i += \" /Border [0 0 0]\", i += \" >>\", this.internal.write(i);\n            break;\n          case \"link\":\n            if (r.options.name) {\n              var w = this.annotations._nameMap[r.options.name];\n              r.options.pageNumber = w.page, r.options.top = w.y;\n            } else r.options.top || (r.options.top = 0);\n            if (n = \"/Rect [\" + r.finalBounds.x + \" \" + r.finalBounds.y + \" \" + r.finalBounds.w + \" \" + r.finalBounds.h + \"] \", i = \"\", r.options.url) i = \"<</Type /Annot /Subtype /Link \" + n + \"/Border [0 0 0] /A <</S /URI /URI (\" + f(d(r.options.url)) + \") >>\";else if (r.options.pageNumber) {\n              switch (i = \"<</Type /Annot /Subtype /Link \" + n + \"/Border [0 0 0] /Dest [\" + this.internal.getPageInfo(r.options.pageNumber).objId + \" 0 R\", r.options.magFactor = r.options.magFactor || \"XYZ\", r.options.magFactor) {\n                case \"Fit\":\n                  i += \" /Fit]\";\n                  break;\n                case \"FitH\":\n                  i += \" /FitH \" + r.options.top + \"]\";\n                  break;\n                case \"FitV\":\n                  r.options.left = r.options.left || 0, i += \" /FitV \" + r.options.left + \"]\";\n                  break;\n                case \"XYZ\":\n                default:\n                  var N = o(r.options.top);\n                  r.options.left = r.options.left || 0, void 0 === r.options.zoom && (r.options.zoom = 0), i += \" /XYZ \" + r.options.left + \" \" + N + \" \" + r.options.zoom + \"]\";\n              }\n            }\n            \"\" != i && (i += \" >>\", this.internal.write(i));\n        }\n      }\n      this.internal.write(\"]\");\n    }\n  }]), t.createAnnotation = function (t) {\n    var e = this.internal.getCurrentPageInfo();\n    switch (t.type) {\n      case \"link\":\n        this.link(t.bounds.x, t.bounds.y, t.bounds.w, t.bounds.h, t);\n        break;\n      case \"text\":\n      case \"freetext\":\n        e.pageContext.annotations.push(t);\n    }\n  }, t.link = function (t, e, r, n, i) {\n    var a = this.internal.getCurrentPageInfo(),\n      o = this.internal.getCoordinateString,\n      s = this.internal.getVerticalCoordinateString;\n    a.pageContext.annotations.push({\n      finalBounds: {\n        x: o(t),\n        y: s(e),\n        w: o(t + r),\n        h: s(e + n)\n      },\n      options: i,\n      type: \"link\"\n    });\n  }, t.textWithLink = function (t, e, r, n) {\n    var i,\n      a,\n      o = this.getTextWidth(t),\n      s = this.internal.getLineHeight() / this.internal.scaleFactor;\n    if (void 0 !== n.maxWidth) {\n      a = n.maxWidth;\n      var c = this.splitTextToSize(t, a).length;\n      i = Math.ceil(s * c);\n    } else a = o, i = s;\n    return this.text(t, e, r, n), r += .2 * s, \"center\" === n.align && (e -= o / 2), \"right\" === n.align && (e -= o), this.link(e, r - s, a, i, n), o;\n  }, t.getTextWidth = function (t) {\n    var e = this.internal.getFontSize();\n    return this.getStringUnitWidth(t) * e / this.internal.scaleFactor;\n  };\n}(E.API),\n/**\n * @license\n * Copyright (c) 2017 Aras Abbasi\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e = {\n      1569: [65152],\n      1570: [65153, 65154],\n      1571: [65155, 65156],\n      1572: [65157, 65158],\n      1573: [65159, 65160],\n      1574: [65161, 65162, 65163, 65164],\n      1575: [65165, 65166],\n      1576: [65167, 65168, 65169, 65170],\n      1577: [65171, 65172],\n      1578: [65173, 65174, 65175, 65176],\n      1579: [65177, 65178, 65179, 65180],\n      1580: [65181, 65182, 65183, 65184],\n      1581: [65185, 65186, 65187, 65188],\n      1582: [65189, 65190, 65191, 65192],\n      1583: [65193, 65194],\n      1584: [65195, 65196],\n      1585: [65197, 65198],\n      1586: [65199, 65200],\n      1587: [65201, 65202, 65203, 65204],\n      1588: [65205, 65206, 65207, 65208],\n      1589: [65209, 65210, 65211, 65212],\n      1590: [65213, 65214, 65215, 65216],\n      1591: [65217, 65218, 65219, 65220],\n      1592: [65221, 65222, 65223, 65224],\n      1593: [65225, 65226, 65227, 65228],\n      1594: [65229, 65230, 65231, 65232],\n      1601: [65233, 65234, 65235, 65236],\n      1602: [65237, 65238, 65239, 65240],\n      1603: [65241, 65242, 65243, 65244],\n      1604: [65245, 65246, 65247, 65248],\n      1605: [65249, 65250, 65251, 65252],\n      1606: [65253, 65254, 65255, 65256],\n      1607: [65257, 65258, 65259, 65260],\n      1608: [65261, 65262],\n      1609: [65263, 65264, 64488, 64489],\n      1610: [65265, 65266, 65267, 65268],\n      1649: [64336, 64337],\n      1655: [64477],\n      1657: [64358, 64359, 64360, 64361],\n      1658: [64350, 64351, 64352, 64353],\n      1659: [64338, 64339, 64340, 64341],\n      1662: [64342, 64343, 64344, 64345],\n      1663: [64354, 64355, 64356, 64357],\n      1664: [64346, 64347, 64348, 64349],\n      1667: [64374, 64375, 64376, 64377],\n      1668: [64370, 64371, 64372, 64373],\n      1670: [64378, 64379, 64380, 64381],\n      1671: [64382, 64383, 64384, 64385],\n      1672: [64392, 64393],\n      1676: [64388, 64389],\n      1677: [64386, 64387],\n      1678: [64390, 64391],\n      1681: [64396, 64397],\n      1688: [64394, 64395],\n      1700: [64362, 64363, 64364, 64365],\n      1702: [64366, 64367, 64368, 64369],\n      1705: [64398, 64399, 64400, 64401],\n      1709: [64467, 64468, 64469, 64470],\n      1711: [64402, 64403, 64404, 64405],\n      1713: [64410, 64411, 64412, 64413],\n      1715: [64406, 64407, 64408, 64409],\n      1722: [64414, 64415],\n      1723: [64416, 64417, 64418, 64419],\n      1726: [64426, 64427, 64428, 64429],\n      1728: [64420, 64421],\n      1729: [64422, 64423, 64424, 64425],\n      1733: [64480, 64481],\n      1734: [64473, 64474],\n      1735: [64471, 64472],\n      1736: [64475, 64476],\n      1737: [64482, 64483],\n      1739: [64478, 64479],\n      1740: [64508, 64509, 64510, 64511],\n      1744: [64484, 64485, 64486, 64487],\n      1746: [64430, 64431],\n      1747: [64432, 64433]\n    },\n    r = {\n      65247: {\n        65154: 65269,\n        65156: 65271,\n        65160: 65273,\n        65166: 65275\n      },\n      65248: {\n        65154: 65270,\n        65156: 65272,\n        65160: 65274,\n        65166: 65276\n      },\n      65165: {\n        65247: {\n          65248: {\n            65258: 65010\n          }\n        }\n      },\n      1617: {\n        1612: 64606,\n        1613: 64607,\n        1614: 64608,\n        1615: 64609,\n        1616: 64610\n      }\n    },\n    n = {\n      1612: 64606,\n      1613: 64607,\n      1614: 64608,\n      1615: 64609,\n      1616: 64610\n    },\n    i = [1570, 1571, 1573, 1575];\n  t.__arabicParser__ = {};\n  var a = t.__arabicParser__.isInArabicSubstitutionA = function (t) {\n      return void 0 !== e[t.charCodeAt(0)];\n    },\n    o = t.__arabicParser__.isArabicLetter = function (t) {\n      return \"string\" == typeof t && /^[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFF]+$/.test(t);\n    },\n    s = t.__arabicParser__.isArabicEndLetter = function (t) {\n      return o(t) && a(t) && e[t.charCodeAt(0)].length <= 2;\n    },\n    c = t.__arabicParser__.isArabicAlfLetter = function (t) {\n      return o(t) && i.indexOf(t.charCodeAt(0)) >= 0;\n    };\n  t.__arabicParser__.arabicLetterHasIsolatedForm = function (t) {\n    return o(t) && a(t) && e[t.charCodeAt(0)].length >= 1;\n  };\n  var u = t.__arabicParser__.arabicLetterHasFinalForm = function (t) {\n    return o(t) && a(t) && e[t.charCodeAt(0)].length >= 2;\n  };\n  t.__arabicParser__.arabicLetterHasInitialForm = function (t) {\n    return o(t) && a(t) && e[t.charCodeAt(0)].length >= 3;\n  };\n  var h = t.__arabicParser__.arabicLetterHasMedialForm = function (t) {\n      return o(t) && a(t) && 4 == e[t.charCodeAt(0)].length;\n    },\n    l = t.__arabicParser__.resolveLigatures = function (t) {\n      var e = 0,\n        n = r,\n        i = \"\",\n        a = 0;\n      for (e = 0; e < t.length; e += 1) void 0 !== n[t.charCodeAt(e)] ? (a++, \"number\" == typeof (n = n[t.charCodeAt(e)]) && (i += String.fromCharCode(n), n = r, a = 0), e === t.length - 1 && (n = r, i += t.charAt(e - (a - 1)), e -= a - 1, a = 0)) : (n = r, i += t.charAt(e - a), e -= a, a = 0);\n      return i;\n    };\n  t.__arabicParser__.isArabicDiacritic = function (t) {\n    return void 0 !== t && void 0 !== n[t.charCodeAt(0)];\n  };\n  var f = t.__arabicParser__.getCorrectForm = function (t, e, r) {\n      return o(t) ? !1 === a(t) ? -1 : !u(t) || !o(e) && !o(r) || !o(r) && s(e) || s(t) && !o(e) || s(t) && c(e) || s(t) && s(e) ? 0 : h(t) && o(e) && !s(e) && o(r) && u(r) ? 3 : s(t) || !o(r) ? 1 : 2 : -1;\n    },\n    d = function (t) {\n      var r = 0,\n        n = 0,\n        i = 0,\n        a = \"\",\n        s = \"\",\n        c = \"\",\n        u = (t = t || \"\").split(\"\\\\s+\"),\n        h = [];\n      for (r = 0; r < u.length; r += 1) {\n        for (h.push(\"\"), n = 0; n < u[r].length; n += 1) a = u[r][n], s = u[r][n - 1], c = u[r][n + 1], o(a) ? (i = f(a, s, c), h[r] += -1 !== i ? String.fromCharCode(e[a.charCodeAt(0)][i]) : a) : h[r] += a;\n        h[r] = l(h[r]);\n      }\n      return h.join(\" \");\n    },\n    p = t.__arabicParser__.processArabic = t.processArabic = function () {\n      var t,\n        e = \"string\" == typeof arguments[0] ? arguments[0] : arguments[0].text,\n        r = [];\n      if (Array.isArray(e)) {\n        var n = 0;\n        for (r = [], n = 0; n < e.length; n += 1) Array.isArray(e[n]) ? r.push([d(e[n][0]), e[n][1], e[n][2]]) : r.push([d(e[n])]);\n        t = r;\n      } else t = d(e);\n      return \"string\" == typeof arguments[0] ? t : (arguments[0].text = t, arguments[0]);\n    };\n  t.events.push([\"preProcessText\", p]);\n}(E.API), E.API.autoPrint = function (t) {\n  var e;\n  switch ((t = t || {}).variant = t.variant || \"non-conform\", t.variant) {\n    case \"javascript\":\n      this.addJS(\"print({});\");\n      break;\n    case \"non-conform\":\n    default:\n      this.internal.events.subscribe(\"postPutResources\", function () {\n        e = this.internal.newObject(), this.internal.out(\"<<\"), this.internal.out(\"/S /Named\"), this.internal.out(\"/Type /Action\"), this.internal.out(\"/N /Print\"), this.internal.out(\">>\"), this.internal.out(\"endobj\");\n      }), this.internal.events.subscribe(\"putCatalog\", function () {\n        this.internal.out(\"/OpenAction \" + e + \" 0 R\");\n      });\n  }\n  return this;\n},\n/**\n * @license\n * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e = function () {\n    var t = void 0;\n    Object.defineProperty(this, \"pdf\", {\n      get: function () {\n        return t;\n      },\n      set: function (e) {\n        t = e;\n      }\n    });\n    var e = 150;\n    Object.defineProperty(this, \"width\", {\n      get: function () {\n        return e;\n      },\n      set: function (t) {\n        e = isNaN(t) || !1 === Number.isInteger(t) || t < 0 ? 150 : t, this.getContext(\"2d\").pageWrapXEnabled && (this.getContext(\"2d\").pageWrapX = e + 1);\n      }\n    });\n    var r = 300;\n    Object.defineProperty(this, \"height\", {\n      get: function () {\n        return r;\n      },\n      set: function (t) {\n        r = isNaN(t) || !1 === Number.isInteger(t) || t < 0 ? 300 : t, this.getContext(\"2d\").pageWrapYEnabled && (this.getContext(\"2d\").pageWrapY = r + 1);\n      }\n    });\n    var n = [];\n    Object.defineProperty(this, \"childNodes\", {\n      get: function () {\n        return n;\n      },\n      set: function (t) {\n        n = t;\n      }\n    });\n    var i = {};\n    Object.defineProperty(this, \"style\", {\n      get: function () {\n        return i;\n      },\n      set: function (t) {\n        i = t;\n      }\n    }), Object.defineProperty(this, \"parentNode\", {});\n  };\n  e.prototype.getContext = function (t, e) {\n    var r;\n    if (\"2d\" !== (t = t || \"2d\")) return null;\n    for (r in e) this.pdf.context2d.hasOwnProperty(r) && (this.pdf.context2d[r] = e[r]);\n    return this.pdf.context2d._canvas = this, this.pdf.context2d;\n  }, e.prototype.toDataURL = function () {\n    throw new Error(\"toDataURL is not implemented.\");\n  }, t.events.push([\"initialized\", function () {\n    this.canvas = new e(), this.canvas.pdf = this;\n  }]);\n}(E.API), function (e) {\n  var r = {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      right: 0\n    },\n    n = !1,\n    i = function () {\n      void 0 === this.internal.__cell__ && (this.internal.__cell__ = {}, this.internal.__cell__.padding = 3, this.internal.__cell__.headerFunction = void 0, this.internal.__cell__.margins = Object.assign({}, r), this.internal.__cell__.margins.width = this.getPageWidth(), a.call(this));\n    },\n    a = function () {\n      this.internal.__cell__.lastCell = new o(), this.internal.__cell__.pages = 1;\n    },\n    o = function () {\n      var t = arguments[0];\n      Object.defineProperty(this, \"x\", {\n        enumerable: !0,\n        get: function () {\n          return t;\n        },\n        set: function (e) {\n          t = e;\n        }\n      });\n      var e = arguments[1];\n      Object.defineProperty(this, \"y\", {\n        enumerable: !0,\n        get: function () {\n          return e;\n        },\n        set: function (t) {\n          e = t;\n        }\n      });\n      var r = arguments[2];\n      Object.defineProperty(this, \"width\", {\n        enumerable: !0,\n        get: function () {\n          return r;\n        },\n        set: function (t) {\n          r = t;\n        }\n      });\n      var n = arguments[3];\n      Object.defineProperty(this, \"height\", {\n        enumerable: !0,\n        get: function () {\n          return n;\n        },\n        set: function (t) {\n          n = t;\n        }\n      });\n      var i = arguments[4];\n      Object.defineProperty(this, \"text\", {\n        enumerable: !0,\n        get: function () {\n          return i;\n        },\n        set: function (t) {\n          i = t;\n        }\n      });\n      var a = arguments[5];\n      Object.defineProperty(this, \"lineNumber\", {\n        enumerable: !0,\n        get: function () {\n          return a;\n        },\n        set: function (t) {\n          a = t;\n        }\n      });\n      var o = arguments[6];\n      return Object.defineProperty(this, \"align\", {\n        enumerable: !0,\n        get: function () {\n          return o;\n        },\n        set: function (t) {\n          o = t;\n        }\n      }), this;\n    };\n  o.prototype.clone = function () {\n    return new o(this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align);\n  }, o.prototype.toArray = function () {\n    return [this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align];\n  }, e.setHeaderFunction = function (t) {\n    return i.call(this), this.internal.__cell__.headerFunction = \"function\" == typeof t ? t : void 0, this;\n  }, e.getTextDimensions = function (t, e) {\n    i.call(this);\n    var r = (e = e || {}).fontSize || this.getFontSize(),\n      n = e.font || this.getFont(),\n      a = e.scaleFactor || this.internal.scaleFactor,\n      o = 0,\n      s = 0,\n      c = 0,\n      u = this;\n    if (!Array.isArray(t) && \"string\" != typeof t) {\n      if (\"number\" != typeof t) throw new Error(\"getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.\");\n      t = String(t);\n    }\n    var h = e.maxWidth;\n    h > 0 ? \"string\" == typeof t ? t = this.splitTextToSize(t, h) : \"[object Array]\" === Object.prototype.toString.call(t) && (t = t.reduce(function (t, e) {\n      return t.concat(u.splitTextToSize(e, h));\n    }, [])) : t = Array.isArray(t) ? t : [t];\n    for (var l = 0; l < t.length; l++) o < (c = this.getStringUnitWidth(t[l], {\n      font: n\n    }) * r) && (o = c);\n    return 0 !== o && (s = t.length), {\n      w: o /= a,\n      h: Math.max((s * r * this.getLineHeightFactor() - r * (this.getLineHeightFactor() - 1)) / a, 0)\n    };\n  }, e.cellAddPage = function () {\n    i.call(this), this.addPage();\n    var t = this.internal.__cell__.margins || r;\n    return this.internal.__cell__.lastCell = new o(t.left, t.top, void 0, void 0), this.internal.__cell__.pages += 1, this;\n  };\n  var s = e.cell = function () {\n    var t;\n    t = arguments[0] instanceof o ? arguments[0] : new o(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]), i.call(this);\n    var e = this.internal.__cell__.lastCell,\n      a = this.internal.__cell__.padding,\n      s = this.internal.__cell__.margins || r,\n      c = this.internal.__cell__.tableHeaderRow,\n      u = this.internal.__cell__.printHeaders;\n    return void 0 !== e.lineNumber && (e.lineNumber === t.lineNumber ? (t.x = (e.x || 0) + (e.width || 0), t.y = e.y || 0) : e.y + e.height + t.height + s.bottom > this.getPageHeight() ? (this.cellAddPage(), t.y = s.top, u && c && (this.printHeaderRow(t.lineNumber, !0), t.y += c[0].height)) : t.y = e.y + e.height || t.y), void 0 !== t.text[0] && (this.rect(t.x, t.y, t.width, t.height, !0 === n ? \"FD\" : void 0), \"right\" === t.align ? this.text(t.text, t.x + t.width - a, t.y + a, {\n      align: \"right\",\n      baseline: \"top\"\n    }) : \"center\" === t.align ? this.text(t.text, t.x + t.width / 2, t.y + a, {\n      align: \"center\",\n      baseline: \"top\",\n      maxWidth: t.width - a - a\n    }) : this.text(t.text, t.x + a, t.y + a, {\n      align: \"left\",\n      baseline: \"top\",\n      maxWidth: t.width - a - a\n    })), this.internal.__cell__.lastCell = t, this;\n  };\n  e.table = function (e, n, u, h, l) {\n    if (i.call(this), !u) throw new Error(\"No data for PDF table.\");\n    var f,\n      d,\n      p,\n      g,\n      m = [],\n      v = [],\n      b = [],\n      y = {},\n      w = {},\n      N = [],\n      L = [],\n      A = (l = l || {}).autoSize || !1,\n      x = !1 !== l.printHeaders,\n      S = l.css && void 0 !== l.css[\"font-size\"] ? 16 * l.css[\"font-size\"] : l.fontSize || 12,\n      _ = l.margins || Object.assign({\n        width: this.getPageWidth()\n      }, r),\n      P = \"number\" == typeof l.padding ? l.padding : 3,\n      k = l.headerBackgroundColor || \"#c8c8c8\",\n      I = l.headerTextColor || \"#000\";\n    if (a.call(this), this.internal.__cell__.printHeaders = x, this.internal.__cell__.margins = _, this.internal.__cell__.table_font_size = S, this.internal.__cell__.padding = P, this.internal.__cell__.headerBackgroundColor = k, this.internal.__cell__.headerTextColor = I, this.setFontSize(S), null == h) v = m = Object.keys(u[0]), b = m.map(function () {\n      return \"left\";\n    });else if (Array.isArray(h) && \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(h[0])) for (m = h.map(function (t) {\n      return t.name;\n    }), v = h.map(function (t) {\n      return t.prompt || t.name || \"\";\n    }), b = h.map(function (t) {\n      return t.align || \"left\";\n    }), f = 0; f < h.length; f += 1) w[h[f].name] = h[f].width * (19.049976 / 25.4);else Array.isArray(h) && \"string\" == typeof h[0] && (v = m = h, b = m.map(function () {\n      return \"left\";\n    }));\n    if (A || Array.isArray(h) && \"string\" == typeof h[0]) for (f = 0; f < m.length; f += 1) {\n      for (y[g = m[f]] = u.map(function (t) {\n        return t[g];\n      }), this.setFont(void 0, \"bold\"), N.push(this.getTextDimensions(v[f], {\n        fontSize: this.internal.__cell__.table_font_size,\n        scaleFactor: this.internal.scaleFactor\n      }).w), d = y[g], this.setFont(void 0, \"normal\"), p = 0; p < d.length; p += 1) N.push(this.getTextDimensions(d[p], {\n        fontSize: this.internal.__cell__.table_font_size,\n        scaleFactor: this.internal.scaleFactor\n      }).w);\n      w[g] = Math.max.apply(null, N) + P + P, N = [];\n    }\n    if (x) {\n      var F = {};\n      for (f = 0; f < m.length; f += 1) F[m[f]] = {}, F[m[f]].text = v[f], F[m[f]].align = b[f];\n      var C = c.call(this, F, w);\n      L = m.map(function (t) {\n        return new o(e, n, w[t], C, F[t].text, void 0, F[t].align);\n      }), this.setTableHeaderRow(L), this.printHeaderRow(1, !1);\n    }\n    var j = h.reduce(function (t, e) {\n      return t[e.name] = e.align, t;\n    }, {});\n    for (f = 0; f < u.length; f += 1) {\n      \"rowStart\" in l && l.rowStart instanceof Function && l.rowStart({\n        row: f,\n        data: u[f]\n      }, this);\n      var O = c.call(this, u[f], w);\n      for (p = 0; p < m.length; p += 1) {\n        var B = u[f][m[p]];\n        \"cellStart\" in l && l.cellStart instanceof Function && l.cellStart({\n          row: f,\n          col: p,\n          data: B\n        }, this), s.call(this, new o(e, n, w[m[p]], O, B, f + 2, j[m[p]]));\n      }\n    }\n    return this.internal.__cell__.table_x = e, this.internal.__cell__.table_y = n, this;\n  };\n  var c = function (t, e) {\n    var r = this.internal.__cell__.padding,\n      n = this.internal.__cell__.table_font_size,\n      i = this.internal.scaleFactor;\n    return Object.keys(t).map(function (n) {\n      var i = t[n];\n      return this.splitTextToSize(i.hasOwnProperty(\"text\") ? i.text : i, e[n] - r - r);\n    }, this).map(function (t) {\n      return this.getLineHeightFactor() * t.length * n / i + r + r;\n    }, this).reduce(function (t, e) {\n      return Math.max(t, e);\n    }, 0);\n  };\n  e.setTableHeaderRow = function (t) {\n    i.call(this), this.internal.__cell__.tableHeaderRow = t;\n  }, e.printHeaderRow = function (t, e) {\n    if (i.call(this), !this.internal.__cell__.tableHeaderRow) throw new Error(\"Property tableHeaderRow does not exist.\");\n    var r;\n    if (n = !0, \"function\" == typeof this.internal.__cell__.headerFunction) {\n      var a = this.internal.__cell__.headerFunction(this, this.internal.__cell__.pages);\n      this.internal.__cell__.lastCell = new o(a[0], a[1], a[2], a[3], void 0, -1);\n    }\n    this.setFont(void 0, \"bold\");\n    for (var c = [], u = 0; u < this.internal.__cell__.tableHeaderRow.length; u += 1) {\n      r = this.internal.__cell__.tableHeaderRow[u].clone(), e && (r.y = this.internal.__cell__.margins.top || 0, c.push(r)), r.lineNumber = t;\n      var h = this.getTextColor();\n      this.setTextColor(this.internal.__cell__.headerTextColor), this.setFillColor(this.internal.__cell__.headerBackgroundColor), s.call(this, r), this.setTextColor(h);\n    }\n    c.length > 0 && this.setTableHeaderRow(c), this.setFont(void 0, \"normal\"), n = !1;\n  };\n}(E.API);\nvar Pt = {\n    italic: [\"italic\", \"oblique\", \"normal\"],\n    oblique: [\"oblique\", \"italic\", \"normal\"],\n    normal: [\"normal\", \"oblique\", \"italic\"]\n  },\n  kt = [\"ultra-condensed\", \"extra-condensed\", \"condensed\", \"semi-condensed\", \"normal\", \"semi-expanded\", \"expanded\", \"extra-expanded\", \"ultra-expanded\"],\n  It = _t(kt),\n  Ft = [100, 200, 300, 400, 500, 600, 700, 800, 900],\n  Ct = _t(Ft);\nfunction jt(t) {\n  var e = t.family.replace(/\"|'/g, \"\").toLowerCase(),\n    r = function (t) {\n      return Pt[t = t || \"normal\"] ? t : \"normal\";\n    }(t.style),\n    n = function (t) {\n      if (!t) return 400;\n      if (\"number\" == typeof t) return t >= 100 && t <= 900 && t % 100 == 0 ? t : 400;\n      if (/^\\d00$/.test(t)) return parseInt(t);\n      switch (t) {\n        case \"bold\":\n          return 700;\n        case \"normal\":\n        default:\n          return 400;\n      }\n    }(t.weight),\n    i = function (t) {\n      return \"number\" == typeof It[t = t || \"normal\"] ? t : \"normal\";\n    }(t.stretch);\n  return {\n    family: e,\n    style: r,\n    weight: n,\n    stretch: i,\n    src: t.src || [],\n    ref: t.ref || {\n      name: e,\n      style: [i, r, n].join(\" \")\n    }\n  };\n}\nfunction Ot(t, e, r, n) {\n  var i;\n  for (i = r; i >= 0 && i < e.length; i += n) if (t[e[i]]) return t[e[i]];\n  for (i = r; i >= 0 && i < e.length; i -= n) if (t[e[i]]) return t[e[i]];\n}\nvar Bt = {\n    \"sans-serif\": \"helvetica\",\n    fixed: \"courier\",\n    monospace: \"courier\",\n    terminal: \"courier\",\n    cursive: \"times\",\n    fantasy: \"times\",\n    serif: \"times\"\n  },\n  Mt = {\n    caption: \"times\",\n    icon: \"times\",\n    menu: \"times\",\n    \"message-box\": \"times\",\n    \"small-caption\": \"times\",\n    \"status-bar\": \"times\"\n  };\nfunction Et(t) {\n  return [t.stretch, t.style, t.weight, t.family].join(\" \");\n}\nfunction qt(t, e, r) {\n  for (var n = (r = r || {}).defaultFontFamily || \"times\", i = Object.assign({}, Bt, r.genericFontFamilies || {}), a = null, o = null, s = 0; s < e.length; ++s) if (i[(a = jt(e[s])).family] && (a.family = i[a.family]), t.hasOwnProperty(a.family)) {\n    o = t[a.family];\n    break;\n  }\n  if (!(o = o || t[n])) throw new Error(\"Could not find a font-family for the rule '\" + Et(a) + \"' and default family '\" + n + \"'.\");\n  if (o = function (t, e) {\n    if (e[t]) return e[t];\n    var r = It[t],\n      n = r <= It.normal ? -1 : 1,\n      i = Ot(e, kt, r, n);\n    if (!i) throw new Error(\"Could not find a matching font-stretch value for \" + t);\n    return i;\n  }(a.stretch, o), o = function (t, e) {\n    if (e[t]) return e[t];\n    for (var r = Pt[t], n = 0; n < r.length; ++n) if (e[r[n]]) return e[r[n]];\n    throw new Error(\"Could not find a matching font-style for \" + t);\n  }(a.style, o), !(o = function (t, e) {\n    if (e[t]) return e[t];\n    if (400 === t && e[500]) return e[500];\n    if (500 === t && e[400]) return e[400];\n    var r = Ct[t],\n      n = Ot(e, Ft, r, t < 400 ? -1 : 1);\n    if (!n) throw new Error(\"Could not find a matching font-weight for value \" + t);\n    return n;\n  }(a.weight, o))) throw new Error(\"Failed to resolve a font for the rule '\" + Et(a) + \"'.\");\n  return o;\n}\nfunction Dt(t) {\n  return t.trimLeft();\n}\nfunction Rt(t, e) {\n  for (var r = 0; r < t.length;) {\n    if (t.charAt(r) === e) return [t.substring(0, r), t.substring(r + 1)];\n    r += 1;\n  }\n  return null;\n}\nfunction Tt(t) {\n  var e = t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);\n  return null === e ? null : [e[0], t.substring(e[0].length)];\n}\nvar Ut,\n  zt,\n  Ht,\n  Wt = [\"times\"];\n!function (e) {\n  var r,\n    n,\n    i,\n    o,\n    s,\n    c,\n    u,\n    h,\n    l,\n    d = function (t) {\n      return t = t || {}, this.isStrokeTransparent = t.isStrokeTransparent || !1, this.strokeOpacity = t.strokeOpacity || 1, this.strokeStyle = t.strokeStyle || \"#000000\", this.fillStyle = t.fillStyle || \"#000000\", this.isFillTransparent = t.isFillTransparent || !1, this.fillOpacity = t.fillOpacity || 1, this.font = t.font || \"10px sans-serif\", this.textBaseline = t.textBaseline || \"alphabetic\", this.textAlign = t.textAlign || \"left\", this.lineWidth = t.lineWidth || 1, this.lineJoin = t.lineJoin || \"miter\", this.lineCap = t.lineCap || \"butt\", this.path = t.path || [], this.transform = void 0 !== t.transform ? t.transform.clone() : new h(), this.globalCompositeOperation = t.globalCompositeOperation || \"normal\", this.globalAlpha = t.globalAlpha || 1, this.clip_path = t.clip_path || [], this.currentPoint = t.currentPoint || new c(), this.miterLimit = t.miterLimit || 10, this.lastPoint = t.lastPoint || new c(), this.lineDashOffset = t.lineDashOffset || 0, this.lineDash = t.lineDash || [], this.margin = t.margin || [0, 0, 0, 0], this.prevPageLastElemOffset = t.prevPageLastElemOffset || 0, this.ignoreClearRect = \"boolean\" != typeof t.ignoreClearRect || t.ignoreClearRect, this;\n    };\n  e.events.push([\"initialized\", function () {\n    this.context2d = new p(this), r = this.internal.f2, n = this.internal.getCoordinateString, i = this.internal.getVerticalCoordinateString, o = this.internal.getHorizontalCoordinate, s = this.internal.getVerticalCoordinate, c = this.internal.Point, u = this.internal.Rectangle, h = this.internal.Matrix, l = new d();\n  }]);\n  var p = function (t) {\n    Object.defineProperty(this, \"canvas\", {\n      get: function () {\n        return {\n          parentNode: !1,\n          style: !1\n        };\n      }\n    });\n    var e = t;\n    Object.defineProperty(this, \"pdf\", {\n      get: function () {\n        return e;\n      }\n    });\n    var r = !1;\n    Object.defineProperty(this, \"pageWrapXEnabled\", {\n      get: function () {\n        return r;\n      },\n      set: function (t) {\n        r = Boolean(t);\n      }\n    });\n    var n = !1;\n    Object.defineProperty(this, \"pageWrapYEnabled\", {\n      get: function () {\n        return n;\n      },\n      set: function (t) {\n        n = Boolean(t);\n      }\n    });\n    var i = 0;\n    Object.defineProperty(this, \"posX\", {\n      get: function () {\n        return i;\n      },\n      set: function (t) {\n        isNaN(t) || (i = t);\n      }\n    });\n    var a = 0;\n    Object.defineProperty(this, \"posY\", {\n      get: function () {\n        return a;\n      },\n      set: function (t) {\n        isNaN(t) || (a = t);\n      }\n    }), Object.defineProperty(this, \"margin\", {\n      get: function () {\n        return l.margin;\n      },\n      set: function (t) {\n        var e;\n        \"number\" == typeof t ? e = [t, t, t, t] : ((e = new Array(4))[0] = t[0], e[1] = t.length >= 2 ? t[1] : e[0], e[2] = t.length >= 3 ? t[2] : e[0], e[3] = t.length >= 4 ? t[3] : e[1]), l.margin = e;\n      }\n    });\n    var o = !1;\n    Object.defineProperty(this, \"autoPaging\", {\n      get: function () {\n        return o;\n      },\n      set: function (t) {\n        o = t;\n      }\n    });\n    var s = 0;\n    Object.defineProperty(this, \"lastBreak\", {\n      get: function () {\n        return s;\n      },\n      set: function (t) {\n        s = t;\n      }\n    });\n    var c = [];\n    Object.defineProperty(this, \"pageBreaks\", {\n      get: function () {\n        return c;\n      },\n      set: function (t) {\n        c = t;\n      }\n    }), Object.defineProperty(this, \"ctx\", {\n      get: function () {\n        return l;\n      },\n      set: function (t) {\n        t instanceof d && (l = t);\n      }\n    }), Object.defineProperty(this, \"path\", {\n      get: function () {\n        return l.path;\n      },\n      set: function (t) {\n        l.path = t;\n      }\n    });\n    var u = [];\n    Object.defineProperty(this, \"ctxStack\", {\n      get: function () {\n        return u;\n      },\n      set: function (t) {\n        u = t;\n      }\n    }), Object.defineProperty(this, \"fillStyle\", {\n      get: function () {\n        return this.ctx.fillStyle;\n      },\n      set: function (t) {\n        var e;\n        e = g(t), this.ctx.fillStyle = e.style, this.ctx.isFillTransparent = 0 === e.a, this.ctx.fillOpacity = e.a, this.pdf.setFillColor(e.r, e.g, e.b, {\n          a: e.a\n        }), this.pdf.setTextColor(e.r, e.g, e.b, {\n          a: e.a\n        });\n      }\n    }), Object.defineProperty(this, \"strokeStyle\", {\n      get: function () {\n        return this.ctx.strokeStyle;\n      },\n      set: function (t) {\n        var e = g(t);\n        this.ctx.strokeStyle = e.style, this.ctx.isStrokeTransparent = 0 === e.a, this.ctx.strokeOpacity = e.a, 0 === e.a ? this.pdf.setDrawColor(255, 255, 255) : (e.a, this.pdf.setDrawColor(e.r, e.g, e.b));\n      }\n    }), Object.defineProperty(this, \"lineCap\", {\n      get: function () {\n        return this.ctx.lineCap;\n      },\n      set: function (t) {\n        -1 !== [\"butt\", \"round\", \"square\"].indexOf(t) && (this.ctx.lineCap = t, this.pdf.setLineCap(t));\n      }\n    }), Object.defineProperty(this, \"lineWidth\", {\n      get: function () {\n        return this.ctx.lineWidth;\n      },\n      set: function (t) {\n        isNaN(t) || (this.ctx.lineWidth = t, this.pdf.setLineWidth(t));\n      }\n    }), Object.defineProperty(this, \"lineJoin\", {\n      get: function () {\n        return this.ctx.lineJoin;\n      },\n      set: function (t) {\n        -1 !== [\"bevel\", \"round\", \"miter\"].indexOf(t) && (this.ctx.lineJoin = t, this.pdf.setLineJoin(t));\n      }\n    }), Object.defineProperty(this, \"miterLimit\", {\n      get: function () {\n        return this.ctx.miterLimit;\n      },\n      set: function (t) {\n        isNaN(t) || (this.ctx.miterLimit = t, this.pdf.setMiterLimit(t));\n      }\n    }), Object.defineProperty(this, \"textBaseline\", {\n      get: function () {\n        return this.ctx.textBaseline;\n      },\n      set: function (t) {\n        this.ctx.textBaseline = t;\n      }\n    }), Object.defineProperty(this, \"textAlign\", {\n      get: function () {\n        return this.ctx.textAlign;\n      },\n      set: function (t) {\n        -1 !== [\"right\", \"end\", \"center\", \"left\", \"start\"].indexOf(t) && (this.ctx.textAlign = t);\n      }\n    });\n    var h = null;\n    function f(t, e) {\n      if (null === h) {\n        var r = function (t) {\n          var e = [];\n          return Object.keys(t).forEach(function (r) {\n            t[r].forEach(function (t) {\n              var n = null;\n              switch (t) {\n                case \"bold\":\n                  n = {\n                    family: r,\n                    weight: \"bold\"\n                  };\n                  break;\n                case \"italic\":\n                  n = {\n                    family: r,\n                    style: \"italic\"\n                  };\n                  break;\n                case \"bolditalic\":\n                  n = {\n                    family: r,\n                    weight: \"bold\",\n                    style: \"italic\"\n                  };\n                  break;\n                case \"\":\n                case \"normal\":\n                  n = {\n                    family: r\n                  };\n              }\n              null !== n && (n.ref = {\n                name: r,\n                style: t\n              }, e.push(n));\n            });\n          }), e;\n        }(t.getFontList());\n        h = function (t) {\n          for (var e = {}, r = 0; r < t.length; ++r) {\n            var n = jt(t[r]),\n              i = n.family,\n              a = n.stretch,\n              o = n.style,\n              s = n.weight;\n            e[i] = e[i] || {}, e[i][a] = e[i][a] || {}, e[i][a][o] = e[i][a][o] || {}, e[i][a][o][s] = n;\n          }\n          return e;\n        }(r.concat(e));\n      }\n      return h;\n    }\n    var p = null;\n    Object.defineProperty(this, \"fontFaces\", {\n      get: function () {\n        return p;\n      },\n      set: function (t) {\n        h = null, p = t;\n      }\n    }), Object.defineProperty(this, \"font\", {\n      get: function () {\n        return this.ctx.font;\n      },\n      set: function (t) {\n        var e;\n        if (this.ctx.font = t, null !== (e = /^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])))?\\s*([-_,\\\"\\'\\sa-z]+?)\\s*$/i.exec(t))) {\n          var r = e[1];\n          e[2];\n          var n = e[3],\n            i = e[4];\n          e[5];\n          var a = e[6],\n            o = /^([.\\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];\n          i = \"px\" === o ? Math.floor(parseFloat(i) * this.pdf.internal.scaleFactor) : \"em\" === o ? Math.floor(parseFloat(i) * this.pdf.getFontSize()) : Math.floor(parseFloat(i) * this.pdf.internal.scaleFactor), this.pdf.setFontSize(i);\n          var s = function (t) {\n            var e,\n              r,\n              n = [],\n              i = t.trim();\n            if (\"\" === i) return Wt;\n            if (i in Mt) return [Mt[i]];\n            for (; \"\" !== i;) {\n              switch (r = null, e = (i = Dt(i)).charAt(0)) {\n                case '\"':\n                case \"'\":\n                  r = Rt(i.substring(1), e);\n                  break;\n                default:\n                  r = Tt(i);\n              }\n              if (null === r) return Wt;\n              if (n.push(r[0]), \"\" !== (i = Dt(r[1])) && \",\" !== i.charAt(0)) return Wt;\n              i = i.replace(/^,/, \"\");\n            }\n            return n;\n          }(a);\n          if (this.fontFaces) {\n            var c = qt(f(this.pdf, this.fontFaces), s.map(function (t) {\n              return {\n                family: t,\n                stretch: \"normal\",\n                weight: n,\n                style: r\n              };\n            }));\n            this.pdf.setFont(c.ref.name, c.ref.style);\n          } else {\n            var u = \"\";\n            (\"bold\" === n || parseInt(n, 10) >= 700 || \"bold\" === r) && (u = \"bold\"), \"italic\" === r && (u += \"italic\"), 0 === u.length && (u = \"normal\");\n            for (var h = \"\", l = {\n                arial: \"Helvetica\",\n                Arial: \"Helvetica\",\n                verdana: \"Helvetica\",\n                Verdana: \"Helvetica\",\n                helvetica: \"Helvetica\",\n                Helvetica: \"Helvetica\",\n                \"sans-serif\": \"Helvetica\",\n                fixed: \"Courier\",\n                monospace: \"Courier\",\n                terminal: \"Courier\",\n                cursive: \"Times\",\n                fantasy: \"Times\",\n                serif: \"Times\"\n              }, d = 0; d < s.length; d++) {\n              if (void 0 !== this.pdf.internal.getFont(s[d], u, {\n                noFallback: !0,\n                disableWarning: !0\n              })) {\n                h = s[d];\n                break;\n              }\n              if (\"bolditalic\" === u && void 0 !== this.pdf.internal.getFont(s[d], \"bold\", {\n                noFallback: !0,\n                disableWarning: !0\n              })) h = s[d], u = \"bold\";else if (void 0 !== this.pdf.internal.getFont(s[d], \"normal\", {\n                noFallback: !0,\n                disableWarning: !0\n              })) {\n                h = s[d], u = \"normal\";\n                break;\n              }\n            }\n            if (\"\" === h) for (var p = 0; p < s.length; p++) if (l[s[p]]) {\n              h = l[s[p]];\n              break;\n            }\n            h = \"\" === h ? \"Times\" : h, this.pdf.setFont(h, u);\n          }\n        }\n      }\n    }), Object.defineProperty(this, \"globalCompositeOperation\", {\n      get: function () {\n        return this.ctx.globalCompositeOperation;\n      },\n      set: function (t) {\n        this.ctx.globalCompositeOperation = t;\n      }\n    }), Object.defineProperty(this, \"globalAlpha\", {\n      get: function () {\n        return this.ctx.globalAlpha;\n      },\n      set: function (t) {\n        this.ctx.globalAlpha = t;\n      }\n    }), Object.defineProperty(this, \"lineDashOffset\", {\n      get: function () {\n        return this.ctx.lineDashOffset;\n      },\n      set: function (t) {\n        this.ctx.lineDashOffset = t, T.call(this);\n      }\n    }), Object.defineProperty(this, \"lineDash\", {\n      get: function () {\n        return this.ctx.lineDash;\n      },\n      set: function (t) {\n        this.ctx.lineDash = t, T.call(this);\n      }\n    }), Object.defineProperty(this, \"ignoreClearRect\", {\n      get: function () {\n        return this.ctx.ignoreClearRect;\n      },\n      set: function (t) {\n        this.ctx.ignoreClearRect = Boolean(t);\n      }\n    });\n  };\n  p.prototype.setLineDash = function (t) {\n    this.lineDash = t;\n  }, p.prototype.getLineDash = function () {\n    return this.lineDash.length % 2 ? this.lineDash.concat(this.lineDash) : this.lineDash.slice();\n  }, p.prototype.fill = function () {\n    A.call(this, \"fill\", !1);\n  }, p.prototype.stroke = function () {\n    A.call(this, \"stroke\", !1);\n  }, p.prototype.beginPath = function () {\n    this.path = [{\n      type: \"begin\"\n    }];\n  }, p.prototype.moveTo = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw a.error(\"jsPDF.context2d.moveTo: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.moveTo\");\n    var r = this.ctx.transform.applyToPoint(new c(t, e));\n    this.path.push({\n      type: \"mt\",\n      x: r.x,\n      y: r.y\n    }), this.ctx.lastPoint = new c(t, e);\n  }, p.prototype.closePath = function () {\n    var e = new c(0, 0),\n      r = 0;\n    for (r = this.path.length - 1; -1 !== r; r--) if (\"begin\" === this.path[r].type && \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(this.path[r + 1]) && \"number\" == typeof this.path[r + 1].x) {\n      e = new c(this.path[r + 1].x, this.path[r + 1].y);\n      break;\n    }\n    this.path.push({\n      type: \"close\"\n    }), this.ctx.lastPoint = new c(e.x, e.y);\n  }, p.prototype.lineTo = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw a.error(\"jsPDF.context2d.lineTo: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.lineTo\");\n    var r = this.ctx.transform.applyToPoint(new c(t, e));\n    this.path.push({\n      type: \"lt\",\n      x: r.x,\n      y: r.y\n    }), this.ctx.lastPoint = new c(r.x, r.y);\n  }, p.prototype.clip = function () {\n    this.ctx.clip_path = JSON.parse(JSON.stringify(this.path)), A.call(this, null, !0);\n  }, p.prototype.quadraticCurveTo = function (t, e, r, n) {\n    if (isNaN(r) || isNaN(n) || isNaN(t) || isNaN(e)) throw a.error(\"jsPDF.context2d.quadraticCurveTo: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.quadraticCurveTo\");\n    var i = this.ctx.transform.applyToPoint(new c(r, n)),\n      o = this.ctx.transform.applyToPoint(new c(t, e));\n    this.path.push({\n      type: \"qct\",\n      x1: o.x,\n      y1: o.y,\n      x: i.x,\n      y: i.y\n    }), this.ctx.lastPoint = new c(i.x, i.y);\n  }, p.prototype.bezierCurveTo = function (t, e, r, n, i, o) {\n    if (isNaN(i) || isNaN(o) || isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw a.error(\"jsPDF.context2d.bezierCurveTo: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.bezierCurveTo\");\n    var s = this.ctx.transform.applyToPoint(new c(i, o)),\n      u = this.ctx.transform.applyToPoint(new c(t, e)),\n      h = this.ctx.transform.applyToPoint(new c(r, n));\n    this.path.push({\n      type: \"bct\",\n      x1: u.x,\n      y1: u.y,\n      x2: h.x,\n      y2: h.y,\n      x: s.x,\n      y: s.y\n    }), this.ctx.lastPoint = new c(s.x, s.y);\n  }, p.prototype.arc = function (t, e, r, n, i, o) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(i)) throw a.error(\"jsPDF.context2d.arc: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.arc\");\n    if (o = Boolean(o), !this.ctx.transform.isIdentity) {\n      var s = this.ctx.transform.applyToPoint(new c(t, e));\n      t = s.x, e = s.y;\n      var u = this.ctx.transform.applyToPoint(new c(0, r)),\n        h = this.ctx.transform.applyToPoint(new c(0, 0));\n      r = Math.sqrt(Math.pow(u.x - h.x, 2) + Math.pow(u.y - h.y, 2));\n    }\n    Math.abs(i - n) >= 2 * Math.PI && (n = 0, i = 2 * Math.PI), this.path.push({\n      type: \"arc\",\n      x: t,\n      y: e,\n      radius: r,\n      startAngle: n,\n      endAngle: i,\n      counterclockwise: o\n    });\n  }, p.prototype.arcTo = function (t, e, r, n, i) {\n    throw new Error(\"arcTo not implemented.\");\n  }, p.prototype.rect = function (t, e, r, n) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw a.error(\"jsPDF.context2d.rect: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.rect\");\n    this.moveTo(t, e), this.lineTo(t + r, e), this.lineTo(t + r, e + n), this.lineTo(t, e + n), this.lineTo(t, e), this.lineTo(t + r, e), this.lineTo(t, e);\n  }, p.prototype.fillRect = function (t, e, r, n) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw a.error(\"jsPDF.context2d.fillRect: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.fillRect\");\n    if (!m.call(this)) {\n      var i = {};\n      \"butt\" !== this.lineCap && (i.lineCap = this.lineCap, this.lineCap = \"butt\"), \"miter\" !== this.lineJoin && (i.lineJoin = this.lineJoin, this.lineJoin = \"miter\"), this.beginPath(), this.rect(t, e, r, n), this.fill(), i.hasOwnProperty(\"lineCap\") && (this.lineCap = i.lineCap), i.hasOwnProperty(\"lineJoin\") && (this.lineJoin = i.lineJoin);\n    }\n  }, p.prototype.strokeRect = function (t, e, r, n) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw a.error(\"jsPDF.context2d.strokeRect: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.strokeRect\");\n    v.call(this) || (this.beginPath(), this.rect(t, e, r, n), this.stroke());\n  }, p.prototype.clearRect = function (t, e, r, n) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n)) throw a.error(\"jsPDF.context2d.clearRect: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.clearRect\");\n    this.ignoreClearRect || (this.fillStyle = \"#ffffff\", this.fillRect(t, e, r, n));\n  }, p.prototype.save = function (t) {\n    t = \"boolean\" != typeof t || t;\n    for (var e = this.pdf.internal.getCurrentPageInfo().pageNumber, r = 0; r < this.pdf.internal.getNumberOfPages(); r++) this.pdf.setPage(r + 1), this.pdf.internal.out(\"q\");\n    if (this.pdf.setPage(e), t) {\n      this.ctx.fontSize = this.pdf.internal.getFontSize();\n      var n = new d(this.ctx);\n      this.ctxStack.push(this.ctx), this.ctx = n;\n    }\n  }, p.prototype.restore = function (t) {\n    t = \"boolean\" != typeof t || t;\n    for (var e = this.pdf.internal.getCurrentPageInfo().pageNumber, r = 0; r < this.pdf.internal.getNumberOfPages(); r++) this.pdf.setPage(r + 1), this.pdf.internal.out(\"Q\");\n    this.pdf.setPage(e), t && 0 !== this.ctxStack.length && (this.ctx = this.ctxStack.pop(), this.fillStyle = this.ctx.fillStyle, this.strokeStyle = this.ctx.strokeStyle, this.font = this.ctx.font, this.lineCap = this.ctx.lineCap, this.lineWidth = this.ctx.lineWidth, this.lineJoin = this.ctx.lineJoin, this.lineDash = this.ctx.lineDash, this.lineDashOffset = this.ctx.lineDashOffset);\n  }, p.prototype.toDataURL = function () {\n    throw new Error(\"toDataUrl not implemented.\");\n  };\n  var g = function (t) {\n      var e, r, n, i;\n      if (!0 === t.isCanvasGradient && (t = t.getColor()), !t) return {\n        r: 0,\n        g: 0,\n        b: 0,\n        a: 0,\n        style: t\n      };\n      if (/transparent|rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*0+\\s*\\)/.test(t)) e = 0, r = 0, n = 0, i = 0;else {\n        var a = /rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/.exec(t);\n        if (null !== a) e = parseInt(a[1]), r = parseInt(a[2]), n = parseInt(a[3]), i = 1;else if (null !== (a = /rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d.]+)\\s*\\)/.exec(t))) e = parseInt(a[1]), r = parseInt(a[2]), n = parseInt(a[3]), i = parseFloat(a[4]);else {\n          if (i = 1, \"string\" == typeof t && \"#\" !== t.charAt(0)) {\n            var o = new f(t);\n            t = o.ok ? o.toHex() : \"#000000\";\n          }\n          4 === t.length ? (e = t.substring(1, 2), e += e, r = t.substring(2, 3), r += r, n = t.substring(3, 4), n += n) : (e = t.substring(1, 3), r = t.substring(3, 5), n = t.substring(5, 7)), e = parseInt(e, 16), r = parseInt(r, 16), n = parseInt(n, 16);\n        }\n      }\n      return {\n        r: e,\n        g: r,\n        b: n,\n        a: i,\n        style: t\n      };\n    },\n    m = function () {\n      return this.ctx.isFillTransparent || 0 == this.globalAlpha;\n    },\n    v = function () {\n      return Boolean(this.ctx.isStrokeTransparent || 0 == this.globalAlpha);\n    };\n  p.prototype.fillText = function (t, e, r, n) {\n    if (isNaN(e) || isNaN(r) || \"string\" != typeof t) throw a.error(\"jsPDF.context2d.fillText: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.fillText\");\n    if (n = isNaN(n) ? void 0 : n, !m.call(this)) {\n      var i = q(this.ctx.transform.rotation),\n        o = this.ctx.transform.scaleX;\n      C.call(this, {\n        text: t,\n        x: e,\n        y: r,\n        scale: o,\n        angle: i,\n        align: this.textAlign,\n        maxWidth: n\n      });\n    }\n  }, p.prototype.strokeText = function (t, e, r, n) {\n    if (isNaN(e) || isNaN(r) || \"string\" != typeof t) throw a.error(\"jsPDF.context2d.strokeText: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.strokeText\");\n    if (!v.call(this)) {\n      n = isNaN(n) ? void 0 : n;\n      var i = q(this.ctx.transform.rotation),\n        o = this.ctx.transform.scaleX;\n      C.call(this, {\n        text: t,\n        x: e,\n        y: r,\n        scale: o,\n        renderingMode: \"stroke\",\n        angle: i,\n        align: this.textAlign,\n        maxWidth: n\n      });\n    }\n  }, p.prototype.measureText = function (t) {\n    if (\"string\" != typeof t) throw a.error(\"jsPDF.context2d.measureText: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.measureText\");\n    var e = this.pdf,\n      r = this.pdf.internal.scaleFactor,\n      n = e.internal.getFontSize(),\n      i = e.getStringUnitWidth(t) * n / e.internal.scaleFactor,\n      o = function (t) {\n        var e = (t = t || {}).width || 0;\n        return Object.defineProperty(this, \"width\", {\n          get: function () {\n            return e;\n          }\n        }), this;\n      };\n    return new o({\n      width: i *= Math.round(96 * r / 72 * 1e4) / 1e4\n    });\n  }, p.prototype.scale = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw a.error(\"jsPDF.context2d.scale: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.scale\");\n    var r = new h(t, 0, 0, e, 0, 0);\n    this.ctx.transform = this.ctx.transform.multiply(r);\n  }, p.prototype.rotate = function (t) {\n    if (isNaN(t)) throw a.error(\"jsPDF.context2d.rotate: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.rotate\");\n    var e = new h(Math.cos(t), Math.sin(t), -Math.sin(t), Math.cos(t), 0, 0);\n    this.ctx.transform = this.ctx.transform.multiply(e);\n  }, p.prototype.translate = function (t, e) {\n    if (isNaN(t) || isNaN(e)) throw a.error(\"jsPDF.context2d.translate: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.translate\");\n    var r = new h(1, 0, 0, 1, t, e);\n    this.ctx.transform = this.ctx.transform.multiply(r);\n  }, p.prototype.transform = function (t, e, r, n, i, o) {\n    if (isNaN(t) || isNaN(e) || isNaN(r) || isNaN(n) || isNaN(i) || isNaN(o)) throw a.error(\"jsPDF.context2d.transform: Invalid arguments\", arguments), new Error(\"Invalid arguments passed to jsPDF.context2d.transform\");\n    var s = new h(t, e, r, n, i, o);\n    this.ctx.transform = this.ctx.transform.multiply(s);\n  }, p.prototype.setTransform = function (t, e, r, n, i, a) {\n    t = isNaN(t) ? 1 : t, e = isNaN(e) ? 0 : e, r = isNaN(r) ? 0 : r, n = isNaN(n) ? 1 : n, i = isNaN(i) ? 0 : i, a = isNaN(a) ? 0 : a, this.ctx.transform = new h(t, e, r, n, i, a);\n  };\n  var b = function () {\n    return this.margin[0] > 0 || this.margin[1] > 0 || this.margin[2] > 0 || this.margin[3] > 0;\n  };\n  p.prototype.drawImage = function (t, e, r, n, i, a, o, s, c) {\n    var l = this.pdf.getImageProperties(t),\n      f = 1,\n      d = 1,\n      p = 1,\n      g = 1;\n    void 0 !== n && void 0 !== s && (p = s / n, g = c / i, f = l.width / n * s / n, d = l.height / i * c / i), void 0 === a && (a = e, o = r, e = 0, r = 0), void 0 !== n && void 0 === s && (s = n, c = i), void 0 === n && void 0 === s && (s = l.width, c = l.height);\n    for (var m, v = this.ctx.transform.decompose(), w = q(v.rotate.shx), A = new h(), S = (A = (A = (A = A.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new u(a - e * p, o - r * g, n * f, i * d)), _ = y.call(this, S), P = [], k = 0; k < _.length; k += 1) -1 === P.indexOf(_[k]) && P.push(_[k]);\n    if (L(P), this.autoPaging) for (var I = P[0], F = P[P.length - 1], C = I; C < F + 1; C++) {\n      this.pdf.setPage(C);\n      var j = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1],\n        O = 1 === C ? this.posY + this.margin[0] : this.margin[0],\n        B = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2],\n        M = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2],\n        E = 1 === C ? 0 : B + (C - 2) * M;\n      if (0 !== this.ctx.clip_path.length) {\n        var D = this.path;\n        m = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N(m, this.posX + this.margin[3], -E + O + this.ctx.prevPageLastElemOffset), x.call(this, \"fill\", !0), this.path = D;\n      }\n      var R = JSON.parse(JSON.stringify(S));\n      R = N([R], this.posX + this.margin[3], -E + O + this.ctx.prevPageLastElemOffset)[0];\n      var T = (C > I || C < F) && b.call(this);\n      T && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], j, M, null).clip().discardPath()), this.pdf.addImage(t, \"JPEG\", R.x, R.y, R.w, R.h, null, null, w), T && this.pdf.restoreGraphicsState();\n    } else this.pdf.addImage(t, \"JPEG\", S.x, S.y, S.w, S.h, null, null, w);\n  };\n  var y = function (t, e, r) {\n      var n = [];\n      e = e || this.pdf.internal.pageSize.width, r = r || this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2];\n      var i = this.posY + this.ctx.prevPageLastElemOffset;\n      switch (t.type) {\n        default:\n        case \"mt\":\n        case \"lt\":\n          n.push(Math.floor((t.y + i) / r) + 1);\n          break;\n        case \"arc\":\n          n.push(Math.floor((t.y + i - t.radius) / r) + 1), n.push(Math.floor((t.y + i + t.radius) / r) + 1);\n          break;\n        case \"qct\":\n          var a = D(this.ctx.lastPoint.x, this.ctx.lastPoint.y, t.x1, t.y1, t.x, t.y);\n          n.push(Math.floor((a.y + i) / r) + 1), n.push(Math.floor((a.y + a.h + i) / r) + 1);\n          break;\n        case \"bct\":\n          var o = R(this.ctx.lastPoint.x, this.ctx.lastPoint.y, t.x1, t.y1, t.x2, t.y2, t.x, t.y);\n          n.push(Math.floor((o.y + i) / r) + 1), n.push(Math.floor((o.y + o.h + i) / r) + 1);\n          break;\n        case \"rect\":\n          n.push(Math.floor((t.y + i) / r) + 1), n.push(Math.floor((t.y + t.h + i) / r) + 1);\n      }\n      for (var s = 0; s < n.length; s += 1) for (; this.pdf.internal.getNumberOfPages() < n[s];) w.call(this);\n      return n;\n    },\n    w = function () {\n      var t = this.fillStyle,\n        e = this.strokeStyle,\n        r = this.font,\n        n = this.lineCap,\n        i = this.lineWidth,\n        a = this.lineJoin;\n      this.pdf.addPage(), this.fillStyle = t, this.strokeStyle = e, this.font = r, this.lineCap = n, this.lineWidth = i, this.lineJoin = a;\n    },\n    N = function (t, e, r) {\n      for (var n = 0; n < t.length; n++) switch (t[n].type) {\n        case \"bct\":\n          t[n].x2 += e, t[n].y2 += r;\n        case \"qct\":\n          t[n].x1 += e, t[n].y1 += r;\n        case \"mt\":\n        case \"lt\":\n        case \"arc\":\n        default:\n          t[n].x += e, t[n].y += r;\n      }\n      return t;\n    },\n    L = function (t) {\n      return t.sort(function (t, e) {\n        return t - e;\n      });\n    },\n    A = function (t, e) {\n      for (var r, n, i = this.fillStyle, a = this.strokeStyle, o = this.lineCap, s = this.lineWidth, c = Math.abs(s * this.ctx.transform.scaleX), u = this.lineJoin, h = JSON.parse(JSON.stringify(this.path)), l = JSON.parse(JSON.stringify(this.path)), f = [], d = 0; d < l.length; d++) if (void 0 !== l[d].x) for (var p = y.call(this, l[d]), g = 0; g < p.length; g += 1) -1 === f.indexOf(p[g]) && f.push(p[g]);\n      for (var m = 0; m < f.length; m++) for (; this.pdf.internal.getNumberOfPages() < f[m];) w.call(this);\n      if (L(f), this.autoPaging) for (var v = f[0], A = f[f.length - 1], S = v; S < A + 1; S++) {\n        this.pdf.setPage(S), this.fillStyle = i, this.strokeStyle = a, this.lineCap = o, this.lineWidth = c, this.lineJoin = u;\n        var _ = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1],\n          P = 1 === S ? this.posY + this.margin[0] : this.margin[0],\n          k = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2],\n          I = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2],\n          F = 1 === S ? 0 : k + (S - 2) * I;\n        if (0 !== this.ctx.clip_path.length) {\n          var C = this.path;\n          r = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N(r, this.posX + this.margin[3], -F + P + this.ctx.prevPageLastElemOffset), x.call(this, t, !0), this.path = C;\n        }\n        if (n = JSON.parse(JSON.stringify(h)), this.path = N(n, this.posX + this.margin[3], -F + P + this.ctx.prevPageLastElemOffset), !1 === e || 0 === S) {\n          var j = (S > v || S < A) && b.call(this);\n          j && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], _, I, null).clip().discardPath()), x.call(this, t, e), j && this.pdf.restoreGraphicsState();\n        }\n        this.lineWidth = s;\n      } else this.lineWidth = c, x.call(this, t, e), this.lineWidth = s;\n      this.path = h;\n    },\n    x = function (t, e) {\n      if ((\"stroke\" !== t || e || !v.call(this)) && (\"stroke\" === t || e || !m.call(this))) {\n        for (var r, n, i = [], a = this.path, o = 0; o < a.length; o++) {\n          var s = a[o];\n          switch (s.type) {\n            case \"begin\":\n              i.push({\n                begin: !0\n              });\n              break;\n            case \"close\":\n              i.push({\n                close: !0\n              });\n              break;\n            case \"mt\":\n              i.push({\n                start: s,\n                deltas: [],\n                abs: []\n              });\n              break;\n            case \"lt\":\n              var c = i.length;\n              if (a[o - 1] && !isNaN(a[o - 1].x) && (r = [s.x - a[o - 1].x, s.y - a[o - 1].y], c > 0)) for (; c >= 0; c--) if (!0 !== i[c - 1].close && !0 !== i[c - 1].begin) {\n                i[c - 1].deltas.push(r), i[c - 1].abs.push(s);\n                break;\n              }\n              break;\n            case \"bct\":\n              r = [s.x1 - a[o - 1].x, s.y1 - a[o - 1].y, s.x2 - a[o - 1].x, s.y2 - a[o - 1].y, s.x - a[o - 1].x, s.y - a[o - 1].y], i[i.length - 1].deltas.push(r);\n              break;\n            case \"qct\":\n              var u = a[o - 1].x + 2 / 3 * (s.x1 - a[o - 1].x),\n                h = a[o - 1].y + 2 / 3 * (s.y1 - a[o - 1].y),\n                l = s.x + 2 / 3 * (s.x1 - s.x),\n                f = s.y + 2 / 3 * (s.y1 - s.y),\n                d = s.x,\n                p = s.y;\n              r = [u - a[o - 1].x, h - a[o - 1].y, l - a[o - 1].x, f - a[o - 1].y, d - a[o - 1].x, p - a[o - 1].y], i[i.length - 1].deltas.push(r);\n              break;\n            case \"arc\":\n              i.push({\n                deltas: [],\n                abs: [],\n                arc: !0\n              }), Array.isArray(i[i.length - 1].abs) && i[i.length - 1].abs.push(s);\n          }\n        }\n        n = e ? null : \"stroke\" === t ? \"stroke\" : \"fill\";\n        for (var g = !1, b = 0; b < i.length; b++) if (i[b].arc) for (var y = i[b].abs, w = 0; w < y.length; w++) {\n          var N = y[w];\n          \"arc\" === N.type ? P.call(this, N.x, N.y, N.radius, N.startAngle, N.endAngle, N.counterclockwise, void 0, e, !g) : j.call(this, N.x, N.y), g = !0;\n        } else if (!0 === i[b].close) this.pdf.internal.out(\"h\"), g = !1;else if (!0 !== i[b].begin) {\n          var L = i[b].start.x,\n            A = i[b].start.y;\n          O.call(this, i[b].deltas, L, A), g = !0;\n        }\n        n && k.call(this, n), e && I.call(this);\n      }\n    },\n    S = function (t) {\n      var e = this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor,\n        r = e * (this.pdf.internal.getLineHeightFactor() - 1);\n      switch (this.ctx.textBaseline) {\n        case \"bottom\":\n          return t - r;\n        case \"top\":\n          return t + e - r;\n        case \"hanging\":\n          return t + e - 2 * r;\n        case \"middle\":\n          return t + e / 2 - r;\n        case \"ideographic\":\n          return t;\n        case \"alphabetic\":\n        default:\n          return t;\n      }\n    },\n    _ = function (t) {\n      return t + this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor * (this.pdf.internal.getLineHeightFactor() - 1);\n    };\n  p.prototype.createLinearGradient = function () {\n    var t = function () {};\n    return t.colorStops = [], t.addColorStop = function (t, e) {\n      this.colorStops.push([t, e]);\n    }, t.getColor = function () {\n      return 0 === this.colorStops.length ? \"#000000\" : this.colorStops[0][1];\n    }, t.isCanvasGradient = !0, t;\n  }, p.prototype.createPattern = function () {\n    return this.createLinearGradient();\n  }, p.prototype.createRadialGradient = function () {\n    return this.createLinearGradient();\n  };\n  var P = function (t, e, r, n, i, a, o, s, c) {\n      for (var u = M.call(this, r, n, i, a), h = 0; h < u.length; h++) {\n        var l = u[h];\n        0 === h && (c ? F.call(this, l.x1 + t, l.y1 + e) : j.call(this, l.x1 + t, l.y1 + e)), B.call(this, t, e, l.x2, l.y2, l.x3, l.y3, l.x4, l.y4);\n      }\n      s ? I.call(this) : k.call(this, o);\n    },\n    k = function (t) {\n      switch (t) {\n        case \"stroke\":\n          this.pdf.internal.out(\"S\");\n          break;\n        case \"fill\":\n          this.pdf.internal.out(\"f\");\n      }\n    },\n    I = function () {\n      this.pdf.clip(), this.pdf.discardPath();\n    },\n    F = function (t, e) {\n      this.pdf.internal.out(n(t) + \" \" + i(e) + \" m\");\n    },\n    C = function (t) {\n      var e;\n      switch (t.align) {\n        case \"right\":\n        case \"end\":\n          e = \"right\";\n          break;\n        case \"center\":\n          e = \"center\";\n          break;\n        case \"left\":\n        case \"start\":\n        default:\n          e = \"left\";\n      }\n      var r = this.pdf.getTextDimensions(t.text),\n        n = S.call(this, t.y),\n        i = _.call(this, n) - r.h,\n        a = this.ctx.transform.applyToPoint(new c(t.x, n)),\n        o = this.ctx.transform.decompose(),\n        s = new h();\n      s = (s = (s = s.multiply(o.translate)).multiply(o.skew)).multiply(o.scale);\n      for (var l, f, d, p = this.ctx.transform.applyToRectangle(new u(t.x, n, r.w, r.h)), g = s.applyToRectangle(new u(t.x, i, r.w, r.h)), m = y.call(this, g), v = [], w = 0; w < m.length; w += 1) -1 === v.indexOf(m[w]) && v.push(m[w]);\n      if (L(v), this.autoPaging) for (var A = v[0], P = v[v.length - 1], k = A; k < P + 1; k++) {\n        this.pdf.setPage(k);\n        var I = 1 === k ? this.posY + this.margin[0] : this.margin[0],\n          F = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2],\n          C = this.pdf.internal.pageSize.height - this.margin[2],\n          j = C - this.margin[0],\n          O = this.pdf.internal.pageSize.width - this.margin[1],\n          B = O - this.margin[3],\n          M = 1 === k ? 0 : F + (k - 2) * j;\n        if (0 !== this.ctx.clip_path.length) {\n          var E = this.path;\n          l = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N(l, this.posX + this.margin[3], -1 * M + I), x.call(this, \"fill\", !0), this.path = E;\n        }\n        var q = N([JSON.parse(JSON.stringify(g))], this.posX + this.margin[3], -M + I + this.ctx.prevPageLastElemOffset)[0];\n        t.scale >= .01 && (f = this.pdf.internal.getFontSize(), this.pdf.setFontSize(f * t.scale), d = this.lineWidth, this.lineWidth = d * t.scale);\n        var D = \"text\" !== this.autoPaging;\n        if (D || q.y + q.h <= C) {\n          if (D || q.y >= I && q.x <= O) {\n            var R = D ? t.text : this.pdf.splitTextToSize(t.text, t.maxWidth || O - q.x)[0],\n              T = N([JSON.parse(JSON.stringify(p))], this.posX + this.margin[3], -M + I + this.ctx.prevPageLastElemOffset)[0],\n              U = D && (k > A || k < P) && b.call(this);\n            U && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], B, j, null).clip().discardPath()), this.pdf.text(R, T.x, T.y, {\n              angle: t.angle,\n              align: e,\n              renderingMode: t.renderingMode\n            }), U && this.pdf.restoreGraphicsState();\n          }\n        } else q.y < C && (this.ctx.prevPageLastElemOffset += C - q.y);\n        t.scale >= .01 && (this.pdf.setFontSize(f), this.lineWidth = d);\n      } else t.scale >= .01 && (f = this.pdf.internal.getFontSize(), this.pdf.setFontSize(f * t.scale), d = this.lineWidth, this.lineWidth = d * t.scale), this.pdf.text(t.text, a.x + this.posX, a.y + this.posY, {\n        angle: t.angle,\n        align: e,\n        renderingMode: t.renderingMode,\n        maxWidth: t.maxWidth\n      }), t.scale >= .01 && (this.pdf.setFontSize(f), this.lineWidth = d);\n    },\n    j = function (t, e, r, a) {\n      r = r || 0, a = a || 0, this.pdf.internal.out(n(t + r) + \" \" + i(e + a) + \" l\");\n    },\n    O = function (t, e, r) {\n      return this.pdf.lines(t, e, r, null, null);\n    },\n    B = function (t, e, n, i, a, c, u, h) {\n      this.pdf.internal.out([r(o(n + t)), r(s(i + e)), r(o(a + t)), r(s(c + e)), r(o(u + t)), r(s(h + e)), \"c\"].join(\" \"));\n    },\n    M = function (t, e, r, n) {\n      for (var i = 2 * Math.PI, a = Math.PI / 2; e > r;) e -= i;\n      var o = Math.abs(r - e);\n      o < i && n && (o = i - o);\n      for (var s = [], c = n ? -1 : 1, u = e; o > 1e-5;) {\n        var h = u + c * Math.min(o, a);\n        s.push(E.call(this, t, u, h)), o -= Math.abs(h - u), u = h;\n      }\n      return s;\n    },\n    E = function (t, e, r) {\n      var n = (r - e) / 2,\n        i = t * Math.cos(n),\n        a = t * Math.sin(n),\n        o = i,\n        s = -a,\n        c = o * o + s * s,\n        u = c + o * i + s * a,\n        h = 4 / 3 * (Math.sqrt(2 * c * u) - u) / (o * a - s * i),\n        l = o - h * s,\n        f = s + h * o,\n        d = l,\n        p = -f,\n        g = n + e,\n        m = Math.cos(g),\n        v = Math.sin(g);\n      return {\n        x1: t * Math.cos(e),\n        y1: t * Math.sin(e),\n        x2: l * m - f * v,\n        y2: l * v + f * m,\n        x3: d * m - p * v,\n        y3: d * v + p * m,\n        x4: t * Math.cos(r),\n        y4: t * Math.sin(r)\n      };\n    },\n    q = function (t) {\n      return 180 * t / Math.PI;\n    },\n    D = function (t, e, r, n, i, a) {\n      var o = t + .5 * (r - t),\n        s = e + .5 * (n - e),\n        c = i + .5 * (r - i),\n        h = a + .5 * (n - a),\n        l = Math.min(t, i, o, c),\n        f = Math.max(t, i, o, c),\n        d = Math.min(e, a, s, h),\n        p = Math.max(e, a, s, h);\n      return new u(l, d, f - l, p - d);\n    },\n    R = function (t, e, r, n, i, a, o, s) {\n      var c,\n        h,\n        l,\n        f,\n        d,\n        p,\n        g,\n        m,\n        v,\n        b,\n        y,\n        w,\n        N,\n        L,\n        A = r - t,\n        x = n - e,\n        S = i - r,\n        _ = a - n,\n        P = o - i,\n        k = s - a;\n      for (h = 0; h < 41; h++) v = (g = (l = t + (c = h / 40) * A) + c * ((d = r + c * S) - l)) + c * (d + c * (i + c * P - d) - g), b = (m = (f = e + c * x) + c * ((p = n + c * _) - f)) + c * (p + c * (a + c * k - p) - m), 0 == h ? (y = v, w = b, N = v, L = b) : (y = Math.min(y, v), w = Math.min(w, b), N = Math.max(N, v), L = Math.max(L, b));\n      return new u(Math.round(y), Math.round(w), Math.round(N - y), Math.round(L - w));\n    },\n    T = function () {\n      if (this.prevLineDash || this.ctx.lineDash.length || this.ctx.lineDashOffset) {\n        var t,\n          e,\n          r = (t = this.ctx.lineDash, e = this.ctx.lineDashOffset, JSON.stringify({\n            lineDash: t,\n            lineDashOffset: e\n          }));\n        this.prevLineDash !== r && (this.pdf.setLineDash(this.ctx.lineDash, this.ctx.lineDashOffset), this.prevLineDash = r);\n      }\n    };\n}(E.API),\n/**\n * @license\n * jsPDF filters PlugIn\n * Copyright (c) 2014 Aras Abbasi\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var r = function (t) {\n      var e, r, n, i, a, o, s, c, u, h;\n      for (/[^\\x00-\\xFF]/.test(t), r = [], n = 0, i = (t += e = \"\\0\\0\\0\\0\".slice(t.length % 4 || 4)).length; i > n; n += 4) 0 !== (a = (t.charCodeAt(n) << 24) + (t.charCodeAt(n + 1) << 16) + (t.charCodeAt(n + 2) << 8) + t.charCodeAt(n + 3)) ? (o = (a = ((a = ((a = ((a = (a - (h = a % 85)) / 85) - (u = a % 85)) / 85) - (c = a % 85)) / 85) - (s = a % 85)) / 85) % 85, r.push(o + 33, s + 33, c + 33, u + 33, h + 33)) : r.push(122);\n      return function (t, e) {\n        for (var r = e; r > 0; r--) t.pop();\n      }(r, e.length), String.fromCharCode.apply(String, r) + \"~>\";\n    },\n    n = function (t) {\n      var e,\n        r,\n        n,\n        i,\n        a,\n        o = String,\n        s = \"length\",\n        c = 255,\n        u = \"charCodeAt\",\n        h = \"slice\",\n        l = \"replace\";\n      for (t[h](-2), t = t[h](0, -2)[l](/\\s/g, \"\")[l](\"z\", \"!!!!!\"), n = [], i = 0, a = (t += e = \"uuuuu\"[h](t[s] % 5 || 5))[s]; a > i; i += 5) r = 52200625 * (t[u](i) - 33) + 614125 * (t[u](i + 1) - 33) + 7225 * (t[u](i + 2) - 33) + 85 * (t[u](i + 3) - 33) + (t[u](i + 4) - 33), n.push(c & r >> 24, c & r >> 16, c & r >> 8, c & r);\n      return function (t, e) {\n        for (var r = e; r > 0; r--) t.pop();\n      }(n, e[s]), o.fromCharCode.apply(o, n);\n    },\n    i = function (t) {\n      var e = new RegExp(/^([0-9A-Fa-f]{2})+$/);\n      if (-1 !== (t = t.replace(/\\s/g, \"\")).indexOf(\">\") && (t = t.substr(0, t.indexOf(\">\"))), t.length % 2 && (t += \"0\"), !1 === e.test(t)) return \"\";\n      for (var r = \"\", n = 0; n < t.length; n += 2) r += String.fromCharCode(\"0x\" + (t[n] + t[n + 1]));\n      return r;\n    },\n    a = function (t) {\n      for (var r = new Uint8Array(t.length), n = t.length; n--;) r[n] = t.charCodeAt(n);\n      return t = (r = (0,fflate__WEBPACK_IMPORTED_MODULE_9__.zlibSync)(r)).reduce(function (t, e) {\n        return t + String.fromCharCode(e);\n      }, \"\");\n    };\n  t.processDataByFilters = function (t, e) {\n    var o = 0,\n      s = t || \"\",\n      c = [];\n    for (\"string\" == typeof (e = e || []) && (e = [e]), o = 0; o < e.length; o += 1) switch (e[o]) {\n      case \"ASCII85Decode\":\n      case \"/ASCII85Decode\":\n        s = n(s), c.push(\"/ASCII85Encode\");\n        break;\n      case \"ASCII85Encode\":\n      case \"/ASCII85Encode\":\n        s = r(s), c.push(\"/ASCII85Decode\");\n        break;\n      case \"ASCIIHexDecode\":\n      case \"/ASCIIHexDecode\":\n        s = i(s), c.push(\"/ASCIIHexEncode\");\n        break;\n      case \"ASCIIHexEncode\":\n      case \"/ASCIIHexEncode\":\n        s = s.split(\"\").map(function (t) {\n          return (\"0\" + t.charCodeAt().toString(16)).slice(-2);\n        }).join(\"\") + \">\", c.push(\"/ASCIIHexDecode\");\n        break;\n      case \"FlateEncode\":\n      case \"/FlateEncode\":\n        s = a(s), c.push(\"/FlateDecode\");\n        break;\n      default:\n        throw new Error('The filter: \"' + e[o] + '\" is not implemented');\n    }\n    return {\n      data: s,\n      reverseChain: c.reverse().join(\" \")\n    };\n  };\n}(E.API),\n/**\n * @license\n * jsPDF fileloading PlugIn\n * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  t.loadFile = function (t, e, r) {\n    return function (t, e, r) {\n      e = !1 !== e, r = \"function\" == typeof r ? r : function () {};\n      var n = void 0;\n      try {\n        n = function (t, e, r) {\n          var n = new XMLHttpRequest(),\n            i = 0,\n            a = function (t) {\n              var e = t.length,\n                r = [],\n                n = String.fromCharCode;\n              for (i = 0; i < e; i += 1) r.push(n(255 & t.charCodeAt(i)));\n              return r.join(\"\");\n            };\n          if (n.open(\"GET\", t, !e), n.overrideMimeType(\"text/plain; charset=x-user-defined\"), !1 === e && (n.onload = function () {\n            200 === n.status ? r(a(this.responseText)) : r(void 0);\n          }), n.send(null), e && 200 === n.status) return a(n.responseText);\n        }(t, e, r);\n      } catch (t) {}\n      return n;\n    }(t, e, r);\n  }, t.loadImageFile = t.loadFile;\n}(E.API), function (e) {\n  function r() {\n    return (n.html2canvas ? Promise.resolve(n.html2canvas) : Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! html2canvas */ \"./node_modules/html2canvas/dist/html2canvas.js\", 23))).catch(function (t) {\n      return Promise.reject(new Error(\"Could not load html2canvas: \" + t));\n    }).then(function (t) {\n      return t.default ? t.default : t;\n    });\n  }\n  function i() {\n    return (n.DOMPurify ? Promise.resolve(n.DOMPurify) : __webpack_require__.e(/*! import() */ \"node_modules_html2pdf_js_node_modules_dompurify_dist_purify_es_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! dompurify */ \"./node_modules/html2pdf.js/node_modules/dompurify/dist/purify.es.mjs\"))).catch(function (t) {\n      return Promise.reject(new Error(\"Could not load dompurify: \" + t));\n    }).then(function (t) {\n      return t.default ? t.default : t;\n    });\n  }\n  var a = function (e) {\n      var r = (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e);\n      return \"undefined\" === r ? \"undefined\" : \"string\" === r || e instanceof String ? \"string\" : \"number\" === r || e instanceof Number ? \"number\" : \"function\" === r || e instanceof Function ? \"function\" : e && e.constructor === Array ? \"array\" : e && 1 === e.nodeType ? \"element\" : \"object\" === r ? \"object\" : \"unknown\";\n    },\n    o = function (t, e) {\n      var r = document.createElement(t);\n      for (var n in e.className && (r.className = e.className), e.innerHTML && e.dompurify && (r.innerHTML = e.dompurify.sanitize(e.innerHTML)), e.style) r.style[n] = e.style[n];\n      return r;\n    },\n    s = function t(e) {\n      var r = Object.assign(t.convert(Promise.resolve()), JSON.parse(JSON.stringify(t.template))),\n        n = t.convert(Promise.resolve(), r);\n      return n = (n = n.setProgress(1, t, 1, [t])).set(e);\n    };\n  (s.prototype = Object.create(Promise.prototype)).constructor = s, s.convert = function (t, e) {\n    return t.__proto__ = e || s.prototype, t;\n  }, s.template = {\n    prop: {\n      src: null,\n      container: null,\n      overlay: null,\n      canvas: null,\n      img: null,\n      pdf: null,\n      pageSize: null,\n      callback: function () {}\n    },\n    progress: {\n      val: 0,\n      state: null,\n      n: 0,\n      stack: []\n    },\n    opt: {\n      filename: \"file.pdf\",\n      margin: [0, 0, 0, 0],\n      enableLinks: !0,\n      x: 0,\n      y: 0,\n      html2canvas: {},\n      jsPDF: {},\n      backgroundColor: \"transparent\"\n    }\n  }, s.prototype.from = function (t, e) {\n    return this.then(function () {\n      switch (e = e || function (t) {\n        switch (a(t)) {\n          case \"string\":\n            return \"string\";\n          case \"element\":\n            return \"canvas\" === t.nodeName.toLowerCase() ? \"canvas\" : \"element\";\n          default:\n            return \"unknown\";\n        }\n      }(t)) {\n        case \"string\":\n          return this.then(i).then(function (e) {\n            return this.set({\n              src: o(\"div\", {\n                innerHTML: t,\n                dompurify: e\n              })\n            });\n          });\n        case \"element\":\n          return this.set({\n            src: t\n          });\n        case \"canvas\":\n          return this.set({\n            canvas: t\n          });\n        case \"img\":\n          return this.set({\n            img: t\n          });\n        default:\n          return this.error(\"Unknown source type.\");\n      }\n    });\n  }, s.prototype.to = function (t) {\n    switch (t) {\n      case \"container\":\n        return this.toContainer();\n      case \"canvas\":\n        return this.toCanvas();\n      case \"img\":\n        return this.toImg();\n      case \"pdf\":\n        return this.toPdf();\n      default:\n        return this.error(\"Invalid target.\");\n    }\n  }, s.prototype.toContainer = function () {\n    return this.thenList([function () {\n      return this.prop.src || this.error(\"Cannot duplicate - no source HTML.\");\n    }, function () {\n      return this.prop.pageSize || this.setPageSize();\n    }]).then(function () {\n      var t = {\n          position: \"relative\",\n          display: \"inline-block\",\n          width: (\"number\" != typeof this.opt.width || isNaN(this.opt.width) || \"number\" != typeof this.opt.windowWidth || isNaN(this.opt.windowWidth) ? Math.max(this.prop.src.clientWidth, this.prop.src.scrollWidth, this.prop.src.offsetWidth) : this.opt.windowWidth) + \"px\",\n          left: 0,\n          right: 0,\n          top: 0,\n          margin: \"auto\",\n          backgroundColor: this.opt.backgroundColor\n        },\n        e = function t(e, r) {\n          for (var n = 3 === e.nodeType ? document.createTextNode(e.nodeValue) : e.cloneNode(!1), i = e.firstChild; i; i = i.nextSibling) !0 !== r && 1 === i.nodeType && \"SCRIPT\" === i.nodeName || n.appendChild(t(i, r));\n          return 1 === e.nodeType && (\"CANVAS\" === e.nodeName ? (n.width = e.width, n.height = e.height, n.getContext(\"2d\").drawImage(e, 0, 0)) : \"TEXTAREA\" !== e.nodeName && \"SELECT\" !== e.nodeName || (n.value = e.value), n.addEventListener(\"load\", function () {\n            n.scrollTop = e.scrollTop, n.scrollLeft = e.scrollLeft;\n          }, !0)), n;\n        }(this.prop.src, this.opt.html2canvas.javascriptEnabled);\n      \"BODY\" === e.tagName && (t.height = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) + \"px\"), this.prop.overlay = o(\"div\", {\n        className: \"html2pdf__overlay\",\n        style: {\n          position: \"fixed\",\n          overflow: \"hidden\",\n          zIndex: 1e3,\n          left: \"-100000px\",\n          right: 0,\n          bottom: 0,\n          top: 0\n        }\n      }), this.prop.container = o(\"div\", {\n        className: \"html2pdf__container\",\n        style: t\n      }), this.prop.container.appendChild(e), this.prop.container.firstChild.appendChild(o(\"div\", {\n        style: {\n          clear: \"both\",\n          border: \"0 none transparent\",\n          margin: 0,\n          padding: 0,\n          height: 0\n        }\n      })), this.prop.container.style.float = \"none\", this.prop.overlay.appendChild(this.prop.container), document.body.appendChild(this.prop.overlay), this.prop.container.firstChild.style.position = \"relative\", this.prop.container.height = Math.max(this.prop.container.firstChild.clientHeight, this.prop.container.firstChild.scrollHeight, this.prop.container.firstChild.offsetHeight) + \"px\";\n    });\n  }, s.prototype.toCanvas = function () {\n    var t = [function () {\n      return document.body.contains(this.prop.container) || this.toContainer();\n    }];\n    return this.thenList(t).then(r).then(function (t) {\n      var e = Object.assign({}, this.opt.html2canvas);\n      return delete e.onrendered, t(this.prop.container, e);\n    }).then(function (t) {\n      (this.opt.html2canvas.onrendered || function () {})(t), this.prop.canvas = t, document.body.removeChild(this.prop.overlay);\n    });\n  }, s.prototype.toContext2d = function () {\n    var t = [function () {\n      return document.body.contains(this.prop.container) || this.toContainer();\n    }];\n    return this.thenList(t).then(r).then(function (t) {\n      var e = this.opt.jsPDF,\n        r = this.opt.fontFaces,\n        n = \"number\" != typeof this.opt.width || isNaN(this.opt.width) || \"number\" != typeof this.opt.windowWidth || isNaN(this.opt.windowWidth) ? 1 : this.opt.width / this.opt.windowWidth,\n        i = Object.assign({\n          async: !0,\n          allowTaint: !0,\n          scale: n,\n          scrollX: this.opt.scrollX || 0,\n          scrollY: this.opt.scrollY || 0,\n          backgroundColor: \"#ffffff\",\n          imageTimeout: 15e3,\n          logging: !0,\n          proxy: null,\n          removeContainer: !0,\n          foreignObjectRendering: !1,\n          useCORS: !1\n        }, this.opt.html2canvas);\n      if (delete i.onrendered, e.context2d.autoPaging = void 0 === this.opt.autoPaging || this.opt.autoPaging, e.context2d.posX = this.opt.x, e.context2d.posY = this.opt.y, e.context2d.margin = this.opt.margin, e.context2d.fontFaces = r, r) for (var a = 0; a < r.length; ++a) {\n        var o = r[a],\n          s = o.src.find(function (t) {\n            return \"truetype\" === t.format;\n          });\n        s && e.addFont(s.url, o.ref.name, o.ref.style);\n      }\n      return i.windowHeight = i.windowHeight || 0, i.windowHeight = 0 == i.windowHeight ? Math.max(this.prop.container.clientHeight, this.prop.container.scrollHeight, this.prop.container.offsetHeight) : i.windowHeight, e.context2d.save(!0), t(this.prop.container, i);\n    }).then(function (t) {\n      this.opt.jsPDF.context2d.restore(!0), (this.opt.html2canvas.onrendered || function () {})(t), this.prop.canvas = t, document.body.removeChild(this.prop.overlay);\n    });\n  }, s.prototype.toImg = function () {\n    return this.thenList([function () {\n      return this.prop.canvas || this.toCanvas();\n    }]).then(function () {\n      var t = this.prop.canvas.toDataURL(\"image/\" + this.opt.image.type, this.opt.image.quality);\n      this.prop.img = document.createElement(\"img\"), this.prop.img.src = t;\n    });\n  }, s.prototype.toPdf = function () {\n    return this.thenList([function () {\n      return this.toContext2d();\n    }]).then(function () {\n      this.prop.pdf = this.prop.pdf || this.opt.jsPDF;\n    });\n  }, s.prototype.output = function (t, e, r) {\n    return \"img\" === (r = r || \"pdf\").toLowerCase() || \"image\" === r.toLowerCase() ? this.outputImg(t, e) : this.outputPdf(t, e);\n  }, s.prototype.outputPdf = function (t, e) {\n    return this.thenList([function () {\n      return this.prop.pdf || this.toPdf();\n    }]).then(function () {\n      return this.prop.pdf.output(t, e);\n    });\n  }, s.prototype.outputImg = function (t) {\n    return this.thenList([function () {\n      return this.prop.img || this.toImg();\n    }]).then(function () {\n      switch (t) {\n        case void 0:\n        case \"img\":\n          return this.prop.img;\n        case \"datauristring\":\n        case \"dataurlstring\":\n          return this.prop.img.src;\n        case \"datauri\":\n        case \"dataurl\":\n          return document.location.href = this.prop.img.src;\n        default:\n          throw 'Image output type \"' + t + '\" is not supported.';\n      }\n    });\n  }, s.prototype.save = function (t) {\n    return this.thenList([function () {\n      return this.prop.pdf || this.toPdf();\n    }]).set(t ? {\n      filename: t\n    } : null).then(function () {\n      this.prop.pdf.save(this.opt.filename);\n    });\n  }, s.prototype.doCallback = function () {\n    return this.thenList([function () {\n      return this.prop.pdf || this.toPdf();\n    }]).then(function () {\n      this.prop.callback(this.prop.pdf);\n    });\n  }, s.prototype.set = function (t) {\n    if (\"object\" !== a(t)) return this;\n    var e = Object.keys(t || {}).map(function (e) {\n      if (e in s.template.prop) return function () {\n        this.prop[e] = t[e];\n      };\n      switch (e) {\n        case \"margin\":\n          return this.setMargin.bind(this, t.margin);\n        case \"jsPDF\":\n          return function () {\n            return this.opt.jsPDF = t.jsPDF, this.setPageSize();\n          };\n        case \"pageSize\":\n          return this.setPageSize.bind(this, t.pageSize);\n        default:\n          return function () {\n            this.opt[e] = t[e];\n          };\n      }\n    }, this);\n    return this.then(function () {\n      return this.thenList(e);\n    });\n  }, s.prototype.get = function (t, e) {\n    return this.then(function () {\n      var r = t in s.template.prop ? this.prop[t] : this.opt[t];\n      return e ? e(r) : r;\n    });\n  }, s.prototype.setMargin = function (t) {\n    return this.then(function () {\n      switch (a(t)) {\n        case \"number\":\n          t = [t, t, t, t];\n        case \"array\":\n          if (2 === t.length && (t = [t[0], t[1], t[0], t[1]]), 4 === t.length) break;\n        default:\n          return this.error(\"Invalid margin array.\");\n      }\n      this.opt.margin = t;\n    }).then(this.setPageSize);\n  }, s.prototype.setPageSize = function (t) {\n    function e(t, e) {\n      return Math.floor(t * e / 72 * 96);\n    }\n    return this.then(function () {\n      (t = t || E.getPageSize(this.opt.jsPDF)).hasOwnProperty(\"inner\") || (t.inner = {\n        width: t.width - this.opt.margin[1] - this.opt.margin[3],\n        height: t.height - this.opt.margin[0] - this.opt.margin[2]\n      }, t.inner.px = {\n        width: e(t.inner.width, t.k),\n        height: e(t.inner.height, t.k)\n      }, t.inner.ratio = t.inner.height / t.inner.width), this.prop.pageSize = t;\n    });\n  }, s.prototype.setProgress = function (t, e, r, n) {\n    return null != t && (this.progress.val = t), null != e && (this.progress.state = e), null != r && (this.progress.n = r), null != n && (this.progress.stack = n), this.progress.ratio = this.progress.val / this.progress.state, this;\n  }, s.prototype.updateProgress = function (t, e, r, n) {\n    return this.setProgress(t ? this.progress.val + t : null, e || null, r ? this.progress.n + r : null, n ? this.progress.stack.concat(n) : null);\n  }, s.prototype.then = function (t, e) {\n    var r = this;\n    return this.thenCore(t, e, function (t, e) {\n      return r.updateProgress(null, null, 1, [t]), Promise.prototype.then.call(this, function (e) {\n        return r.updateProgress(null, t), e;\n      }).then(t, e).then(function (t) {\n        return r.updateProgress(1), t;\n      });\n    });\n  }, s.prototype.thenCore = function (t, e, r) {\n    r = r || Promise.prototype.then;\n    t && (t = t.bind(this)), e && (e = e.bind(this));\n    var n = -1 !== Promise.toString().indexOf(\"[native code]\") && \"Promise\" === Promise.name ? this : s.convert(Object.assign({}, this), Promise.prototype),\n      i = r.call(n, t, e);\n    return s.convert(i, this.__proto__);\n  }, s.prototype.thenExternal = function (t, e) {\n    return Promise.prototype.then.call(this, t, e);\n  }, s.prototype.thenList = function (t) {\n    var e = this;\n    return t.forEach(function (t) {\n      e = e.thenCore(t);\n    }), e;\n  }, s.prototype.catch = function (t) {\n    t && (t = t.bind(this));\n    var e = Promise.prototype.catch.call(this, t);\n    return s.convert(e, this);\n  }, s.prototype.catchExternal = function (t) {\n    return Promise.prototype.catch.call(this, t);\n  }, s.prototype.error = function (t) {\n    return this.then(function () {\n      throw new Error(t);\n    });\n  }, s.prototype.using = s.prototype.set, s.prototype.saveAs = s.prototype.save, s.prototype.export = s.prototype.output, s.prototype.run = s.prototype.then, E.getPageSize = function (e, r, n) {\n    if (\"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e)) {\n      var i = e;\n      e = i.orientation, r = i.unit || r, n = i.format || n;\n    }\n    r = r || \"mm\", n = n || \"a4\", e = (\"\" + (e || \"P\")).toLowerCase();\n    var a,\n      o = (\"\" + n).toLowerCase(),\n      s = {\n        a0: [2383.94, 3370.39],\n        a1: [1683.78, 2383.94],\n        a2: [1190.55, 1683.78],\n        a3: [841.89, 1190.55],\n        a4: [595.28, 841.89],\n        a5: [419.53, 595.28],\n        a6: [297.64, 419.53],\n        a7: [209.76, 297.64],\n        a8: [147.4, 209.76],\n        a9: [104.88, 147.4],\n        a10: [73.7, 104.88],\n        b0: [2834.65, 4008.19],\n        b1: [2004.09, 2834.65],\n        b2: [1417.32, 2004.09],\n        b3: [1000.63, 1417.32],\n        b4: [708.66, 1000.63],\n        b5: [498.9, 708.66],\n        b6: [354.33, 498.9],\n        b7: [249.45, 354.33],\n        b8: [175.75, 249.45],\n        b9: [124.72, 175.75],\n        b10: [87.87, 124.72],\n        c0: [2599.37, 3676.54],\n        c1: [1836.85, 2599.37],\n        c2: [1298.27, 1836.85],\n        c3: [918.43, 1298.27],\n        c4: [649.13, 918.43],\n        c5: [459.21, 649.13],\n        c6: [323.15, 459.21],\n        c7: [229.61, 323.15],\n        c8: [161.57, 229.61],\n        c9: [113.39, 161.57],\n        c10: [79.37, 113.39],\n        dl: [311.81, 623.62],\n        letter: [612, 792],\n        \"government-letter\": [576, 756],\n        legal: [612, 1008],\n        \"junior-legal\": [576, 360],\n        ledger: [1224, 792],\n        tabloid: [792, 1224],\n        \"credit-card\": [153, 243]\n      };\n    switch (r) {\n      case \"pt\":\n        a = 1;\n        break;\n      case \"mm\":\n        a = 72 / 25.4;\n        break;\n      case \"cm\":\n        a = 72 / 2.54;\n        break;\n      case \"in\":\n        a = 72;\n        break;\n      case \"px\":\n        a = .75;\n        break;\n      case \"pc\":\n      case \"em\":\n        a = 12;\n        break;\n      case \"ex\":\n        a = 6;\n        break;\n      default:\n        throw \"Invalid unit: \" + r;\n    }\n    var c,\n      u = 0,\n      h = 0;\n    if (s.hasOwnProperty(o)) u = s[o][1] / a, h = s[o][0] / a;else try {\n      u = n[1], h = n[0];\n    } catch (t) {\n      throw new Error(\"Invalid format: \" + n);\n    }\n    if (\"p\" === e || \"portrait\" === e) e = \"p\", h > u && (c = h, h = u, u = c);else {\n      if (\"l\" !== e && \"landscape\" !== e) throw \"Invalid orientation: \" + e;\n      e = \"l\", u > h && (c = h, h = u, u = c);\n    }\n    return {\n      width: h,\n      height: u,\n      unit: r,\n      k: a,\n      orientation: e\n    };\n  }, e.html = function (t, e) {\n    (e = e || {}).callback = e.callback || function () {}, e.html2canvas = e.html2canvas || {}, e.html2canvas.canvas = e.html2canvas.canvas || this.canvas, e.jsPDF = e.jsPDF || this, e.fontFaces = e.fontFaces ? e.fontFaces.map(jt) : null;\n    var r = new s(e);\n    return e.worker ? r : r.from(t).doCallback();\n  };\n}(E.API), E.API.addJS = function (t) {\n  return Ht = t, this.internal.events.subscribe(\"postPutResources\", function () {\n    Ut = this.internal.newObject(), this.internal.out(\"<<\"), this.internal.out(\"/Names [(EmbeddedJS) \" + (Ut + 1) + \" 0 R]\"), this.internal.out(\">>\"), this.internal.out(\"endobj\"), zt = this.internal.newObject(), this.internal.out(\"<<\"), this.internal.out(\"/S /JavaScript\"), this.internal.out(\"/JS (\" + Ht + \")\"), this.internal.out(\">>\"), this.internal.out(\"endobj\");\n  }), this.internal.events.subscribe(\"putCatalog\", function () {\n    void 0 !== Ut && void 0 !== zt && this.internal.out(\"/Names <</JavaScript \" + Ut + \" 0 R>>\");\n  }), this;\n},\n/**\n * @license\n * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e;\n  t.events.push([\"postPutResources\", function () {\n    var t = this,\n      r = /^(\\d+) 0 obj$/;\n    if (this.outline.root.children.length > 0) for (var n = t.outline.render().split(/\\r\\n/), i = 0; i < n.length; i++) {\n      var a = n[i],\n        o = r.exec(a);\n      if (null != o) {\n        var s = o[1];\n        t.internal.newObjectDeferredBegin(s, !1);\n      }\n      t.internal.write(a);\n    }\n    if (this.outline.createNamedDestinations) {\n      var c = this.internal.pages.length,\n        u = [];\n      for (i = 0; i < c; i++) {\n        var h = t.internal.newObject();\n        u.push(h);\n        var l = t.internal.getPageInfo(i + 1);\n        t.internal.write(\"<< /D[\" + l.objId + \" 0 R /XYZ null null null]>> endobj\");\n      }\n      var f = t.internal.newObject();\n      t.internal.write(\"<< /Names [ \");\n      for (i = 0; i < u.length; i++) t.internal.write(\"(page_\" + (i + 1) + \")\" + u[i] + \" 0 R\");\n      t.internal.write(\" ] >>\", \"endobj\"), e = t.internal.newObject(), t.internal.write(\"<< /Dests \" + f + \" 0 R\"), t.internal.write(\">>\", \"endobj\");\n    }\n  }]), t.events.push([\"putCatalog\", function () {\n    this.outline.root.children.length > 0 && (this.internal.write(\"/Outlines\", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && this.internal.write(\"/Names \" + e + \" 0 R\"));\n  }]), t.events.push([\"initialized\", function () {\n    var t = this;\n    t.outline = {\n      createNamedDestinations: !1,\n      root: {\n        children: []\n      }\n    }, t.outline.add = function (t, e, r) {\n      var n = {\n        title: e,\n        options: r,\n        children: []\n      };\n      return null == t && (t = this.root), t.children.push(n), n;\n    }, t.outline.render = function () {\n      return this.ctx = {}, this.ctx.val = \"\", this.ctx.pdf = t, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val;\n    }, t.outline.genIds_r = function (e) {\n      e.id = t.internal.newObjectDeferred();\n      for (var r = 0; r < e.children.length; r++) this.genIds_r(e.children[r]);\n    }, t.outline.renderRoot = function (t) {\n      this.objStart(t), this.line(\"/Type /Outlines\"), t.children.length > 0 && (this.line(\"/First \" + this.makeRef(t.children[0])), this.line(\"/Last \" + this.makeRef(t.children[t.children.length - 1]))), this.line(\"/Count \" + this.count_r({\n        count: 0\n      }, t)), this.objEnd();\n    }, t.outline.renderItems = function (e) {\n      for (var r = this.ctx.pdf.internal.getVerticalCoordinateString, n = 0; n < e.children.length; n++) {\n        var i = e.children[n];\n        this.objStart(i), this.line(\"/Title \" + this.makeString(i.title)), this.line(\"/Parent \" + this.makeRef(e)), n > 0 && this.line(\"/Prev \" + this.makeRef(e.children[n - 1])), n < e.children.length - 1 && this.line(\"/Next \" + this.makeRef(e.children[n + 1])), i.children.length > 0 && (this.line(\"/First \" + this.makeRef(i.children[0])), this.line(\"/Last \" + this.makeRef(i.children[i.children.length - 1])));\n        var a = this.count = this.count_r({\n          count: 0\n        }, i);\n        if (a > 0 && this.line(\"/Count \" + a), i.options && i.options.pageNumber) {\n          var o = t.internal.getPageInfo(i.options.pageNumber);\n          this.line(\"/Dest [\" + o.objId + \" 0 R /XYZ 0 \" + r(0) + \" 0]\");\n        }\n        this.objEnd();\n      }\n      for (var s = 0; s < e.children.length; s++) this.renderItems(e.children[s]);\n    }, t.outline.line = function (t) {\n      this.ctx.val += t + \"\\r\\n\";\n    }, t.outline.makeRef = function (t) {\n      return t.id + \" 0 R\";\n    }, t.outline.makeString = function (e) {\n      return \"(\" + t.internal.pdfEscape(e) + \")\";\n    }, t.outline.objStart = function (t) {\n      this.ctx.val += \"\\r\\n\" + t.id + \" 0 obj\\r\\n<<\\r\\n\";\n    }, t.outline.objEnd = function () {\n      this.ctx.val += \">> \\r\\nendobj\\r\\n\";\n    }, t.outline.count_r = function (t, e) {\n      for (var r = 0; r < e.children.length; r++) t.count++, this.count_r(t, e.children[r]);\n      return t.count;\n    };\n  }]);\n}(E.API),\n/**\n * @license\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e = [192, 193, 194, 195, 196, 197, 198, 199];\n  t.processJPEG = function (t, r, n, i, a, o) {\n    var s,\n      c = this.decode.DCT_DECODE,\n      u = null;\n    if (\"string\" == typeof t || this.__addimage__.isArrayBuffer(t) || this.__addimage__.isArrayBufferView(t)) {\n      switch (t = a || t, t = this.__addimage__.isArrayBuffer(t) ? new Uint8Array(t) : t, (s = function (t) {\n        for (var r, n = 256 * t.charCodeAt(4) + t.charCodeAt(5), i = t.length, a = {\n            width: 0,\n            height: 0,\n            numcomponents: 1\n          }, o = 4; o < i; o += 2) {\n          if (o += n, -1 !== e.indexOf(t.charCodeAt(o + 1))) {\n            r = 256 * t.charCodeAt(o + 5) + t.charCodeAt(o + 6), a = {\n              width: 256 * t.charCodeAt(o + 7) + t.charCodeAt(o + 8),\n              height: r,\n              numcomponents: t.charCodeAt(o + 9)\n            };\n            break;\n          }\n          n = 256 * t.charCodeAt(o + 2) + t.charCodeAt(o + 3);\n        }\n        return a;\n      }(t = this.__addimage__.isArrayBufferView(t) ? this.__addimage__.arrayBufferToBinaryString(t) : t)).numcomponents) {\n        case 1:\n          o = this.color_spaces.DEVICE_GRAY;\n          break;\n        case 4:\n          o = this.color_spaces.DEVICE_CMYK;\n          break;\n        case 3:\n          o = this.color_spaces.DEVICE_RGB;\n      }\n      u = {\n        data: t,\n        width: s.width,\n        height: s.height,\n        colorSpace: o,\n        bitsPerComponent: 8,\n        filter: c,\n        index: r,\n        alias: n\n      };\n    }\n    return u;\n  };\n}(E.API);\nvar Vt,\n  Gt,\n  Yt,\n  Jt,\n  Xt,\n  Kt = function () {\n    var t, e, i;\n    function a(t) {\n      var e, r, n, i, a, o, s, c, u, h, l, f, d, p;\n      for (this.data = t, this.pos = 8, this.palette = [], this.imgData = [], this.transparency = {}, this.animation = null, this.text = {}, o = null;;) {\n        switch (e = this.readUInt32(), u = function () {\n          var t, e;\n          for (e = [], t = 0; t < 4; ++t) e.push(String.fromCharCode(this.data[this.pos++]));\n          return e;\n        }.call(this).join(\"\")) {\n          case \"IHDR\":\n            this.width = this.readUInt32(), this.height = this.readUInt32(), this.bits = this.data[this.pos++], this.colorType = this.data[this.pos++], this.compressionMethod = this.data[this.pos++], this.filterMethod = this.data[this.pos++], this.interlaceMethod = this.data[this.pos++];\n            break;\n          case \"acTL\":\n            this.animation = {\n              numFrames: this.readUInt32(),\n              numPlays: this.readUInt32() || 1 / 0,\n              frames: []\n            };\n            break;\n          case \"PLTE\":\n            this.palette = this.read(e);\n            break;\n          case \"fcTL\":\n            o && this.animation.frames.push(o), this.pos += 4, o = {\n              width: this.readUInt32(),\n              height: this.readUInt32(),\n              xOffset: this.readUInt32(),\n              yOffset: this.readUInt32()\n            }, a = this.readUInt16(), i = this.readUInt16() || 100, o.delay = 1e3 * a / i, o.disposeOp = this.data[this.pos++], o.blendOp = this.data[this.pos++], o.data = [];\n            break;\n          case \"IDAT\":\n          case \"fdAT\":\n            for (\"fdAT\" === u && (this.pos += 4, e -= 4), t = (null != o ? o.data : void 0) || this.imgData, f = 0; 0 <= e ? f < e : f > e; 0 <= e ? ++f : --f) t.push(this.data[this.pos++]);\n            break;\n          case \"tRNS\":\n            switch (this.transparency = {}, this.colorType) {\n              case 3:\n                if (n = this.palette.length / 3, this.transparency.indexed = this.read(e), this.transparency.indexed.length > n) throw new Error(\"More transparent colors than palette size\");\n                if ((h = n - this.transparency.indexed.length) > 0) for (d = 0; 0 <= h ? d < h : d > h; 0 <= h ? ++d : --d) this.transparency.indexed.push(255);\n                break;\n              case 0:\n                this.transparency.grayscale = this.read(e)[0];\n                break;\n              case 2:\n                this.transparency.rgb = this.read(e);\n            }\n            break;\n          case \"tEXt\":\n            s = (l = this.read(e)).indexOf(0), c = String.fromCharCode.apply(String, l.slice(0, s)), this.text[c] = String.fromCharCode.apply(String, l.slice(s + 1));\n            break;\n          case \"IEND\":\n            return o && this.animation.frames.push(o), this.colors = function () {\n              switch (this.colorType) {\n                case 0:\n                case 3:\n                case 4:\n                  return 1;\n                case 2:\n                case 6:\n                  return 3;\n              }\n            }.call(this), this.hasAlphaChannel = 4 === (p = this.colorType) || 6 === p, r = this.colors + (this.hasAlphaChannel ? 1 : 0), this.pixelBitlength = this.bits * r, this.colorSpace = function () {\n              switch (this.colors) {\n                case 1:\n                  return \"DeviceGray\";\n                case 3:\n                  return \"DeviceRGB\";\n              }\n            }.call(this), void (this.imgData = new Uint8Array(this.imgData));\n          default:\n            this.pos += e;\n        }\n        if (this.pos += 4, this.pos > this.data.length) throw new Error(\"Incomplete or corrupt PNG file\");\n      }\n    }\n    a.prototype.read = function (t) {\n      var e, r;\n      for (r = [], e = 0; 0 <= t ? e < t : e > t; 0 <= t ? ++e : --e) r.push(this.data[this.pos++]);\n      return r;\n    }, a.prototype.readUInt32 = function () {\n      return this.data[this.pos++] << 24 | this.data[this.pos++] << 16 | this.data[this.pos++] << 8 | this.data[this.pos++];\n    }, a.prototype.readUInt16 = function () {\n      return this.data[this.pos++] << 8 | this.data[this.pos++];\n    }, a.prototype.decodePixels = function (t) {\n      var e = this.pixelBitlength / 8,\n        n = new Uint8Array(this.width * this.height * e),\n        i = 0,\n        a = this;\n      if (null == t && (t = this.imgData), 0 === t.length) return new Uint8Array(0);\n      function o(r, o, s, c) {\n        var u,\n          h,\n          l,\n          f,\n          d,\n          p,\n          g,\n          m,\n          v,\n          b,\n          y,\n          w,\n          N,\n          L,\n          A,\n          x,\n          S,\n          _,\n          P,\n          k,\n          I,\n          F = Math.ceil((a.width - r) / s),\n          C = Math.ceil((a.height - o) / c),\n          j = a.width == F && a.height == C;\n        for (L = e * F, w = j ? n : new Uint8Array(L * C), p = t.length, N = 0, h = 0; N < C && i < p;) {\n          switch (t[i++]) {\n            case 0:\n              for (f = S = 0; S < L; f = S += 1) w[h++] = t[i++];\n              break;\n            case 1:\n              for (f = _ = 0; _ < L; f = _ += 1) u = t[i++], d = f < e ? 0 : w[h - e], w[h++] = (u + d) % 256;\n              break;\n            case 2:\n              for (f = P = 0; P < L; f = P += 1) u = t[i++], l = (f - f % e) / e, A = N && w[(N - 1) * L + l * e + f % e], w[h++] = (A + u) % 256;\n              break;\n            case 3:\n              for (f = k = 0; k < L; f = k += 1) u = t[i++], l = (f - f % e) / e, d = f < e ? 0 : w[h - e], A = N && w[(N - 1) * L + l * e + f % e], w[h++] = (u + Math.floor((d + A) / 2)) % 256;\n              break;\n            case 4:\n              for (f = I = 0; I < L; f = I += 1) u = t[i++], l = (f - f % e) / e, d = f < e ? 0 : w[h - e], 0 === N ? A = x = 0 : (A = w[(N - 1) * L + l * e + f % e], x = l && w[(N - 1) * L + (l - 1) * e + f % e]), g = d + A - x, m = Math.abs(g - d), b = Math.abs(g - A), y = Math.abs(g - x), v = m <= b && m <= y ? d : b <= y ? A : x, w[h++] = (u + v) % 256;\n              break;\n            default:\n              throw new Error(\"Invalid filter algorithm: \" + t[i - 1]);\n          }\n          if (!j) {\n            var O = ((o + N * c) * a.width + r) * e,\n              B = N * L;\n            for (f = 0; f < F; f += 1) {\n              for (var M = 0; M < e; M += 1) n[O++] = w[B++];\n              O += (s - 1) * e;\n            }\n          }\n          N++;\n        }\n      }\n      return t = (0,fflate__WEBPACK_IMPORTED_MODULE_9__.unzlibSync)(t), 1 == a.interlaceMethod ? (o(0, 0, 8, 8), o(4, 0, 8, 8), o(0, 4, 4, 8), o(2, 0, 4, 4), o(0, 2, 2, 4), o(1, 0, 2, 2), o(0, 1, 1, 2)) : o(0, 0, 1, 1), n;\n    }, a.prototype.decodePalette = function () {\n      var t, e, r, n, i, a, o, s, c;\n      for (r = this.palette, a = this.transparency.indexed || [], i = new Uint8Array((a.length || 0) + r.length), n = 0, t = 0, e = o = 0, s = r.length; o < s; e = o += 3) i[n++] = r[e], i[n++] = r[e + 1], i[n++] = r[e + 2], i[n++] = null != (c = a[t++]) ? c : 255;\n      return i;\n    }, a.prototype.copyToImageData = function (t, e) {\n      var r, n, i, a, o, s, c, u, h, l, f;\n      if (n = this.colors, h = null, r = this.hasAlphaChannel, this.palette.length && (h = null != (f = this._decodedPalette) ? f : this._decodedPalette = this.decodePalette(), n = 4, r = !0), u = (i = t.data || t).length, o = h || e, a = s = 0, 1 === n) for (; a < u;) c = h ? 4 * e[a / 4] : s, l = o[c++], i[a++] = l, i[a++] = l, i[a++] = l, i[a++] = r ? o[c++] : 255, s = c;else for (; a < u;) c = h ? 4 * e[a / 4] : s, i[a++] = o[c++], i[a++] = o[c++], i[a++] = o[c++], i[a++] = r ? o[c++] : 255, s = c;\n    }, a.prototype.decode = function () {\n      var t;\n      return t = new Uint8Array(this.width * this.height * 4), this.copyToImageData(t, this.decodePixels()), t;\n    };\n    var o = function () {\n      if (\"[object Window]\" === Object.prototype.toString.call(n)) {\n        try {\n          e = n.document.createElement(\"canvas\"), i = e.getContext(\"2d\");\n        } catch (t) {\n          return !1;\n        }\n        return !0;\n      }\n      return !1;\n    };\n    return o(), t = function (t) {\n      var r;\n      if (!0 === o()) return i.width = t.width, i.height = t.height, i.clearRect(0, 0, t.width, t.height), i.putImageData(t, 0, 0), (r = new Image()).src = e.toDataURL(), r;\n      throw new Error(\"This method requires a Browser with Canvas-capability.\");\n    }, a.prototype.decodeFrames = function (e) {\n      var r, n, i, a, o, s, c, u;\n      if (this.animation) {\n        for (u = [], n = o = 0, s = (c = this.animation.frames).length; o < s; n = ++o) r = c[n], i = e.createImageData(r.width, r.height), a = this.decodePixels(new Uint8Array(r.data)), this.copyToImageData(i, a), r.imageData = i, u.push(r.image = t(i));\n        return u;\n      }\n    }, a.prototype.renderFrame = function (t, e) {\n      var r, n, i;\n      return r = (n = this.animation.frames)[e], i = n[e - 1], 0 === e && t.clearRect(0, 0, this.width, this.height), 1 === (null != i ? i.disposeOp : void 0) ? t.clearRect(i.xOffset, i.yOffset, i.width, i.height) : 2 === (null != i ? i.disposeOp : void 0) && t.putImageData(i.imageData, i.xOffset, i.yOffset), 0 === r.blendOp && t.clearRect(r.xOffset, r.yOffset, r.width, r.height), t.drawImage(r.image, r.xOffset, r.yOffset);\n    }, a.prototype.animate = function (t) {\n      var e,\n        r,\n        n,\n        i,\n        a,\n        o,\n        s = this;\n      return r = 0, o = this.animation, i = o.numFrames, n = o.frames, a = o.numPlays, (e = function () {\n        var o, c;\n        if (o = r++ % i, c = n[o], s.renderFrame(t, o), i > 1 && r / i < a) return s.animation._timeout = setTimeout(e, c.delay);\n      })();\n    }, a.prototype.stopAnimation = function () {\n      var t;\n      return clearTimeout(null != (t = this.animation) ? t._timeout : void 0);\n    }, a.prototype.render = function (t) {\n      var e, r;\n      return t._png && t._png.stopAnimation(), t._png = this, t.width = this.width, t.height = this.height, e = t.getContext(\"2d\"), this.animation ? (this.decodeFrames(e), this.animate(e)) : (r = e.createImageData(this.width, this.height), this.copyToImageData(r, this.decodePixels()), e.putImageData(r, 0, 0));\n    }, a;\n  }();\n/**\n * @license\n *\n * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * ====================================================================\n */\n/**\n * @license\n * (c) Dean McNamee <dean@gmail.com>, 2013.\n *\n * https://github.com/deanm/omggif\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n *\n * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,\n * including animation and compression.  It does not rely on any specific\n * underlying system, so should run in the browser, Node, or Plask.\n */\nfunction Zt(t) {\n  var e = 0;\n  if (71 !== t[e++] || 73 !== t[e++] || 70 !== t[e++] || 56 !== t[e++] || 56 != (t[e++] + 1 & 253) || 97 !== t[e++]) throw new Error(\"Invalid GIF 87a/89a header.\");\n  var r = t[e++] | t[e++] << 8,\n    n = t[e++] | t[e++] << 8,\n    i = t[e++],\n    a = i >> 7,\n    o = 1 << (7 & i) + 1;\n  t[e++], t[e++];\n  var s = null,\n    c = null;\n  a && (s = e, c = o, e += 3 * o);\n  var u = !0,\n    h = [],\n    l = 0,\n    f = null,\n    d = 0,\n    p = null;\n  for (this.width = r, this.height = n; u && e < t.length;) switch (t[e++]) {\n    case 33:\n      switch (t[e++]) {\n        case 255:\n          if (11 !== t[e] || 78 == t[e + 1] && 69 == t[e + 2] && 84 == t[e + 3] && 83 == t[e + 4] && 67 == t[e + 5] && 65 == t[e + 6] && 80 == t[e + 7] && 69 == t[e + 8] && 50 == t[e + 9] && 46 == t[e + 10] && 48 == t[e + 11] && 3 == t[e + 12] && 1 == t[e + 13] && 0 == t[e + 16]) e += 14, p = t[e++] | t[e++] << 8, e++;else for (e += 12;;) {\n            if (!((P = t[e++]) >= 0)) throw Error(\"Invalid block size\");\n            if (0 === P) break;\n            e += P;\n          }\n          break;\n        case 249:\n          if (4 !== t[e++] || 0 !== t[e + 4]) throw new Error(\"Invalid graphics extension block.\");\n          var g = t[e++];\n          l = t[e++] | t[e++] << 8, f = t[e++], 0 == (1 & g) && (f = null), d = g >> 2 & 7, e++;\n          break;\n        case 254:\n          for (;;) {\n            if (!((P = t[e++]) >= 0)) throw Error(\"Invalid block size\");\n            if (0 === P) break;\n            e += P;\n          }\n          break;\n        default:\n          throw new Error(\"Unknown graphic control label: 0x\" + t[e - 1].toString(16));\n      }\n      break;\n    case 44:\n      var m = t[e++] | t[e++] << 8,\n        v = t[e++] | t[e++] << 8,\n        b = t[e++] | t[e++] << 8,\n        y = t[e++] | t[e++] << 8,\n        w = t[e++],\n        N = w >> 6 & 1,\n        L = 1 << (7 & w) + 1,\n        A = s,\n        x = c,\n        S = !1;\n      if (w >> 7) {\n        S = !0;\n        A = e, x = L, e += 3 * L;\n      }\n      var _ = e;\n      for (e++;;) {\n        var P;\n        if (!((P = t[e++]) >= 0)) throw Error(\"Invalid block size\");\n        if (0 === P) break;\n        e += P;\n      }\n      h.push({\n        x: m,\n        y: v,\n        width: b,\n        height: y,\n        has_local_palette: S,\n        palette_offset: A,\n        palette_size: x,\n        data_offset: _,\n        data_length: e - _,\n        transparent_index: f,\n        interlaced: !!N,\n        delay: l,\n        disposal: d\n      });\n      break;\n    case 59:\n      u = !1;\n      break;\n    default:\n      throw new Error(\"Unknown gif block: 0x\" + t[e - 1].toString(16));\n  }\n  this.numFrames = function () {\n    return h.length;\n  }, this.loopCount = function () {\n    return p;\n  }, this.frameInfo = function (t) {\n    if (t < 0 || t >= h.length) throw new Error(\"Frame index out of range.\");\n    return h[t];\n  }, this.decodeAndBlitFrameBGRA = function (e, n) {\n    var i = this.frameInfo(e),\n      a = i.width * i.height,\n      o = new Uint8Array(a);\n    $t(t, i.data_offset, o, a);\n    var s = i.palette_offset,\n      c = i.transparent_index;\n    null === c && (c = 256);\n    var u = i.width,\n      h = r - u,\n      l = u,\n      f = 4 * (i.y * r + i.x),\n      d = 4 * ((i.y + i.height) * r + i.x),\n      p = f,\n      g = 4 * h;\n    !0 === i.interlaced && (g += 4 * r * 7);\n    for (var m = 8, v = 0, b = o.length; v < b; ++v) {\n      var y = o[v];\n      if (0 === l && (l = u, (p += g) >= d && (g = 4 * h + 4 * r * (m - 1), p = f + (u + h) * (m << 1), m >>= 1)), y === c) p += 4;else {\n        var w = t[s + 3 * y],\n          N = t[s + 3 * y + 1],\n          L = t[s + 3 * y + 2];\n        n[p++] = L, n[p++] = N, n[p++] = w, n[p++] = 255;\n      }\n      --l;\n    }\n  }, this.decodeAndBlitFrameRGBA = function (e, n) {\n    var i = this.frameInfo(e),\n      a = i.width * i.height,\n      o = new Uint8Array(a);\n    $t(t, i.data_offset, o, a);\n    var s = i.palette_offset,\n      c = i.transparent_index;\n    null === c && (c = 256);\n    var u = i.width,\n      h = r - u,\n      l = u,\n      f = 4 * (i.y * r + i.x),\n      d = 4 * ((i.y + i.height) * r + i.x),\n      p = f,\n      g = 4 * h;\n    !0 === i.interlaced && (g += 4 * r * 7);\n    for (var m = 8, v = 0, b = o.length; v < b; ++v) {\n      var y = o[v];\n      if (0 === l && (l = u, (p += g) >= d && (g = 4 * h + 4 * r * (m - 1), p = f + (u + h) * (m << 1), m >>= 1)), y === c) p += 4;else {\n        var w = t[s + 3 * y],\n          N = t[s + 3 * y + 1],\n          L = t[s + 3 * y + 2];\n        n[p++] = w, n[p++] = N, n[p++] = L, n[p++] = 255;\n      }\n      --l;\n    }\n  };\n}\nfunction $t(t, e, r, n) {\n  for (var i = t[e++], o = 1 << i, s = o + 1, c = s + 1, u = i + 1, h = (1 << u) - 1, l = 0, f = 0, d = 0, p = t[e++], g = new Int32Array(4096), m = null;;) {\n    for (; l < 16 && 0 !== p;) f |= t[e++] << l, l += 8, 1 === p ? p = t[e++] : --p;\n    if (l < u) break;\n    var v = f & h;\n    if (f >>= u, l -= u, v !== o) {\n      if (v === s) break;\n      for (var b = v < c ? v : m, y = 0, w = b; w > o;) w = g[w] >> 8, ++y;\n      var N = w;\n      if (d + y + (b !== v ? 1 : 0) > n) return void a.log(\"Warning, gif stream longer than expected.\");\n      r[d++] = N;\n      var L = d += y;\n      for (b !== v && (r[d++] = N), w = b; y--;) w = g[w], r[--L] = 255 & w, w >>= 8;\n      null !== m && c < 4096 && (g[c++] = m << 8 | N, c >= h + 1 && u < 12 && (++u, h = h << 1 | 1)), m = v;\n    } else c = s + 1, h = (1 << (u = i + 1)) - 1, m = null;\n  }\n  return d !== n && a.log(\"Warning, gif stream shorter than expected.\"), r;\n}\n/**\n * @license\n  Copyright (c) 2008, Adobe Systems Incorporated\n  All rights reserved.\n\n  Redistribution and use in source and binary forms, with or without \n  modification, are permitted provided that the following conditions are\n  met:\n\n  * Redistributions of source code must retain the above copyright notice, \n    this list of conditions and the following disclaimer.\n  \n  * Redistributions in binary form must reproduce the above copyright\n    notice, this list of conditions and the following disclaimer in the \n    documentation and/or other materials provided with the distribution.\n  \n  * Neither the name of Adobe Systems Incorporated nor the names of its \n    contributors may be used to endorse or promote products derived from \n    this software without specific prior written permission.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n  IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR \n  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nfunction Qt(t) {\n  var e,\n    r,\n    n,\n    i,\n    a,\n    o = Math.floor,\n    s = new Array(64),\n    c = new Array(64),\n    u = new Array(64),\n    h = new Array(64),\n    l = new Array(65535),\n    f = new Array(65535),\n    d = new Array(64),\n    p = new Array(64),\n    g = [],\n    m = 0,\n    v = 7,\n    b = new Array(64),\n    y = new Array(64),\n    w = new Array(64),\n    N = new Array(256),\n    L = new Array(2048),\n    A = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63],\n    x = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],\n    S = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n    _ = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125],\n    P = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250],\n    k = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],\n    I = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],\n    F = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119],\n    C = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250];\n  function j(t, e) {\n    for (var r = 0, n = 0, i = new Array(), a = 1; a <= 16; a++) {\n      for (var o = 1; o <= t[a]; o++) i[e[n]] = [], i[e[n]][0] = r, i[e[n]][1] = a, n++, r++;\n      r *= 2;\n    }\n    return i;\n  }\n  function O(t) {\n    for (var e = t[0], r = t[1] - 1; r >= 0;) e & 1 << r && (m |= 1 << v), r--, --v < 0 && (255 == m ? (B(255), B(0)) : B(m), v = 7, m = 0);\n  }\n  function B(t) {\n    g.push(t);\n  }\n  function M(t) {\n    B(t >> 8 & 255), B(255 & t);\n  }\n  function E(t, e, r, n, i) {\n    for (var a, o = i[0], s = i[240], c = function (t, e) {\n        var r,\n          n,\n          i,\n          a,\n          o,\n          s,\n          c,\n          u,\n          h,\n          l,\n          f = 0;\n        for (h = 0; h < 8; ++h) {\n          r = t[f], n = t[f + 1], i = t[f + 2], a = t[f + 3], o = t[f + 4], s = t[f + 5], c = t[f + 6];\n          var p = r + (u = t[f + 7]),\n            g = r - u,\n            m = n + c,\n            v = n - c,\n            b = i + s,\n            y = i - s,\n            w = a + o,\n            N = a - o,\n            L = p + w,\n            A = p - w,\n            x = m + b,\n            S = m - b;\n          t[f] = L + x, t[f + 4] = L - x;\n          var _ = .707106781 * (S + A);\n          t[f + 2] = A + _, t[f + 6] = A - _;\n          var P = .382683433 * ((L = N + y) - (S = v + g)),\n            k = .5411961 * L + P,\n            I = 1.306562965 * S + P,\n            F = .707106781 * (x = y + v),\n            C = g + F,\n            j = g - F;\n          t[f + 5] = j + k, t[f + 3] = j - k, t[f + 1] = C + I, t[f + 7] = C - I, f += 8;\n        }\n        for (f = 0, h = 0; h < 8; ++h) {\n          r = t[f], n = t[f + 8], i = t[f + 16], a = t[f + 24], o = t[f + 32], s = t[f + 40], c = t[f + 48];\n          var O = r + (u = t[f + 56]),\n            B = r - u,\n            M = n + c,\n            E = n - c,\n            q = i + s,\n            D = i - s,\n            R = a + o,\n            T = a - o,\n            U = O + R,\n            z = O - R,\n            H = M + q,\n            W = M - q;\n          t[f] = U + H, t[f + 32] = U - H;\n          var V = .707106781 * (W + z);\n          t[f + 16] = z + V, t[f + 48] = z - V;\n          var G = .382683433 * ((U = T + D) - (W = E + B)),\n            Y = .5411961 * U + G,\n            J = 1.306562965 * W + G,\n            X = .707106781 * (H = D + E),\n            K = B + X,\n            Z = B - X;\n          t[f + 40] = Z + Y, t[f + 24] = Z - Y, t[f + 8] = K + J, t[f + 56] = K - J, f++;\n        }\n        for (h = 0; h < 64; ++h) l = t[h] * e[h], d[h] = l > 0 ? l + .5 | 0 : l - .5 | 0;\n        return d;\n      }(t, e), u = 0; u < 64; ++u) p[A[u]] = c[u];\n    var h = p[0] - r;\n    r = p[0], 0 == h ? O(n[0]) : (O(n[f[a = 32767 + h]]), O(l[a]));\n    for (var g = 63; g > 0 && 0 == p[g];) g--;\n    if (0 == g) return O(o), r;\n    for (var m, v = 1; v <= g;) {\n      for (var b = v; 0 == p[v] && v <= g;) ++v;\n      var y = v - b;\n      if (y >= 16) {\n        m = y >> 4;\n        for (var w = 1; w <= m; ++w) O(s);\n        y &= 15;\n      }\n      a = 32767 + p[v], O(i[(y << 4) + f[a]]), O(l[a]), v++;\n    }\n    return 63 != g && O(o), r;\n  }\n  function q(t) {\n    (t = Math.min(Math.max(t, 1), 100), a != t) && (!function (t) {\n      for (var e = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99], r = 0; r < 64; r++) {\n        var n = o((e[r] * t + 50) / 100);\n        n = Math.min(Math.max(n, 1), 255), s[A[r]] = n;\n      }\n      for (var i = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99], a = 0; a < 64; a++) {\n        var l = o((i[a] * t + 50) / 100);\n        l = Math.min(Math.max(l, 1), 255), c[A[a]] = l;\n      }\n      for (var f = [1, 1.387039845, 1.306562965, 1.175875602, 1, .785694958, .5411961, .275899379], d = 0, p = 0; p < 8; p++) for (var g = 0; g < 8; g++) u[d] = 1 / (s[A[d]] * f[p] * f[g] * 8), h[d] = 1 / (c[A[d]] * f[p] * f[g] * 8), d++;\n    }(t < 50 ? Math.floor(5e3 / t) : Math.floor(200 - 2 * t)), a = t);\n  }\n  this.encode = function (t, a) {\n    a && q(a), g = new Array(), m = 0, v = 7, M(65496), M(65504), M(16), B(74), B(70), B(73), B(70), B(0), B(1), B(1), B(0), M(1), M(1), B(0), B(0), function () {\n      M(65499), M(132), B(0);\n      for (var t = 0; t < 64; t++) B(s[t]);\n      B(1);\n      for (var e = 0; e < 64; e++) B(c[e]);\n    }(), function (t, e) {\n      M(65472), M(17), B(8), M(e), M(t), B(3), B(1), B(17), B(0), B(2), B(17), B(1), B(3), B(17), B(1);\n    }(t.width, t.height), function () {\n      M(65476), M(418), B(0);\n      for (var t = 0; t < 16; t++) B(x[t + 1]);\n      for (var e = 0; e <= 11; e++) B(S[e]);\n      B(16);\n      for (var r = 0; r < 16; r++) B(_[r + 1]);\n      for (var n = 0; n <= 161; n++) B(P[n]);\n      B(1);\n      for (var i = 0; i < 16; i++) B(k[i + 1]);\n      for (var a = 0; a <= 11; a++) B(I[a]);\n      B(17);\n      for (var o = 0; o < 16; o++) B(F[o + 1]);\n      for (var s = 0; s <= 161; s++) B(C[s]);\n    }(), M(65498), M(12), B(3), B(1), B(0), B(2), B(17), B(3), B(17), B(0), B(63), B(0);\n    var o = 0,\n      l = 0,\n      f = 0;\n    m = 0, v = 7, this.encode.displayName = \"_encode_\";\n    for (var d, p, N, A, j, D, R, T, U, z = t.data, H = t.width, W = t.height, V = 4 * H, G = 0; G < W;) {\n      for (d = 0; d < V;) {\n        for (j = V * G + d, R = -1, T = 0, U = 0; U < 64; U++) D = j + (T = U >> 3) * V + (R = 4 * (7 & U)), G + T >= W && (D -= V * (G + 1 + T - W)), d + R >= V && (D -= d + R - V + 4), p = z[D++], N = z[D++], A = z[D++], b[U] = (L[p] + L[N + 256 >> 0] + L[A + 512 >> 0] >> 16) - 128, y[U] = (L[p + 768 >> 0] + L[N + 1024 >> 0] + L[A + 1280 >> 0] >> 16) - 128, w[U] = (L[p + 1280 >> 0] + L[N + 1536 >> 0] + L[A + 1792 >> 0] >> 16) - 128;\n        o = E(b, u, o, e, n), l = E(y, h, l, r, i), f = E(w, h, f, r, i), d += 32;\n      }\n      G += 8;\n    }\n    if (v >= 0) {\n      var Y = [];\n      Y[1] = v + 1, Y[0] = (1 << v + 1) - 1, O(Y);\n    }\n    return M(65497), new Uint8Array(g);\n  }, t = t || 50, function () {\n    for (var t = String.fromCharCode, e = 0; e < 256; e++) N[e] = t(e);\n  }(), e = j(x, S), r = j(k, I), n = j(_, P), i = j(F, C), function () {\n    for (var t = 1, e = 2, r = 1; r <= 15; r++) {\n      for (var n = t; n < e; n++) f[32767 + n] = r, l[32767 + n] = [], l[32767 + n][1] = r, l[32767 + n][0] = n;\n      for (var i = -(e - 1); i <= -t; i++) f[32767 + i] = r, l[32767 + i] = [], l[32767 + i][1] = r, l[32767 + i][0] = e - 1 + i;\n      t <<= 1, e <<= 1;\n    }\n  }(), function () {\n    for (var t = 0; t < 256; t++) L[t] = 19595 * t, L[t + 256 >> 0] = 38470 * t, L[t + 512 >> 0] = 7471 * t + 32768, L[t + 768 >> 0] = -11059 * t, L[t + 1024 >> 0] = -21709 * t, L[t + 1280 >> 0] = 32768 * t + 8421375, L[t + 1536 >> 0] = -27439 * t, L[t + 1792 >> 0] = -5329 * t;\n  }(), q(t);\n}\n/**\n * @license\n * Copyright (c) 2017 Aras Abbasi\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction te(t, e) {\n  if (this.pos = 0, this.buffer = t, this.datav = new DataView(t.buffer), this.is_with_alpha = !!e, this.bottom_up = !0, this.flag = String.fromCharCode(this.buffer[0]) + String.fromCharCode(this.buffer[1]), this.pos += 2, -1 === [\"BM\", \"BA\", \"CI\", \"CP\", \"IC\", \"PT\"].indexOf(this.flag)) throw new Error(\"Invalid BMP File\");\n  this.parseHeader(), this.parseBGR();\n}\nfunction ee(t) {\n  function e(t) {\n    if (!t) throw Error(\"assert :P\");\n  }\n  function r(t, e, r) {\n    for (var n = 0; 4 > n; n++) if (t[e + n] != r.charCodeAt(n)) return !0;\n    return !1;\n  }\n  function n(t, e, r, n, i) {\n    for (var a = 0; a < i; a++) t[e + a] = r[n + a];\n  }\n  function i(t, e, r, n) {\n    for (var i = 0; i < n; i++) t[e + i] = r;\n  }\n  function a(t) {\n    return new Int32Array(t);\n  }\n  function o(t, e) {\n    for (var r = [], n = 0; n < t; n++) r.push(new e());\n    return r;\n  }\n  function s(t, e) {\n    var r = [];\n    return function t(r, n, i) {\n      for (var a = i[n], o = 0; o < a && (r.push(i.length > n + 1 ? [] : new e()), !(i.length < n + 1)); o++) t(r[o], n + 1, i);\n    }(r, 0, t), r;\n  }\n  var c = function () {\n    var t = this;\n    function c(t, e) {\n      for (var r = 1 << e - 1 >>> 0; t & r;) r >>>= 1;\n      return r ? (t & r - 1) + r : t;\n    }\n    function u(t, r, n, i, a) {\n      e(!(i % n));\n      do {\n        t[r + (i -= n)] = a;\n      } while (0 < i);\n    }\n    function h(t, r, n, i, o) {\n      if (e(2328 >= o), 512 >= o) var s = a(512);else if (null == (s = a(o))) return 0;\n      return function (t, r, n, i, o, s) {\n        var h,\n          f,\n          d = r,\n          p = 1 << n,\n          g = a(16),\n          m = a(16);\n        for (e(0 != o), e(null != i), e(null != t), e(0 < n), f = 0; f < o; ++f) {\n          if (15 < i[f]) return 0;\n          ++g[i[f]];\n        }\n        if (g[0] == o) return 0;\n        for (m[1] = 0, h = 1; 15 > h; ++h) {\n          if (g[h] > 1 << h) return 0;\n          m[h + 1] = m[h] + g[h];\n        }\n        for (f = 0; f < o; ++f) h = i[f], 0 < i[f] && (s[m[h]++] = f);\n        if (1 == m[15]) return (i = new l()).g = 0, i.value = s[0], u(t, d, 1, p, i), p;\n        var v,\n          b = -1,\n          y = p - 1,\n          w = 0,\n          N = 1,\n          L = 1,\n          A = 1 << n;\n        for (f = 0, h = 1, o = 2; h <= n; ++h, o <<= 1) {\n          if (N += L <<= 1, 0 > (L -= g[h])) return 0;\n          for (; 0 < g[h]; --g[h]) (i = new l()).g = h, i.value = s[f++], u(t, d + w, o, A, i), w = c(w, h);\n        }\n        for (h = n + 1, o = 2; 15 >= h; ++h, o <<= 1) {\n          if (N += L <<= 1, 0 > (L -= g[h])) return 0;\n          for (; 0 < g[h]; --g[h]) {\n            if (i = new l(), (w & y) != b) {\n              for (d += A, v = 1 << (b = h) - n; 15 > b && !(0 >= (v -= g[b]));) ++b, v <<= 1;\n              p += A = 1 << (v = b - n), t[r + (b = w & y)].g = v + n, t[r + b].value = d - r - b;\n            }\n            i.g = h - n, i.value = s[f++], u(t, d + (w >> n), o, A, i), w = c(w, h);\n          }\n        }\n        return N != 2 * m[15] - 1 ? 0 : p;\n      }(t, r, n, i, o, s);\n    }\n    function l() {\n      this.value = this.g = 0;\n    }\n    function f() {\n      this.value = this.g = 0;\n    }\n    function d() {\n      this.G = o(5, l), this.H = a(5), this.jc = this.Qb = this.qb = this.nd = 0, this.pd = o(Dr, f);\n    }\n    function p(t, r, n, i) {\n      e(null != t), e(null != r), e(2147483648 > i), t.Ca = 254, t.I = 0, t.b = -8, t.Ka = 0, t.oa = r, t.pa = n, t.Jd = r, t.Yc = n + i, t.Zc = 4 <= i ? n + i - 4 + 1 : n, _(t);\n    }\n    function g(t, e) {\n      for (var r = 0; 0 < e--;) r |= k(t, 128) << e;\n      return r;\n    }\n    function m(t, e) {\n      var r = g(t, e);\n      return P(t) ? -r : r;\n    }\n    function v(t, r, n, i) {\n      var a,\n        o = 0;\n      for (e(null != t), e(null != r), e(4294967288 > i), t.Sb = i, t.Ra = 0, t.u = 0, t.h = 0, 4 < i && (i = 4), a = 0; a < i; ++a) o += r[n + a] << 8 * a;\n      t.Ra = o, t.bb = i, t.oa = r, t.pa = n;\n    }\n    function b(t) {\n      for (; 8 <= t.u && t.bb < t.Sb;) t.Ra >>>= 8, t.Ra += t.oa[t.pa + t.bb] << Ur - 8 >>> 0, ++t.bb, t.u -= 8;\n      A(t) && (t.h = 1, t.u = 0);\n    }\n    function y(t, r) {\n      if (e(0 <= r), !t.h && r <= Tr) {\n        var n = L(t) & Rr[r];\n        return t.u += r, b(t), n;\n      }\n      return t.h = 1, t.u = 0;\n    }\n    function w() {\n      this.b = this.Ca = this.I = 0, this.oa = [], this.pa = 0, this.Jd = [], this.Yc = 0, this.Zc = [], this.Ka = 0;\n    }\n    function N() {\n      this.Ra = 0, this.oa = [], this.h = this.u = this.bb = this.Sb = this.pa = 0;\n    }\n    function L(t) {\n      return t.Ra >>> (t.u & Ur - 1) >>> 0;\n    }\n    function A(t) {\n      return e(t.bb <= t.Sb), t.h || t.bb == t.Sb && t.u > Ur;\n    }\n    function x(t, e) {\n      t.u = e, t.h = A(t);\n    }\n    function S(t) {\n      t.u >= zr && (e(t.u >= zr), b(t));\n    }\n    function _(t) {\n      e(null != t && null != t.oa), t.pa < t.Zc ? (t.I = (t.oa[t.pa++] | t.I << 8) >>> 0, t.b += 8) : (e(null != t && null != t.oa), t.pa < t.Yc ? (t.b += 8, t.I = t.oa[t.pa++] | t.I << 8) : t.Ka ? t.b = 0 : (t.I <<= 8, t.b += 8, t.Ka = 1));\n    }\n    function P(t) {\n      return g(t, 1);\n    }\n    function k(t, e) {\n      var r = t.Ca;\n      0 > t.b && _(t);\n      var n = t.b,\n        i = r * e >>> 8,\n        a = (t.I >>> n > i) + 0;\n      for (a ? (r -= i, t.I -= i + 1 << n >>> 0) : r = i + 1, n = r, i = 0; 256 <= n;) i += 8, n >>= 8;\n      return n = 7 ^ i + Hr[n], t.b -= n, t.Ca = (r << n) - 1, a;\n    }\n    function I(t, e, r) {\n      t[e + 0] = r >> 24 & 255, t[e + 1] = r >> 16 & 255, t[e + 2] = r >> 8 & 255, t[e + 3] = r >> 0 & 255;\n    }\n    function F(t, e) {\n      return t[e + 0] << 0 | t[e + 1] << 8;\n    }\n    function C(t, e) {\n      return F(t, e) | t[e + 2] << 16;\n    }\n    function j(t, e) {\n      return F(t, e) | F(t, e + 2) << 16;\n    }\n    function O(t, r) {\n      var n = 1 << r;\n      return e(null != t), e(0 < r), t.X = a(n), null == t.X ? 0 : (t.Mb = 32 - r, t.Xa = r, 1);\n    }\n    function B(t, r) {\n      e(null != t), e(null != r), e(t.Xa == r.Xa), n(r.X, 0, t.X, 0, 1 << r.Xa);\n    }\n    function M() {\n      this.X = [], this.Xa = this.Mb = 0;\n    }\n    function E(t, r, n, i) {\n      e(null != n), e(null != i);\n      var a = n[0],\n        o = i[0];\n      return 0 == a && (a = (t * o + r / 2) / r), 0 == o && (o = (r * a + t / 2) / t), 0 >= a || 0 >= o ? 0 : (n[0] = a, i[0] = o, 1);\n    }\n    function q(t, e) {\n      return t + (1 << e) - 1 >>> e;\n    }\n    function D(t, e) {\n      return ((4278255360 & t) + (4278255360 & e) >>> 0 & 4278255360) + ((16711935 & t) + (16711935 & e) >>> 0 & 16711935) >>> 0;\n    }\n    function R(e, r) {\n      t[r] = function (r, n, i, a, o, s, c) {\n        var u;\n        for (u = 0; u < o; ++u) {\n          var h = t[e](s[c + u - 1], i, a + u);\n          s[c + u] = D(r[n + u], h);\n        }\n      };\n    }\n    function T() {\n      this.ud = this.hd = this.jd = 0;\n    }\n    function U(t, e) {\n      return ((4278124286 & (t ^ e)) >>> 1) + (t & e) >>> 0;\n    }\n    function z(t) {\n      return 0 <= t && 256 > t ? t : 0 > t ? 0 : 255 < t ? 255 : void 0;\n    }\n    function H(t, e) {\n      return z(t + (t - e + .5 >> 1));\n    }\n    function W(t, e, r) {\n      return Math.abs(e - r) - Math.abs(t - r);\n    }\n    function V(t, e, r, n, i, a, o) {\n      for (n = a[o - 1], r = 0; r < i; ++r) a[o + r] = n = D(t[e + r], n);\n    }\n    function G(t, e, r, n, i) {\n      var a;\n      for (a = 0; a < r; ++a) {\n        var o = t[e + a],\n          s = o >> 8 & 255,\n          c = 16711935 & (c = (c = 16711935 & o) + ((s << 16) + s));\n        n[i + a] = (4278255360 & o) + c >>> 0;\n      }\n    }\n    function Y(t, e) {\n      e.jd = t >> 0 & 255, e.hd = t >> 8 & 255, e.ud = t >> 16 & 255;\n    }\n    function J(t, e, r, n, i, a) {\n      var o;\n      for (o = 0; o < n; ++o) {\n        var s = e[r + o],\n          c = s >>> 8,\n          u = s,\n          h = 255 & (h = (h = s >>> 16) + ((t.jd << 24 >> 24) * (c << 24 >> 24) >>> 5));\n        u = 255 & (u = (u = u + ((t.hd << 24 >> 24) * (c << 24 >> 24) >>> 5)) + ((t.ud << 24 >> 24) * (h << 24 >> 24) >>> 5));\n        i[a + o] = (4278255360 & s) + (h << 16) + u;\n      }\n    }\n    function X(e, r, n, i, a) {\n      t[r] = function (t, e, r, n, o, s, c, u, h) {\n        for (n = c; n < u; ++n) for (c = 0; c < h; ++c) o[s++] = a(r[i(t[e++])]);\n      }, t[e] = function (e, r, o, s, c, u, h) {\n        var l = 8 >> e.b,\n          f = e.Ea,\n          d = e.K[0],\n          p = e.w;\n        if (8 > l) for (e = (1 << e.b) - 1, p = (1 << l) - 1; r < o; ++r) {\n          var g,\n            m = 0;\n          for (g = 0; g < f; ++g) g & e || (m = i(s[c++])), u[h++] = a(d[m & p]), m >>= l;\n        } else t[\"VP8LMapColor\" + n](s, c, d, p, u, h, r, o, f);\n      };\n    }\n    function K(t, e, r, n, i) {\n      for (r = e + r; e < r;) {\n        var a = t[e++];\n        n[i++] = a >> 16 & 255, n[i++] = a >> 8 & 255, n[i++] = a >> 0 & 255;\n      }\n    }\n    function Z(t, e, r, n, i) {\n      for (r = e + r; e < r;) {\n        var a = t[e++];\n        n[i++] = a >> 16 & 255, n[i++] = a >> 8 & 255, n[i++] = a >> 0 & 255, n[i++] = a >> 24 & 255;\n      }\n    }\n    function $(t, e, r, n, i) {\n      for (r = e + r; e < r;) {\n        var a = (o = t[e++]) >> 16 & 240 | o >> 12 & 15,\n          o = o >> 0 & 240 | o >> 28 & 15;\n        n[i++] = a, n[i++] = o;\n      }\n    }\n    function Q(t, e, r, n, i) {\n      for (r = e + r; e < r;) {\n        var a = (o = t[e++]) >> 16 & 248 | o >> 13 & 7,\n          o = o >> 5 & 224 | o >> 3 & 31;\n        n[i++] = a, n[i++] = o;\n      }\n    }\n    function tt(t, e, r, n, i) {\n      for (r = e + r; e < r;) {\n        var a = t[e++];\n        n[i++] = a >> 0 & 255, n[i++] = a >> 8 & 255, n[i++] = a >> 16 & 255;\n      }\n    }\n    function et(t, e, r, i, a, o) {\n      if (0 == o) for (r = e + r; e < r;) I(i, ((o = t[e++])[0] >> 24 | o[1] >> 8 & 65280 | o[2] << 8 & 16711680 | o[3] << 24) >>> 0), a += 32;else n(i, a, t, e, r);\n    }\n    function rt(e, r) {\n      t[r][0] = t[e + \"0\"], t[r][1] = t[e + \"1\"], t[r][2] = t[e + \"2\"], t[r][3] = t[e + \"3\"], t[r][4] = t[e + \"4\"], t[r][5] = t[e + \"5\"], t[r][6] = t[e + \"6\"], t[r][7] = t[e + \"7\"], t[r][8] = t[e + \"8\"], t[r][9] = t[e + \"9\"], t[r][10] = t[e + \"10\"], t[r][11] = t[e + \"11\"], t[r][12] = t[e + \"12\"], t[r][13] = t[e + \"13\"], t[r][14] = t[e + \"0\"], t[r][15] = t[e + \"0\"];\n    }\n    function nt(t) {\n      return t == Hn || t == Wn || t == Vn || t == Gn;\n    }\n    function it() {\n      this.eb = [], this.size = this.A = this.fb = 0;\n    }\n    function at() {\n      this.y = [], this.f = [], this.ea = [], this.F = [], this.Tc = this.Ed = this.Cd = this.Fd = this.lb = this.Db = this.Ab = this.fa = this.J = this.W = this.N = this.O = 0;\n    }\n    function ot() {\n      this.Rd = this.height = this.width = this.S = 0, this.f = {}, this.f.RGBA = new it(), this.f.kb = new at(), this.sd = null;\n    }\n    function st() {\n      this.width = [0], this.height = [0], this.Pd = [0], this.Qd = [0], this.format = [0];\n    }\n    function ct() {\n      this.Id = this.fd = this.Md = this.hb = this.ib = this.da = this.bd = this.cd = this.j = this.v = this.Da = this.Sd = this.ob = 0;\n    }\n    function ut(t) {\n      return alert(\"todo:WebPSamplerProcessPlane\"), t.T;\n    }\n    function ht(t, e) {\n      var r = t.T,\n        i = e.ba.f.RGBA,\n        a = i.eb,\n        o = i.fb + t.ka * i.A,\n        s = vi[e.ba.S],\n        c = t.y,\n        u = t.O,\n        h = t.f,\n        l = t.N,\n        f = t.ea,\n        d = t.W,\n        p = e.cc,\n        g = e.dc,\n        m = e.Mc,\n        v = e.Nc,\n        b = t.ka,\n        y = t.ka + t.T,\n        w = t.U,\n        N = w + 1 >> 1;\n      for (0 == b ? s(c, u, null, null, h, l, f, d, h, l, f, d, a, o, null, null, w) : (s(e.ec, e.fc, c, u, p, g, m, v, h, l, f, d, a, o - i.A, a, o, w), ++r); b + 2 < y; b += 2) p = h, g = l, m = f, v = d, l += t.Rc, d += t.Rc, o += 2 * i.A, s(c, (u += 2 * t.fa) - t.fa, c, u, p, g, m, v, h, l, f, d, a, o - i.A, a, o, w);\n      return u += t.fa, t.j + y < t.o ? (n(e.ec, e.fc, c, u, w), n(e.cc, e.dc, h, l, N), n(e.Mc, e.Nc, f, d, N), r--) : 1 & y || s(c, u, null, null, h, l, f, d, h, l, f, d, a, o + i.A, null, null, w), r;\n    }\n    function lt(t, r, n) {\n      var i = t.F,\n        a = [t.J];\n      if (null != i) {\n        var o = t.U,\n          s = r.ba.S,\n          c = s == Tn || s == Vn;\n        r = r.ba.f.RGBA;\n        var u = [0],\n          h = t.ka;\n        u[0] = t.T, t.Kb && (0 == h ? --u[0] : (--h, a[0] -= t.width), t.j + t.ka + t.T == t.o && (u[0] = t.o - t.j - h));\n        var l = r.eb;\n        h = r.fb + h * r.A;\n        t = Sn(i, a[0], t.width, o, u, l, h + (c ? 0 : 3), r.A), e(n == u), t && nt(s) && An(l, h, c, o, u, r.A);\n      }\n      return 0;\n    }\n    function ft(t) {\n      var e = t.ma,\n        r = e.ba.S,\n        n = 11 > r,\n        i = r == qn || r == Rn || r == Tn || r == Un || 12 == r || nt(r);\n      if (e.memory = null, e.Ib = null, e.Jb = null, e.Nd = null, !Mr(e.Oa, t, i ? 11 : 12)) return 0;\n      if (i && nt(r) && br(), t.da) alert(\"todo:use_scaling\");else {\n        if (n) {\n          if (e.Ib = ut, t.Kb) {\n            if (r = t.U + 1 >> 1, e.memory = a(t.U + 2 * r), null == e.memory) return 0;\n            e.ec = e.memory, e.fc = 0, e.cc = e.ec, e.dc = e.fc + t.U, e.Mc = e.cc, e.Nc = e.dc + r, e.Ib = ht, br();\n          }\n        } else alert(\"todo:EmitYUV\");\n        i && (e.Jb = lt, n && mr());\n      }\n      if (n && !Ci) {\n        for (t = 0; 256 > t; ++t) ji[t] = 89858 * (t - 128) + _i >> Si, Mi[t] = -22014 * (t - 128) + _i, Bi[t] = -45773 * (t - 128), Oi[t] = 113618 * (t - 128) + _i >> Si;\n        for (t = Pi; t < ki; ++t) e = 76283 * (t - 16) + _i >> Si, Ei[t - Pi] = Vt(e, 255), qi[t - Pi] = Vt(e + 8 >> 4, 15);\n        Ci = 1;\n      }\n      return 1;\n    }\n    function dt(t) {\n      var r = t.ma,\n        n = t.U,\n        i = t.T;\n      return e(!(1 & t.ka)), 0 >= n || 0 >= i ? 0 : (n = r.Ib(t, r), null != r.Jb && r.Jb(t, r, n), r.Dc += n, 1);\n    }\n    function pt(t) {\n      t.ma.memory = null;\n    }\n    function gt(t, e, r, n) {\n      return 47 != y(t, 8) ? 0 : (e[0] = y(t, 14) + 1, r[0] = y(t, 14) + 1, n[0] = y(t, 1), 0 != y(t, 3) ? 0 : !t.h);\n    }\n    function mt(t, e) {\n      if (4 > t) return t + 1;\n      var r = t - 2 >> 1;\n      return (2 + (1 & t) << r) + y(e, r) + 1;\n    }\n    function vt(t, e) {\n      return 120 < e ? e - 120 : 1 <= (r = ((r = $n[e - 1]) >> 4) * t + (8 - (15 & r))) ? r : 1;\n      var r;\n    }\n    function bt(t, e, r) {\n      var n = L(r),\n        i = t[e += 255 & n].g - 8;\n      return 0 < i && (x(r, r.u + 8), n = L(r), e += t[e].value, e += n & (1 << i) - 1), x(r, r.u + t[e].g), t[e].value;\n    }\n    function yt(t, r, n) {\n      return n.g += t.g, n.value += t.value << r >>> 0, e(8 >= n.g), t.g;\n    }\n    function wt(t, r, n) {\n      var i = t.xc;\n      return e((r = 0 == i ? 0 : t.vc[t.md * (n >> i) + (r >> i)]) < t.Wb), t.Ya[r];\n    }\n    function Nt(t, r, i, a) {\n      var o = t.ab,\n        s = t.c * r,\n        c = t.C;\n      r = c + r;\n      var u = i,\n        h = a;\n      for (a = t.Ta, i = t.Ua; 0 < o--;) {\n        var l = t.gc[o],\n          f = c,\n          d = r,\n          p = u,\n          g = h,\n          m = (h = a, u = i, l.Ea);\n        switch (e(f < d), e(d <= l.nc), l.hc) {\n          case 2:\n            Gr(p, g, (d - f) * m, h, u);\n            break;\n          case 0:\n            var v = f,\n              b = d,\n              y = h,\n              w = u,\n              N = (_ = l).Ea;\n            0 == v && (Wr(p, g, null, null, 1, y, w), V(p, g + 1, 0, 0, N - 1, y, w + 1), g += N, w += N, ++v);\n            for (var L = 1 << _.b, A = L - 1, x = q(N, _.b), S = _.K, _ = _.w + (v >> _.b) * x; v < b;) {\n              var P = S,\n                k = _,\n                I = 1;\n              for (Vr(p, g, y, w - N, 1, y, w); I < N;) {\n                var F = (I & ~A) + L;\n                F > N && (F = N), (0, Zr[P[k++] >> 8 & 15])(p, g + +I, y, w + I - N, F - I, y, w + I), I = F;\n              }\n              g += N, w += N, ++v & A || (_ += x);\n            }\n            d != l.nc && n(h, u - m, h, u + (d - f - 1) * m, m);\n            break;\n          case 1:\n            for (m = p, b = g, N = (p = l.Ea) - (w = p & ~(y = (g = 1 << l.b) - 1)), v = q(p, l.b), L = l.K, l = l.w + (f >> l.b) * v; f < d;) {\n              for (A = L, x = l, S = new T(), _ = b + w, P = b + p; b < _;) Y(A[x++], S), $r(S, m, b, g, h, u), b += g, u += g;\n              b < P && (Y(A[x++], S), $r(S, m, b, N, h, u), b += N, u += N), ++f & y || (l += v);\n            }\n            break;\n          case 3:\n            if (p == h && g == u && 0 < l.b) {\n              for (b = h, p = m = u + (d - f) * m - (w = (d - f) * q(l.Ea, l.b)), g = h, y = u, v = [], w = (N = w) - 1; 0 <= w; --w) v[w] = g[y + w];\n              for (w = N - 1; 0 <= w; --w) b[p + w] = v[w];\n              Yr(l, f, d, h, m, h, u);\n            } else Yr(l, f, d, p, g, h, u);\n        }\n        u = a, h = i;\n      }\n      h != i && n(a, i, u, h, s);\n    }\n    function Lt(t, r) {\n      var n = t.V,\n        i = t.Ba + t.c * t.C,\n        a = r - t.C;\n      if (e(r <= t.l.o), e(16 >= a), 0 < a) {\n        var o = t.l,\n          s = t.Ta,\n          c = t.Ua,\n          u = o.width;\n        if (Nt(t, a, n, i), a = c = [c], e((n = t.C) < (i = r)), e(o.v < o.va), i > o.o && (i = o.o), n < o.j) {\n          var h = o.j - n;\n          n = o.j;\n          a[0] += h * u;\n        }\n        if (n >= i ? n = 0 : (a[0] += 4 * o.v, o.ka = n - o.j, o.U = o.va - o.v, o.T = i - n, n = 1), n) {\n          if (c = c[0], 11 > (n = t.ca).S) {\n            var l = n.f.RGBA,\n              f = (i = n.S, a = o.U, o = o.T, h = l.eb, l.A),\n              d = o;\n            for (l = l.fb + t.Ma * l.A; 0 < d--;) {\n              var p = s,\n                g = c,\n                m = a,\n                v = h,\n                b = l;\n              switch (i) {\n                case En:\n                  Qr(p, g, m, v, b);\n                  break;\n                case qn:\n                  tn(p, g, m, v, b);\n                  break;\n                case Hn:\n                  tn(p, g, m, v, b), An(v, b, 0, m, 1, 0);\n                  break;\n                case Dn:\n                  nn(p, g, m, v, b);\n                  break;\n                case Rn:\n                  et(p, g, m, v, b, 1);\n                  break;\n                case Wn:\n                  et(p, g, m, v, b, 1), An(v, b, 0, m, 1, 0);\n                  break;\n                case Tn:\n                  et(p, g, m, v, b, 0);\n                  break;\n                case Vn:\n                  et(p, g, m, v, b, 0), An(v, b, 1, m, 1, 0);\n                  break;\n                case Un:\n                  en(p, g, m, v, b);\n                  break;\n                case Gn:\n                  en(p, g, m, v, b), xn(v, b, m, 1, 0);\n                  break;\n                case zn:\n                  rn(p, g, m, v, b);\n                  break;\n                default:\n                  e(0);\n              }\n              c += u, l += f;\n            }\n            t.Ma += o;\n          } else alert(\"todo:EmitRescaledRowsYUVA\");\n          e(t.Ma <= n.height);\n        }\n      }\n      t.C = r, e(t.C <= t.i);\n    }\n    function At(t) {\n      var e;\n      if (0 < t.ua) return 0;\n      for (e = 0; e < t.Wb; ++e) {\n        var r = t.Ya[e].G,\n          n = t.Ya[e].H;\n        if (0 < r[1][n[1] + 0].g || 0 < r[2][n[2] + 0].g || 0 < r[3][n[3] + 0].g) return 0;\n      }\n      return 1;\n    }\n    function xt(t, r, n, i, a, o) {\n      if (0 != t.Z) {\n        var s = t.qd,\n          c = t.rd;\n        for (e(null != mi[t.Z]); r < n; ++r) mi[t.Z](s, c, i, a, i, a, o), s = i, c = a, a += o;\n        t.qd = s, t.rd = c;\n      }\n    }\n    function St(t, r) {\n      var n = t.l.ma,\n        i = 0 == n.Z || 1 == n.Z ? t.l.j : t.C;\n      i = t.C < i ? i : t.C;\n      if (e(r <= t.l.o), r > i) {\n        var a = t.l.width,\n          o = n.ca,\n          s = n.tb + a * i,\n          c = t.V,\n          u = t.Ba + t.c * i,\n          h = t.gc;\n        e(1 == t.ab), e(3 == h[0].hc), Xr(h[0], i, r, c, u, o, s), xt(n, i, r, o, s, a);\n      }\n      t.C = t.Ma = r;\n    }\n    function _t(t, r, n, i, a, o, s) {\n      var c = t.$ / i,\n        u = t.$ % i,\n        h = t.m,\n        l = t.s,\n        f = n + t.$,\n        d = f;\n      a = n + i * a;\n      var p = n + i * o,\n        g = 280 + l.ua,\n        m = t.Pb ? c : 16777216,\n        v = 0 < l.ua ? l.Wa : null,\n        b = l.wc,\n        y = f < p ? wt(l, u, c) : null;\n      e(t.C < o), e(p <= a);\n      var w = !1;\n      t: for (;;) {\n        for (; w || f < p;) {\n          var N = 0;\n          if (c >= m) {\n            var _ = f - n;\n            e((m = t).Pb), m.wd = m.m, m.xd = _, 0 < m.s.ua && B(m.s.Wa, m.s.vb), m = c + ti;\n          }\n          if (u & b || (y = wt(l, u, c)), e(null != y), y.Qb && (r[f] = y.qb, w = !0), !w) if (S(h), y.jc) {\n            N = h, _ = r;\n            var P = f,\n              k = y.pd[L(N) & Dr - 1];\n            e(y.jc), 256 > k.g ? (x(N, N.u + k.g), _[P] = k.value, N = 0) : (x(N, N.u + k.g - 256), e(256 <= k.value), N = k.value), 0 == N && (w = !0);\n          } else N = bt(y.G[0], y.H[0], h);\n          if (h.h) break;\n          if (w || 256 > N) {\n            if (!w) if (y.nd) r[f] = (y.qb | N << 8) >>> 0;else {\n              if (S(h), w = bt(y.G[1], y.H[1], h), S(h), _ = bt(y.G[2], y.H[2], h), P = bt(y.G[3], y.H[3], h), h.h) break;\n              r[f] = (P << 24 | w << 16 | N << 8 | _) >>> 0;\n            }\n            if (w = !1, ++f, ++u >= i && (u = 0, ++c, null != s && c <= o && !(c % 16) && s(t, c), null != v)) for (; d < f;) N = r[d++], v.X[(506832829 * N & 4294967295) >>> v.Mb] = N;\n          } else if (280 > N) {\n            if (N = mt(N - 256, h), _ = bt(y.G[4], y.H[4], h), S(h), _ = vt(i, _ = mt(_, h)), h.h) break;\n            if (f - n < _ || a - f < N) break t;\n            for (P = 0; P < N; ++P) r[f + P] = r[f + P - _];\n            for (f += N, u += N; u >= i;) u -= i, ++c, null != s && c <= o && !(c % 16) && s(t, c);\n            if (e(f <= a), u & b && (y = wt(l, u, c)), null != v) for (; d < f;) N = r[d++], v.X[(506832829 * N & 4294967295) >>> v.Mb] = N;\n          } else {\n            if (!(N < g)) break t;\n            for (w = N - 280, e(null != v); d < f;) N = r[d++], v.X[(506832829 * N & 4294967295) >>> v.Mb] = N;\n            N = f, e(!(w >>> (_ = v).Xa)), r[N] = _.X[w], w = !0;\n          }\n          w || e(h.h == A(h));\n        }\n        if (t.Pb && h.h && f < a) e(t.m.h), t.a = 5, t.m = t.wd, t.$ = t.xd, 0 < t.s.ua && B(t.s.vb, t.s.Wa);else {\n          if (h.h) break t;\n          null != s && s(t, c > o ? o : c), t.a = 0, t.$ = f - n;\n        }\n        return 1;\n      }\n      return t.a = 3, 0;\n    }\n    function Pt(t) {\n      e(null != t), t.vc = null, t.yc = null, t.Ya = null;\n      var r = t.Wa;\n      null != r && (r.X = null), t.vb = null, e(null != t);\n    }\n    function kt() {\n      var e = new or();\n      return null == e ? null : (e.a = 0, e.xb = gi, rt(\"Predictor\", \"VP8LPredictors\"), rt(\"Predictor\", \"VP8LPredictors_C\"), rt(\"PredictorAdd\", \"VP8LPredictorsAdd\"), rt(\"PredictorAdd\", \"VP8LPredictorsAdd_C\"), Gr = G, $r = J, Qr = K, tn = Z, en = $, rn = Q, nn = tt, t.VP8LMapColor32b = Jr, t.VP8LMapColor8b = Kr, e);\n    }\n    function It(t, r, n, s, c) {\n      var u = 1,\n        f = [t],\n        p = [r],\n        g = s.m,\n        m = s.s,\n        v = null,\n        b = 0;\n      t: for (;;) {\n        if (n) for (; u && y(g, 1);) {\n          var w = f,\n            N = p,\n            A = s,\n            _ = 1,\n            P = A.m,\n            k = A.gc[A.ab],\n            I = y(P, 2);\n          if (A.Oc & 1 << I) u = 0;else {\n            switch (A.Oc |= 1 << I, k.hc = I, k.Ea = w[0], k.nc = N[0], k.K = [null], ++A.ab, e(4 >= A.ab), I) {\n              case 0:\n              case 1:\n                k.b = y(P, 3) + 2, _ = It(q(k.Ea, k.b), q(k.nc, k.b), 0, A, k.K), k.K = k.K[0];\n                break;\n              case 3:\n                var F,\n                  C = y(P, 8) + 1,\n                  j = 16 < C ? 0 : 4 < C ? 1 : 2 < C ? 2 : 3;\n                if (w[0] = q(k.Ea, j), k.b = j, F = _ = It(C, 1, 0, A, k.K)) {\n                  var B,\n                    M = C,\n                    E = k,\n                    R = 1 << (8 >> E.b),\n                    T = a(R);\n                  if (null == T) F = 0;else {\n                    var U = E.K[0],\n                      z = E.w;\n                    for (T[0] = E.K[0][0], B = 1; B < 1 * M; ++B) T[B] = D(U[z + B], T[B - 1]);\n                    for (; B < 4 * R; ++B) T[B] = 0;\n                    E.K[0] = null, E.K[0] = T, F = 1;\n                  }\n                }\n                _ = F;\n                break;\n              case 2:\n                break;\n              default:\n                e(0);\n            }\n            u = _;\n          }\n        }\n        if (f = f[0], p = p[0], u && y(g, 1) && !(u = 1 <= (b = y(g, 4)) && 11 >= b)) {\n          s.a = 3;\n          break t;\n        }\n        var H;\n        if (H = u) e: {\n          var W,\n            V,\n            G,\n            Y = s,\n            J = f,\n            X = p,\n            K = b,\n            Z = n,\n            $ = Y.m,\n            Q = Y.s,\n            tt = [null],\n            et = 1,\n            rt = 0,\n            nt = Qn[K];\n          r: for (;;) {\n            if (Z && y($, 1)) {\n              var it = y($, 3) + 2,\n                at = q(J, it),\n                ot = q(X, it),\n                st = at * ot;\n              if (!It(at, ot, 0, Y, tt)) break r;\n              for (tt = tt[0], Q.xc = it, W = 0; W < st; ++W) {\n                var ct = tt[W] >> 8 & 65535;\n                tt[W] = ct, ct >= et && (et = ct + 1);\n              }\n            }\n            if ($.h) break r;\n            for (V = 0; 5 > V; ++V) {\n              var ut = Xn[V];\n              !V && 0 < K && (ut += 1 << K), rt < ut && (rt = ut);\n            }\n            var ht = o(et * nt, l),\n              lt = et,\n              ft = o(lt, d);\n            if (null == ft) var dt = null;else e(65536 >= lt), dt = ft;\n            var pt = a(rt);\n            if (null == dt || null == pt || null == ht) {\n              Y.a = 1;\n              break r;\n            }\n            var gt = ht;\n            for (W = G = 0; W < et; ++W) {\n              var mt = dt[W],\n                vt = mt.G,\n                bt = mt.H,\n                wt = 0,\n                Nt = 1,\n                Lt = 0;\n              for (V = 0; 5 > V; ++V) {\n                ut = Xn[V], vt[V] = gt, bt[V] = G, !V && 0 < K && (ut += 1 << K);\n                n: {\n                  var At,\n                    xt = ut,\n                    St = Y,\n                    kt = pt,\n                    Ft = gt,\n                    Ct = G,\n                    jt = 0,\n                    Ot = St.m,\n                    Bt = y(Ot, 1);\n                  if (i(kt, 0, 0, xt), Bt) {\n                    var Mt = y(Ot, 1) + 1,\n                      Et = y(Ot, 1),\n                      qt = y(Ot, 0 == Et ? 1 : 8);\n                    kt[qt] = 1, 2 == Mt && (kt[qt = y(Ot, 8)] = 1);\n                    var Dt = 1;\n                  } else {\n                    var Rt = a(19),\n                      Tt = y(Ot, 4) + 4;\n                    if (19 < Tt) {\n                      St.a = 3;\n                      var Ut = 0;\n                      break n;\n                    }\n                    for (At = 0; At < Tt; ++At) Rt[Zn[At]] = y(Ot, 3);\n                    var zt = void 0,\n                      Ht = void 0,\n                      Wt = St,\n                      Vt = Rt,\n                      Gt = xt,\n                      Yt = kt,\n                      Jt = 0,\n                      Xt = Wt.m,\n                      Kt = 8,\n                      Zt = o(128, l);\n                    i: for (; h(Zt, 0, 7, Vt, 19);) {\n                      if (y(Xt, 1)) {\n                        var $t = 2 + 2 * y(Xt, 3);\n                        if ((zt = 2 + y(Xt, $t)) > Gt) break i;\n                      } else zt = Gt;\n                      for (Ht = 0; Ht < Gt && zt--;) {\n                        S(Xt);\n                        var Qt = Zt[0 + (127 & L(Xt))];\n                        x(Xt, Xt.u + Qt.g);\n                        var te = Qt.value;\n                        if (16 > te) Yt[Ht++] = te, 0 != te && (Kt = te);else {\n                          var ee = 16 == te,\n                            re = te - 16,\n                            ne = Jn[re],\n                            ie = y(Xt, Yn[re]) + ne;\n                          if (Ht + ie > Gt) break i;\n                          for (var ae = ee ? Kt : 0; 0 < ie--;) Yt[Ht++] = ae;\n                        }\n                      }\n                      Jt = 1;\n                      break i;\n                    }\n                    Jt || (Wt.a = 3), Dt = Jt;\n                  }\n                  (Dt = Dt && !Ot.h) && (jt = h(Ft, Ct, 8, kt, xt)), Dt && 0 != jt ? Ut = jt : (St.a = 3, Ut = 0);\n                }\n                if (0 == Ut) break r;\n                if (Nt && 1 == Kn[V] && (Nt = 0 == gt[G].g), wt += gt[G].g, G += Ut, 3 >= V) {\n                  var oe,\n                    se = pt[0];\n                  for (oe = 1; oe < ut; ++oe) pt[oe] > se && (se = pt[oe]);\n                  Lt += se;\n                }\n              }\n              if (mt.nd = Nt, mt.Qb = 0, Nt && (mt.qb = (vt[3][bt[3] + 0].value << 24 | vt[1][bt[1] + 0].value << 16 | vt[2][bt[2] + 0].value) >>> 0, 0 == wt && 256 > vt[0][bt[0] + 0].value && (mt.Qb = 1, mt.qb += vt[0][bt[0] + 0].value << 8)), mt.jc = !mt.Qb && 6 > Lt, mt.jc) {\n                var ce,\n                  ue = mt;\n                for (ce = 0; ce < Dr; ++ce) {\n                  var he = ce,\n                    le = ue.pd[he],\n                    fe = ue.G[0][ue.H[0] + he];\n                  256 <= fe.value ? (le.g = fe.g + 256, le.value = fe.value) : (le.g = 0, le.value = 0, he >>= yt(fe, 8, le), he >>= yt(ue.G[1][ue.H[1] + he], 16, le), he >>= yt(ue.G[2][ue.H[2] + he], 0, le), yt(ue.G[3][ue.H[3] + he], 24, le));\n                }\n              }\n            }\n            Q.vc = tt, Q.Wb = et, Q.Ya = dt, Q.yc = ht, H = 1;\n            break e;\n          }\n          H = 0;\n        }\n        if (!(u = H)) {\n          s.a = 3;\n          break t;\n        }\n        if (0 < b) {\n          if (m.ua = 1 << b, !O(m.Wa, b)) {\n            s.a = 1, u = 0;\n            break t;\n          }\n        } else m.ua = 0;\n        var de = s,\n          pe = f,\n          ge = p,\n          me = de.s,\n          ve = me.xc;\n        if (de.c = pe, de.i = ge, me.md = q(pe, ve), me.wc = 0 == ve ? -1 : (1 << ve) - 1, n) {\n          s.xb = pi;\n          break t;\n        }\n        if (null == (v = a(f * p))) {\n          s.a = 1, u = 0;\n          break t;\n        }\n        u = (u = _t(s, v, 0, f, p, p, null)) && !g.h;\n        break t;\n      }\n      return u ? (null != c ? c[0] = v : (e(null == v), e(n)), s.$ = 0, n || Pt(m)) : Pt(m), u;\n    }\n    function Ft(t, r) {\n      var n = t.c * t.i,\n        i = n + r + 16 * r;\n      return e(t.c <= r), t.V = a(i), null == t.V ? (t.Ta = null, t.Ua = 0, t.a = 1, 0) : (t.Ta = t.V, t.Ua = t.Ba + n + r, 1);\n    }\n    function Ct(t, r) {\n      var n = t.C,\n        i = r - n,\n        a = t.V,\n        o = t.Ba + t.c * n;\n      for (e(r <= t.l.o); 0 < i;) {\n        var s = 16 < i ? 16 : i,\n          c = t.l.ma,\n          u = t.l.width,\n          h = u * s,\n          l = c.ca,\n          f = c.tb + u * n,\n          d = t.Ta,\n          p = t.Ua;\n        Nt(t, s, a, o), _n(d, p, l, f, h), xt(c, n, n + s, l, f, u), i -= s, a += s * t.c, n += s;\n      }\n      e(n == r), t.C = t.Ma = r;\n    }\n    function jt() {\n      this.ub = this.yd = this.td = this.Rb = 0;\n    }\n    function Ot() {\n      this.Kd = this.Ld = this.Ud = this.Td = this.i = this.c = 0;\n    }\n    function Bt() {\n      this.Fb = this.Bb = this.Cb = 0, this.Zb = a(4), this.Lb = a(4);\n    }\n    function Mt() {\n      this.Yb = function () {\n        var t = [];\n        return function t(e, r, n) {\n          for (var i = n[r], a = 0; a < i && (e.push(n.length > r + 1 ? [] : 0), !(n.length < r + 1)); a++) t(e[a], r + 1, n);\n        }(t, 0, [3, 11]), t;\n      }();\n    }\n    function Et() {\n      this.jb = a(3), this.Wc = s([4, 8], Mt), this.Xc = s([4, 17], Mt);\n    }\n    function qt() {\n      this.Pc = this.wb = this.Tb = this.zd = 0, this.vd = new a(4), this.od = new a(4);\n    }\n    function Dt() {\n      this.ld = this.La = this.dd = this.tc = 0;\n    }\n    function Rt() {\n      this.Na = this.la = 0;\n    }\n    function Tt() {\n      this.Sc = [0, 0], this.Eb = [0, 0], this.Qc = [0, 0], this.ia = this.lc = 0;\n    }\n    function Ut() {\n      this.ad = a(384), this.Za = 0, this.Ob = a(16), this.$b = this.Ad = this.ia = this.Gc = this.Hc = this.Dd = 0;\n    }\n    function zt() {\n      this.uc = this.M = this.Nb = 0, this.wa = Array(new Dt()), this.Y = 0, this.ya = Array(new Ut()), this.aa = 0, this.l = new Gt();\n    }\n    function Ht() {\n      this.y = a(16), this.f = a(8), this.ea = a(8);\n    }\n    function Wt() {\n      this.cb = this.a = 0, this.sc = \"\", this.m = new w(), this.Od = new jt(), this.Kc = new Ot(), this.ed = new qt(), this.Qa = new Bt(), this.Ic = this.$c = this.Aa = 0, this.D = new zt(), this.Xb = this.Va = this.Hb = this.zb = this.yb = this.Ub = this.za = 0, this.Jc = o(8, w), this.ia = 0, this.pb = o(4, Tt), this.Pa = new Et(), this.Bd = this.kc = 0, this.Ac = [], this.Bc = 0, this.zc = [0, 0, 0, 0], this.Gd = Array(new Ht()), this.Hd = 0, this.rb = Array(new Rt()), this.sb = 0, this.wa = Array(new Dt()), this.Y = 0, this.oc = [], this.pc = 0, this.sa = [], this.ta = 0, this.qa = [], this.ra = 0, this.Ha = [], this.B = this.R = this.Ia = 0, this.Ec = [], this.M = this.ja = this.Vb = this.Fc = 0, this.ya = Array(new Ut()), this.L = this.aa = 0, this.gd = s([4, 2], Dt), this.ga = null, this.Fa = [], this.Cc = this.qc = this.P = 0, this.Gb = [], this.Uc = 0, this.mb = [], this.nb = 0, this.rc = [], this.Ga = this.Vc = 0;\n    }\n    function Vt(t, e) {\n      return 0 > t ? 0 : t > e ? e : t;\n    }\n    function Gt() {\n      this.T = this.U = this.ka = this.height = this.width = 0, this.y = [], this.f = [], this.ea = [], this.Rc = this.fa = this.W = this.N = this.O = 0, this.ma = \"void\", this.put = \"VP8IoPutHook\", this.ac = \"VP8IoSetupHook\", this.bc = \"VP8IoTeardownHook\", this.ha = this.Kb = 0, this.data = [], this.hb = this.ib = this.da = this.o = this.j = this.va = this.v = this.Da = this.ob = this.w = 0, this.F = [], this.J = 0;\n    }\n    function Yt() {\n      var t = new Wt();\n      return null != t && (t.a = 0, t.sc = \"OK\", t.cb = 0, t.Xb = 0, ni || (ni = Zt)), t;\n    }\n    function Jt(t, e, r) {\n      return 0 == t.a && (t.a = e, t.sc = r, t.cb = 0), 0;\n    }\n    function Xt(t, e, r) {\n      return 3 <= r && 157 == t[e + 0] && 1 == t[e + 1] && 42 == t[e + 2];\n    }\n    function Kt(t, r) {\n      if (null == t) return 0;\n      if (t.a = 0, t.sc = \"OK\", null == r) return Jt(t, 2, \"null VP8Io passed to VP8GetHeaders()\");\n      var n = r.data,\n        a = r.w,\n        o = r.ha;\n      if (4 > o) return Jt(t, 7, \"Truncated header.\");\n      var s = n[a + 0] | n[a + 1] << 8 | n[a + 2] << 16,\n        c = t.Od;\n      if (c.Rb = !(1 & s), c.td = s >> 1 & 7, c.yd = s >> 4 & 1, c.ub = s >> 5, 3 < c.td) return Jt(t, 3, \"Incorrect keyframe parameters.\");\n      if (!c.yd) return Jt(t, 4, \"Frame not displayable.\");\n      a += 3, o -= 3;\n      var u = t.Kc;\n      if (c.Rb) {\n        if (7 > o) return Jt(t, 7, \"cannot parse picture header\");\n        if (!Xt(n, a, o)) return Jt(t, 3, \"Bad code word\");\n        u.c = 16383 & (n[a + 4] << 8 | n[a + 3]), u.Td = n[a + 4] >> 6, u.i = 16383 & (n[a + 6] << 8 | n[a + 5]), u.Ud = n[a + 6] >> 6, a += 7, o -= 7, t.za = u.c + 15 >> 4, t.Ub = u.i + 15 >> 4, r.width = u.c, r.height = u.i, r.Da = 0, r.j = 0, r.v = 0, r.va = r.width, r.o = r.height, r.da = 0, r.ib = r.width, r.hb = r.height, r.U = r.width, r.T = r.height, i((s = t.Pa).jb, 0, 255, s.jb.length), e(null != (s = t.Qa)), s.Cb = 0, s.Bb = 0, s.Fb = 1, i(s.Zb, 0, 0, s.Zb.length), i(s.Lb, 0, 0, s.Lb);\n      }\n      if (c.ub > o) return Jt(t, 7, \"bad partition length\");\n      p(s = t.m, n, a, c.ub), a += c.ub, o -= c.ub, c.Rb && (u.Ld = P(s), u.Kd = P(s)), u = t.Qa;\n      var h,\n        l = t.Pa;\n      if (e(null != s), e(null != u), u.Cb = P(s), u.Cb) {\n        if (u.Bb = P(s), P(s)) {\n          for (u.Fb = P(s), h = 0; 4 > h; ++h) u.Zb[h] = P(s) ? m(s, 7) : 0;\n          for (h = 0; 4 > h; ++h) u.Lb[h] = P(s) ? m(s, 6) : 0;\n        }\n        if (u.Bb) for (h = 0; 3 > h; ++h) l.jb[h] = P(s) ? g(s, 8) : 255;\n      } else u.Bb = 0;\n      if (s.Ka) return Jt(t, 3, \"cannot parse segment header\");\n      if ((u = t.ed).zd = P(s), u.Tb = g(s, 6), u.wb = g(s, 3), u.Pc = P(s), u.Pc && P(s)) {\n        for (l = 0; 4 > l; ++l) P(s) && (u.vd[l] = m(s, 6));\n        for (l = 0; 4 > l; ++l) P(s) && (u.od[l] = m(s, 6));\n      }\n      if (t.L = 0 == u.Tb ? 0 : u.zd ? 1 : 2, s.Ka) return Jt(t, 3, \"cannot parse filter header\");\n      var f = o;\n      if (o = h = a, a = h + f, u = f, t.Xb = (1 << g(t.m, 2)) - 1, f < 3 * (l = t.Xb)) n = 7;else {\n        for (h += 3 * l, u -= 3 * l, f = 0; f < l; ++f) {\n          var d = n[o + 0] | n[o + 1] << 8 | n[o + 2] << 16;\n          d > u && (d = u), p(t.Jc[+f], n, h, d), h += d, u -= d, o += 3;\n        }\n        p(t.Jc[+l], n, h, u), n = h < a ? 0 : 5;\n      }\n      if (0 != n) return Jt(t, n, \"cannot parse partitions\");\n      for (n = g(h = t.m, 7), o = P(h) ? m(h, 4) : 0, a = P(h) ? m(h, 4) : 0, u = P(h) ? m(h, 4) : 0, l = P(h) ? m(h, 4) : 0, h = P(h) ? m(h, 4) : 0, f = t.Qa, d = 0; 4 > d; ++d) {\n        if (f.Cb) {\n          var v = f.Zb[d];\n          f.Fb || (v += n);\n        } else {\n          if (0 < d) {\n            t.pb[d] = t.pb[0];\n            continue;\n          }\n          v = n;\n        }\n        var b = t.pb[d];\n        b.Sc[0] = ei[Vt(v + o, 127)], b.Sc[1] = ri[Vt(v + 0, 127)], b.Eb[0] = 2 * ei[Vt(v + a, 127)], b.Eb[1] = 101581 * ri[Vt(v + u, 127)] >> 16, 8 > b.Eb[1] && (b.Eb[1] = 8), b.Qc[0] = ei[Vt(v + l, 117)], b.Qc[1] = ri[Vt(v + h, 127)], b.lc = v + h;\n      }\n      if (!c.Rb) return Jt(t, 4, \"Not a key frame.\");\n      for (P(s), c = t.Pa, n = 0; 4 > n; ++n) {\n        for (o = 0; 8 > o; ++o) for (a = 0; 3 > a; ++a) for (u = 0; 11 > u; ++u) l = k(s, ui[n][o][a][u]) ? g(s, 8) : si[n][o][a][u], c.Wc[n][o].Yb[a][u] = l;\n        for (o = 0; 17 > o; ++o) c.Xc[n][o] = c.Wc[n][hi[o]];\n      }\n      return t.kc = P(s), t.kc && (t.Bd = g(s, 8)), t.cb = 1;\n    }\n    function Zt(t, e, r, n, i, a, o) {\n      var s = e[i].Yb[r];\n      for (r = 0; 16 > i; ++i) {\n        if (!k(t, s[r + 0])) return i;\n        for (; !k(t, s[r + 1]);) if (s = e[++i].Yb[0], r = 0, 16 == i) return 16;\n        var c = e[i + 1].Yb;\n        if (k(t, s[r + 2])) {\n          var u = t,\n            h = 0;\n          if (k(u, (f = s)[(l = r) + 3])) {\n            if (k(u, f[l + 6])) {\n              for (s = 0, l = 2 * (h = k(u, f[l + 8])) + (f = k(u, f[l + 9 + h])), h = 0, f = ii[l]; f[s]; ++s) h += h + k(u, f[s]);\n              h += 3 + (8 << l);\n            } else k(u, f[l + 7]) ? (h = 7 + 2 * k(u, 165), h += k(u, 145)) : h = 5 + k(u, 159);\n          } else h = k(u, f[l + 4]) ? 3 + k(u, f[l + 5]) : 2;\n          s = c[2];\n        } else h = 1, s = c[1];\n        c = o + ai[i], 0 > (u = t).b && _(u);\n        var l,\n          f = u.b,\n          d = (l = u.Ca >> 1) - (u.I >> f) >> 31;\n        --u.b, u.Ca += d, u.Ca |= 1, u.I -= (l + 1 & d) << f, a[c] = ((h ^ d) - d) * n[(0 < i) + 0];\n      }\n      return 16;\n    }\n    function $t(t) {\n      var e = t.rb[t.sb - 1];\n      e.la = 0, e.Na = 0, i(t.zc, 0, 0, t.zc.length), t.ja = 0;\n    }\n    function Qt(t, r) {\n      if (null == t) return 0;\n      if (null == r) return Jt(t, 2, \"NULL VP8Io parameter in VP8Decode().\");\n      if (!t.cb && !Kt(t, r)) return 0;\n      if (e(t.cb), null == r.ac || r.ac(r)) {\n        r.ob && (t.L = 0);\n        var s = Ri[t.L];\n        if (2 == t.L ? (t.yb = 0, t.zb = 0) : (t.yb = r.v - s >> 4, t.zb = r.j - s >> 4, 0 > t.yb && (t.yb = 0), 0 > t.zb && (t.zb = 0)), t.Va = r.o + 15 + s >> 4, t.Hb = r.va + 15 + s >> 4, t.Hb > t.za && (t.Hb = t.za), t.Va > t.Ub && (t.Va = t.Ub), 0 < t.L) {\n          var c = t.ed;\n          for (s = 0; 4 > s; ++s) {\n            var u;\n            if (t.Qa.Cb) {\n              var h = t.Qa.Lb[s];\n              t.Qa.Fb || (h += c.Tb);\n            } else h = c.Tb;\n            for (u = 0; 1 >= u; ++u) {\n              var l = t.gd[s][u],\n                f = h;\n              if (c.Pc && (f += c.vd[0], u && (f += c.od[0])), 0 < (f = 0 > f ? 0 : 63 < f ? 63 : f)) {\n                var d = f;\n                0 < c.wb && (d = 4 < c.wb ? d >> 2 : d >> 1) > 9 - c.wb && (d = 9 - c.wb), 1 > d && (d = 1), l.dd = d, l.tc = 2 * f + d, l.ld = 40 <= f ? 2 : 15 <= f ? 1 : 0;\n              } else l.tc = 0;\n              l.La = u;\n            }\n          }\n        }\n        s = 0;\n      } else Jt(t, 6, \"Frame setup failed\"), s = t.a;\n      if (s = 0 == s) {\n        if (s) {\n          t.$c = 0, 0 < t.Aa || (t.Ic = Ui);\n          t: {\n            s = t.Ic;\n            c = 4 * (d = t.za);\n            var p = 32 * d,\n              g = d + 1,\n              m = 0 < t.L ? d * (0 < t.Aa ? 2 : 1) : 0,\n              v = (2 == t.Aa ? 2 : 1) * d;\n            if ((l = c + 832 + (u = 3 * (16 * s + Ri[t.L]) / 2 * p) + (h = null != t.Fa && 0 < t.Fa.length ? t.Kc.c * t.Kc.i : 0)) != l) s = 0;else {\n              if (l > t.Vb) {\n                if (t.Vb = 0, t.Ec = a(l), t.Fc = 0, null == t.Ec) {\n                  s = Jt(t, 1, \"no memory during frame initialization.\");\n                  break t;\n                }\n                t.Vb = l;\n              }\n              l = t.Ec, f = t.Fc, t.Ac = l, t.Bc = f, f += c, t.Gd = o(p, Ht), t.Hd = 0, t.rb = o(g + 1, Rt), t.sb = 1, t.wa = m ? o(m, Dt) : null, t.Y = 0, t.D.Nb = 0, t.D.wa = t.wa, t.D.Y = t.Y, 0 < t.Aa && (t.D.Y += d), e(!0), t.oc = l, t.pc = f, f += 832, t.ya = o(v, Ut), t.aa = 0, t.D.ya = t.ya, t.D.aa = t.aa, 2 == t.Aa && (t.D.aa += d), t.R = 16 * d, t.B = 8 * d, d = (p = Ri[t.L]) * t.R, p = p / 2 * t.B, t.sa = l, t.ta = f + d, t.qa = t.sa, t.ra = t.ta + 16 * s * t.R + p, t.Ha = t.qa, t.Ia = t.ra + 8 * s * t.B + p, t.$c = 0, f += u, t.mb = h ? l : null, t.nb = h ? f : null, e(f + h <= t.Fc + t.Vb), $t(t), i(t.Ac, t.Bc, 0, c), s = 1;\n            }\n          }\n          if (s) {\n            if (r.ka = 0, r.y = t.sa, r.O = t.ta, r.f = t.qa, r.N = t.ra, r.ea = t.Ha, r.Vd = t.Ia, r.fa = t.R, r.Rc = t.B, r.F = null, r.J = 0, !Cn) {\n              for (s = -255; 255 >= s; ++s) Pn[255 + s] = 0 > s ? -s : s;\n              for (s = -1020; 1020 >= s; ++s) kn[1020 + s] = -128 > s ? -128 : 127 < s ? 127 : s;\n              for (s = -112; 112 >= s; ++s) In[112 + s] = -16 > s ? -16 : 15 < s ? 15 : s;\n              for (s = -255; 510 >= s; ++s) Fn[255 + s] = 0 > s ? 0 : 255 < s ? 255 : s;\n              Cn = 1;\n            }\n            an = ue, on = ae, cn = oe, un = se, hn = ce, sn = ie, ln = Je, fn = Xe, dn = $e, pn = Qe, gn = Ke, mn = Ze, vn = tr, bn = er, yn = ze, wn = He, Nn = We, Ln = Ve, fi[0] = xe, fi[1] = le, fi[2] = Le, fi[3] = Ae, fi[4] = Se, fi[5] = Pe, fi[6] = _e, fi[7] = ke, fi[8] = Fe, fi[9] = Ie, li[0] = ve, li[1] = de, li[2] = pe, li[3] = ge, li[4] = be, li[5] = ye, li[6] = we, di[0] = Be, di[1] = fe, di[2] = Ce, di[3] = je, di[4] = Ee, di[5] = Me, di[6] = qe, s = 1;\n          } else s = 0;\n        }\n        s && (s = function (t, r) {\n          for (t.M = 0; t.M < t.Va; ++t.M) {\n            var o,\n              s = t.Jc[t.M & t.Xb],\n              c = t.m,\n              u = t;\n            for (o = 0; o < u.za; ++o) {\n              var h = c,\n                l = u,\n                f = l.Ac,\n                d = l.Bc + 4 * o,\n                p = l.zc,\n                g = l.ya[l.aa + o];\n              if (l.Qa.Bb ? g.$b = k(h, l.Pa.jb[0]) ? 2 + k(h, l.Pa.jb[2]) : k(h, l.Pa.jb[1]) : g.$b = 0, l.kc && (g.Ad = k(h, l.Bd)), g.Za = !k(h, 145) + 0, g.Za) {\n                var m = g.Ob,\n                  v = 0;\n                for (l = 0; 4 > l; ++l) {\n                  var b,\n                    y = p[0 + l];\n                  for (b = 0; 4 > b; ++b) {\n                    y = ci[f[d + b]][y];\n                    for (var w = oi[k(h, y[0])]; 0 < w;) w = oi[2 * w + k(h, y[w])];\n                    y = -w, f[d + b] = y;\n                  }\n                  n(m, v, f, d, 4), v += 4, p[0 + l] = y;\n                }\n              } else y = k(h, 156) ? k(h, 128) ? 1 : 3 : k(h, 163) ? 2 : 0, g.Ob[0] = y, i(f, d, y, 4), i(p, 0, y, 4);\n              g.Dd = k(h, 142) ? k(h, 114) ? k(h, 183) ? 1 : 3 : 2 : 0;\n            }\n            if (u.m.Ka) return Jt(t, 7, \"Premature end-of-partition0 encountered.\");\n            for (; t.ja < t.za; ++t.ja) {\n              if (u = s, h = (c = t).rb[c.sb - 1], f = c.rb[c.sb + c.ja], o = c.ya[c.aa + c.ja], d = c.kc ? o.Ad : 0) h.la = f.la = 0, o.Za || (h.Na = f.Na = 0), o.Hc = 0, o.Gc = 0, o.ia = 0;else {\n                var N, L;\n                h = f, f = u, d = c.Pa.Xc, p = c.ya[c.aa + c.ja], g = c.pb[p.$b];\n                if (l = p.ad, m = 0, v = c.rb[c.sb - 1], y = b = 0, i(l, m, 0, 384), p.Za) var A = 0,\n                  x = d[3];else {\n                  w = a(16);\n                  var S = h.Na + v.Na;\n                  if (S = ni(f, d[1], S, g.Eb, 0, w, 0), h.Na = v.Na = (0 < S) + 0, 1 < S) an(w, 0, l, m);else {\n                    var _ = w[0] + 3 >> 3;\n                    for (w = 0; 256 > w; w += 16) l[m + w] = _;\n                  }\n                  A = 1, x = d[0];\n                }\n                var P = 15 & h.la,\n                  I = 15 & v.la;\n                for (w = 0; 4 > w; ++w) {\n                  var F = 1 & I;\n                  for (_ = L = 0; 4 > _; ++_) P = P >> 1 | (F = (S = ni(f, x, S = F + (1 & P), g.Sc, A, l, m)) > A) << 7, L = L << 2 | (3 < S ? 3 : 1 < S ? 2 : 0 != l[m + 0]), m += 16;\n                  P >>= 4, I = I >> 1 | F << 7, b = (b << 8 | L) >>> 0;\n                }\n                for (x = P, A = I >> 4, N = 0; 4 > N; N += 2) {\n                  for (L = 0, P = h.la >> 4 + N, I = v.la >> 4 + N, w = 0; 2 > w; ++w) {\n                    for (F = 1 & I, _ = 0; 2 > _; ++_) S = F + (1 & P), P = P >> 1 | (F = 0 < (S = ni(f, d[2], S, g.Qc, 0, l, m))) << 3, L = L << 2 | (3 < S ? 3 : 1 < S ? 2 : 0 != l[m + 0]), m += 16;\n                    P >>= 2, I = I >> 1 | F << 5;\n                  }\n                  y |= L << 4 * N, x |= P << 4 << N, A |= (240 & I) << N;\n                }\n                h.la = x, v.la = A, p.Hc = b, p.Gc = y, p.ia = 43690 & y ? 0 : g.ia, d = !(b | y);\n              }\n              if (0 < c.L && (c.wa[c.Y + c.ja] = c.gd[o.$b][o.Za], c.wa[c.Y + c.ja].La |= !d), u.Ka) return Jt(t, 7, \"Premature end-of-file encountered.\");\n            }\n            if ($t(t), c = r, u = 1, o = (s = t).D, h = 0 < s.L && s.M >= s.zb && s.M <= s.Va, 0 == s.Aa) t: {\n              if (o.M = s.M, o.uc = h, Or(s, o), u = 1, o = (L = s.D).Nb, h = (y = Ri[s.L]) * s.R, f = y / 2 * s.B, w = 16 * o * s.R, _ = 8 * o * s.B, d = s.sa, p = s.ta - h + w, g = s.qa, l = s.ra - f + _, m = s.Ha, v = s.Ia - f + _, I = 0 == (P = L.M), b = P >= s.Va - 1, 2 == s.Aa && Or(s, L), L.uc) for (F = (S = s).D.M, e(S.D.uc), L = S.yb; L < S.Hb; ++L) {\n                A = L, x = F;\n                var C = (j = (U = S).D).Nb;\n                N = U.R;\n                var j = j.wa[j.Y + A],\n                  O = U.sa,\n                  B = U.ta + 16 * C * N + 16 * A,\n                  M = j.dd,\n                  E = j.tc;\n                if (0 != E) if (e(3 <= E), 1 == U.L) 0 < A && wn(O, B, N, E + 4), j.La && Ln(O, B, N, E), 0 < x && yn(O, B, N, E + 4), j.La && Nn(O, B, N, E);else {\n                  var q = U.B,\n                    D = U.qa,\n                    R = U.ra + 8 * C * q + 8 * A,\n                    T = U.Ha,\n                    U = U.Ia + 8 * C * q + 8 * A;\n                  C = j.ld;\n                  0 < A && (fn(O, B, N, E + 4, M, C), pn(D, R, T, U, q, E + 4, M, C)), j.La && (mn(O, B, N, E, M, C), bn(D, R, T, U, q, E, M, C)), 0 < x && (ln(O, B, N, E + 4, M, C), dn(D, R, T, U, q, E + 4, M, C)), j.La && (gn(O, B, N, E, M, C), vn(D, R, T, U, q, E, M, C));\n                }\n              }\n              if (s.ia && alert(\"todo:DitherRow\"), null != c.put) {\n                if (L = 16 * P, P = 16 * (P + 1), I ? (c.y = s.sa, c.O = s.ta + w, c.f = s.qa, c.N = s.ra + _, c.ea = s.Ha, c.W = s.Ia + _) : (L -= y, c.y = d, c.O = p, c.f = g, c.N = l, c.ea = m, c.W = v), b || (P -= y), P > c.o && (P = c.o), c.F = null, c.J = null, null != s.Fa && 0 < s.Fa.length && L < P && (c.J = lr(s, c, L, P - L), c.F = s.mb, null == c.F && 0 == c.F.length)) {\n                  u = Jt(s, 3, \"Could not decode alpha data.\");\n                  break t;\n                }\n                L < c.j && (y = c.j - L, L = c.j, e(!(1 & y)), c.O += s.R * y, c.N += s.B * (y >> 1), c.W += s.B * (y >> 1), null != c.F && (c.J += c.width * y)), L < P && (c.O += c.v, c.N += c.v >> 1, c.W += c.v >> 1, null != c.F && (c.J += c.v), c.ka = L - c.j, c.U = c.va - c.v, c.T = P - L, u = c.put(c));\n              }\n              o + 1 != s.Ic || b || (n(s.sa, s.ta - h, d, p + 16 * s.R, h), n(s.qa, s.ra - f, g, l + 8 * s.B, f), n(s.Ha, s.Ia - f, m, v + 8 * s.B, f));\n            }\n            if (!u) return Jt(t, 6, \"Output aborted.\");\n          }\n          return 1;\n        }(t, r)), null != r.bc && r.bc(r), s &= 1;\n      }\n      return s ? (t.cb = 0, s) : 0;\n    }\n    function te(t, e, r, n, i) {\n      i = t[e + r + 32 * n] + (i >> 3), t[e + r + 32 * n] = -256 & i ? 0 > i ? 0 : 255 : i;\n    }\n    function ee(t, e, r, n, i, a) {\n      te(t, e, 0, r, n + i), te(t, e, 1, r, n + a), te(t, e, 2, r, n - a), te(t, e, 3, r, n - i);\n    }\n    function re(t) {\n      return (20091 * t >> 16) + t;\n    }\n    function ne(t, e, r, n) {\n      var i,\n        o = 0,\n        s = a(16);\n      for (i = 0; 4 > i; ++i) {\n        var c = t[e + 0] + t[e + 8],\n          u = t[e + 0] - t[e + 8],\n          h = (35468 * t[e + 4] >> 16) - re(t[e + 12]),\n          l = re(t[e + 4]) + (35468 * t[e + 12] >> 16);\n        s[o + 0] = c + l, s[o + 1] = u + h, s[o + 2] = u - h, s[o + 3] = c - l, o += 4, e++;\n      }\n      for (i = o = 0; 4 > i; ++i) c = (t = s[o + 0] + 4) + s[o + 8], u = t - s[o + 8], h = (35468 * s[o + 4] >> 16) - re(s[o + 12]), te(r, n, 0, 0, c + (l = re(s[o + 4]) + (35468 * s[o + 12] >> 16))), te(r, n, 1, 0, u + h), te(r, n, 2, 0, u - h), te(r, n, 3, 0, c - l), o++, n += 32;\n    }\n    function ie(t, e, r, n) {\n      var i = t[e + 0] + 4,\n        a = 35468 * t[e + 4] >> 16,\n        o = re(t[e + 4]),\n        s = 35468 * t[e + 1] >> 16;\n      ee(r, n, 0, i + o, t = re(t[e + 1]), s), ee(r, n, 1, i + a, t, s), ee(r, n, 2, i - a, t, s), ee(r, n, 3, i - o, t, s);\n    }\n    function ae(t, e, r, n, i) {\n      ne(t, e, r, n), i && ne(t, e + 16, r, n + 4);\n    }\n    function oe(t, e, r, n) {\n      on(t, e + 0, r, n, 1), on(t, e + 32, r, n + 128, 1);\n    }\n    function se(t, e, r, n) {\n      var i;\n      for (t = t[e + 0] + 4, i = 0; 4 > i; ++i) for (e = 0; 4 > e; ++e) te(r, n, e, i, t);\n    }\n    function ce(t, e, r, n) {\n      t[e + 0] && un(t, e + 0, r, n), t[e + 16] && un(t, e + 16, r, n + 4), t[e + 32] && un(t, e + 32, r, n + 128), t[e + 48] && un(t, e + 48, r, n + 128 + 4);\n    }\n    function ue(t, e, r, n) {\n      var i,\n        o = a(16);\n      for (i = 0; 4 > i; ++i) {\n        var s = t[e + 0 + i] + t[e + 12 + i],\n          c = t[e + 4 + i] + t[e + 8 + i],\n          u = t[e + 4 + i] - t[e + 8 + i],\n          h = t[e + 0 + i] - t[e + 12 + i];\n        o[0 + i] = s + c, o[8 + i] = s - c, o[4 + i] = h + u, o[12 + i] = h - u;\n      }\n      for (i = 0; 4 > i; ++i) s = (t = o[0 + 4 * i] + 3) + o[3 + 4 * i], c = o[1 + 4 * i] + o[2 + 4 * i], u = o[1 + 4 * i] - o[2 + 4 * i], h = t - o[3 + 4 * i], r[n + 0] = s + c >> 3, r[n + 16] = h + u >> 3, r[n + 32] = s - c >> 3, r[n + 48] = h - u >> 3, n += 64;\n    }\n    function he(t, e, r) {\n      var n,\n        i = e - 32,\n        a = Bn,\n        o = 255 - t[i - 1];\n      for (n = 0; n < r; ++n) {\n        var s,\n          c = a,\n          u = o + t[e - 1];\n        for (s = 0; s < r; ++s) t[e + s] = c[u + t[i + s]];\n        e += 32;\n      }\n    }\n    function le(t, e) {\n      he(t, e, 4);\n    }\n    function fe(t, e) {\n      he(t, e, 8);\n    }\n    function de(t, e) {\n      he(t, e, 16);\n    }\n    function pe(t, e) {\n      var r;\n      for (r = 0; 16 > r; ++r) n(t, e + 32 * r, t, e - 32, 16);\n    }\n    function ge(t, e) {\n      var r;\n      for (r = 16; 0 < r; --r) i(t, e, t[e - 1], 16), e += 32;\n    }\n    function me(t, e, r) {\n      var n;\n      for (n = 0; 16 > n; ++n) i(e, r + 32 * n, t, 16);\n    }\n    function ve(t, e) {\n      var r,\n        n = 16;\n      for (r = 0; 16 > r; ++r) n += t[e - 1 + 32 * r] + t[e + r - 32];\n      me(n >> 5, t, e);\n    }\n    function be(t, e) {\n      var r,\n        n = 8;\n      for (r = 0; 16 > r; ++r) n += t[e - 1 + 32 * r];\n      me(n >> 4, t, e);\n    }\n    function ye(t, e) {\n      var r,\n        n = 8;\n      for (r = 0; 16 > r; ++r) n += t[e + r - 32];\n      me(n >> 4, t, e);\n    }\n    function we(t, e) {\n      me(128, t, e);\n    }\n    function Ne(t, e, r) {\n      return t + 2 * e + r + 2 >> 2;\n    }\n    function Le(t, e) {\n      var r,\n        i = e - 32;\n      i = new Uint8Array([Ne(t[i - 1], t[i + 0], t[i + 1]), Ne(t[i + 0], t[i + 1], t[i + 2]), Ne(t[i + 1], t[i + 2], t[i + 3]), Ne(t[i + 2], t[i + 3], t[i + 4])]);\n      for (r = 0; 4 > r; ++r) n(t, e + 32 * r, i, 0, i.length);\n    }\n    function Ae(t, e) {\n      var r = t[e - 1],\n        n = t[e - 1 + 32],\n        i = t[e - 1 + 64],\n        a = t[e - 1 + 96];\n      I(t, e + 0, 16843009 * Ne(t[e - 1 - 32], r, n)), I(t, e + 32, 16843009 * Ne(r, n, i)), I(t, e + 64, 16843009 * Ne(n, i, a)), I(t, e + 96, 16843009 * Ne(i, a, a));\n    }\n    function xe(t, e) {\n      var r,\n        n = 4;\n      for (r = 0; 4 > r; ++r) n += t[e + r - 32] + t[e - 1 + 32 * r];\n      for (n >>= 3, r = 0; 4 > r; ++r) i(t, e + 32 * r, n, 4);\n    }\n    function Se(t, e) {\n      var r = t[e - 1 + 0],\n        n = t[e - 1 + 32],\n        i = t[e - 1 + 64],\n        a = t[e - 1 - 32],\n        o = t[e + 0 - 32],\n        s = t[e + 1 - 32],\n        c = t[e + 2 - 32],\n        u = t[e + 3 - 32];\n      t[e + 0 + 96] = Ne(n, i, t[e - 1 + 96]), t[e + 1 + 96] = t[e + 0 + 64] = Ne(r, n, i), t[e + 2 + 96] = t[e + 1 + 64] = t[e + 0 + 32] = Ne(a, r, n), t[e + 3 + 96] = t[e + 2 + 64] = t[e + 1 + 32] = t[e + 0 + 0] = Ne(o, a, r), t[e + 3 + 64] = t[e + 2 + 32] = t[e + 1 + 0] = Ne(s, o, a), t[e + 3 + 32] = t[e + 2 + 0] = Ne(c, s, o), t[e + 3 + 0] = Ne(u, c, s);\n    }\n    function _e(t, e) {\n      var r = t[e + 1 - 32],\n        n = t[e + 2 - 32],\n        i = t[e + 3 - 32],\n        a = t[e + 4 - 32],\n        o = t[e + 5 - 32],\n        s = t[e + 6 - 32],\n        c = t[e + 7 - 32];\n      t[e + 0 + 0] = Ne(t[e + 0 - 32], r, n), t[e + 1 + 0] = t[e + 0 + 32] = Ne(r, n, i), t[e + 2 + 0] = t[e + 1 + 32] = t[e + 0 + 64] = Ne(n, i, a), t[e + 3 + 0] = t[e + 2 + 32] = t[e + 1 + 64] = t[e + 0 + 96] = Ne(i, a, o), t[e + 3 + 32] = t[e + 2 + 64] = t[e + 1 + 96] = Ne(a, o, s), t[e + 3 + 64] = t[e + 2 + 96] = Ne(o, s, c), t[e + 3 + 96] = Ne(s, c, c);\n    }\n    function Pe(t, e) {\n      var r = t[e - 1 + 0],\n        n = t[e - 1 + 32],\n        i = t[e - 1 + 64],\n        a = t[e - 1 - 32],\n        o = t[e + 0 - 32],\n        s = t[e + 1 - 32],\n        c = t[e + 2 - 32],\n        u = t[e + 3 - 32];\n      t[e + 0 + 0] = t[e + 1 + 64] = a + o + 1 >> 1, t[e + 1 + 0] = t[e + 2 + 64] = o + s + 1 >> 1, t[e + 2 + 0] = t[e + 3 + 64] = s + c + 1 >> 1, t[e + 3 + 0] = c + u + 1 >> 1, t[e + 0 + 96] = Ne(i, n, r), t[e + 0 + 64] = Ne(n, r, a), t[e + 0 + 32] = t[e + 1 + 96] = Ne(r, a, o), t[e + 1 + 32] = t[e + 2 + 96] = Ne(a, o, s), t[e + 2 + 32] = t[e + 3 + 96] = Ne(o, s, c), t[e + 3 + 32] = Ne(s, c, u);\n    }\n    function ke(t, e) {\n      var r = t[e + 0 - 32],\n        n = t[e + 1 - 32],\n        i = t[e + 2 - 32],\n        a = t[e + 3 - 32],\n        o = t[e + 4 - 32],\n        s = t[e + 5 - 32],\n        c = t[e + 6 - 32],\n        u = t[e + 7 - 32];\n      t[e + 0 + 0] = r + n + 1 >> 1, t[e + 1 + 0] = t[e + 0 + 64] = n + i + 1 >> 1, t[e + 2 + 0] = t[e + 1 + 64] = i + a + 1 >> 1, t[e + 3 + 0] = t[e + 2 + 64] = a + o + 1 >> 1, t[e + 0 + 32] = Ne(r, n, i), t[e + 1 + 32] = t[e + 0 + 96] = Ne(n, i, a), t[e + 2 + 32] = t[e + 1 + 96] = Ne(i, a, o), t[e + 3 + 32] = t[e + 2 + 96] = Ne(a, o, s), t[e + 3 + 64] = Ne(o, s, c), t[e + 3 + 96] = Ne(s, c, u);\n    }\n    function Ie(t, e) {\n      var r = t[e - 1 + 0],\n        n = t[e - 1 + 32],\n        i = t[e - 1 + 64],\n        a = t[e - 1 + 96];\n      t[e + 0 + 0] = r + n + 1 >> 1, t[e + 2 + 0] = t[e + 0 + 32] = n + i + 1 >> 1, t[e + 2 + 32] = t[e + 0 + 64] = i + a + 1 >> 1, t[e + 1 + 0] = Ne(r, n, i), t[e + 3 + 0] = t[e + 1 + 32] = Ne(n, i, a), t[e + 3 + 32] = t[e + 1 + 64] = Ne(i, a, a), t[e + 3 + 64] = t[e + 2 + 64] = t[e + 0 + 96] = t[e + 1 + 96] = t[e + 2 + 96] = t[e + 3 + 96] = a;\n    }\n    function Fe(t, e) {\n      var r = t[e - 1 + 0],\n        n = t[e - 1 + 32],\n        i = t[e - 1 + 64],\n        a = t[e - 1 + 96],\n        o = t[e - 1 - 32],\n        s = t[e + 0 - 32],\n        c = t[e + 1 - 32],\n        u = t[e + 2 - 32];\n      t[e + 0 + 0] = t[e + 2 + 32] = r + o + 1 >> 1, t[e + 0 + 32] = t[e + 2 + 64] = n + r + 1 >> 1, t[e + 0 + 64] = t[e + 2 + 96] = i + n + 1 >> 1, t[e + 0 + 96] = a + i + 1 >> 1, t[e + 3 + 0] = Ne(s, c, u), t[e + 2 + 0] = Ne(o, s, c), t[e + 1 + 0] = t[e + 3 + 32] = Ne(r, o, s), t[e + 1 + 32] = t[e + 3 + 64] = Ne(n, r, o), t[e + 1 + 64] = t[e + 3 + 96] = Ne(i, n, r), t[e + 1 + 96] = Ne(a, i, n);\n    }\n    function Ce(t, e) {\n      var r;\n      for (r = 0; 8 > r; ++r) n(t, e + 32 * r, t, e - 32, 8);\n    }\n    function je(t, e) {\n      var r;\n      for (r = 0; 8 > r; ++r) i(t, e, t[e - 1], 8), e += 32;\n    }\n    function Oe(t, e, r) {\n      var n;\n      for (n = 0; 8 > n; ++n) i(e, r + 32 * n, t, 8);\n    }\n    function Be(t, e) {\n      var r,\n        n = 8;\n      for (r = 0; 8 > r; ++r) n += t[e + r - 32] + t[e - 1 + 32 * r];\n      Oe(n >> 4, t, e);\n    }\n    function Me(t, e) {\n      var r,\n        n = 4;\n      for (r = 0; 8 > r; ++r) n += t[e + r - 32];\n      Oe(n >> 3, t, e);\n    }\n    function Ee(t, e) {\n      var r,\n        n = 4;\n      for (r = 0; 8 > r; ++r) n += t[e - 1 + 32 * r];\n      Oe(n >> 3, t, e);\n    }\n    function qe(t, e) {\n      Oe(128, t, e);\n    }\n    function De(t, e, r) {\n      var n = t[e - r],\n        i = t[e + 0],\n        a = 3 * (i - n) + jn[1020 + t[e - 2 * r] - t[e + r]],\n        o = On[112 + (a + 4 >> 3)];\n      t[e - r] = Bn[255 + n + On[112 + (a + 3 >> 3)]], t[e + 0] = Bn[255 + i - o];\n    }\n    function Re(t, e, r, n) {\n      var i = t[e + 0],\n        a = t[e + r];\n      return Mn[255 + t[e - 2 * r] - t[e - r]] > n || Mn[255 + a - i] > n;\n    }\n    function Te(t, e, r, n) {\n      return 4 * Mn[255 + t[e - r] - t[e + 0]] + Mn[255 + t[e - 2 * r] - t[e + r]] <= n;\n    }\n    function Ue(t, e, r, n, i) {\n      var a = t[e - 3 * r],\n        o = t[e - 2 * r],\n        s = t[e - r],\n        c = t[e + 0],\n        u = t[e + r],\n        h = t[e + 2 * r],\n        l = t[e + 3 * r];\n      return 4 * Mn[255 + s - c] + Mn[255 + o - u] > n ? 0 : Mn[255 + t[e - 4 * r] - a] <= i && Mn[255 + a - o] <= i && Mn[255 + o - s] <= i && Mn[255 + l - h] <= i && Mn[255 + h - u] <= i && Mn[255 + u - c] <= i;\n    }\n    function ze(t, e, r, n) {\n      var i = 2 * n + 1;\n      for (n = 0; 16 > n; ++n) Te(t, e + n, r, i) && De(t, e + n, r);\n    }\n    function He(t, e, r, n) {\n      var i = 2 * n + 1;\n      for (n = 0; 16 > n; ++n) Te(t, e + n * r, 1, i) && De(t, e + n * r, 1);\n    }\n    function We(t, e, r, n) {\n      var i;\n      for (i = 3; 0 < i; --i) ze(t, e += 4 * r, r, n);\n    }\n    function Ve(t, e, r, n) {\n      var i;\n      for (i = 3; 0 < i; --i) He(t, e += 4, r, n);\n    }\n    function Ge(t, e, r, n, i, a, o, s) {\n      for (a = 2 * a + 1; 0 < i--;) {\n        if (Ue(t, e, r, a, o)) if (Re(t, e, r, s)) De(t, e, r);else {\n          var c = t,\n            u = e,\n            h = r,\n            l = c[u - 2 * h],\n            f = c[u - h],\n            d = c[u + 0],\n            p = c[u + h],\n            g = c[u + 2 * h],\n            m = 27 * (b = jn[1020 + 3 * (d - f) + jn[1020 + l - p]]) + 63 >> 7,\n            v = 18 * b + 63 >> 7,\n            b = 9 * b + 63 >> 7;\n          c[u - 3 * h] = Bn[255 + c[u - 3 * h] + b], c[u - 2 * h] = Bn[255 + l + v], c[u - h] = Bn[255 + f + m], c[u + 0] = Bn[255 + d - m], c[u + h] = Bn[255 + p - v], c[u + 2 * h] = Bn[255 + g - b];\n        }\n        e += n;\n      }\n    }\n    function Ye(t, e, r, n, i, a, o, s) {\n      for (a = 2 * a + 1; 0 < i--;) {\n        if (Ue(t, e, r, a, o)) if (Re(t, e, r, s)) De(t, e, r);else {\n          var c = t,\n            u = e,\n            h = r,\n            l = c[u - h],\n            f = c[u + 0],\n            d = c[u + h],\n            p = On[112 + ((g = 3 * (f - l)) + 4 >> 3)],\n            g = On[112 + (g + 3 >> 3)],\n            m = p + 1 >> 1;\n          c[u - 2 * h] = Bn[255 + c[u - 2 * h] + m], c[u - h] = Bn[255 + l + g], c[u + 0] = Bn[255 + f - p], c[u + h] = Bn[255 + d - m];\n        }\n        e += n;\n      }\n    }\n    function Je(t, e, r, n, i, a) {\n      Ge(t, e, r, 1, 16, n, i, a);\n    }\n    function Xe(t, e, r, n, i, a) {\n      Ge(t, e, 1, r, 16, n, i, a);\n    }\n    function Ke(t, e, r, n, i, a) {\n      var o;\n      for (o = 3; 0 < o; --o) Ye(t, e += 4 * r, r, 1, 16, n, i, a);\n    }\n    function Ze(t, e, r, n, i, a) {\n      var o;\n      for (o = 3; 0 < o; --o) Ye(t, e += 4, 1, r, 16, n, i, a);\n    }\n    function $e(t, e, r, n, i, a, o, s) {\n      Ge(t, e, i, 1, 8, a, o, s), Ge(r, n, i, 1, 8, a, o, s);\n    }\n    function Qe(t, e, r, n, i, a, o, s) {\n      Ge(t, e, 1, i, 8, a, o, s), Ge(r, n, 1, i, 8, a, o, s);\n    }\n    function tr(t, e, r, n, i, a, o, s) {\n      Ye(t, e + 4 * i, i, 1, 8, a, o, s), Ye(r, n + 4 * i, i, 1, 8, a, o, s);\n    }\n    function er(t, e, r, n, i, a, o, s) {\n      Ye(t, e + 4, 1, i, 8, a, o, s), Ye(r, n + 4, 1, i, 8, a, o, s);\n    }\n    function rr() {\n      this.ba = new ot(), this.ec = [], this.cc = [], this.Mc = [], this.Dc = this.Nc = this.dc = this.fc = 0, this.Oa = new ct(), this.memory = 0, this.Ib = \"OutputFunc\", this.Jb = \"OutputAlphaFunc\", this.Nd = \"OutputRowFunc\";\n    }\n    function nr() {\n      this.data = [], this.offset = this.kd = this.ha = this.w = 0, this.na = [], this.xa = this.gb = this.Ja = this.Sa = this.P = 0;\n    }\n    function ir() {\n      this.nc = this.Ea = this.b = this.hc = 0, this.K = [], this.w = 0;\n    }\n    function ar() {\n      this.ua = 0, this.Wa = new M(), this.vb = new M(), this.md = this.xc = this.wc = 0, this.vc = [], this.Wb = 0, this.Ya = new d(), this.yc = new l();\n    }\n    function or() {\n      this.xb = this.a = 0, this.l = new Gt(), this.ca = new ot(), this.V = [], this.Ba = 0, this.Ta = [], this.Ua = 0, this.m = new N(), this.Pb = 0, this.wd = new N(), this.Ma = this.$ = this.C = this.i = this.c = this.xd = 0, this.s = new ar(), this.ab = 0, this.gc = o(4, ir), this.Oc = 0;\n    }\n    function sr() {\n      this.Lc = this.Z = this.$a = this.i = this.c = 0, this.l = new Gt(), this.ic = 0, this.ca = [], this.tb = 0, this.qd = null, this.rd = 0;\n    }\n    function cr(t, e, r, n, i, a, o) {\n      for (t = null == t ? 0 : t[e + 0], e = 0; e < o; ++e) i[a + e] = t + r[n + e] & 255, t = i[a + e];\n    }\n    function ur(t, e, r, n, i, a, o) {\n      var s;\n      if (null == t) cr(null, null, r, n, i, a, o);else for (s = 0; s < o; ++s) i[a + s] = t[e + s] + r[n + s] & 255;\n    }\n    function hr(t, e, r, n, i, a, o) {\n      if (null == t) cr(null, null, r, n, i, a, o);else {\n        var s,\n          c = t[e + 0],\n          u = c,\n          h = c;\n        for (s = 0; s < o; ++s) u = h + (c = t[e + s]) - u, h = r[n + s] + (-256 & u ? 0 > u ? 0 : 255 : u) & 255, u = c, i[a + s] = h;\n      }\n    }\n    function lr(t, r, i, o) {\n      var s = r.width,\n        c = r.o;\n      if (e(null != t && null != r), 0 > i || 0 >= o || i + o > c) return null;\n      if (!t.Cc) {\n        if (null == t.ga) {\n          var u;\n          if (t.ga = new sr(), (u = null == t.ga) || (u = r.width * r.o, e(0 == t.Gb.length), t.Gb = a(u), t.Uc = 0, null == t.Gb ? u = 0 : (t.mb = t.Gb, t.nb = t.Uc, t.rc = null, u = 1), u = !u), !u) {\n            u = t.ga;\n            var h = t.Fa,\n              l = t.P,\n              f = t.qc,\n              d = t.mb,\n              p = t.nb,\n              g = l + 1,\n              m = f - 1,\n              b = u.l;\n            if (e(null != h && null != d && null != r), mi[0] = null, mi[1] = cr, mi[2] = ur, mi[3] = hr, u.ca = d, u.tb = p, u.c = r.width, u.i = r.height, e(0 < u.c && 0 < u.i), 1 >= f) r = 0;else if (u.$a = h[l + 0] >> 0 & 3, u.Z = h[l + 0] >> 2 & 3, u.Lc = h[l + 0] >> 4 & 3, l = h[l + 0] >> 6 & 3, 0 > u.$a || 1 < u.$a || 4 <= u.Z || 1 < u.Lc || l) r = 0;else if (b.put = dt, b.ac = ft, b.bc = pt, b.ma = u, b.width = r.width, b.height = r.height, b.Da = r.Da, b.v = r.v, b.va = r.va, b.j = r.j, b.o = r.o, u.$a) t: {\n              e(1 == u.$a), r = kt();\n              e: for (;;) {\n                if (null == r) {\n                  r = 0;\n                  break t;\n                }\n                if (e(null != u), u.mc = r, r.c = u.c, r.i = u.i, r.l = u.l, r.l.ma = u, r.l.width = u.c, r.l.height = u.i, r.a = 0, v(r.m, h, g, m), !It(u.c, u.i, 1, r, null)) break e;\n                if (1 == r.ab && 3 == r.gc[0].hc && At(r.s) ? (u.ic = 1, h = r.c * r.i, r.Ta = null, r.Ua = 0, r.V = a(h), r.Ba = 0, null == r.V ? (r.a = 1, r = 0) : r = 1) : (u.ic = 0, r = Ft(r, u.c)), !r) break e;\n                r = 1;\n                break t;\n              }\n              u.mc = null, r = 0;\n            } else r = m >= u.c * u.i;\n            u = !r;\n          }\n          if (u) return null;\n          1 != t.ga.Lc ? t.Ga = 0 : o = c - i;\n        }\n        e(null != t.ga), e(i + o <= c);\n        t: {\n          if (r = (h = t.ga).c, c = h.l.o, 0 == h.$a) {\n            if (g = t.rc, m = t.Vc, b = t.Fa, l = t.P + 1 + i * r, f = t.mb, d = t.nb + i * r, e(l <= t.P + t.qc), 0 != h.Z) for (e(null != mi[h.Z]), u = 0; u < o; ++u) mi[h.Z](g, m, b, l, f, d, r), g = f, m = d, d += r, l += r;else for (u = 0; u < o; ++u) n(f, d, b, l, r), g = f, m = d, d += r, l += r;\n            t.rc = g, t.Vc = m;\n          } else {\n            if (e(null != h.mc), r = i + o, e(null != (u = h.mc)), e(r <= u.i), u.C >= r) r = 1;else if (h.ic || mr(), h.ic) {\n              h = u.V, g = u.Ba, m = u.c;\n              var y = u.i,\n                w = (b = 1, l = u.$ / m, f = u.$ % m, d = u.m, p = u.s, u.$),\n                N = m * y,\n                L = m * r,\n                x = p.wc,\n                _ = w < L ? wt(p, f, l) : null;\n              e(w <= N), e(r <= y), e(At(p));\n              e: for (;;) {\n                for (; !d.h && w < L;) {\n                  if (f & x || (_ = wt(p, f, l)), e(null != _), S(d), 256 > (y = bt(_.G[0], _.H[0], d))) h[g + w] = y, ++w, ++f >= m && (f = 0, ++l <= r && !(l % 16) && St(u, l));else {\n                    if (!(280 > y)) {\n                      b = 0;\n                      break e;\n                    }\n                    y = mt(y - 256, d);\n                    var P,\n                      k = bt(_.G[4], _.H[4], d);\n                    if (S(d), !(w >= (k = vt(m, k = mt(k, d))) && N - w >= y)) {\n                      b = 0;\n                      break e;\n                    }\n                    for (P = 0; P < y; ++P) h[g + w + P] = h[g + w + P - k];\n                    for (w += y, f += y; f >= m;) f -= m, ++l <= r && !(l % 16) && St(u, l);\n                    w < L && f & x && (_ = wt(p, f, l));\n                  }\n                  e(d.h == A(d));\n                }\n                St(u, l > r ? r : l);\n                break e;\n              }\n              !b || d.h && w < N ? (b = 0, u.a = d.h ? 5 : 3) : u.$ = w, r = b;\n            } else r = _t(u, u.V, u.Ba, u.c, u.i, r, Ct);\n            if (!r) {\n              o = 0;\n              break t;\n            }\n          }\n          i + o >= c && (t.Cc = 1), o = 1;\n        }\n        if (!o) return null;\n        if (t.Cc && (null != (o = t.ga) && (o.mc = null), t.ga = null, 0 < t.Ga)) return alert(\"todo:WebPDequantizeLevels\"), null;\n      }\n      return t.nb + i * s;\n    }\n    function fr(t, e, r, n, i, a) {\n      for (; 0 < i--;) {\n        var o,\n          s = t,\n          c = e + (r ? 1 : 0),\n          u = t,\n          h = e + (r ? 0 : 3);\n        for (o = 0; o < n; ++o) {\n          var l = u[h + 4 * o];\n          255 != l && (l *= 32897, s[c + 4 * o + 0] = s[c + 4 * o + 0] * l >> 23, s[c + 4 * o + 1] = s[c + 4 * o + 1] * l >> 23, s[c + 4 * o + 2] = s[c + 4 * o + 2] * l >> 23);\n        }\n        e += a;\n      }\n    }\n    function dr(t, e, r, n, i) {\n      for (; 0 < n--;) {\n        var a;\n        for (a = 0; a < r; ++a) {\n          var o = t[e + 2 * a + 0],\n            s = 15 & (u = t[e + 2 * a + 1]),\n            c = 4369 * s,\n            u = (240 & u | u >> 4) * c >> 16;\n          t[e + 2 * a + 0] = (240 & o | o >> 4) * c >> 16 & 240 | (15 & o | o << 4) * c >> 16 >> 4 & 15, t[e + 2 * a + 1] = 240 & u | s;\n        }\n        e += i;\n      }\n    }\n    function pr(t, e, r, n, i, a, o, s) {\n      var c,\n        u,\n        h = 255;\n      for (u = 0; u < i; ++u) {\n        for (c = 0; c < n; ++c) {\n          var l = t[e + c];\n          a[o + 4 * c] = l, h &= l;\n        }\n        e += r, o += s;\n      }\n      return 255 != h;\n    }\n    function gr(t, e, r, n, i) {\n      var a;\n      for (a = 0; a < i; ++a) r[n + a] = t[e + a] >> 8;\n    }\n    function mr() {\n      An = fr, xn = dr, Sn = pr, _n = gr;\n    }\n    function vr(r, n, i) {\n      t[r] = function (t, r, a, o, s, c, u, h, l, f, d, p, g, m, v, b, y) {\n        var w,\n          N = y - 1 >> 1,\n          L = s[c + 0] | u[h + 0] << 16,\n          A = l[f + 0] | d[p + 0] << 16;\n        e(null != t);\n        var x = 3 * L + A + 131074 >> 2;\n        for (n(t[r + 0], 255 & x, x >> 16, g, m), null != a && (x = 3 * A + L + 131074 >> 2, n(a[o + 0], 255 & x, x >> 16, v, b)), w = 1; w <= N; ++w) {\n          var S = s[c + w] | u[h + w] << 16,\n            _ = l[f + w] | d[p + w] << 16,\n            P = L + S + A + _ + 524296,\n            k = P + 2 * (S + A) >> 3;\n          x = k + L >> 1, L = (P = P + 2 * (L + _) >> 3) + S >> 1, n(t[r + 2 * w - 1], 255 & x, x >> 16, g, m + (2 * w - 1) * i), n(t[r + 2 * w - 0], 255 & L, L >> 16, g, m + (2 * w - 0) * i), null != a && (x = P + A >> 1, L = k + _ >> 1, n(a[o + 2 * w - 1], 255 & x, x >> 16, v, b + (2 * w - 1) * i), n(a[o + 2 * w + 0], 255 & L, L >> 16, v, b + (2 * w + 0) * i)), L = S, A = _;\n        }\n        1 & y || (x = 3 * L + A + 131074 >> 2, n(t[r + y - 1], 255 & x, x >> 16, g, m + (y - 1) * i), null != a && (x = 3 * A + L + 131074 >> 2, n(a[o + y - 1], 255 & x, x >> 16, v, b + (y - 1) * i)));\n      };\n    }\n    function br() {\n      vi[En] = bi, vi[qn] = wi, vi[Dn] = yi, vi[Rn] = Ni, vi[Tn] = Li, vi[Un] = Ai, vi[zn] = xi, vi[Hn] = wi, vi[Wn] = Ni, vi[Vn] = Li, vi[Gn] = Ai;\n    }\n    function yr(t) {\n      return t & ~Fi ? 0 > t ? 0 : 255 : t >> Ii;\n    }\n    function wr(t, e) {\n      return yr((19077 * t >> 8) + (26149 * e >> 8) - 14234);\n    }\n    function Nr(t, e, r) {\n      return yr((19077 * t >> 8) - (6419 * e >> 8) - (13320 * r >> 8) + 8708);\n    }\n    function Lr(t, e) {\n      return yr((19077 * t >> 8) + (33050 * e >> 8) - 17685);\n    }\n    function Ar(t, e, r, n, i) {\n      n[i + 0] = wr(t, r), n[i + 1] = Nr(t, e, r), n[i + 2] = Lr(t, e);\n    }\n    function xr(t, e, r, n, i) {\n      n[i + 0] = Lr(t, e), n[i + 1] = Nr(t, e, r), n[i + 2] = wr(t, r);\n    }\n    function Sr(t, e, r, n, i) {\n      var a = Nr(t, e, r);\n      e = a << 3 & 224 | Lr(t, e) >> 3, n[i + 0] = 248 & wr(t, r) | a >> 5, n[i + 1] = e;\n    }\n    function _r(t, e, r, n, i) {\n      var a = 240 & Lr(t, e) | 15;\n      n[i + 0] = 240 & wr(t, r) | Nr(t, e, r) >> 4, n[i + 1] = a;\n    }\n    function Pr(t, e, r, n, i) {\n      n[i + 0] = 255, Ar(t, e, r, n, i + 1);\n    }\n    function kr(t, e, r, n, i) {\n      xr(t, e, r, n, i), n[i + 3] = 255;\n    }\n    function Ir(t, e, r, n, i) {\n      Ar(t, e, r, n, i), n[i + 3] = 255;\n    }\n    function Vt(t, e) {\n      return 0 > t ? 0 : t > e ? e : t;\n    }\n    function Fr(e, r, n) {\n      t[e] = function (t, e, i, a, o, s, c, u, h) {\n        for (var l = u + (-2 & h) * n; u != l;) r(t[e + 0], i[a + 0], o[s + 0], c, u), r(t[e + 1], i[a + 0], o[s + 0], c, u + n), e += 2, ++a, ++s, u += 2 * n;\n        1 & h && r(t[e + 0], i[a + 0], o[s + 0], c, u);\n      };\n    }\n    function Cr(t, e, r) {\n      return 0 == r ? 0 == t ? 0 == e ? 6 : 5 : 0 == e ? 4 : 0 : r;\n    }\n    function jr(t, e, r, n, i) {\n      switch (t >>> 30) {\n        case 3:\n          on(e, r, n, i, 0);\n          break;\n        case 2:\n          sn(e, r, n, i);\n          break;\n        case 1:\n          un(e, r, n, i);\n      }\n    }\n    function Or(t, e) {\n      var r,\n        a,\n        o = e.M,\n        s = e.Nb,\n        c = t.oc,\n        u = t.pc + 40,\n        h = t.oc,\n        l = t.pc + 584,\n        f = t.oc,\n        d = t.pc + 600;\n      for (r = 0; 16 > r; ++r) c[u + 32 * r - 1] = 129;\n      for (r = 0; 8 > r; ++r) h[l + 32 * r - 1] = 129, f[d + 32 * r - 1] = 129;\n      for (0 < o ? c[u - 1 - 32] = h[l - 1 - 32] = f[d - 1 - 32] = 129 : (i(c, u - 32 - 1, 127, 21), i(h, l - 32 - 1, 127, 9), i(f, d - 32 - 1, 127, 9)), a = 0; a < t.za; ++a) {\n        var p = e.ya[e.aa + a];\n        if (0 < a) {\n          for (r = -1; 16 > r; ++r) n(c, u + 32 * r - 4, c, u + 32 * r + 12, 4);\n          for (r = -1; 8 > r; ++r) n(h, l + 32 * r - 4, h, l + 32 * r + 4, 4), n(f, d + 32 * r - 4, f, d + 32 * r + 4, 4);\n        }\n        var g = t.Gd,\n          m = t.Hd + a,\n          v = p.ad,\n          b = p.Hc;\n        if (0 < o && (n(c, u - 32, g[m].y, 0, 16), n(h, l - 32, g[m].f, 0, 8), n(f, d - 32, g[m].ea, 0, 8)), p.Za) {\n          var y = c,\n            w = u - 32 + 16;\n          for (0 < o && (a >= t.za - 1 ? i(y, w, g[m].y[15], 4) : n(y, w, g[m + 1].y, 0, 4)), r = 0; 4 > r; r++) y[w + 128 + r] = y[w + 256 + r] = y[w + 384 + r] = y[w + 0 + r];\n          for (r = 0; 16 > r; ++r, b <<= 2) y = c, w = u + Di[r], fi[p.Ob[r]](y, w), jr(b, v, 16 * +r, y, w);\n        } else if (y = Cr(a, o, p.Ob[0]), li[y](c, u), 0 != b) for (r = 0; 16 > r; ++r, b <<= 2) jr(b, v, 16 * +r, c, u + Di[r]);\n        for (r = p.Gc, y = Cr(a, o, p.Dd), di[y](h, l), di[y](f, d), b = v, y = h, w = l, 255 & (p = r >> 0) && (170 & p ? cn(b, 256, y, w) : hn(b, 256, y, w)), p = f, b = d, 255 & (r >>= 8) && (170 & r ? cn(v, 320, p, b) : hn(v, 320, p, b)), o < t.Ub - 1 && (n(g[m].y, 0, c, u + 480, 16), n(g[m].f, 0, h, l + 224, 8), n(g[m].ea, 0, f, d + 224, 8)), r = 8 * s * t.B, g = t.sa, m = t.ta + 16 * a + 16 * s * t.R, v = t.qa, p = t.ra + 8 * a + r, b = t.Ha, y = t.Ia + 8 * a + r, r = 0; 16 > r; ++r) n(g, m + r * t.R, c, u + 32 * r, 16);\n        for (r = 0; 8 > r; ++r) n(v, p + r * t.B, h, l + 32 * r, 8), n(b, y + r * t.B, f, d + 32 * r, 8);\n      }\n    }\n    function Br(t, n, i, a, o, s, c, u, h) {\n      var l = [0],\n        f = [0],\n        d = 0,\n        p = null != h ? h.kd : 0,\n        g = null != h ? h : new nr();\n      if (null == t || 12 > i) return 7;\n      g.data = t, g.w = n, g.ha = i, n = [n], i = [i], g.gb = [g.gb];\n      t: {\n        var m = n,\n          b = i,\n          y = g.gb;\n        if (e(null != t), e(null != b), e(null != y), y[0] = 0, 12 <= b[0] && !r(t, m[0], \"RIFF\")) {\n          if (r(t, m[0] + 8, \"WEBP\")) {\n            y = 3;\n            break t;\n          }\n          var w = j(t, m[0] + 4);\n          if (12 > w || 4294967286 < w) {\n            y = 3;\n            break t;\n          }\n          if (p && w > b[0] - 8) {\n            y = 7;\n            break t;\n          }\n          y[0] = w, m[0] += 12, b[0] -= 12;\n        }\n        y = 0;\n      }\n      if (0 != y) return y;\n      for (w = 0 < g.gb[0], i = i[0];;) {\n        t: {\n          var L = t;\n          b = n, y = i;\n          var A = l,\n            x = f,\n            S = m = [0];\n          if ((k = d = [d])[0] = 0, 8 > y[0]) y = 7;else {\n            if (!r(L, b[0], \"VP8X\")) {\n              if (10 != j(L, b[0] + 4)) {\n                y = 3;\n                break t;\n              }\n              if (18 > y[0]) {\n                y = 7;\n                break t;\n              }\n              var _ = j(L, b[0] + 8),\n                P = 1 + C(L, b[0] + 12);\n              if (2147483648 <= P * (L = 1 + C(L, b[0] + 15))) {\n                y = 3;\n                break t;\n              }\n              null != S && (S[0] = _), null != A && (A[0] = P), null != x && (x[0] = L), b[0] += 18, y[0] -= 18, k[0] = 1;\n            }\n            y = 0;\n          }\n        }\n        if (d = d[0], m = m[0], 0 != y) return y;\n        if (b = !!(2 & m), !w && d) return 3;\n        if (null != s && (s[0] = !!(16 & m)), null != c && (c[0] = b), null != u && (u[0] = 0), c = l[0], m = f[0], d && b && null == h) {\n          y = 0;\n          break;\n        }\n        if (4 > i) {\n          y = 7;\n          break;\n        }\n        if (w && d || !w && !d && !r(t, n[0], \"ALPH\")) {\n          i = [i], g.na = [g.na], g.P = [g.P], g.Sa = [g.Sa];\n          t: {\n            _ = t, y = n, w = i;\n            var k = g.gb;\n            A = g.na, x = g.P, S = g.Sa;\n            P = 22, e(null != _), e(null != w), L = y[0];\n            var I = w[0];\n            for (e(null != A), e(null != S), A[0] = null, x[0] = null, S[0] = 0;;) {\n              if (y[0] = L, w[0] = I, 8 > I) {\n                y = 7;\n                break t;\n              }\n              var F = j(_, L + 4);\n              if (4294967286 < F) {\n                y = 3;\n                break t;\n              }\n              var O = 8 + F + 1 & -2;\n              if (P += O, 0 < k && P > k) {\n                y = 3;\n                break t;\n              }\n              if (!r(_, L, \"VP8 \") || !r(_, L, \"VP8L\")) {\n                y = 0;\n                break t;\n              }\n              if (I[0] < O) {\n                y = 7;\n                break t;\n              }\n              r(_, L, \"ALPH\") || (A[0] = _, x[0] = L + 8, S[0] = F), L += O, I -= O;\n            }\n          }\n          if (i = i[0], g.na = g.na[0], g.P = g.P[0], g.Sa = g.Sa[0], 0 != y) break;\n        }\n        i = [i], g.Ja = [g.Ja], g.xa = [g.xa];\n        t: if (k = t, y = n, w = i, A = g.gb[0], x = g.Ja, S = g.xa, _ = y[0], L = !r(k, _, \"VP8 \"), P = !r(k, _, \"VP8L\"), e(null != k), e(null != w), e(null != x), e(null != S), 8 > w[0]) y = 7;else {\n          if (L || P) {\n            if (k = j(k, _ + 4), 12 <= A && k > A - 12) {\n              y = 3;\n              break t;\n            }\n            if (p && k > w[0] - 8) {\n              y = 7;\n              break t;\n            }\n            x[0] = k, y[0] += 8, w[0] -= 8, S[0] = P;\n          } else S[0] = 5 <= w[0] && 47 == k[_ + 0] && !(k[_ + 4] >> 5), x[0] = w[0];\n          y = 0;\n        }\n        if (i = i[0], g.Ja = g.Ja[0], g.xa = g.xa[0], n = n[0], 0 != y) break;\n        if (4294967286 < g.Ja) return 3;\n        if (null == u || b || (u[0] = g.xa ? 2 : 1), c = [c], m = [m], g.xa) {\n          if (5 > i) {\n            y = 7;\n            break;\n          }\n          u = c, p = m, b = s, null == t || 5 > i ? t = 0 : 5 <= i && 47 == t[n + 0] && !(t[n + 4] >> 5) ? (w = [0], k = [0], A = [0], v(x = new N(), t, n, i), gt(x, w, k, A) ? (null != u && (u[0] = w[0]), null != p && (p[0] = k[0]), null != b && (b[0] = A[0]), t = 1) : t = 0) : t = 0;\n        } else {\n          if (10 > i) {\n            y = 7;\n            break;\n          }\n          u = m, null == t || 10 > i || !Xt(t, n + 3, i - 3) ? t = 0 : (p = t[n + 0] | t[n + 1] << 8 | t[n + 2] << 16, b = 16383 & (t[n + 7] << 8 | t[n + 6]), t = 16383 & (t[n + 9] << 8 | t[n + 8]), 1 & p || 3 < (p >> 1 & 7) || !(p >> 4 & 1) || p >> 5 >= g.Ja || !b || !t ? t = 0 : (c && (c[0] = b), u && (u[0] = t), t = 1));\n        }\n        if (!t) return 3;\n        if (c = c[0], m = m[0], d && (l[0] != c || f[0] != m)) return 3;\n        null != h && (h[0] = g, h.offset = n - h.w, e(4294967286 > n - h.w), e(h.offset == h.ha - i));\n        break;\n      }\n      return 0 == y || 7 == y && d && null == h ? (null != s && (s[0] |= null != g.na && 0 < g.na.length), null != a && (a[0] = c), null != o && (o[0] = m), 0) : y;\n    }\n    function Mr(t, e, r) {\n      var n = e.width,\n        i = e.height,\n        a = 0,\n        o = 0,\n        s = n,\n        c = i;\n      if (e.Da = null != t && 0 < t.Da, e.Da && (s = t.cd, c = t.bd, a = t.v, o = t.j, 11 > r || (a &= -2, o &= -2), 0 > a || 0 > o || 0 >= s || 0 >= c || a + s > n || o + c > i)) return 0;\n      if (e.v = a, e.j = o, e.va = a + s, e.o = o + c, e.U = s, e.T = c, e.da = null != t && 0 < t.da, e.da) {\n        if (!E(s, c, r = [t.ib], a = [t.hb])) return 0;\n        e.ib = r[0], e.hb = a[0];\n      }\n      return e.ob = null != t && t.ob, e.Kb = null == t || !t.Sd, e.da && (e.ob = e.ib < 3 * n / 4 && e.hb < 3 * i / 4, e.Kb = 0), 1;\n    }\n    function Er(t) {\n      if (null == t) return 2;\n      if (11 > t.S) {\n        var e = t.f.RGBA;\n        e.fb += (t.height - 1) * e.A, e.A = -e.A;\n      } else e = t.f.kb, t = t.height, e.O += (t - 1) * e.fa, e.fa = -e.fa, e.N += (t - 1 >> 1) * e.Ab, e.Ab = -e.Ab, e.W += (t - 1 >> 1) * e.Db, e.Db = -e.Db, null != e.F && (e.J += (t - 1) * e.lb, e.lb = -e.lb);\n      return 0;\n    }\n    function qr(t, e, r, n) {\n      if (null == n || 0 >= t || 0 >= e) return 2;\n      if (null != r) {\n        if (r.Da) {\n          var i = r.cd,\n            o = r.bd,\n            s = -2 & r.v,\n            c = -2 & r.j;\n          if (0 > s || 0 > c || 0 >= i || 0 >= o || s + i > t || c + o > e) return 2;\n          t = i, e = o;\n        }\n        if (r.da) {\n          if (!E(t, e, i = [r.ib], o = [r.hb])) return 2;\n          t = i[0], e = o[0];\n        }\n      }\n      n.width = t, n.height = e;\n      t: {\n        var u = n.width,\n          h = n.height;\n        if (t = n.S, 0 >= u || 0 >= h || !(t >= En && 13 > t)) t = 2;else {\n          if (0 >= n.Rd && null == n.sd) {\n            s = o = i = e = 0;\n            var l = (c = u * zi[t]) * h;\n            if (11 > t || (o = (h + 1) / 2 * (e = (u + 1) / 2), 12 == t && (s = (i = u) * h)), null == (h = a(l + 2 * o + s))) {\n              t = 1;\n              break t;\n            }\n            n.sd = h, 11 > t ? ((u = n.f.RGBA).eb = h, u.fb = 0, u.A = c, u.size = l) : ((u = n.f.kb).y = h, u.O = 0, u.fa = c, u.Fd = l, u.f = h, u.N = 0 + l, u.Ab = e, u.Cd = o, u.ea = h, u.W = 0 + l + o, u.Db = e, u.Ed = o, 12 == t && (u.F = h, u.J = 0 + l + 2 * o), u.Tc = s, u.lb = i);\n          }\n          if (e = 1, i = n.S, o = n.width, s = n.height, i >= En && 13 > i) {\n            if (11 > i) t = n.f.RGBA, e &= (c = Math.abs(t.A)) * (s - 1) + o <= t.size, e &= c >= o * zi[i], e &= null != t.eb;else {\n              t = n.f.kb, c = (o + 1) / 2, l = (s + 1) / 2, u = Math.abs(t.fa);\n              h = Math.abs(t.Ab);\n              var f = Math.abs(t.Db),\n                d = Math.abs(t.lb),\n                p = d * (s - 1) + o;\n              e &= u * (s - 1) + o <= t.Fd, e &= h * (l - 1) + c <= t.Cd, e = (e &= f * (l - 1) + c <= t.Ed) & u >= o & h >= c & f >= c, e &= null != t.y, e &= null != t.f, e &= null != t.ea, 12 == i && (e &= d >= o, e &= p <= t.Tc, e &= null != t.F);\n            }\n          } else e = 0;\n          t = e ? 0 : 2;\n        }\n      }\n      return 0 != t || null != r && r.fd && (t = Er(n)), t;\n    }\n    var Dr = 64,\n      Rr = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215],\n      Tr = 24,\n      Ur = 32,\n      zr = 8,\n      Hr = [0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7];\n    R(\"Predictor0\", \"PredictorAdd0\"), t.Predictor0 = function () {\n      return 4278190080;\n    }, t.Predictor1 = function (t) {\n      return t;\n    }, t.Predictor2 = function (t, e, r) {\n      return e[r + 0];\n    }, t.Predictor3 = function (t, e, r) {\n      return e[r + 1];\n    }, t.Predictor4 = function (t, e, r) {\n      return e[r - 1];\n    }, t.Predictor5 = function (t, e, r) {\n      return U(U(t, e[r + 1]), e[r + 0]);\n    }, t.Predictor6 = function (t, e, r) {\n      return U(t, e[r - 1]);\n    }, t.Predictor7 = function (t, e, r) {\n      return U(t, e[r + 0]);\n    }, t.Predictor8 = function (t, e, r) {\n      return U(e[r - 1], e[r + 0]);\n    }, t.Predictor9 = function (t, e, r) {\n      return U(e[r + 0], e[r + 1]);\n    }, t.Predictor10 = function (t, e, r) {\n      return U(U(t, e[r - 1]), U(e[r + 0], e[r + 1]));\n    }, t.Predictor11 = function (t, e, r) {\n      var n = e[r + 0];\n      return 0 >= W(n >> 24 & 255, t >> 24 & 255, (e = e[r - 1]) >> 24 & 255) + W(n >> 16 & 255, t >> 16 & 255, e >> 16 & 255) + W(n >> 8 & 255, t >> 8 & 255, e >> 8 & 255) + W(255 & n, 255 & t, 255 & e) ? n : t;\n    }, t.Predictor12 = function (t, e, r) {\n      var n = e[r + 0];\n      return (z((t >> 24 & 255) + (n >> 24 & 255) - ((e = e[r - 1]) >> 24 & 255)) << 24 | z((t >> 16 & 255) + (n >> 16 & 255) - (e >> 16 & 255)) << 16 | z((t >> 8 & 255) + (n >> 8 & 255) - (e >> 8 & 255)) << 8 | z((255 & t) + (255 & n) - (255 & e))) >>> 0;\n    }, t.Predictor13 = function (t, e, r) {\n      var n = e[r - 1];\n      return (H((t = U(t, e[r + 0])) >> 24 & 255, n >> 24 & 255) << 24 | H(t >> 16 & 255, n >> 16 & 255) << 16 | H(t >> 8 & 255, n >> 8 & 255) << 8 | H(t >> 0 & 255, n >> 0 & 255)) >>> 0;\n    };\n    var Wr = t.PredictorAdd0;\n    t.PredictorAdd1 = V, R(\"Predictor2\", \"PredictorAdd2\"), R(\"Predictor3\", \"PredictorAdd3\"), R(\"Predictor4\", \"PredictorAdd4\"), R(\"Predictor5\", \"PredictorAdd5\"), R(\"Predictor6\", \"PredictorAdd6\"), R(\"Predictor7\", \"PredictorAdd7\"), R(\"Predictor8\", \"PredictorAdd8\"), R(\"Predictor9\", \"PredictorAdd9\"), R(\"Predictor10\", \"PredictorAdd10\"), R(\"Predictor11\", \"PredictorAdd11\"), R(\"Predictor12\", \"PredictorAdd12\"), R(\"Predictor13\", \"PredictorAdd13\");\n    var Vr = t.PredictorAdd2;\n    X(\"ColorIndexInverseTransform\", \"MapARGB\", \"32b\", function (t) {\n      return t >> 8 & 255;\n    }, function (t) {\n      return t;\n    }), X(\"VP8LColorIndexInverseTransformAlpha\", \"MapAlpha\", \"8b\", function (t) {\n      return t;\n    }, function (t) {\n      return t >> 8 & 255;\n    });\n    var Gr,\n      Yr = t.ColorIndexInverseTransform,\n      Jr = t.MapARGB,\n      Xr = t.VP8LColorIndexInverseTransformAlpha,\n      Kr = t.MapAlpha,\n      Zr = t.VP8LPredictorsAdd = [];\n    Zr.length = 16, (t.VP8LPredictors = []).length = 16, (t.VP8LPredictorsAdd_C = []).length = 16, (t.VP8LPredictors_C = []).length = 16;\n    var $r,\n      Qr,\n      tn,\n      en,\n      rn,\n      nn,\n      an,\n      on,\n      sn,\n      cn,\n      un,\n      hn,\n      ln,\n      fn,\n      dn,\n      pn,\n      gn,\n      mn,\n      vn,\n      bn,\n      yn,\n      wn,\n      Nn,\n      Ln,\n      An,\n      xn,\n      Sn,\n      _n,\n      Pn = a(511),\n      kn = a(2041),\n      In = a(225),\n      Fn = a(767),\n      Cn = 0,\n      jn = kn,\n      On = In,\n      Bn = Fn,\n      Mn = Pn,\n      En = 0,\n      qn = 1,\n      Dn = 2,\n      Rn = 3,\n      Tn = 4,\n      Un = 5,\n      zn = 6,\n      Hn = 7,\n      Wn = 8,\n      Vn = 9,\n      Gn = 10,\n      Yn = [2, 3, 7],\n      Jn = [3, 3, 11],\n      Xn = [280, 256, 256, 256, 40],\n      Kn = [0, 1, 1, 1, 0],\n      Zn = [17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],\n      $n = [24, 7, 23, 25, 40, 6, 39, 41, 22, 26, 38, 42, 56, 5, 55, 57, 21, 27, 54, 58, 37, 43, 72, 4, 71, 73, 20, 28, 53, 59, 70, 74, 36, 44, 88, 69, 75, 52, 60, 3, 87, 89, 19, 29, 86, 90, 35, 45, 68, 76, 85, 91, 51, 61, 104, 2, 103, 105, 18, 30, 102, 106, 34, 46, 84, 92, 67, 77, 101, 107, 50, 62, 120, 1, 119, 121, 83, 93, 17, 31, 100, 108, 66, 78, 118, 122, 33, 47, 117, 123, 49, 63, 99, 109, 82, 94, 0, 116, 124, 65, 79, 16, 32, 98, 110, 48, 115, 125, 81, 95, 64, 114, 126, 97, 111, 80, 113, 127, 96, 112],\n      Qn = [2954, 2956, 2958, 2962, 2970, 2986, 3018, 3082, 3212, 3468, 3980, 5004],\n      ti = 8,\n      ei = [4, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 16, 17, 17, 18, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 93, 95, 96, 98, 100, 101, 102, 104, 106, 108, 110, 112, 114, 116, 118, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 143, 145, 148, 151, 154, 157],\n      ri = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167, 170, 173, 177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 217, 221, 225, 229, 234, 239, 245, 249, 254, 259, 264, 269, 274, 279, 284],\n      ni = null,\n      ii = [[173, 148, 140, 0], [176, 155, 140, 135, 0], [180, 157, 141, 134, 130, 0], [254, 254, 243, 230, 196, 177, 153, 140, 133, 130, 129, 0]],\n      ai = [0, 1, 4, 8, 5, 2, 3, 6, 9, 12, 13, 10, 7, 11, 14, 15],\n      oi = [-0, 1, -1, 2, -2, 3, 4, 6, -3, 5, -4, -5, -6, 7, -7, 8, -8, -9],\n      si = [[[[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]], [[253, 136, 254, 255, 228, 219, 128, 128, 128, 128, 128], [189, 129, 242, 255, 227, 213, 255, 219, 128, 128, 128], [106, 126, 227, 252, 214, 209, 255, 255, 128, 128, 128]], [[1, 98, 248, 255, 236, 226, 255, 255, 128, 128, 128], [181, 133, 238, 254, 221, 234, 255, 154, 128, 128, 128], [78, 134, 202, 247, 198, 180, 255, 219, 128, 128, 128]], [[1, 185, 249, 255, 243, 255, 128, 128, 128, 128, 128], [184, 150, 247, 255, 236, 224, 128, 128, 128, 128, 128], [77, 110, 216, 255, 236, 230, 128, 128, 128, 128, 128]], [[1, 101, 251, 255, 241, 255, 128, 128, 128, 128, 128], [170, 139, 241, 252, 236, 209, 255, 255, 128, 128, 128], [37, 116, 196, 243, 228, 255, 255, 255, 128, 128, 128]], [[1, 204, 254, 255, 245, 255, 128, 128, 128, 128, 128], [207, 160, 250, 255, 238, 128, 128, 128, 128, 128, 128], [102, 103, 231, 255, 211, 171, 128, 128, 128, 128, 128]], [[1, 152, 252, 255, 240, 255, 128, 128, 128, 128, 128], [177, 135, 243, 255, 234, 225, 128, 128, 128, 128, 128], [80, 129, 211, 255, 194, 224, 128, 128, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [246, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [255, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[198, 35, 237, 223, 193, 187, 162, 160, 145, 155, 62], [131, 45, 198, 221, 172, 176, 220, 157, 252, 221, 1], [68, 47, 146, 208, 149, 167, 221, 162, 255, 223, 128]], [[1, 149, 241, 255, 221, 224, 255, 255, 128, 128, 128], [184, 141, 234, 253, 222, 220, 255, 199, 128, 128, 128], [81, 99, 181, 242, 176, 190, 249, 202, 255, 255, 128]], [[1, 129, 232, 253, 214, 197, 242, 196, 255, 255, 128], [99, 121, 210, 250, 201, 198, 255, 202, 128, 128, 128], [23, 91, 163, 242, 170, 187, 247, 210, 255, 255, 128]], [[1, 200, 246, 255, 234, 255, 128, 128, 128, 128, 128], [109, 178, 241, 255, 231, 245, 255, 255, 128, 128, 128], [44, 130, 201, 253, 205, 192, 255, 255, 128, 128, 128]], [[1, 132, 239, 251, 219, 209, 255, 165, 128, 128, 128], [94, 136, 225, 251, 218, 190, 255, 255, 128, 128, 128], [22, 100, 174, 245, 186, 161, 255, 199, 128, 128, 128]], [[1, 182, 249, 255, 232, 235, 128, 128, 128, 128, 128], [124, 143, 241, 255, 227, 234, 128, 128, 128, 128, 128], [35, 77, 181, 251, 193, 211, 255, 205, 128, 128, 128]], [[1, 157, 247, 255, 236, 231, 255, 255, 128, 128, 128], [121, 141, 235, 255, 225, 227, 255, 255, 128, 128, 128], [45, 99, 188, 251, 195, 217, 255, 224, 128, 128, 128]], [[1, 1, 251, 255, 213, 255, 128, 128, 128, 128, 128], [203, 1, 248, 255, 255, 128, 128, 128, 128, 128, 128], [137, 1, 177, 255, 224, 255, 128, 128, 128, 128, 128]]], [[[253, 9, 248, 251, 207, 208, 255, 192, 128, 128, 128], [175, 13, 224, 243, 193, 185, 249, 198, 255, 255, 128], [73, 17, 171, 221, 161, 179, 236, 167, 255, 234, 128]], [[1, 95, 247, 253, 212, 183, 255, 255, 128, 128, 128], [239, 90, 244, 250, 211, 209, 255, 255, 128, 128, 128], [155, 77, 195, 248, 188, 195, 255, 255, 128, 128, 128]], [[1, 24, 239, 251, 218, 219, 255, 205, 128, 128, 128], [201, 51, 219, 255, 196, 186, 128, 128, 128, 128, 128], [69, 46, 190, 239, 201, 218, 255, 228, 128, 128, 128]], [[1, 191, 251, 255, 255, 128, 128, 128, 128, 128, 128], [223, 165, 249, 255, 213, 255, 128, 128, 128, 128, 128], [141, 124, 248, 255, 255, 128, 128, 128, 128, 128, 128]], [[1, 16, 248, 255, 255, 128, 128, 128, 128, 128, 128], [190, 36, 230, 255, 236, 255, 128, 128, 128, 128, 128], [149, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 226, 255, 128, 128, 128, 128, 128, 128, 128, 128], [247, 192, 255, 128, 128, 128, 128, 128, 128, 128, 128], [240, 128, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 134, 252, 255, 255, 128, 128, 128, 128, 128, 128], [213, 62, 250, 255, 255, 128, 128, 128, 128, 128, 128], [55, 93, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[202, 24, 213, 235, 186, 191, 220, 160, 240, 175, 255], [126, 38, 182, 232, 169, 184, 228, 174, 255, 187, 128], [61, 46, 138, 219, 151, 178, 240, 170, 255, 216, 128]], [[1, 112, 230, 250, 199, 191, 247, 159, 255, 255, 128], [166, 109, 228, 252, 211, 215, 255, 174, 128, 128, 128], [39, 77, 162, 232, 172, 180, 245, 178, 255, 255, 128]], [[1, 52, 220, 246, 198, 199, 249, 220, 255, 255, 128], [124, 74, 191, 243, 183, 193, 250, 221, 255, 255, 128], [24, 71, 130, 219, 154, 170, 243, 182, 255, 255, 128]], [[1, 182, 225, 249, 219, 240, 255, 224, 128, 128, 128], [149, 150, 226, 252, 216, 205, 255, 171, 128, 128, 128], [28, 108, 170, 242, 183, 194, 254, 223, 255, 255, 128]], [[1, 81, 230, 252, 204, 203, 255, 192, 128, 128, 128], [123, 102, 209, 247, 188, 196, 255, 233, 128, 128, 128], [20, 95, 153, 243, 164, 173, 255, 203, 128, 128, 128]], [[1, 222, 248, 255, 216, 213, 128, 128, 128, 128, 128], [168, 175, 246, 252, 235, 205, 255, 255, 128, 128, 128], [47, 116, 215, 255, 211, 212, 255, 255, 128, 128, 128]], [[1, 121, 236, 253, 212, 214, 255, 255, 128, 128, 128], [141, 84, 213, 252, 201, 202, 255, 219, 128, 128, 128], [42, 80, 160, 240, 162, 185, 255, 205, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [244, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [238, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]]]],\n      ci = [[[231, 120, 48, 89, 115, 113, 120, 152, 112], [152, 179, 64, 126, 170, 118, 46, 70, 95], [175, 69, 143, 80, 85, 82, 72, 155, 103], [56, 58, 10, 171, 218, 189, 17, 13, 152], [114, 26, 17, 163, 44, 195, 21, 10, 173], [121, 24, 80, 195, 26, 62, 44, 64, 85], [144, 71, 10, 38, 171, 213, 144, 34, 26], [170, 46, 55, 19, 136, 160, 33, 206, 71], [63, 20, 8, 114, 114, 208, 12, 9, 226], [81, 40, 11, 96, 182, 84, 29, 16, 36]], [[134, 183, 89, 137, 98, 101, 106, 165, 148], [72, 187, 100, 130, 157, 111, 32, 75, 80], [66, 102, 167, 99, 74, 62, 40, 234, 128], [41, 53, 9, 178, 241, 141, 26, 8, 107], [74, 43, 26, 146, 73, 166, 49, 23, 157], [65, 38, 105, 160, 51, 52, 31, 115, 128], [104, 79, 12, 27, 217, 255, 87, 17, 7], [87, 68, 71, 44, 114, 51, 15, 186, 23], [47, 41, 14, 110, 182, 183, 21, 17, 194], [66, 45, 25, 102, 197, 189, 23, 18, 22]], [[88, 88, 147, 150, 42, 46, 45, 196, 205], [43, 97, 183, 117, 85, 38, 35, 179, 61], [39, 53, 200, 87, 26, 21, 43, 232, 171], [56, 34, 51, 104, 114, 102, 29, 93, 77], [39, 28, 85, 171, 58, 165, 90, 98, 64], [34, 22, 116, 206, 23, 34, 43, 166, 73], [107, 54, 32, 26, 51, 1, 81, 43, 31], [68, 25, 106, 22, 64, 171, 36, 225, 114], [34, 19, 21, 102, 132, 188, 16, 76, 124], [62, 18, 78, 95, 85, 57, 50, 48, 51]], [[193, 101, 35, 159, 215, 111, 89, 46, 111], [60, 148, 31, 172, 219, 228, 21, 18, 111], [112, 113, 77, 85, 179, 255, 38, 120, 114], [40, 42, 1, 196, 245, 209, 10, 25, 109], [88, 43, 29, 140, 166, 213, 37, 43, 154], [61, 63, 30, 155, 67, 45, 68, 1, 209], [100, 80, 8, 43, 154, 1, 51, 26, 71], [142, 78, 78, 16, 255, 128, 34, 197, 171], [41, 40, 5, 102, 211, 183, 4, 1, 221], [51, 50, 17, 168, 209, 192, 23, 25, 82]], [[138, 31, 36, 171, 27, 166, 38, 44, 229], [67, 87, 58, 169, 82, 115, 26, 59, 179], [63, 59, 90, 180, 59, 166, 93, 73, 154], [40, 40, 21, 116, 143, 209, 34, 39, 175], [47, 15, 16, 183, 34, 223, 49, 45, 183], [46, 17, 33, 183, 6, 98, 15, 32, 183], [57, 46, 22, 24, 128, 1, 54, 17, 37], [65, 32, 73, 115, 28, 128, 23, 128, 205], [40, 3, 9, 115, 51, 192, 18, 6, 223], [87, 37, 9, 115, 59, 77, 64, 21, 47]], [[104, 55, 44, 218, 9, 54, 53, 130, 226], [64, 90, 70, 205, 40, 41, 23, 26, 57], [54, 57, 112, 184, 5, 41, 38, 166, 213], [30, 34, 26, 133, 152, 116, 10, 32, 134], [39, 19, 53, 221, 26, 114, 32, 73, 255], [31, 9, 65, 234, 2, 15, 1, 118, 73], [75, 32, 12, 51, 192, 255, 160, 43, 51], [88, 31, 35, 67, 102, 85, 55, 186, 85], [56, 21, 23, 111, 59, 205, 45, 37, 192], [55, 38, 70, 124, 73, 102, 1, 34, 98]], [[125, 98, 42, 88, 104, 85, 117, 175, 82], [95, 84, 53, 89, 128, 100, 113, 101, 45], [75, 79, 123, 47, 51, 128, 81, 171, 1], [57, 17, 5, 71, 102, 57, 53, 41, 49], [38, 33, 13, 121, 57, 73, 26, 1, 85], [41, 10, 67, 138, 77, 110, 90, 47, 114], [115, 21, 2, 10, 102, 255, 166, 23, 6], [101, 29, 16, 10, 85, 128, 101, 196, 26], [57, 18, 10, 102, 102, 213, 34, 20, 43], [117, 20, 15, 36, 163, 128, 68, 1, 26]], [[102, 61, 71, 37, 34, 53, 31, 243, 192], [69, 60, 71, 38, 73, 119, 28, 222, 37], [68, 45, 128, 34, 1, 47, 11, 245, 171], [62, 17, 19, 70, 146, 85, 55, 62, 70], [37, 43, 37, 154, 100, 163, 85, 160, 1], [63, 9, 92, 136, 28, 64, 32, 201, 85], [75, 15, 9, 9, 64, 255, 184, 119, 16], [86, 6, 28, 5, 64, 255, 25, 248, 1], [56, 8, 17, 132, 137, 255, 55, 116, 128], [58, 15, 20, 82, 135, 57, 26, 121, 40]], [[164, 50, 31, 137, 154, 133, 25, 35, 218], [51, 103, 44, 131, 131, 123, 31, 6, 158], [86, 40, 64, 135, 148, 224, 45, 183, 128], [22, 26, 17, 131, 240, 154, 14, 1, 209], [45, 16, 21, 91, 64, 222, 7, 1, 197], [56, 21, 39, 155, 60, 138, 23, 102, 213], [83, 12, 13, 54, 192, 255, 68, 47, 28], [85, 26, 85, 85, 128, 128, 32, 146, 171], [18, 11, 7, 63, 144, 171, 4, 4, 246], [35, 27, 10, 146, 174, 171, 12, 26, 128]], [[190, 80, 35, 99, 180, 80, 126, 54, 45], [85, 126, 47, 87, 176, 51, 41, 20, 32], [101, 75, 128, 139, 118, 146, 116, 128, 85], [56, 41, 15, 176, 236, 85, 37, 9, 62], [71, 30, 17, 119, 118, 255, 17, 18, 138], [101, 38, 60, 138, 55, 70, 43, 26, 142], [146, 36, 19, 30, 171, 255, 97, 27, 20], [138, 45, 61, 62, 219, 1, 81, 188, 64], [32, 41, 20, 117, 151, 142, 20, 21, 163], [112, 19, 12, 61, 195, 128, 48, 4, 24]]],\n      ui = [[[[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[176, 246, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 241, 252, 255, 255, 255, 255, 255, 255, 255, 255], [249, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 244, 252, 255, 255, 255, 255, 255, 255, 255, 255], [234, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255], [239, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 254, 255, 255, 255, 255, 255, 255], [250, 255, 254, 255, 254, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[217, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [225, 252, 241, 253, 255, 255, 254, 255, 255, 255, 255], [234, 250, 241, 250, 253, 255, 253, 254, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [238, 253, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [249, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255], [247, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[186, 251, 250, 255, 255, 255, 255, 255, 255, 255, 255], [234, 251, 244, 254, 255, 255, 255, 255, 255, 255, 255], [251, 251, 243, 253, 254, 255, 254, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [236, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 253, 253, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [250, 254, 252, 254, 255, 255, 255, 255, 255, 255, 255], [248, 254, 249, 253, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [246, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 254, 251, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 252, 255, 255, 255, 255, 255, 255, 255, 255], [248, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [245, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255], [249, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]]],\n      hi = [0, 1, 2, 3, 6, 4, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 0],\n      li = [],\n      fi = [],\n      di = [],\n      pi = 1,\n      gi = 2,\n      mi = [],\n      vi = [];\n    vr(\"UpsampleRgbLinePair\", Ar, 3), vr(\"UpsampleBgrLinePair\", xr, 3), vr(\"UpsampleRgbaLinePair\", Ir, 4), vr(\"UpsampleBgraLinePair\", kr, 4), vr(\"UpsampleArgbLinePair\", Pr, 4), vr(\"UpsampleRgba4444LinePair\", _r, 2), vr(\"UpsampleRgb565LinePair\", Sr, 2);\n    var bi = t.UpsampleRgbLinePair,\n      yi = t.UpsampleBgrLinePair,\n      wi = t.UpsampleRgbaLinePair,\n      Ni = t.UpsampleBgraLinePair,\n      Li = t.UpsampleArgbLinePair,\n      Ai = t.UpsampleRgba4444LinePair,\n      xi = t.UpsampleRgb565LinePair,\n      Si = 16,\n      _i = 1 << Si - 1,\n      Pi = -227,\n      ki = 482,\n      Ii = 6,\n      Fi = (256 << Ii) - 1,\n      Ci = 0,\n      ji = a(256),\n      Oi = a(256),\n      Bi = a(256),\n      Mi = a(256),\n      Ei = a(ki - Pi),\n      qi = a(ki - Pi);\n    Fr(\"YuvToRgbRow\", Ar, 3), Fr(\"YuvToBgrRow\", xr, 3), Fr(\"YuvToRgbaRow\", Ir, 4), Fr(\"YuvToBgraRow\", kr, 4), Fr(\"YuvToArgbRow\", Pr, 4), Fr(\"YuvToRgba4444Row\", _r, 2), Fr(\"YuvToRgb565Row\", Sr, 2);\n    var Di = [0, 4, 8, 12, 128, 132, 136, 140, 256, 260, 264, 268, 384, 388, 392, 396],\n      Ri = [0, 2, 8],\n      Ti = [8, 7, 6, 4, 4, 2, 2, 2, 1, 1, 1, 1],\n      Ui = 1;\n    this.WebPDecodeRGBA = function (t, r, n, i, a) {\n      var o = qn,\n        s = new rr(),\n        c = new ot();\n      s.ba = c, c.S = o, c.width = [c.width], c.height = [c.height];\n      var u = c.width,\n        h = c.height,\n        l = new st();\n      if (null == l || null == t) var f = 2;else e(null != l), f = Br(t, r, n, l.width, l.height, l.Pd, l.Qd, l.format, null);\n      if (0 != f ? u = 0 : (null != u && (u[0] = l.width[0]), null != h && (h[0] = l.height[0]), u = 1), u) {\n        c.width = c.width[0], c.height = c.height[0], null != i && (i[0] = c.width), null != a && (a[0] = c.height);\n        t: {\n          if (i = new Gt(), (a = new nr()).data = t, a.w = r, a.ha = n, a.kd = 1, r = [0], e(null != a), (0 == (t = Br(a.data, a.w, a.ha, null, null, null, r, null, a)) || 7 == t) && r[0] && (t = 4), 0 == (r = t)) {\n            if (e(null != s), i.data = a.data, i.w = a.w + a.offset, i.ha = a.ha - a.offset, i.put = dt, i.ac = ft, i.bc = pt, i.ma = s, a.xa) {\n              if (null == (t = kt())) {\n                s = 1;\n                break t;\n              }\n              if (function (t, r) {\n                var n = [0],\n                  i = [0],\n                  a = [0];\n                e: for (;;) {\n                  if (null == t) return 0;\n                  if (null == r) return t.a = 2, 0;\n                  if (t.l = r, t.a = 0, v(t.m, r.data, r.w, r.ha), !gt(t.m, n, i, a)) {\n                    t.a = 3;\n                    break e;\n                  }\n                  if (t.xb = gi, r.width = n[0], r.height = i[0], !It(n[0], i[0], 1, t, null)) break e;\n                  return 1;\n                }\n                return e(0 != t.a), 0;\n              }(t, i)) {\n                if (i = 0 == (r = qr(i.width, i.height, s.Oa, s.ba))) {\n                  e: {\n                    i = t;\n                    r: for (;;) {\n                      if (null == i) {\n                        i = 0;\n                        break e;\n                      }\n                      if (e(null != i.s.yc), e(null != i.s.Ya), e(0 < i.s.Wb), e(null != (n = i.l)), e(null != (a = n.ma)), 0 != i.xb) {\n                        if (i.ca = a.ba, i.tb = a.tb, e(null != i.ca), !Mr(a.Oa, n, Rn)) {\n                          i.a = 2;\n                          break r;\n                        }\n                        if (!Ft(i, n.width)) break r;\n                        if (n.da) break r;\n                        if ((n.da || nt(i.ca.S)) && mr(), 11 > i.ca.S || (alert(\"todo:WebPInitConvertARGBToYUV\"), null != i.ca.f.kb.F && mr()), i.Pb && 0 < i.s.ua && null == i.s.vb.X && !O(i.s.vb, i.s.Wa.Xa)) {\n                          i.a = 1;\n                          break r;\n                        }\n                        i.xb = 0;\n                      }\n                      if (!_t(i, i.V, i.Ba, i.c, i.i, n.o, Lt)) break r;\n                      a.Dc = i.Ma, i = 1;\n                      break e;\n                    }\n                    e(0 != i.a), i = 0;\n                  }\n                  i = !i;\n                }\n                i && (r = t.a);\n              } else r = t.a;\n            } else {\n              if (null == (t = new Yt())) {\n                s = 1;\n                break t;\n              }\n              if (t.Fa = a.na, t.P = a.P, t.qc = a.Sa, Kt(t, i)) {\n                if (0 == (r = qr(i.width, i.height, s.Oa, s.ba))) {\n                  if (t.Aa = 0, n = s.Oa, e(null != (a = t)), null != n) {\n                    if (0 < (u = 0 > (u = n.Md) ? 0 : 100 < u ? 255 : 255 * u / 100)) {\n                      for (h = l = 0; 4 > h; ++h) 12 > (f = a.pb[h]).lc && (f.ia = u * Ti[0 > f.lc ? 0 : f.lc] >> 3), l |= f.ia;\n                      l && (alert(\"todo:VP8InitRandom\"), a.ia = 1);\n                    }\n                    a.Ga = n.Id, 100 < a.Ga ? a.Ga = 100 : 0 > a.Ga && (a.Ga = 0);\n                  }\n                  Qt(t, i) || (r = t.a);\n                }\n              } else r = t.a;\n            }\n            0 == r && null != s.Oa && s.Oa.fd && (r = Er(s.ba));\n          }\n          s = r;\n        }\n        o = 0 != s ? null : 11 > o ? c.f.RGBA.eb : c.f.kb.y;\n      } else o = null;\n      return o;\n    };\n    var zi = [3, 4, 3, 4, 4, 2, 2, 4, 4, 4, 2, 1, 1];\n  };\n  function u(t, e) {\n    for (var r = \"\", n = 0; n < 4; n++) r += String.fromCharCode(t[e++]);\n    return r;\n  }\n  function h(t, e) {\n    return (t[e + 0] << 0 | t[e + 1] << 8 | t[e + 2] << 16) >>> 0;\n  }\n  function l(t, e) {\n    return (t[e + 0] << 0 | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0;\n  }\n  new c();\n  var f = [0],\n    d = [0],\n    p = [],\n    g = new c(),\n    m = t,\n    v = function (t, e) {\n      var r = {},\n        n = 0,\n        i = !1,\n        a = 0,\n        o = 0;\n      if (r.frames = [], !\n      /** @license\n         * Copyright (c) 2017 Dominik Homberger\n        Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n        The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n        THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n        https://webpjs.appspot.com\n        WebPRiffParser dominikhlbg@gmail.com\n        */\n      function (t, e, r, n) {\n        for (var i = 0; i < n; i++) if (t[e + i] != r.charCodeAt(i)) return !0;\n        return !1;\n      }(t, e, \"RIFF\", 4)) {\n        for (l(t, e += 4), e += 8; e < t.length;) {\n          var s = u(t, e),\n            c = l(t, e += 4);\n          e += 4;\n          var f = c + (1 & c);\n          switch (s) {\n            case \"VP8 \":\n            case \"VP8L\":\n              void 0 === r.frames[n] && (r.frames[n] = {}), (g = r.frames[n]).src_off = i ? o : e - 8, g.src_size = a + c + 8, n++, i && (i = !1, a = 0, o = 0);\n              break;\n            case \"VP8X\":\n              (g = r.header = {}).feature_flags = t[e];\n              var d = e + 4;\n              g.canvas_width = 1 + h(t, d), d += 3, g.canvas_height = 1 + h(t, d), d += 3;\n              break;\n            case \"ALPH\":\n              i = !0, a = f + 8, o = e - 8;\n              break;\n            case \"ANIM\":\n              (g = r.header).bgcolor = l(t, e), d = e + 4, g.loop_count = (m = t)[(v = d) + 0] << 0 | m[v + 1] << 8, d += 2;\n              break;\n            case \"ANMF\":\n              var p, g;\n              (g = r.frames[n] = {}).offset_x = 2 * h(t, e), e += 3, g.offset_y = 2 * h(t, e), e += 3, g.width = 1 + h(t, e), e += 3, g.height = 1 + h(t, e), e += 3, g.duration = h(t, e), e += 3, p = t[e++], g.dispose = 1 & p, g.blend = p >> 1 & 1;\n          }\n          \"ANMF\" != s && (e += f);\n        }\n        var m, v;\n        return r;\n      }\n    }(m, 0);\n  v.response = m, v.rgbaoutput = !0, v.dataurl = !1;\n  var b = v.header ? v.header : null,\n    y = v.frames ? v.frames : null;\n  if (b) {\n    b.loop_counter = b.loop_count, f = [b.canvas_height], d = [b.canvas_width];\n    for (var w = 0; w < y.length && 0 != y[w].blend; w++);\n  }\n  var N = y[0],\n    L = g.WebPDecodeRGBA(m, N.src_off, N.src_size, d, f);\n  N.rgba = L, N.imgwidth = d[0], N.imgheight = f[0];\n  for (var A = 0; A < d[0] * f[0] * 4; A++) p[A] = L[A];\n  return this.width = d, this.height = f, this.data = p, this;\n}\n!function (t) {\n  var r = function () {\n      return \"function\" == typeof fflate__WEBPACK_IMPORTED_MODULE_9__.zlibSync;\n    },\n    n = function (r, n, a, h) {\n      var l = 4,\n        f = s;\n      switch (h) {\n        case t.image_compression.FAST:\n          l = 1, f = o;\n          break;\n        case t.image_compression.MEDIUM:\n          l = 6, f = c;\n          break;\n        case t.image_compression.SLOW:\n          l = 9, f = u;\n      }\n      r = i(r, n, a, f);\n      var d = (0,fflate__WEBPACK_IMPORTED_MODULE_9__.zlibSync)(r, {\n        level: l\n      });\n      return t.__addimage__.arrayBufferToBinaryString(d);\n    },\n    i = function (t, e, r, n) {\n      for (var i, a, o, s = t.length / e, c = new Uint8Array(t.length + s), u = l(), h = 0; h < s; h += 1) {\n        if (o = h * e, i = t.subarray(o, o + e), n) c.set(n(i, r, a), o + h);else {\n          for (var d, p = u.length, g = []; d < p; d += 1) g[d] = u[d](i, r, a);\n          var m = f(g.concat());\n          c.set(g[m], o + h);\n        }\n        a = i;\n      }\n      return c;\n    },\n    a = function (t) {\n      var e = Array.apply([], t);\n      return e.unshift(0), e;\n    },\n    o = function (t, e) {\n      var r,\n        n = [],\n        i = t.length;\n      n[0] = 1;\n      for (var a = 0; a < i; a += 1) r = t[a - e] || 0, n[a + 1] = t[a] - r + 256 & 255;\n      return n;\n    },\n    s = function (t, e, r) {\n      var n,\n        i = [],\n        a = t.length;\n      i[0] = 2;\n      for (var o = 0; o < a; o += 1) n = r && r[o] || 0, i[o + 1] = t[o] - n + 256 & 255;\n      return i;\n    },\n    c = function (t, e, r) {\n      var n,\n        i,\n        a = [],\n        o = t.length;\n      a[0] = 3;\n      for (var s = 0; s < o; s += 1) n = t[s - e] || 0, i = r && r[s] || 0, a[s + 1] = t[s] + 256 - (n + i >>> 1) & 255;\n      return a;\n    },\n    u = function (t, e, r) {\n      var n,\n        i,\n        a,\n        o,\n        s = [],\n        c = t.length;\n      s[0] = 4;\n      for (var u = 0; u < c; u += 1) n = t[u - e] || 0, i = r && r[u] || 0, a = r && r[u - e] || 0, o = h(n, i, a), s[u + 1] = t[u] - o + 256 & 255;\n      return s;\n    },\n    h = function (t, e, r) {\n      if (t === e && e === r) return t;\n      var n = Math.abs(e - r),\n        i = Math.abs(t - r),\n        a = Math.abs(t + e - r - r);\n      return n <= i && n <= a ? t : i <= a ? e : r;\n    },\n    l = function () {\n      return [a, o, s, c, u];\n    },\n    f = function (t) {\n      var e = t.map(function (t) {\n        return t.reduce(function (t, e) {\n          return t + Math.abs(e);\n        }, 0);\n      });\n      return e.indexOf(Math.min.apply(null, e));\n    };\n  t.processPNG = function (e, i, a, o) {\n    var s,\n      c,\n      u,\n      h,\n      l,\n      f,\n      d,\n      p,\n      g,\n      m,\n      v,\n      b,\n      y,\n      w,\n      N,\n      L = this.decode.FLATE_DECODE,\n      A = \"\";\n    if (this.__addimage__.isArrayBuffer(e) && (e = new Uint8Array(e)), this.__addimage__.isArrayBufferView(e)) {\n      if (e = (u = new Kt(e)).imgData, c = u.bits, s = u.colorSpace, l = u.colors, -1 !== [4, 6].indexOf(u.colorType)) {\n        if (8 === u.bits) {\n          g = (p = 32 == u.pixelBitlength ? new Uint32Array(u.decodePixels().buffer) : 16 == u.pixelBitlength ? new Uint16Array(u.decodePixels().buffer) : new Uint8Array(u.decodePixels().buffer)).length, v = new Uint8Array(g * u.colors), m = new Uint8Array(g);\n          var x,\n            S = u.pixelBitlength - u.bits;\n          for (w = 0, N = 0; w < g; w++) {\n            for (y = p[w], x = 0; x < S;) v[N++] = y >>> x & 255, x += u.bits;\n            m[w] = y >>> x & 255;\n          }\n        }\n        if (16 === u.bits) {\n          g = (p = new Uint32Array(u.decodePixels().buffer)).length, v = new Uint8Array(g * (32 / u.pixelBitlength) * u.colors), m = new Uint8Array(g * (32 / u.pixelBitlength)), b = u.colors > 1, w = 0, N = 0;\n          for (var _ = 0; w < g;) y = p[w++], v[N++] = y >>> 0 & 255, b && (v[N++] = y >>> 16 & 255, y = p[w++], v[N++] = y >>> 0 & 255), m[_++] = y >>> 16 & 255;\n          c = 8;\n        }\n        o !== t.image_compression.NONE && r() ? (e = n(v, u.width * u.colors, u.colors, o), d = n(m, u.width, 1, o)) : (e = v, d = m, L = void 0);\n      }\n      if (3 === u.colorType && (s = this.color_spaces.INDEXED, f = u.palette, u.transparency.indexed)) {\n        var P = u.transparency.indexed,\n          k = 0;\n        for (w = 0, g = P.length; w < g; ++w) k += P[w];\n        if ((k /= 255) === g - 1 && -1 !== P.indexOf(0)) h = [P.indexOf(0)];else if (k !== g) {\n          for (p = u.decodePixels(), m = new Uint8Array(p.length), w = 0, g = p.length; w < g; w++) m[w] = P[p[w]];\n          d = n(m, u.width, 1);\n        }\n      }\n      var I = function (e) {\n        var r;\n        switch (e) {\n          case t.image_compression.FAST:\n            r = 11;\n            break;\n          case t.image_compression.MEDIUM:\n            r = 13;\n            break;\n          case t.image_compression.SLOW:\n            r = 14;\n            break;\n          default:\n            r = 12;\n        }\n        return r;\n      }(o);\n      return L === this.decode.FLATE_DECODE && (A = \"/Predictor \" + I + \" \"), A += \"/Colors \" + l + \" /BitsPerComponent \" + c + \" /Columns \" + u.width, (this.__addimage__.isArrayBuffer(e) || this.__addimage__.isArrayBufferView(e)) && (e = this.__addimage__.arrayBufferToBinaryString(e)), (d && this.__addimage__.isArrayBuffer(d) || this.__addimage__.isArrayBufferView(d)) && (d = this.__addimage__.arrayBufferToBinaryString(d)), {\n        alias: a,\n        data: e,\n        index: i,\n        filter: L,\n        decodeParameters: A,\n        transparency: h,\n        palette: f,\n        sMask: d,\n        predictor: I,\n        width: u.width,\n        height: u.height,\n        bitsPerComponent: c,\n        colorSpace: s\n      };\n    }\n  };\n}(E.API), function (t) {\n  t.processGIF89A = function (e, r, n, i) {\n    var a = new Zt(e),\n      o = a.width,\n      s = a.height,\n      c = [];\n    a.decodeAndBlitFrameRGBA(0, c);\n    var u = {\n        data: c,\n        width: o,\n        height: s\n      },\n      h = new Qt(100).encode(u, 100);\n    return t.processJPEG.call(this, h, r, n, i);\n  }, t.processGIF87A = t.processGIF89A;\n}(E.API), te.prototype.parseHeader = function () {\n  if (this.fileSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.reserved = this.datav.getUint32(this.pos, !0), this.pos += 4, this.offset = this.datav.getUint32(this.pos, !0), this.pos += 4, this.headerSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.width = this.datav.getUint32(this.pos, !0), this.pos += 4, this.height = this.datav.getInt32(this.pos, !0), this.pos += 4, this.planes = this.datav.getUint16(this.pos, !0), this.pos += 2, this.bitPP = this.datav.getUint16(this.pos, !0), this.pos += 2, this.compress = this.datav.getUint32(this.pos, !0), this.pos += 4, this.rawSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.hr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.vr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.colors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.importantColors = this.datav.getUint32(this.pos, !0), this.pos += 4, 16 === this.bitPP && this.is_with_alpha && (this.bitPP = 15), this.bitPP < 15) {\n    var t = 0 === this.colors ? 1 << this.bitPP : this.colors;\n    this.palette = new Array(t);\n    for (var e = 0; e < t; e++) {\n      var r = this.datav.getUint8(this.pos++, !0),\n        n = this.datav.getUint8(this.pos++, !0),\n        i = this.datav.getUint8(this.pos++, !0),\n        a = this.datav.getUint8(this.pos++, !0);\n      this.palette[e] = {\n        red: i,\n        green: n,\n        blue: r,\n        quad: a\n      };\n    }\n  }\n  this.height < 0 && (this.height *= -1, this.bottom_up = !1);\n}, te.prototype.parseBGR = function () {\n  this.pos = this.offset;\n  try {\n    var t = \"bit\" + this.bitPP,\n      e = this.width * this.height * 4;\n    this.data = new Uint8Array(e), this[t]();\n  } catch (t) {\n    a.log(\"bit decode error:\" + t);\n  }\n}, te.prototype.bit1 = function () {\n  var t,\n    e = Math.ceil(this.width / 8),\n    r = e % 4;\n  for (t = this.height - 1; t >= 0; t--) {\n    for (var n = this.bottom_up ? t : this.height - 1 - t, i = 0; i < e; i++) for (var a = this.datav.getUint8(this.pos++, !0), o = n * this.width * 4 + 8 * i * 4, s = 0; s < 8 && 8 * i + s < this.width; s++) {\n      var c = this.palette[a >> 7 - s & 1];\n      this.data[o + 4 * s] = c.blue, this.data[o + 4 * s + 1] = c.green, this.data[o + 4 * s + 2] = c.red, this.data[o + 4 * s + 3] = 255;\n    }\n    0 !== r && (this.pos += 4 - r);\n  }\n}, te.prototype.bit4 = function () {\n  for (var t = Math.ceil(this.width / 2), e = t % 4, r = this.height - 1; r >= 0; r--) {\n    for (var n = this.bottom_up ? r : this.height - 1 - r, i = 0; i < t; i++) {\n      var a = this.datav.getUint8(this.pos++, !0),\n        o = n * this.width * 4 + 2 * i * 4,\n        s = a >> 4,\n        c = 15 & a,\n        u = this.palette[s];\n      if (this.data[o] = u.blue, this.data[o + 1] = u.green, this.data[o + 2] = u.red, this.data[o + 3] = 255, 2 * i + 1 >= this.width) break;\n      u = this.palette[c], this.data[o + 4] = u.blue, this.data[o + 4 + 1] = u.green, this.data[o + 4 + 2] = u.red, this.data[o + 4 + 3] = 255;\n    }\n    0 !== e && (this.pos += 4 - e);\n  }\n}, te.prototype.bit8 = function () {\n  for (var t = this.width % 4, e = this.height - 1; e >= 0; e--) {\n    for (var r = this.bottom_up ? e : this.height - 1 - e, n = 0; n < this.width; n++) {\n      var i = this.datav.getUint8(this.pos++, !0),\n        a = r * this.width * 4 + 4 * n;\n      if (i < this.palette.length) {\n        var o = this.palette[i];\n        this.data[a] = o.red, this.data[a + 1] = o.green, this.data[a + 2] = o.blue, this.data[a + 3] = 255;\n      } else this.data[a] = 255, this.data[a + 1] = 255, this.data[a + 2] = 255, this.data[a + 3] = 255;\n    }\n    0 !== t && (this.pos += 4 - t);\n  }\n}, te.prototype.bit15 = function () {\n  for (var t = this.width % 3, e = parseInt(\"11111\", 2), r = this.height - 1; r >= 0; r--) {\n    for (var n = this.bottom_up ? r : this.height - 1 - r, i = 0; i < this.width; i++) {\n      var a = this.datav.getUint16(this.pos, !0);\n      this.pos += 2;\n      var o = (a & e) / e * 255 | 0,\n        s = (a >> 5 & e) / e * 255 | 0,\n        c = (a >> 10 & e) / e * 255 | 0,\n        u = a >> 15 ? 255 : 0,\n        h = n * this.width * 4 + 4 * i;\n      this.data[h] = c, this.data[h + 1] = s, this.data[h + 2] = o, this.data[h + 3] = u;\n    }\n    this.pos += t;\n  }\n}, te.prototype.bit16 = function () {\n  for (var t = this.width % 3, e = parseInt(\"11111\", 2), r = parseInt(\"111111\", 2), n = this.height - 1; n >= 0; n--) {\n    for (var i = this.bottom_up ? n : this.height - 1 - n, a = 0; a < this.width; a++) {\n      var o = this.datav.getUint16(this.pos, !0);\n      this.pos += 2;\n      var s = (o & e) / e * 255 | 0,\n        c = (o >> 5 & r) / r * 255 | 0,\n        u = (o >> 11) / e * 255 | 0,\n        h = i * this.width * 4 + 4 * a;\n      this.data[h] = u, this.data[h + 1] = c, this.data[h + 2] = s, this.data[h + 3] = 255;\n    }\n    this.pos += t;\n  }\n}, te.prototype.bit24 = function () {\n  for (var t = this.height - 1; t >= 0; t--) {\n    for (var e = this.bottom_up ? t : this.height - 1 - t, r = 0; r < this.width; r++) {\n      var n = this.datav.getUint8(this.pos++, !0),\n        i = this.datav.getUint8(this.pos++, !0),\n        a = this.datav.getUint8(this.pos++, !0),\n        o = e * this.width * 4 + 4 * r;\n      this.data[o] = a, this.data[o + 1] = i, this.data[o + 2] = n, this.data[o + 3] = 255;\n    }\n    this.pos += this.width % 4;\n  }\n}, te.prototype.bit32 = function () {\n  for (var t = this.height - 1; t >= 0; t--) for (var e = this.bottom_up ? t : this.height - 1 - t, r = 0; r < this.width; r++) {\n    var n = this.datav.getUint8(this.pos++, !0),\n      i = this.datav.getUint8(this.pos++, !0),\n      a = this.datav.getUint8(this.pos++, !0),\n      o = this.datav.getUint8(this.pos++, !0),\n      s = e * this.width * 4 + 4 * r;\n    this.data[s] = a, this.data[s + 1] = i, this.data[s + 2] = n, this.data[s + 3] = o;\n  }\n}, te.prototype.getData = function () {\n  return this.data;\n},\n/**\n * @license\n * Copyright (c) 2018 Aras Abbasi\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  t.processBMP = function (e, r, n, i) {\n    var a = new te(e, !1),\n      o = a.width,\n      s = a.height,\n      c = {\n        data: a.getData(),\n        width: o,\n        height: s\n      },\n      u = new Qt(100).encode(c, 100);\n    return t.processJPEG.call(this, u, r, n, i);\n  };\n}(E.API), ee.prototype.getData = function () {\n  return this.data;\n},\n/**\n * @license\n * Copyright (c) 2019 Aras Abbasi\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  t.processWEBP = function (e, r, n, i) {\n    var a = new ee(e),\n      o = a.width,\n      s = a.height,\n      c = {\n        data: a.getData(),\n        width: o,\n        height: s\n      },\n      u = new Qt(100).encode(c, 100);\n    return t.processJPEG.call(this, u, r, n, i);\n  };\n}(E.API), E.API.processRGBA = function (t, e, r) {\n  for (var n = t.data, i = n.length, a = new Uint8Array(i / 4 * 3), o = new Uint8Array(i / 4), s = 0, c = 0, u = 0; u < i; u += 4) {\n    var h = n[u],\n      l = n[u + 1],\n      f = n[u + 2],\n      d = n[u + 3];\n    a[s++] = h, a[s++] = l, a[s++] = f, o[c++] = d;\n  }\n  var p = this.__addimage__.arrayBufferToBinaryString(a);\n  return {\n    alpha: this.__addimage__.arrayBufferToBinaryString(o),\n    data: p,\n    index: e,\n    alias: r,\n    colorSpace: \"DeviceRGB\",\n    bitsPerComponent: 8,\n    width: t.width,\n    height: t.height\n  };\n}, E.API.setLanguage = function (t) {\n  return void 0 === this.internal.languageSettings && (this.internal.languageSettings = {}, this.internal.languageSettings.isSubscribed = !1), void 0 !== {\n    af: \"Afrikaans\",\n    sq: \"Albanian\",\n    ar: \"Arabic (Standard)\",\n    \"ar-DZ\": \"Arabic (Algeria)\",\n    \"ar-BH\": \"Arabic (Bahrain)\",\n    \"ar-EG\": \"Arabic (Egypt)\",\n    \"ar-IQ\": \"Arabic (Iraq)\",\n    \"ar-JO\": \"Arabic (Jordan)\",\n    \"ar-KW\": \"Arabic (Kuwait)\",\n    \"ar-LB\": \"Arabic (Lebanon)\",\n    \"ar-LY\": \"Arabic (Libya)\",\n    \"ar-MA\": \"Arabic (Morocco)\",\n    \"ar-OM\": \"Arabic (Oman)\",\n    \"ar-QA\": \"Arabic (Qatar)\",\n    \"ar-SA\": \"Arabic (Saudi Arabia)\",\n    \"ar-SY\": \"Arabic (Syria)\",\n    \"ar-TN\": \"Arabic (Tunisia)\",\n    \"ar-AE\": \"Arabic (U.A.E.)\",\n    \"ar-YE\": \"Arabic (Yemen)\",\n    an: \"Aragonese\",\n    hy: \"Armenian\",\n    as: \"Assamese\",\n    ast: \"Asturian\",\n    az: \"Azerbaijani\",\n    eu: \"Basque\",\n    be: \"Belarusian\",\n    bn: \"Bengali\",\n    bs: \"Bosnian\",\n    br: \"Breton\",\n    bg: \"Bulgarian\",\n    my: \"Burmese\",\n    ca: \"Catalan\",\n    ch: \"Chamorro\",\n    ce: \"Chechen\",\n    zh: \"Chinese\",\n    \"zh-HK\": \"Chinese (Hong Kong)\",\n    \"zh-CN\": \"Chinese (PRC)\",\n    \"zh-SG\": \"Chinese (Singapore)\",\n    \"zh-TW\": \"Chinese (Taiwan)\",\n    cv: \"Chuvash\",\n    co: \"Corsican\",\n    cr: \"Cree\",\n    hr: \"Croatian\",\n    cs: \"Czech\",\n    da: \"Danish\",\n    nl: \"Dutch (Standard)\",\n    \"nl-BE\": \"Dutch (Belgian)\",\n    en: \"English\",\n    \"en-AU\": \"English (Australia)\",\n    \"en-BZ\": \"English (Belize)\",\n    \"en-CA\": \"English (Canada)\",\n    \"en-IE\": \"English (Ireland)\",\n    \"en-JM\": \"English (Jamaica)\",\n    \"en-NZ\": \"English (New Zealand)\",\n    \"en-PH\": \"English (Philippines)\",\n    \"en-ZA\": \"English (South Africa)\",\n    \"en-TT\": \"English (Trinidad & Tobago)\",\n    \"en-GB\": \"English (United Kingdom)\",\n    \"en-US\": \"English (United States)\",\n    \"en-ZW\": \"English (Zimbabwe)\",\n    eo: \"Esperanto\",\n    et: \"Estonian\",\n    fo: \"Faeroese\",\n    fj: \"Fijian\",\n    fi: \"Finnish\",\n    fr: \"French (Standard)\",\n    \"fr-BE\": \"French (Belgium)\",\n    \"fr-CA\": \"French (Canada)\",\n    \"fr-FR\": \"French (France)\",\n    \"fr-LU\": \"French (Luxembourg)\",\n    \"fr-MC\": \"French (Monaco)\",\n    \"fr-CH\": \"French (Switzerland)\",\n    fy: \"Frisian\",\n    fur: \"Friulian\",\n    gd: \"Gaelic (Scots)\",\n    \"gd-IE\": \"Gaelic (Irish)\",\n    gl: \"Galacian\",\n    ka: \"Georgian\",\n    de: \"German (Standard)\",\n    \"de-AT\": \"German (Austria)\",\n    \"de-DE\": \"German (Germany)\",\n    \"de-LI\": \"German (Liechtenstein)\",\n    \"de-LU\": \"German (Luxembourg)\",\n    \"de-CH\": \"German (Switzerland)\",\n    el: \"Greek\",\n    gu: \"Gujurati\",\n    ht: \"Haitian\",\n    he: \"Hebrew\",\n    hi: \"Hindi\",\n    hu: \"Hungarian\",\n    is: \"Icelandic\",\n    id: \"Indonesian\",\n    iu: \"Inuktitut\",\n    ga: \"Irish\",\n    it: \"Italian (Standard)\",\n    \"it-CH\": \"Italian (Switzerland)\",\n    ja: \"Japanese\",\n    kn: \"Kannada\",\n    ks: \"Kashmiri\",\n    kk: \"Kazakh\",\n    km: \"Khmer\",\n    ky: \"Kirghiz\",\n    tlh: \"Klingon\",\n    ko: \"Korean\",\n    \"ko-KP\": \"Korean (North Korea)\",\n    \"ko-KR\": \"Korean (South Korea)\",\n    la: \"Latin\",\n    lv: \"Latvian\",\n    lt: \"Lithuanian\",\n    lb: \"Luxembourgish\",\n    mk: \"North Macedonia\",\n    ms: \"Malay\",\n    ml: \"Malayalam\",\n    mt: \"Maltese\",\n    mi: \"Maori\",\n    mr: \"Marathi\",\n    mo: \"Moldavian\",\n    nv: \"Navajo\",\n    ng: \"Ndonga\",\n    ne: \"Nepali\",\n    no: \"Norwegian\",\n    nb: \"Norwegian (Bokmal)\",\n    nn: \"Norwegian (Nynorsk)\",\n    oc: \"Occitan\",\n    or: \"Oriya\",\n    om: \"Oromo\",\n    fa: \"Persian\",\n    \"fa-IR\": \"Persian/Iran\",\n    pl: \"Polish\",\n    pt: \"Portuguese\",\n    \"pt-BR\": \"Portuguese (Brazil)\",\n    pa: \"Punjabi\",\n    \"pa-IN\": \"Punjabi (India)\",\n    \"pa-PK\": \"Punjabi (Pakistan)\",\n    qu: \"Quechua\",\n    rm: \"Rhaeto-Romanic\",\n    ro: \"Romanian\",\n    \"ro-MO\": \"Romanian (Moldavia)\",\n    ru: \"Russian\",\n    \"ru-MO\": \"Russian (Moldavia)\",\n    sz: \"Sami (Lappish)\",\n    sg: \"Sango\",\n    sa: \"Sanskrit\",\n    sc: \"Sardinian\",\n    sd: \"Sindhi\",\n    si: \"Singhalese\",\n    sr: \"Serbian\",\n    sk: \"Slovak\",\n    sl: \"Slovenian\",\n    so: \"Somani\",\n    sb: \"Sorbian\",\n    es: \"Spanish\",\n    \"es-AR\": \"Spanish (Argentina)\",\n    \"es-BO\": \"Spanish (Bolivia)\",\n    \"es-CL\": \"Spanish (Chile)\",\n    \"es-CO\": \"Spanish (Colombia)\",\n    \"es-CR\": \"Spanish (Costa Rica)\",\n    \"es-DO\": \"Spanish (Dominican Republic)\",\n    \"es-EC\": \"Spanish (Ecuador)\",\n    \"es-SV\": \"Spanish (El Salvador)\",\n    \"es-GT\": \"Spanish (Guatemala)\",\n    \"es-HN\": \"Spanish (Honduras)\",\n    \"es-MX\": \"Spanish (Mexico)\",\n    \"es-NI\": \"Spanish (Nicaragua)\",\n    \"es-PA\": \"Spanish (Panama)\",\n    \"es-PY\": \"Spanish (Paraguay)\",\n    \"es-PE\": \"Spanish (Peru)\",\n    \"es-PR\": \"Spanish (Puerto Rico)\",\n    \"es-ES\": \"Spanish (Spain)\",\n    \"es-UY\": \"Spanish (Uruguay)\",\n    \"es-VE\": \"Spanish (Venezuela)\",\n    sx: \"Sutu\",\n    sw: \"Swahili\",\n    sv: \"Swedish\",\n    \"sv-FI\": \"Swedish (Finland)\",\n    \"sv-SV\": \"Swedish (Sweden)\",\n    ta: \"Tamil\",\n    tt: \"Tatar\",\n    te: \"Teluga\",\n    th: \"Thai\",\n    tig: \"Tigre\",\n    ts: \"Tsonga\",\n    tn: \"Tswana\",\n    tr: \"Turkish\",\n    tk: \"Turkmen\",\n    uk: \"Ukrainian\",\n    hsb: \"Upper Sorbian\",\n    ur: \"Urdu\",\n    ve: \"Venda\",\n    vi: \"Vietnamese\",\n    vo: \"Volapuk\",\n    wa: \"Walloon\",\n    cy: \"Welsh\",\n    xh: \"Xhosa\",\n    ji: \"Yiddish\",\n    zu: \"Zulu\"\n  }[t] && (this.internal.languageSettings.languageCode = t, !1 === this.internal.languageSettings.isSubscribed && (this.internal.events.subscribe(\"putCatalog\", function () {\n    this.internal.write(\"/Lang (\" + this.internal.languageSettings.languageCode + \")\");\n  }), this.internal.languageSettings.isSubscribed = !0)), this;\n}, Vt = E.API, Gt = Vt.getCharWidthsArray = function (e, r) {\n  var n,\n    i,\n    a = (r = r || {}).font || this.internal.getFont(),\n    o = r.fontSize || this.internal.getFontSize(),\n    s = r.charSpace || this.internal.getCharSpace(),\n    c = r.widths ? r.widths : a.metadata.Unicode.widths,\n    u = c.fof ? c.fof : 1,\n    h = r.kerning ? r.kerning : a.metadata.Unicode.kerning,\n    l = h.fof ? h.fof : 1,\n    f = !1 !== r.doKerning,\n    d = 0,\n    p = e.length,\n    g = 0,\n    m = c[0] || u,\n    v = [];\n  for (n = 0; n < p; n++) i = e.charCodeAt(n), \"function\" == typeof a.metadata.widthOfString ? v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i)) + s * (1e3 / o) || 0) / 1e3) : (d = f && \"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(h[i]) && !isNaN(parseInt(h[i][g], 10)) ? h[i][g] / l : 0, v.push((c[i] || m) / u + d)), g = i;\n  return v;\n}, Yt = Vt.getStringUnitWidth = function (t, e) {\n  var r = (e = e || {}).fontSize || this.internal.getFontSize(),\n    n = e.font || this.internal.getFont(),\n    i = e.charSpace || this.internal.getCharSpace();\n  return Vt.processArabic && (t = Vt.processArabic(t)), \"function\" == typeof n.metadata.widthOfString ? n.metadata.widthOfString(t, r, i) / r : Gt.apply(this, arguments).reduce(function (t, e) {\n    return t + e;\n  }, 0);\n}, Jt = function (t, e, r, n) {\n  for (var i = [], a = 0, o = t.length, s = 0; a !== o && s + e[a] < r;) s += e[a], a++;\n  i.push(t.slice(0, a));\n  var c = a;\n  for (s = 0; a !== o;) s + e[a] > n && (i.push(t.slice(c, a)), s = 0, c = a), s += e[a], a++;\n  return c !== a && i.push(t.slice(c, a)), i;\n}, Xt = function (t, e, r) {\n  r || (r = {});\n  var n,\n    i,\n    a,\n    o,\n    s,\n    c,\n    u,\n    h = [],\n    l = [h],\n    f = r.textIndent || 0,\n    d = 0,\n    p = 0,\n    g = t.split(\" \"),\n    m = Gt.apply(this, [\" \", r])[0];\n  if (c = -1 === r.lineIndent ? g[0].length + 2 : r.lineIndent || 0) {\n    var v = Array(c).join(\" \"),\n      b = [];\n    g.map(function (t) {\n      (t = t.split(/\\s*\\n/)).length > 1 ? b = b.concat(t.map(function (t, e) {\n        return (e && t.length ? \"\\n\" : \"\") + t;\n      })) : b.push(t[0]);\n    }), g = b, c = Yt.apply(this, [v, r]);\n  }\n  for (a = 0, o = g.length; a < o; a++) {\n    var y = 0;\n    if (n = g[a], c && \"\\n\" == n[0] && (n = n.substr(1), y = 1), f + d + (p = (i = Gt.apply(this, [n, r])).reduce(function (t, e) {\n      return t + e;\n    }, 0)) > e || y) {\n      if (p > e) {\n        for (s = Jt.apply(this, [n, i, e - (f + d), e]), h.push(s.shift()), h = [s.pop()]; s.length;) l.push([s.shift()]);\n        p = i.slice(n.length - (h[0] ? h[0].length : 0)).reduce(function (t, e) {\n          return t + e;\n        }, 0);\n      } else h = [n];\n      l.push(h), f = p + c, d = m;\n    } else h.push(n), f += d + p, d = m;\n  }\n  return u = c ? function (t, e) {\n    return (e ? v : \"\") + t.join(\" \");\n  } : function (t) {\n    return t.join(\" \");\n  }, l.map(u);\n}, Vt.splitTextToSize = function (t, e, r) {\n  var n,\n    i = (r = r || {}).fontSize || this.internal.getFontSize(),\n    a = function (t) {\n      if (t.widths && t.kerning) return {\n        widths: t.widths,\n        kerning: t.kerning\n      };\n      var e = this.internal.getFont(t.fontName, t.fontStyle);\n      return e.metadata.Unicode ? {\n        widths: e.metadata.Unicode.widths || {\n          0: 1\n        },\n        kerning: e.metadata.Unicode.kerning || {}\n      } : {\n        font: e.metadata,\n        fontSize: this.internal.getFontSize(),\n        charSpace: this.internal.getCharSpace()\n      };\n    }.call(this, r);\n  n = Array.isArray(t) ? t : String(t).split(/\\r?\\n/);\n  var o = 1 * this.internal.scaleFactor * e / i;\n  a.textIndent = r.textIndent ? 1 * r.textIndent * this.internal.scaleFactor / i : 0, a.lineIndent = r.lineIndent;\n  var s,\n    c,\n    u = [];\n  for (s = 0, c = n.length; s < c; s++) u = u.concat(Xt.apply(this, [n[s], o, a]));\n  return u;\n}, function (e) {\n  e.__fontmetrics__ = e.__fontmetrics__ || {};\n  for (var r = \"klmnopqrstuvwxyz\", n = {}, i = {}, a = 0; a < r.length; a++) n[r[a]] = \"0123456789abcdef\"[a], i[\"0123456789abcdef\"[a]] = r[a];\n  var o = function (t) {\n      return \"0x\" + parseInt(t, 10).toString(16);\n    },\n    s = e.__fontmetrics__.compress = function (e) {\n      var r,\n        n,\n        a,\n        c,\n        u = [\"{\"];\n      for (var h in e) {\n        if (r = e[h], isNaN(parseInt(h, 10)) ? n = \"'\" + h + \"'\" : (h = parseInt(h, 10), n = (n = o(h).slice(2)).slice(0, -1) + i[n.slice(-1)]), \"number\" == typeof r) r < 0 ? (a = o(r).slice(3), c = \"-\") : (a = o(r).slice(2), c = \"\"), a = c + a.slice(0, -1) + i[a.slice(-1)];else {\n          if (\"object\" !== (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(r)) throw new Error(\"Don't know what to do with value type \" + (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(r) + \".\");\n          a = s(r);\n        }\n        u.push(n + a);\n      }\n      return u.push(\"}\"), u.join(\"\");\n    },\n    c = e.__fontmetrics__.uncompress = function (t) {\n      if (\"string\" != typeof t) throw new Error(\"Invalid argument passed to uncompress.\");\n      for (var e, r, i, a, o = {}, s = 1, c = o, u = [], h = \"\", l = \"\", f = t.length - 1, d = 1; d < f; d += 1) \"'\" == (a = t[d]) ? e ? (i = e.join(\"\"), e = void 0) : e = [] : e ? e.push(a) : \"{\" == a ? (u.push([c, i]), c = {}, i = void 0) : \"}\" == a ? ((r = u.pop())[0][r[1]] = c, i = void 0, c = r[0]) : \"-\" == a ? s = -1 : void 0 === i ? n.hasOwnProperty(a) ? (h += n[a], i = parseInt(h, 16) * s, s = 1, h = \"\") : h += a : n.hasOwnProperty(a) ? (l += n[a], c[i] = parseInt(l, 16) * s, s = 1, i = void 0, l = \"\") : l += a;\n      return o;\n    },\n    u = {\n      codePages: [\"WinAnsiEncoding\"],\n      WinAnsiEncoding: c(\"{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}\")\n    },\n    h = {\n      Unicode: {\n        Courier: u,\n        \"Courier-Bold\": u,\n        \"Courier-BoldOblique\": u,\n        \"Courier-Oblique\": u,\n        Helvetica: u,\n        \"Helvetica-Bold\": u,\n        \"Helvetica-BoldOblique\": u,\n        \"Helvetica-Oblique\": u,\n        \"Times-Roman\": u,\n        \"Times-Bold\": u,\n        \"Times-BoldItalic\": u,\n        \"Times-Italic\": u\n      }\n    },\n    l = {\n      Unicode: {\n        \"Courier-Oblique\": c(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\n        \"Times-BoldItalic\": c(\"{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}\"),\n        \"Helvetica-Bold\": c(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),\n        Courier: c(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\n        \"Courier-BoldOblique\": c(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\n        \"Times-Bold\": c(\"{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}\"),\n        Symbol: c(\"{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}\"),\n        Helvetica: c(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\"),\n        \"Helvetica-BoldOblique\": c(\"{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}\"),\n        ZapfDingbats: c(\"{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}\"),\n        \"Courier-Bold\": c(\"{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}\"),\n        \"Times-Italic\": c(\"{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}\"),\n        \"Times-Roman\": c(\"{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}\"),\n        \"Helvetica-Oblique\": c(\"{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}\")\n      }\n    };\n  e.events.push([\"addFont\", function (t) {\n    var e = t.font,\n      r = l.Unicode[e.postScriptName];\n    r && (e.metadata.Unicode = {}, e.metadata.Unicode.widths = r.widths, e.metadata.Unicode.kerning = r.kerning);\n    var n = h.Unicode[e.postScriptName];\n    n && (e.metadata.Unicode.encoding = n, e.encoding = n.codePages[0]);\n  }]);\n}(E.API),\n/**\n * @license\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e = function (t) {\n    for (var e = t.length, r = new Uint8Array(e), n = 0; n < e; n++) r[n] = t.charCodeAt(n);\n    return r;\n  };\n  t.API.events.push([\"addFont\", function (r) {\n    var n = void 0,\n      i = r.font,\n      a = r.instance;\n    if (!i.isStandardFont) {\n      if (void 0 === a) throw new Error(\"Font does not exist in vFS, import fonts or remove declaration doc.addFont('\" + i.postScriptName + \"').\");\n      if (\"string\" != typeof (n = !1 === a.existsFileInVFS(i.postScriptName) ? a.loadFile(i.postScriptName) : a.getFileFromVFS(i.postScriptName))) throw new Error(\"Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('\" + i.postScriptName + \"').\");\n      !function (r, n) {\n        n = /^\\x00\\x01\\x00\\x00/.test(n) ? e(n) : e(u(n)), r.metadata = t.API.TTFFont.open(n), r.metadata.Unicode = r.metadata.Unicode || {\n          encoding: {},\n          kerning: {},\n          widths: []\n        }, r.metadata.glyIdsUsed = [0];\n      }(i, n);\n    }\n  }]);\n}(E),\n/** @license\n * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * ====================================================================\n */\nfunction (t) {\n  function e() {\n    return (n.canvg ? Promise.resolve(n.canvg) : __webpack_require__.e(/*! import() */ \"node_modules_canvg_lib_index_es_js\").then(__webpack_require__.bind(__webpack_require__, /*! canvg */ \"./node_modules/canvg/lib/index.es.js\"))).catch(function (t) {\n      return Promise.reject(new Error(\"Could not load canvg: \" + t));\n    }).then(function (t) {\n      return t.default ? t.default : t;\n    });\n  }\n  E.API.addSvgAsImage = function (t, r, n, i, o, s, c, u) {\n    if (isNaN(r) || isNaN(n)) throw a.error(\"jsPDF.addSvgAsImage: Invalid coordinates\", arguments), new Error(\"Invalid coordinates passed to jsPDF.addSvgAsImage\");\n    if (isNaN(i) || isNaN(o)) throw a.error(\"jsPDF.addSvgAsImage: Invalid measurements\", arguments), new Error(\"Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage\");\n    var h = document.createElement(\"canvas\");\n    h.width = i, h.height = o;\n    var l = h.getContext(\"2d\");\n    l.fillStyle = \"#fff\", l.fillRect(0, 0, h.width, h.height);\n    var f = {\n        ignoreMouse: !0,\n        ignoreAnimation: !0,\n        ignoreDimensions: !0\n      },\n      d = this;\n    return e().then(function (e) {\n      return e.fromString(l, t, f);\n    }, function () {\n      return Promise.reject(new Error(\"Could not load canvg.\"));\n    }).then(function (t) {\n      return t.render(f);\n    }).then(function () {\n      d.addImage(h.toDataURL(\"image/jpeg\", 1), r, n, i, o, c, u);\n    });\n  };\n}(), E.API.putTotalPages = function (t) {\n  var e,\n    r = 0;\n  parseInt(this.internal.getFont().id.substr(1), 10) < 15 ? (e = new RegExp(t, \"g\"), r = this.internal.getNumberOfPages()) : (e = new RegExp(this.pdfEscape16(t, this.internal.getFont()), \"g\"), r = this.pdfEscape16(this.internal.getNumberOfPages() + \"\", this.internal.getFont()));\n  for (var n = 1; n <= this.internal.getNumberOfPages(); n++) for (var i = 0; i < this.internal.pages[n].length; i++) this.internal.pages[n][i] = this.internal.pages[n][i].replace(e, r);\n  return this;\n}, E.API.viewerPreferences = function (e, r) {\n  var n;\n  e = e || {}, r = r || !1;\n  var i,\n    a,\n    o,\n    s = {\n      HideToolbar: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.3\n      },\n      HideMenubar: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.3\n      },\n      HideWindowUI: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.3\n      },\n      FitWindow: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.3\n      },\n      CenterWindow: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.3\n      },\n      DisplayDocTitle: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.4\n      },\n      NonFullScreenPageMode: {\n        defaultValue: \"UseNone\",\n        value: \"UseNone\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"UseNone\", \"UseOutlines\", \"UseThumbs\", \"UseOC\"],\n        pdfVersion: 1.3\n      },\n      Direction: {\n        defaultValue: \"L2R\",\n        value: \"L2R\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"L2R\", \"R2L\"],\n        pdfVersion: 1.3\n      },\n      ViewArea: {\n        defaultValue: \"CropBox\",\n        value: \"CropBox\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"MediaBox\", \"CropBox\", \"TrimBox\", \"BleedBox\", \"ArtBox\"],\n        pdfVersion: 1.4\n      },\n      ViewClip: {\n        defaultValue: \"CropBox\",\n        value: \"CropBox\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"MediaBox\", \"CropBox\", \"TrimBox\", \"BleedBox\", \"ArtBox\"],\n        pdfVersion: 1.4\n      },\n      PrintArea: {\n        defaultValue: \"CropBox\",\n        value: \"CropBox\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"MediaBox\", \"CropBox\", \"TrimBox\", \"BleedBox\", \"ArtBox\"],\n        pdfVersion: 1.4\n      },\n      PrintClip: {\n        defaultValue: \"CropBox\",\n        value: \"CropBox\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"MediaBox\", \"CropBox\", \"TrimBox\", \"BleedBox\", \"ArtBox\"],\n        pdfVersion: 1.4\n      },\n      PrintScaling: {\n        defaultValue: \"AppDefault\",\n        value: \"AppDefault\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"AppDefault\", \"None\"],\n        pdfVersion: 1.6\n      },\n      Duplex: {\n        defaultValue: \"\",\n        value: \"none\",\n        type: \"name\",\n        explicitSet: !1,\n        valueSet: [\"Simplex\", \"DuplexFlipShortEdge\", \"DuplexFlipLongEdge\", \"none\"],\n        pdfVersion: 1.7\n      },\n      PickTrayByPDFSize: {\n        defaultValue: !1,\n        value: !1,\n        type: \"boolean\",\n        explicitSet: !1,\n        valueSet: [!0, !1],\n        pdfVersion: 1.7\n      },\n      PrintPageRange: {\n        defaultValue: \"\",\n        value: \"\",\n        type: \"array\",\n        explicitSet: !1,\n        valueSet: null,\n        pdfVersion: 1.7\n      },\n      NumCopies: {\n        defaultValue: 1,\n        value: 1,\n        type: \"integer\",\n        explicitSet: !1,\n        valueSet: null,\n        pdfVersion: 1.7\n      }\n    },\n    c = Object.keys(s),\n    u = [],\n    h = 0,\n    l = 0,\n    f = 0;\n  function d(t, e) {\n    var r,\n      n = !1;\n    for (r = 0; r < t.length; r += 1) t[r] === e && (n = !0);\n    return n;\n  }\n  if (void 0 === this.internal.viewerpreferences && (this.internal.viewerpreferences = {}, this.internal.viewerpreferences.configuration = JSON.parse(JSON.stringify(s)), this.internal.viewerpreferences.isSubscribed = !1), n = this.internal.viewerpreferences.configuration, \"reset\" === e || !0 === r) {\n    var p = c.length;\n    for (f = 0; f < p; f += 1) n[c[f]].value = n[c[f]].defaultValue, n[c[f]].explicitSet = !1;\n  }\n  if (\"object\" === (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(e)) for (a in e) if (o = e[a], d(c, a) && void 0 !== o) {\n    if (\"boolean\" === n[a].type && \"boolean\" == typeof o) n[a].value = o;else if (\"name\" === n[a].type && d(n[a].valueSet, o)) n[a].value = o;else if (\"integer\" === n[a].type && Number.isInteger(o)) n[a].value = o;else if (\"array\" === n[a].type) {\n      for (h = 0; h < o.length; h += 1) if (i = !0, 1 === o[h].length && \"number\" == typeof o[h][0]) u.push(String(o[h] - 1));else if (o[h].length > 1) {\n        for (l = 0; l < o[h].length; l += 1) \"number\" != typeof o[h][l] && (i = !1);\n        !0 === i && u.push([o[h][0] - 1, o[h][1] - 1].join(\" \"));\n      }\n      n[a].value = \"[\" + u.join(\" \") + \"]\";\n    } else n[a].value = n[a].defaultValue;\n    n[a].explicitSet = !0;\n  }\n  return !1 === this.internal.viewerpreferences.isSubscribed && (this.internal.events.subscribe(\"putCatalog\", function () {\n    var t,\n      e = [];\n    for (t in n) !0 === n[t].explicitSet && (\"name\" === n[t].type ? e.push(\"/\" + t + \" /\" + n[t].value) : e.push(\"/\" + t + \" \" + n[t].value));\n    0 !== e.length && this.internal.write(\"/ViewerPreferences\\n<<\\n\" + e.join(\"\\n\") + \"\\n>>\");\n  }), this.internal.viewerpreferences.isSubscribed = !0), this.internal.viewerpreferences.configuration = n, this;\n},\n/** ====================================================================\n * @license\n * jsPDF XMP metadata plugin\n * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * ====================================================================\n */\nfunction (t) {\n  var e = function () {\n      var t = '<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"><rdf:Description rdf:about=\"\" xmlns:jspdf=\"' + this.internal.__metadata__.namespaceuri + '\"><jspdf:metadata>',\n        e = unescape(encodeURIComponent('<x:xmpmeta xmlns:x=\"adobe:ns:meta/\">')),\n        r = unescape(encodeURIComponent(t)),\n        n = unescape(encodeURIComponent(this.internal.__metadata__.metadata)),\n        i = unescape(encodeURIComponent(\"</jspdf:metadata></rdf:Description></rdf:RDF>\")),\n        a = unescape(encodeURIComponent(\"</x:xmpmeta>\")),\n        o = r.length + n.length + i.length + e.length + a.length;\n      this.internal.__metadata__.metadata_object_number = this.internal.newObject(), this.internal.write(\"<< /Type /Metadata /Subtype /XML /Length \" + o + \" >>\"), this.internal.write(\"stream\"), this.internal.write(e + r + n + i + a), this.internal.write(\"endstream\"), this.internal.write(\"endobj\");\n    },\n    r = function () {\n      this.internal.__metadata__.metadata_object_number && this.internal.write(\"/Metadata \" + this.internal.__metadata__.metadata_object_number + \" 0 R\");\n    };\n  t.addMetadata = function (t, n) {\n    return void 0 === this.internal.__metadata__ && (this.internal.__metadata__ = {\n      metadata: t,\n      namespaceuri: n || \"http://jspdf.default.namespaceuri/\"\n    }, this.internal.events.subscribe(\"putCatalog\", r), this.internal.events.subscribe(\"postPutResources\", e)), this;\n  };\n}(E.API), function (t) {\n  var e = t.API,\n    r = e.pdfEscape16 = function (t, e) {\n      for (var r, n = e.metadata.Unicode.widths, i = [\"\", \"0\", \"00\", \"000\", \"0000\"], a = [\"\"], o = 0, s = t.length; o < s; ++o) {\n        if (r = e.metadata.characterToGlyph(t.charCodeAt(o)), e.metadata.glyIdsUsed.push(r), e.metadata.toUnicode[r] = t.charCodeAt(o), -1 == n.indexOf(r) && (n.push(r), n.push([parseInt(e.metadata.widthOfGlyph(r), 10)])), \"0\" == r) return a.join(\"\");\n        r = r.toString(16), a.push(i[4 - r.length], r);\n      }\n      return a.join(\"\");\n    },\n    n = function (t) {\n      var e, r, n, i, a, o, s;\n      for (a = \"/CIDInit /ProcSet findresource begin\\n12 dict begin\\nbegincmap\\n/CIDSystemInfo <<\\n  /Registry (Adobe)\\n  /Ordering (UCS)\\n  /Supplement 0\\n>> def\\n/CMapName /Adobe-Identity-UCS def\\n/CMapType 2 def\\n1 begincodespacerange\\n<0000><ffff>\\nendcodespacerange\", n = [], o = 0, s = (r = Object.keys(t).sort(function (t, e) {\n        return t - e;\n      })).length; o < s; o++) e = r[o], n.length >= 100 && (a += \"\\n\" + n.length + \" beginbfchar\\n\" + n.join(\"\\n\") + \"\\nendbfchar\", n = []), void 0 !== t[e] && null !== t[e] && \"function\" == typeof t[e].toString && (i = (\"0000\" + t[e].toString(16)).slice(-4), e = (\"0000\" + (+e).toString(16)).slice(-4), n.push(\"<\" + e + \"><\" + i + \">\"));\n      return n.length && (a += \"\\n\" + n.length + \" beginbfchar\\n\" + n.join(\"\\n\") + \"\\nendbfchar\\n\"), a += \"endcmap\\nCMapName currentdict /CMap defineresource pop\\nend\\nend\";\n    };\n  e.events.push([\"putFont\", function (e) {\n    !function (e) {\n      var r = e.font,\n        i = e.out,\n        a = e.newObject,\n        o = e.putStream;\n      if (r.metadata instanceof t.API.TTFFont && \"Identity-H\" === r.encoding) {\n        for (var s = r.metadata.Unicode.widths, c = r.metadata.subset.encode(r.metadata.glyIdsUsed, 1), u = \"\", h = 0; h < c.length; h++) u += String.fromCharCode(c[h]);\n        var l = a();\n        o({\n          data: u,\n          addLength1: !0,\n          objectId: l\n        }), i(\"endobj\");\n        var f = a();\n        o({\n          data: n(r.metadata.toUnicode),\n          addLength1: !0,\n          objectId: f\n        }), i(\"endobj\");\n        var d = a();\n        i(\"<<\"), i(\"/Type /FontDescriptor\"), i(\"/FontName /\" + F(r.fontName)), i(\"/FontFile2 \" + l + \" 0 R\"), i(\"/FontBBox \" + t.API.PDFObject.convert(r.metadata.bbox)), i(\"/Flags \" + r.metadata.flags), i(\"/StemV \" + r.metadata.stemV), i(\"/ItalicAngle \" + r.metadata.italicAngle), i(\"/Ascent \" + r.metadata.ascender), i(\"/Descent \" + r.metadata.decender), i(\"/CapHeight \" + r.metadata.capHeight), i(\">>\"), i(\"endobj\");\n        var p = a();\n        i(\"<<\"), i(\"/Type /Font\"), i(\"/BaseFont /\" + F(r.fontName)), i(\"/FontDescriptor \" + d + \" 0 R\"), i(\"/W \" + t.API.PDFObject.convert(s)), i(\"/CIDToGIDMap /Identity\"), i(\"/DW 1000\"), i(\"/Subtype /CIDFontType2\"), i(\"/CIDSystemInfo\"), i(\"<<\"), i(\"/Supplement 0\"), i(\"/Registry (Adobe)\"), i(\"/Ordering (\" + r.encoding + \")\"), i(\">>\"), i(\">>\"), i(\"endobj\"), r.objectNumber = a(), i(\"<<\"), i(\"/Type /Font\"), i(\"/Subtype /Type0\"), i(\"/ToUnicode \" + f + \" 0 R\"), i(\"/BaseFont /\" + F(r.fontName)), i(\"/Encoding /\" + r.encoding), i(\"/DescendantFonts [\" + p + \" 0 R]\"), i(\">>\"), i(\"endobj\"), r.isAlreadyPutted = !0;\n      }\n    }(e);\n  }]);\n  e.events.push([\"putFont\", function (e) {\n    !function (e) {\n      var r = e.font,\n        i = e.out,\n        a = e.newObject,\n        o = e.putStream;\n      if (r.metadata instanceof t.API.TTFFont && \"WinAnsiEncoding\" === r.encoding) {\n        for (var s = r.metadata.rawData, c = \"\", u = 0; u < s.length; u++) c += String.fromCharCode(s[u]);\n        var h = a();\n        o({\n          data: c,\n          addLength1: !0,\n          objectId: h\n        }), i(\"endobj\");\n        var l = a();\n        o({\n          data: n(r.metadata.toUnicode),\n          addLength1: !0,\n          objectId: l\n        }), i(\"endobj\");\n        var f = a();\n        i(\"<<\"), i(\"/Descent \" + r.metadata.decender), i(\"/CapHeight \" + r.metadata.capHeight), i(\"/StemV \" + r.metadata.stemV), i(\"/Type /FontDescriptor\"), i(\"/FontFile2 \" + h + \" 0 R\"), i(\"/Flags 96\"), i(\"/FontBBox \" + t.API.PDFObject.convert(r.metadata.bbox)), i(\"/FontName /\" + F(r.fontName)), i(\"/ItalicAngle \" + r.metadata.italicAngle), i(\"/Ascent \" + r.metadata.ascender), i(\">>\"), i(\"endobj\"), r.objectNumber = a();\n        for (var d = 0; d < r.metadata.hmtx.widths.length; d++) r.metadata.hmtx.widths[d] = parseInt(r.metadata.hmtx.widths[d] * (1e3 / r.metadata.head.unitsPerEm));\n        i(\"<</Subtype/TrueType/Type/Font/ToUnicode \" + l + \" 0 R/BaseFont/\" + F(r.fontName) + \"/FontDescriptor \" + f + \" 0 R/Encoding/\" + r.encoding + \" /FirstChar 29 /LastChar 255 /Widths \" + t.API.PDFObject.convert(r.metadata.hmtx.widths) + \">>\"), i(\"endobj\"), r.isAlreadyPutted = !0;\n      }\n    }(e);\n  }]);\n  var i = function (t) {\n    var e,\n      n = t.text || \"\",\n      i = t.x,\n      a = t.y,\n      o = t.options || {},\n      s = t.mutex || {},\n      c = s.pdfEscape,\n      u = s.activeFontKey,\n      h = s.fonts,\n      l = u,\n      f = \"\",\n      d = 0,\n      p = \"\",\n      g = h[l].encoding;\n    if (\"Identity-H\" !== h[l].encoding) return {\n      text: n,\n      x: i,\n      y: a,\n      options: o,\n      mutex: s\n    };\n    for (p = n, l = u, Array.isArray(n) && (p = n[0]), d = 0; d < p.length; d += 1) h[l].metadata.hasOwnProperty(\"cmap\") && (e = h[l].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]), e || p[d].charCodeAt(0) < 256 && h[l].metadata.hasOwnProperty(\"Unicode\") ? f += p[d] : f += \"\";\n    var m = \"\";\n    return parseInt(l.slice(1)) < 14 || \"WinAnsiEncoding\" === g ? m = c(f, l).split(\"\").map(function (t) {\n      return t.charCodeAt(0).toString(16);\n    }).join(\"\") : \"Identity-H\" === g && (m = r(f, h[l])), s.isHex = !0, {\n      text: m,\n      x: i,\n      y: a,\n      options: o,\n      mutex: s\n    };\n  };\n  e.events.push([\"postProcessText\", function (t) {\n    var e = t.text || \"\",\n      r = [],\n      n = {\n        text: e,\n        x: t.x,\n        y: t.y,\n        options: t.options,\n        mutex: t.mutex\n      };\n    if (Array.isArray(e)) {\n      var a = 0;\n      for (a = 0; a < e.length; a += 1) Array.isArray(e[a]) && 3 === e[a].length ? r.push([i(Object.assign({}, n, {\n        text: e[a][0]\n      })).text, e[a][1], e[a][2]]) : r.push(i(Object.assign({}, n, {\n        text: e[a]\n      })).text);\n      t.text = r;\n    } else t.text = i(Object.assign({}, n, {\n      text: e\n    })).text;\n  }]);\n}(E),\n/**\n * @license\n * jsPDF virtual FileSystem functionality\n *\n * Licensed under the MIT License.\n * http://opensource.org/licenses/mit-license\n */\nfunction (t) {\n  var e = function () {\n    return void 0 === this.internal.vFS && (this.internal.vFS = {}), !0;\n  };\n  t.existsFileInVFS = function (t) {\n    return e.call(this), void 0 !== this.internal.vFS[t];\n  }, t.addFileToVFS = function (t, r) {\n    return e.call(this), this.internal.vFS[t] = r, this;\n  }, t.getFileFromVFS = function (t) {\n    return e.call(this), void 0 !== this.internal.vFS[t] ? this.internal.vFS[t] : null;\n  };\n}(E.API),\n/**\n * @license\n * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)\n * MIT License\n */\nfunction (t) {\n  t.__bidiEngine__ = t.prototype.__bidiEngine__ = function (t) {\n    var r,\n      n,\n      i,\n      a,\n      o,\n      s,\n      c,\n      u = e,\n      h = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]],\n      l = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]],\n      f = {\n        L: 0,\n        R: 1,\n        EN: 2,\n        AN: 3,\n        N: 4,\n        B: 5,\n        S: 6\n      },\n      d = {\n        0: 0,\n        5: 1,\n        6: 2,\n        7: 3,\n        32: 4,\n        251: 5,\n        254: 6,\n        255: 7\n      },\n      p = [\"(\", \")\", \"(\", \"<\", \">\", \"<\", \"[\", \"]\", \"[\", \"{\", \"}\", \"{\", \"«\", \"»\", \"«\", \"‹\", \"›\", \"‹\", \"⁅\", \"⁆\", \"⁅\", \"⁽\", \"⁾\", \"⁽\", \"₍\", \"₎\", \"₍\", \"≤\", \"≥\", \"≤\", \"〈\", \"〉\", \"〈\", \"﹙\", \"﹚\", \"﹙\", \"﹛\", \"﹜\", \"﹛\", \"﹝\", \"﹞\", \"﹝\", \"﹤\", \"﹥\", \"﹤\"],\n      g = new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),\n      m = !1,\n      v = 0;\n    this.__bidiEngine__ = {};\n    var b = function (t) {\n        var e = t.charCodeAt(),\n          r = e >> 8,\n          n = d[r];\n        return void 0 !== n ? u[256 * n + (255 & e)] : 252 === r || 253 === r ? \"AL\" : g.test(r) ? \"L\" : 8 === r ? \"R\" : \"N\";\n      },\n      y = function (t) {\n        for (var e, r = 0; r < t.length; r++) {\n          if (\"L\" === (e = b(t.charAt(r)))) return !1;\n          if (\"R\" === e) return !0;\n        }\n        return !1;\n      },\n      w = function (t, e, o, s) {\n        var c,\n          u,\n          h,\n          l,\n          f = e[s];\n        switch (f) {\n          case \"L\":\n          case \"R\":\n            m = !1;\n            break;\n          case \"N\":\n          case \"AN\":\n            break;\n          case \"EN\":\n            m && (f = \"AN\");\n            break;\n          case \"AL\":\n            m = !0, f = \"R\";\n            break;\n          case \"WS\":\n            f = \"N\";\n            break;\n          case \"CS\":\n            s < 1 || s + 1 >= e.length || \"EN\" !== (c = o[s - 1]) && \"AN\" !== c || \"EN\" !== (u = e[s + 1]) && \"AN\" !== u ? f = \"N\" : m && (u = \"AN\"), f = u === c ? u : \"N\";\n            break;\n          case \"ES\":\n            f = \"EN\" === (c = s > 0 ? o[s - 1] : \"B\") && s + 1 < e.length && \"EN\" === e[s + 1] ? \"EN\" : \"N\";\n            break;\n          case \"ET\":\n            if (s > 0 && \"EN\" === o[s - 1]) {\n              f = \"EN\";\n              break;\n            }\n            if (m) {\n              f = \"N\";\n              break;\n            }\n            for (h = s + 1, l = e.length; h < l && \"ET\" === e[h];) h++;\n            f = h < l && \"EN\" === e[h] ? \"EN\" : \"N\";\n            break;\n          case \"NSM\":\n            if (i && !a) {\n              for (l = e.length, h = s + 1; h < l && \"NSM\" === e[h];) h++;\n              if (h < l) {\n                var d = t[s],\n                  p = d >= 1425 && d <= 2303 || 64286 === d;\n                if (c = e[h], p && (\"R\" === c || \"AL\" === c)) {\n                  f = \"R\";\n                  break;\n                }\n              }\n            }\n            f = s < 1 || \"B\" === (c = e[s - 1]) ? \"N\" : o[s - 1];\n            break;\n          case \"B\":\n            m = !1, r = !0, f = v;\n            break;\n          case \"S\":\n            n = !0, f = \"N\";\n            break;\n          case \"LRE\":\n          case \"RLE\":\n          case \"LRO\":\n          case \"RLO\":\n          case \"PDF\":\n            m = !1;\n            break;\n          case \"BN\":\n            f = \"N\";\n        }\n        return f;\n      },\n      N = function (t, e, r) {\n        var n = t.split(\"\");\n        return r && L(n, r, {\n          hiLevel: v\n        }), n.reverse(), e && e.reverse(), n.join(\"\");\n      },\n      L = function (t, e, i) {\n        var a,\n          o,\n          s,\n          c,\n          u,\n          d = -1,\n          p = t.length,\n          g = 0,\n          y = [],\n          N = v ? l : h,\n          L = [];\n        for (m = !1, r = !1, n = !1, o = 0; o < p; o++) L[o] = b(t[o]);\n        for (s = 0; s < p; s++) {\n          if (u = g, y[s] = w(t, L, y, s), a = 240 & (g = N[u][f[y[s]]]), g &= 15, e[s] = c = N[g][5], a > 0) if (16 === a) {\n            for (o = d; o < s; o++) e[o] = 1;\n            d = -1;\n          } else d = -1;\n          if (N[g][6]) -1 === d && (d = s);else if (d > -1) {\n            for (o = d; o < s; o++) e[o] = c;\n            d = -1;\n          }\n          \"B\" === L[s] && (e[s] = 0), i.hiLevel |= c;\n        }\n        n && function (t, e, r) {\n          for (var n = 0; n < r; n++) if (\"S\" === t[n]) {\n            e[n] = v;\n            for (var i = n - 1; i >= 0 && \"WS\" === t[i]; i--) e[i] = v;\n          }\n        }(L, e, p);\n      },\n      A = function (t, e, n, i, a) {\n        if (!(a.hiLevel < t)) {\n          if (1 === t && 1 === v && !r) return e.reverse(), void (n && n.reverse());\n          for (var o, s, c, u, h = e.length, l = 0; l < h;) {\n            if (i[l] >= t) {\n              for (c = l + 1; c < h && i[c] >= t;) c++;\n              for (u = l, s = c - 1; u < s; u++, s--) o = e[u], e[u] = e[s], e[s] = o, n && (o = n[u], n[u] = n[s], n[s] = o);\n              l = c;\n            }\n            l++;\n          }\n        }\n      },\n      x = function (t, e, r) {\n        var n = t.split(\"\"),\n          i = {\n            hiLevel: v\n          };\n        return r || (r = []), L(n, r, i), function (t, e, r) {\n          if (0 !== r.hiLevel && c) for (var n, i = 0; i < t.length; i++) 1 === e[i] && (n = p.indexOf(t[i])) >= 0 && (t[i] = p[n + 1]);\n        }(n, r, i), A(2, n, e, r, i), A(1, n, e, r, i), n.join(\"\");\n      };\n    return this.__bidiEngine__.doBidiReorder = function (t, e, r) {\n      if (function (t, e) {\n        if (e) for (var r = 0; r < t.length; r++) e[r] = r;\n        void 0 === a && (a = y(t)), void 0 === s && (s = y(t));\n      }(t, e), i || !o || s) {\n        if (i && o && a ^ s) v = a ? 1 : 0, t = N(t, e, r);else if (!i && o && s) v = a ? 1 : 0, t = x(t, e, r), t = N(t, e);else if (!i || a || o || s) {\n          if (i && !o && a ^ s) t = N(t, e), a ? (v = 0, t = x(t, e, r)) : (v = 1, t = x(t, e, r), t = N(t, e));else if (i && a && !o && s) v = 1, t = x(t, e, r), t = N(t, e);else if (!i && !o && a ^ s) {\n            var n = c;\n            a ? (v = 1, t = x(t, e, r), v = 0, c = !1, t = x(t, e, r), c = n) : (v = 0, t = x(t, e, r), t = N(t, e), v = 1, c = !1, t = x(t, e, r), c = n, t = N(t, e));\n          }\n        } else v = 0, t = x(t, e, r);\n      } else v = a ? 1 : 0, t = x(t, e, r);\n      return t;\n    }, this.__bidiEngine__.setOptions = function (t) {\n      t && (i = t.isInputVisual, o = t.isOutputVisual, a = t.isInputRtl, s = t.isOutputRtl, c = t.isSymmetricSwapping);\n    }, this.__bidiEngine__.setOptions(t), this.__bidiEngine__;\n  };\n  var e = [\"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"S\", \"B\", \"S\", \"WS\", \"B\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"B\", \"B\", \"B\", \"S\", \"WS\", \"N\", \"N\", \"ET\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"N\", \"ES\", \"CS\", \"ES\", \"CS\", \"CS\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"CS\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"N\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"B\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"CS\", \"N\", \"ET\", \"ET\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"L\", \"N\", \"N\", \"BN\", \"N\", \"N\", \"ET\", \"ET\", \"EN\", \"EN\", \"N\", \"L\", \"N\", \"N\", \"N\", \"EN\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"ET\", \"N\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"R\", \"NSM\", \"R\", \"NSM\", \"NSM\", \"R\", \"NSM\", \"NSM\", \"R\", \"NSM\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"N\", \"N\", \"N\", \"N\", \"N\", \"R\", \"R\", \"R\", \"R\", \"R\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"N\", \"N\", \"AL\", \"ET\", \"ET\", \"AL\", \"CS\", \"AL\", \"N\", \"N\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"AL\", \"AL\", \"N\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"AN\", \"ET\", \"AN\", \"AN\", \"AL\", \"AL\", \"AL\", \"NSM\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"AN\", \"N\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"AL\", \"AL\", \"NSM\", \"NSM\", \"N\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"AL\", \"AL\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"N\", \"AL\", \"AL\", \"NSM\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"N\", \"N\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"AL\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"R\", \"R\", \"N\", \"N\", \"N\", \"N\", \"R\", \"N\", \"N\", \"N\", \"N\", \"N\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"WS\", \"BN\", \"BN\", \"BN\", \"L\", \"R\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"WS\", \"B\", \"LRE\", \"RLE\", \"PDF\", \"LRO\", \"RLO\", \"CS\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"CS\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"WS\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"N\", \"LRI\", \"RLI\", \"FSI\", \"PDI\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"BN\", \"EN\", \"L\", \"N\", \"N\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"ES\", \"ES\", \"N\", \"N\", \"N\", \"L\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"ES\", \"ES\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"R\", \"NSM\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"ES\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"N\", \"R\", \"R\", \"R\", \"R\", \"R\", \"N\", \"R\", \"N\", \"R\", \"R\", \"N\", \"R\", \"R\", \"N\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"NSM\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"CS\", \"N\", \"CS\", \"N\", \"N\", \"CS\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"ET\", \"N\", \"N\", \"ES\", \"ES\", \"N\", \"N\", \"N\", \"N\", \"N\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"N\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"N\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"N\", \"N\", \"BN\", \"N\", \"N\", \"N\", \"ET\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"N\", \"ES\", \"CS\", \"ES\", \"CS\", \"CS\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"EN\", \"CS\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"L\", \"L\", \"L\", \"L\", \"L\", \"L\", \"N\", \"N\", \"L\", \"L\", \"L\", \"N\", \"N\", \"N\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"ET\", \"ET\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\", \"N\"],\n    r = new t.__bidiEngine__({\n      isInputVisual: !0\n    });\n  t.API.events.push([\"postProcessText\", function (t) {\n    var e = t.text;\n    t.x, t.y;\n    var n = t.options || {};\n    t.mutex, n.lang;\n    var i = [];\n    if (n.isInputVisual = \"boolean\" != typeof n.isInputVisual || n.isInputVisual, r.setOptions(n), \"[object Array]\" === Object.prototype.toString.call(e)) {\n      var a = 0;\n      for (i = [], a = 0; a < e.length; a += 1) \"[object Array]\" === Object.prototype.toString.call(e[a]) ? i.push([r.doBidiReorder(e[a][0]), e[a][1], e[a][2]]) : i.push([r.doBidiReorder(e[a])]);\n      t.text = i;\n    } else t.text = r.doBidiReorder(e);\n    r.setOptions({\n      isInputVisual: !0\n    });\n  }]);\n}(E), E.API.TTFFont = function () {\n  function t(t) {\n    var e;\n    if (this.rawData = t, e = this.contents = new ne(t), this.contents.pos = 4, \"ttcf\" === e.readString(4)) throw new Error(\"TTCF not supported.\");\n    e.pos = 0, this.parse(), this.subset = new Le(this), this.registerTTF();\n  }\n  return t.open = function (e) {\n    return new t(e);\n  }, t.prototype.parse = function () {\n    return this.directory = new ie(this.contents), this.head = new se(this), this.name = new pe(this), this.cmap = new ue(this), this.toUnicode = {}, this.hhea = new he(this), this.maxp = new ge(this), this.hmtx = new me(this), this.post = new fe(this), this.os2 = new le(this), this.loca = new Ne(this), this.glyf = new be(this), this.ascender = this.os2.exists && this.os2.ascender || this.hhea.ascender, this.decender = this.os2.exists && this.os2.decender || this.hhea.decender, this.lineGap = this.os2.exists && this.os2.lineGap || this.hhea.lineGap, this.bbox = [this.head.xMin, this.head.yMin, this.head.xMax, this.head.yMax];\n  }, t.prototype.registerTTF = function () {\n    var t, e, r, n, i;\n    if (this.scaleFactor = 1e3 / this.head.unitsPerEm, this.bbox = function () {\n      var e, r, n, i;\n      for (i = [], e = 0, r = (n = this.bbox).length; e < r; e++) t = n[e], i.push(Math.round(t * this.scaleFactor));\n      return i;\n    }.call(this), this.stemV = 0, this.post.exists ? (r = 255 & (n = this.post.italic_angle), 0 != (32768 & (e = n >> 16)) && (e = -(1 + (65535 ^ e))), this.italicAngle = +(e + \".\" + r)) : this.italicAngle = 0, this.ascender = Math.round(this.ascender * this.scaleFactor), this.decender = Math.round(this.decender * this.scaleFactor), this.lineGap = Math.round(this.lineGap * this.scaleFactor), this.capHeight = this.os2.exists && this.os2.capHeight || this.ascender, this.xHeight = this.os2.exists && this.os2.xHeight || 0, this.familyClass = (this.os2.exists && this.os2.familyClass || 0) >> 8, this.isSerif = 1 === (i = this.familyClass) || 2 === i || 3 === i || 4 === i || 5 === i || 7 === i, this.isScript = 10 === this.familyClass, this.flags = 0, this.post.isFixedPitch && (this.flags |= 1), this.isSerif && (this.flags |= 2), this.isScript && (this.flags |= 8), 0 !== this.italicAngle && (this.flags |= 64), this.flags |= 32, !this.cmap.unicode) throw new Error(\"No unicode cmap for font\");\n  }, t.prototype.characterToGlyph = function (t) {\n    var e;\n    return (null != (e = this.cmap.unicode) ? e.codeMap[t] : void 0) || 0;\n  }, t.prototype.widthOfGlyph = function (t) {\n    var e;\n    return e = 1e3 / this.head.unitsPerEm, this.hmtx.forGlyph(t).advance * e;\n  }, t.prototype.widthOfString = function (t, e, r) {\n    var n, i, a, o;\n    for (a = 0, i = 0, o = (t = \"\" + t).length; 0 <= o ? i < o : i > o; i = 0 <= o ? ++i : --i) n = t.charCodeAt(i), a += this.widthOfGlyph(this.characterToGlyph(n)) + r * (1e3 / e) || 0;\n    return a * (e / 1e3);\n  }, t.prototype.lineHeight = function (t, e) {\n    var r;\n    return null == e && (e = !1), r = e ? this.lineGap : 0, (this.ascender + r - this.decender) / 1e3 * t;\n  }, t;\n}();\nvar re,\n  ne = function () {\n    function t(t) {\n      this.data = null != t ? t : [], this.pos = 0, this.length = this.data.length;\n    }\n    return t.prototype.readByte = function () {\n      return this.data[this.pos++];\n    }, t.prototype.writeByte = function (t) {\n      return this.data[this.pos++] = t;\n    }, t.prototype.readUInt32 = function () {\n      return 16777216 * this.readByte() + (this.readByte() << 16) + (this.readByte() << 8) + this.readByte();\n    }, t.prototype.writeUInt32 = function (t) {\n      return this.writeByte(t >>> 24 & 255), this.writeByte(t >> 16 & 255), this.writeByte(t >> 8 & 255), this.writeByte(255 & t);\n    }, t.prototype.readInt32 = function () {\n      var t;\n      return (t = this.readUInt32()) >= 2147483648 ? t - 4294967296 : t;\n    }, t.prototype.writeInt32 = function (t) {\n      return t < 0 && (t += 4294967296), this.writeUInt32(t);\n    }, t.prototype.readUInt16 = function () {\n      return this.readByte() << 8 | this.readByte();\n    }, t.prototype.writeUInt16 = function (t) {\n      return this.writeByte(t >> 8 & 255), this.writeByte(255 & t);\n    }, t.prototype.readInt16 = function () {\n      var t;\n      return (t = this.readUInt16()) >= 32768 ? t - 65536 : t;\n    }, t.prototype.writeInt16 = function (t) {\n      return t < 0 && (t += 65536), this.writeUInt16(t);\n    }, t.prototype.readString = function (t) {\n      var e, r;\n      for (r = [], e = 0; 0 <= t ? e < t : e > t; e = 0 <= t ? ++e : --e) r[e] = String.fromCharCode(this.readByte());\n      return r.join(\"\");\n    }, t.prototype.writeString = function (t) {\n      var e, r, n;\n      for (n = [], e = 0, r = t.length; 0 <= r ? e < r : e > r; e = 0 <= r ? ++e : --e) n.push(this.writeByte(t.charCodeAt(e)));\n      return n;\n    }, t.prototype.readShort = function () {\n      return this.readInt16();\n    }, t.prototype.writeShort = function (t) {\n      return this.writeInt16(t);\n    }, t.prototype.readLongLong = function () {\n      var t, e, r, n, i, a, o, s;\n      return t = this.readByte(), e = this.readByte(), r = this.readByte(), n = this.readByte(), i = this.readByte(), a = this.readByte(), o = this.readByte(), s = this.readByte(), 128 & t ? -1 * (72057594037927940 * (255 ^ t) + 281474976710656 * (255 ^ e) + 1099511627776 * (255 ^ r) + 4294967296 * (255 ^ n) + 16777216 * (255 ^ i) + 65536 * (255 ^ a) + 256 * (255 ^ o) + (255 ^ s) + 1) : 72057594037927940 * t + 281474976710656 * e + 1099511627776 * r + 4294967296 * n + 16777216 * i + 65536 * a + 256 * o + s;\n    }, t.prototype.writeLongLong = function (t) {\n      var e, r;\n      return e = Math.floor(t / 4294967296), r = 4294967295 & t, this.writeByte(e >> 24 & 255), this.writeByte(e >> 16 & 255), this.writeByte(e >> 8 & 255), this.writeByte(255 & e), this.writeByte(r >> 24 & 255), this.writeByte(r >> 16 & 255), this.writeByte(r >> 8 & 255), this.writeByte(255 & r);\n    }, t.prototype.readInt = function () {\n      return this.readInt32();\n    }, t.prototype.writeInt = function (t) {\n      return this.writeInt32(t);\n    }, t.prototype.read = function (t) {\n      var e, r;\n      for (e = [], r = 0; 0 <= t ? r < t : r > t; r = 0 <= t ? ++r : --r) e.push(this.readByte());\n      return e;\n    }, t.prototype.write = function (t) {\n      var e, r, n, i;\n      for (i = [], r = 0, n = t.length; r < n; r++) e = t[r], i.push(this.writeByte(e));\n      return i;\n    }, t;\n  }(),\n  ie = function () {\n    var t;\n    function e(t) {\n      var e, r, n;\n      for (this.scalarType = t.readInt(), this.tableCount = t.readShort(), this.searchRange = t.readShort(), this.entrySelector = t.readShort(), this.rangeShift = t.readShort(), this.tables = {}, r = 0, n = this.tableCount; 0 <= n ? r < n : r > n; r = 0 <= n ? ++r : --r) e = {\n        tag: t.readString(4),\n        checksum: t.readInt(),\n        offset: t.readInt(),\n        length: t.readInt()\n      }, this.tables[e.tag] = e;\n    }\n    return e.prototype.encode = function (e) {\n      var r, n, i, a, o, s, c, u, h, l, f, d, p;\n      for (p in f = Object.keys(e).length, s = Math.log(2), h = 16 * Math.floor(Math.log(f) / s), a = Math.floor(h / s), u = 16 * f - h, (n = new ne()).writeInt(this.scalarType), n.writeShort(f), n.writeShort(h), n.writeShort(a), n.writeShort(u), i = 16 * f, c = n.pos + i, o = null, d = [], e) for (l = e[p], n.writeString(p), n.writeInt(t(l)), n.writeInt(c), n.writeInt(l.length), d = d.concat(l), \"head\" === p && (o = c), c += l.length; c % 4;) d.push(0), c++;\n      return n.write(d), r = 2981146554 - t(n.data), n.pos = o + 8, n.writeUInt32(r), n.data;\n    }, t = function (t) {\n      var e, r, n, i;\n      for (t = ve.call(t); t.length % 4;) t.push(0);\n      for (n = new ne(t), r = 0, e = 0, i = t.length; e < i; e = e += 4) r += n.readUInt32();\n      return 4294967295 & r;\n    }, e;\n  }(),\n  ae = {}.hasOwnProperty,\n  oe = function (t, e) {\n    for (var r in e) ae.call(e, r) && (t[r] = e[r]);\n    function n() {\n      this.constructor = t;\n    }\n    return n.prototype = e.prototype, t.prototype = new n(), t.__super__ = e.prototype, t;\n  };\nre = function () {\n  function t(t) {\n    var e;\n    this.file = t, e = this.file.directory.tables[this.tag], this.exists = !!e, e && (this.offset = e.offset, this.length = e.length, this.parse(this.file.contents));\n  }\n  return t.prototype.parse = function () {}, t.prototype.encode = function () {}, t.prototype.raw = function () {\n    return this.exists ? (this.file.contents.pos = this.offset, this.file.contents.read(this.length)) : null;\n  }, t;\n}();\nvar se = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"head\", e.prototype.parse = function (t) {\n      return t.pos = this.offset, this.version = t.readInt(), this.revision = t.readInt(), this.checkSumAdjustment = t.readInt(), this.magicNumber = t.readInt(), this.flags = t.readShort(), this.unitsPerEm = t.readShort(), this.created = t.readLongLong(), this.modified = t.readLongLong(), this.xMin = t.readShort(), this.yMin = t.readShort(), this.xMax = t.readShort(), this.yMax = t.readShort(), this.macStyle = t.readShort(), this.lowestRecPPEM = t.readShort(), this.fontDirectionHint = t.readShort(), this.indexToLocFormat = t.readShort(), this.glyphDataFormat = t.readShort();\n    }, e.prototype.encode = function (t) {\n      var e;\n      return (e = new ne()).writeInt(this.version), e.writeInt(this.revision), e.writeInt(this.checkSumAdjustment), e.writeInt(this.magicNumber), e.writeShort(this.flags), e.writeShort(this.unitsPerEm), e.writeLongLong(this.created), e.writeLongLong(this.modified), e.writeShort(this.xMin), e.writeShort(this.yMin), e.writeShort(this.xMax), e.writeShort(this.yMax), e.writeShort(this.macStyle), e.writeShort(this.lowestRecPPEM), e.writeShort(this.fontDirectionHint), e.writeShort(t), e.writeShort(this.glyphDataFormat), e.data;\n    }, e;\n  }(),\n  ce = function () {\n    function t(t, e) {\n      var r, n, i, a, o, s, c, u, h, l, f, d, p, g, m, v, b;\n      switch (this.platformID = t.readUInt16(), this.encodingID = t.readShort(), this.offset = e + t.readInt(), h = t.pos, t.pos = this.offset, this.format = t.readUInt16(), this.length = t.readUInt16(), this.language = t.readUInt16(), this.isUnicode = 3 === this.platformID && 1 === this.encodingID && 4 === this.format || 0 === this.platformID && 4 === this.format, this.codeMap = {}, this.format) {\n        case 0:\n          for (s = 0; s < 256; ++s) this.codeMap[s] = t.readByte();\n          break;\n        case 4:\n          for (f = t.readUInt16(), l = f / 2, t.pos += 6, i = function () {\n            var e, r;\n            for (r = [], s = e = 0; 0 <= l ? e < l : e > l; s = 0 <= l ? ++e : --e) r.push(t.readUInt16());\n            return r;\n          }(), t.pos += 2, p = function () {\n            var e, r;\n            for (r = [], s = e = 0; 0 <= l ? e < l : e > l; s = 0 <= l ? ++e : --e) r.push(t.readUInt16());\n            return r;\n          }(), c = function () {\n            var e, r;\n            for (r = [], s = e = 0; 0 <= l ? e < l : e > l; s = 0 <= l ? ++e : --e) r.push(t.readUInt16());\n            return r;\n          }(), u = function () {\n            var e, r;\n            for (r = [], s = e = 0; 0 <= l ? e < l : e > l; s = 0 <= l ? ++e : --e) r.push(t.readUInt16());\n            return r;\n          }(), n = (this.length - t.pos + this.offset) / 2, o = function () {\n            var e, r;\n            for (r = [], s = e = 0; 0 <= n ? e < n : e > n; s = 0 <= n ? ++e : --e) r.push(t.readUInt16());\n            return r;\n          }(), s = m = 0, b = i.length; m < b; s = ++m) for (g = i[s], r = v = d = p[s]; d <= g ? v <= g : v >= g; r = d <= g ? ++v : --v) 0 === u[s] ? a = r + c[s] : 0 !== (a = o[u[s] / 2 + (r - d) - (l - s)] || 0) && (a += c[s]), this.codeMap[r] = 65535 & a;\n      }\n      t.pos = h;\n    }\n    return t.encode = function (t, e) {\n      var r, n, i, a, o, s, c, u, h, l, f, d, p, g, m, v, b, y, w, N, L, A, x, S, _, P, k, I, F, C, j, O, B, M, E, q, D, R, T, U, z, H, W, V, G, Y;\n      switch (I = new ne(), a = Object.keys(t).sort(function (t, e) {\n        return t - e;\n      }), e) {\n        case \"macroman\":\n          for (p = 0, g = function () {\n            var t = [];\n            for (d = 0; d < 256; ++d) t.push(0);\n            return t;\n          }(), v = {\n            0: 0\n          }, i = {}, F = 0, B = a.length; F < B; F++) null == v[W = t[n = a[F]]] && (v[W] = ++p), i[n] = {\n            old: t[n],\n            new: v[t[n]]\n          }, g[n] = v[t[n]];\n          return I.writeUInt16(1), I.writeUInt16(0), I.writeUInt32(12), I.writeUInt16(0), I.writeUInt16(262), I.writeUInt16(0), I.write(g), {\n            charMap: i,\n            subtable: I.data,\n            maxGlyphID: p + 1\n          };\n        case \"unicode\":\n          for (P = [], h = [], b = 0, v = {}, r = {}, m = c = null, C = 0, M = a.length; C < M; C++) null == v[w = t[n = a[C]]] && (v[w] = ++b), r[n] = {\n            old: w,\n            new: v[w]\n          }, o = v[w] - n, null != m && o === c || (m && h.push(m), P.push(n), c = o), m = n;\n          for (m && h.push(m), h.push(65535), P.push(65535), S = 2 * (x = P.length), A = 2 * Math.pow(Math.log(x) / Math.LN2, 2), l = Math.log(A / 2) / Math.LN2, L = 2 * x - A, s = [], N = [], f = [], d = j = 0, E = P.length; j < E; d = ++j) {\n            if (_ = P[d], u = h[d], 65535 === _) {\n              s.push(0), N.push(0);\n              break;\n            }\n            if (_ - (k = r[_].new) >= 32768) for (s.push(0), N.push(2 * (f.length + x - d)), n = O = _; _ <= u ? O <= u : O >= u; n = _ <= u ? ++O : --O) f.push(r[n].new);else s.push(k - _), N.push(0);\n          }\n          for (I.writeUInt16(3), I.writeUInt16(1), I.writeUInt32(12), I.writeUInt16(4), I.writeUInt16(16 + 8 * x + 2 * f.length), I.writeUInt16(0), I.writeUInt16(S), I.writeUInt16(A), I.writeUInt16(l), I.writeUInt16(L), z = 0, q = h.length; z < q; z++) n = h[z], I.writeUInt16(n);\n          for (I.writeUInt16(0), H = 0, D = P.length; H < D; H++) n = P[H], I.writeUInt16(n);\n          for (V = 0, R = s.length; V < R; V++) o = s[V], I.writeUInt16(o);\n          for (G = 0, T = N.length; G < T; G++) y = N[G], I.writeUInt16(y);\n          for (Y = 0, U = f.length; Y < U; Y++) p = f[Y], I.writeUInt16(p);\n          return {\n            charMap: r,\n            subtable: I.data,\n            maxGlyphID: b + 1\n          };\n      }\n    }, t;\n  }(),\n  ue = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"cmap\", e.prototype.parse = function (t) {\n      var e, r, n;\n      for (t.pos = this.offset, this.version = t.readUInt16(), n = t.readUInt16(), this.tables = [], this.unicode = null, r = 0; 0 <= n ? r < n : r > n; r = 0 <= n ? ++r : --r) e = new ce(t, this.offset), this.tables.push(e), e.isUnicode && null == this.unicode && (this.unicode = e);\n      return !0;\n    }, e.encode = function (t, e) {\n      var r, n;\n      return null == e && (e = \"macroman\"), r = ce.encode(t, e), (n = new ne()).writeUInt16(0), n.writeUInt16(1), r.table = n.data.concat(r.subtable), r;\n    }, e;\n  }(),\n  he = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"hhea\", e.prototype.parse = function (t) {\n      return t.pos = this.offset, this.version = t.readInt(), this.ascender = t.readShort(), this.decender = t.readShort(), this.lineGap = t.readShort(), this.advanceWidthMax = t.readShort(), this.minLeftSideBearing = t.readShort(), this.minRightSideBearing = t.readShort(), this.xMaxExtent = t.readShort(), this.caretSlopeRise = t.readShort(), this.caretSlopeRun = t.readShort(), this.caretOffset = t.readShort(), t.pos += 8, this.metricDataFormat = t.readShort(), this.numberOfMetrics = t.readUInt16();\n    }, e;\n  }(),\n  le = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"OS/2\", e.prototype.parse = function (t) {\n      if (t.pos = this.offset, this.version = t.readUInt16(), this.averageCharWidth = t.readShort(), this.weightClass = t.readUInt16(), this.widthClass = t.readUInt16(), this.type = t.readShort(), this.ySubscriptXSize = t.readShort(), this.ySubscriptYSize = t.readShort(), this.ySubscriptXOffset = t.readShort(), this.ySubscriptYOffset = t.readShort(), this.ySuperscriptXSize = t.readShort(), this.ySuperscriptYSize = t.readShort(), this.ySuperscriptXOffset = t.readShort(), this.ySuperscriptYOffset = t.readShort(), this.yStrikeoutSize = t.readShort(), this.yStrikeoutPosition = t.readShort(), this.familyClass = t.readShort(), this.panose = function () {\n        var e, r;\n        for (r = [], e = 0; e < 10; ++e) r.push(t.readByte());\n        return r;\n      }(), this.charRange = function () {\n        var e, r;\n        for (r = [], e = 0; e < 4; ++e) r.push(t.readInt());\n        return r;\n      }(), this.vendorID = t.readString(4), this.selection = t.readShort(), this.firstCharIndex = t.readShort(), this.lastCharIndex = t.readShort(), this.version > 0 && (this.ascent = t.readShort(), this.descent = t.readShort(), this.lineGap = t.readShort(), this.winAscent = t.readShort(), this.winDescent = t.readShort(), this.codePageRange = function () {\n        var e, r;\n        for (r = [], e = 0; e < 2; e = ++e) r.push(t.readInt());\n        return r;\n      }(), this.version > 1)) return this.xHeight = t.readShort(), this.capHeight = t.readShort(), this.defaultChar = t.readShort(), this.breakChar = t.readShort(), this.maxContext = t.readShort();\n    }, e;\n  }(),\n  fe = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"post\", e.prototype.parse = function (t) {\n      var e, r, n;\n      switch (t.pos = this.offset, this.format = t.readInt(), this.italicAngle = t.readInt(), this.underlinePosition = t.readShort(), this.underlineThickness = t.readShort(), this.isFixedPitch = t.readInt(), this.minMemType42 = t.readInt(), this.maxMemType42 = t.readInt(), this.minMemType1 = t.readInt(), this.maxMemType1 = t.readInt(), this.format) {\n        case 65536:\n          break;\n        case 131072:\n          var i;\n          for (r = t.readUInt16(), this.glyphNameIndex = [], i = 0; 0 <= r ? i < r : i > r; i = 0 <= r ? ++i : --i) this.glyphNameIndex.push(t.readUInt16());\n          for (this.names = [], n = []; t.pos < this.offset + this.length;) e = t.readByte(), n.push(this.names.push(t.readString(e)));\n          return n;\n        case 151552:\n          return r = t.readUInt16(), this.offsets = t.read(r);\n        case 196608:\n          break;\n        case 262144:\n          return this.map = function () {\n            var e, r, n;\n            for (n = [], i = e = 0, r = this.file.maxp.numGlyphs; 0 <= r ? e < r : e > r; i = 0 <= r ? ++e : --e) n.push(t.readUInt32());\n            return n;\n          }.call(this);\n      }\n    }, e;\n  }(),\n  de = function (t, e) {\n    this.raw = t, this.length = t.length, this.platformID = e.platformID, this.encodingID = e.encodingID, this.languageID = e.languageID;\n  },\n  pe = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"name\", e.prototype.parse = function (t) {\n      var e, r, n, i, a, o, s, c, u, h, l;\n      for (t.pos = this.offset, t.readShort(), e = t.readShort(), o = t.readShort(), r = [], i = 0; 0 <= e ? i < e : i > e; i = 0 <= e ? ++i : --i) r.push({\n        platformID: t.readShort(),\n        encodingID: t.readShort(),\n        languageID: t.readShort(),\n        nameID: t.readShort(),\n        length: t.readShort(),\n        offset: this.offset + o + t.readShort()\n      });\n      for (s = {}, i = u = 0, h = r.length; u < h; i = ++u) n = r[i], t.pos = n.offset, c = t.readString(n.length), a = new de(c, n), null == s[l = n.nameID] && (s[l] = []), s[n.nameID].push(a);\n      this.strings = s, this.copyright = s[0], this.fontFamily = s[1], this.fontSubfamily = s[2], this.uniqueSubfamily = s[3], this.fontName = s[4], this.version = s[5];\n      try {\n        this.postscriptName = s[6][0].raw.replace(/[\\x00-\\x19\\x80-\\xff]/g, \"\");\n      } catch (t) {\n        this.postscriptName = s[4][0].raw.replace(/[\\x00-\\x19\\x80-\\xff]/g, \"\");\n      }\n      return this.trademark = s[7], this.manufacturer = s[8], this.designer = s[9], this.description = s[10], this.vendorUrl = s[11], this.designerUrl = s[12], this.license = s[13], this.licenseUrl = s[14], this.preferredFamily = s[15], this.preferredSubfamily = s[17], this.compatibleFull = s[18], this.sampleText = s[19];\n    }, e;\n  }(),\n  ge = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"maxp\", e.prototype.parse = function (t) {\n      return t.pos = this.offset, this.version = t.readInt(), this.numGlyphs = t.readUInt16(), this.maxPoints = t.readUInt16(), this.maxContours = t.readUInt16(), this.maxCompositePoints = t.readUInt16(), this.maxComponentContours = t.readUInt16(), this.maxZones = t.readUInt16(), this.maxTwilightPoints = t.readUInt16(), this.maxStorage = t.readUInt16(), this.maxFunctionDefs = t.readUInt16(), this.maxInstructionDefs = t.readUInt16(), this.maxStackElements = t.readUInt16(), this.maxSizeOfInstructions = t.readUInt16(), this.maxComponentElements = t.readUInt16(), this.maxComponentDepth = t.readUInt16();\n    }, e;\n  }(),\n  me = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"hmtx\", e.prototype.parse = function (t) {\n      var e, r, n, i, a, o, s;\n      for (t.pos = this.offset, this.metrics = [], e = 0, o = this.file.hhea.numberOfMetrics; 0 <= o ? e < o : e > o; e = 0 <= o ? ++e : --e) this.metrics.push({\n        advance: t.readUInt16(),\n        lsb: t.readInt16()\n      });\n      for (n = this.file.maxp.numGlyphs - this.file.hhea.numberOfMetrics, this.leftSideBearings = function () {\n        var r, i;\n        for (i = [], e = r = 0; 0 <= n ? r < n : r > n; e = 0 <= n ? ++r : --r) i.push(t.readInt16());\n        return i;\n      }(), this.widths = function () {\n        var t, e, r, n;\n        for (n = [], t = 0, e = (r = this.metrics).length; t < e; t++) i = r[t], n.push(i.advance);\n        return n;\n      }.call(this), r = this.widths[this.widths.length - 1], s = [], e = a = 0; 0 <= n ? a < n : a > n; e = 0 <= n ? ++a : --a) s.push(this.widths.push(r));\n      return s;\n    }, e.prototype.forGlyph = function (t) {\n      return t in this.metrics ? this.metrics[t] : {\n        advance: this.metrics[this.metrics.length - 1].advance,\n        lsb: this.leftSideBearings[t - this.metrics.length]\n      };\n    }, e;\n  }(),\n  ve = [].slice,\n  be = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"glyf\", e.prototype.parse = function () {\n      return this.cache = {};\n    }, e.prototype.glyphFor = function (t) {\n      var e, r, n, i, a, o, s, c, u, h;\n      return t in this.cache ? this.cache[t] : (i = this.file.loca, e = this.file.contents, r = i.indexOf(t), 0 === (n = i.lengthOf(t)) ? this.cache[t] = null : (e.pos = this.offset + r, a = (o = new ne(e.read(n))).readShort(), c = o.readShort(), h = o.readShort(), s = o.readShort(), u = o.readShort(), this.cache[t] = -1 === a ? new we(o, c, h, s, u) : new ye(o, a, c, h, s, u), this.cache[t]));\n    }, e.prototype.encode = function (t, e, r) {\n      var n, i, a, o, s;\n      for (a = [], i = [], o = 0, s = e.length; o < s; o++) n = t[e[o]], i.push(a.length), n && (a = a.concat(n.encode(r)));\n      return i.push(a.length), {\n        table: a,\n        offsets: i\n      };\n    }, e;\n  }(),\n  ye = function () {\n    function t(t, e, r, n, i, a) {\n      this.raw = t, this.numberOfContours = e, this.xMin = r, this.yMin = n, this.xMax = i, this.yMax = a, this.compound = !1;\n    }\n    return t.prototype.encode = function () {\n      return this.raw.data;\n    }, t;\n  }(),\n  we = function () {\n    function t(t, e, r, n, i) {\n      var a, o;\n      for (this.raw = t, this.xMin = e, this.yMin = r, this.xMax = n, this.yMax = i, this.compound = !0, this.glyphIDs = [], this.glyphOffsets = [], a = this.raw; o = a.readShort(), this.glyphOffsets.push(a.pos), this.glyphIDs.push(a.readUInt16()), 32 & o;) a.pos += 1 & o ? 4 : 2, 128 & o ? a.pos += 8 : 64 & o ? a.pos += 4 : 8 & o && (a.pos += 2);\n    }\n    return 1, 8, 32, 64, 128, t.prototype.encode = function () {\n      var t, e, r;\n      for (e = new ne(ve.call(this.raw.data)), t = 0, r = this.glyphIDs.length; t < r; ++t) e.pos = this.glyphOffsets[t];\n      return e.data;\n    }, t;\n  }(),\n  Ne = function (t) {\n    function e() {\n      return e.__super__.constructor.apply(this, arguments);\n    }\n    return oe(e, re), e.prototype.tag = \"loca\", e.prototype.parse = function (t) {\n      var e, r;\n      return t.pos = this.offset, e = this.file.head.indexToLocFormat, this.offsets = 0 === e ? function () {\n        var e, n;\n        for (n = [], r = 0, e = this.length; r < e; r += 2) n.push(2 * t.readUInt16());\n        return n;\n      }.call(this) : function () {\n        var e, n;\n        for (n = [], r = 0, e = this.length; r < e; r += 4) n.push(t.readUInt32());\n        return n;\n      }.call(this);\n    }, e.prototype.indexOf = function (t) {\n      return this.offsets[t];\n    }, e.prototype.lengthOf = function (t) {\n      return this.offsets[t + 1] - this.offsets[t];\n    }, e.prototype.encode = function (t, e) {\n      for (var r = new Uint32Array(this.offsets.length), n = 0, i = 0, a = 0; a < r.length; ++a) if (r[a] = n, i < e.length && e[i] == a) {\n        ++i, r[a] = n;\n        var o = this.offsets[a],\n          s = this.offsets[a + 1] - o;\n        s > 0 && (n += s);\n      }\n      for (var c = new Array(4 * r.length), u = 0; u < r.length; ++u) c[4 * u + 3] = 255 & r[u], c[4 * u + 2] = (65280 & r[u]) >> 8, c[4 * u + 1] = (16711680 & r[u]) >> 16, c[4 * u] = (4278190080 & r[u]) >> 24;\n      return c;\n    }, e;\n  }(),\n  Le = function () {\n    function t(t) {\n      this.font = t, this.subset = {}, this.unicodes = {}, this.next = 33;\n    }\n    return t.prototype.generateCmap = function () {\n      var t, e, r, n, i;\n      for (e in n = this.font.cmap.tables[0].codeMap, t = {}, i = this.subset) r = i[e], t[e] = n[r];\n      return t;\n    }, t.prototype.glyphsFor = function (t) {\n      var e, r, n, i, a, o, s;\n      for (n = {}, a = 0, o = t.length; a < o; a++) n[i = t[a]] = this.font.glyf.glyphFor(i);\n      for (i in e = [], n) (null != (r = n[i]) ? r.compound : void 0) && e.push.apply(e, r.glyphIDs);\n      if (e.length > 0) for (i in s = this.glyphsFor(e)) r = s[i], n[i] = r;\n      return n;\n    }, t.prototype.encode = function (t, e) {\n      var r, n, i, a, o, s, c, u, h, l, f, d, p, g, m;\n      for (n in r = ue.encode(this.generateCmap(), \"unicode\"), a = this.glyphsFor(t), f = {\n        0: 0\n      }, m = r.charMap) f[(s = m[n]).old] = s.new;\n      for (d in l = r.maxGlyphID, a) d in f || (f[d] = l++);\n      return u = function (t) {\n        var e, r;\n        for (e in r = {}, t) r[t[e]] = e;\n        return r;\n      }(f), h = Object.keys(u).sort(function (t, e) {\n        return t - e;\n      }), p = function () {\n        var t, e, r;\n        for (r = [], t = 0, e = h.length; t < e; t++) o = h[t], r.push(u[o]);\n        return r;\n      }(), i = this.font.glyf.encode(a, p, f), c = this.font.loca.encode(i.offsets, p), g = {\n        cmap: this.font.cmap.raw(),\n        glyf: i.table,\n        loca: c,\n        hmtx: this.font.hmtx.raw(),\n        hhea: this.font.hhea.raw(),\n        maxp: this.font.maxp.raw(),\n        post: this.font.post.raw(),\n        name: this.font.name.raw(),\n        head: this.font.head.encode(e)\n      }, this.font.os2.exists && (g[\"OS/2\"] = this.font.os2.raw()), this.font.directory.encode(g);\n    }, t;\n  }();\nE.API.PDFObject = function () {\n  var t;\n  function e() {}\n  return t = function (t, e) {\n    return (Array(e + 1).join(\"0\") + t).slice(-e);\n  }, e.convert = function (r) {\n    var n, i, a, o;\n    if (Array.isArray(r)) return \"[\" + function () {\n      var t, i, a;\n      for (a = [], t = 0, i = r.length; t < i; t++) n = r[t], a.push(e.convert(n));\n      return a;\n    }().join(\" \") + \"]\";\n    if (\"string\" == typeof r) return \"/\" + r;\n    if (null != r ? r.isString : void 0) return \"(\" + r + \")\";\n    if (r instanceof Date) return \"(D:\" + t(r.getUTCFullYear(), 4) + t(r.getUTCMonth(), 2) + t(r.getUTCDate(), 2) + t(r.getUTCHours(), 2) + t(r.getUTCMinutes(), 2) + t(r.getUTCSeconds(), 2) + \"Z)\";\n    if (\"[object Object]\" === {}.toString.call(r)) {\n      for (i in a = [\"<<\"], r) o = r[i], a.push(\"/\" + i + \" \" + e.convert(o));\n      return a.push(\">>\"), a.join(\"\\n\");\n    }\n    return \"\" + r;\n  }, e;\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaHRtbDJwZGYuanMvbm9kZV9tb2R1bGVzL2pzcGRmL2Rpc3QvanNwZGYuZXMubWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQU1BO0FDTEE7QUFDQTtBQXdCQTtBQUFBO0FBQ0E7QUFDQTtBQXBCQTtBQXFCQTtBQUFBO0FBWEE7QUFJQTtBQUFBO0FDV0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFxQkE7QUFBQTtBQUFBO0FDbEZBO0FEa0ZBO0FBV0E7QUFDQTtBQUNBO0FBc0JBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFRQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBbkhBO0FBVEE7QUFBQTtBQUdBO0FBQUE7QUFXQTtBQUVBO0FBQUE7QUFvSEE7QUFTQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7Ozs7OztBRXBMQTtBQUFBO0FBYUE7QUFaQTtBQWlLQTtBQWhKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFzQ0E7QUEvQkE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTs7Ozs7Ozs7OztBQ2hPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUEwRUE7QUFBQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQWtCQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBT0E7QUYxSkE7QUFBQTtBRTZKQTtBQUVBO0FBR0E7QUFFQTtBQUFBO0FBU0E7QUFDQTtBQWNBO0FBQUE7QUFDQTtBQVFBO0FBQUE7QUE3QkE7QUFDQTtBQXlCQTtBQUtBO0FBQ0E7QUFLQTtBQUVBO0FBT0E7QUFBQTtBQUFBOzs7Ozs7Ozs7QUNyTUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBOzs7Ozs7Ozs7OztBQ3hDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWdCQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUdBO0FBQ0E7QUFFQTtBQVFBO0FDMURBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUF5QkE7QUFHQTtBQUFBO0FDM0JBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFVQTtBQUlBO0FBR0E7QUFBQTtBQUlBO0FBU0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFZQTtBQUNBO0FBU0E7QUF5QkE7QUFBQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBS0E7QUFPQTtBQUFBO0FBQ0E7QUFJQTtBQVFBO0FBc0NBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQTRCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUlBO0FBaUJBO0FBR0E7QUFDQTtBQUVBO0FBVUE7QUFJQTtBQW1CQTtBQTZCQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBc0JBO0FBTUE7QUFDQTtBQWtCQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFPQTtBQUlBO0FBQ0E7QUFHQTtBQUFBO0FBTUE7QUFDQTtBQUdBO0FBQUE7QUFJQTtBQUdBO0FBT0E7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUFBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBT0E7QUFBQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQUE7QUFXQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFvQkE7QUFiQTtBQUVBO0FBc0JBO0FBQUE7QUFFQTtBQVdBO0FBQ0E7QUFLQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBREE7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBREE7QUFJQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQUE7QUFLQTtBQUdBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFXQTtBQUVBO0FBV0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFLQTtBQUFBO0FBR0E7QUFDQTtBQUdBO0FBSUE7QUFLQTtBQUNBO0FBR0E7QUFBQTtBQWlCQTtBQUNBO0FBQUE7QUFHQTtBQVlBO0FBTUE7QUFBQTtBQVlBO0FBQUE7QUFDQTtBQUdBO0FBSUE7QUFZQTtBQUVBO0FBQUE7QUFhQTtBQUFBO0FBS0E7QUFBQTtBQUNBO0FBU0E7QUFJQTtBQUNBO0FBRkE7QUFZQTtBQUFBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFVQTtBQU9BO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFJQTtBQVdBO0FBT0E7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQW9DQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUlBO0FBQUE7QUFpQkE7QUFLQTtBQUFBO0FBSUE7QUFHQTtBQUFBO0FBR0E7QUFTQTtBQVNBO0FBQ0E7QUFDQTtBQXBCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFzQkE7QUFDQTtBQUlBO0FBT0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFTQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFTQTtBQUNBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUE4QkE7QUFBQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBR0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFGQTtBQVVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBWUE7QUFDQTtBQVNBO0FBQUE7QUFDQTtBQU9BO0FBRUE7QUFFQTtBQUVBO0FBd0JBO0FBQUE7QUFBQTtBQStCQTtBQUFBO0FBV0E7QUFPQTtBQWVBO0FBVUE7QUFHQTtBQUNBO0FBRUE7QUFJQTtBQUFBO0FBS0E7QUFGQTtBQUVBO0FBQUE7QUFHQTtBQU1BO0FBQUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFNQTtBQVNBO0FBQUE7QUFBQTtBQVhBO0FBQ0E7QUFBQTtBQWFBO0FBS0E7QUFHQTtBQUFBO0FBR0E7QUFFQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBYUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFTQTtBQUlBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFTQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBS0E7QUFJQTtBQUFBO0FBSUE7QUFNQTtBQUZBO0FBQUE7QUFBQTtBQXFCQTtBQVhBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQVFBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFLQTtBQU9BO0FBT0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBNEVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQWNBO0FBTEE7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBZUE7QUFJQTtBQUNBO0FBTUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUdBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFPQTtBQU1BO0FBNkJBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBTUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7QUFnQkE7QUFDQTtBQUdBO0FBQ0E7QUFZQTtBQUFBO0FBR0E7QUFVQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBWUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBWUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBU0E7QUFHQTtBQWFBO0FBRUE7QUFRQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVVBO0FBTkE7QUFDQTtBQUdBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFNQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBcUJBO0FBbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBT0E7QUFHQTtBQWlEQTtBQXVCQTtBQTJCQTtBQWVBO0FBQUE7QUFNQTtBQU9BO0FBS0E7QUFHQTtBQVVBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFpQkE7QUFNQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBZ0NBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFjQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBaUJBO0FBQUE7QUFDQTtBQUFBO0FBc0NBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFZQTtBQUtBO0FBQUE7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFZQTtBQUdBO0FBQ0E7QUFVQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFZQTtBQUFBO0FBQUE7QUFDQTtBQWFBO0FBU0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQTRCQTtBQUFBO0FBQUE7QUFjQTtBQU5BO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFNQTtBQUVBO0FBRUE7QUFFQTtBQUdBO0FBS0E7QUFXQTtBQUtBO0FBRUE7QUFBQTtBQUlBO0FBRUE7QUFFQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFJQTtBQUVBO0FBRUE7QUFRQTtBQUtBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFPQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBR0E7QUFHQTtBQUtBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQWdCQTtBQUVBO0FBQUE7QUFzQkE7QUFZQTtBQUdBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBR0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUFBO0FBWUE7QUFFQTtBQXVDQTtBQWNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFrQkE7QUFuQkE7QUFTQTtBQUlBO0FBQ0E7QUFFQTtBQW9DQTtBQVpBO0FBQ0E7QUFDQTtBQUFBO0FBY0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFHQTtBQUFBO0FBUUE7QUFnQkE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQVdBO0FBU0E7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBS0E7QUFTQTtBQUFBO0FBRUE7QUFlQTtBQVNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQTJDQTtBQTFCQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQWdCQTtBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUEyQkE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBR0E7QUFrQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUFBO0FBRUE7QUFEQTtBQVFBO0FBQUE7QUFFQTtBQUdBO0FBR0E7QUFTQTtBQUtBO0FBR0E7QUFTQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBSUE7QUFJQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQWNBO0FBQUE7QUFVQTtBQUFBO0FBR0E7QUFNQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFTQTtBQUdBO0FBSUE7QUFBQTtBQW1EQTtBQS9CQTtBQTRCQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQWtCQTtBQUtBO0FBR0E7QUFVQTtBQUFBO0FBNkJBO0FBUUE7QUFhQTtBQUFBO0FBQ0E7QUFZQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBa0JBO0FBQUE7QUFHQTtBQU1BO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUdBO0FBQUE7QUFXQTtBQUFBO0FBRUE7QUFXQTtBQUFBO0FBRUE7QUFhQTtBQUVBO0FBQUE7QUFlQTtBQUFBO0FBZUE7QUFhQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBT0E7QUFBQTtBQUVBO0FBWUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQWNBO0FBRUE7QUEyQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFjQTtBQUVBO0FBQUE7QUFjQTtBQUVBO0FBQUE7QUFtQkE7QUFZQTtBQWlCQTtBQUFBO0FBRUE7QUFRQTtBQUdBO0FBK0NBO0FBaUJBO0FBdUJBO0FBd0JBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFBQTtBQXlCQTtBQWtCQTtBQUFBO0FBbUNBO0FBdUJBO0FBQUE7QUFtQ0E7QUFXQTtBQXNCQTtBQXdCQTtBQUVBO0FBUUE7QUFDQTtBQVNBO0FBdUJBO0FBQ0E7QUFHQTtBQUFBO0FBdUJBO0FBRkE7QUFBQTtBQWNBO0FBQUE7QUFDQTtBQUFBO0FBY0E7QUFDQTtBQUVBO0FBRkE7QUFJQTtBQVVBO0FBaUJBO0FBT0E7QUFhQTtBQUFBO0FBR0E7QUFBQTtBQVVBO0FBQ0E7QUFhQTtBQUFBO0FBS0E7QUFpQkE7QUFBQTtBQU9BO0FBWUE7QUFOQTtBQUVBO0FBSUE7QUFLQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFhQTtBQU9BO0FBQUE7QUFZQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBR0E7QUFBQTtBQUdBO0FBR0E7QUFNQTtBQUlBO0FBR0E7QUFHQTtBQUFBO0FBR0E7QUFHQTtBQUFBO0FBV0E7QUFDQTtBQXlDQTtBQWlCQTtBQVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQVdBO0FBQ0E7QUF5Q0E7QUFpQkE7QUFWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFVQTtBQUNBO0FBQUE7QUF3Q0E7QUFnQkE7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQUE7QUFXQTtBQUNBO0FBYUE7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUdBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBZUE7QUFDQTtBQVVBO0FBQUE7QUFHQTtBQVlBO0FBQ0E7QUFDQTtBQVVBO0FBY0E7QUFJQTtBQUtBO0FBQUE7QUEyQkE7QUFPQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQUE7QUFHQTtBQUNBO0FBU0E7QUFBQTtBQWNBO0FBQUE7QUFBQTtBQUVBO0FBWUE7QUFRQTtBQUpBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFXQTtBQUdBO0FBT0E7QUFBQTtBQWNBO0FBQUE7QUFjQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFVQTtBQVJBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBYUE7QUFYQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBZUE7QUFBQTtBQUNBO0FBWUE7QUFBQTtBQUVBO0FBVUE7QUFHQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBNElBO0FBQUE7QUFBQTtBQXZHQTtBQVdBO0FBRUE7QUFBQTtBQWdCQTtBQUtBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBQUE7QUFNQTtBQVVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFVQTtBQUFBO0FBQUE7QUFTQTtBQUVBO0FBYUE7QUFXQTtBQUVBO0FBR0E7QUFJQTtBQUNBO0FBSUE7QUFBQTtBQUVBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUErRkE7QUF0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFZQTtBRjUxTEE7QUFDQTtBQUlBO0FBYUE7QUFHQTtBQUFBO0FBRUE7QUFZQTtBQUVBO0FBWUE7QUFLQTtBQUFBO0FBa0JBO0FBVUE7QUFDQTtBQUFBO0FBQUE7QUV2Q0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQTZ6TEE7QUFDQTtBQUFBO0FDajdMQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFNQTtBQUlBO0FBU0E7QUFKQTtBQU9BO0FBSUE7QUFTQTtBQUdBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFNQTtBQUlBO0FBS0E7QUFBQTtBQUdBO0FBSUE7QUFLQTtBQUFBO0FBR0E7QUFJQTtBQUtBO0FBR0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFJQTtBQUlBO0FBQ0E7QUFJQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFXQTtBQUdBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQVNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFWQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBT0E7QUFLQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQWVBO0FBZkE7QUFDQTtBQUdBO0FBUUE7QUFvQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpKQTtBQW9KQTtBQWFBO0FBSUE7QUFNQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFOQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBTEE7QUFPQTtBQWtLQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFRQTtBQUFBO0FBS0E7QUFHQTtBQVFBO0FBR0E7QUFRQTtBQTNLQTtBQTRLQTtBQUlBO0FBQUE7QUEzUEE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUtBO0FBQUE7QUFpUEE7QUFNQTtBQTVNQTtBQUdBO0FBME1BO0FBQUE7QUEzS0E7QUFDQTtBQWdCQTtBQUVBO0FBQ0E7QUFDQTtBQXVCQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFVQTtBQUFBO0FBY0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQWtFQTtBQUFBO0FBQUE7QUFLQTtBQUtBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFEQTtBQUdBO0FBQ0E7QUFZQTtBQVNBO0FBQ0E7QUFBQTtBQU9BO0FBREE7QUFZQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBU0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFRQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFpQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQWNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQVdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQVdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBb0JBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUlBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFRQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFJQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFlQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQTk3QkE7QUFDQTtBQVRBO0FBR0E7QUFHQTtBQUtBO0FBdThCQTtBQUFBO0FBQ0E7QUFBQTtBQVdBO0FBYUE7QUFFQTtBQUdBO0FBaUJBO0FBRUE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQWVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQW1CQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBQUE7QUFFQTtBQU9BO0FBQ0E7QUFJQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQWNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFHQTtBQUlBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFPQTtBQUNBO0FBR0E7QUFBQTtBQU9BO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFLQTtBQVNBO0FBR0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQU9BO0FBR0E7QUFHQTtBQUtBO0FBRUE7QUFDQTtBQVFBO0FBQUE7QUFFQTtBQVFBO0FBQUE7QUFRQTtBQUNBO0FBT0E7QUFFQTtBQU1BO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQWNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQWNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFNQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBV0E7QUFUQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFHQTtBQXNCQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFNQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBa0VBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBQ0E7QUF3RkE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUdBO0FBQ0E7QUF1QkE7QUFBQTtBQUFBO0FBSUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQU1BO0FBRUE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBS0E7QUFEQTtBQUFBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBeUJBO0FBdEJBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUFBO0FBR0E7QUFJQTtBQWNBO0FBQUE7QUFHQTtBQXBsRkE7QUEwbEZBO0FBR0E7QUFBQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FDemxHQTtBQUNBO0FBR0E7QUFBQTtBQ2lDQTtBQUFBO0FBSUE7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUlBO0FBK0JBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBTUE7QUFpQkE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQVNBO0FBS0E7QUFLQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBU0E7QUFLQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBU0E7QUFJQTtBQUFBO0FBTUE7QUFJQTtBQUVBO0FBeUNBO0FBeENBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFBQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUFBO0FBSUE7QUFhQTtBQVRBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQU9BO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQVdBO0FBQUE7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBZUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQVNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBU0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFrQkE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBT0E7QUFHQTtBQW1DQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7QUFFQTtBQUZBO0FBSUE7QUFhQTtBQWFBO0FBQUE7QUFHQTtBQUdBO0FBeUJBO0FBV0E7QUFBQTtBQUdBO0FBUUE7QUFJQTtBQUNBO0FBbUJBO0FBQUE7QUFFQTtBQWFBO0FBQUE7QUFDQTtBQVdBO0FBQUE7QUFJQTtBQVdBO0FBYUE7QUFLQTtBQUdBO0FBQUE7QUFhQTtBQU9BO0FBU0E7QUE4QkE7QUFBQTtBQUNBO0FBdUJBO0FBS0E7QUFFQTtBQVlBO0FBQUE7QUFLQTtBQUlBO0FBRUE7QUFVQTtBQUFBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFjQTtBQW1DQTtBQXhqQkE7QUFNQTtBQTdCQTtBQTBrQkE7QUFRQTtBQUFBO0FBU0E7QUFJQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFVQTtBQVNBO0FBQUE7QUFDQTtBQUVBO0FBREE7QUFvQkE7QUFnQkE7QUFNQTtBQUFBO0FBQUE7Ozs7Ozs7O0FDcDhCQTtBQUdBO0FBQ0E7QUFPQTtBQUFBO0FBR0E7QUFLQTtBQVdBO0FBR0E7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQVlBO0FBYUE7QUFjQTtBQWVBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBS0E7QUFBQTtBQUFBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQWlCQTtBQUVBO0FBRkE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFtQkE7QUFBQTtBQVdBO0FBR0E7QUFEQTtBQUFBOzs7Ozs7OztBQ2hZQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQVFBO0FBR0E7QUFHQTtBQUFBO0FBR0E7QUFJQTtBQUVBO0FBS0E7QUFJQTtBQUVBO0FBSUE7QUFHQTtBQUNBO0FBSUE7QUFFQTtBQU1BO0FBQUE7QUFJQTtBQUVBO0FBSUE7QUFFQTtBQU1BO0FBQUE7QUFJQTtBQUVBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBd0JBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFJQTtBQUtBO0FBQ0E7QUF1Q0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQWtCQTtBQUFBO0FBSUE7QUFGQTtBQUtBO0FBQ0E7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBT0E7QUFBQTtBQUlBO0FBUUE7QUFBQTtBQXhXQTtBQ2VBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7QUFBQTtBQUFBO0FBSUE7QUFBQTs7Ozs7Ozs7QUN2Q0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBS0E7QUFBQTtBQUtBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBS0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQVdBO0FBQUE7QUFFQTtBQUVBO0FBR0E7QUFNQTtBQVNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFBQTtBQ3ZHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFXQTtBQVRBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFPQTtBQUtBO0FBT0E7QUFhQTtBQUFBO0FBVUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBUUE7QUFDQTtBQUtBO0FBQUE7QUFRQTtBQUNBO0FBQUE7QUFpQkE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUNBO0FBSUE7QUFTQTtBQWVBO0FBQUE7QUFDQTtBQUdBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlFQTtBQTNCQTtBQUFBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUF3QkE7QUFFQTtBQU1BO0FBTUE7QUFFQTtBQTREQTtBQXBFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBS0E7QUFBQTtBQUlBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFBQTtBQVVBO0FBQUE7QUFJQTtBQTBCQTtBQWZBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQUE7QUFNQTtBQUlBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBT0E7QUFRQTtBQUtBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFBQTtBQU9BO0FBYUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFHQTtBQUlBO0FBQ0E7QUFBQTtBQVlBO0FBQ0E7QUFZQTtBQUVBO0FBSUE7QUFHQTtBQUNBO0FBSUE7QUFTQTtBQUFBO0FBR0E7QUFDQTtBQU1BO0FBQ0E7QUFHQTtBQUVBO0FBem5CQTtBQUFBO0FON0JBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQWNBO0FBRUE7QUFDQTtBQXNDQTtBQUNBO0FBRUE7QUE5QkE7QUE4QkE7QUFDQTtBQTNCQTtBQUlBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBU0E7QUF0Q0E7QUFzQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEwQ0E7QUFDQTtBQUVBO0FBTUE7QUErRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFhQTtBQVFBO0FBRUE7QUFPQTtBQUFBO0FBZ0JBO0FBNUlBO0FBSUE7QUFJQTtBQUNBO0FBRUE7QUFRQTtBQUFBO0FBSUE7QUFNQTtBQVFBO0FBb0dBO0FBaEdBO0FBSUE7QUFJQTtBQUlBO0FBS0E7QUFFQTtBQVFBO0FBc0VBO0FBU0E7QUFBQTtBQVlBO0FBQ0E7QUFHQTtBQUFBO0FBR0E7QUFHQTtBQUlBO0FBQUE7QUFJQTtBQUFBO0FBR0E7QUFTQTtBQUdBO0FBSUE7QUFHQTtBT3JUQTtBQUFBO0FQcVRBO0FBQUE7QVE3VEE7QUFxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVDQTtBQWdDQTtBQUFBO0FBYUE7QUFHQTtBQVVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFZQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUlBO0FBd0JBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBV0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFhQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBY0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBT0E7QUFBQTtBQWlCQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQWFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBU0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFZQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBb0RBO0FBakRBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBeERBO0FBRUE7QVJ2V0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUdBO0FBQUE7QVF3VkE7QUFHQTtBQTJEQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFZQTtBUnJPQTtBQUNBO0FBREE7QUFFQTtBQUVBO0FBSUE7QUFJQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQVNBO0FBSUE7QUFBQTtBQUdBO0FBQUE7QVEyTEE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFiQTtBQWlCQTtBQUFBO0FBa0NBO0FBZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQVVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQVVBO0FBS0E7QUFLQTtBQUFBO0FBV0E7QUFVQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBY0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQVdBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBYUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQVdBO0FBQ0E7QUFlQTtBQVVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWtCQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWtCQTtBQVNBO0FBV0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBQUE7QUFDQTtBQUFBO0FBZUE7QUFJQTtBQU1BO0FBZUE7QUFJQTtBQUdBO0FBQ0E7QUFpQkE7QUFBQTtBQWdCQTtBQUlBO0FBdUJBO0FBQ0E7QUFJQTtBQUtBO0FBVUE7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVdBO0FBRUE7QUFJQTtBQVdBO0FBU0E7QUFBQTtBQWFBO0FBQ0E7QUFVQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBTUE7QUFDQTtBQWVBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFrQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUNBO0FBQUE7QUFVQTtBQUNBO0FBQUE7QUFjQTtBQUNBO0FBS0E7QUFJQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWdCQTtBQUlBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFBQTtBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFNQTtBQUpBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBWkE7QUFBQTtBQTJCQTtBQUlBO0FBQ0E7QUFZQTtBQUNBO0FBSUE7QUFRQTtBQVlBO0FBQ0E7QUFJQTtBQUNBO0FBZ0JBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFpQkE7QUFNQTtBQXlDQTtBQUVBO0FBcUJBO0FBQUE7QUFXQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUF5Q0E7QUFTQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFDQTtBQU1BO0FBRUE7QUF5QkE7QUFrQkE7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFRQTtBQVNBO0FBQ0E7QUFDQTtBQVVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUtBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBY0E7QUFZQTtBQU9BO0FBSUE7QUFRQTtBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBT0E7QUFRQTtBQUNBO0FBQ0E7QUFlQTtBQUdBO0FBR0E7QUFJQTtBQUFBO0FBWUE7QUFDQTtBQWFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUVBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFhQTtBQUlBO0FBS0E7QUFFQTtBQWtCQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUlBO0FBR0E7QUFBQTtBQUNBO0FBZ0JBO0FBWkE7QUFHQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBY0E7QUFjQTtBQUNBO0FBQ0E7QUFnQkE7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFVQTtBQVNBO0FBSUE7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFNQTtBQU9BO0FBR0E7QUFHQTtBQUtBO0FBT0E7QUFRQTtBQUdBO0FBbUJBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQWNBO0FBTUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFLQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBU0E7QUFVQTtBQUtBO0FBR0E7QUFDQTtBQWFBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFBQTtBQVVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMEJBO0FBa0NBO0FBZUE7QUFBQTtBQUVBO0FBU0E7QUFsQkE7QUFrQkE7QUFoQkE7QUFDQTtBQW1CQTtBQUFBO0FBMWxGQTtBQUFBO0FBQUE7Ozs7Ozs7OztBQ2RBO0FBR0E7QUFDQTtBQUdBO0FBMEJBO0FBRUE7QUFEQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUFFQTtBQUFBO0FBRUE7QUFlQTtBQUNBO0FBUUE7QUFJQTtBQUdBO0FBQUE7QUFlQTtBQUdBO0FBT0E7QUFGQTtBQUNBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBaEZBO0FBQUE7QUFrRkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQXJMQTtBQUFBO0FBQUE7Ozs7Ozs7OztBQ0dBO0FBV0E7QUFDQTtBQWNBO0FBRUE7QUFxQ0E7QUFDQTtBQW5DQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBa0JBO0FBQUE7QUFUQTtBQU9BO0FBT0E7QUFBQTtBQUdBO0FBQUE7QUF6REE7QUFaQTtBQ09BO0FBQ0E7QUFTQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQVNBO0FBRUE7QUFDQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFnQkE7QUFBQTtBQUNBO0FBS0E7QUFHQTtBQUFBO0FBb0RBO0FBRUE7QUFJQTtBQUtBO0FBSUE7QUFBQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFrQkE7QUFFQTtBQVpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQVlBO0FBUEE7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBN0xBO0FBZ0NBO0FBUkE7QUFHQTtBQUtBO0FBa0tBO0FBWUE7QUFDQTtBQS9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTJDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQWlCQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBTUE7QUFJQTtBQUdBO0FBQUE7QUFJQTtBQVFBO0FBQUE7QUFFQTtBQUVBO0FBT0E7QUFBQTtBQUtBO0FBQ0E7QUFFQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQWdCQTtBQUFBO0FBR0E7QUFPQTtBQUFBO0FBYUE7QUFMQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFjQTtBQU5BO0FBTUE7QUFFQTtBQU1BO0FBQUE7QUFHQTtBQU9BO0FBU0E7QUFMQTtBQUFBO0FBV0E7QUFBQTtBQUFBO0FBYUE7QUFMQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBY0E7QUFMQTtBQUFBO0FBTUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQWFBO0FBTEE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQVVBO0FBS0E7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQUE7QUFBQTtBQUtBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFBQTtBQVNBO0FBR0E7QUFPQTtBQVVBO0FBRUE7QUFFQTtBQU1BO0FBR0E7QUFFQTtBQUdBO0FBS0E7QUFBQTtBQUFBO0FBTUE7QUFJQTtBQVFBO0FBUUE7QUFDQTtBQUFBO0FBUUE7QUFHQTtBQUVBO0FBSUE7QUFGQTtBQUFBO0FBS0E7QUFFQTtBQUdBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQWNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFLQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBT0E7QUFDQTtBQUlBO0FBY0E7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQTZFQTtBQVVBO0FBRUE7QUFFQTtBQUFBO0FKaDlCQTtBQWxCQTtBQWFBO0FBQUE7QUFLQTtBQUFBOzs7Ozs7OztBSy9DQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBZ0JBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFNQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBYUE7QUFBQTtBQUdBO0FBT0E7QUFXQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUdBO0FBU0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBWUE7QUFBQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBa0JBO0FBRUE7QUFBQTtBQVFBO0FBSUE7QUFDQTtBQW9CQTtBQUFBO0FBRUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUlBO0FBR0E7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUlBO0FBQUE7QUFJQTtBQUlBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7O0FDN1BBO0FBYUE7QUE2QkE7QUFRQTtBQUFBO0FBR0E7QUFHQTtBQWNBO0FBL0NBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFJQTtBQUFBO0FBaUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBN0ZBO0FBQUE7QUNZQTtBQ21CQTtBQXlFQTtBQTRCQTtBQW1DQTtBRDNKQTtBQUNBO0FBbUJBO0FBQ0E7QUF1QkE7QUFZQTtBQVRBO0FBRUE7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQU9BO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQU9BO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBMkJBO0FBdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFNQTtBQUFBO0FBU0E7QUFEQTtBQVFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQWtDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQStCQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBT0E7QUFNQTtBQUdBO0FBQ0E7QUFnQkE7QUFzQkE7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBOEdBO0FBdkdBO0FBREE7QUFVQTtBQUFBO0FBSUE7QUFDQTtBQUtBO0FBUUE7QUFBQTtBQUFBO0FBSUE7QUFtQkE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQU1BO0FBQ0E7QUFLQTtBQUNBO0FBUUE7QUFNQTtBQW5qQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBRXdZQTtBQUNBO0FBSUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBNkJBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBSUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBVUE7QUFDQTtBQWVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQVVBO0FBQ0E7QUFlQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBeUJBO0FBRUE7QUFnQkE7QUFFQTtBQU9BO0FBWUE7QUE0QkE7QUFLQTtBQUdBO0FBTUE7QUFHQTtBQU9BO0FBTUE7QUFhQTtBQXpFQTtBQWdGQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6MUJBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFlQTtBQXZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFtRUE7QUFtQkE7QUFDQTtBQW1CQTtBQXFLQTtBQW1CQTtBQUNBO0FBbUJBO0FBeVVBO0FBSUE7QUFDQTtBQU9BO0FBQUE7QUFFQTtBQUFBO0FBMkRBO0FBR0E7QUFjQTtBQUtBO0FBRUE7QUFHQTtBQUFBO0FBQ0E7QUEwT0E7QUFBQTtBQVNBO0FBN09BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQWtIQTtBQW5IQTtBQUlBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQVVBO0FBQUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQU9BO0FBOEdBO0FBS0E7QUFDQTtBQVdBO0FBSUE7QUFNQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFRQTtBQUFBO0FBOEhBO0FBQUE7QUFBQTtBQW5tQkE7QUFDQTtBQUNBO0FBQ0E7QUFvRUE7QUFDQTtBQUNBO0FBY0E7QUFBQTtBQUlBO0FBaWhCQTtBQTVIQTtBQUlBO0FBcklBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUExQkE7QUFrS0E7QUFuSUE7QUFJQTtBQUdBO0FBSUE7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUF3R0E7QUFDQTtBQUNBO0FBRUE7QUFlQTtBQUVBO0FBS0E7QUE4Q0E7QUFHQTtBQUVBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQUE7QUF0SEE7QUFFQTtBQXJXQTtBQUVBO0FBT0E7QUFNQTtBQUNBO0FBQUE7QUFLQTtBQTBkQTtBQUVBOzs7Ozs7O0FDOXNDQTtBQUFBO0FBU0E7QUFFQTtBQUNBO0FDckJBO0FBc0NBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFjQTtBQVFBO0FBRUE7QUFSQTtBQUdBO0FBS0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBZ0ZBO0FBQUE7QUFFQTtBQUVBO0FBaEZBO0FBR0E7QUFIQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBSUE7QUFDQTtBQUtBO0FBR0E7QUFJQTtBQUNBO0FBRUE7QUFHQTtBQVFBO0FBS0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQU1BO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBWUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFVQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFJQTtBQUtBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBWUE7QUFFQTtBQUNBO0FBZUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFvQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBS0E7QUFJQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFVQTtBQUtBO0FBRUE7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQUdBO0FBRUE7QUFLQTtBQUNBO0FBUEE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBS0E7QUFFQTtBQUFBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUtBO0FBQUE7QUFTQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUFBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBZ0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFNQTtBQUlBO0FBVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFJQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBeUJBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUF6NUNBO0FBRUE7QUFSQTtBQU9BO0FBdzVDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQThDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFhQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRCQTtBQUVBO0FBRUE7QUFLQTtBQUFBO0FBS0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBRUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFHQTtBQUNBO0FBS0E7QUFJQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBb1FBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUEwQ0E7QUFBQTtBQUdBO0FBWUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQTJDQTtBQUVBO0FBQUE7QUEzYkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBRUE7QUFBQTtBQU9BO0FBRUE7QUFBQTtBQUNBO0FBTUE7QUFPQTtBQUVBO0FBVUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFNQTtBQUFBO0FBSUE7QUFFQTtBQU9BO0FBR0E7QUFBQTtBQUVBO0FBRUE7QUFLQTtBQUtBO0FBQUE7QUFRQTtBQW9CQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUFBO0FBc0JBO0FBT0E7QUFDQTtBQUFBO0FBRUE7QUFrQkE7QUFBQTtBQUlBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFnTUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBV0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQVlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQU9BO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBV0E7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBY0E7QUFFQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUdBO0FBRkE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFZQTtBQVVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBSUE7QUFRQTtBQVVBO0FBRUE7QUFNQTtBQUVBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBS0E7QUFLQTtBQWtCQTtBQUNBO0FBbEJBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQUE7QUFIQTtBQU1BO0FBRUE7QUFBQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBRkE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUVBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFZQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBMkJBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBSUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFLQTtBQUVBO0FBS0E7QUFBQTtBQUFBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFJQTtBQUtBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFPQTtBQUVBO0FBQUE7QUFHQTtBQWtCQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUtBO0FBRUE7QUFBQTtBQU1BO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFpQkE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBZUE7QUFBQTtBQUdBO0FBQ0E7QUFLQTtBQUVBO0FBQUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFpQkE7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUE0QkE7QUFBQTtBQUNBO0FBT0E7QUFJQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUdBO0FBSUE7QUFBQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBa1FBO0FBRUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBUUE7QUFDQTtBQUdBO0FBUUE7QUFDQTtBQUVBO0FBUUE7QUFBQTtBQUNBO0FBYUE7QUFDQTtBQUtBO0FBQUE7QUFHQTtBQUdBO0FBS0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQSszQkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUF6NUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEwSEE7QUFjQTtBQUNBO0FBa0lBO0FBa0lBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUEwS0E7QUEwSEE7QUEwS0E7QUFFQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFJQTtBQVlBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBNW1IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUdBO0FBd2xIQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFLQTtBQUdBO0FBQ0E7QUFLQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBdUJBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFPQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBS0E7QUE5Q0E7QUFnSkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBMUNBO0FBQ0E7QUFFQTtBQUFBO0FBNENBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFRQTtBQWFBO0FBSUE7QUFoSEE7QUFBQTtBQWtIQTtBQUFBO0FBQUE7QUFVQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFBQTtBQU9BO0FBQ0E7QUFPQTtBQUlBO0FBT0E7QUNqeUtBO0FBQUE7QUF5Q0E7QUFLQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQWFBO0FBSUE7QUFNQTtBQUlBO0FBRUE7QUFHQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBR0E7QUFLQTtBQUdBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFLQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBS0E7QUFHQTtBQUFBO0FBQ0E7QUFHQTtBQUhBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFHQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBTUE7QUFFQTtBQVFBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUE4QkE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQUdBO0FBaUJBO0FBY0E7QUFJQTtBQU9BO0FBR0E7QUFBQTtBQUtBO0FBSUE7QUFLQTtBQU9BO0FBQUE7QUFBQTtBQUVBO0FBVUE7QUFjQTtBQUFBO0FBR0E7QUFXQTtBQU9BO0FBS0E7QUFDQTtBQUlBO0FBVUE7QUFhQTtBQUlBO0FBS0E7QUFBQTtBQUFBO0FBNUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQTBLQTtBQTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUNsZEE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUdBO0FIaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBR0E7QUFPQTtBQUNBO0FBQUE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBRUE7QUFJQTtBQUdBO0FBTUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFRQTtBQUFBO0FBTUE7QUFBQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFRQTtBQUFBOzs7Ozs7OztBSWxRQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FIcXlLQTtBQUFBOzs7Ozs7OztBSXR6S0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQ21CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQzJLQTtBQXROQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBWUE7QUFJQTtBQUdBO0FWdk1BO0FBaUJBO0FBakJBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUE2QkE7QUFBQTtBQXNCQTtBQUNBO0FBQ0E7QUFpQkE7QUFIQTtBQUFBO0FBQ0E7QUFlQTtBQUtBO0FBR0E7QUFFQTtBQWFBO0FBQUE7QUFTQTtBQUlBO0FBTUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQWtGQTtBQTlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBR0E7QUFJQTtBQUFBO0FBQ0E7QUFhQTtBQUpBO0FBQUE7QUFPQTtBQWNBO0FBR0E7QUFHQTtBQUFBO0FBQ0E7QUFPQTtBQUlBO0FBa0JBO0FBQUE7QUFSQTtBQUFBO0FBSUE7QUFBQTtBQUlBO0FBeUJBO0FBQUE7QUFDQTtBQU1BO0FBcUJBO0FBQ0E7QUFBQTtBQXJCQTtBQU1BO0FBRUE7QUFiQTtBQWNBO0FBQUE7QUFaQTtBQWdCQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBS0E7QUFRQTtBQVNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FXdlZBO0FBT0E7QUFLQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFHQTtBQVlBO0FBYUE7QUFDQTtBQUFBO0FBT0E7QUFBQTtBQUdBO0FBV0E7QUFBQTtBQUNBO0FBZ0JBO0FBcURBO0FBQUE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFTQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQWdCQTtBQUdBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUE3UEE7QUFBQTs7Ozs7O0FDbENBO0FBR0E7QUFHQTtBQUdBO0FBbUJBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBTUE7QUEvQkE7QUFHQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBMkJBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3QkE7QUFHQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBa0ZBO0FBQUE7QUFBQTtBQWpEQTtBQUtBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBT0E7QUFBQTtBQUFBO0FDbkZBO0FBQ0E7QUFDQTtBQWNBO0FBU0E7QUFBQTtBQzBDQTtBQUhBO0FBSUE7QUF3SkE7QUFDQTtBQXpKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQVlBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFJQTtBQU9BO0FBZ0JBO0FBS0E7QUFFQTtBQVFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUE0QkE7QUFyQkE7QUFBQTtBQUVBO0FBU0E7QUFNQTtBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xWQTtBQUdBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFPQTtBQWdCQTtBQUFBO0FBQ0E7QUFJQTtBQWNBO0FBVUE7QUFQQTtBQUNBO0FBRUE7QUFyRUE7QUFBQTtBQ3ZCQTtBQU9BO0FBSUE7QUFRQTtBQUlBO0FBQ0E7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQVFBO0FBSkE7QUFJQTtBQWlDQTtBQURBO0FBK0VBO0FBM0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQWNBO0FBQ0E7QUE0QkE7QUFBQTtBQU9BO0FBcUVBO0FBakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQWNBO0FBS0E7QUFzQkE7QUFBQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQWdDQTtBQWNBO0FBUkE7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBaURBO0FBNUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFXQTtBQUFBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBOzs7Ozs7OztBQy9WQTtBQUdBO0FBSUE7QUFBQTtBQWFBO0FBRUE7QUFjQTtBQUdBO0FBQUE7QUFnQkE7QUFHQTtBQUFBOzs7Ozs7QUNsRUE7QUFvakVBO0FBQ0E7QUFzRkE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0ZBO0FBRUE7QUFTQTtBQU9BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFnREE7QUFJQTtBQVdBO0FBRUE7QUFFQTtBQWlCQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQVVBO0FBRUE7QUFFQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFJQTtBQUlBO0FBRUE7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFJQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQWtCQTtBQUNBO0FBTUE7QUFKQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUdBO0FBWUE7QUFFQTtBQUdBO0FBRUE7QUFJQTtBQU1BO0FBR0E7QUFHQTtBQUFBO0FBS0E7QUFBQTtBQXZGQTtBQUVBO0FBQ0E7QUFxRkE7QUFBQTtBQUFBO0FBTUE7QUFPQTtBQUdBO0FBWUE7QUFDQTtBQUVBO0FBR0E7QUFVQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFtQkE7QUFDQTtBQUNBO0FBQUE7QUFTQTtBQUFBO0FBdkJBO0FBS0E7QUFrQkE7QUFxR0E7QUFuRkE7QUFwV0E7QUFLQTtBQUlBO0FBK1ZBO0FBYUE7QUFvQkE7QUFDQTtBQWlCQTtBQUFBO0FBckRBO0FBd0RBO0FBY0E7QUFDQTtBQUtBO0FBS0E7QUFHQTtBQUVBO0FBQUE7QUFBQTtBQW9DQTtBQWpDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUVBO0FBV0E7QUFBQTtBQUlBO0FBQUE7QUFybkZBO0FBQUE7QUFBQTtBQ2tCQTtBQUNBO0FBSUE7QUFHQTtBQXFJQTtBQUFBO0FBcEpBO0FBeUJBO0FBa0JBO0FBV0E7QUFDQTtBQW9EQTtBQWpEQTtBQUdBO0FBSUE7QUFDQTtBQTBDQTtBQUlBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFXQTtBQURBO0FBSUE7QUFLQTtBQUFBO0FBRUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQWdMQTtBQUFBO0FBM0tBO0FBQUE7QUFHQTtBQUVBO0FBTUE7QUFEQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFPQTtBQUFBO0FBTUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBTUE7QUFJQTtBQUFBO0FBR0E7QUFHQTtBQU1BO0FBRUE7QUFDQTtBQUVBO0FBT0E7QUFBQTtBQU9BO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFTQTtBQXlCQTtBQUNBO0FBVUE7QUFBQTtBQUdBO0FBQUE7QUFHQTtBQUtBO0FBQ0E7QUFHQTtBQU1BO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQU1BO0FBQ0E7QUFPQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQTZFQTtBQXJFQTtBQTZCQTtBQXFCQTtBQU1BO0FBQ0E7QUFFQTtBQUtBO0FBR0E7QUFBQTtBQXJHQTtBQTJHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFLQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFBQTtBQU5BO0FBQ0E7QUFmQTtBQXVCQTtBQUdBO0FBQ0E7QUFBQTtBQTZDQTtBQXhCQTtBQUFBO0FBR0E7QUFtQkE7QUFBQTtBQS9DQTtBQXdEQTtBQUNBO0FBQ0E7QUE4QkE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQWtFQTtBQTdEQTtBQUdBO0FBTUE7QUFWQTtBQWNBO0FBR0E7QUFNQTtBQVZBO0FBYUE7QUFHQTtBQU1BO0FBQUE7QUFHQTtBQUdBO0FBTUE7QUFWQTtBQWNBO0FBR0E7QUFNQTtBQUFBO0FBdUJBO0FBQUE7QUFBQTtBQWdNQTtBQTdMQTtBQWtEQTtBQUZBO0FBRUE7QUFDQTtBQWFBO0FBVkE7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUFBO0FBU0E7QUFDQTtBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBT0E7QUFPQTtBQUNBO0FBRUE7QUF1QkE7QUFHQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBeUJBO0FBQUE7QUFLQTtBQUlBO0FBSUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBelRBO0FBZ1VBO0FBR0E7QUFDQTtBQXlDQTtBQUFBO0FBckNBO0FBT0E7QUFZQTtBQUFBO0FBT0E7QUFTQTtBQUFBO0FBM0NBO0FBZ0RBO0FBR0E7QUFDQTtBQXlDQTtBQUFBO0FBdkJBO0FBdUJBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQW1FQTtBQTFCQTtBQW5CQTtBQUVBO0FBR0E7QUFOQTtBQVNBO0FBRUE7QUFHQTtBQUFBO0FBYUE7QUFFQTtBQUdBO0FBQUE7QUFjQTtBQUFBO0FBR0E7QUFJQTtBQUNBO0FBQUE7QUF1SEE7QUFuSEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFRQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBMURBO0FBbUlBO0FBRUE7QUFTQTtBQUFBO0FBSUE7QUFDQTtBQTRIQTtBQUFBO0FBeEhBO0FBaUJBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQVVBO0FBT0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQWNBO0FBQUE7QUEvRUE7QUFvSUE7QUFHQTtBQUNBO0FBeUNBO0FBQUE7QUF0QkE7QUFBQTtBQXZCQTtBQWdEQTtBQUdBO0FBQ0E7QUEyRUE7QUFBQTtBQXZFQTtBQUdBO0FBTUE7QUFDQTtBQUFBO0FBNkJBO0FBeEJBO0FBR0E7QUFNQTtBQVZBO0FBYUE7QUFHQTtBQUlBO0FBQUE7QUFXQTtBQUFBO0FBT0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQWpFQTtBQWtGQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBa0VBO0FBOURBO0FBRUE7QUFDQTtBQVVBO0FBNkJBO0FBR0E7QUFHQTtBQVNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFuRUE7QUF5RUE7QUFLQTtBQUNBO0FBTUE7QUFLQTtBQUZBO0FBRUE7QUFBQTtBQUdBO0FBa0JBO0FBQ0E7QUFVQTtBQWlCQTtBQWlCQTtBQVJBO0FBR0E7QUFHQTtBQUVBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQTBEQTtBQXREQTtBQUdBO0FBRUE7QUFFQTtBQUdBO0FBQUE7QUFJQTtBQUVBO0FBR0E7QUFBQTtBQUNBO0FBSUE7QUFBQTtBQUdBO0FBQUE7QUFNQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQU1BO0FBQUE7QUE1REE7QUE4SEE7QUFDQTtBQUNBO0FBR0E7QUFtSkE7QUF0SEE7QUFJQTtBQUlBO0FBQUE7QUFxQkE7QUFFQTtBQUtBO0FBTUE7QUFPQTtBQUFBO0FBT0E7QUFxQkE7QUFIQTtBQUFBO0FBUUE7QUFrQ0E7QUE5TUE7QUFFQTtBQUlBO0FBQUE7QUE2S0E7QUFBQTtBQUdBO0FBRUE7QUFJQTtBQVBBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBZ0RBO0FBOUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBUEE7QUFVQTtBQUVBO0FBRUE7QUFXQTtBQUVBO0FBS0E7QUFFQTtBQUFBO0FBQUE7QUFoREEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbGlicy9nbG9iYWxPYmplY3QuanM/ZGE4YSIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbGlicy9jb25zb2xlLmpzP2QxYWEiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL2xpYnMvRmlsZVNhdmVyLmpzPzBkZDAiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL2xpYnMvQXRvYkJ0b2EuanM/ZmU1YiIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbGlicy9yZ2Jjb2xvci5qcz80YmJjIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL21kNS5qcz80ODQwIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL3JjNC5qcz8wNjFmIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL3BkZnNlY3VyaXR5LmpzPzc2NzkiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL2xpYnMvcGRmbmFtZS5qcz83MmUyIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9qc3BkZi5qcz9kNWZiIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL2Fjcm9mb3JtLmpzP2QzNTIiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL2xpYnMvZm9udEZhY2UuanM/OTY4OSIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy9hZGRpbWFnZS5qcz9kMDhmIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL2Fubm90YXRpb25zLmpzPzA4ZWEiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvYXJhYmljLmpzP2IyMDYiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvYXV0b3ByaW50LmpzPzg5M2UiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvY2FudmFzLmpzPzFmZjgiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvY2VsbC5qcz8wZTYzIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL2phdmFzY3JpcHQuanM/YzY3ZCIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy9jb250ZXh0MmQuanM/OTQ2MiIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy9maWx0ZXJzLmpzPzU1NDAiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvZmlsZWxvYWRpbmcuanM/ZWQxZSIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy9odG1sLmpzPzEwZDgiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvb3V0bGluZS5qcz9jMTA1Iiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL2pwZWdfc3VwcG9ydC5qcz8zOTFhIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL3BuZy5qcz83MjQ3Iiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL3NwbGl0X3RleHRfdG9fc2l6ZS5qcz9hM2IzIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL29tZ2dpZi5qcz8wN2JkIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL0pQRUdFbmNvZGVyLmpzPzRhZTEiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL2xpYnMvQk1QRGVjb2Rlci5qcz9kODM1Iiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL1dlYlBEZWNvZGVyLmpzPzlkMDEiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvcG5nX3N1cHBvcnQuanM/MjkwMCIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy9naWZfc3VwcG9ydC5qcz8zZGVlIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL2JtcF9zdXBwb3J0LmpzPzY4MTgiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvd2VicF9zdXBwb3J0LmpzPzk5ZTYiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvcmdiYV9zdXBwb3J0LmpzPzU1YmIiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvc2V0bGFuZ3VhZ2UuanM/ZTNjNSIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy9zdGFuZGFyZF9mb250c19tZXRyaWNzLmpzPzJlNWIiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvdHRmc3VwcG9ydC5qcz83Y2UzIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL3N2Zy5qcz82NzE5Iiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9tb2R1bGVzL3RvdGFsX3BhZ2VzLmpzP2Y0MWMiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvdmlld2VycHJlZmVyZW5jZXMuanM/ZDZhYyIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy94bXBfbWV0YWRhdGEuanM/NTE0MCIsIndlYnBhY2s6Ly9mcm9udGVuZC8uLi9zcmMvbW9kdWxlcy91dGY4LmpzPzU0OTEiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL21vZHVsZXMvdmZzLmpzP2ZhN2UiLCJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi4vc3JjL2xpYnMvYmlkaUVuZ2luZS5qcz9hNzEyIiwid2VicGFjazovL2Zyb250ZW5kLy4uL3NyYy9saWJzL3R0ZmZvbnQuanM/NTcxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGdsb2JhbE9iamVjdCA9IChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiB3aW5kb3dcbiAgICA/IHdpbmRvd1xuICAgIDogXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGdsb2JhbFxuICAgID8gZ2xvYmFsXG4gICAgOiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygc2VsZlxuICAgID8gc2VsZlxuICAgIDogdGhpcztcbn0pKCk7XG4iLCJpbXBvcnQgeyBnbG9iYWxPYmplY3QgfSBmcm9tIFwiLi9nbG9iYWxPYmplY3QuanNcIjtcblxuZnVuY3Rpb24gY29uc29sZUxvZygpIHtcbiAgaWYgKGdsb2JhbE9iamVjdC5jb25zb2xlICYmIHR5cGVvZiBnbG9iYWxPYmplY3QuY29uc29sZS5sb2cgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLmxvZy5hcHBseShnbG9iYWxPYmplY3QuY29uc29sZSwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb25zb2xlV2FybihzdHIpIHtcbiAgaWYgKGdsb2JhbE9iamVjdC5jb25zb2xlKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxPYmplY3QuY29uc29sZS53YXJuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGdsb2JhbE9iamVjdC5jb25zb2xlLndhcm4uYXBwbHkoZ2xvYmFsT2JqZWN0LmNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGVMb2cuY2FsbChudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb25zb2xlRXJyb3Ioc3RyKSB7XG4gIGlmIChnbG9iYWxPYmplY3QuY29uc29sZSkge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsT2JqZWN0LmNvbnNvbGUuZXJyb3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgZ2xvYmFsT2JqZWN0LmNvbnNvbGUuZXJyb3IuYXBwbHkoZ2xvYmFsT2JqZWN0LmNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGVMb2coc3RyKTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCB2YXIgY29uc29sZSA9IHtcbiAgbG9nOiBjb25zb2xlTG9nLFxuICB3YXJuOiBjb25zb2xlV2FybixcbiAgZXJyb3I6IGNvbnNvbGVFcnJvclxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIEZpbGVTYXZlci5qc1xuICogQSBzYXZlQXMoKSBGaWxlU2F2ZXIgaW1wbGVtZW50YXRpb24uXG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICpcbiAqIExpY2Vuc2UgOiBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZCAoTUlUKVxuICogc291cmNlICA6IGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanNcbiAqL1xuXG5pbXBvcnQgeyBnbG9iYWxPYmplY3QgYXMgX2dsb2JhbCB9IGZyb20gXCIuL2dsb2JhbE9iamVjdC5qc1wiO1xuaW1wb3J0IHsgY29uc29sZSB9IGZyb20gXCIuL2NvbnNvbGUuanNcIjtcblxuZnVuY3Rpb24gYm9tKGJsb2IsIG9wdHMpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSBcInVuZGVmaW5lZFwiKSBvcHRzID0geyBhdXRvQm9tOiBmYWxzZSB9O1xuICBlbHNlIGlmICh0eXBlb2Ygb3B0cyAhPT0gXCJvYmplY3RcIikge1xuICAgIGNvbnNvbGUud2FybihcIkRlcHJlY2F0ZWQ6IEV4cGVjdGVkIHRoaXJkIGFyZ3VtZW50IHRvIGJlIGEgb2JqZWN0XCIpO1xuICAgIG9wdHMgPSB7IGF1dG9Cb206ICFvcHRzIH07XG4gIH1cblxuICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuICAvLyBub3RlOiB5b3VyIGJyb3dzZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgVVRGLTE2IFUrRkVGRiB0byBFRiBCQiBCRlxuICBpZiAoXG4gICAgb3B0cy5hdXRvQm9tICYmXG4gICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoXG4gICAgICBibG9iLnR5cGVcbiAgICApXG4gICkge1xuICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XG4gIH1cbiAgcmV0dXJuIGJsb2I7XG59XG5cbmZ1bmN0aW9uIGRvd25sb2FkKHVybCwgbmFtZSwgb3B0cykge1xuICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKFwiR0VUXCIsIHVybCk7XG4gIHhoci5yZXNwb25zZVR5cGUgPSBcImJsb2JcIjtcbiAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHNhdmVBcyh4aHIucmVzcG9uc2UsIG5hbWUsIG9wdHMpO1xuICB9O1xuICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJjb3VsZCBub3QgZG93bmxvYWQgZmlsZVwiKTtcbiAgfTtcbiAgeGhyLnNlbmQoKTtcbn1cblxuZnVuY3Rpb24gY29yc0VuYWJsZWQodXJsKSB7XG4gIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgLy8gdXNlIHN5bmMgdG8gYXZvaWQgcG9wdXAgYmxvY2tlclxuICB4aHIub3BlbihcIkhFQURcIiwgdXJsLCBmYWxzZSk7XG4gIHRyeSB7XG4gICAgeGhyLnNlbmQoKTtcbiAgfSBjYXRjaCAoZSkge31cbiAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5O1xufVxuXG4vLyBgYS5jbGljaygpYCBkb2Vzbid0IHdvcmsgZm9yIGFsbCBicm93c2VycyAoIzQ2NSlcbmZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcbiAgdHJ5IHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICBldnQuaW5pdE1vdXNlRXZlbnQoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0cnVlLFxuICAgICAgdHJ1ZSxcbiAgICAgIHdpbmRvdyxcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDgwLFxuICAgICAgMjAsXG4gICAgICBmYWxzZSxcbiAgICAgIGZhbHNlLFxuICAgICAgZmFsc2UsXG4gICAgICBmYWxzZSxcbiAgICAgIDAsXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgfVxufVxuXG52YXIgc2F2ZUFzID1cbiAgX2dsb2JhbC5zYXZlQXMgfHxcbiAgLy8gcHJvYmFibHkgaW4gc29tZSB3ZWIgd29ya2VyXG4gICh0eXBlb2Ygd2luZG93ICE9PSBcIm9iamVjdFwiIHx8IHdpbmRvdyAhPT0gX2dsb2JhbFxuICAgID8gZnVuY3Rpb24gc2F2ZUFzKCkge1xuICAgICAgICAvKiBub29wICovXG4gICAgICB9XG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBuYXRpdmUgYXBwXG4gICAgdHlwZW9mIEhUTUxBbmNob3JFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICBcImRvd25sb2FkXCIgaW4gSFRNTEFuY2hvckVsZW1lbnQucHJvdG90eXBlXG4gICAgPyBmdW5jdGlvbiBzYXZlQXMoYmxvYiwgbmFtZSwgb3B0cykge1xuICAgICAgICB2YXIgVVJMID0gX2dsb2JhbC5VUkwgfHwgX2dsb2JhbC53ZWJraXRVUkw7XG4gICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IGJsb2IubmFtZSB8fCBcImRvd25sb2FkXCI7XG5cbiAgICAgICAgYS5kb3dubG9hZCA9IG5hbWU7XG4gICAgICAgIGEucmVsID0gXCJub29wZW5lclwiOyAvLyB0YWJuYWJiaW5nXG5cbiAgICAgICAgLy8gVE9ETzogZGV0ZWN0IGNocm9tZSBleHRlbnNpb25zICYgcGFja2FnZWQgYXBwc1xuICAgICAgICAvLyBhLnRhcmdldCA9ICdfYmxhbmsnXG5cbiAgICAgICAgaWYgKHR5cGVvZiBibG9iID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCByZWd1bGFyIGxpbmtzXG4gICAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgICBpZiAoYS5vcmlnaW4gIT09IGxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgICAgICAgY29yc0VuYWJsZWQoYS5ocmVmKVxuICAgICAgICAgICAgICA/IGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpXG4gICAgICAgICAgICAgIDogY2xpY2soYSwgKGEudGFyZ2V0ID0gXCJfYmxhbmtcIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCBibG9ic1xuICAgICAgICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYS5ocmVmKTtcbiAgICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xpY2soYSk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICA6IC8vIFVzZSBtc1NhdmVPck9wZW5CbG9iIGFzIGEgc2Vjb25kIGFwcHJvYWNoXG4gICAgXCJtc1NhdmVPck9wZW5CbG9iXCIgaW4gbmF2aWdhdG9yXG4gICAgPyBmdW5jdGlvbiBzYXZlQXMoYmxvYiwgbmFtZSwgb3B0cykge1xuICAgICAgICBuYW1lID0gbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiO1xuXG4gICAgICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICBhLmhyZWYgPSBibG9iO1xuICAgICAgICAgICAgYS50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY2xpY2soYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYm9tKGJsb2IsIG9wdHMpLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIDogLy8gRmFsbGJhY2sgdG8gdXNpbmcgRmlsZVJlYWRlciBhbmQgYSBwb3B1cFxuICAgICAgZnVuY3Rpb24gc2F2ZUFzKGJsb2IsIG5hbWUsIG9wdHMsIHBvcHVwKSB7XG4gICAgICAgIC8vIE9wZW4gYSBwb3B1cCBpbW1lZGlhdGVseSBkbyBnbyBhcm91bmQgcG9wdXAgYmxvY2tlclxuICAgICAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cbiAgICAgICAgcG9wdXAgPSBwb3B1cCB8fCBvcGVuKFwiXCIsIFwiX2JsYW5rXCIpO1xuICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICBwb3B1cC5kb2N1bWVudC50aXRsZSA9IHBvcHVwLmRvY3VtZW50LmJvZHkuaW5uZXJUZXh0ID1cbiAgICAgICAgICAgIFwiZG93bmxvYWRpbmcuLi5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xuXG4gICAgICAgIHZhciBmb3JjZSA9IGJsb2IudHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIjtcbiAgICAgICAgdmFyIGlzU2FmYXJpID1cbiAgICAgICAgICAvY29uc3RydWN0b3IvaS50ZXN0KF9nbG9iYWwuSFRNTEVsZW1lbnQpIHx8IF9nbG9iYWwuc2FmYXJpO1xuICAgICAgICB2YXIgaXNDaHJvbWVJT1MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpKSAmJlxuICAgICAgICAgIHR5cGVvZiBGaWxlUmVhZGVyID09PSBcIm9iamVjdFwiXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgVVJMc1xuICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcbiAgICAgICAgICAgICAgPyB1cmxcbiAgICAgICAgICAgICAgOiB1cmwucmVwbGFjZSgvXmRhdGE6W147XSo7LywgXCJkYXRhOmF0dGFjaG1lbnQvZmlsZTtcIik7XG4gICAgICAgICAgICBpZiAocG9wdXApIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICBlbHNlIGxvY2F0aW9uID0gdXJsO1xuICAgICAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIFVSTCA9IF9nbG9iYWwuVVJMIHx8IF9nbG9iYWwud2Via2l0VVJMO1xuICAgICAgICAgIHZhciB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgIGlmIChwb3B1cCkgcG9wdXAubG9jYXRpb24gPSB1cmw7XG4gICAgICAgICAgZWxzZSBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgIH0sIDRlNCk7IC8vIDQwc1xuICAgICAgICB9XG4gICAgICB9KTtcblxuZXhwb3J0IHsgc2F2ZUFzIH07XG4iLCJpbXBvcnQgeyBnbG9iYWxPYmplY3QgfSBmcm9tIFwiLi9nbG9iYWxPYmplY3QuanNcIjtcblxudmFyIGF0b2IsIGJ0b2E7XG5cbihmdW5jdGlvbigpIHtcbiAgYXRvYiA9IGdsb2JhbE9iamVjdC5hdG9iLmJpbmQoZ2xvYmFsT2JqZWN0KTtcbiAgYnRvYSA9IGdsb2JhbE9iamVjdC5idG9hLmJpbmQoZ2xvYmFsT2JqZWN0KTtcbiAgcmV0dXJuO1xuXG59KSgpO1xuXG5leHBvcnQgeyBhdG9iLCBidG9hIH07XG4iLCIvKipcbiAqIEEgY2xhc3MgdG8gcGFyc2UgY29sb3IgdmFsdWVzXG4gKiBAYXV0aG9yIFN0b3lhbiBTdGVmYW5vdiA8c3N0b29AZ21haWwuY29tPlxuICoge0BsaW5rICAgaHR0cDovL3d3dy5waHBpZWQuY29tL3JnYi1jb2xvci1wYXJzZXItaW4tamF2YXNjcmlwdC99XG4gKiBAbGljZW5zZSBVc2UgaXQgaWYgeW91IGxpa2UgaXRcbiAqL1xuXG5mdW5jdGlvbiBSR0JDb2xvcihjb2xvcl9zdHJpbmcpIHtcbiAgY29sb3Jfc3RyaW5nID0gY29sb3Jfc3RyaW5nIHx8IFwiXCI7XG4gIHRoaXMub2sgPSBmYWxzZTtcblxuICAvLyBzdHJpcCBhbnkgbGVhZGluZyAjXG4gIGlmIChjb2xvcl9zdHJpbmcuY2hhckF0KDApID09IFwiI1wiKSB7XG4gICAgLy8gcmVtb3ZlICMgaWYgYW55XG4gICAgY29sb3Jfc3RyaW5nID0gY29sb3Jfc3RyaW5nLnN1YnN0cigxLCA2KTtcbiAgfVxuXG4gIGNvbG9yX3N0cmluZyA9IGNvbG9yX3N0cmluZy5yZXBsYWNlKC8gL2csIFwiXCIpO1xuICBjb2xvcl9zdHJpbmcgPSBjb2xvcl9zdHJpbmcudG9Mb3dlckNhc2UoKTtcblxuICB2YXIgY2hhbm5lbHM7XG5cbiAgLy8gYmVmb3JlIGdldHRpbmcgaW50byByZWdleHBzLCB0cnkgc2ltcGxlIG1hdGNoZXNcbiAgLy8gYW5kIG92ZXJ3cml0ZSB0aGUgaW5wdXRcbiAgdmFyIHNpbXBsZV9jb2xvcnMgPSB7XG4gICAgYWxpY2VibHVlOiBcImYwZjhmZlwiLFxuICAgIGFudGlxdWV3aGl0ZTogXCJmYWViZDdcIixcbiAgICBhcXVhOiBcIjAwZmZmZlwiLFxuICAgIGFxdWFtYXJpbmU6IFwiN2ZmZmQ0XCIsXG4gICAgYXp1cmU6IFwiZjBmZmZmXCIsXG4gICAgYmVpZ2U6IFwiZjVmNWRjXCIsXG4gICAgYmlzcXVlOiBcImZmZTRjNFwiLFxuICAgIGJsYWNrOiBcIjAwMDAwMFwiLFxuICAgIGJsYW5jaGVkYWxtb25kOiBcImZmZWJjZFwiLFxuICAgIGJsdWU6IFwiMDAwMGZmXCIsXG4gICAgYmx1ZXZpb2xldDogXCI4YTJiZTJcIixcbiAgICBicm93bjogXCJhNTJhMmFcIixcbiAgICBidXJseXdvb2Q6IFwiZGViODg3XCIsXG4gICAgY2FkZXRibHVlOiBcIjVmOWVhMFwiLFxuICAgIGNoYXJ0cmV1c2U6IFwiN2ZmZjAwXCIsXG4gICAgY2hvY29sYXRlOiBcImQyNjkxZVwiLFxuICAgIGNvcmFsOiBcImZmN2Y1MFwiLFxuICAgIGNvcm5mbG93ZXJibHVlOiBcIjY0OTVlZFwiLFxuICAgIGNvcm5zaWxrOiBcImZmZjhkY1wiLFxuICAgIGNyaW1zb246IFwiZGMxNDNjXCIsXG4gICAgY3lhbjogXCIwMGZmZmZcIixcbiAgICBkYXJrYmx1ZTogXCIwMDAwOGJcIixcbiAgICBkYXJrY3lhbjogXCIwMDhiOGJcIixcbiAgICBkYXJrZ29sZGVucm9kOiBcImI4ODYwYlwiLFxuICAgIGRhcmtncmF5OiBcImE5YTlhOVwiLFxuICAgIGRhcmtncmVlbjogXCIwMDY0MDBcIixcbiAgICBkYXJra2hha2k6IFwiYmRiNzZiXCIsXG4gICAgZGFya21hZ2VudGE6IFwiOGIwMDhiXCIsXG4gICAgZGFya29saXZlZ3JlZW46IFwiNTU2YjJmXCIsXG4gICAgZGFya29yYW5nZTogXCJmZjhjMDBcIixcbiAgICBkYXJrb3JjaGlkOiBcIjk5MzJjY1wiLFxuICAgIGRhcmtyZWQ6IFwiOGIwMDAwXCIsXG4gICAgZGFya3NhbG1vbjogXCJlOTk2N2FcIixcbiAgICBkYXJrc2VhZ3JlZW46IFwiOGZiYzhmXCIsXG4gICAgZGFya3NsYXRlYmx1ZTogXCI0ODNkOGJcIixcbiAgICBkYXJrc2xhdGVncmF5OiBcIjJmNGY0ZlwiLFxuICAgIGRhcmt0dXJxdW9pc2U6IFwiMDBjZWQxXCIsXG4gICAgZGFya3Zpb2xldDogXCI5NDAwZDNcIixcbiAgICBkZWVwcGluazogXCJmZjE0OTNcIixcbiAgICBkZWVwc2t5Ymx1ZTogXCIwMGJmZmZcIixcbiAgICBkaW1ncmF5OiBcIjY5Njk2OVwiLFxuICAgIGRvZGdlcmJsdWU6IFwiMWU5MGZmXCIsXG4gICAgZmVsZHNwYXI6IFwiZDE5Mjc1XCIsXG4gICAgZmlyZWJyaWNrOiBcImIyMjIyMlwiLFxuICAgIGZsb3JhbHdoaXRlOiBcImZmZmFmMFwiLFxuICAgIGZvcmVzdGdyZWVuOiBcIjIyOGIyMlwiLFxuICAgIGZ1Y2hzaWE6IFwiZmYwMGZmXCIsXG4gICAgZ2FpbnNib3JvOiBcImRjZGNkY1wiLFxuICAgIGdob3N0d2hpdGU6IFwiZjhmOGZmXCIsXG4gICAgZ29sZDogXCJmZmQ3MDBcIixcbiAgICBnb2xkZW5yb2Q6IFwiZGFhNTIwXCIsXG4gICAgZ3JheTogXCI4MDgwODBcIixcbiAgICBncmVlbjogXCIwMDgwMDBcIixcbiAgICBncmVlbnllbGxvdzogXCJhZGZmMmZcIixcbiAgICBob25leWRldzogXCJmMGZmZjBcIixcbiAgICBob3RwaW5rOiBcImZmNjliNFwiLFxuICAgIGluZGlhbnJlZDogXCJjZDVjNWNcIixcbiAgICBpbmRpZ286IFwiNGIwMDgyXCIsXG4gICAgaXZvcnk6IFwiZmZmZmYwXCIsXG4gICAga2hha2k6IFwiZjBlNjhjXCIsXG4gICAgbGF2ZW5kZXI6IFwiZTZlNmZhXCIsXG4gICAgbGF2ZW5kZXJibHVzaDogXCJmZmYwZjVcIixcbiAgICBsYXduZ3JlZW46IFwiN2NmYzAwXCIsXG4gICAgbGVtb25jaGlmZm9uOiBcImZmZmFjZFwiLFxuICAgIGxpZ2h0Ymx1ZTogXCJhZGQ4ZTZcIixcbiAgICBsaWdodGNvcmFsOiBcImYwODA4MFwiLFxuICAgIGxpZ2h0Y3lhbjogXCJlMGZmZmZcIixcbiAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogXCJmYWZhZDJcIixcbiAgICBsaWdodGdyZXk6IFwiZDNkM2QzXCIsXG4gICAgbGlnaHRncmVlbjogXCI5MGVlOTBcIixcbiAgICBsaWdodHBpbms6IFwiZmZiNmMxXCIsXG4gICAgbGlnaHRzYWxtb246IFwiZmZhMDdhXCIsXG4gICAgbGlnaHRzZWFncmVlbjogXCIyMGIyYWFcIixcbiAgICBsaWdodHNreWJsdWU6IFwiODdjZWZhXCIsXG4gICAgbGlnaHRzbGF0ZWJsdWU6IFwiODQ3MGZmXCIsXG4gICAgbGlnaHRzbGF0ZWdyYXk6IFwiNzc4ODk5XCIsXG4gICAgbGlnaHRzdGVlbGJsdWU6IFwiYjBjNGRlXCIsXG4gICAgbGlnaHR5ZWxsb3c6IFwiZmZmZmUwXCIsXG4gICAgbGltZTogXCIwMGZmMDBcIixcbiAgICBsaW1lZ3JlZW46IFwiMzJjZDMyXCIsXG4gICAgbGluZW46IFwiZmFmMGU2XCIsXG4gICAgbWFnZW50YTogXCJmZjAwZmZcIixcbiAgICBtYXJvb246IFwiODAwMDAwXCIsXG4gICAgbWVkaXVtYXF1YW1hcmluZTogXCI2NmNkYWFcIixcbiAgICBtZWRpdW1ibHVlOiBcIjAwMDBjZFwiLFxuICAgIG1lZGl1bW9yY2hpZDogXCJiYTU1ZDNcIixcbiAgICBtZWRpdW1wdXJwbGU6IFwiOTM3MGQ4XCIsXG4gICAgbWVkaXVtc2VhZ3JlZW46IFwiM2NiMzcxXCIsXG4gICAgbWVkaXVtc2xhdGVibHVlOiBcIjdiNjhlZVwiLFxuICAgIG1lZGl1bXNwcmluZ2dyZWVuOiBcIjAwZmE5YVwiLFxuICAgIG1lZGl1bXR1cnF1b2lzZTogXCI0OGQxY2NcIixcbiAgICBtZWRpdW12aW9sZXRyZWQ6IFwiYzcxNTg1XCIsXG4gICAgbWlkbmlnaHRibHVlOiBcIjE5MTk3MFwiLFxuICAgIG1pbnRjcmVhbTogXCJmNWZmZmFcIixcbiAgICBtaXN0eXJvc2U6IFwiZmZlNGUxXCIsXG4gICAgbW9jY2FzaW46IFwiZmZlNGI1XCIsXG4gICAgbmF2YWpvd2hpdGU6IFwiZmZkZWFkXCIsXG4gICAgbmF2eTogXCIwMDAwODBcIixcbiAgICBvbGRsYWNlOiBcImZkZjVlNlwiLFxuICAgIG9saXZlOiBcIjgwODAwMFwiLFxuICAgIG9saXZlZHJhYjogXCI2YjhlMjNcIixcbiAgICBvcmFuZ2U6IFwiZmZhNTAwXCIsXG4gICAgb3JhbmdlcmVkOiBcImZmNDUwMFwiLFxuICAgIG9yY2hpZDogXCJkYTcwZDZcIixcbiAgICBwYWxlZ29sZGVucm9kOiBcImVlZThhYVwiLFxuICAgIHBhbGVncmVlbjogXCI5OGZiOThcIixcbiAgICBwYWxldHVycXVvaXNlOiBcImFmZWVlZVwiLFxuICAgIHBhbGV2aW9sZXRyZWQ6IFwiZDg3MDkzXCIsXG4gICAgcGFwYXlhd2hpcDogXCJmZmVmZDVcIixcbiAgICBwZWFjaHB1ZmY6IFwiZmZkYWI5XCIsXG4gICAgcGVydTogXCJjZDg1M2ZcIixcbiAgICBwaW5rOiBcImZmYzBjYlwiLFxuICAgIHBsdW06IFwiZGRhMGRkXCIsXG4gICAgcG93ZGVyYmx1ZTogXCJiMGUwZTZcIixcbiAgICBwdXJwbGU6IFwiODAwMDgwXCIsXG4gICAgcmVkOiBcImZmMDAwMFwiLFxuICAgIHJvc3licm93bjogXCJiYzhmOGZcIixcbiAgICByb3lhbGJsdWU6IFwiNDE2OWUxXCIsXG4gICAgc2FkZGxlYnJvd246IFwiOGI0NTEzXCIsXG4gICAgc2FsbW9uOiBcImZhODA3MlwiLFxuICAgIHNhbmR5YnJvd246IFwiZjRhNDYwXCIsXG4gICAgc2VhZ3JlZW46IFwiMmU4YjU3XCIsXG4gICAgc2Vhc2hlbGw6IFwiZmZmNWVlXCIsXG4gICAgc2llbm5hOiBcImEwNTIyZFwiLFxuICAgIHNpbHZlcjogXCJjMGMwYzBcIixcbiAgICBza3libHVlOiBcIjg3Y2VlYlwiLFxuICAgIHNsYXRlYmx1ZTogXCI2YTVhY2RcIixcbiAgICBzbGF0ZWdyYXk6IFwiNzA4MDkwXCIsXG4gICAgc25vdzogXCJmZmZhZmFcIixcbiAgICBzcHJpbmdncmVlbjogXCIwMGZmN2ZcIixcbiAgICBzdGVlbGJsdWU6IFwiNDY4MmI0XCIsXG4gICAgdGFuOiBcImQyYjQ4Y1wiLFxuICAgIHRlYWw6IFwiMDA4MDgwXCIsXG4gICAgdGhpc3RsZTogXCJkOGJmZDhcIixcbiAgICB0b21hdG86IFwiZmY2MzQ3XCIsXG4gICAgdHVycXVvaXNlOiBcIjQwZTBkMFwiLFxuICAgIHZpb2xldDogXCJlZTgyZWVcIixcbiAgICB2aW9sZXRyZWQ6IFwiZDAyMDkwXCIsXG4gICAgd2hlYXQ6IFwiZjVkZWIzXCIsXG4gICAgd2hpdGU6IFwiZmZmZmZmXCIsXG4gICAgd2hpdGVzbW9rZTogXCJmNWY1ZjVcIixcbiAgICB5ZWxsb3c6IFwiZmZmZjAwXCIsXG4gICAgeWVsbG93Z3JlZW46IFwiOWFjZDMyXCJcbiAgfTtcbiAgY29sb3Jfc3RyaW5nID0gc2ltcGxlX2NvbG9yc1tjb2xvcl9zdHJpbmddIHx8IGNvbG9yX3N0cmluZztcblxuICAvLyBhcnJheSBvZiBjb2xvciBkZWZpbml0aW9uIG9iamVjdHNcbiAgdmFyIGNvbG9yX2RlZnMgPSBbXG4gICAge1xuICAgICAgcmU6IC9ecmdiXFwoKFxcZHsxLDN9KSxcXHMqKFxcZHsxLDN9KSxcXHMqKFxcZHsxLDN9KVxcKSQvLFxuICAgICAgZXhhbXBsZTogW1wicmdiKDEyMywgMjM0LCA0NSlcIiwgXCJyZ2IoMjU1LDIzNCwyNDUpXCJdLFxuICAgICAgcHJvY2VzczogZnVuY3Rpb24oYml0cykge1xuICAgICAgICByZXR1cm4gW3BhcnNlSW50KGJpdHNbMV0pLCBwYXJzZUludChiaXRzWzJdKSwgcGFyc2VJbnQoYml0c1szXSldO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgcmU6IC9eKFxcd3syfSkoXFx3ezJ9KShcXHd7Mn0pJC8sXG4gICAgICBleGFtcGxlOiBbXCIjMDBmZjAwXCIsIFwiMzM2Njk5XCJdLFxuICAgICAgcHJvY2VzczogZnVuY3Rpb24oYml0cykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIHBhcnNlSW50KGJpdHNbMV0sIDE2KSxcbiAgICAgICAgICBwYXJzZUludChiaXRzWzJdLCAxNiksXG4gICAgICAgICAgcGFyc2VJbnQoYml0c1szXSwgMTYpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICByZTogL14oXFx3ezF9KShcXHd7MX0pKFxcd3sxfSkkLyxcbiAgICAgIGV4YW1wbGU6IFtcIiNmYjBcIiwgXCJmMGZcIl0sXG4gICAgICBwcm9jZXNzOiBmdW5jdGlvbihiaXRzKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgcGFyc2VJbnQoYml0c1sxXSArIGJpdHNbMV0sIDE2KSxcbiAgICAgICAgICBwYXJzZUludChiaXRzWzJdICsgYml0c1syXSwgMTYpLFxuICAgICAgICAgIHBhcnNlSW50KGJpdHNbM10gKyBiaXRzWzNdLCAxNilcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG4gIF07XG5cbiAgLy8gc2VhcmNoIHRocm91Z2ggdGhlIGRlZmluaXRpb25zIHRvIGZpbmQgYSBtYXRjaFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yX2RlZnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcmUgPSBjb2xvcl9kZWZzW2ldLnJlO1xuICAgIHZhciBwcm9jZXNzb3IgPSBjb2xvcl9kZWZzW2ldLnByb2Nlc3M7XG4gICAgdmFyIGJpdHMgPSByZS5leGVjKGNvbG9yX3N0cmluZyk7XG4gICAgaWYgKGJpdHMpIHtcbiAgICAgIGNoYW5uZWxzID0gcHJvY2Vzc29yKGJpdHMpO1xuICAgICAgdGhpcy5yID0gY2hhbm5lbHNbMF07XG4gICAgICB0aGlzLmcgPSBjaGFubmVsc1sxXTtcbiAgICAgIHRoaXMuYiA9IGNoYW5uZWxzWzJdO1xuICAgICAgdGhpcy5vayA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gdmFsaWRhdGUvY2xlYW51cCB2YWx1ZXNcbiAgdGhpcy5yID0gdGhpcy5yIDwgMCB8fCBpc05hTih0aGlzLnIpID8gMCA6IHRoaXMuciA+IDI1NSA/IDI1NSA6IHRoaXMucjtcbiAgdGhpcy5nID0gdGhpcy5nIDwgMCB8fCBpc05hTih0aGlzLmcpID8gMCA6IHRoaXMuZyA+IDI1NSA/IDI1NSA6IHRoaXMuZztcbiAgdGhpcy5iID0gdGhpcy5iIDwgMCB8fCBpc05hTih0aGlzLmIpID8gMCA6IHRoaXMuYiA+IDI1NSA/IDI1NSA6IHRoaXMuYjtcblxuICAvLyBzb21lIGdldHRlcnNcbiAgdGhpcy50b1JHQiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcInJnYihcIiArIHRoaXMuciArIFwiLCBcIiArIHRoaXMuZyArIFwiLCBcIiArIHRoaXMuYiArIFwiKVwiO1xuICB9O1xuICB0aGlzLnRvSGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHIgPSB0aGlzLnIudG9TdHJpbmcoMTYpO1xuICAgIHZhciBnID0gdGhpcy5nLnRvU3RyaW5nKDE2KTtcbiAgICB2YXIgYiA9IHRoaXMuYi50b1N0cmluZygxNik7XG4gICAgaWYgKHIubGVuZ3RoID09IDEpIHIgPSBcIjBcIiArIHI7XG4gICAgaWYgKGcubGVuZ3RoID09IDEpIGcgPSBcIjBcIiArIGc7XG4gICAgaWYgKGIubGVuZ3RoID09IDEpIGIgPSBcIjBcIiArIGI7XG4gICAgcmV0dXJuIFwiI1wiICsgciArIGcgKyBiO1xuICB9O1xufVxuXG5leHBvcnQgeyBSR0JDb2xvciB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogSm9zZXBoIE15ZXJzIGRvZXMgbm90IHNwZWNpZnkgYSBwYXJ0aWN1bGFyIGxpY2Vuc2UgZm9yIGhpcyB3b3JrLlxuICpcbiAqIEF1dGhvcjogSm9zZXBoIE15ZXJzXG4gKiBBY2Nlc3NlZCBmcm9tOiBodHRwOi8vd3d3Lm15ZXJzZGFpbHkub3JnL2pvc2VwaC9qYXZhc2NyaXB0L21kNS5qc1xuICpcbiAqIE1vZGlmaWVkIGJ5OiBPd2VuIExlb25nXG4gKi9cblxuZnVuY3Rpb24gbWQ1Y3ljbGUoeCwgaykge1xuICB2YXIgYSA9IHhbMF0sXG4gICAgYiA9IHhbMV0sXG4gICAgYyA9IHhbMl0sXG4gICAgZCA9IHhbM107XG5cbiAgYSA9IGZmKGEsIGIsIGMsIGQsIGtbMF0sIDcsIC02ODA4NzY5MzYpO1xuICBkID0gZmYoZCwgYSwgYiwgYywga1sxXSwgMTIsIC0zODk1NjQ1ODYpO1xuICBjID0gZmYoYywgZCwgYSwgYiwga1syXSwgMTcsIDYwNjEwNTgxOSk7XG4gIGIgPSBmZihiLCBjLCBkLCBhLCBrWzNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICBhID0gZmYoYSwgYiwgYywgZCwga1s0XSwgNywgLTE3NjQxODg5Nyk7XG4gIGQgPSBmZihkLCBhLCBiLCBjLCBrWzVdLCAxMiwgMTIwMDA4MDQyNik7XG4gIGMgPSBmZihjLCBkLCBhLCBiLCBrWzZdLCAxNywgLTE0NzMyMzEzNDEpO1xuICBiID0gZmYoYiwgYywgZCwgYSwga1s3XSwgMjIsIC00NTcwNTk4Myk7XG4gIGEgPSBmZihhLCBiLCBjLCBkLCBrWzhdLCA3LCAxNzcwMDM1NDE2KTtcbiAgZCA9IGZmKGQsIGEsIGIsIGMsIGtbOV0sIDEyLCAtMTk1ODQxNDQxNyk7XG4gIGMgPSBmZihjLCBkLCBhLCBiLCBrWzEwXSwgMTcsIC00MjA2Myk7XG4gIGIgPSBmZihiLCBjLCBkLCBhLCBrWzExXSwgMjIsIC0xOTkwNDA0MTYyKTtcbiAgYSA9IGZmKGEsIGIsIGMsIGQsIGtbMTJdLCA3LCAxODA0NjAzNjgyKTtcbiAgZCA9IGZmKGQsIGEsIGIsIGMsIGtbMTNdLCAxMiwgLTQwMzQxMTAxKTtcbiAgYyA9IGZmKGMsIGQsIGEsIGIsIGtbMTRdLCAxNywgLTE1MDIwMDIyOTApO1xuICBiID0gZmYoYiwgYywgZCwgYSwga1sxNV0sIDIyLCAxMjM2NTM1MzI5KTtcblxuICBhID0gZ2coYSwgYiwgYywgZCwga1sxXSwgNSwgLTE2NTc5NjUxMCk7XG4gIGQgPSBnZyhkLCBhLCBiLCBjLCBrWzZdLCA5LCAtMTA2OTUwMTYzMik7XG4gIGMgPSBnZyhjLCBkLCBhLCBiLCBrWzExXSwgMTQsIDY0MzcxNzcxMyk7XG4gIGIgPSBnZyhiLCBjLCBkLCBhLCBrWzBdLCAyMCwgLTM3Mzg5NzMwMik7XG4gIGEgPSBnZyhhLCBiLCBjLCBkLCBrWzVdLCA1LCAtNzAxNTU4NjkxKTtcbiAgZCA9IGdnKGQsIGEsIGIsIGMsIGtbMTBdLCA5LCAzODAxNjA4Myk7XG4gIGMgPSBnZyhjLCBkLCBhLCBiLCBrWzE1XSwgMTQsIC02NjA0NzgzMzUpO1xuICBiID0gZ2coYiwgYywgZCwgYSwga1s0XSwgMjAsIC00MDU1Mzc4NDgpO1xuICBhID0gZ2coYSwgYiwgYywgZCwga1s5XSwgNSwgNTY4NDQ2NDM4KTtcbiAgZCA9IGdnKGQsIGEsIGIsIGMsIGtbMTRdLCA5LCAtMTAxOTgwMzY5MCk7XG4gIGMgPSBnZyhjLCBkLCBhLCBiLCBrWzNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gIGIgPSBnZyhiLCBjLCBkLCBhLCBrWzhdLCAyMCwgMTE2MzUzMTUwMSk7XG4gIGEgPSBnZyhhLCBiLCBjLCBkLCBrWzEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xuICBkID0gZ2coZCwgYSwgYiwgYywga1syXSwgOSwgLTUxNDAzNzg0KTtcbiAgYyA9IGdnKGMsIGQsIGEsIGIsIGtbN10sIDE0LCAxNzM1MzI4NDczKTtcbiAgYiA9IGdnKGIsIGMsIGQsIGEsIGtbMTJdLCAyMCwgLTE5MjY2MDc3MzQpO1xuXG4gIGEgPSBoaChhLCBiLCBjLCBkLCBrWzVdLCA0LCAtMzc4NTU4KTtcbiAgZCA9IGhoKGQsIGEsIGIsIGMsIGtbOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gIGMgPSBoaChjLCBkLCBhLCBiLCBrWzExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICBiID0gaGgoYiwgYywgZCwgYSwga1sxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICBhID0gaGgoYSwgYiwgYywgZCwga1sxXSwgNCwgLTE1MzA5OTIwNjApO1xuICBkID0gaGgoZCwgYSwgYiwgYywga1s0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICBjID0gaGgoYywgZCwgYSwgYiwga1s3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICBiID0gaGgoYiwgYywgZCwgYSwga1sxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gIGEgPSBoaChhLCBiLCBjLCBkLCBrWzEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgZCA9IGhoKGQsIGEsIGIsIGMsIGtbMF0sIDExLCAtMzU4NTM3MjIyKTtcbiAgYyA9IGhoKGMsIGQsIGEsIGIsIGtbM10sIDE2LCAtNzIyNTIxOTc5KTtcbiAgYiA9IGhoKGIsIGMsIGQsIGEsIGtbNl0sIDIzLCA3NjAyOTE4OSk7XG4gIGEgPSBoaChhLCBiLCBjLCBkLCBrWzldLCA0LCAtNjQwMzY0NDg3KTtcbiAgZCA9IGhoKGQsIGEsIGIsIGMsIGtbMTJdLCAxMSwgLTQyMTgxNTgzNSk7XG4gIGMgPSBoaChjLCBkLCBhLCBiLCBrWzE1XSwgMTYsIDUzMDc0MjUyMCk7XG4gIGIgPSBoaChiLCBjLCBkLCBhLCBrWzJdLCAyMywgLTk5NTMzODY1MSk7XG5cbiAgYSA9IGlpKGEsIGIsIGMsIGQsIGtbMF0sIDYsIC0xOTg2MzA4NDQpO1xuICBkID0gaWkoZCwgYSwgYiwgYywga1s3XSwgMTAsIDExMjY4OTE0MTUpO1xuICBjID0gaWkoYywgZCwgYSwgYiwga1sxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gIGIgPSBpaShiLCBjLCBkLCBhLCBrWzVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgYSA9IGlpKGEsIGIsIGMsIGQsIGtbMTJdLCA2LCAxNzAwNDg1NTcxKTtcbiAgZCA9IGlpKGQsIGEsIGIsIGMsIGtbM10sIDEwLCAtMTg5NDk4NjYwNik7XG4gIGMgPSBpaShjLCBkLCBhLCBiLCBrWzEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgYiA9IGlpKGIsIGMsIGQsIGEsIGtbMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gIGEgPSBpaShhLCBiLCBjLCBkLCBrWzhdLCA2LCAxODczMzEzMzU5KTtcbiAgZCA9IGlpKGQsIGEsIGIsIGMsIGtbMTVdLCAxMCwgLTMwNjExNzQ0KTtcbiAgYyA9IGlpKGMsIGQsIGEsIGIsIGtbNl0sIDE1LCAtMTU2MDE5ODM4MCk7XG4gIGIgPSBpaShiLCBjLCBkLCBhLCBrWzEzXSwgMjEsIDEzMDkxNTE2NDkpO1xuICBhID0gaWkoYSwgYiwgYywgZCwga1s0XSwgNiwgLTE0NTUyMzA3MCk7XG4gIGQgPSBpaShkLCBhLCBiLCBjLCBrWzExXSwgMTAsIC0xMTIwMjEwMzc5KTtcbiAgYyA9IGlpKGMsIGQsIGEsIGIsIGtbMl0sIDE1LCA3MTg3ODcyNTkpO1xuICBiID0gaWkoYiwgYywgZCwgYSwga1s5XSwgMjEsIC0zNDM0ODU1NTEpO1xuXG4gIHhbMF0gPSBhZGQzMihhLCB4WzBdKTtcbiAgeFsxXSA9IGFkZDMyKGIsIHhbMV0pO1xuICB4WzJdID0gYWRkMzIoYywgeFsyXSk7XG4gIHhbM10gPSBhZGQzMihkLCB4WzNdKTtcbn1cblxuZnVuY3Rpb24gY21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgYSA9IGFkZDMyKGFkZDMyKGEsIHEpLCBhZGQzMih4LCB0KSk7XG4gIHJldHVybiBhZGQzMigoYSA8PCBzKSB8IChhID4+PiAoMzIgLSBzKSksIGIpO1xufVxuXG5mdW5jdGlvbiBmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBjbW4oKGIgJiBjKSB8ICh+YiAmIGQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gZ2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gY21uKChiICYgZCkgfCAoYyAmIH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIGhoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIGNtbihiIF4gYyBeIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBpaShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBjbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1MShzKSB7XG4gIC8vIHR4dCA9ICcnO1xuICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLFxuICAgIGk7XG4gIGZvciAoaSA9IDY0OyBpIDw9IHMubGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gIH1cbiAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gIHZhciB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICBmb3IgKGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKylcbiAgICB0YWlsW2kgPj4gMl0gfD0gcy5jaGFyQ29kZUF0KGkpIDw8IChpICUgNCA8PCAzKTtcbiAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKGkgJSA0IDw8IDMpO1xuICBpZiAoaSA+IDU1KSB7XG4gICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB0YWlsW2ldID0gMDtcbiAgfVxuICB0YWlsWzE0XSA9IG4gKiA4O1xuICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyogdGhlcmUgbmVlZHMgdG8gYmUgc3VwcG9ydCBmb3IgVW5pY29kZSBoZXJlLFxuICogdW5sZXNzIHdlIHByZXRlbmQgdGhhdCB3ZSBjYW4gcmVkZWZpbmUgdGhlIE1ELTVcbiAqIGFsZ29yaXRobSBmb3IgbXVsdGktYnl0ZSBjaGFyYWN0ZXJzIChwZXJoYXBzXG4gKiBieSBhZGRpbmcgZXZlcnkgZm91ciAxNi1iaXQgY2hhcmFjdGVycyBhbmRcbiAqIHNob3J0ZW5pbmcgdGhlIHN1bSB0byAzMiBiaXRzKS4gT3RoZXJ3aXNlXG4gKiBJIHN1Z2dlc3QgcGVyZm9ybWluZyBNRC01IGFzIGlmIGV2ZXJ5IGNoYXJhY3RlclxuICogd2FzIHR3byBieXRlcy0tZS5nLiwgMDA0MCAwMDI1ID0gQCUtLWJ1dCB0aGVuXG4gKiBob3cgd2lsbCBhbiBvcmRpbmFyeSBNRC01IHN1bSBiZSBtYXRjaGVkP1xuICogVGhlcmUgaXMgbm8gd2F5IHRvIHN0YW5kYXJkaXplIHRleHQgdG8gc29tZXRoaW5nXG4gKiBsaWtlIFVURi04IGJlZm9yZSB0cmFuc2Zvcm1hdGlvbjsgc3BlZWQgY29zdCBpc1xuICogdXR0ZXJseSBwcm9oaWJpdGl2ZS4gVGhlIEphdmFTY3JpcHQgc3RhbmRhcmRcbiAqIGl0c2VsZiBuZWVkcyB0byBsb29rIGF0IHRoaXM6IGl0IHNob3VsZCBzdGFydFxuICogcHJvdmlkaW5nIGFjY2VzcyB0byBzdHJpbmdzIGFzIHByZWZvcm1lZCBVVEYtOFxuICogOC1iaXQgdW5zaWduZWQgdmFsdWUgYXJyYXlzLlxuICovXG5mdW5jdGlvbiBtZDVibGsocykge1xuICAvKiBJIGZpZ3VyZWQgZ2xvYmFsIHdhcyBmYXN0ZXIuICAgKi9cbiAgdmFyIG1kNWJsa3MgPSBbXSxcbiAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cbiAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICBtZDVibGtzW2kgPj4gMl0gPVxuICAgICAgcy5jaGFyQ29kZUF0KGkpICtcbiAgICAgIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICtcbiAgICAgIChzLmNoYXJDb2RlQXQoaSArIDIpIDw8IDE2KSArXG4gICAgICAocy5jaGFyQ29kZUF0KGkgKyAzKSA8PCAyNCk7XG4gIH1cbiAgcmV0dXJuIG1kNWJsa3M7XG59XG5cbnZhciBoZXhfY2hyID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCIuc3BsaXQoXCJcIik7XG5cbmZ1bmN0aW9uIHJoZXgobikge1xuICB2YXIgcyA9IFwiXCIsXG4gICAgaiA9IDA7XG4gIGZvciAoOyBqIDwgNDsgaisrKVxuICAgIHMgKz0gaGV4X2NoclsobiA+PiAoaiAqIDggKyA0KSkgJiAweDBmXSArIGhleF9jaHJbKG4gPj4gKGogKiA4KSkgJiAweDBmXTtcbiAgcmV0dXJuIHM7XG59XG5cbmZ1bmN0aW9uIGhleCh4KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykgeFtpXSA9IHJoZXgoeFtpXSk7XG4gIHJldHVybiB4LmpvaW4oXCJcIik7XG59XG5cbi8vIENvbnZlcnRzIGEgNC1ieXRlIG51bWJlciB0byBieXRlIHN0cmluZ1xuZnVuY3Rpb24gc2luZ2xlVG9CeXRlU3RyaW5nKG4pIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKG4gJiAweGZmKSA+PiAwLFxuICAgIChuICYgMHhmZjAwKSA+PiA4LFxuICAgIChuICYgMHhmZjAwMDApID4+IDE2LFxuICAgIChuICYgMHhmZjAwMDAwMCkgPj4gMjRcbiAgKTtcbn1cblxuLy8gQ29udmVydHMgYW4gYXJyYXkgb2YgbnVtYmVycyB0byBhIGJ5dGUgc3RyaW5nXG5mdW5jdGlvbiB0b0J5dGVTdHJpbmcoeCkge1xuICByZXR1cm4geC5tYXAoc2luZ2xlVG9CeXRlU3RyaW5nKS5qb2luKFwiXCIpO1xufVxuXG4vLyBSZXR1cm5zIHRoZSBNRDUgaGFzaCBhcyBhIGJ5dGUgc3RyaW5nXG5mdW5jdGlvbiBtZDVCaW4ocykge1xuICByZXR1cm4gdG9CeXRlU3RyaW5nKG1kNTEocykpO1xufVxuXG4vLyBSZXR1cm5zIE1ENSBoYXNoIGFzIGEgaGV4IHN0cmluZ1xuZnVuY3Rpb24gbWQ1KHMpIHtcbiAgcmV0dXJuIGhleChtZDUxKHMpKTtcbn1cblxudmFyIG1kNUNoZWNrID0gbWQ1KFwiaGVsbG9cIikgIT0gXCI1ZDQxNDAyYWJjNGIyYTc2Yjk3MTlkOTExMDE3YzU5MlwiO1xuXG5mdW5jdGlvbiBhZGQzMihhLCBiKSB7XG4gIGlmIChtZDVDaGVjaykge1xuICAgIC8qIGlmIHRoZSBtZDVDaGVjayBkb2VzIG5vdCBtYXRjaFxuICAgICB0aGUgZXhwZWN0ZWQgdmFsdWUsIHdlJ3JlIGRlYWxpbmdcbiAgICAgd2l0aCBhbiBvbGQgYnJvd3NlciBhbmQgbmVlZFxuICAgICB0aGlzIGZ1bmN0aW9uLiAqL1xuICAgIHZhciBsc3cgPSAoYSAmIDB4ZmZmZikgKyAoYiAmIDB4ZmZmZiksXG4gICAgICBtc3cgPSAoYSA+PiAxNikgKyAoYiA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhmZmZmKTtcbiAgfSBlbHNlIHtcbiAgICAvKiB0aGlzIGZ1bmN0aW9uIGlzIG11Y2ggZmFzdGVyLFxuICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICBhcmUgdGhlIG9ubHkgb25lcyBJIGtub3cgb2YgdGhhdFxuICAgIG5lZWQgdGhlIGlkaW90aWMgc2Vjb25kIGZ1bmN0aW9uLFxuICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHJldHVybiAoYSArIGIpICYgMHhmZmZmZmZmZjtcbiAgfVxufVxuXG5leHBvcnQgeyBtZDUsIG1kNUJpbiB9O1xuIiwiLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIEZQREYgaXMgcmVsZWFzZWQgdW5kZXIgYSBwZXJtaXNzaXZlIGxpY2Vuc2U6IHRoZXJlIGlzIG5vIHVzYWdlIHJlc3RyaWN0aW9uLlxyXG4gKiBZb3UgbWF5IGVtYmVkIGl0IGZyZWVseSBpbiB5b3VyIGFwcGxpY2F0aW9uIChjb21tZXJjaWFsIG9yIG5vdCksIHdpdGggb3JcclxuICogd2l0aG91dCBtb2RpZmljYXRpb25zLlxyXG4gKlxyXG4gKiBSZWZlcmVuY2U6IGh0dHA6Ly93d3cuZnBkZi5vcmcvZW4vc2NyaXB0L3NjcmlwdDM3LnBocFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHJlcGVhdChzdHIsIG51bSkge1xyXG4gIHJldHVybiBuZXcgQXJyYXkobnVtICsgMSkuam9pbihzdHIpO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgYSBieXRlIHN0cmluZyB0byBhIGhleCBzdHJpbmdcclxuICpcclxuICogQG5hbWUgcmM0XHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IEJ5dGUgc3RyaW5nIG9mIGVuY3J5cHRpb24ga2V5XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIEJ5dGUgc3RyaW5nIG9mIGRhdGEgdG8gYmUgZW5jcnlwdGVkXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEVuY3J5cHRlZCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIHJjNChrZXksIGRhdGEpIHtcclxuICB2YXIgbGFzdEtleSwgbGFzdFN0YXRlO1xyXG4gIGlmIChrZXkgIT09IGxhc3RLZXkpIHtcclxuICAgIHZhciBrID0gcmVwZWF0KGtleSwgKCgyNTYgLyBrZXkubGVuZ3RoKSA+PiAwKSArIDEpO1xyXG4gICAgdmFyIHN0YXRlID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XHJcbiAgICAgIHN0YXRlW2ldID0gaTtcclxuICAgIH1cclxuICAgIHZhciBqID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcclxuICAgICAgdmFyIHQgPSBzdGF0ZVtpXTtcclxuICAgICAgaiA9IChqICsgdCArIGsuY2hhckNvZGVBdChpKSkgJSAyNTY7XHJcbiAgICAgIHN0YXRlW2ldID0gc3RhdGVbal07XHJcbiAgICAgIHN0YXRlW2pdID0gdDtcclxuICAgIH1cclxuICAgIGxhc3RLZXkgPSBrZXk7XHJcbiAgICBsYXN0U3RhdGUgPSBzdGF0ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgc3RhdGUgPSBsYXN0U3RhdGU7XHJcbiAgfVxyXG4gIHZhciBsZW5ndGggPSBkYXRhLmxlbmd0aDtcclxuICB2YXIgYSA9IDA7XHJcbiAgdmFyIGIgPSAwO1xyXG4gIHZhciBvdXQgPSBcIlwiO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgIGEgPSAoYSArIDEpICUgMjU2O1xyXG4gICAgdCA9IHN0YXRlW2FdO1xyXG4gICAgYiA9IChiICsgdCkgJSAyNTY7XHJcbiAgICBzdGF0ZVthXSA9IHN0YXRlW2JdO1xyXG4gICAgc3RhdGVbYl0gPSB0O1xyXG4gICAgayA9IHN0YXRlWyhzdGF0ZVthXSArIHN0YXRlW2JdKSAlIDI1Nl07XHJcbiAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhLmNoYXJDb2RlQXQoaSkgXiBrKTtcclxuICB9XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG5cclxuZXhwb3J0IHsgcmM0IH07XHJcbiIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxyXG4gKiBBdXRob3I6IE93ZW4gTGVvbmcgKEBvd2VubDEzMSlcclxuICogRGF0ZTogMTUgT2N0IDIwMjBcclxuICogUmVmZXJlbmNlczpcclxuICogaHR0cHM6Ly93d3cuY3MuY211LmVkdS9+ZHN0L0Fkb2JlL0dhbGxlcnkvYW5vbjIxanVsMDEtcGRmLWVuY3J5cHRpb24udHh0XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mb2xpb2pzL3BkZmtpdC9ibG9iL21hc3Rlci9saWIvc2VjdXJpdHkuanNcclxuICogaHR0cDovL3d3dy5mcGRmLm9yZy9lbi9zY3JpcHQvc2NyaXB0MzcucGhwXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgbWQ1QmluIH0gZnJvbSBcIi4vbWQ1LmpzXCI7XHJcbmltcG9ydCB7IHJjNCB9IGZyb20gXCIuL3JjNC5qc1wiO1xyXG5cclxudmFyIHBlcm1pc3Npb25PcHRpb25zID0ge1xyXG4gIHByaW50OiA0LFxyXG4gIG1vZGlmeTogOCxcclxuICBjb3B5OiAxNixcclxuICBcImFubm90LWZvcm1zXCI6IDMyXHJcbn07XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZXMgZW5jcnlwdGlvbiBzZXR0aW5nc1xyXG4gKlxyXG4gKiBAbmFtZSBjb25zdHJ1Y3RvclxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtBcnJheX0gcGVybWlzc2lvbnMgUGVybWlzc2lvbnMgYWxsb3dlZCBmb3IgdXNlciwgXCJwcmludFwiLCBcIm1vZGlmeVwiLCBcImNvcHlcIiBhbmQgXCJhbm5vdC1mb3Jtc1wiLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdXNlclBhc3N3b3JkIFBlcm1pc3Npb25zIGFwcGx5IHRvIHRoaXMgdXNlci4gTGVhdmluZyB0aGlzIGVtcHR5IG1lYW5zIHRoZSBkb2N1bWVudFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIG5vdCBwYXNzd29yZCBwcm90ZWN0ZWQgYnV0IHZpZXdlciBoYXMgdGhlIGFib3ZlIHBlcm1pc3Npb25zLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gb3duZXJQYXNzd29yZCBPd25lciBoYXMgZnVsbCBmdW5jdGlvbmFsaXRpZXMgdG8gdGhlIGZpbGUuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlSWQgQXMgaGV4IHN0cmluZywgc2hvdWxkIGJlIHNhbWUgYXMgdGhlIGZpbGUgSUQgaW4gdGhlIHRyYWlsZXIuXHJcbiAqIEBleGFtcGxlXHJcbiAqIHZhciBzZWN1cml0eSA9IG5ldyBQREZTZWN1cml0eShbXCJwcmludFwiXSlcclxuICovXHJcbmZ1bmN0aW9uIFBERlNlY3VyaXR5KHBlcm1pc3Npb25zLCB1c2VyUGFzc3dvcmQsIG93bmVyUGFzc3dvcmQsIGZpbGVJZCkge1xyXG4gIHRoaXMudiA9IDE7IC8vIGFsZ29yaXRobSAxLCBmdXR1cmUgd29yayBjYW4gYWRkIGluIG1vcmUgcmVjZW50IGVuY3J5cHRpb24gc2NoZW1lc1xyXG4gIHRoaXMuciA9IDI7IC8vIHJldmlzaW9uIDJcclxuXHJcbiAgLy8gc2V0IGZsYWdzIGZvciB3aGF0IGZ1bmN0aW9uYWxpdGllcyB0aGUgdXNlciBjYW4gYWNjZXNzXHJcbiAgbGV0IHByb3RlY3Rpb24gPSAxOTI7XHJcbiAgcGVybWlzc2lvbnMuZm9yRWFjaChmdW5jdGlvbihwZXJtKSB7XHJcbiAgICBpZiAodHlwZW9mIHBlcm1pc3Npb25PcHRpb25zLnBlcm0gIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwZXJtaXNzaW9uOiBcIiArIHBlcm0pO1xyXG4gICAgfVxyXG4gICAgcHJvdGVjdGlvbiArPSBwZXJtaXNzaW9uT3B0aW9uc1twZXJtXTtcclxuICB9KTtcclxuXHJcbiAgLy8gcGFkZGluZyBpcyB1c2VkIHRvIHBhZCB0aGUgcGFzc3dvcmRzIHRvIDMyIGJ5dGVzLCBhbHNvIGlzIGhhc2hlZCBhbmQgc3RvcmVkIGluIHRoZSBmaW5hbCBQREZcclxuICB0aGlzLnBhZGRpbmcgPVxyXG4gICAgXCJcXHgyOFxceEJGXFx4NEVcXHg1RVxceDRFXFx4NzVcXHg4QVxceDQxXFx4NjRcXHgwMFxceDRFXFx4NTZcXHhGRlxceEZBXFx4MDFcXHgwOFwiICtcclxuICAgIFwiXFx4MkVcXHgyRVxceDAwXFx4QjZcXHhEMFxceDY4XFx4M0VcXHg4MFxceDJGXFx4MENcXHhBOVxceEZFXFx4NjRcXHg1M1xceDY5XFx4N0FcIjtcclxuICBsZXQgcGFkZGVkVXNlclBhc3N3b3JkID0gKHVzZXJQYXNzd29yZCArIHRoaXMucGFkZGluZykuc3Vic3RyKDAsIDMyKTtcclxuICBsZXQgcGFkZGVkT3duZXJQYXNzd29yZCA9IChvd25lclBhc3N3b3JkICsgdGhpcy5wYWRkaW5nKS5zdWJzdHIoMCwgMzIpO1xyXG5cclxuICB0aGlzLk8gPSB0aGlzLnByb2Nlc3NPd25lclBhc3N3b3JkKHBhZGRlZFVzZXJQYXNzd29yZCwgcGFkZGVkT3duZXJQYXNzd29yZCk7XHJcbiAgdGhpcy5QID0gLSgocHJvdGVjdGlvbiBeIDI1NSkgKyAxKTtcclxuICB0aGlzLmVuY3J5cHRpb25LZXkgPSBtZDVCaW4oXHJcbiAgICBwYWRkZWRVc2VyUGFzc3dvcmQgK1xyXG4gICAgICB0aGlzLk8gK1xyXG4gICAgICB0aGlzLmxzYkZpcnN0V29yZCh0aGlzLlApICtcclxuICAgICAgdGhpcy5oZXhUb0J5dGVzKGZpbGVJZClcclxuICApLnN1YnN0cigwLCA1KTtcclxuICB0aGlzLlUgPSByYzQodGhpcy5lbmNyeXB0aW9uS2V5LCB0aGlzLnBhZGRpbmcpO1xyXG59XHJcblxyXG4vKipcclxuICogQnJlYWtzIGRvd24gYSA0LWJ5dGUgbnVtYmVyIGludG8gaXRzIGluZGl2aWR1YWwgYnl0ZXMsIHdpdGggdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdCBmaXJzdFxyXG4gKlxyXG4gKiBAbmFtZSBsc2JGaXJzdFdvcmRcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkYXRhIDMyLWJpdCBudW1iZXJcclxuICogQHJldHVybnMge0FycmF5fVxyXG4gKi9cclxuUERGU2VjdXJpdHkucHJvdG90eXBlLmxzYkZpcnN0V29yZCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgIChkYXRhID4+IDApICYgMHhmZixcclxuICAgIChkYXRhID4+IDgpICYgMHhmZixcclxuICAgIChkYXRhID4+IDE2KSAmIDB4ZmYsXHJcbiAgICAoZGF0YSA+PiAyNCkgJiAweGZmXHJcbiAgKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhIGJ5dGUgc3RyaW5nIHRvIGEgaGV4IHN0cmluZ1xyXG4gKlxyXG4gKiBAbmFtZSB0b0hleFN0cmluZ1xyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtTdHJpbmd9IGJ5dGVTdHJpbmcgQnl0ZSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ31cclxuICovXHJcblBERlNlY3VyaXR5LnByb3RvdHlwZS50b0hleFN0cmluZyA9IGZ1bmN0aW9uKGJ5dGVTdHJpbmcpIHtcclxuICByZXR1cm4gYnl0ZVN0cmluZ1xyXG4gICAgLnNwbGl0KFwiXCIpXHJcbiAgICAubWFwKGZ1bmN0aW9uKGJ5dGUpIHtcclxuICAgICAgcmV0dXJuIChcIjBcIiArIChieXRlLmNoYXJDb2RlQXQoMCkgJiAweGZmKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcclxuICAgIH0pXHJcbiAgICAuam9pbihcIlwiKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBhIGhleCBzdHJpbmcgdG8gYSBieXRlIHN0cmluZ1xyXG4gKlxyXG4gKiBAbmFtZSBoZXhUb0J5dGVzXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1N0cmluZ30gaGV4IEhleCBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ31cclxuICovXHJcblBERlNlY3VyaXR5LnByb3RvdHlwZS5oZXhUb0J5dGVzID0gZnVuY3Rpb24oaGV4KSB7XHJcbiAgZm9yICh2YXIgYnl0ZXMgPSBbXSwgYyA9IDA7IGMgPCBoZXgubGVuZ3RoOyBjICs9IDIpXHJcbiAgICBieXRlcy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LnN1YnN0cihjLCAyKSwgMTYpKSk7XHJcbiAgcmV0dXJuIGJ5dGVzLmpvaW4oXCJcIik7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29tcHV0ZXMgdGhlICdPJyBmaWVsZCBpbiB0aGUgZW5jcnlwdGlvbiBkaWN0aW9uYXJ5XHJcbiAqXHJcbiAqIEBuYW1lIHByb2Nlc3NPd25lclBhc3N3b3JkXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFkZGVkVXNlclBhc3N3b3JkIEJ5dGUgc3RyaW5nIG9mIHBhZGRlZCB1c2VyIHBhc3N3b3JkXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYWRkZWRPd25lclBhc3N3b3JkIEJ5dGUgc3RyaW5nIG9mIHBhZGRlZCBvd25lciBwYXNzd29yZFxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gKi9cclxuUERGU2VjdXJpdHkucHJvdG90eXBlLnByb2Nlc3NPd25lclBhc3N3b3JkID0gZnVuY3Rpb24oXHJcbiAgcGFkZGVkVXNlclBhc3N3b3JkLFxyXG4gIHBhZGRlZE93bmVyUGFzc3dvcmRcclxuKSB7XHJcbiAgbGV0IGtleSA9IG1kNUJpbihwYWRkZWRPd25lclBhc3N3b3JkKS5zdWJzdHIoMCwgNSk7XHJcbiAgcmV0dXJuIHJjNChrZXksIHBhZGRlZFVzZXJQYXNzd29yZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhbiBlbmNyeXB0b3IgZnVuY3Rpb24gd2hpY2ggY2FuIHRha2UgaW4gYSBieXRlIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgZW5jcnlwdGVkIHZlcnNpb25cclxuICpcclxuICogQG5hbWUgZW5jcnlwdG9yXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2JqZWN0SWRcclxuICogQHBhcmFtIHtudW1iZXJ9IGdlbmVyYXRpb24gTm90IHN1cmUgd2hhdCB0aGlzIGlzIGZvciwgeW91IGNhbiBzZXQgaXQgdG8gMFxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqIEBleGFtcGxlXHJcbiAqIG91dChcInN0cmVhbVwiKTtcclxuICogZW5jcnlwdG9yID0gc2VjdXJpdHkuZW5jcnlwdG9yKG9iamVjdC5pZCwgMCk7XHJcbiAqIG91dChlbmNyeXB0b3IoZGF0YSkpO1xyXG4gKiBvdXQoXCJlbmRzdHJlYW1cIik7XHJcbiAqL1xyXG5QREZTZWN1cml0eS5wcm90b3R5cGUuZW5jcnlwdG9yID0gZnVuY3Rpb24ob2JqZWN0SWQsIGdlbmVyYXRpb24pIHtcclxuICBsZXQga2V5ID0gbWQ1QmluKFxyXG4gICAgdGhpcy5lbmNyeXB0aW9uS2V5ICtcclxuICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShcclxuICAgICAgICBvYmplY3RJZCAmIDB4ZmYsXHJcbiAgICAgICAgKG9iamVjdElkID4+IDgpICYgMHhmZixcclxuICAgICAgICAob2JqZWN0SWQgPj4gMTYpICYgMHhmZixcclxuICAgICAgICBnZW5lcmF0aW9uICYgMHhmZixcclxuICAgICAgICAoZ2VuZXJhdGlvbiA+PiA4KSAmIDB4ZmZcclxuICAgICAgKVxyXG4gICkuc3Vic3RyKDAsIDEwKTtcclxuICByZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgcmV0dXJuIHJjNChrZXksIGRhdGEpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgeyBQREZTZWN1cml0eSB9O1xyXG4iLCIvKipcbiAqIENvbnZlcnQgc3RyaW5nIHRvIGBQREYgTmFtZSBPYmplY3RgLlxuICogRGV0YWlsOiBQREYgUmVmZXJlbmNlIDEuMyAtIENoYXB0ZXIgMy4yLjQgTmFtZSBPYmplY3RcbiAqIEBwYXJhbSBzdHJcbiAqL1xuZnVuY3Rpb24gdG9QREZOYW1lKHN0cikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICBpZiAoL1teXFx1MDAwMC1cXHUwMGZmXS8udGVzdChzdHIpKSB7XG4gICAgLy8gbm9uIGFzY2lpIHN0cmluZ1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSW52YWxpZCBQREYgTmFtZSBPYmplY3Q6IFwiICsgc3RyICsgXCIsIE9ubHkgYWNjZXB0IEFTQ0lJIGNoYXJhY3RlcnMuXCJcbiAgICApO1xuICB9XG4gIHZhciByZXN1bHQgPSBcIlwiLFxuICAgIHN0ckxlbmd0aCA9IHN0ci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyTGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoXG4gICAgICBjaGFyQ29kZSA8IDB4MjEgfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDIzIC8qICMgKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDI1IC8qICUgKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDI4IC8qICggKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDI5IC8qICkgKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDJmIC8qIC8gKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDNjIC8qIDwgKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDNlIC8qID4gKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDViIC8qIFsgKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDVkIC8qIF0gKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDdiIC8qIHsgKi8gfHxcbiAgICAgIGNoYXJDb2RlID09PSAweDdkIC8qIH0gKi8gfHxcbiAgICAgIGNoYXJDb2RlID4gMHg3ZVxuICAgICkge1xuICAgICAgLy8gQ2hhciAgICBDaGFyQ29kZSAgICBoZXhTdHIgICBwYWRkaW5nSGV4U3RyICAgIFJlc3VsdFxuICAgICAgLy8gXCJcXHRcIiAgICA5ICAgICAgICAgICA5ICAgICAgICAwOSAgICAgICAgICAgICAgICMwOVxuICAgICAgLy8gXCIgXCIgICAgIDMyICAgICAgICAgIDIwICAgICAgIDIwICAgICAgICAgICAgICAgIzIwXG4gICAgICAvLyBcIsKpXCIgICAgIDE2OSAgICAgICAgIGE5ICAgICAgIGE5ICAgICAgICAgICAgICAgI2E5XG4gICAgICB2YXIgaGV4U3RyID0gY2hhckNvZGUudG9TdHJpbmcoMTYpLFxuICAgICAgICBwYWRkaW5nSGV4U3RyID0gKFwiMFwiICsgaGV4U3RyKS5zbGljZSgtMik7XG5cbiAgICAgIHJlc3VsdCArPSBcIiNcIiArIHBhZGRpbmdIZXhTdHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyIEFTQ0lJIHByaW50YWJsZSBjaGFyYWN0ZXJzIGJldHdlZW4gMHgyMSA8PSBYIDw9IDB4N2VcbiAgICAgIHJlc3VsdCArPSBzdHJbaV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCB7IHRvUERGTmFtZSB9O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xyXG5cclxuaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSBcIi4vbGlicy9GaWxlU2F2ZXIuanNcIjtcclxuaW1wb3J0IHsgZ2xvYmFsT2JqZWN0IH0gZnJvbSBcIi4vbGlicy9nbG9iYWxPYmplY3QuanNcIjtcclxuaW1wb3J0IHsgUkdCQ29sb3IgfSBmcm9tIFwiLi9saWJzL3JnYmNvbG9yLmpzXCI7XHJcbmltcG9ydCB7IGJ0b2EgfSBmcm9tIFwiLi9saWJzL0F0b2JCdG9hLmpzXCI7XHJcbmltcG9ydCB7IGNvbnNvbGUgfSBmcm9tIFwiLi9saWJzL2NvbnNvbGUuanNcIjtcclxuaW1wb3J0IHsgUERGU2VjdXJpdHkgfSBmcm9tIFwiLi9saWJzL3BkZnNlY3VyaXR5LmpzXCI7XHJcbmltcG9ydCB7IHRvUERGTmFtZSB9IGZyb20gXCIuL2xpYnMvcGRmbmFtZS5qc1wiO1xyXG4vKipcclxuICoganNQREYncyBJbnRlcm5hbCBQdWJTdWIgSW1wbGVtZW50YXRpb24uXHJcbiAqIEJhY2t3YXJkIGNvbXBhdGlibGUgcmV3cml0dGVuIG9uIDIwMTQgYnlcclxuICogRGllZ28gQ2Fzb3JyYW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9kaWVnb2NyXHJcbiAqXHJcbiAqIEBjbGFzc1xyXG4gKiBAbmFtZSBQdWJTdWJcclxuICogQGlnbm9yZVxyXG4gKi9cclxuZnVuY3Rpb24gUHViU3ViKGNvbnRleHQpIHtcclxuICBpZiAodHlwZW9mIGNvbnRleHQgIT09IFwib2JqZWN0XCIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgXCJJbnZhbGlkIENvbnRleHQgcGFzc2VkIHRvIGluaXRpYWxpemUgUHViU3ViIChqc1BERi1tb2R1bGUpXCJcclxuICAgICk7XHJcbiAgfVxyXG4gIHZhciB0b3BpY3MgPSB7fTtcclxuXHJcbiAgdGhpcy5zdWJzY3JpYmUgPSBmdW5jdGlvbih0b3BpYywgY2FsbGJhY2ssIG9uY2UpIHtcclxuICAgIG9uY2UgPSBvbmNlIHx8IGZhbHNlO1xyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgdG9waWMgIT09IFwic3RyaW5nXCIgfHxcclxuICAgICAgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIgfHxcclxuICAgICAgdHlwZW9mIG9uY2UgIT09IFwiYm9vbGVhblwiXHJcbiAgICApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIFB1YlN1Yi5zdWJzY3JpYmUgKGpzUERGLW1vZHVsZSlcIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdG9waWNzLmhhc093blByb3BlcnR5KHRvcGljKSkge1xyXG4gICAgICB0b3BpY3NbdG9waWNdID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRva2VuID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNSk7XHJcbiAgICB0b3BpY3NbdG9waWNdW3Rva2VuXSA9IFtjYWxsYmFjaywgISFvbmNlXTtcclxuXHJcbiAgICByZXR1cm4gdG9rZW47XHJcbiAgfTtcclxuXHJcbiAgdGhpcy51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKHRva2VuKSB7XHJcbiAgICBmb3IgKHZhciB0b3BpYyBpbiB0b3BpY3MpIHtcclxuICAgICAgaWYgKHRvcGljc1t0b3BpY11bdG9rZW5dKSB7XHJcbiAgICAgICAgZGVsZXRlIHRvcGljc1t0b3BpY11bdG9rZW5dO1xyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0b3BpY3NbdG9waWNdKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGRlbGV0ZSB0b3BpY3NbdG9waWNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHRoaXMucHVibGlzaCA9IGZ1bmN0aW9uKHRvcGljKSB7XHJcbiAgICBpZiAodG9waWNzLmhhc093blByb3BlcnR5KHRvcGljKSkge1xyXG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXHJcbiAgICAgICAgdG9rZW5zID0gW107XHJcblxyXG4gICAgICBmb3IgKHZhciB0b2tlbiBpbiB0b3BpY3NbdG9waWNdKSB7XHJcbiAgICAgICAgdmFyIHN1YiA9IHRvcGljc1t0b3BpY11bdG9rZW5dO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBzdWJbMF0uYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgIGlmIChnbG9iYWxPYmplY3QuY29uc29sZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwianNQREYgUHViU3ViIEVycm9yXCIsIGV4Lm1lc3NhZ2UsIGV4KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN1YlsxXSkgdG9rZW5zLnB1c2godG9rZW4pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0b2tlbnMubGVuZ3RoKSB0b2tlbnMuZm9yRWFjaCh0aGlzLnVuc3Vic2NyaWJlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmdldFRvcGljcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRvcGljcztcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBHU3RhdGUocGFyYW1ldGVycykge1xyXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHU3RhdGUpKSB7XHJcbiAgICByZXR1cm4gbmV3IEdTdGF0ZShwYXJhbWV0ZXJzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIEdTdGF0ZSNvcGFjaXR5XHJcbiAgICogQHR5cGUge2FueX1cclxuICAgKi9cclxuICAvKipcclxuICAgKiBAbmFtZSBHU3RhdGUjc3Ryb2tlLW9wYWNpdHlcclxuICAgKiBAdHlwZSB7YW55fVxyXG4gICAqL1xyXG4gIHZhciBzdXBwb3J0ZWQgPSBcIm9wYWNpdHksc3Ryb2tlLW9wYWNpdHlcIi5zcGxpdChcIixcIik7XHJcbiAgZm9yICh2YXIgcCBpbiBwYXJhbWV0ZXJzKSB7XHJcbiAgICBpZiAocGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShwKSAmJiBzdXBwb3J0ZWQuaW5kZXhPZihwKSA+PSAwKSB7XHJcbiAgICAgIHRoaXNbcF0gPSBwYXJhbWV0ZXJzW3BdO1xyXG4gICAgfVxyXG4gIH1cclxuICAvKipcclxuICAgKiBAbmFtZSBHU3RhdGUjaWRcclxuICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIHRoaXMuaWQgPSBcIlwiOyAvLyBzZXQgYnkgYWRkR1N0YXRlKClcclxuICAvKipcclxuICAgKiBAbmFtZSBHU3RhdGUjb2JqZWN0TnVtYmVyXHJcbiAgICogQHR5cGUge251bWJlcn1cclxuICAgKi9cclxuICB0aGlzLm9iamVjdE51bWJlciA9IC0xOyAvLyB3aWxsIGJlIHNldCBieSBwdXRHU3RhdGUoKVxyXG59XHJcblxyXG5HU3RhdGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xyXG4gIHZhciBpZ25vcmUgPSBcImlkLG9iamVjdE51bWJlcixlcXVhbHNcIjtcclxuICB2YXIgcDtcclxuICBpZiAoIW90aGVyIHx8IHR5cGVvZiBvdGhlciAhPT0gdHlwZW9mIHRoaXMpIHJldHVybiBmYWxzZTtcclxuICB2YXIgY291bnQgPSAwO1xyXG4gIGZvciAocCBpbiB0aGlzKSB7XHJcbiAgICBpZiAoaWdub3JlLmluZGV4T2YocCkgPj0gMCkgY29udGludWU7XHJcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiAhb3RoZXIuaGFzT3duUHJvcGVydHkocCkpIHJldHVybiBmYWxzZTtcclxuICAgIGlmICh0aGlzW3BdICE9PSBvdGhlcltwXSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgY291bnQrKztcclxuICB9XHJcbiAgZm9yIChwIGluIG90aGVyKSB7XHJcbiAgICBpZiAob3RoZXIuaGFzT3duUHJvcGVydHkocCkgJiYgaWdub3JlLmluZGV4T2YocCkgPCAwKSBjb3VudC0tO1xyXG4gIH1cclxuICByZXR1cm4gY291bnQgPT09IDA7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBQYXR0ZXJuKGdTdGF0ZSwgbWF0cml4KSB7XHJcbiAgdGhpcy5nU3RhdGUgPSBnU3RhdGU7XHJcbiAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XHJcblxyXG4gIHRoaXMuaWQgPSBcIlwiOyAvLyBzZXQgYnkgYWRkUGF0dGVybigpXHJcbiAgdGhpcy5vYmplY3ROdW1iZXIgPSAtMTsgLy8gd2lsbCBiZSBzZXQgYnkgcHV0UGF0dGVybigpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNoYWRpbmdQYXR0ZXJuKHR5cGUsIGNvb3JkcywgY29sb3JzLCBnU3RhdGUsIG1hdHJpeCkge1xyXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTaGFkaW5nUGF0dGVybikpIHtcclxuICAgIHJldHVybiBuZXcgU2hhZGluZ1BhdHRlcm4odHlwZSwgY29vcmRzLCBjb2xvcnMsIGdTdGF0ZSwgbWF0cml4KTtcclxuICB9XHJcblxyXG4gIC8vIHNlZSBwdXRQYXR0ZXJuKCkgZm9yIGluZm9ybWF0aW9uIGhvdyB0aGV5IGFyZSByZWFsaXplZFxyXG4gIHRoaXMudHlwZSA9IHR5cGUgPT09IFwiYXhpYWxcIiA/IDIgOiAzO1xyXG4gIHRoaXMuY29vcmRzID0gY29vcmRzO1xyXG4gIHRoaXMuY29sb3JzID0gY29sb3JzO1xyXG5cclxuICBQYXR0ZXJuLmNhbGwodGhpcywgZ1N0YXRlLCBtYXRyaXgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBUaWxpbmdQYXR0ZXJuKGJvdW5kaW5nQm94LCB4U3RlcCwgeVN0ZXAsIGdTdGF0ZSwgbWF0cml4KSB7XHJcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFRpbGluZ1BhdHRlcm4pKSB7XHJcbiAgICByZXR1cm4gbmV3IFRpbGluZ1BhdHRlcm4oYm91bmRpbmdCb3gsIHhTdGVwLCB5U3RlcCwgZ1N0YXRlLCBtYXRyaXgpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5ib3VuZGluZ0JveCA9IGJvdW5kaW5nQm94O1xyXG4gIHRoaXMueFN0ZXAgPSB4U3RlcDtcclxuICB0aGlzLnlTdGVwID0geVN0ZXA7XHJcblxyXG4gIHRoaXMuc3RyZWFtID0gXCJcIjsgLy8gc2V0IGJ5IGVuZFRpbGluZ1BhdHRlcm4oKTtcclxuXHJcbiAgdGhpcy5jbG9uZUluZGV4ID0gMDtcclxuXHJcbiAgUGF0dGVybi5jYWxsKHRoaXMsIGdTdGF0ZSwgbWF0cml4KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgbmV3IGpzUERGIGRvY3VtZW50IG9iamVjdCBpbnN0YW5jZS5cclxuICogQG5hbWUganNQREZcclxuICogQGNsYXNzXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBDb2xsZWN0aW9uIG9mIHNldHRpbmdzIGluaXRpYWxpemluZyB0aGUganNQREYtaW5zdGFuY2VcclxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9yaWVudGF0aW9uPXBvcnRyYWl0XSAtIE9yaWVudGF0aW9uIG9mIHRoZSBmaXJzdCBwYWdlLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIFwicG9ydHJhaXRcIiBvciBcImxhbmRzY2FwZVwiIChvciBzaG9ydGN1dHMgXCJwXCIgb3IgXCJsXCIpLjxiciAvPlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudW5pdD1tbV0gTWVhc3VyZW1lbnQgdW5pdCAoYmFzZSB1bml0KSB0byBiZSB1c2VkIHdoZW4gY29vcmRpbmF0ZXMgYXJlIHNwZWNpZmllZC48YnIgLz5cclxuICogUG9zc2libGUgdmFsdWVzIGFyZSBcInB0XCIgKHBvaW50cyksIFwibW1cIiwgXCJjbVwiLCBcImluXCIsIFwicHhcIiwgXCJwY1wiLCBcImVtXCIgb3IgXCJleFwiLiBOb3RlIHRoYXQgaW4gb3JkZXIgdG8gZ2V0IHRoZSBjb3JyZWN0IHNjYWxpbmcgZm9yIFwicHhcIlxyXG4gKiB1bml0cywgeW91IG5lZWQgdG8gZW5hYmxlIHRoZSBob3RmaXggXCJweF9zY2FsaW5nXCIgYnkgc2V0dGluZyBvcHRpb25zLmhvdGZpeGVzID0gW1wicHhfc2NhbGluZ1wiXS5cclxuICogQHBhcmFtIHtzdHJpbmcvQXJyYXl9IFtvcHRpb25zLmZvcm1hdD1hNF0gVGhlIGZvcm1hdCBvZiB0aGUgZmlyc3QgcGFnZS4gQ2FuIGJlOjx1bD48bGk+YTAgLSBhMTA8L2xpPjxsaT5iMCAtIGIxMDwvbGk+PGxpPmMwIC0gYzEwPC9saT48bGk+ZGw8L2xpPjxsaT5sZXR0ZXI8L2xpPjxsaT5nb3Zlcm5tZW50LWxldHRlcjwvbGk+PGxpPmxlZ2FsPC9saT48bGk+anVuaW9yLWxlZ2FsPC9saT48bGk+bGVkZ2VyPC9saT48bGk+dGFibG9pZDwvbGk+PGxpPmNyZWRpdC1jYXJkPC9saT48L3VsPjxiciAvPlxyXG4gKiBEZWZhdWx0IGlzIFwiYTRcIi4gSWYgeW91IHdhbnQgdG8gdXNlIHlvdXIgb3duIGZvcm1hdCBqdXN0IHBhc3MgaW5zdGVhZCBvZiBvbmUgb2YgdGhlIGFib3ZlIHByZWRlZmluZWQgZm9ybWF0cyB0aGUgc2l6ZSBhcyBhbiBudW1iZXItYXJyYXksIGUuZy4gWzU5NS4yOCwgODQxLjg5XVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnB1dE9ubHlVc2VkRm9udHM9ZmFsc2VdIE9ubHkgcHV0IGZvbnRzIGludG8gdGhlIFBERiwgd2hpY2ggd2VyZSB1c2VkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNvbXByZXNzPWZhbHNlXSBDb21wcmVzcyB0aGUgZ2VuZXJhdGVkIFBERi5cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnByZWNpc2lvbj0xNl0gUHJlY2lzaW9uIG9mIHRoZSBlbGVtZW50LXBvc2l0aW9ucy5cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVzZXJVbml0PTEuMF0gTm90IHRvIGJlIGNvbmZ1c2VkIHdpdGggdGhlIGJhc2UgdW5pdC4gUGxlYXNlIGluZm9ybSB5b3Vyc2VsZiBiZWZvcmUgeW91IHVzZSBpdC5cclxuICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuaG90Zml4ZXNdIEFuIGFycmF5IG9mIHN0cmluZ3MgdG8gZW5hYmxlIGhvdGZpeGVzIHN1Y2ggYXMgY29ycmVjdCBwaXhlbCBzY2FsaW5nLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZW5jcnlwdGlvbl1cclxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmVuY3J5cHRpb24udXNlclBhc3N3b3JkXSBQYXNzd29yZCBmb3IgdGhlIHVzZXIgYm91bmQgYnkgdGhlIGdpdmVuIHBlcm1pc3Npb25zIGxpc3QuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5lbmNyeXB0aW9uLm93bmVyUGFzc3dvcmRdIEJvdGggdXNlclBhc3N3b3JkIGFuZCBvd25lclBhc3N3b3JkIHNob3VsZCBiZSBzZXQgZm9yIHByb3BlciBhdXRoZW50aWNhdGlvbi5cclxuICogQHBhcmFtIHtzdHJpbmdbXX0gW29wdGlvbnMuZW5jcnlwdGlvbi51c2VyUGVybWlzc2lvbnNdIEFycmF5IG9mIHBlcm1pc3Npb25zIFwicHJpbnRcIiwgXCJtb2RpZnlcIiwgXCJjb3B5XCIsIFwiYW5ub3QtZm9ybXNcIiwgYWNjZXNzaWJsZSBieSB0aGUgdXNlci5cclxuICogQHBhcmFtIHtudW1iZXJ8XCJzbWFydFwifSBbb3B0aW9ucy5mbG9hdFByZWNpc2lvbj0xNl1cclxuICogQHJldHVybnMge2pzUERGfSBqc1BERi1pbnN0YW5jZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogYGBgXHJcbiAqIHtcclxuICogIG9yaWVudGF0aW9uOiAncCcsXHJcbiAqICB1bml0OiAnbW0nLFxyXG4gKiAgZm9ybWF0OiAnYTQnLFxyXG4gKiAgcHV0T25seVVzZWRGb250czp0cnVlLFxyXG4gKiAgZmxvYXRQcmVjaXNpb246IDE2IC8vIG9yIFwic21hcnRcIiwgZGVmYXVsdCBpcyAxNlxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmZ1bmN0aW9uIGpzUERGKG9wdGlvbnMpIHtcclxuICB2YXIgb3JpZW50YXRpb24gPSB0eXBlb2YgYXJndW1lbnRzWzBdID09PSBcInN0cmluZ1wiID8gYXJndW1lbnRzWzBdIDogXCJwXCI7XHJcbiAgdmFyIHVuaXQgPSBhcmd1bWVudHNbMV07XHJcbiAgdmFyIGZvcm1hdCA9IGFyZ3VtZW50c1syXTtcclxuICB2YXIgY29tcHJlc3NQZGYgPSBhcmd1bWVudHNbM107XHJcbiAgdmFyIGZpbHRlcnMgPSBbXTtcclxuICB2YXIgdXNlclVuaXQgPSAxLjA7XHJcbiAgdmFyIHByZWNpc2lvbjtcclxuICB2YXIgZmxvYXRQcmVjaXNpb24gPSAxNjtcclxuICB2YXIgZGVmYXVsdFBhdGhPcGVyYXRpb24gPSBcIlNcIjtcclxuICB2YXIgZW5jcnlwdGlvbk9wdGlvbnMgPSBudWxsO1xyXG5cclxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICBvcmllbnRhdGlvbiA9IG9wdGlvbnMub3JpZW50YXRpb247XHJcbiAgICB1bml0ID0gb3B0aW9ucy51bml0IHx8IHVuaXQ7XHJcbiAgICBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCB8fCBmb3JtYXQ7XHJcbiAgICBjb21wcmVzc1BkZiA9IG9wdGlvbnMuY29tcHJlc3MgfHwgb3B0aW9ucy5jb21wcmVzc1BkZiB8fCBjb21wcmVzc1BkZjtcclxuICAgIGVuY3J5cHRpb25PcHRpb25zID0gb3B0aW9ucy5lbmNyeXB0aW9uIHx8IG51bGw7XHJcbiAgICBpZiAoZW5jcnlwdGlvbk9wdGlvbnMgIT09IG51bGwpIHtcclxuICAgICAgZW5jcnlwdGlvbk9wdGlvbnMudXNlclBhc3N3b3JkID0gZW5jcnlwdGlvbk9wdGlvbnMudXNlclBhc3N3b3JkIHx8IFwiXCI7XHJcbiAgICAgIGVuY3J5cHRpb25PcHRpb25zLm93bmVyUGFzc3dvcmQgPSBlbmNyeXB0aW9uT3B0aW9ucy5vd25lclBhc3N3b3JkIHx8IFwiXCI7XHJcbiAgICAgIGVuY3J5cHRpb25PcHRpb25zLnVzZXJQZXJtaXNzaW9ucyA9XHJcbiAgICAgICAgZW5jcnlwdGlvbk9wdGlvbnMudXNlclBlcm1pc3Npb25zIHx8IFtdO1xyXG4gICAgfVxyXG4gICAgdXNlclVuaXQgPVxyXG4gICAgICB0eXBlb2Ygb3B0aW9ucy51c2VyVW5pdCA9PT0gXCJudW1iZXJcIiA/IE1hdGguYWJzKG9wdGlvbnMudXNlclVuaXQpIDogMS4wO1xyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnByZWNpc2lvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBwcmVjaXNpb24gPSBvcHRpb25zLnByZWNpc2lvbjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mbG9hdFByZWNpc2lvbiAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBmbG9hdFByZWNpc2lvbiA9IG9wdGlvbnMuZmxvYXRQcmVjaXNpb247XHJcbiAgICB9XHJcbiAgICBkZWZhdWx0UGF0aE9wZXJhdGlvbiA9IG9wdGlvbnMuZGVmYXVsdFBhdGhPcGVyYXRpb24gfHwgXCJTXCI7XHJcbiAgfVxyXG5cclxuICBmaWx0ZXJzID1cclxuICAgIG9wdGlvbnMuZmlsdGVycyB8fCAoY29tcHJlc3NQZGYgPT09IHRydWUgPyBbXCJGbGF0ZUVuY29kZVwiXSA6IGZpbHRlcnMpO1xyXG5cclxuICB1bml0ID0gdW5pdCB8fCBcIm1tXCI7XHJcbiAgb3JpZW50YXRpb24gPSAoXCJcIiArIChvcmllbnRhdGlvbiB8fCBcIlBcIikpLnRvTG93ZXJDYXNlKCk7XHJcbiAgdmFyIHB1dE9ubHlVc2VkRm9udHMgPSBvcHRpb25zLnB1dE9ubHlVc2VkRm9udHMgfHwgZmFsc2U7XHJcbiAgdmFyIHVzZWRGb250cyA9IHt9O1xyXG5cclxuICB2YXIgQVBJID0ge1xyXG4gICAgaW50ZXJuYWw6IHt9LFxyXG4gICAgX19wcml2YXRlX186IHt9XHJcbiAgfTtcclxuXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLlB1YlN1YiA9IFB1YlN1YjtcclxuXHJcbiAgdmFyIHBkZlZlcnNpb24gPSBcIjEuM1wiO1xyXG4gIHZhciBnZXRQZGZWZXJzaW9uID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRQZGZWZXJzaW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gcGRmVmVyc2lvbjtcclxuICB9KTtcclxuXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLnNldFBkZlZlcnNpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcGRmVmVyc2lvbiA9IHZhbHVlO1xyXG4gIH07XHJcblxyXG4gIC8vIFNpemUgaW4gcHQgb2YgdmFyaW91cyBwYXBlciBmb3JtYXRzXHJcbiAgdmFyIHBhZ2VGb3JtYXRzID0ge1xyXG4gICAgYTA6IFsyMzgzLjk0LCAzMzcwLjM5XSxcclxuICAgIGExOiBbMTY4My43OCwgMjM4My45NF0sXHJcbiAgICBhMjogWzExOTAuNTUsIDE2ODMuNzhdLFxyXG4gICAgYTM6IFs4NDEuODksIDExOTAuNTVdLFxyXG4gICAgYTQ6IFs1OTUuMjgsIDg0MS44OV0sXHJcbiAgICBhNTogWzQxOS41MywgNTk1LjI4XSxcclxuICAgIGE2OiBbMjk3LjY0LCA0MTkuNTNdLFxyXG4gICAgYTc6IFsyMDkuNzYsIDI5Ny42NF0sXHJcbiAgICBhODogWzE0Ny40LCAyMDkuNzZdLFxyXG4gICAgYTk6IFsxMDQuODgsIDE0Ny40XSxcclxuICAgIGExMDogWzczLjcsIDEwNC44OF0sXHJcbiAgICBiMDogWzI4MzQuNjUsIDQwMDguMTldLFxyXG4gICAgYjE6IFsyMDA0LjA5LCAyODM0LjY1XSxcclxuICAgIGIyOiBbMTQxNy4zMiwgMjAwNC4wOV0sXHJcbiAgICBiMzogWzEwMDAuNjMsIDE0MTcuMzJdLFxyXG4gICAgYjQ6IFs3MDguNjYsIDEwMDAuNjNdLFxyXG4gICAgYjU6IFs0OTguOSwgNzA4LjY2XSxcclxuICAgIGI2OiBbMzU0LjMzLCA0OTguOV0sXHJcbiAgICBiNzogWzI0OS40NSwgMzU0LjMzXSxcclxuICAgIGI4OiBbMTc1Ljc1LCAyNDkuNDVdLFxyXG4gICAgYjk6IFsxMjQuNzIsIDE3NS43NV0sXHJcbiAgICBiMTA6IFs4Ny44NywgMTI0LjcyXSxcclxuICAgIGMwOiBbMjU5OS4zNywgMzY3Ni41NF0sXHJcbiAgICBjMTogWzE4MzYuODUsIDI1OTkuMzddLFxyXG4gICAgYzI6IFsxMjk4LjI3LCAxODM2Ljg1XSxcclxuICAgIGMzOiBbOTE4LjQzLCAxMjk4LjI3XSxcclxuICAgIGM0OiBbNjQ5LjEzLCA5MTguNDNdLFxyXG4gICAgYzU6IFs0NTkuMjEsIDY0OS4xM10sXHJcbiAgICBjNjogWzMyMy4xNSwgNDU5LjIxXSxcclxuICAgIGM3OiBbMjI5LjYxLCAzMjMuMTVdLFxyXG4gICAgYzg6IFsxNjEuNTcsIDIyOS42MV0sXHJcbiAgICBjOTogWzExMy4zOSwgMTYxLjU3XSxcclxuICAgIGMxMDogWzc5LjM3LCAxMTMuMzldLFxyXG4gICAgZGw6IFszMTEuODEsIDYyMy42Ml0sXHJcbiAgICBsZXR0ZXI6IFs2MTIsIDc5Ml0sXHJcbiAgICBcImdvdmVybm1lbnQtbGV0dGVyXCI6IFs1NzYsIDc1Nl0sXHJcbiAgICBsZWdhbDogWzYxMiwgMTAwOF0sXHJcbiAgICBcImp1bmlvci1sZWdhbFwiOiBbNTc2LCAzNjBdLFxyXG4gICAgbGVkZ2VyOiBbMTIyNCwgNzkyXSxcclxuICAgIHRhYmxvaWQ6IFs3OTIsIDEyMjRdLFxyXG4gICAgXCJjcmVkaXQtY2FyZFwiOiBbMTUzLCAyNDNdXHJcbiAgfTtcclxuXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLmdldFBhZ2VGb3JtYXRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gcGFnZUZvcm1hdHM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGdldFBhZ2VGb3JtYXQgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldFBhZ2VGb3JtYXQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHBhZ2VGb3JtYXRzW3ZhbHVlXTtcclxuICB9KTtcclxuXHJcbiAgZm9ybWF0ID0gZm9ybWF0IHx8IFwiYTRcIjtcclxuXHJcbiAgdmFyIEFwaU1vZGUgPSB7XHJcbiAgICBDT01QQVQ6IFwiY29tcGF0XCIsXHJcbiAgICBBRFZBTkNFRDogXCJhZHZhbmNlZFwiXHJcbiAgfTtcclxuICB2YXIgYXBpTW9kZSA9IEFwaU1vZGUuQ09NUEFUO1xyXG5cclxuICBmdW5jdGlvbiBhZHZhbmNlZEFQSSgpIHtcclxuICAgIC8vIHByZXBlbmQgZ2xvYmFsIGNoYW5nZSBvZiBiYXNpcyBtYXRyaXhcclxuICAgIC8vIChOb3csIGluc3RlYWQgb2YgY29udmVydGluZyBldmVyeSBjb29yZGluYXRlIHRvIHRoZSBwZGYgY29vcmRpbmF0ZSBzeXN0ZW0sIHdlIGFwcGx5IGEgbWF0cml4XHJcbiAgICAvLyB0aGF0IGRvZXMgdGhpcyBqb2IgZm9yIHVzIChob3dldmVyLCB0ZXh0cywgaW1hZ2VzIGFuZCBzaW1pbGFyIG9iamVjdHMgbXVzdCBiZSBkcmF3biBib3R0b20gdXApKVxyXG4gICAgdGhpcy5zYXZlR3JhcGhpY3NTdGF0ZSgpO1xyXG4gICAgb3V0KFxyXG4gICAgICBuZXcgTWF0cml4KFxyXG4gICAgICAgIHNjYWxlRmFjdG9yLFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgMCxcclxuICAgICAgICAtc2NhbGVGYWN0b3IsXHJcbiAgICAgICAgMCxcclxuICAgICAgICBnZXRQYWdlSGVpZ2h0KCkgKiBzY2FsZUZhY3RvclxyXG4gICAgICApLnRvU3RyaW5nKCkgKyBcIiBjbVwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5zZXRGb250U2l6ZSh0aGlzLmdldEZvbnRTaXplKCkgLyBzY2FsZUZhY3Rvcik7XHJcblxyXG4gICAgLy8gVGhlIGRlZmF1bHQgaW4gTXJSaW8ncyBpbXBsZW1lbnRhdGlvbiBpcyBcIlNcIiAoc3Ryb2tlKSwgd2hlcmVhcyB0aGUgZGVmYXVsdCBpbiB0aGUgeVdvcmtzIGltcGxlbWVudGF0aW9uXHJcbiAgICAvLyB3YXMgXCJuXCIgKG5vbmUpLiBBbHRob3VnaCB0aGlzIGhhcyBub3RoaW5nIHRvIGRvIHdpdGggdHJhbnNmb3Jtcywgd2Ugc2hvdWxkIHVzZSB0aGUgQVBJIHN3aXRjaCBoZXJlLlxyXG4gICAgZGVmYXVsdFBhdGhPcGVyYXRpb24gPSBcIm5cIjtcclxuXHJcbiAgICBhcGlNb2RlID0gQXBpTW9kZS5BRFZBTkNFRDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNvbXBhdEFQSSgpIHtcclxuICAgIHRoaXMucmVzdG9yZUdyYXBoaWNzU3RhdGUoKTtcclxuICAgIGRlZmF1bHRQYXRoT3BlcmF0aW9uID0gXCJTXCI7XHJcbiAgICBhcGlNb2RlID0gQXBpTW9kZS5DT01QQVQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZnVuY3Rpb24gY29tYmluZUZvbnRTdHlsZUFuZEZvbnRXZWlnaHRcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udFN0eWxlIEZvbnRzdHlsZSBvciB2YXJpYW50LiBFeGFtcGxlOiBcIml0YWxpY1wiLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSBmb250V2VpZ2h0IFdlaWdodCBvZiB0aGUgRm9udC4gRXhhbXBsZTogXCJub3JtYWxcIiB8IDQwMFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICB2YXIgY29tYmluZUZvbnRTdHlsZUFuZEZvbnRXZWlnaHQgPSAoQVBJLl9fcHJpdmF0ZV9fLmNvbWJpbmVGb250U3R5bGVBbmRGb250V2VpZ2h0ID0gZnVuY3Rpb24oXHJcbiAgICBmb250U3R5bGUsXHJcbiAgICBmb250V2VpZ2h0XHJcbiAgKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIChmb250U3R5bGUgPT0gXCJib2xkXCIgJiYgZm9udFdlaWdodCA9PSBcIm5vcm1hbFwiKSB8fFxyXG4gICAgICAoZm9udFN0eWxlID09IFwiYm9sZFwiICYmIGZvbnRXZWlnaHQgPT0gNDAwKSB8fFxyXG4gICAgICAoZm9udFN0eWxlID09IFwibm9ybWFsXCIgJiYgZm9udFdlaWdodCA9PSBcIml0YWxpY1wiKSB8fFxyXG4gICAgICAoZm9udFN0eWxlID09IFwiYm9sZFwiICYmIGZvbnRXZWlnaHQgPT0gXCJpdGFsaWNcIilcclxuICAgICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIENvbWJpbmF0aW9uIG9mIGZvbnR3ZWlnaHQgYW5kIGZvbnRzdHlsZVwiKTtcclxuICAgIH1cclxuICAgIGlmIChmb250V2VpZ2h0KSB7XHJcbiAgICAgIGZvbnRTdHlsZSA9XHJcbiAgICAgICAgZm9udFdlaWdodCA9PSA0MDAgfHwgZm9udFdlaWdodCA9PT0gXCJub3JtYWxcIlxyXG4gICAgICAgICAgPyBmb250U3R5bGUgPT09IFwiaXRhbGljXCJcclxuICAgICAgICAgICAgPyBcIml0YWxpY1wiXHJcbiAgICAgICAgICAgIDogXCJub3JtYWxcIlxyXG4gICAgICAgICAgOiAoZm9udFdlaWdodCA9PSA3MDAgfHwgZm9udFdlaWdodCA9PT0gXCJib2xkXCIpICYmXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZSA9PT0gXCJub3JtYWxcIlxyXG4gICAgICAgICAgPyBcImJvbGRcIlxyXG4gICAgICAgICAgOiAoZm9udFdlaWdodCA9PSA3MDAgPyBcImJvbGRcIiA6IGZvbnRXZWlnaHQpICsgXCJcIiArIGZvbnRTdHlsZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmb250U3R5bGU7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBjYWxsYmFjayBBcGlTd2l0Y2hCb2R5XHJcbiAgICogQHBhcmFtIHtqc1BERn0gcGRmXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMganNQREYgb2ZmZXJzIHR3byBBUEkgbW9kZXMgd2hpY2ggZGlmZmVyIGluIHRoZSB3YXkgdGhleSBjb252ZXJ0IGJldHdlZW4gdGhlIHRoZSB1c3VhbFxyXG4gICAqIHNjcmVlbiBjb29yZGluYXRlcyBhbmQgdGhlIFBERiBjb29yZGluYXRlIHN5c3RlbS5cclxuICAgKiAgIC0gXCJjb21wYXRcIjogT2ZmZXJzIGZ1bGwgY29tcGF0aWJpbGl0eSBhY3Jvc3MgYWxsIHBsdWdpbnMgYnV0IGRvZXMgbm90IGFsbG93IGFyYml0cmFyeSB0cmFuc2Zvcm1zXHJcbiAgICogICAtIFwiYWR2YW5jZWRcIjogQWxsb3dzIGFyYml0cmFyeSB0cmFuc2Zvcm1zIGFuZCBtb3JlIGFkdmFuY2VkIGZlYXR1cmVzIGxpa2UgcGF0dGVybiBmaWxscy4gU29tZSBwbHVnaW5zIG1pZ2h0XHJcbiAgICogICAgIG5vdCBzdXBwb3J0IHRoaXMgbW9kZSwgdGhvdWdoLlxyXG4gICAqIEluaXRpYWwgbW9kZSBpcyBcImNvbXBhdFwiLlxyXG4gICAqXHJcbiAgICogWW91IGNhbiBlaXRoZXIgcHJvdmlkZSBhIGNhbGxiYWNrIHRvIHRoZSBib2R5IGFyZ3VtZW50LCB3aGljaCBtZWFucyB0aGF0IGpzUERGIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmFjayB0b1xyXG4gICAqIHRoZSBvcmlnaW5hbCBBUEkgbW9kZSBhZnRlcndhcmRzOyBvciB5b3UgY2FuIG9taXQgdGhlIGNhbGxiYWNrIGFuZCBzd2l0Y2ggYmFjayBtYW51YWxseSB1c2luZyB7QGxpbmsgY29tcGF0QVBJfS5cclxuICAgKlxyXG4gICAqIE5vdGUsIHRoYXQgdGhlIGNhbGxzIHRvIHtAbGluayBzYXZlR3JhcGhpY3NTdGF0ZX0gYW5kIHtAbGluayByZXN0b3JlR3JhcGhpY3NTdGF0ZX0gbmVlZCB0byBiZSBiYWxhbmNlZCB3aXRoaW4gdGhlXHJcbiAgICogY2FsbGJhY2sgb3IgYmV0d2VlbiBjYWxscyBvZiB0aGlzIG1ldGhvZCBhbmQgaXRzIGNvdW50ZXJwYXJ0IHtAbGluayBjb21wYXRBUEl9LiBDYWxscyB0byB7QGxpbmsgYmVnaW5Gb3JtT2JqZWN0fVxyXG4gICAqIG9yIHtAbGluayBiZWdpblRpbGluZ1BhdHRlcm59IG5lZWQgdG8gYmUgY2xvc2VkIGJ5IHRoZWlyIGNvdW50ZXJwYXJ0cyBiZWZvcmUgc3dpdGNoaW5nIGJhY2sgdG8gXCJjb21wYXRcIiBBUEkgbW9kZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXBpU3dpdGNoQm9keT19IGJvZHkgV2hlbiBwcm92aWRlZCwgdGhpcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgQVBJIG1vZGUgaGFzIGJlZW4gc3dpdGNoZWQuXHJcbiAgICogVGhlIEFQSSBtb2RlIHdpbGwgYmUgc3dpdGNoZWQgYmFjayBhdXRvbWF0aWNhbGx5IGFmdGVyd2FyZHMuXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBhZHZhbmNlZEFQSVxyXG4gICAqL1xyXG4gIEFQSS5hZHZhbmNlZEFQSSA9IGZ1bmN0aW9uKGJvZHkpIHtcclxuICAgIHZhciBkb1N3aXRjaCA9IGFwaU1vZGUgPT09IEFwaU1vZGUuQ09NUEFUO1xyXG5cclxuICAgIGlmIChkb1N3aXRjaCkge1xyXG4gICAgICBhZHZhbmNlZEFQSS5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgYm9keSAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGJvZHkodGhpcyk7XHJcblxyXG4gICAgaWYgKGRvU3dpdGNoKSB7XHJcbiAgICAgIGNvbXBhdEFQSS5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFN3aXRjaGVzIHRvIFwiY29tcGF0XCIgQVBJIG1vZGUuIFNlZSB7QGxpbmsgYWR2YW5jZWRBUEl9IGZvciBtb3JlIGRldGFpbHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FwaVN3aXRjaEJvZHk9fSBib2R5IFdoZW4gcHJvdmlkZWQsIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIEFQSSBtb2RlIGhhcyBiZWVuIHN3aXRjaGVkLlxyXG4gICAqIFRoZSBBUEkgbW9kZSB3aWxsIGJlIHN3aXRjaGVkIGJhY2sgYXV0b21hdGljYWxseSBhZnRlcndhcmRzLlxyXG4gICAqIEByZXR1cm4ge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBjb21wYXRBcGlcclxuICAgKi9cclxuICBBUEkuY29tcGF0QVBJID0gZnVuY3Rpb24oYm9keSkge1xyXG4gICAgdmFyIGRvU3dpdGNoID0gYXBpTW9kZSA9PT0gQXBpTW9kZS5BRFZBTkNFRDtcclxuXHJcbiAgICBpZiAoZG9Td2l0Y2gpIHtcclxuICAgICAgY29tcGF0QVBJLmNhbGwodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBib2R5ICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYm9keSh0aGlzKTtcclxuXHJcbiAgICBpZiAoZG9Td2l0Y2gpIHtcclxuICAgICAgYWR2YW5jZWRBUEkuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmZiB0aGUgY3VycmVudCBBUEkgbW9kZSBpcyBcImFkdmFuY2VkXCIuIFNlZSB7QGxpbmsgYWR2YW5jZWRBUEl9LlxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBpc0FkdmFuY2VkQVBJXHJcbiAgICovXHJcbiAgQVBJLmlzQWR2YW5jZWRBUEkgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBhcGlNb2RlID09PSBBcGlNb2RlLkFEVkFOQ0VEO1xyXG4gIH07XHJcblxyXG4gIHZhciBhZHZhbmNlZEFwaU1vZGVUcmFwID0gZnVuY3Rpb24obWV0aG9kTmFtZSkge1xyXG4gICAgaWYgKGFwaU1vZGUgIT09IEFwaU1vZGUuQURWQU5DRUQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIG1ldGhvZE5hbWUgK1xyXG4gICAgICAgICAgXCIgaXMgb25seSBhdmFpbGFibGUgaW4gJ2FkdmFuY2VkJyBBUEkgbW9kZS4gXCIgK1xyXG4gICAgICAgICAgXCJZb3UgbmVlZCB0byBjYWxsIGFkdmFuY2VkQVBJKCkgZmlyc3QuXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgcm91bmRUb1ByZWNpc2lvbiA9IChBUEkucm91bmRUb1ByZWNpc2lvbiA9IEFQSS5fX3ByaXZhdGVfXy5yb3VuZFRvUHJlY2lzaW9uID0gZnVuY3Rpb24oXHJcbiAgICBudW1iZXIsXHJcbiAgICBwYXJtUHJlY2lzaW9uXHJcbiAgKSB7XHJcbiAgICB2YXIgdG1wUHJlY2lzaW9uID0gcHJlY2lzaW9uIHx8IHBhcm1QcmVjaXNpb247XHJcbiAgICBpZiAoaXNOYU4obnVtYmVyKSB8fCBpc05hTih0bXBQcmVjaXNpb24pKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLnJvdW5kVG9QcmVjaXNpb25cIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVtYmVyLnRvRml4ZWQodG1wUHJlY2lzaW9uKS5yZXBsYWNlKC8wKyQvLCBcIlwiKTtcclxuICB9KTtcclxuXHJcbiAgLy8gaGlnaCBwcmVjaXNpb24gZmxvYXRcclxuICB2YXIgaHBmO1xyXG4gIGlmICh0eXBlb2YgZmxvYXRQcmVjaXNpb24gPT09IFwibnVtYmVyXCIpIHtcclxuICAgIGhwZiA9IEFQSS5ocGYgPSBBUEkuX19wcml2YXRlX18uaHBmID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgIGlmIChpc05hTihudW1iZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuaHBmXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByb3VuZFRvUHJlY2lzaW9uKG51bWJlciwgZmxvYXRQcmVjaXNpb24pO1xyXG4gICAgfTtcclxuICB9IGVsc2UgaWYgKGZsb2F0UHJlY2lzaW9uID09PSBcInNtYXJ0XCIpIHtcclxuICAgIGhwZiA9IEFQSS5ocGYgPSBBUEkuX19wcml2YXRlX18uaHBmID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgIGlmIChpc05hTihudW1iZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuaHBmXCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChudW1iZXIgPiAtMSAmJiBudW1iZXIgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdW5kVG9QcmVjaXNpb24obnVtYmVyLCAxNik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJvdW5kVG9QcmVjaXNpb24obnVtYmVyLCA1KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgaHBmID0gQVBJLmhwZiA9IEFQSS5fX3ByaXZhdGVfXy5ocGYgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5ocGZcIik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJvdW5kVG9QcmVjaXNpb24obnVtYmVyLCAxNik7XHJcbiAgICB9O1xyXG4gIH1cclxuICB2YXIgZjIgPSAoQVBJLmYyID0gQVBJLl9fcHJpdmF0ZV9fLmYyID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICBpZiAoaXNOYU4obnVtYmVyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5mMlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiByb3VuZFRvUHJlY2lzaW9uKG51bWJlciwgMik7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBmMyA9IChBUEkuX19wcml2YXRlX18uZjMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgIGlmIChpc05hTihudW1iZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIGpzUERGLmYzXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJvdW5kVG9QcmVjaXNpb24obnVtYmVyLCAzKTtcclxuICB9KTtcclxuXHJcbiAgdmFyIHNjYWxlID0gKEFQSS5zY2FsZSA9IEFQSS5fX3ByaXZhdGVfXy5zY2FsZSA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgaWYgKGlzTmFOKG51bWJlcikpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuc2NhbGVcIik7XHJcbiAgICB9XHJcbiAgICBpZiAoYXBpTW9kZSA9PT0gQXBpTW9kZS5DT01QQVQpIHtcclxuICAgICAgcmV0dXJuIG51bWJlciAqIHNjYWxlRmFjdG9yO1xyXG4gICAgfSBlbHNlIGlmIChhcGlNb2RlID09PSBBcGlNb2RlLkFEVkFOQ0VEKSB7XHJcbiAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciB0cmFuc2Zvcm1ZID0gZnVuY3Rpb24oeSkge1xyXG4gICAgaWYgKGFwaU1vZGUgPT09IEFwaU1vZGUuQ09NUEFUKSB7XHJcbiAgICAgIHJldHVybiBnZXRQYWdlSGVpZ2h0KCkgLSB5O1xyXG4gICAgfSBlbHNlIGlmIChhcGlNb2RlID09PSBBcGlNb2RlLkFEVkFOQ0VEKSB7XHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciB0cmFuc2Zvcm1TY2FsZVkgPSBmdW5jdGlvbih5KSB7XHJcbiAgICByZXR1cm4gc2NhbGUodHJhbnNmb3JtWSh5KSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgc2V0UHJlY2lzaW9uXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVjaXNpb25cclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLnNldFByZWNpc2lvbiA9IEFQSS5zZXRQcmVjaXNpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBwYXJzZUludCh2YWx1ZSwgMTApID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIHByZWNpc2lvbiA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGZpbGVJZCA9IFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIjtcclxuXHJcbiAgdmFyIGdldEZpbGVJZCA9IChBUEkuX19wcml2YXRlX18uZ2V0RmlsZUlkID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZmlsZUlkO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgc2V0RmlsZUlkID0gKEFQSS5fX3ByaXZhdGVfXy5zZXRGaWxlSWQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvXlthLWZBLUYwLTldezMyfSQvLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgIGZpbGVJZCA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmaWxlSWQgPSBmaWxlSWRcclxuICAgICAgICAuc3BsaXQoXCJcIilcclxuICAgICAgICAubWFwKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIFwiQUJDREVGMDEyMzQ1Njc4OVwiLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNikpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVuY3J5cHRpb25PcHRpb25zICE9PSBudWxsKSB7XHJcbiAgICAgIGVuY3J5cHRpb24gPSBuZXcgUERGU2VjdXJpdHkoXHJcbiAgICAgICAgZW5jcnlwdGlvbk9wdGlvbnMudXNlclBlcm1pc3Npb25zLFxyXG4gICAgICAgIGVuY3J5cHRpb25PcHRpb25zLnVzZXJQYXNzd29yZCxcclxuICAgICAgICBlbmNyeXB0aW9uT3B0aW9ucy5vd25lclBhc3N3b3JkLFxyXG4gICAgICAgIGZpbGVJZFxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpbGVJZDtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgc2V0RmlsZUlkXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBHVUlELlxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKi9cclxuICBBUEkuc2V0RmlsZUlkID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHNldEZpbGVJZCh2YWx1ZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBnZXRGaWxlSWRcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBHVUlELlxyXG4gICAqL1xyXG4gIEFQSS5nZXRGaWxlSWQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBnZXRGaWxlSWQoKTtcclxuICB9O1xyXG5cclxuICB2YXIgY3JlYXRpb25EYXRlO1xyXG5cclxuICB2YXIgY29udmVydERhdGVUb1BERkRhdGUgPSAoQVBJLl9fcHJpdmF0ZV9fLmNvbnZlcnREYXRlVG9QREZEYXRlID0gZnVuY3Rpb24oXHJcbiAgICBwYXJtRGF0ZVxyXG4gICkge1xyXG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XHJcbiAgICB2YXIgdHpvZmZzZXQgPSBwYXJtRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLFxyXG4gICAgICB0enNpZ24gPSB0em9mZnNldCA8IDAgPyBcIitcIiA6IFwiLVwiLFxyXG4gICAgICB0emhvdXIgPSBNYXRoLmZsb29yKE1hdGguYWJzKHR6b2Zmc2V0IC8gNjApKSxcclxuICAgICAgdHptaW4gPSBNYXRoLmFicyh0em9mZnNldCAlIDYwKSxcclxuICAgICAgdGltZVpvbmVTdHJpbmcgPSBbdHpzaWduLCBwYWRkMih0emhvdXIpLCBcIidcIiwgcGFkZDIodHptaW4pLCBcIidcIl0uam9pbihcIlwiKTtcclxuXHJcbiAgICByZXN1bHQgPSBbXHJcbiAgICAgIFwiRDpcIixcclxuICAgICAgcGFybURhdGUuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgcGFkZDIocGFybURhdGUuZ2V0TW9udGgoKSArIDEpLFxyXG4gICAgICBwYWRkMihwYXJtRGF0ZS5nZXREYXRlKCkpLFxyXG4gICAgICBwYWRkMihwYXJtRGF0ZS5nZXRIb3VycygpKSxcclxuICAgICAgcGFkZDIocGFybURhdGUuZ2V0TWludXRlcygpKSxcclxuICAgICAgcGFkZDIocGFybURhdGUuZ2V0U2Vjb25kcygpKSxcclxuICAgICAgdGltZVpvbmVTdHJpbmdcclxuICAgIF0uam9pbihcIlwiKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBjb252ZXJ0UERGRGF0ZVRvRGF0ZSA9IChBUEkuX19wcml2YXRlX18uY29udmVydFBERkRhdGVUb0RhdGUgPSBmdW5jdGlvbihcclxuICAgIHBhcm1QREZEYXRlXHJcbiAgKSB7XHJcbiAgICB2YXIgeWVhciA9IHBhcnNlSW50KHBhcm1QREZEYXRlLnN1YnN0cigyLCA0KSwgMTApO1xyXG4gICAgdmFyIG1vbnRoID0gcGFyc2VJbnQocGFybVBERkRhdGUuc3Vic3RyKDYsIDIpLCAxMCkgLSAxO1xyXG4gICAgdmFyIGRhdGUgPSBwYXJzZUludChwYXJtUERGRGF0ZS5zdWJzdHIoOCwgMiksIDEwKTtcclxuICAgIHZhciBob3VyID0gcGFyc2VJbnQocGFybVBERkRhdGUuc3Vic3RyKDEwLCAyKSwgMTApO1xyXG4gICAgdmFyIG1pbnV0ZXMgPSBwYXJzZUludChwYXJtUERGRGF0ZS5zdWJzdHIoMTIsIDIpLCAxMCk7XHJcbiAgICB2YXIgc2Vjb25kcyA9IHBhcnNlSW50KHBhcm1QREZEYXRlLnN1YnN0cigxNCwgMiksIDEwKTtcclxuICAgIC8vIHZhciB0aW1lWm9uZUhvdXIgPSBwYXJzZUludChwYXJtUERGRGF0ZS5zdWJzdHIoMTYsIDIpLCAxMCk7XHJcbiAgICAvLyB2YXIgdGltZVpvbmVNaW51dGVzID0gcGFyc2VJbnQocGFybVBERkRhdGUuc3Vic3RyKDIwLCAyKSwgMTApO1xyXG5cclxuICAgIHZhciByZXN1bHRpbmdEYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUsIGhvdXIsIG1pbnV0ZXMsIHNlY29uZHMsIDApO1xyXG4gICAgcmV0dXJuIHJlc3VsdGluZ0RhdGU7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBzZXRDcmVhdGlvbkRhdGUgPSAoQVBJLl9fcHJpdmF0ZV9fLnNldENyZWF0aW9uRGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgIHZhciB0bXBDcmVhdGlvbkRhdGVTdHJpbmc7XHJcbiAgICB2YXIgcmVnZXhQREZDcmVhdGlvbkRhdGUgPSAvXkQ6KDIwWzAtMl1bMC05XXwyMDNbMC03XXwxOVs3LTldWzAtOV0pKDBbMC05XXwxWzAtMl0pKFswLTJdWzAtOV18M1swLTFdKSgwWzAtOV18MVswLTldfDJbMC0zXSkoMFswLTldfFsxLTVdWzAtOV0pKDBbMC05XXxbMS01XVswLTldKShcXCswWzAtOV18XFwrMVswLTRdfC0wWzAtOV18LTFbMC0xXSknKDBbMC05XXxbMS01XVswLTldKSc/JC87XHJcbiAgICBpZiAodHlwZW9mIGRhdGUgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSB7XHJcbiAgICAgIHRtcENyZWF0aW9uRGF0ZVN0cmluZyA9IGNvbnZlcnREYXRlVG9QREZEYXRlKGRhdGUpO1xyXG4gICAgfSBlbHNlIGlmIChyZWdleFBERkNyZWF0aW9uRGF0ZS50ZXN0KGRhdGUpKSB7XHJcbiAgICAgIHRtcENyZWF0aW9uRGF0ZVN0cmluZyA9IGRhdGU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5zZXRDcmVhdGlvbkRhdGVcIik7XHJcbiAgICB9XHJcbiAgICBjcmVhdGlvbkRhdGUgPSB0bXBDcmVhdGlvbkRhdGVTdHJpbmc7XHJcbiAgICByZXR1cm4gY3JlYXRpb25EYXRlO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgZ2V0Q3JlYXRpb25EYXRlID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRDcmVhdGlvbkRhdGUgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gY3JlYXRpb25EYXRlO1xyXG4gICAgaWYgKHR5cGUgPT09IFwianNEYXRlXCIpIHtcclxuICAgICAgcmVzdWx0ID0gY29udmVydFBERkRhdGVUb0RhdGUoY3JlYXRpb25EYXRlKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIHNldENyZWF0aW9uRGF0ZVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0ZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKi9cclxuICBBUEkuc2V0Q3JlYXRpb25EYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgc2V0Q3JlYXRpb25EYXRlKGRhdGUpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgZ2V0Q3JlYXRpb25EYXRlXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBBUEkuZ2V0Q3JlYXRpb25EYXRlID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgcmV0dXJuIGdldENyZWF0aW9uRGF0ZSh0eXBlKTtcclxuICB9O1xyXG5cclxuICB2YXIgcGFkZDIgPSAoQVBJLl9fcHJpdmF0ZV9fLnBhZGQyID0gZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICByZXR1cm4gKFwiMFwiICsgcGFyc2VJbnQobnVtYmVyKSkuc2xpY2UoLTIpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgcGFkZDJIZXggPSAoQVBJLl9fcHJpdmF0ZV9fLnBhZGQySGV4ID0gZnVuY3Rpb24oaGV4U3RyaW5nKSB7XHJcbiAgICBoZXhTdHJpbmcgPSBoZXhTdHJpbmcudG9TdHJpbmcoKTtcclxuICAgIHJldHVybiAoXCIwMFwiICsgaGV4U3RyaW5nKS5zdWJzdHIoaGV4U3RyaW5nLmxlbmd0aCk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBvYmplY3ROdW1iZXIgPSAwOyAvLyAnbicgQ3VycmVudCBvYmplY3QgbnVtYmVyXHJcbiAgdmFyIG9mZnNldHMgPSBbXTsgLy8gTGlzdCBvZiBvZmZzZXRzLiBBY3RpdmF0ZWQgYW5kIHJlc2V0IGJ5IGJ1aWxkRG9jdW1lbnQoKS4gUHVwdWxhdGVkIGJ5IHZhcmlvdXMgY2FsbHMgYnVpbGREb2N1bWVudCBtYWtlcy5cclxuICB2YXIgY29udGVudCA9IFtdO1xyXG4gIHZhciBjb250ZW50TGVuZ3RoID0gMDtcclxuICB2YXIgYWRkaXRpb25hbE9iamVjdHMgPSBbXTtcclxuXHJcbiAgdmFyIHBhZ2VzID0gW107XHJcbiAgdmFyIGN1cnJlbnRQYWdlO1xyXG4gIHZhciBoYXNDdXN0b21EZXN0aW5hdGlvbiA9IGZhbHNlO1xyXG4gIHZhciBvdXRwdXREZXN0aW5hdGlvbiA9IGNvbnRlbnQ7XHJcblxyXG4gIHZhciByZXNldERvY3VtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvL3Jlc2V0IGZpZWxkcyByZWxldmFudCBmb3Igb2JqZWN0TnVtYmVyIGdlbmVyYXRpb24gYW5kIHhyZWYuXHJcbiAgICBvYmplY3ROdW1iZXIgPSAwO1xyXG4gICAgY29udGVudExlbmd0aCA9IDA7XHJcbiAgICBjb250ZW50ID0gW107XHJcbiAgICBvZmZzZXRzID0gW107XHJcbiAgICBhZGRpdGlvbmFsT2JqZWN0cyA9IFtdO1xyXG5cclxuICAgIHJvb3REaWN0aW9uYXJ5T2JqSWQgPSBuZXdPYmplY3REZWZlcnJlZCgpO1xyXG4gICAgcmVzb3VyY2VEaWN0aW9uYXJ5T2JqSWQgPSBuZXdPYmplY3REZWZlcnJlZCgpO1xyXG4gIH07XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXRDdXN0b21PdXRwdXREZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKGRlc3RpbmF0aW9uKSB7XHJcbiAgICBoYXNDdXN0b21EZXN0aW5hdGlvbiA9IHRydWU7XHJcbiAgICBvdXRwdXREZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xyXG4gIH07XHJcbiAgdmFyIHNldE91dHB1dERlc3RpbmF0aW9uID0gZnVuY3Rpb24oZGVzdGluYXRpb24pIHtcclxuICAgIGlmICghaGFzQ3VzdG9tRGVzdGluYXRpb24pIHtcclxuICAgICAgb3V0cHV0RGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBBUEkuX19wcml2YXRlX18ucmVzZXRDdXN0b21PdXRwdXREZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaGFzQ3VzdG9tRGVzdGluYXRpb24gPSBmYWxzZTtcclxuICAgIG91dHB1dERlc3RpbmF0aW9uID0gY29udGVudDtcclxuICB9O1xyXG5cclxuICB2YXIgb3V0ID0gKEFQSS5fX3ByaXZhdGVfXy5vdXQgPSBmdW5jdGlvbihzdHJpbmcpIHtcclxuICAgIHN0cmluZyA9IHN0cmluZy50b1N0cmluZygpO1xyXG4gICAgY29udGVudExlbmd0aCArPSBzdHJpbmcubGVuZ3RoICsgMTtcclxuICAgIG91dHB1dERlc3RpbmF0aW9uLnB1c2goc3RyaW5nKTtcclxuXHJcbiAgICByZXR1cm4gb3V0cHV0RGVzdGluYXRpb247XHJcbiAgfSk7XHJcblxyXG4gIHZhciB3cml0ZSA9IChBUEkuX19wcml2YXRlX18ud3JpdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIG91dChcclxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA9PT0gMVxyXG4gICAgICAgID8gdmFsdWUudG9TdHJpbmcoKVxyXG4gICAgICAgIDogQXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcmd1bWVudHMsIFwiIFwiKVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgdmFyIGdldEFycmF5QnVmZmVyID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRBcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBsZW4gPSBkYXRhLmxlbmd0aCxcclxuICAgICAgYWIgPSBuZXcgQXJyYXlCdWZmZXIobGVuKSxcclxuICAgICAgdTggPSBuZXcgVWludDhBcnJheShhYik7XHJcblxyXG4gICAgd2hpbGUgKGxlbi0tKSB1OFtsZW5dID0gZGF0YS5jaGFyQ29kZUF0KGxlbik7XHJcbiAgICByZXR1cm4gYWI7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBzdGFuZGFyZEZvbnRzID0gW1xyXG4gICAgW1wiSGVsdmV0aWNhXCIsIFwiaGVsdmV0aWNhXCIsIFwibm9ybWFsXCIsIFwiV2luQW5zaUVuY29kaW5nXCJdLFxyXG4gICAgW1wiSGVsdmV0aWNhLUJvbGRcIiwgXCJoZWx2ZXRpY2FcIiwgXCJib2xkXCIsIFwiV2luQW5zaUVuY29kaW5nXCJdLFxyXG4gICAgW1wiSGVsdmV0aWNhLU9ibGlxdWVcIiwgXCJoZWx2ZXRpY2FcIiwgXCJpdGFsaWNcIiwgXCJXaW5BbnNpRW5jb2RpbmdcIl0sXHJcbiAgICBbXCJIZWx2ZXRpY2EtQm9sZE9ibGlxdWVcIiwgXCJoZWx2ZXRpY2FcIiwgXCJib2xkaXRhbGljXCIsIFwiV2luQW5zaUVuY29kaW5nXCJdLFxyXG4gICAgW1wiQ291cmllclwiLCBcImNvdXJpZXJcIiwgXCJub3JtYWxcIiwgXCJXaW5BbnNpRW5jb2RpbmdcIl0sXHJcbiAgICBbXCJDb3VyaWVyLUJvbGRcIiwgXCJjb3VyaWVyXCIsIFwiYm9sZFwiLCBcIldpbkFuc2lFbmNvZGluZ1wiXSxcclxuICAgIFtcIkNvdXJpZXItT2JsaXF1ZVwiLCBcImNvdXJpZXJcIiwgXCJpdGFsaWNcIiwgXCJXaW5BbnNpRW5jb2RpbmdcIl0sXHJcbiAgICBbXCJDb3VyaWVyLUJvbGRPYmxpcXVlXCIsIFwiY291cmllclwiLCBcImJvbGRpdGFsaWNcIiwgXCJXaW5BbnNpRW5jb2RpbmdcIl0sXHJcbiAgICBbXCJUaW1lcy1Sb21hblwiLCBcInRpbWVzXCIsIFwibm9ybWFsXCIsIFwiV2luQW5zaUVuY29kaW5nXCJdLFxyXG4gICAgW1wiVGltZXMtQm9sZFwiLCBcInRpbWVzXCIsIFwiYm9sZFwiLCBcIldpbkFuc2lFbmNvZGluZ1wiXSxcclxuICAgIFtcIlRpbWVzLUl0YWxpY1wiLCBcInRpbWVzXCIsIFwiaXRhbGljXCIsIFwiV2luQW5zaUVuY29kaW5nXCJdLFxyXG4gICAgW1wiVGltZXMtQm9sZEl0YWxpY1wiLCBcInRpbWVzXCIsIFwiYm9sZGl0YWxpY1wiLCBcIldpbkFuc2lFbmNvZGluZ1wiXSxcclxuICAgIFtcIlphcGZEaW5nYmF0c1wiLCBcInphcGZkaW5nYmF0c1wiLCBcIm5vcm1hbFwiLCBudWxsXSxcclxuICAgIFtcIlN5bWJvbFwiLCBcInN5bWJvbFwiLCBcIm5vcm1hbFwiLCBudWxsXVxyXG4gIF07XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5nZXRTdGFuZGFyZEZvbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gc3RhbmRhcmRGb250cztcclxuICB9O1xyXG5cclxuICB2YXIgYWN0aXZlRm9udFNpemUgPSBvcHRpb25zLmZvbnRTaXplIHx8IDE2O1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIGZvbnQgc2l6ZSBmb3IgdXBjb21pbmcgdGV4dCBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEZvbnQgc2l6ZSBpbiBwb2ludHMuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRGb250U2l6ZVxyXG4gICAqL1xyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXRGb250U2l6ZSA9IEFQSS5zZXRGb250U2l6ZSA9IGZ1bmN0aW9uKHNpemUpIHtcclxuICAgIGlmIChhcGlNb2RlID09PSBBcGlNb2RlLkFEVkFOQ0VEKSB7XHJcbiAgICAgIGFjdGl2ZUZvbnRTaXplID0gc2l6ZSAvIHNjYWxlRmFjdG9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWN0aXZlRm9udFNpemUgPSBzaXplO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgZm9udHNpemUgZm9yIHVwY29taW5nIHRleHQgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRGb250U2l6ZVxyXG4gICAqL1xyXG4gIHZhciBnZXRGb250U2l6ZSA9IChBUEkuX19wcml2YXRlX18uZ2V0Rm9udFNpemUgPSBBUEkuZ2V0Rm9udFNpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChhcGlNb2RlID09PSBBcGlNb2RlLkNPTVBBVCkge1xyXG4gICAgICByZXR1cm4gYWN0aXZlRm9udFNpemU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYWN0aXZlRm9udFNpemUgKiBzY2FsZUZhY3RvcjtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIFIyTCA9IG9wdGlvbnMuUjJMIHx8IGZhbHNlO1xyXG5cclxuICAvKipcclxuICAgKiBTZXQgdmFsdWUgb2YgUjJMIGZ1bmN0aW9uYWxpdHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfSBqc1BERi1pbnN0YW5jZVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRSMkxcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uc2V0UjJMID0gQVBJLnNldFIyTCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBSMkwgPSB2YWx1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB2YWx1ZSBvZiBSMkwgZnVuY3Rpb25hbGl0eS5cclxuICAgKlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBqc1BERi1pbnN0YW5jZVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRSMkxcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uZ2V0UjJMID0gQVBJLmdldFIyTCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIFIyTDtcclxuICB9O1xyXG5cclxuICB2YXIgem9vbU1vZGU7IC8vIGRlZmF1bHQ6IDE7XHJcblxyXG4gIHZhciBzZXRab29tTW9kZSA9IChBUEkuX19wcml2YXRlX18uc2V0Wm9vbU1vZGUgPSBmdW5jdGlvbih6b29tKSB7XHJcbiAgICB2YXIgdmFsaWRab29tTW9kZXMgPSBbXHJcbiAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgbnVsbCxcclxuICAgICAgXCJmdWxsd2lkdGhcIixcclxuICAgICAgXCJmdWxsaGVpZ2h0XCIsXHJcbiAgICAgIFwiZnVsbHBhZ2VcIixcclxuICAgICAgXCJvcmlnaW5hbFwiXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICgvXig/OlxcZCtcXC5cXGQqfFxcZCpcXC5cXGQrfFxcZCspJSQvLnRlc3Qoem9vbSkpIHtcclxuICAgICAgem9vbU1vZGUgPSB6b29tO1xyXG4gICAgfSBlbHNlIGlmICghaXNOYU4oem9vbSkpIHtcclxuICAgICAgem9vbU1vZGUgPSBwYXJzZUludCh6b29tLCAxMCk7XHJcbiAgICB9IGVsc2UgaWYgKHZhbGlkWm9vbU1vZGVzLmluZGV4T2Yoem9vbSkgIT09IC0xKSB7XHJcbiAgICAgIHpvb21Nb2RlID0gem9vbTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAnem9vbSBtdXN0IGJlIEludGVnZXIgKGUuZy4gMiksIGEgcGVyY2VudGFnZSBWYWx1ZSAoZS5nLiAzMDAlKSBvciBmdWxsd2lkdGgsIGZ1bGxoZWlnaHQsIGZ1bGxwYWdlLCBvcmlnaW5hbC4gXCInICtcclxuICAgICAgICAgIHpvb20gK1xyXG4gICAgICAgICAgJ1wiIGlzIG5vdCByZWNvZ25pemVkLidcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLmdldFpvb21Nb2RlID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gem9vbU1vZGU7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHBhZ2VNb2RlOyAvLyBkZWZhdWx0OiAnVXNlT3V0bGluZXMnO1xyXG4gIHZhciBzZXRQYWdlTW9kZSA9IChBUEkuX19wcml2YXRlX18uc2V0UGFnZU1vZGUgPSBmdW5jdGlvbihwbW9kZSkge1xyXG4gICAgdmFyIHZhbGlkUGFnZU1vZGVzID0gW1xyXG4gICAgICB1bmRlZmluZWQsXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIFwiVXNlTm9uZVwiLFxyXG4gICAgICBcIlVzZU91dGxpbmVzXCIsXHJcbiAgICAgIFwiVXNlVGh1bWJzXCIsXHJcbiAgICAgIFwiRnVsbFNjcmVlblwiXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICh2YWxpZFBhZ2VNb2Rlcy5pbmRleE9mKHBtb2RlKSA9PSAtMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgJ1BhZ2UgbW9kZSBtdXN0IGJlIG9uZSBvZiBVc2VOb25lLCBVc2VPdXRsaW5lcywgVXNlVGh1bWJzLCBvciBGdWxsU2NyZWVuLiBcIicgK1xyXG4gICAgICAgICAgcG1vZGUgK1xyXG4gICAgICAgICAgJ1wiIGlzIG5vdCByZWNvZ25pemVkLidcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHBhZ2VNb2RlID0gcG1vZGU7XHJcbiAgfSk7XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5nZXRQYWdlTW9kZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHBhZ2VNb2RlO1xyXG4gIH07XHJcblxyXG4gIHZhciBsYXlvdXRNb2RlOyAvLyBkZWZhdWx0OiAnY29udGludW91cyc7XHJcbiAgdmFyIHNldExheW91dE1vZGUgPSAoQVBJLl9fcHJpdmF0ZV9fLnNldExheW91dE1vZGUgPSBmdW5jdGlvbihsYXlvdXQpIHtcclxuICAgIHZhciB2YWxpZExheW91dE1vZGVzID0gW1xyXG4gICAgICB1bmRlZmluZWQsXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIFwiY29udGludW91c1wiLFxyXG4gICAgICBcInNpbmdsZVwiLFxyXG4gICAgICBcInR3b2xlZnRcIixcclxuICAgICAgXCJ0d29yaWdodFwiLFxyXG4gICAgICBcInR3b1wiXHJcbiAgICBdO1xyXG5cclxuICAgIGlmICh2YWxpZExheW91dE1vZGVzLmluZGV4T2YobGF5b3V0KSA9PSAtMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgJ0xheW91dCBtb2RlIG11c3QgYmUgb25lIG9mIGNvbnRpbnVvdXMsIHNpbmdsZSwgdHdvbGVmdCwgdHdvcmlnaHQuIFwiJyArXHJcbiAgICAgICAgICBsYXlvdXQgK1xyXG4gICAgICAgICAgJ1wiIGlzIG5vdCByZWNvZ25pemVkLidcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIGxheW91dE1vZGUgPSBsYXlvdXQ7XHJcbiAgfSk7XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5nZXRMYXlvdXRNb2RlID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gbGF5b3V0TW9kZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIGRpc3BsYXkgbW9kZSBvcHRpb25zIG9mIHRoZSBwYWdlIGxpa2Ugem9vbSBhbmQgbGF5b3V0LlxyXG4gICAqXHJcbiAgICogQG5hbWUgc2V0RGlzcGxheU1vZGVcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHBhcmFtIHtpbnRlZ2VyfFN0cmluZ30gem9vbSAgIFlvdSBjYW4gcGFzcyBhbiBpbnRlZ2VyIG9yIHBlcmNlbnRhZ2UgYXNcclxuICAgKiBhIHN0cmluZy4gMiB3aWxsIHNjYWxlIHRoZSBkb2N1bWVudCB1cCAyeCwgJzIwMCUnIHdpbGwgc2NhbGUgdXAgYnkgdGhlXHJcbiAgICogc2FtZSBhbW91bnQuIFlvdSBjYW4gYWxzbyBzZXQgaXQgdG8gJ2Z1bGx3aWR0aCcsICdmdWxsaGVpZ2h0JyxcclxuICAgKiAnZnVsbHBhZ2UnLCBvciAnb3JpZ2luYWwnLlxyXG4gICAqXHJcbiAgICogT25seSBjZXJ0YWluIFBERiByZWFkZXJzIHN1cHBvcnQgdGhpcywgc3VjaCBhcyBBZG9iZSBBY3JvYmF0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxheW91dCBMYXlvdXQgbW9kZSBjYW4gYmU6ICdjb250aW51b3VzJyAtIHRoaXMgaXMgdGhlXHJcbiAgICogZGVmYXVsdCBjb250aW51b3VzIHNjcm9sbC4gJ3NpbmdsZScgLSB0aGUgc2luZ2xlIHBhZ2UgbW9kZSBvbmx5IHNob3dzIG9uZVxyXG4gICAqIHBhZ2UgYXQgYSB0aW1lLiAndHdvbGVmdCcgLSB0d28gY29sdW1uIGxlZnQgbW9kZSwgZmlyc3QgcGFnZSBzdGFydHMgb25cclxuICAgKiB0aGUgbGVmdCwgYW5kICd0d29yaWdodCcgLSBwYWdlcyBhcmUgbGFpZCBvdXQgaW4gdHdvIGNvbHVtbnMsIHdpdGggdGhlXHJcbiAgICogZmlyc3QgcGFnZSBvbiB0aGUgcmlnaHQuIFRoaXMgd291bGQgYmUgdXNlZCBmb3IgYm9va3MuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBtb2RlICdVc2VPdXRsaW5lcycgLSBpdCBzaG93cyB0aGVcclxuICAgKiBvdXRsaW5lIG9mIHRoZSBkb2N1bWVudCBvbiB0aGUgbGVmdC4gJ1VzZVRodW1icycgLSBzaG93cyB0aHVtYm5haWxzIGFsb25nXHJcbiAgICogdGhlIGxlZnQuICdGdWxsU2NyZWVuJyAtIHByb21wdHMgdGhlIHVzZXIgdG8gZW50ZXIgZnVsbHNjcmVlbiBtb2RlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqL1xyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXREaXNwbGF5TW9kZSA9IEFQSS5zZXREaXNwbGF5TW9kZSA9IGZ1bmN0aW9uKFxyXG4gICAgem9vbSxcclxuICAgIGxheW91dCxcclxuICAgIHBtb2RlXHJcbiAgKSB7XHJcbiAgICBzZXRab29tTW9kZSh6b29tKTtcclxuICAgIHNldExheW91dE1vZGUobGF5b3V0KTtcclxuICAgIHNldFBhZ2VNb2RlKHBtb2RlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIHZhciBkb2N1bWVudFByb3BlcnRpZXMgPSB7XHJcbiAgICB0aXRsZTogXCJcIixcclxuICAgIHN1YmplY3Q6IFwiXCIsXHJcbiAgICBhdXRob3I6IFwiXCIsXHJcbiAgICBrZXl3b3JkczogXCJcIixcclxuICAgIGNyZWF0b3I6IFwiXCJcclxuICB9O1xyXG5cclxuICBBUEkuX19wcml2YXRlX18uZ2V0RG9jdW1lbnRQcm9wZXJ0eSA9IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKGRvY3VtZW50UHJvcGVydGllcykuaW5kZXhPZihrZXkpID09PSAtMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5nZXREb2N1bWVudFByb3BlcnR5XCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvY3VtZW50UHJvcGVydGllc1trZXldO1xyXG4gIH07XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5nZXREb2N1bWVudFByb3BlcnRpZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFByb3BlcnRpZXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIHByb3BlcnRpZXMgdG8gdGhlIFBERiBkb2N1bWVudC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBBIHByb3BlcnR5X25hbWUtdG8tcHJvcGVydHlfdmFsdWUgb2JqZWN0IHN0cnVjdHVyZS5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIHNldERvY3VtZW50UHJvcGVydGllc1xyXG4gICAqL1xyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXREb2N1bWVudFByb3BlcnRpZXMgPSBBUEkuc2V0UHJvcGVydGllcyA9IEFQSS5zZXREb2N1bWVudFByb3BlcnRpZXMgPSBmdW5jdGlvbihcclxuICAgIHByb3BlcnRpZXNcclxuICApIHtcclxuICAgIC8vIGNvcHlpbmcgb25seSB0aG9zZSBwcm9wZXJ0aWVzIHdlIGNhbiByZW5kZXIuXHJcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBkb2N1bWVudFByb3BlcnRpZXMpIHtcclxuICAgICAgaWYgKGRvY3VtZW50UHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgcHJvcGVydGllc1twcm9wZXJ0eV0pIHtcclxuICAgICAgICBkb2N1bWVudFByb3BlcnRpZXNbcHJvcGVydHldID0gcHJvcGVydGllc1twcm9wZXJ0eV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXREb2N1bWVudFByb3BlcnR5ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKGRvY3VtZW50UHJvcGVydGllcykuaW5kZXhPZihrZXkpID09PSAtMSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuc2V0RG9jdW1lbnRQcm9wZXJ0eVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoZG9jdW1lbnRQcm9wZXJ0aWVzW2tleV0gPSB2YWx1ZSk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGZvbnRzID0ge307IC8vIGNvbGxlY3Rpb24gb2YgZm9udCBvYmplY3RzLCB3aGVyZSBrZXkgaXMgZm9udEtleSAtIGEgZHluYW1pY2FsbHkgY3JlYXRlZCBsYWJlbCBmb3IgYSBnaXZlbiBmb250LlxyXG4gIHZhciBmb250bWFwID0ge307IC8vIG1hcHBpbmcgc3RydWN0dXJlIGZvbnROYW1lID4gZm9udFN0eWxlID4gZm9udCBrZXkgLSBwZXJmb3JtYW5jZSBsYXllci4gU2VlIGFkZEZvbnQoKVxyXG4gIHZhciBhY3RpdmVGb250S2V5OyAvLyB3aWxsIGJlIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIEtFWSBvZiB0aGUgZm9udCBhcyBjb21iaW5hdGlvbiBvZiBmb250TmFtZSArIGZvbnRTdHlsZVxyXG4gIHZhciBmb250U3RhdGVTdGFjayA9IFtdOyAvL1xyXG4gIHZhciBwYXR0ZXJucyA9IHt9OyAvLyBjb2xsZWN0aW9uIG9mIHBhdHRlcm4gb2JqZWN0c1xyXG4gIHZhciBwYXR0ZXJuTWFwID0ge307IC8vIHNlZSBmb250c1xyXG4gIHZhciBnU3RhdGVzID0ge307IC8vIGNvbGxlY3Rpb24gb2YgZ3JhcGhpYyBzdGF0ZSBvYmplY3RzXHJcbiAgdmFyIGdTdGF0ZXNNYXAgPSB7fTsgLy8gc2VlIGZvbnRzXHJcbiAgdmFyIGFjdGl2ZUdTdGF0ZSA9IG51bGw7XHJcbiAgdmFyIHNjYWxlRmFjdG9yOyAvLyBTY2FsZSBmYWN0b3JcclxuICB2YXIgcGFnZSA9IDA7XHJcbiAgdmFyIHBhZ2VzQ29udGV4dCA9IFtdO1xyXG4gIHZhciBldmVudHMgPSBuZXcgUHViU3ViKEFQSSk7XHJcbiAgdmFyIGhvdGZpeGVzID0gb3B0aW9ucy5ob3RmaXhlcyB8fCBbXTtcclxuXHJcbiAgdmFyIHJlbmRlclRhcmdldHMgPSB7fTtcclxuICB2YXIgcmVuZGVyVGFyZ2V0TWFwID0ge307XHJcbiAgdmFyIHJlbmRlclRhcmdldFN0YWNrID0gW107XHJcbiAgdmFyIHBhZ2VYO1xyXG4gIHZhciBwYWdlWTtcclxuICB2YXIgcGFnZU1hdHJpeDsgLy8gb25seSB1c2VkIGZvciBGb3JtT2JqZWN0c1xyXG5cclxuICAvKipcclxuICAgKiBBIG1hdHJpeCBvYmplY3QgZm9yIDJEIGhvbW9nZW5vdXMgdHJhbnNmb3JtYXRpb25zOiA8YnI+XHJcbiAgICogfCBhIGIgMCB8IDxicj5cclxuICAgKiB8IGMgZCAwIHwgPGJyPlxyXG4gICAqIHwgZSBmIDEgfCA8YnI+XHJcbiAgICogcGRmIG11bHRpcGxpZXMgbWF0cmljZXMgcmlnaHRoYW5kOiB2JyA9IHYgeCBtMSB4IG0yIHggLi4uXHJcbiAgICpcclxuICAgKiBAY2xhc3NcclxuICAgKiBAbmFtZSBNYXRyaXhcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc3hcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2h5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNoeFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzeVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0eFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0eVxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIHZhciBNYXRyaXggPSBmdW5jdGlvbihzeCwgc2h5LCBzaHgsIHN5LCB0eCwgdHkpIHtcclxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNYXRyaXgpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgTWF0cml4KHN4LCBzaHksIHNoeCwgc3ksIHR4LCB0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTmFOKHN4KSkgc3ggPSAxO1xyXG4gICAgaWYgKGlzTmFOKHNoeSkpIHNoeSA9IDA7XHJcbiAgICBpZiAoaXNOYU4oc2h4KSkgc2h4ID0gMDtcclxuICAgIGlmIChpc05hTihzeSkpIHN5ID0gMTtcclxuICAgIGlmIChpc05hTih0eCkpIHR4ID0gMDtcclxuICAgIGlmIChpc05hTih0eSkpIHR5ID0gMDtcclxuXHJcbiAgICB0aGlzLl9tYXRyaXggPSBbc3gsIHNoeSwgc2h4LCBzeSwgdHgsIHR5XTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBzeFxyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeC5wcm90b3R5cGUsIFwic3hcIiwge1xyXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21hdHJpeFswXTtcclxuICAgIH0sXHJcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuX21hdHJpeFswXSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBzaHlcclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcInNoeVwiLCB7XHJcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbWF0cml4WzFdO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgdGhpcy5fbWF0cml4WzFdID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIHNoeFxyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeC5wcm90b3R5cGUsIFwic2h4XCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXRyaXhbMl07XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9tYXRyaXhbMl0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgc3lcclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcInN5XCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXRyaXhbM107XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9tYXRyaXhbM10gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgdHhcclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcInR4XCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXRyaXhbNF07XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9tYXRyaXhbNF0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgdHlcclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcInR5XCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXRyaXhbNV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9tYXRyaXhbNV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeC5wcm90b3R5cGUsIFwiYVwiLCB7XHJcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbWF0cml4WzBdO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgdGhpcy5fbWF0cml4WzBdID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcImJcIiwge1xyXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21hdHJpeFsxXTtcclxuICAgIH0sXHJcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuX21hdHJpeFsxXSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LnByb3RvdHlwZSwgXCJjXCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXRyaXhbMl07XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9tYXRyaXhbMl0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeC5wcm90b3R5cGUsIFwiZFwiLCB7XHJcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fbWF0cml4WzNdO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgdGhpcy5fbWF0cml4WzNdID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcImVcIiwge1xyXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX21hdHJpeFs0XTtcclxuICAgIH0sXHJcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHRoaXMuX21hdHJpeFs0XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LnByb3RvdHlwZSwgXCJmXCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9tYXRyaXhbNV07XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9tYXRyaXhbNV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgcm90YXRpb25cclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXgucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMuc2h4LCB0aGlzLnN4KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgc2NhbGVYXHJcbiAgICogQG1lbWJlcm9mIE1hdHJpeCNcclxuICAgKi9cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LnByb3RvdHlwZSwgXCJzY2FsZVhcIiwge1xyXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZGVjb21wb3NlKCkuc2NhbGUuc3g7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIHNjYWxlWVxyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeC5wcm90b3R5cGUsIFwic2NhbGVZXCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmRlY29tcG9zZSgpLnNjYWxlLnN5O1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBpc0lkZW50aXR5XHJcbiAgICogQG1lbWJlcm9mIE1hdHJpeCNcclxuICAgKi9cclxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4LnByb3RvdHlwZSwgXCJpc0lkZW50aXR5XCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLnN4ICE9PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLnNoeSAhPT0gMCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5zaHggIT09IDApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuc3kgIT09IDEpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMudHggIT09IDApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMudHkgIT09IDApIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEpvaW4gdGhlIE1hdHJpeCBWYWx1ZXMgdG8gYSBTdHJpbmdcclxuICAgKlxyXG4gICAqIEBmdW5jdGlvbiBqb2luXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvciBTcGVjaWZpZXMgYSBzdHJpbmcgdG8gc2VwYXJhdGUgZWFjaCBwYWlyIG9mIGFkamFjZW50IGVsZW1lbnRzIG9mIHRoZSBhcnJheS4gVGhlIHNlcGFyYXRvciBpcyBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcgaWYgbmVjZXNzYXJ5LiBJZiBvbWl0dGVkLCB0aGUgYXJyYXkgZWxlbWVudHMgYXJlIHNlcGFyYXRlZCB3aXRoIGEgY29tbWEgKFwiLFwiKS4gSWYgc2VwYXJhdG9yIGlzIGFuIGVtcHR5IHN0cmluZywgYWxsIGVsZW1lbnRzIGFyZSBqb2luZWQgd2l0aG91dCBhbnkgY2hhcmFjdGVycyBpbiBiZXR3ZWVuIHRoZW0uXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmcgd2l0aCBhbGwgYXJyYXkgZWxlbWVudHMgam9pbmVkLlxyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgTWF0cml4LnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24oc2VwYXJhdG9yKSB7XHJcbiAgICByZXR1cm4gW3RoaXMuc3gsIHRoaXMuc2h5LCB0aGlzLnNoeCwgdGhpcy5zeSwgdGhpcy50eCwgdGhpcy50eV1cclxuICAgICAgLm1hcChocGYpXHJcbiAgICAgIC5qb2luKHNlcGFyYXRvcik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhlIG1hdHJpeCB3aXRoIGdpdmVuIE1hdHJpeFxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uIG11bHRpcGx5XHJcbiAgICogQHBhcmFtIG1hdHJpeFxyXG4gICAqIEByZXR1cm5zIHtNYXRyaXh9XHJcbiAgICogQG1lbWJlcm9mIE1hdHJpeCNcclxuICAgKi9cclxuICBNYXRyaXgucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24obWF0cml4KSB7XHJcbiAgICB2YXIgc3ggPSBtYXRyaXguc3ggKiB0aGlzLnN4ICsgbWF0cml4LnNoeSAqIHRoaXMuc2h4O1xyXG4gICAgdmFyIHNoeSA9IG1hdHJpeC5zeCAqIHRoaXMuc2h5ICsgbWF0cml4LnNoeSAqIHRoaXMuc3k7XHJcbiAgICB2YXIgc2h4ID0gbWF0cml4LnNoeCAqIHRoaXMuc3ggKyBtYXRyaXguc3kgKiB0aGlzLnNoeDtcclxuICAgIHZhciBzeSA9IG1hdHJpeC5zaHggKiB0aGlzLnNoeSArIG1hdHJpeC5zeSAqIHRoaXMuc3k7XHJcbiAgICB2YXIgdHggPSBtYXRyaXgudHggKiB0aGlzLnN4ICsgbWF0cml4LnR5ICogdGhpcy5zaHggKyB0aGlzLnR4O1xyXG4gICAgdmFyIHR5ID0gbWF0cml4LnR4ICogdGhpcy5zaHkgKyBtYXRyaXgudHkgKiB0aGlzLnN5ICsgdGhpcy50eTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE1hdHJpeChzeCwgc2h5LCBzaHgsIHN5LCB0eCwgdHkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBmdW5jdGlvbiBkZWNvbXBvc2VcclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYSA9IHRoaXMuc3g7XHJcbiAgICB2YXIgYiA9IHRoaXMuc2h5O1xyXG4gICAgdmFyIGMgPSB0aGlzLnNoeDtcclxuICAgIHZhciBkID0gdGhpcy5zeTtcclxuICAgIHZhciBlID0gdGhpcy50eDtcclxuICAgIHZhciBmID0gdGhpcy50eTtcclxuXHJcbiAgICB2YXIgc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpO1xyXG4gICAgYSAvPSBzY2FsZVg7XHJcbiAgICBiIC89IHNjYWxlWDtcclxuXHJcbiAgICB2YXIgc2hlYXIgPSBhICogYyArIGIgKiBkO1xyXG4gICAgYyAtPSBhICogc2hlYXI7XHJcbiAgICBkIC09IGIgKiBzaGVhcjtcclxuXHJcbiAgICB2YXIgc2NhbGVZID0gTWF0aC5zcXJ0KGMgKiBjICsgZCAqIGQpO1xyXG4gICAgYyAvPSBzY2FsZVk7XHJcbiAgICBkIC89IHNjYWxlWTtcclxuICAgIHNoZWFyIC89IHNjYWxlWTtcclxuXHJcbiAgICBpZiAoYSAqIGQgPCBiICogYykge1xyXG4gICAgICBhID0gLWE7XHJcbiAgICAgIGIgPSAtYjtcclxuICAgICAgc2hlYXIgPSAtc2hlYXI7XHJcbiAgICAgIHNjYWxlWCA9IC1zY2FsZVg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc2NhbGU6IG5ldyBNYXRyaXgoc2NhbGVYLCAwLCAwLCBzY2FsZVksIDAsIDApLFxyXG4gICAgICB0cmFuc2xhdGU6IG5ldyBNYXRyaXgoMSwgMCwgMCwgMSwgZSwgZiksXHJcbiAgICAgIHJvdGF0ZTogbmV3IE1hdHJpeChhLCBiLCAtYiwgYSwgMCwgMCksXHJcbiAgICAgIHNrZXc6IG5ldyBNYXRyaXgoMSwgMCwgc2hlYXIsIDEsIDAsIDApXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBmdW5jdGlvbiB0b1N0cmluZ1xyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgTWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKHBhcm1QcmVjaXNpb24pIHtcclxuICAgIHJldHVybiB0aGlzLmpvaW4oXCIgXCIpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBmdW5jdGlvbiBpbnZlcnNlZFxyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgTWF0cml4LnByb3RvdHlwZS5pbnZlcnNlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGEgPSB0aGlzLnN4LFxyXG4gICAgICBiID0gdGhpcy5zaHksXHJcbiAgICAgIGMgPSB0aGlzLnNoeCxcclxuICAgICAgZCA9IHRoaXMuc3ksXHJcbiAgICAgIGUgPSB0aGlzLnR4LFxyXG4gICAgICBmID0gdGhpcy50eTtcclxuXHJcbiAgICB2YXIgcXVvdCA9IDEgLyAoYSAqIGQgLSBiICogYyk7XHJcblxyXG4gICAgdmFyIGFJbnYgPSBkICogcXVvdDtcclxuICAgIHZhciBiSW52ID0gLWIgKiBxdW90O1xyXG4gICAgdmFyIGNJbnYgPSAtYyAqIHF1b3Q7XHJcbiAgICB2YXIgZEludiA9IGEgKiBxdW90O1xyXG4gICAgdmFyIGVJbnYgPSAtYUludiAqIGUgLSBjSW52ICogZjtcclxuICAgIHZhciBmSW52ID0gLWJJbnYgKiBlIC0gZEludiAqIGY7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBNYXRyaXgoYUludiwgYkludiwgY0ludiwgZEludiwgZUludiwgZkludik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQGZ1bmN0aW9uIGFwcGx5VG9Qb2ludFxyXG4gICAqIEBtZW1iZXJvZiBNYXRyaXgjXHJcbiAgICovXHJcbiAgTWF0cml4LnByb3RvdHlwZS5hcHBseVRvUG9pbnQgPSBmdW5jdGlvbihwdCkge1xyXG4gICAgdmFyIHggPSBwdC54ICogdGhpcy5zeCArIHB0LnkgKiB0aGlzLnNoeCArIHRoaXMudHg7XHJcbiAgICB2YXIgeSA9IHB0LnggKiB0aGlzLnNoeSArIHB0LnkgKiB0aGlzLnN5ICsgdGhpcy50eTtcclxuICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQGZ1bmN0aW9uIGFwcGx5VG9SZWN0YW5nbGVcclxuICAgKiBAbWVtYmVyb2YgTWF0cml4I1xyXG4gICAqL1xyXG4gIE1hdHJpeC5wcm90b3R5cGUuYXBwbHlUb1JlY3RhbmdsZSA9IGZ1bmN0aW9uKHJlY3QpIHtcclxuICAgIHZhciBwdDEgPSB0aGlzLmFwcGx5VG9Qb2ludChyZWN0KTtcclxuICAgIHZhciBwdDIgPSB0aGlzLmFwcGx5VG9Qb2ludChuZXcgUG9pbnQocmVjdC54ICsgcmVjdC53LCByZWN0LnkgKyByZWN0LmgpKTtcclxuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHB0MS54LCBwdDEueSwgcHQyLnggLSBwdDEueCwgcHQyLnkgLSBwdDEueSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvbmUgdGhlIE1hdHJpeFxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uIGNsb25lXHJcbiAgICogQG1lbWJlcm9mIE1hdHJpeCNcclxuICAgKiBAbmFtZSBjbG9uZVxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqL1xyXG4gIE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzeCA9IHRoaXMuc3g7XHJcbiAgICB2YXIgc2h5ID0gdGhpcy5zaHk7XHJcbiAgICB2YXIgc2h4ID0gdGhpcy5zaHg7XHJcbiAgICB2YXIgc3kgPSB0aGlzLnN5O1xyXG4gICAgdmFyIHR4ID0gdGhpcy50eDtcclxuICAgIHZhciB0eSA9IHRoaXMudHk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBNYXRyaXgoc3gsIHNoeSwgc2h4LCBzeSwgdHgsIHR5KTtcclxuICB9O1xyXG5cclxuICBBUEkuTWF0cml4ID0gTWF0cml4O1xyXG5cclxuICAvKipcclxuICAgKiBNdWx0aXBsaWVzIHR3byBtYXRyaWNlcy4gKHNlZSB7QGxpbmsgTWF0cml4fSlcclxuICAgKiBAcGFyYW0ge01hdHJpeH0gbTFcclxuICAgKiBAcGFyYW0ge01hdHJpeH0gbTJcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgbWF0cml4TXVsdFxyXG4gICAqL1xyXG4gIHZhciBtYXRyaXhNdWx0ID0gKEFQSS5tYXRyaXhNdWx0ID0gZnVuY3Rpb24obTEsIG0yKSB7XHJcbiAgICByZXR1cm4gbTIubXVsdGlwbHkobTEpO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgaWRlbnRpdHkgbWF0cml4IChlcXVpdmFsZW50IHRvIG5ldyBNYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCkpLlxyXG4gICAqIEB0eXBlIHtNYXRyaXh9XHJcbiAgICogQG1lbWJlcm9mISBqc1BERiNcclxuICAgKiBAbmFtZSBpZGVudGl0eU1hdHJpeFxyXG4gICAqL1xyXG4gIHZhciBpZGVudGl0eU1hdHJpeCA9IG5ldyBNYXRyaXgoMSwgMCwgMCwgMSwgMCwgMCk7XHJcbiAgQVBJLnVuaXRNYXRyaXggPSBBUEkuaWRlbnRpdHlNYXRyaXggPSBpZGVudGl0eU1hdHJpeDtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIG5ldyBwYXR0ZXJuIGZvciBsYXRlciB1c2UuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IGJ5IGl0IGNhbiBiZSByZWZlcmVuY2VkIGxhdGVyLiBUaGUga2V5cyBtdXN0IGJlIHVuaXF1ZSFcclxuICAgKiBAcGFyYW0ge0FQSS5QYXR0ZXJufSBwYXR0ZXJuIFRoZSBwYXR0ZXJuXHJcbiAgICovXHJcbiAgdmFyIGFkZFBhdHRlcm4gPSBmdW5jdGlvbihrZXksIHBhdHRlcm4pIHtcclxuICAgIC8vIG9ubHkgYWRkIGl0IGlmIGl0IGlzIG5vdCBhbHJlYWR5IHByZXNlbnQgKHRoZSBrZXlzIHByb3ZpZGVkIGJ5IHRoZSB1c2VyIG11c3QgYmUgdW5pcXVlISlcclxuICAgIGlmIChwYXR0ZXJuTWFwW2tleV0pIHJldHVybjtcclxuXHJcbiAgICB2YXIgcHJlZml4ID0gcGF0dGVybiBpbnN0YW5jZW9mIFNoYWRpbmdQYXR0ZXJuID8gXCJTaFwiIDogXCJQXCI7XHJcbiAgICB2YXIgcGF0dGVybktleSA9IHByZWZpeCArIChPYmplY3Qua2V5cyhwYXR0ZXJucykubGVuZ3RoICsgMSkudG9TdHJpbmcoMTApO1xyXG4gICAgcGF0dGVybi5pZCA9IHBhdHRlcm5LZXk7XHJcblxyXG4gICAgcGF0dGVybk1hcFtrZXldID0gcGF0dGVybktleTtcclxuICAgIHBhdHRlcm5zW3BhdHRlcm5LZXldID0gcGF0dGVybjtcclxuXHJcbiAgICBldmVudHMucHVibGlzaChcImFkZFBhdHRlcm5cIiwgcGF0dGVybik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQSBwYXR0ZXJuIGRlc2NyaWJpbmcgYSBzaGFkaW5nIHBhdHRlcm4uXHJcbiAgICpcclxuICAgKiBPbmx5IGF2YWlsYWJsZSBpbiBcImFkdmFuY2VkXCIgQVBJIG1vZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBPbmUgb2YgXCJheGlhbFwiIG9yIFwicmFkaWFsXCJcclxuICAgKiBAcGFyYW0ge0FycmF5PE51bWJlcj59IGNvb3JkcyBFaXRoZXIgW3gxLCB5MSwgeDIsIHkyXSBmb3IgXCJheGlhbFwiIHR5cGUgZGVzY3JpYmluZyB0aGUgdHdvIGludGVycG9sYXRpb24gcG9pbnRzXHJcbiAgICogb3IgW3gxLCB5MSwgciwgeDIsIHkyLCByMl0gZm9yIFwicmFkaWFsXCIgZGVzY3JpYmluZyBpbm5lciBhbmQgdGhlIG91dGVyIGNpcmNsZS5cclxuICAgKiBAcGFyYW0ge0FycmF5PE9iamVjdD59IGNvbG9ycyBBbiBhcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIGZpZWxkcyBcIm9mZnNldFwiIGFuZCBcImNvbG9yXCIuIFwib2Zmc2V0XCIgZGVzY3JpYmVzXHJcbiAgICogdGhlIG9mZnNldCBpbiBwYXJhbWV0ZXIgc3BhY2UgWzAsIDFdLiBcImNvbG9yXCIgaXMgYW4gYXJyYXkgb2YgbGVuZ3RoIDMgZGVzY3JpYmluZyBSR0IgdmFsdWVzIGluIFswLCAyNTVdLlxyXG4gICAqIEBwYXJhbSB7R1N0YXRlPX0gZ1N0YXRlIEFuIGFkZGl0aW9uYWwgZ3JhcGhpY3Mgc3RhdGUgdGhhdCBnZXRzIGFwcGxpZWQgdG8gdGhlIHBhdHRlcm4gKG9wdGlvbmFsKS5cclxuICAgKiBAcGFyYW0ge01hdHJpeD19IG1hdHJpeCBBIG1hdHJpeCB0aGF0IGRlc2NyaWJlcyB0aGUgdHJhbnNmb3JtYXRpb24gYmV0d2VlbiB0aGUgcGF0dGVybiBjb29yZGluYXRlIHN5c3RlbVxyXG4gICAqIGFuZCB0aGUgdXNlIGNvb3JkaW5hdGUgc3lzdGVtIChvcHRpb25hbCkuXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQGV4dGVuZHMgQVBJLlBhdHRlcm5cclxuICAgKi9cclxuICBBUEkuU2hhZGluZ1BhdHRlcm4gPSBTaGFkaW5nUGF0dGVybjtcclxuXHJcbiAgLyoqXHJcbiAgICogQSBQREYgVGlsaW5nIHBhdHRlcm4uXHJcbiAgICpcclxuICAgKiBPbmx5IGF2YWlsYWJsZSBpbiBcImFkdmFuY2VkXCIgQVBJIG1vZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSBib3VuZGluZ0JveCBUaGUgYm91bmRpbmcgYm94IGF0IHdoaWNoIG9uZSBwYXR0ZXJuIGNlbGwgZ2V0cyBjbGlwcGVkLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4U3RlcCBIb3Jpem9udGFsIHNwYWNpbmcgYmV0d2VlbiBwYXR0ZXJuIGNlbGxzLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5U3RlcCBWZXJ0aWNhbCBzcGFjaW5nIGJldHdlZW4gcGF0dGVybiBjZWxscy5cclxuICAgKiBAcGFyYW0ge0FQSS5HU3RhdGU9fSBnU3RhdGUgQW4gYWRkaXRpb25hbCBncmFwaGljcyBzdGF0ZSB0aGF0IGdldHMgYXBwbGllZCB0byB0aGUgcGF0dGVybiAob3B0aW9uYWwpLlxyXG4gICAqIEBwYXJhbSB7TWF0cml4PX0gbWF0cml4IEEgbWF0cml4IHRoYXQgZGVzY3JpYmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBiZXR3ZWVuIHRoZSBwYXR0ZXJuIGNvb3JkaW5hdGUgc3lzdGVtXHJcbiAgICogYW5kIHRoZSB1c2UgY29vcmRpbmF0ZSBzeXN0ZW0gKG9wdGlvbmFsKS5cclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKiBAZXh0ZW5kcyBBUEkuUGF0dGVyblxyXG4gICAqL1xyXG4gIEFQSS5UaWxpbmdQYXR0ZXJuID0gVGlsaW5nUGF0dGVybjtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIG5ldyB7QGxpbmsgQVBJLlNoYWRpbmdQYXR0ZXJufSBmb3IgbGF0ZXIgdXNlLiBPbmx5IGF2YWlsYWJsZSBpbiBcImFkdmFuY2VkXCIgQVBJIG1vZGUuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxyXG4gICAqIEBwYXJhbSB7UGF0dGVybn0gcGF0dGVyblxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgYWRkUGF0dGVyblxyXG4gICAqL1xyXG4gIEFQSS5hZGRTaGFkaW5nUGF0dGVybiA9IGZ1bmN0aW9uKGtleSwgcGF0dGVybikge1xyXG4gICAgYWR2YW5jZWRBcGlNb2RlVHJhcChcImFkZFNoYWRpbmdQYXR0ZXJuKClcIik7XHJcblxyXG4gICAgYWRkUGF0dGVybihrZXksIHBhdHRlcm4pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQmVnaW5zIGEgbmV3IHRpbGluZyBwYXR0ZXJuLiBBbGwgc3Vic2VxdWVudCByZW5kZXIgY2FsbHMgYXJlIGRyYXduIHRvIHRoaXMgcGF0dGVybiB1bnRpbCB7QGxpbmsgQVBJLmVuZFRpbGluZ1BhdHRlcm59XHJcbiAgICogZ2V0cyBjYWxsZWQuIE9ubHkgYXZhaWxhYmxlIGluIFwiYWR2YW5jZWRcIiBBUEkgbW9kZS5cclxuICAgKiBAcGFyYW0ge0FQSS5QYXR0ZXJufSBwYXR0ZXJuXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGJlZ2luVGlsaW5nUGF0dGVyblxyXG4gICAqL1xyXG4gIEFQSS5iZWdpblRpbGluZ1BhdHRlcm4gPSBmdW5jdGlvbihwYXR0ZXJuKSB7XHJcbiAgICBhZHZhbmNlZEFwaU1vZGVUcmFwKFwiYmVnaW5UaWxpbmdQYXR0ZXJuKClcIik7XHJcblxyXG4gICAgYmVnaW5OZXdSZW5kZXJUYXJnZXQoXHJcbiAgICAgIHBhdHRlcm4uYm91bmRpbmdCb3hbMF0sXHJcbiAgICAgIHBhdHRlcm4uYm91bmRpbmdCb3hbMV0sXHJcbiAgICAgIHBhdHRlcm4uYm91bmRpbmdCb3hbMl0gLSBwYXR0ZXJuLmJvdW5kaW5nQm94WzBdLFxyXG4gICAgICBwYXR0ZXJuLmJvdW5kaW5nQm94WzNdIC0gcGF0dGVybi5ib3VuZGluZ0JveFsxXSxcclxuICAgICAgcGF0dGVybi5tYXRyaXhcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRW5kcyBhIHRpbGluZyBwYXR0ZXJuIGFuZCBzZXRzIHRoZSByZW5kZXIgdGFyZ2V0IHRvIHRoZSBvbmUgYWN0aXZlIGJlZm9yZSB7QGxpbmsgQVBJLmJlZ2luVGlsaW5nUGF0dGVybn0gaGFzIGJlZW4gY2FsbGVkLlxyXG4gICAqXHJcbiAgICogT25seSBhdmFpbGFibGUgaW4gXCJhZHZhbmNlZFwiIEFQSSBtb2RlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIHVuaXF1ZSBrZXkgdGhhdCBpcyB1c2VkIHRvIHJlZmVyZW5jZSB0aGlzIHBhdHRlcm4gYXQgbGF0ZXIgdXNlLlxyXG4gICAqIEBwYXJhbSB7QVBJLlBhdHRlcm59IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gZW5kLlxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBlbmRUaWxpbmdQYXR0ZXJuXHJcbiAgICovXHJcbiAgQVBJLmVuZFRpbGluZ1BhdHRlcm4gPSBmdW5jdGlvbihrZXksIHBhdHRlcm4pIHtcclxuICAgIGFkdmFuY2VkQXBpTW9kZVRyYXAoXCJlbmRUaWxpbmdQYXR0ZXJuKClcIik7XHJcblxyXG4gICAgLy8gcmV0cmlldmUgdGhlIHN0cmVhbVxyXG4gICAgcGF0dGVybi5zdHJlYW0gPSBwYWdlc1tjdXJyZW50UGFnZV0uam9pbihcIlxcblwiKTtcclxuXHJcbiAgICBhZGRQYXR0ZXJuKGtleSwgcGF0dGVybik7XHJcblxyXG4gICAgZXZlbnRzLnB1Ymxpc2goXCJlbmRUaWxpbmdQYXR0ZXJuXCIsIHBhdHRlcm4pO1xyXG5cclxuICAgIC8vIHJlc3RvcmUgc3RhdGUgZnJvbSBzdGFja1xyXG4gICAgcmVuZGVyVGFyZ2V0U3RhY2sucG9wKCkucmVzdG9yZSgpO1xyXG4gIH07XHJcblxyXG4gIHZhciBuZXdPYmplY3QgPSAoQVBJLl9fcHJpdmF0ZV9fLm5ld09iamVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG9pZCA9IG5ld09iamVjdERlZmVycmVkKCk7XHJcbiAgICBuZXdPYmplY3REZWZlcnJlZEJlZ2luKG9pZCwgdHJ1ZSk7XHJcbiAgICByZXR1cm4gb2lkO1xyXG4gIH0pO1xyXG5cclxuICAvLyBEb2VzIG5vdCBvdXRwdXQgdGhlIG9iamVjdC4gIFRoZSBjYWxsZXIgbXVzdCBjYWxsIG5ld09iamVjdERlZmVycmVkQmVnaW4ob2lkKSBiZWZvcmUgb3V0cHV0aW5nIGFueSBkYXRhXHJcbiAgdmFyIG5ld09iamVjdERlZmVycmVkID0gKEFQSS5fX3ByaXZhdGVfXy5uZXdPYmplY3REZWZlcnJlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgb2JqZWN0TnVtYmVyKys7XHJcbiAgICBvZmZzZXRzW29iamVjdE51bWJlcl0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGNvbnRlbnRMZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG9iamVjdE51bWJlcjtcclxuICB9KTtcclxuXHJcbiAgdmFyIG5ld09iamVjdERlZmVycmVkQmVnaW4gPSBmdW5jdGlvbihvaWQsIGRvT3V0cHV0KSB7XHJcbiAgICBkb091dHB1dCA9IHR5cGVvZiBkb091dHB1dCA9PT0gXCJib29sZWFuXCIgPyBkb091dHB1dCA6IGZhbHNlO1xyXG4gICAgb2Zmc2V0c1tvaWRdID0gY29udGVudExlbmd0aDtcclxuICAgIGlmIChkb091dHB1dCkge1xyXG4gICAgICBvdXQob2lkICsgXCIgMCBvYmpcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2lkO1xyXG4gIH07XHJcbiAgLy8gRG9lcyBub3Qgb3V0cHV0IHRoZSBvYmplY3QgdW50aWwgYWZ0ZXIgdGhlIHBhZ2VzIGhhdmUgYmVlbiBvdXRwdXQuXHJcbiAgLy8gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgb2JqZWN0SWQgYW5kIGNvbnRlbnQuXHJcbiAgLy8gQWxsIHBhZ2VzIGhhdmUgYmVlbiBhZGRlZCBzbyB0aGUgb2JqZWN0IElEIGNhbiBiZSBlc3RpbWF0ZWQgdG8gc3RhcnQgcmlnaHQgYWZ0ZXIuXHJcbiAgLy8gVGhpcyBkb2VzIG5vdCBtb2RpZnkgdGhlIGN1cnJlbnQgb2JqZWN0TnVtYmVyOyAgSXQgbXVzdCBiZSB1cGRhdGVkIGFmdGVyIHRoZSBuZXdPYmplY3RzIGFyZSBvdXRwdXQuXHJcbiAgdmFyIG5ld0FkZGl0aW9uYWxPYmplY3QgPSAoQVBJLl9fcHJpdmF0ZV9fLm5ld0FkZGl0aW9uYWxPYmplY3QgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBvYmpJZCA9IG5ld09iamVjdERlZmVycmVkKCk7XHJcbiAgICB2YXIgb2JqID0ge1xyXG4gICAgICBvYmpJZDogb2JqSWQsXHJcbiAgICAgIGNvbnRlbnQ6IFwiXCJcclxuICAgIH07XHJcbiAgICBhZGRpdGlvbmFsT2JqZWN0cy5wdXNoKG9iaik7XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgcm9vdERpY3Rpb25hcnlPYmpJZCA9IG5ld09iamVjdERlZmVycmVkKCk7XHJcbiAgdmFyIHJlc291cmNlRGljdGlvbmFyeU9iaklkID0gbmV3T2JqZWN0RGVmZXJyZWQoKTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gUHJpdmF0ZSBmdW5jdGlvbnNcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgdmFyIGRlY29kZUNvbG9yU3RyaW5nID0gKEFQSS5fX3ByaXZhdGVfXy5kZWNvZGVDb2xvclN0cmluZyA9IGZ1bmN0aW9uKGNvbG9yKSB7XHJcbiAgICB2YXIgY29sb3JFbmNvZGVkID0gY29sb3Iuc3BsaXQoXCIgXCIpO1xyXG4gICAgaWYgKFxyXG4gICAgICBjb2xvckVuY29kZWQubGVuZ3RoID09PSAyICYmXHJcbiAgICAgIChjb2xvckVuY29kZWRbMV0gPT09IFwiZ1wiIHx8IGNvbG9yRW5jb2RlZFsxXSA9PT0gXCJHXCIpXHJcbiAgICApIHtcclxuICAgICAgLy8gY29udmVydCBncmF5c2NhbGUgdmFsdWUgdG8gcmdiIHNvIHRoYXQgaXQgY2FuIGJlIGNvbnZlcnRlZCB0byBoZXggZm9yIGNvbnNpc3RlbmN5XHJcbiAgICAgIHZhciBmbG9hdFZhbCA9IHBhcnNlRmxvYXQoY29sb3JFbmNvZGVkWzBdKTtcclxuICAgICAgY29sb3JFbmNvZGVkID0gW2Zsb2F0VmFsLCBmbG9hdFZhbCwgZmxvYXRWYWwsIFwiclwiXTtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIGNvbG9yRW5jb2RlZC5sZW5ndGggPT09IDUgJiZcclxuICAgICAgKGNvbG9yRW5jb2RlZFs0XSA9PT0gXCJrXCIgfHwgY29sb3JFbmNvZGVkWzRdID09PSBcIktcIilcclxuICAgICkge1xyXG4gICAgICAvLyBjb252ZXJ0IENNWUsgdmFsdWVzIHRvIHJiZyBzbyB0aGF0IGl0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gaGV4IGZvciBjb25zaXN0ZW5jeVxyXG4gICAgICB2YXIgcmVkID0gKDEuMCAtIGNvbG9yRW5jb2RlZFswXSkgKiAoMS4wIC0gY29sb3JFbmNvZGVkWzNdKTtcclxuICAgICAgdmFyIGdyZWVuID0gKDEuMCAtIGNvbG9yRW5jb2RlZFsxXSkgKiAoMS4wIC0gY29sb3JFbmNvZGVkWzNdKTtcclxuICAgICAgdmFyIGJsdWUgPSAoMS4wIC0gY29sb3JFbmNvZGVkWzJdKSAqICgxLjAgLSBjb2xvckVuY29kZWRbM10pO1xyXG5cclxuICAgICAgY29sb3JFbmNvZGVkID0gW3JlZCwgZ3JlZW4sIGJsdWUsIFwiclwiXTtcclxuICAgIH1cclxuICAgIHZhciBjb2xvckFzUkdCID0gXCIjXCI7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICBjb2xvckFzUkdCICs9IChcclxuICAgICAgICBcIjBcIiArIE1hdGguZmxvb3IocGFyc2VGbG9hdChjb2xvckVuY29kZWRbaV0pICogMjU1KS50b1N0cmluZygxNilcclxuICAgICAgKS5zbGljZSgtMik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3JBc1JHQjtcclxuICB9KTtcclxuXHJcbiAgdmFyIGVuY29kZUNvbG9yU3RyaW5nID0gKEFQSS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyA9IGZ1bmN0aW9uKFxyXG4gICAgb3B0aW9uc1xyXG4gICkge1xyXG4gICAgdmFyIGNvbG9yO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgIGNoMTogb3B0aW9uc1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGNoMSA9IG9wdGlvbnMuY2gxO1xyXG4gICAgdmFyIGNoMiA9IG9wdGlvbnMuY2gyO1xyXG4gICAgdmFyIGNoMyA9IG9wdGlvbnMuY2gzO1xyXG4gICAgdmFyIGNoNCA9IG9wdGlvbnMuY2g0O1xyXG4gICAgdmFyIGxldHRlckFycmF5ID1cclxuICAgICAgb3B0aW9ucy5wZGZDb2xvclR5cGUgPT09IFwiZHJhd1wiID8gW1wiR1wiLCBcIlJHXCIsIFwiS1wiXSA6IFtcImdcIiwgXCJyZ1wiLCBcImtcIl07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjaDEgPT09IFwic3RyaW5nXCIgJiYgY2gxLmNoYXJBdCgwKSAhPT0gXCIjXCIpIHtcclxuICAgICAgdmFyIHJnYkNvbG9yID0gbmV3IFJHQkNvbG9yKGNoMSk7XHJcbiAgICAgIGlmIChyZ2JDb2xvci5vaykge1xyXG4gICAgICAgIGNoMSA9IHJnYkNvbG9yLnRvSGV4KCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIS9eXFxkKlxcLj9cXGQqJC8udGVzdChjaDEpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgJ0ludmFsaWQgY29sb3IgXCInICsgY2gxICsgJ1wiIHBhc3NlZCB0byBqc1BERi5lbmNvZGVDb2xvclN0cmluZy4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9jb252ZXJ0IHNob3J0IHJnYiB0byBsb25nIGZvcm1cclxuICAgIGlmICh0eXBlb2YgY2gxID09PSBcInN0cmluZ1wiICYmIC9eI1swLTlBLUZhLWZdezN9JC8udGVzdChjaDEpKSB7XHJcbiAgICAgIGNoMSA9IFwiI1wiICsgY2gxWzFdICsgY2gxWzFdICsgY2gxWzJdICsgY2gxWzJdICsgY2gxWzNdICsgY2gxWzNdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgY2gxID09PSBcInN0cmluZ1wiICYmIC9eI1swLTlBLUZhLWZdezZ9JC8udGVzdChjaDEpKSB7XHJcbiAgICAgIHZhciBoZXggPSBwYXJzZUludChjaDEuc3Vic3RyKDEpLCAxNik7XHJcbiAgICAgIGNoMSA9IChoZXggPj4gMTYpICYgMjU1O1xyXG4gICAgICBjaDIgPSAoaGV4ID4+IDgpICYgMjU1O1xyXG4gICAgICBjaDMgPSBoZXggJiAyNTU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgY2gyID09PSBcInVuZGVmaW5lZFwiIHx8XHJcbiAgICAgICh0eXBlb2YgY2g0ID09PSBcInVuZGVmaW5lZFwiICYmIGNoMSA9PT0gY2gyICYmIGNoMiA9PT0gY2gzKVxyXG4gICAgKSB7XHJcbiAgICAgIC8vIEdyYXkgY29sb3Igc3BhY2UuXHJcbiAgICAgIGlmICh0eXBlb2YgY2gxID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgY29sb3IgPSBjaDEgKyBcIiBcIiArIGxldHRlckFycmF5WzBdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5wcmVjaXNpb24pIHtcclxuICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgY29sb3IgPSBmMihjaDEgLyAyNTUpICsgXCIgXCIgKyBsZXR0ZXJBcnJheVswXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb2xvciA9IGYzKGNoMSAvIDI1NSkgKyBcIiBcIiArIGxldHRlckFycmF5WzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY2g0ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBjaDQgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgLy8gYXNzdW1lIFJHQkFcclxuICAgICAgaWYgKGNoNCAmJiAhaXNOYU4oY2g0LmEpKSB7XHJcbiAgICAgICAgLy9UT0RPIEltcGxlbWVudCB0cmFuc3BhcmVuY3kuXHJcbiAgICAgICAgLy9XT1JLQVJPVU5EIHVzZSB3aGl0ZSBmb3Igbm93LCBpZiB0cmFuc3BhcmVudCwgb3RoZXJ3aXNlIGhhbmRsZSBhcyByZ2JcclxuICAgICAgICBpZiAoY2g0LmEgPT09IDApIHtcclxuICAgICAgICAgIGNvbG9yID0gW1wiMS5cIiwgXCIxLlwiLCBcIjEuXCIsIGxldHRlckFycmF5WzFdXS5qb2luKFwiIFwiKTtcclxuICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gYXNzdW1lIFJHQlxyXG4gICAgICBpZiAodHlwZW9mIGNoMSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIGNvbG9yID0gW2NoMSwgY2gyLCBjaDMsIGxldHRlckFycmF5WzFdXS5qb2luKFwiIFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzd2l0Y2ggKG9wdGlvbnMucHJlY2lzaW9uKSB7XHJcbiAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGNvbG9yID0gW1xyXG4gICAgICAgICAgICAgIGYyKGNoMSAvIDI1NSksXHJcbiAgICAgICAgICAgICAgZjIoY2gyIC8gMjU1KSxcclxuICAgICAgICAgICAgICBmMihjaDMgLyAyNTUpLFxyXG4gICAgICAgICAgICAgIGxldHRlckFycmF5WzFdXHJcbiAgICAgICAgICAgIF0uam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgY29sb3IgPSBbXHJcbiAgICAgICAgICAgICAgZjMoY2gxIC8gMjU1KSxcclxuICAgICAgICAgICAgICBmMyhjaDIgLyAyNTUpLFxyXG4gICAgICAgICAgICAgIGYzKGNoMyAvIDI1NSksXHJcbiAgICAgICAgICAgICAgbGV0dGVyQXJyYXlbMV1cclxuICAgICAgICAgICAgXS5qb2luKFwiIFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGFzc3VtZSBDTVlLXHJcbiAgICAgIGlmICh0eXBlb2YgY2gxID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgY29sb3IgPSBbY2gxLCBjaDIsIGNoMywgY2g0LCBsZXR0ZXJBcnJheVsyXV0uam9pbihcIiBcIik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3dpdGNoIChvcHRpb25zLnByZWNpc2lvbikge1xyXG4gICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICBjb2xvciA9IFtmMihjaDEpLCBmMihjaDIpLCBmMihjaDMpLCBmMihjaDQpLCBsZXR0ZXJBcnJheVsyXV0uam9pbihcclxuICAgICAgICAgICAgICBcIiBcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbG9yID0gW2YzKGNoMSksIGYzKGNoMiksIGYzKGNoMyksIGYzKGNoNCksIGxldHRlckFycmF5WzJdXS5qb2luKFxyXG4gICAgICAgICAgICAgIFwiIFwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29sb3I7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBnZXRGaWx0ZXJzID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRGaWx0ZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZmlsdGVycztcclxuICB9KTtcclxuXHJcbiAgdmFyIHB1dFN0cmVhbSA9IChBUEkuX19wcml2YXRlX18ucHV0U3RyZWFtID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YSB8fCBcIlwiO1xyXG4gICAgdmFyIGZpbHRlcnMgPSBvcHRpb25zLmZpbHRlcnMgfHwgZ2V0RmlsdGVycygpO1xyXG4gICAgdmFyIGFscmVhZHlBcHBsaWVkRmlsdGVycyA9IG9wdGlvbnMuYWxyZWFkeUFwcGxpZWRGaWx0ZXJzIHx8IFtdO1xyXG4gICAgdmFyIGFkZExlbmd0aDEgPSBvcHRpb25zLmFkZExlbmd0aDEgfHwgZmFsc2U7XHJcbiAgICB2YXIgdmFsdWVPZkxlbmd0aDEgPSBkYXRhLmxlbmd0aDtcclxuICAgIHZhciBvYmplY3RJZCA9IG9wdGlvbnMub2JqZWN0SWQ7XHJcbiAgICB2YXIgZW5jcnlwdG9yID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgICBpZiAoZW5jcnlwdGlvbk9wdGlvbnMgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdElkID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiT2JqZWN0SWQgbXVzdCBiZSBwYXNzZWQgdG8gcHV0U3RyZWFtIGZvciBmaWxlIGVuY3J5cHRpb25cIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKGVuY3J5cHRpb25PcHRpb25zICE9PSBudWxsKSB7XHJcbiAgICAgIGVuY3J5cHRvciA9IGVuY3J5cHRpb24uZW5jcnlwdG9yKG9iamVjdElkLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHJvY2Vzc2VkRGF0YSA9IHt9O1xyXG4gICAgaWYgKGZpbHRlcnMgPT09IHRydWUpIHtcclxuICAgICAgZmlsdGVycyA9IFtcIkZsYXRlRW5jb2RlXCJdO1xyXG4gICAgfVxyXG4gICAgdmFyIGtleVZhbHVlcyA9IG9wdGlvbnMuYWRkaXRpb25hbEtleVZhbHVlcyB8fCBbXTtcclxuICAgIGlmICh0eXBlb2YganNQREYuQVBJLnByb2Nlc3NEYXRhQnlGaWx0ZXJzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHByb2Nlc3NlZERhdGEgPSBqc1BERi5BUEkucHJvY2Vzc0RhdGFCeUZpbHRlcnMoZGF0YSwgZmlsdGVycyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwcm9jZXNzZWREYXRhID0geyBkYXRhOiBkYXRhLCByZXZlcnNlQ2hhaW46IFtdIH07XHJcbiAgICB9XHJcbiAgICB2YXIgZmlsdGVyQXNTdHJpbmcgPVxyXG4gICAgICBwcm9jZXNzZWREYXRhLnJldmVyc2VDaGFpbiArXHJcbiAgICAgIChBcnJheS5pc0FycmF5KGFscmVhZHlBcHBsaWVkRmlsdGVycylcclxuICAgICAgICA/IGFscmVhZHlBcHBsaWVkRmlsdGVycy5qb2luKFwiIFwiKVxyXG4gICAgICAgIDogYWxyZWFkeUFwcGxpZWRGaWx0ZXJzLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgIGlmIChwcm9jZXNzZWREYXRhLmRhdGEubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIGtleVZhbHVlcy5wdXNoKHtcclxuICAgICAgICBrZXk6IFwiTGVuZ3RoXCIsXHJcbiAgICAgICAgdmFsdWU6IHByb2Nlc3NlZERhdGEuZGF0YS5sZW5ndGhcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChhZGRMZW5ndGgxID09PSB0cnVlKSB7XHJcbiAgICAgICAga2V5VmFsdWVzLnB1c2goe1xyXG4gICAgICAgICAga2V5OiBcIkxlbmd0aDFcIixcclxuICAgICAgICAgIHZhbHVlOiB2YWx1ZU9mTGVuZ3RoMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZpbHRlckFzU3RyaW5nLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgIGlmIChmaWx0ZXJBc1N0cmluZy5zcGxpdChcIi9cIikubGVuZ3RoIC0gMSA9PT0gMSkge1xyXG4gICAgICAgIGtleVZhbHVlcy5wdXNoKHtcclxuICAgICAgICAgIGtleTogXCJGaWx0ZXJcIixcclxuICAgICAgICAgIHZhbHVlOiBmaWx0ZXJBc1N0cmluZ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGtleVZhbHVlcy5wdXNoKHtcclxuICAgICAgICAgIGtleTogXCJGaWx0ZXJcIixcclxuICAgICAgICAgIHZhbHVlOiBcIltcIiArIGZpbHRlckFzU3RyaW5nICsgXCJdXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlWYWx1ZXMubGVuZ3RoOyBqICs9IDEpIHtcclxuICAgICAgICAgIGlmIChrZXlWYWx1ZXNbal0ua2V5ID09PSBcIkRlY29kZVBhcm1zXCIpIHtcclxuICAgICAgICAgICAgdmFyIGRlY29kZVBhcm1zQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICAgIGkgPCBwcm9jZXNzZWREYXRhLnJldmVyc2VDaGFpbi5zcGxpdChcIi9cIikubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICBpICs9IDFcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgZGVjb2RlUGFybXNBcnJheS5wdXNoKFwibnVsbFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVjb2RlUGFybXNBcnJheS5wdXNoKGtleVZhbHVlc1tqXS52YWx1ZSk7XHJcbiAgICAgICAgICAgIGtleVZhbHVlc1tqXS52YWx1ZSA9IFwiW1wiICsgZGVjb2RlUGFybXNBcnJheS5qb2luKFwiIFwiKSArIFwiXVwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG91dChcIjw8XCIpO1xyXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlWYWx1ZXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgb3V0KFwiL1wiICsga2V5VmFsdWVzW2tdLmtleSArIFwiIFwiICsga2V5VmFsdWVzW2tdLnZhbHVlKTtcclxuICAgIH1cclxuICAgIG91dChcIj4+XCIpO1xyXG4gICAgaWYgKHByb2Nlc3NlZERhdGEuZGF0YS5sZW5ndGggIT09IDApIHtcclxuICAgICAgb3V0KFwic3RyZWFtXCIpO1xyXG4gICAgICBvdXQoZW5jcnlwdG9yKHByb2Nlc3NlZERhdGEuZGF0YSkpO1xyXG4gICAgICBvdXQoXCJlbmRzdHJlYW1cIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciBwdXRQYWdlID0gKEFQSS5fX3ByaXZhdGVfXy5wdXRQYWdlID0gZnVuY3Rpb24ocGFnZSkge1xyXG4gICAgdmFyIHBhZ2VOdW1iZXIgPSBwYWdlLm51bWJlcjtcclxuICAgIHZhciBkYXRhID0gcGFnZS5kYXRhO1xyXG4gICAgdmFyIHBhZ2VPYmplY3ROdW1iZXIgPSBwYWdlLm9iaklkO1xyXG4gICAgdmFyIHBhZ2VDb250ZW50c09iaklkID0gcGFnZS5jb250ZW50c09iaklkO1xyXG5cclxuICAgIG5ld09iamVjdERlZmVycmVkQmVnaW4ocGFnZU9iamVjdE51bWJlciwgdHJ1ZSk7XHJcbiAgICBvdXQoXCI8PC9UeXBlIC9QYWdlXCIpO1xyXG4gICAgb3V0KFwiL1BhcmVudCBcIiArIHBhZ2Uucm9vdERpY3Rpb25hcnlPYmpJZCArIFwiIDAgUlwiKTtcclxuICAgIG91dChcIi9SZXNvdXJjZXMgXCIgKyBwYWdlLnJlc291cmNlRGljdGlvbmFyeU9iaklkICsgXCIgMCBSXCIpO1xyXG4gICAgb3V0KFxyXG4gICAgICBcIi9NZWRpYUJveCBbXCIgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoaHBmKHBhZ2UubWVkaWFCb3guYm90dG9tTGVmdFgpKSArXHJcbiAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgIHBhcnNlRmxvYXQoaHBmKHBhZ2UubWVkaWFCb3guYm90dG9tTGVmdFkpKSArXHJcbiAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgIGhwZihwYWdlLm1lZGlhQm94LnRvcFJpZ2h0WCkgK1xyXG4gICAgICAgIFwiIFwiICtcclxuICAgICAgICBocGYocGFnZS5tZWRpYUJveC50b3BSaWdodFkpICtcclxuICAgICAgICBcIl1cIlxyXG4gICAgKTtcclxuICAgIGlmIChwYWdlLmNyb3BCb3ggIT09IG51bGwpIHtcclxuICAgICAgb3V0KFxyXG4gICAgICAgIFwiL0Nyb3BCb3ggW1wiICtcclxuICAgICAgICAgIGhwZihwYWdlLmNyb3BCb3guYm90dG9tTGVmdFgpICtcclxuICAgICAgICAgIFwiIFwiICtcclxuICAgICAgICAgIGhwZihwYWdlLmNyb3BCb3guYm90dG9tTGVmdFkpICtcclxuICAgICAgICAgIFwiIFwiICtcclxuICAgICAgICAgIGhwZihwYWdlLmNyb3BCb3gudG9wUmlnaHRYKSArXHJcbiAgICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgICBocGYocGFnZS5jcm9wQm94LnRvcFJpZ2h0WSkgK1xyXG4gICAgICAgICAgXCJdXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGFnZS5ibGVlZEJveCAhPT0gbnVsbCkge1xyXG4gICAgICBvdXQoXHJcbiAgICAgICAgXCIvQmxlZWRCb3ggW1wiICtcclxuICAgICAgICAgIGhwZihwYWdlLmJsZWVkQm94LmJvdHRvbUxlZnRYKSArXHJcbiAgICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgICBocGYocGFnZS5ibGVlZEJveC5ib3R0b21MZWZ0WSkgK1xyXG4gICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgaHBmKHBhZ2UuYmxlZWRCb3gudG9wUmlnaHRYKSArXHJcbiAgICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgICBocGYocGFnZS5ibGVlZEJveC50b3BSaWdodFkpICtcclxuICAgICAgICAgIFwiXVwiXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhZ2UudHJpbUJveCAhPT0gbnVsbCkge1xyXG4gICAgICBvdXQoXHJcbiAgICAgICAgXCIvVHJpbUJveCBbXCIgK1xyXG4gICAgICAgICAgaHBmKHBhZ2UudHJpbUJveC5ib3R0b21MZWZ0WCkgK1xyXG4gICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgaHBmKHBhZ2UudHJpbUJveC5ib3R0b21MZWZ0WSkgK1xyXG4gICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgaHBmKHBhZ2UudHJpbUJveC50b3BSaWdodFgpICtcclxuICAgICAgICAgIFwiIFwiICtcclxuICAgICAgICAgIGhwZihwYWdlLnRyaW1Cb3gudG9wUmlnaHRZKSArXHJcbiAgICAgICAgICBcIl1cIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYWdlLmFydEJveCAhPT0gbnVsbCkge1xyXG4gICAgICBvdXQoXHJcbiAgICAgICAgXCIvQXJ0Qm94IFtcIiArXHJcbiAgICAgICAgICBocGYocGFnZS5hcnRCb3guYm90dG9tTGVmdFgpICtcclxuICAgICAgICAgIFwiIFwiICtcclxuICAgICAgICAgIGhwZihwYWdlLmFydEJveC5ib3R0b21MZWZ0WSkgK1xyXG4gICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgaHBmKHBhZ2UuYXJ0Qm94LnRvcFJpZ2h0WCkgK1xyXG4gICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgaHBmKHBhZ2UuYXJ0Qm94LnRvcFJpZ2h0WSkgK1xyXG4gICAgICAgICAgXCJdXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHBhZ2UudXNlclVuaXQgPT09IFwibnVtYmVyXCIgJiYgcGFnZS51c2VyVW5pdCAhPT0gMS4wKSB7XHJcbiAgICAgIG91dChcIi9Vc2VyVW5pdCBcIiArIHBhZ2UudXNlclVuaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50cy5wdWJsaXNoKFwicHV0UGFnZVwiLCB7XHJcbiAgICAgIG9iaklkOiBwYWdlT2JqZWN0TnVtYmVyLFxyXG4gICAgICBwYWdlQ29udGV4dDogcGFnZXNDb250ZXh0W3BhZ2VOdW1iZXJdLFxyXG4gICAgICBwYWdlTnVtYmVyOiBwYWdlTnVtYmVyLFxyXG4gICAgICBwYWdlOiBkYXRhXHJcbiAgICB9KTtcclxuICAgIG91dChcIi9Db250ZW50cyBcIiArIHBhZ2VDb250ZW50c09iaklkICsgXCIgMCBSXCIpO1xyXG4gICAgb3V0KFwiPj5cIik7XHJcbiAgICBvdXQoXCJlbmRvYmpcIik7XHJcbiAgICAvLyBQYWdlIGNvbnRlbnRcclxuICAgIHZhciBwYWdlQ29udGVudCA9IGRhdGEuam9pbihcIlxcblwiKTtcclxuXHJcbiAgICBpZiAoYXBpTW9kZSA9PT0gQXBpTW9kZS5BRFZBTkNFRCkge1xyXG4gICAgICAvLyBpZiB0aGUgdXNlciBmb3Jnb3QgdG8gc3dpdGNoIGJhY2sgdG8gQ09NUEFUIG1vZGUsIHdlIG11c3QgYmFsYW5jZSB0aGUgZ3JhcGhpY3Mgc3RhY2sgYWdhaW5cclxuICAgICAgcGFnZUNvbnRlbnQgKz0gXCJcXG5RXCI7XHJcbiAgICB9XHJcblxyXG4gICAgbmV3T2JqZWN0RGVmZXJyZWRCZWdpbihwYWdlQ29udGVudHNPYmpJZCwgdHJ1ZSk7XHJcbiAgICBwdXRTdHJlYW0oe1xyXG4gICAgICBkYXRhOiBwYWdlQ29udGVudCxcclxuICAgICAgZmlsdGVyczogZ2V0RmlsdGVycygpLFxyXG4gICAgICBvYmplY3RJZDogcGFnZUNvbnRlbnRzT2JqSWRcclxuICAgIH0pO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gICAgcmV0dXJuIHBhZ2VPYmplY3ROdW1iZXI7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBwdXRQYWdlcyA9IChBUEkuX19wcml2YXRlX18ucHV0UGFnZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuLFxyXG4gICAgICBpLFxyXG4gICAgICBwYWdlT2JqZWN0TnVtYmVycyA9IFtdO1xyXG5cclxuICAgIGZvciAobiA9IDE7IG4gPD0gcGFnZTsgbisrKSB7XHJcbiAgICAgIHBhZ2VzQ29udGV4dFtuXS5vYmpJZCA9IG5ld09iamVjdERlZmVycmVkKCk7XHJcbiAgICAgIHBhZ2VzQ29udGV4dFtuXS5jb250ZW50c09iaklkID0gbmV3T2JqZWN0RGVmZXJyZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKG4gPSAxOyBuIDw9IHBhZ2U7IG4rKykge1xyXG4gICAgICBwYWdlT2JqZWN0TnVtYmVycy5wdXNoKFxyXG4gICAgICAgIHB1dFBhZ2Uoe1xyXG4gICAgICAgICAgbnVtYmVyOiBuLFxyXG4gICAgICAgICAgZGF0YTogcGFnZXNbbl0sXHJcbiAgICAgICAgICBvYmpJZDogcGFnZXNDb250ZXh0W25dLm9iaklkLFxyXG4gICAgICAgICAgY29udGVudHNPYmpJZDogcGFnZXNDb250ZXh0W25dLmNvbnRlbnRzT2JqSWQsXHJcbiAgICAgICAgICBtZWRpYUJveDogcGFnZXNDb250ZXh0W25dLm1lZGlhQm94LFxyXG4gICAgICAgICAgY3JvcEJveDogcGFnZXNDb250ZXh0W25dLmNyb3BCb3gsXHJcbiAgICAgICAgICBibGVlZEJveDogcGFnZXNDb250ZXh0W25dLmJsZWVkQm94LFxyXG4gICAgICAgICAgdHJpbUJveDogcGFnZXNDb250ZXh0W25dLnRyaW1Cb3gsXHJcbiAgICAgICAgICBhcnRCb3g6IHBhZ2VzQ29udGV4dFtuXS5hcnRCb3gsXHJcbiAgICAgICAgICB1c2VyVW5pdDogcGFnZXNDb250ZXh0W25dLnVzZXJVbml0LFxyXG4gICAgICAgICAgcm9vdERpY3Rpb25hcnlPYmpJZDogcm9vdERpY3Rpb25hcnlPYmpJZCxcclxuICAgICAgICAgIHJlc291cmNlRGljdGlvbmFyeU9iaklkOiByZXNvdXJjZURpY3Rpb25hcnlPYmpJZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBuZXdPYmplY3REZWZlcnJlZEJlZ2luKHJvb3REaWN0aW9uYXJ5T2JqSWQsIHRydWUpO1xyXG4gICAgb3V0KFwiPDwvVHlwZSAvUGFnZXNcIik7XHJcbiAgICB2YXIga2lkcyA9IFwiL0tpZHMgW1wiO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHBhZ2U7IGkrKykge1xyXG4gICAgICBraWRzICs9IHBhZ2VPYmplY3ROdW1iZXJzW2ldICsgXCIgMCBSIFwiO1xyXG4gICAgfVxyXG4gICAgb3V0KGtpZHMgKyBcIl1cIik7XHJcbiAgICBvdXQoXCIvQ291bnQgXCIgKyBwYWdlKTtcclxuICAgIG91dChcIj4+XCIpO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gICAgZXZlbnRzLnB1Ymxpc2goXCJwb3N0UHV0UGFnZXNcIik7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBwdXRGb250ID0gZnVuY3Rpb24oZm9udCkge1xyXG4gICAgZXZlbnRzLnB1Ymxpc2goXCJwdXRGb250XCIsIHtcclxuICAgICAgZm9udDogZm9udCxcclxuICAgICAgb3V0OiBvdXQsXHJcbiAgICAgIG5ld09iamVjdDogbmV3T2JqZWN0LFxyXG4gICAgICBwdXRTdHJlYW06IHB1dFN0cmVhbVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGZvbnQuaXNBbHJlYWR5UHV0dGVkICE9PSB0cnVlKSB7XHJcbiAgICAgIGZvbnQub2JqZWN0TnVtYmVyID0gbmV3T2JqZWN0KCk7XHJcbiAgICAgIG91dChcIjw8XCIpO1xyXG4gICAgICBvdXQoXCIvVHlwZSAvRm9udFwiKTtcclxuICAgICAgb3V0KFwiL0Jhc2VGb250IC9cIiArIHRvUERGTmFtZShmb250LnBvc3RTY3JpcHROYW1lKSk7XHJcbiAgICAgIG91dChcIi9TdWJ0eXBlIC9UeXBlMVwiKTtcclxuICAgICAgaWYgKHR5cGVvZiBmb250LmVuY29kaW5nID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgb3V0KFwiL0VuY29kaW5nIC9cIiArIGZvbnQuZW5jb2RpbmcpO1xyXG4gICAgICB9XHJcbiAgICAgIG91dChcIi9GaXJzdENoYXIgMzJcIik7XHJcbiAgICAgIG91dChcIi9MYXN0Q2hhciAyNTVcIik7XHJcbiAgICAgIG91dChcIj4+XCIpO1xyXG4gICAgICBvdXQoXCJlbmRvYmpcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dEZvbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3IgKHZhciBmb250S2V5IGluIGZvbnRzKSB7XHJcbiAgICAgIGlmIChmb250cy5oYXNPd25Qcm9wZXJ0eShmb250S2V5KSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHB1dE9ubHlVc2VkRm9udHMgPT09IGZhbHNlIHx8XHJcbiAgICAgICAgICAocHV0T25seVVzZWRGb250cyA9PT0gdHJ1ZSAmJiB1c2VkRm9udHMuaGFzT3duUHJvcGVydHkoZm9udEtleSkpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBwdXRGb250KGZvbnRzW2ZvbnRLZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgcHV0WE9iamVjdCA9IGZ1bmN0aW9uKHhPYmplY3QpIHtcclxuICAgIHhPYmplY3Qub2JqZWN0TnVtYmVyID0gbmV3T2JqZWN0KCk7XHJcblxyXG4gICAgdmFyIG9wdGlvbnMgPSBbXTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJUeXBlXCIsIHZhbHVlOiBcIi9YT2JqZWN0XCIgfSk7XHJcbiAgICBvcHRpb25zLnB1c2goeyBrZXk6IFwiU3VidHlwZVwiLCB2YWx1ZTogXCIvRm9ybVwiIH0pO1xyXG4gICAgb3B0aW9ucy5wdXNoKHtcclxuICAgICAga2V5OiBcIkJCb3hcIixcclxuICAgICAgdmFsdWU6XHJcbiAgICAgICAgXCJbXCIgK1xyXG4gICAgICAgIFtcclxuICAgICAgICAgIGhwZih4T2JqZWN0LngpLFxyXG4gICAgICAgICAgaHBmKHhPYmplY3QueSksXHJcbiAgICAgICAgICBocGYoeE9iamVjdC54ICsgeE9iamVjdC53aWR0aCksXHJcbiAgICAgICAgICBocGYoeE9iamVjdC55ICsgeE9iamVjdC5oZWlnaHQpXHJcbiAgICAgICAgXS5qb2luKFwiIFwiKSArXHJcbiAgICAgICAgXCJdXCJcclxuICAgIH0pO1xyXG4gICAgb3B0aW9ucy5wdXNoKHtcclxuICAgICAga2V5OiBcIk1hdHJpeFwiLFxyXG4gICAgICB2YWx1ZTogXCJbXCIgKyB4T2JqZWN0Lm1hdHJpeC50b1N0cmluZygpICsgXCJdXCJcclxuICAgIH0pO1xyXG4gICAgLy8gVE9ETzogL1Jlc291cmNlc1xyXG5cclxuICAgIHZhciBzdHJlYW0gPSB4T2JqZWN0LnBhZ2VzWzFdLmpvaW4oXCJcXG5cIik7XHJcbiAgICBwdXRTdHJlYW0oe1xyXG4gICAgICBkYXRhOiBzdHJlYW0sXHJcbiAgICAgIGFkZGl0aW9uYWxLZXlWYWx1ZXM6IG9wdGlvbnMsXHJcbiAgICAgIG9iamVjdElkOiB4T2JqZWN0Lm9iamVjdE51bWJlclxyXG4gICAgfSk7XHJcbiAgICBvdXQoXCJlbmRvYmpcIik7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dFhPYmplY3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3IgKHZhciB4T2JqZWN0S2V5IGluIHJlbmRlclRhcmdldHMpIHtcclxuICAgICAgaWYgKHJlbmRlclRhcmdldHMuaGFzT3duUHJvcGVydHkoeE9iamVjdEtleSkpIHtcclxuICAgICAgICBwdXRYT2JqZWN0KHJlbmRlclRhcmdldHNbeE9iamVjdEtleV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGludGVycG9sYXRlQW5kRW5jb2RlUkdCU3RyZWFtID0gZnVuY3Rpb24oY29sb3JzLCBudW1iZXJTYW1wbGVzKSB7XHJcbiAgICB2YXIgdFZhbHVlcyA9IFtdO1xyXG4gICAgdmFyIHQ7XHJcbiAgICB2YXIgZFQgPSAxLjAgLyAobnVtYmVyU2FtcGxlcyAtIDEpO1xyXG4gICAgZm9yICh0ID0gMC4wOyB0IDwgMS4wOyB0ICs9IGRUKSB7XHJcbiAgICAgIHRWYWx1ZXMucHVzaCh0KTtcclxuICAgIH1cclxuICAgIHRWYWx1ZXMucHVzaCgxLjApO1xyXG4gICAgLy8gYWRkIGZpcnN0IGFuZCBsYXN0IGNvbnRyb2wgcG9pbnQgaWYgbm90IHByZXNlbnRcclxuICAgIGlmIChjb2xvcnNbMF0ub2Zmc2V0ICE9IDAuMCkge1xyXG4gICAgICB2YXIgYzAgPSB7XHJcbiAgICAgICAgb2Zmc2V0OiAwLjAsXHJcbiAgICAgICAgY29sb3I6IGNvbG9yc1swXS5jb2xvclxyXG4gICAgICB9O1xyXG4gICAgICBjb2xvcnMudW5zaGlmdChjMCk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29sb3JzW2NvbG9ycy5sZW5ndGggLSAxXS5vZmZzZXQgIT0gMS4wKSB7XHJcbiAgICAgIHZhciBjMSA9IHtcclxuICAgICAgICBvZmZzZXQ6IDEuMCxcclxuICAgICAgICBjb2xvcjogY29sb3JzW2NvbG9ycy5sZW5ndGggLSAxXS5jb2xvclxyXG4gICAgICB9O1xyXG4gICAgICBjb2xvcnMucHVzaChjMSk7XHJcbiAgICB9XHJcbiAgICB2YXIgb3V0ID0gXCJcIjtcclxuICAgIHZhciBpbmRleCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0VmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHQgPSB0VmFsdWVzW2ldO1xyXG4gICAgICB3aGlsZSAodCA+IGNvbG9yc1tpbmRleCArIDFdLm9mZnNldCkgaW5kZXgrKztcclxuICAgICAgdmFyIGEgPSBjb2xvcnNbaW5kZXhdLm9mZnNldDtcclxuICAgICAgdmFyIGIgPSBjb2xvcnNbaW5kZXggKyAxXS5vZmZzZXQ7XHJcbiAgICAgIHZhciBkID0gKHQgLSBhKSAvIChiIC0gYSk7XHJcblxyXG4gICAgICB2YXIgYUNvbG9yID0gY29sb3JzW2luZGV4XS5jb2xvcjtcclxuICAgICAgdmFyIGJDb2xvciA9IGNvbG9yc1tpbmRleCArIDFdLmNvbG9yO1xyXG5cclxuICAgICAgb3V0ICs9XHJcbiAgICAgICAgcGFkZDJIZXgoTWF0aC5yb3VuZCgoMSAtIGQpICogYUNvbG9yWzBdICsgZCAqIGJDb2xvclswXSkudG9TdHJpbmcoMTYpKSArXHJcbiAgICAgICAgcGFkZDJIZXgoTWF0aC5yb3VuZCgoMSAtIGQpICogYUNvbG9yWzFdICsgZCAqIGJDb2xvclsxXSkudG9TdHJpbmcoMTYpKSArXHJcbiAgICAgICAgcGFkZDJIZXgoTWF0aC5yb3VuZCgoMSAtIGQpICogYUNvbG9yWzJdICsgZCAqIGJDb2xvclsyXSkudG9TdHJpbmcoMTYpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBvdXQudHJpbSgpO1xyXG4gIH07XHJcblxyXG4gIHZhciBwdXRTaGFkaW5nUGF0dGVybiA9IGZ1bmN0aW9uKHBhdHRlcm4sIG51bWJlclNhbXBsZXMpIHtcclxuICAgIC8qXHJcbiAgICAgICBBeGlhbCBwYXR0ZXJucyBzaGFkZSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzIHNwZWNpZmllZCBpbiBjb29yZHMsIHJhZGlhbCBwYXR0ZXJucyBiZXR3ZWVuIHRoZSBpbm5lclxyXG4gICAgICAgYW5kIG91dGVyIGNpcmNsZS5cclxuICAgICAgIFRoZSB1c2VyIGNhbiBzcGVjaWZ5IGFuIGFycmF5IChjb2xvcnMpIHRoYXQgbWFwcyB0LVZhbHVlcyBpbiBbMCwgMV0gdG8gUkdCIGNvbG9ycy4gVGhlc2UgYXJlIG5vd1xyXG4gICAgICAgaW50ZXJwb2xhdGVkIHRvIGVxdWlkaXN0YW50IHNhbXBsZXMgYW5kIHdyaXR0ZW4gdG8gcGRmIGFzIGEgc2FtcGxlICh0eXBlIDApIGZ1bmN0aW9uLlxyXG4gICAgICAgKi9cclxuICAgIC8vIFRoZSBudW1iZXIgb2YgY29sb3Igc2FtcGxlcyB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGRlc2NyaWJlIHRoZSBzaGFkaW5nLlxyXG4gICAgLy8gVGhlIGhpZ2hlciwgdGhlIG1vcmUgYWNjdXJhdGUgdGhlIGdyYWRpZW50IHdpbGwgYmUuXHJcbiAgICBudW1iZXJTYW1wbGVzIHx8IChudW1iZXJTYW1wbGVzID0gMjEpO1xyXG4gICAgdmFyIGZ1bmNPYmplY3ROdW1iZXIgPSBuZXdPYmplY3QoKTtcclxuICAgIHZhciBzdHJlYW0gPSBpbnRlcnBvbGF0ZUFuZEVuY29kZVJHQlN0cmVhbShwYXR0ZXJuLmNvbG9ycywgbnVtYmVyU2FtcGxlcyk7XHJcblxyXG4gICAgdmFyIG9wdGlvbnMgPSBbXTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJGdW5jdGlvblR5cGVcIiwgdmFsdWU6IFwiMFwiIH0pO1xyXG4gICAgb3B0aW9ucy5wdXNoKHsga2V5OiBcIkRvbWFpblwiLCB2YWx1ZTogXCJbMC4wIDEuMF1cIiB9KTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJTaXplXCIsIHZhbHVlOiBcIltcIiArIG51bWJlclNhbXBsZXMgKyBcIl1cIiB9KTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJCaXRzUGVyU2FtcGxlXCIsIHZhbHVlOiBcIjhcIiB9KTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJSYW5nZVwiLCB2YWx1ZTogXCJbMC4wIDEuMCAwLjAgMS4wIDAuMCAxLjBdXCIgfSk7XHJcbiAgICBvcHRpb25zLnB1c2goeyBrZXk6IFwiRGVjb2RlXCIsIHZhbHVlOiBcIlswLjAgMS4wIDAuMCAxLjAgMC4wIDEuMF1cIiB9KTtcclxuXHJcbiAgICBwdXRTdHJlYW0oe1xyXG4gICAgICBkYXRhOiBzdHJlYW0sXHJcbiAgICAgIGFkZGl0aW9uYWxLZXlWYWx1ZXM6IG9wdGlvbnMsXHJcbiAgICAgIGFscmVhZHlBcHBsaWVkRmlsdGVyczogW1wiL0FTQ0lJSGV4RGVjb2RlXCJdLFxyXG4gICAgICBvYmplY3RJZDogZnVuY09iamVjdE51bWJlclxyXG4gICAgfSk7XHJcbiAgICBvdXQoXCJlbmRvYmpcIik7XHJcblxyXG4gICAgcGF0dGVybi5vYmplY3ROdW1iZXIgPSBuZXdPYmplY3QoKTtcclxuICAgIG91dChcIjw8IC9TaGFkaW5nVHlwZSBcIiArIHBhdHRlcm4udHlwZSk7XHJcbiAgICBvdXQoXCIvQ29sb3JTcGFjZSAvRGV2aWNlUkdCXCIpO1xyXG4gICAgdmFyIGNvb3JkcyA9XHJcbiAgICAgIFwiL0Nvb3JkcyBbXCIgK1xyXG4gICAgICBocGYocGFyc2VGbG9hdChwYXR0ZXJuLmNvb3Jkc1swXSkpICtcclxuICAgICAgXCIgXCIgKyAvLyB4MVxyXG4gICAgICBocGYocGFyc2VGbG9hdChwYXR0ZXJuLmNvb3Jkc1sxXSkpICtcclxuICAgICAgXCIgXCI7IC8vIHkxXHJcbiAgICBpZiAocGF0dGVybi50eXBlID09PSAyKSB7XHJcbiAgICAgIC8vIGF4aWFsXHJcbiAgICAgIGNvb3JkcyArPVxyXG4gICAgICAgIGhwZihwYXJzZUZsb2F0KHBhdHRlcm4uY29vcmRzWzJdKSkgK1xyXG4gICAgICAgIFwiIFwiICsgLy8geDJcclxuICAgICAgICBocGYocGFyc2VGbG9hdChwYXR0ZXJuLmNvb3Jkc1szXSkpOyAvLyB5MlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gcmFkaWFsXHJcbiAgICAgIGNvb3JkcyArPVxyXG4gICAgICAgIGhwZihwYXJzZUZsb2F0KHBhdHRlcm4uY29vcmRzWzJdKSkgK1xyXG4gICAgICAgIFwiIFwiICsgLy8gcjFcclxuICAgICAgICBocGYocGFyc2VGbG9hdChwYXR0ZXJuLmNvb3Jkc1szXSkpICtcclxuICAgICAgICBcIiBcIiArIC8vIHgyXHJcbiAgICAgICAgaHBmKHBhcnNlRmxvYXQocGF0dGVybi5jb29yZHNbNF0pKSArXHJcbiAgICAgICAgXCIgXCIgKyAvLyB5MlxyXG4gICAgICAgIGhwZihwYXJzZUZsb2F0KHBhdHRlcm4uY29vcmRzWzVdKSk7IC8vIHIyXHJcbiAgICB9XHJcbiAgICBjb29yZHMgKz0gXCJdXCI7XHJcbiAgICBvdXQoY29vcmRzKTtcclxuXHJcbiAgICBpZiAocGF0dGVybi5tYXRyaXgpIHtcclxuICAgICAgb3V0KFwiL01hdHJpeCBbXCIgKyBwYXR0ZXJuLm1hdHJpeC50b1N0cmluZygpICsgXCJdXCIpO1xyXG4gICAgfVxyXG4gICAgb3V0KFwiL0Z1bmN0aW9uIFwiICsgZnVuY09iamVjdE51bWJlciArIFwiIDAgUlwiKTtcclxuICAgIG91dChcIi9FeHRlbmQgW3RydWUgdHJ1ZV1cIik7XHJcbiAgICBvdXQoXCI+PlwiKTtcclxuICAgIG91dChcImVuZG9ialwiKTtcclxuICB9O1xyXG5cclxuICB2YXIgcHV0VGlsaW5nUGF0dGVybiA9IGZ1bmN0aW9uKHBhdHRlcm4sIGRlZmVycmVkUmVzb3VyY2VEaWN0aW9uYXJ5SWRzKSB7XHJcbiAgICB2YXIgcmVzb3VyY2VzT2JqZWN0SWQgPSBuZXdPYmplY3REZWZlcnJlZCgpO1xyXG4gICAgdmFyIHBhdHRlcm5PYmplY3RJZCA9IG5ld09iamVjdCgpO1xyXG5cclxuICAgIGRlZmVycmVkUmVzb3VyY2VEaWN0aW9uYXJ5SWRzLnB1c2goe1xyXG4gICAgICByZXNvdXJjZXNPaWQ6IHJlc291cmNlc09iamVjdElkLFxyXG4gICAgICBvYmplY3RPaWQ6IHBhdHRlcm5PYmplY3RJZFxyXG4gICAgfSk7XHJcblxyXG4gICAgcGF0dGVybi5vYmplY3ROdW1iZXIgPSBwYXR0ZXJuT2JqZWN0SWQ7XHJcbiAgICB2YXIgb3B0aW9ucyA9IFtdO1xyXG4gICAgb3B0aW9ucy5wdXNoKHsga2V5OiBcIlR5cGVcIiwgdmFsdWU6IFwiL1BhdHRlcm5cIiB9KTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJQYXR0ZXJuVHlwZVwiLCB2YWx1ZTogXCIxXCIgfSk7IC8vIHRpbGluZyBwYXR0ZXJuXHJcbiAgICBvcHRpb25zLnB1c2goeyBrZXk6IFwiUGFpbnRUeXBlXCIsIHZhbHVlOiBcIjFcIiB9KTsgLy8gY29sb3JlZCB0aWxpbmcgcGF0dGVyblxyXG4gICAgb3B0aW9ucy5wdXNoKHsga2V5OiBcIlRpbGluZ1R5cGVcIiwgdmFsdWU6IFwiMVwiIH0pOyAvLyBjb25zdGFudCBzcGFjaW5nXHJcbiAgICBvcHRpb25zLnB1c2goe1xyXG4gICAgICBrZXk6IFwiQkJveFwiLFxyXG4gICAgICB2YWx1ZTogXCJbXCIgKyBwYXR0ZXJuLmJvdW5kaW5nQm94Lm1hcChocGYpLmpvaW4oXCIgXCIpICsgXCJdXCJcclxuICAgIH0pO1xyXG4gICAgb3B0aW9ucy5wdXNoKHsga2V5OiBcIlhTdGVwXCIsIHZhbHVlOiBocGYocGF0dGVybi54U3RlcCkgfSk7XHJcbiAgICBvcHRpb25zLnB1c2goeyBrZXk6IFwiWVN0ZXBcIiwgdmFsdWU6IGhwZihwYXR0ZXJuLnlTdGVwKSB9KTtcclxuICAgIG9wdGlvbnMucHVzaCh7IGtleTogXCJSZXNvdXJjZXNcIiwgdmFsdWU6IHJlc291cmNlc09iamVjdElkICsgXCIgMCBSXCIgfSk7XHJcbiAgICBpZiAocGF0dGVybi5tYXRyaXgpIHtcclxuICAgICAgb3B0aW9ucy5wdXNoKHtcclxuICAgICAgICBrZXk6IFwiTWF0cml4XCIsXHJcbiAgICAgICAgdmFsdWU6IFwiW1wiICsgcGF0dGVybi5tYXRyaXgudG9TdHJpbmcoKSArIFwiXVwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1dFN0cmVhbSh7XHJcbiAgICAgIGRhdGE6IHBhdHRlcm4uc3RyZWFtLFxyXG4gICAgICBhZGRpdGlvbmFsS2V5VmFsdWVzOiBvcHRpb25zLFxyXG4gICAgICBvYmplY3RJZDogcGF0dGVybi5vYmplY3ROdW1iZXJcclxuICAgIH0pO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gIH07XHJcblxyXG4gIHZhciBwdXRQYXR0ZXJucyA9IGZ1bmN0aW9uKGRlZmVycmVkUmVzb3VyY2VEaWN0aW9uYXJ5SWRzKSB7XHJcbiAgICB2YXIgcGF0dGVybktleTtcclxuICAgIGZvciAocGF0dGVybktleSBpbiBwYXR0ZXJucykge1xyXG4gICAgICBpZiAocGF0dGVybnMuaGFzT3duUHJvcGVydHkocGF0dGVybktleSkpIHtcclxuICAgICAgICBpZiAocGF0dGVybnNbcGF0dGVybktleV0gaW5zdGFuY2VvZiBTaGFkaW5nUGF0dGVybikge1xyXG4gICAgICAgICAgcHV0U2hhZGluZ1BhdHRlcm4ocGF0dGVybnNbcGF0dGVybktleV0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGF0dGVybnNbcGF0dGVybktleV0gaW5zdGFuY2VvZiBUaWxpbmdQYXR0ZXJuKSB7XHJcbiAgICAgICAgICBwdXRUaWxpbmdQYXR0ZXJuKHBhdHRlcm5zW3BhdHRlcm5LZXldLCBkZWZlcnJlZFJlc291cmNlRGljdGlvbmFyeUlkcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dEdTdGF0ZSA9IGZ1bmN0aW9uKGdTdGF0ZSkge1xyXG4gICAgZ1N0YXRlLm9iamVjdE51bWJlciA9IG5ld09iamVjdCgpO1xyXG4gICAgb3V0KFwiPDxcIik7XHJcbiAgICBmb3IgKHZhciBwIGluIGdTdGF0ZSkge1xyXG4gICAgICBzd2l0Y2ggKHApIHtcclxuICAgICAgICBjYXNlIFwib3BhY2l0eVwiOlxyXG4gICAgICAgICAgb3V0KFwiL2NhIFwiICsgZjIoZ1N0YXRlW3BdKSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwic3Ryb2tlLW9wYWNpdHlcIjpcclxuICAgICAgICAgIG91dChcIi9DQSBcIiArIGYyKGdTdGF0ZVtwXSkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG91dChcIj4+XCIpO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gIH07XHJcblxyXG4gIHZhciBwdXRHU3RhdGVzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZ1N0YXRlS2V5O1xyXG4gICAgZm9yIChnU3RhdGVLZXkgaW4gZ1N0YXRlcykge1xyXG4gICAgICBpZiAoZ1N0YXRlcy5oYXNPd25Qcm9wZXJ0eShnU3RhdGVLZXkpKSB7XHJcbiAgICAgICAgcHV0R1N0YXRlKGdTdGF0ZXNbZ1N0YXRlS2V5XSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgcHV0WG9iamVjdERpY3QgPSBmdW5jdGlvbigpIHtcclxuICAgIG91dChcIi9YT2JqZWN0IDw8XCIpO1xyXG4gICAgZm9yICh2YXIgeE9iamVjdEtleSBpbiByZW5kZXJUYXJnZXRzKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICByZW5kZXJUYXJnZXRzLmhhc093blByb3BlcnR5KHhPYmplY3RLZXkpICYmXHJcbiAgICAgICAgcmVuZGVyVGFyZ2V0c1t4T2JqZWN0S2V5XS5vYmplY3ROdW1iZXIgPj0gMFxyXG4gICAgICApIHtcclxuICAgICAgICBvdXQoXHJcbiAgICAgICAgICBcIi9cIiArXHJcbiAgICAgICAgICAgIHhPYmplY3RLZXkgK1xyXG4gICAgICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgICAgIHJlbmRlclRhcmdldHNbeE9iamVjdEtleV0ub2JqZWN0TnVtYmVyICtcclxuICAgICAgICAgICAgXCIgMCBSXCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIGltYWdlcywgb3Igb3RoZXIgZGF0YSBvYmplY3RzXHJcbiAgICBldmVudHMucHVibGlzaChcInB1dFhvYmplY3REaWN0XCIpO1xyXG4gICAgb3V0KFwiPj5cIik7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dEVuY3J5cHRpb25EaWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBlbmNyeXB0aW9uLm9pZCA9IG5ld09iamVjdCgpO1xyXG4gICAgb3V0KFwiPDxcIik7XHJcbiAgICBvdXQoXCIvRmlsdGVyIC9TdGFuZGFyZFwiKTtcclxuICAgIG91dChcIi9WIFwiICsgZW5jcnlwdGlvbi52KTtcclxuICAgIG91dChcIi9SIFwiICsgZW5jcnlwdGlvbi5yKTtcclxuICAgIG91dChcIi9VIDxcIiArIGVuY3J5cHRpb24udG9IZXhTdHJpbmcoZW5jcnlwdGlvbi5VKSArIFwiPlwiKTtcclxuICAgIG91dChcIi9PIDxcIiArIGVuY3J5cHRpb24udG9IZXhTdHJpbmcoZW5jcnlwdGlvbi5PKSArIFwiPlwiKTtcclxuICAgIG91dChcIi9QIFwiICsgZW5jcnlwdGlvbi5QKTtcclxuICAgIG91dChcIj4+XCIpO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gIH07XHJcblxyXG4gIHZhciBwdXRGb250RGljdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgb3V0KFwiL0ZvbnQgPDxcIik7XHJcblxyXG4gICAgZm9yICh2YXIgZm9udEtleSBpbiBmb250cykge1xyXG4gICAgICBpZiAoZm9udHMuaGFzT3duUHJvcGVydHkoZm9udEtleSkpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBwdXRPbmx5VXNlZEZvbnRzID09PSBmYWxzZSB8fFxyXG4gICAgICAgICAgKHB1dE9ubHlVc2VkRm9udHMgPT09IHRydWUgJiYgdXNlZEZvbnRzLmhhc093blByb3BlcnR5KGZvbnRLZXkpKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgb3V0KFwiL1wiICsgZm9udEtleSArIFwiIFwiICsgZm9udHNbZm9udEtleV0ub2JqZWN0TnVtYmVyICsgXCIgMCBSXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgb3V0KFwiPj5cIik7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dFNoYWRpbmdQYXR0ZXJuRGljdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKHBhdHRlcm5zKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIG91dChcIi9TaGFkaW5nIDw8XCIpO1xyXG4gICAgICBmb3IgKHZhciBwYXR0ZXJuS2V5IGluIHBhdHRlcm5zKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgcGF0dGVybnMuaGFzT3duUHJvcGVydHkocGF0dGVybktleSkgJiZcclxuICAgICAgICAgIHBhdHRlcm5zW3BhdHRlcm5LZXldIGluc3RhbmNlb2YgU2hhZGluZ1BhdHRlcm4gJiZcclxuICAgICAgICAgIHBhdHRlcm5zW3BhdHRlcm5LZXldLm9iamVjdE51bWJlciA+PSAwXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBvdXQoXHJcbiAgICAgICAgICAgIFwiL1wiICsgcGF0dGVybktleSArIFwiIFwiICsgcGF0dGVybnNbcGF0dGVybktleV0ub2JqZWN0TnVtYmVyICsgXCIgMCBSXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudHMucHVibGlzaChcInB1dFNoYWRpbmdQYXR0ZXJuRGljdFwiKTtcclxuICAgICAgb3V0KFwiPj5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dFRpbGluZ1BhdHRlcm5EaWN0ID0gZnVuY3Rpb24ob2JqZWN0T2lkKSB7XHJcbiAgICBpZiAoT2JqZWN0LmtleXMocGF0dGVybnMpLmxlbmd0aCA+IDApIHtcclxuICAgICAgb3V0KFwiL1BhdHRlcm4gPDxcIik7XHJcbiAgICAgIGZvciAodmFyIHBhdHRlcm5LZXkgaW4gcGF0dGVybnMpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBwYXR0ZXJucy5oYXNPd25Qcm9wZXJ0eShwYXR0ZXJuS2V5KSAmJlxyXG4gICAgICAgICAgcGF0dGVybnNbcGF0dGVybktleV0gaW5zdGFuY2VvZiBBUEkuVGlsaW5nUGF0dGVybiAmJlxyXG4gICAgICAgICAgcGF0dGVybnNbcGF0dGVybktleV0ub2JqZWN0TnVtYmVyID49IDAgJiZcclxuICAgICAgICAgIHBhdHRlcm5zW3BhdHRlcm5LZXldLm9iamVjdE51bWJlciA8IG9iamVjdE9pZCAvLyBwcmV2ZW50IGN5Y2xpYyBkZXBlbmRlbmNpZXNcclxuICAgICAgICApIHtcclxuICAgICAgICAgIG91dChcclxuICAgICAgICAgICAgXCIvXCIgKyBwYXR0ZXJuS2V5ICsgXCIgXCIgKyBwYXR0ZXJuc1twYXR0ZXJuS2V5XS5vYmplY3ROdW1iZXIgKyBcIiAwIFJcIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZXZlbnRzLnB1Ymxpc2goXCJwdXRUaWxpbmdQYXR0ZXJuRGljdFwiKTtcclxuICAgICAgb3V0KFwiPj5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dEdTdGF0ZXNEaWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoT2JqZWN0LmtleXMoZ1N0YXRlcykubGVuZ3RoID4gMCkge1xyXG4gICAgICB2YXIgZ1N0YXRlS2V5O1xyXG4gICAgICBvdXQoXCIvRXh0R1N0YXRlIDw8XCIpO1xyXG4gICAgICBmb3IgKGdTdGF0ZUtleSBpbiBnU3RhdGVzKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgZ1N0YXRlcy5oYXNPd25Qcm9wZXJ0eShnU3RhdGVLZXkpICYmXHJcbiAgICAgICAgICBnU3RhdGVzW2dTdGF0ZUtleV0ub2JqZWN0TnVtYmVyID49IDBcclxuICAgICAgICApIHtcclxuICAgICAgICAgIG91dChcIi9cIiArIGdTdGF0ZUtleSArIFwiIFwiICsgZ1N0YXRlc1tnU3RhdGVLZXldLm9iamVjdE51bWJlciArIFwiIDAgUlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGV2ZW50cy5wdWJsaXNoKFwicHV0R1N0YXRlRGljdFwiKTtcclxuICAgICAgb3V0KFwiPj5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHB1dFJlc291cmNlRGljdGlvbmFyeSA9IGZ1bmN0aW9uKG9iamVjdElkcykge1xyXG4gICAgbmV3T2JqZWN0RGVmZXJyZWRCZWdpbihvYmplY3RJZHMucmVzb3VyY2VzT2lkLCB0cnVlKTtcclxuICAgIG91dChcIjw8XCIpO1xyXG4gICAgb3V0KFwiL1Byb2NTZXQgWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldXCIpO1xyXG4gICAgcHV0Rm9udERpY3QoKTtcclxuICAgIHB1dFNoYWRpbmdQYXR0ZXJuRGljdCgpO1xyXG4gICAgcHV0VGlsaW5nUGF0dGVybkRpY3Qob2JqZWN0SWRzLm9iamVjdE9pZCk7XHJcbiAgICBwdXRHU3RhdGVzRGljdCgpO1xyXG4gICAgcHV0WG9iamVjdERpY3QoKTtcclxuICAgIG91dChcIj4+XCIpO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gIH07XHJcblxyXG4gIHZhciBwdXRSZXNvdXJjZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIEZvcm1PYmplY3RzLCBQYXR0ZXJucyBldGMuIG1pZ2h0IHVzZSBvdGhlciBGb3JtT2JqZWN0cy9QYXR0ZXJucy9JbWFnZXNcclxuICAgIC8vIHdoaWNoIG1lYW5zIHRoZWlyIHJlc291cmNlIGRpY3Rpb25hcmllcyBtdXN0IGNvbnRhaW4gdGhlIGFscmVhZHkgcmVzb2x2ZWRcclxuICAgIC8vIG9iamVjdCBpZHMuIEZvciB0aGlzIHJlYXNvbiB3ZSBkZWZlciB0aGUgc2VyaWFsaXphdGlvbiBvZiB0aGUgcmVzb3VyY2VcclxuICAgIC8vIGRpY3RzIHVudGlsIGFsbCBvYmplY3RzIGhhdmUgYmVlbiBzZXJpYWxpemVkIGFuZCBoYXZlIG9iamVjdCBpZHMuXHJcbiAgICAvL1xyXG4gICAgLy8gSW4gb3JkZXIgdG8gcHJldmVudCBjeWNsaWMgZGVwZW5kZW5jaWVzICh3aGljaCBBZG9iZSBSZWFkZXIgZG9lc24ndCBsaWtlKSxcclxuICAgIC8vIHdlIG9ubHkgcHV0IGFsbCBvaWRzIHRoYXQgYXJlIHNtYWxsZXIgdGhhbiB0aGUgb2lkIG9mIHRoZSBvYmplY3QgdGhlXHJcbiAgICAvLyByZXNvdXJjZSBkaWN0IGJlbG9uZ3MgdG8uIFRoaXMgaXMgY29ycmVjdCBiZWhhdmlvciwgc2luY2UgdGhlIHN0cmVhbXNcclxuICAgIC8vIG1heSBvbmx5IHVzZSBvdGhlciBvYmplY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gZGVmaW5lZCBhbmQgdGh1cyBhcHBlYXJcclxuICAgIC8vIGVhcmxpZXIgaW4gdGhlaXIgcmVzcGVjdGl2ZSBjb2xsZWN0aW9uLlxyXG4gICAgLy8gQ3VycmVudGx5LCB0aGlzIG9ubHkgYWZmZWN0cyB0aWxpbmcgcGF0dGVybnMsIGJ1dCBhIChtb3JlKSBjb3JyZWN0XHJcbiAgICAvLyBpbXBsZW1lbnRhdGlvbiBvZiBGb3JtT2JqZWN0cyB3b3VsZCBhbHNvIGRlZmluZSB0aGVpciBvd24gcmVzb3VyY2UgZGljdHMuXHJcbiAgICB2YXIgZGVmZXJyZWRSZXNvdXJjZURpY3Rpb25hcnlJZHMgPSBbXTtcclxuXHJcbiAgICBwdXRGb250cygpO1xyXG4gICAgcHV0R1N0YXRlcygpO1xyXG4gICAgcHV0WE9iamVjdHMoKTtcclxuICAgIHB1dFBhdHRlcm5zKGRlZmVycmVkUmVzb3VyY2VEaWN0aW9uYXJ5SWRzKTtcclxuXHJcbiAgICBldmVudHMucHVibGlzaChcInB1dFJlc291cmNlc1wiKTtcclxuICAgIGRlZmVycmVkUmVzb3VyY2VEaWN0aW9uYXJ5SWRzLmZvckVhY2gocHV0UmVzb3VyY2VEaWN0aW9uYXJ5KTtcclxuICAgIHB1dFJlc291cmNlRGljdGlvbmFyeSh7XHJcbiAgICAgIHJlc291cmNlc09pZDogcmVzb3VyY2VEaWN0aW9uYXJ5T2JqSWQsXHJcbiAgICAgIG9iamVjdE9pZDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLy8gb3V0cHV0IGFsbCBvYmplY3RzXHJcbiAgICB9KTtcclxuICAgIGV2ZW50cy5wdWJsaXNoKFwicG9zdFB1dFJlc291cmNlc1wiKTtcclxuICB9O1xyXG5cclxuICB2YXIgcHV0QWRkaXRpb25hbE9iamVjdHMgPSBmdW5jdGlvbigpIHtcclxuICAgIGV2ZW50cy5wdWJsaXNoKFwicHV0QWRkaXRpb25hbE9iamVjdHNcIik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkZGl0aW9uYWxPYmplY3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBvYmogPSBhZGRpdGlvbmFsT2JqZWN0c1tpXTtcclxuICAgICAgbmV3T2JqZWN0RGVmZXJyZWRCZWdpbihvYmoub2JqSWQsIHRydWUpO1xyXG4gICAgICBvdXQob2JqLmNvbnRlbnQpO1xyXG4gICAgICBvdXQoXCJlbmRvYmpcIik7XHJcbiAgICB9XHJcbiAgICBldmVudHMucHVibGlzaChcInBvc3RQdXRBZGRpdGlvbmFsT2JqZWN0c1wiKTtcclxuICB9O1xyXG5cclxuICB2YXIgYWRkRm9udFRvRm9udERpY3Rpb25hcnkgPSBmdW5jdGlvbihmb250KSB7XHJcbiAgICBmb250bWFwW2ZvbnQuZm9udE5hbWVdID0gZm9udG1hcFtmb250LmZvbnROYW1lXSB8fCB7fTtcclxuICAgIGZvbnRtYXBbZm9udC5mb250TmFtZV1bZm9udC5mb250U3R5bGVdID0gZm9udC5pZDtcclxuICB9O1xyXG5cclxuICB2YXIgYWRkRm9udCA9IGZ1bmN0aW9uKFxyXG4gICAgcG9zdFNjcmlwdE5hbWUsXHJcbiAgICBmb250TmFtZSxcclxuICAgIGZvbnRTdHlsZSxcclxuICAgIGVuY29kaW5nLFxyXG4gICAgaXNTdGFuZGFyZEZvbnRcclxuICApIHtcclxuICAgIHZhciBmb250ID0ge1xyXG4gICAgICBpZDogXCJGXCIgKyAoT2JqZWN0LmtleXMoZm9udHMpLmxlbmd0aCArIDEpLnRvU3RyaW5nKDEwKSxcclxuICAgICAgcG9zdFNjcmlwdE5hbWU6IHBvc3RTY3JpcHROYW1lLFxyXG4gICAgICBmb250TmFtZTogZm9udE5hbWUsXHJcbiAgICAgIGZvbnRTdHlsZTogZm9udFN0eWxlLFxyXG4gICAgICBlbmNvZGluZzogZW5jb2RpbmcsXHJcbiAgICAgIGlzU3RhbmRhcmRGb250OiBpc1N0YW5kYXJkRm9udCB8fCBmYWxzZSxcclxuICAgICAgbWV0YWRhdGE6IHt9XHJcbiAgICB9O1xyXG5cclxuICAgIGV2ZW50cy5wdWJsaXNoKFwiYWRkRm9udFwiLCB7XHJcbiAgICAgIGZvbnQ6IGZvbnQsXHJcbiAgICAgIGluc3RhbmNlOiB0aGlzXHJcbiAgICB9KTtcclxuXHJcbiAgICBmb250c1tmb250LmlkXSA9IGZvbnQ7XHJcbiAgICBhZGRGb250VG9Gb250RGljdGlvbmFyeShmb250KTtcclxuICAgIHJldHVybiBmb250LmlkO1xyXG4gIH07XHJcblxyXG4gIHZhciBhZGRGb250cyA9IGZ1bmN0aW9uKGFycmF5T2ZGb250cykge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdGFuZGFyZEZvbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICB2YXIgZm9udEtleSA9IGFkZEZvbnQuY2FsbChcclxuICAgICAgICB0aGlzLFxyXG4gICAgICAgIGFycmF5T2ZGb250c1tpXVswXSxcclxuICAgICAgICBhcnJheU9mRm9udHNbaV1bMV0sXHJcbiAgICAgICAgYXJyYXlPZkZvbnRzW2ldWzJdLFxyXG4gICAgICAgIHN0YW5kYXJkRm9udHNbaV1bM10sXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKHB1dE9ubHlVc2VkRm9udHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgdXNlZEZvbnRzW2ZvbnRLZXldID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICAvLyBhZGRpbmcgYWxpYXNlcyBmb3Igc3RhbmRhcmQgZm9udHMsIHRoaXMgdGltZSBtYXRjaGluZyB0aGUgY2FwaXRhbGl6YXRpb25cclxuICAgICAgdmFyIHBhcnRzID0gYXJyYXlPZkZvbnRzW2ldWzBdLnNwbGl0KFwiLVwiKTtcclxuICAgICAgYWRkRm9udFRvRm9udERpY3Rpb25hcnkoe1xyXG4gICAgICAgIGlkOiBmb250S2V5LFxyXG4gICAgICAgIGZvbnROYW1lOiBwYXJ0c1swXSxcclxuICAgICAgICBmb250U3R5bGU6IHBhcnRzWzFdIHx8IFwiXCJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBldmVudHMucHVibGlzaChcImFkZEZvbnRzXCIsIHtcclxuICAgICAgZm9udHM6IGZvbnRzLFxyXG4gICAgICBkaWN0aW9uYXJ5OiBmb250bWFwXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgU0FGRSA9IGZ1bmN0aW9uIF9fc2FmZUNhbGwoZm4pIHtcclxuICAgIGZuLmZvbyA9IGZ1bmN0aW9uIF9fc2FmZUNhbGxXcmFwcGVyKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gZS5zdGFjayB8fCBcIlwiO1xyXG4gICAgICAgIGlmICh+c3RhY2suaW5kZXhPZihcIiBhdCBcIikpIHN0YWNrID0gc3RhY2suc3BsaXQoXCIgYXQgXCIpWzFdO1xyXG4gICAgICAgIHZhciBtID1cclxuICAgICAgICAgIFwiRXJyb3IgaW4gZnVuY3Rpb24gXCIgK1xyXG4gICAgICAgICAgc3RhY2suc3BsaXQoXCJcXG5cIilbMF0uc3BsaXQoXCI8XCIpWzBdICtcclxuICAgICAgICAgIFwiOiBcIiArXHJcbiAgICAgICAgICBlLm1lc3NhZ2U7XHJcbiAgICAgICAgaWYgKGdsb2JhbE9iamVjdC5jb25zb2xlKSB7XHJcbiAgICAgICAgICBnbG9iYWxPYmplY3QuY29uc29sZS5lcnJvcihtLCBlKTtcclxuICAgICAgICAgIGlmIChnbG9iYWxPYmplY3QuYWxlcnQpIGFsZXJ0KG0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm4uZm9vLmJhciA9IGZuO1xyXG4gICAgcmV0dXJuIGZuLmZvbztcclxuICB9O1xyXG5cclxuICB2YXIgdG84Yml0U3RyZWFtID0gZnVuY3Rpb24odGV4dCwgZmxhZ3MpIHtcclxuICAgIC8qKlxyXG4gICAgICogUERGIDEuMyBzcGVjOlxyXG4gICAgICogXCJGb3IgdGV4dCBzdHJpbmdzIGVuY29kZWQgaW4gVW5pY29kZSwgdGhlIGZpcnN0IHR3byBieXRlcyBtdXN0IGJlIDI1NCBmb2xsb3dlZCBieVxyXG4gICAgICogMjU1LCByZXByZXNlbnRpbmcgdGhlIFVuaWNvZGUgYnl0ZSBvcmRlciBtYXJrZXIsIFUrRkVGRi4gKFRoaXMgc2VxdWVuY2UgY29uZmxpY3RzXHJcbiAgICAgKiB3aXRoIHRoZSBQREZEb2NFbmNvZGluZyBjaGFyYWN0ZXIgc2VxdWVuY2UgdGhvcm4geWRpZXJlc2lzLCB3aGljaCBpcyB1bmxpa2VseVxyXG4gICAgICogdG8gYmUgYSBtZWFuaW5nZnVsIGJlZ2lubmluZyBvZiBhIHdvcmQgb3IgcGhyYXNlLikgVGhlIHJlbWFpbmRlciBvZiB0aGVcclxuICAgICAqIHN0cmluZyBjb25zaXN0cyBvZiBVbmljb2RlIGNoYXJhY3RlciBjb2RlcywgYWNjb3JkaW5nIHRvIHRoZSBVVEYtMTYgZW5jb2RpbmdcclxuICAgICAqIHNwZWNpZmllZCBpbiB0aGUgVW5pY29kZSBzdGFuZGFyZCwgdmVyc2lvbiAyLjAuIENvbW1vbmx5IHVzZWQgVW5pY29kZSB2YWx1ZXNcclxuICAgICAqIGFyZSByZXByZXNlbnRlZCBhcyAyIGJ5dGVzIHBlciBjaGFyYWN0ZXIsIHdpdGggdGhlIGhpZ2gtb3JkZXIgYnl0ZSBhcHBlYXJpbmcgZmlyc3RcclxuICAgICAqIGluIHRoZSBzdHJpbmcuXCJcclxuICAgICAqXHJcbiAgICAgKiBJbiBvdGhlciB3b3JkcywgaWYgdGhlcmUgYXJlIGNoYXJzIGluIGEgc3RyaW5nIHdpdGggY2hhciBjb2RlIGFib3ZlIDI1NSwgd2VcclxuICAgICAqIHJlY29kZSB0aGUgc3RyaW5nIHRvIFVDUzIgQkUgLSBzdHJpbmcgZG91YmxlcyBpbiBsZW5ndGggYW5kIEJPTSBpcyBwcmVwZW5kZWQuXHJcbiAgICAgKlxyXG4gICAgICogSE9XRVZFUiFcclxuICAgICAqIEFjdHVhbCAqY29udGVudCogKGJvZHkpIHRleHQgKGFzIG9wcG9zZWQgdG8gc3RyaW5ncyB1c2VkIGluIGRvY3VtZW50IHByb3BlcnRpZXMgZXRjKVxyXG4gICAgICogZG9lcyBOT1QgZXhwZWN0IEJPTS4gVGhlcmUsIGl0IGlzIHRyZWF0ZWQgYXMgYSBsaXRlcmFsIEdJRCAoR2x5cGggSUQpXHJcbiAgICAgKlxyXG4gICAgICogQmVjYXVzZSBvZiBBZG9iZSdzIGZvY3VzIG9uIFwieW91IHN1YnNldCB5b3VyIGZvbnRzIVwiIHlvdSBhcmUgbm90IHN1cHBvc2VkIHRvIGhhdmVcclxuICAgICAqIGEgZm9udCB0aGF0IG1hcHMgZGlyZWN0bHkgVW5pY29kZSAoVUNTMiAvIFVURjE2QkUpIGNvZGUgdG8gZm9udCBHSUQsIGJ1dCB5b3UgY291bGRcclxuICAgICAqIGZ1ZGdlIGl0IHdpdGggXCJJZGVudGl0eS1IXCIgZW5jb2RpbmcgYW5kIGN1c3RvbSBDSUR0b0dJRCBtYXAgdGhhdCBtaW1pY3MgVW5pY29kZVxyXG4gICAgICogY29kZSBwYWdlLiBUaGVyZSwgaG93ZXZlciwgYWxsIGNoYXJhY3RlcnMgaW4gdGhlIHN0cmVhbSBhcmUgdHJlYXRlZCBhcyBHSURzLFxyXG4gICAgICogaW5jbHVkaW5nIEJPTSwgd2hpY2ggaXMgdGhlIHJlYXNvbiB3ZSBuZWVkIHRvIHNraXAgQk9NIGluIGNvbnRlbnQgdGV4dCAoaS5lLiB0aGF0XHJcbiAgICAgKiB0aGF0IGlzIHRpZWQgdG8gYSBmb250KS5cclxuICAgICAqXHJcbiAgICAgKiBUbyBzaWduYWwgdGhpcyBcInNwZWNpYWxcIiBQREZFc2NhcGUgLyB0bzhiaXRTdHJlYW0gaGFuZGxpbmcgbW9kZSxcclxuICAgICAqIEFQSS50ZXh0KCkgZnVuY3Rpb24gc2V0cyAodW5sZXNzIHlvdSBvdmVyd3JpdGUgaXQgd2l0aCBtYW51YWwgdmFsdWVzXHJcbiAgICAgKiBnaXZlbiB0byBBUEkudGV4dCguLiwgZmxhZ3MpIClcclxuICAgICAqIGZsYWdzLmF1dG9lbmNvZGUgPSB0cnVlXHJcbiAgICAgKiBmbGFncy5ub0JPTSA9IHRydWVcclxuICAgICAqXHJcbiAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICogYGZsYWdzYCBwcm9wZXJ0aWVzIHJlbGllZCB1cG9uOlxyXG4gICAgICogICAuc291cmNlRW5jb2RpbmcgPSBzdHJpbmcgd2l0aCBlbmNvZGluZyBsYWJlbC5cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgXCJVbmljb2RlXCIgYnkgZGVmYXVsdC4gPSBlbmNvZGluZyBvZiB0aGUgaW5jb21pbmcgdGV4dC5cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgcGFzcyBzb21lIG5vbi1leGlzdGluZyBlbmNvZGluZyBuYW1lXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIChleDogJ0RvIG5vdCB0b3VjaCBteSBzdHJpbmdzISBJIGtub3cgd2hhdCBJIGFtIGRvaW5nLicpXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHRvIG1ha2UgZW5jb2RpbmcgY29kZSBza2lwIHRoZSBlbmNvZGluZyBzdGVwLlxyXG4gICAgICogICAub3V0cHV0RW5jb2RpbmcgPSBFaXRoZXIgdmFsaWQgUERGIGVuY29kaW5nIG5hbWVcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgKG11c3QgYmUgc3VwcG9ydGVkIGJ5IGpzUERGIGZvbnQgbWV0cmljcywgb3RoZXJ3aXNlIG5vIGVuY29kaW5nKVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICBvciBhIEpTIG9iamVjdCwgd2hlcmUga2V5ID0gc291cmNlQ2hhckNvZGUsIHZhbHVlID0gb3V0cHV0Q2hhckNvZGVcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgbWlzc2luZyBrZXlzIHdpbGwgYmUgdHJlYXRlZCBhczogc291cmNlQ2hhckNvZGUgPT09IG91dHB1dENoYXJDb2RlXHJcbiAgICAgKiAgIC5ub0JPTVxyXG4gICAgICogICAgICAgU2VlIGNvbW1lbnQgaGlnaGVyIGFib3ZlIGZvciBleHBsYW5hdGlvbiBmb3Igd2h5IHRoaXMgaXMgaW1wb3J0YW50XHJcbiAgICAgKiAgIC5hdXRvZW5jb2RlXHJcbiAgICAgKiAgICAgICBTZWUgY29tbWVudCBoaWdoZXIgYWJvdmUgZm9yIGV4cGxhbmF0aW9uIGZvciB3aHkgdGhpcyBpcyBpbXBvcnRhbnRcclxuICAgICAqL1xyXG5cclxuICAgIHZhciBpLFxyXG4gICAgICBsLFxyXG4gICAgICBzb3VyY2VFbmNvZGluZyxcclxuICAgICAgZW5jb2RpbmdCbG9jayxcclxuICAgICAgb3V0cHV0RW5jb2RpbmcsXHJcbiAgICAgIG5ld3RleHQsXHJcbiAgICAgIGlzVW5pY29kZSxcclxuICAgICAgY2gsXHJcbiAgICAgIGJjaDtcclxuXHJcbiAgICBmbGFncyA9IGZsYWdzIHx8IHt9O1xyXG4gICAgc291cmNlRW5jb2RpbmcgPSBmbGFncy5zb3VyY2VFbmNvZGluZyB8fCBcIlVuaWNvZGVcIjtcclxuICAgIG91dHB1dEVuY29kaW5nID0gZmxhZ3Mub3V0cHV0RW5jb2Rpbmc7XHJcblxyXG4gICAgLy8gVGhpcyAnZW5jb2RpbmcnIHNlY3Rpb24gcmVsaWVzIG9uIGZvbnQgbWV0cmljcyBmb3JtYXRcclxuICAgIC8vIGF0dGFjaGVkIHRvIGZvbnQgb2JqZWN0cyBieSwgYW1vbmcgb3RoZXJzLFxyXG4gICAgLy8gXCJXaWxsb3cgU3lzdGVtcycgc3RhbmRhcmRfZm9udF9tZXRyaWNzIHBsdWdpblwiXHJcbiAgICAvLyBzZWUganNwZGYucGx1Z2luLnN0YW5kYXJkX2ZvbnRfbWV0cmljcy5qcyBmb3IgZm9ybWF0XHJcbiAgICAvLyBvZiB0aGUgZm9udC5tZXRhZGF0YS5lbmNvZGluZyBPYmplY3QuXHJcbiAgICAvLyBJdCBzaG91bGQgYmUgc29tZXRoaW5nIGxpa2VcclxuICAgIC8vICAgLmVuY29kaW5nID0geydjb2RlUGFnZXMnOlsnV2luQU5TSS4uLi4nXSwgJ1dpbkFOU0kuLi4nOntjb2RlOmNvZGUsIC4uLn19XHJcbiAgICAvLyAgIC53aWR0aHMgPSB7MDp3aWR0aCwgY29kZTp3aWR0aCwgLi4uLCAnZm9mJzpkaXZpc29yfVxyXG4gICAgLy8gICAua2VybmluZyA9IHtjb2RlOntwcmV2aW91c19jaGFyX2NvZGU6c2hpZnQsIC4uLiwgJ2ZvZic6LWRpdmlzb3J9LC4uLn1cclxuICAgIGlmIChcclxuICAgICAgKGZsYWdzLmF1dG9lbmNvZGUgfHwgb3V0cHV0RW5jb2RpbmcpICYmXHJcbiAgICAgIGZvbnRzW2FjdGl2ZUZvbnRLZXldLm1ldGFkYXRhICYmXHJcbiAgICAgIGZvbnRzW2FjdGl2ZUZvbnRLZXldLm1ldGFkYXRhW3NvdXJjZUVuY29kaW5nXSAmJlxyXG4gICAgICBmb250c1thY3RpdmVGb250S2V5XS5tZXRhZGF0YVtzb3VyY2VFbmNvZGluZ10uZW5jb2RpbmdcclxuICAgICkge1xyXG4gICAgICBlbmNvZGluZ0Jsb2NrID0gZm9udHNbYWN0aXZlRm9udEtleV0ubWV0YWRhdGFbc291cmNlRW5jb2RpbmddLmVuY29kaW5nO1xyXG5cclxuICAgICAgLy8gZWFjaCBmb250IGhhcyBkZWZhdWx0IGVuY29kaW5nLiBTb21lIGhhdmUgaXQgY2xlYXJseSBkZWZpbmVkLlxyXG4gICAgICBpZiAoIW91dHB1dEVuY29kaW5nICYmIGZvbnRzW2FjdGl2ZUZvbnRLZXldLmVuY29kaW5nKSB7XHJcbiAgICAgICAgb3V0cHV0RW5jb2RpbmcgPSBmb250c1thY3RpdmVGb250S2V5XS5lbmNvZGluZztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSG1tbSwgdGhlIGFib3ZlIGRpZCBub3Qgd29yaz8gTGV0J3MgdHJ5IGFnYWluLCBpbiBkaWZmZXJlbnQgcGxhY2UuXHJcbiAgICAgIGlmICghb3V0cHV0RW5jb2RpbmcgJiYgZW5jb2RpbmdCbG9jay5jb2RlUGFnZXMpIHtcclxuICAgICAgICBvdXRwdXRFbmNvZGluZyA9IGVuY29kaW5nQmxvY2suY29kZVBhZ2VzWzBdOyAvLyBsZXQncyBzYXksIGZpcnN0IG9uZSBpcyB0aGUgZGVmYXVsdFxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG91dHB1dEVuY29kaW5nID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgb3V0cHV0RW5jb2RpbmcgPSBlbmNvZGluZ0Jsb2NrW291dHB1dEVuY29kaW5nXTtcclxuICAgICAgfVxyXG4gICAgICAvLyB3ZSB3YW50IG91dHB1dCBlbmNvZGluZyB0byBiZSBhIEpTIE9iamVjdCwgd2hlcmVcclxuICAgICAgLy8ga2V5ID0gc291cmNlRW5jb2RpbmcncyBjaGFyYWN0ZXIgY29kZSBhbmRcclxuICAgICAgLy8gdmFsdWUgPSBvdXRwdXRFbmNvZGluZydzIGNoYXJhY3RlciBjb2RlLlxyXG4gICAgICBpZiAob3V0cHV0RW5jb2RpbmcpIHtcclxuICAgICAgICBpc1VuaWNvZGUgPSBmYWxzZTtcclxuICAgICAgICBuZXd0ZXh0ID0gW107XHJcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICBjaCA9IG91dHB1dEVuY29kaW5nW3RleHQuY2hhckNvZGVBdChpKV07XHJcbiAgICAgICAgICBpZiAoY2gpIHtcclxuICAgICAgICAgICAgbmV3dGV4dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoY2gpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld3RleHQucHVzaCh0ZXh0W2ldKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgbG9vcGluZyBvdmVyIGNoYXJzIGFueXdheSwgbWlnaHQgYXMgd2VsbFxyXG4gICAgICAgICAgLy8gY2hlY2sgZm9yIHJlc2lkdWFsIHVuaWNvZGVuZXNzXHJcbiAgICAgICAgICBpZiAobmV3dGV4dFtpXS5jaGFyQ29kZUF0KDApID4+IDgpIHtcclxuICAgICAgICAgICAgLyogbW9yZSB0aGFuIDI1NSAqL1xyXG4gICAgICAgICAgICBpc1VuaWNvZGUgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0ZXh0ID0gbmV3dGV4dC5qb2luKFwiXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaSA9IHRleHQubGVuZ3RoO1xyXG4gICAgLy8gaXNVbmljb2RlIG1heSBiZSBzZXQgdG8gZmFsc2UgYWJvdmUuIEhlbmNlIHRoZSB0cmlwbGUtZXF1YWwgdG8gdW5kZWZpbmVkXHJcbiAgICB3aGlsZSAoaXNVbmljb2RlID09PSB1bmRlZmluZWQgJiYgaSAhPT0gMCkge1xyXG4gICAgICBpZiAodGV4dC5jaGFyQ29kZUF0KGkgLSAxKSA+PiA4KSB7XHJcbiAgICAgICAgLyogbW9yZSB0aGFuIDI1NSAqL1xyXG4gICAgICAgIGlzVW5pY29kZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaS0tO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc1VuaWNvZGUpIHtcclxuICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgbmV3dGV4dCA9IGZsYWdzLm5vQk9NID8gW10gOiBbMjU0LCAyNTVdO1xyXG4gICAgZm9yIChpID0gMCwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgIGNoID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICBiY2ggPSBjaCA+PiA4OyAvLyBkaXZpZGUgYnkgMjU2XHJcbiAgICAgIGlmIChiY2ggPj4gOCkge1xyXG4gICAgICAgIC8qIHNvbWV0aGluZyBsZWZ0IGFmdGVyIGRpdmlkaW5nIGJ5IDI1NiBzZWNvbmQgdGltZSAqL1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgIFwiQ2hhcmFjdGVyIGF0IHBvc2l0aW9uIFwiICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgIFwiIG9mIHN0cmluZyAnXCIgK1xyXG4gICAgICAgICAgICB0ZXh0ICtcclxuICAgICAgICAgICAgXCInIGV4Y2VlZHMgMTZiaXRzLiBDYW5ub3QgYmUgZW5jb2RlZCBpbnRvIFVDUy0yIEJFXCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIG5ld3RleHQucHVzaChiY2gpO1xyXG4gICAgICBuZXd0ZXh0LnB1c2goY2ggLSAoYmNoIDw8IDgpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KHVuZGVmaW5lZCwgbmV3dGV4dCk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHBkZkVzY2FwZSA9IChBUEkuX19wcml2YXRlX18ucGRmRXNjYXBlID0gQVBJLnBkZkVzY2FwZSA9IGZ1bmN0aW9uKFxyXG4gICAgdGV4dCxcclxuICAgIGZsYWdzXHJcbiAgKSB7XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2UgJy8nLCAnKCcsIGFuZCAnKScgd2l0aCBwZGYtc2FmZSB2ZXJzaW9uc1xyXG4gICAgICpcclxuICAgICAqIERvaW5nIHRvOGJpdFN0cmVhbSBkb2VzIE5PVCBtYWtlIHRoaXMgUERGIGRpc3BsYXkgdW5pY29kZSB0ZXh0LiBGb3IgdGhhdFxyXG4gICAgICogd2UgYWxzbyBuZWVkIHRvIHJlZmVyZW5jZSBhIHVuaWNvZGUgZm9udCBhbmQgZW1iZWQgaXQgLSByb3lhbCBwYWluIGluIHRoZSByZWFyLlxyXG4gICAgICpcclxuICAgICAqIFRoZXJlIGlzIHN0aWxsIGEgYmVuZWZpdCB0byB0bzhiaXRTdHJlYW0gLSBQREYgc2ltcGx5IGNhbm5vdCBoYW5kbGUgMTZiaXQgY2hhcnMsXHJcbiAgICAgKiB3aGljaCBKYXZhU2NyaXB0IFN0cmluZ3MgYXJlIGhhcHB5IHRvIHByb3ZpZGUuIFNvLCB3aGlsZSB3ZSBzdGlsbCBjYW5ub3QgZGlzcGxheVxyXG4gICAgICogMi1ieXRlIGNoYXJhY3RlcnMgcHJvcGVydHksIGF0IGxlYXN0IENPTkRJVElPTkFMTFkgY29udmVydGluZyAoZW50aXJlIHN0cmluZyBjb250YWluaW5nKVxyXG4gICAgICogMTZiaXQgY2hhcnMgdG8gKFVTQy0yLUJFKSAyLWJ5dGVzIHBlciBjaGFyICsgQk9NIHN0cmVhbXMgd2UgZW5zdXJlIHRoYXQgZW50aXJlIFBERlxyXG4gICAgICogaXMgc3RpbGwgcGFyc2VhYmxlLlxyXG4gICAgICogVGhpcyB3aWxsIGFsbG93IGltbWVkaWF0ZSBzdXBwb3J0IGZvciB1bmljb2RlIGluIGRvY3VtZW50IHByb3BlcnRpZXMgc3RyaW5ncy5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIHRvOGJpdFN0cmVhbSh0ZXh0LCBmbGFncylcclxuICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxyXG4gICAgICAucmVwbGFjZSgvXFwoL2csIFwiXFxcXChcIilcclxuICAgICAgLnJlcGxhY2UoL1xcKS9nLCBcIlxcXFwpXCIpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgYmVnaW5QYWdlID0gKEFQSS5fX3ByaXZhdGVfXy5iZWdpblBhZ2UgPSBmdW5jdGlvbihmb3JtYXQpIHtcclxuICAgIHBhZ2VzWysrcGFnZV0gPSBbXTtcclxuICAgIHBhZ2VzQ29udGV4dFtwYWdlXSA9IHtcclxuICAgICAgb2JqSWQ6IDAsXHJcbiAgICAgIGNvbnRlbnRzT2JqSWQ6IDAsXHJcbiAgICAgIHVzZXJVbml0OiBOdW1iZXIodXNlclVuaXQpLFxyXG4gICAgICBhcnRCb3g6IG51bGwsXHJcbiAgICAgIGJsZWVkQm94OiBudWxsLFxyXG4gICAgICBjcm9wQm94OiBudWxsLFxyXG4gICAgICB0cmltQm94OiBudWxsLFxyXG4gICAgICBtZWRpYUJveDoge1xyXG4gICAgICAgIGJvdHRvbUxlZnRYOiAwLFxyXG4gICAgICAgIGJvdHRvbUxlZnRZOiAwLFxyXG4gICAgICAgIHRvcFJpZ2h0WDogTnVtYmVyKGZvcm1hdFswXSksXHJcbiAgICAgICAgdG9wUmlnaHRZOiBOdW1iZXIoZm9ybWF0WzFdKVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgX3NldFBhZ2UocGFnZSk7XHJcbiAgICBzZXRPdXRwdXREZXN0aW5hdGlvbihwYWdlc1tjdXJyZW50UGFnZV0pO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgX2FkZFBhZ2UgPSBmdW5jdGlvbihwYXJtRm9ybWF0LCBwYXJtT3JpZW50YXRpb24pIHtcclxuICAgIHZhciBkaW1lbnNpb25zLCB3aWR0aCwgaGVpZ2h0O1xyXG5cclxuICAgIG9yaWVudGF0aW9uID0gcGFybU9yaWVudGF0aW9uIHx8IG9yaWVudGF0aW9uO1xyXG5cclxuICAgIGlmICh0eXBlb2YgcGFybUZvcm1hdCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBkaW1lbnNpb25zID0gZ2V0UGFnZUZvcm1hdChwYXJtRm9ybWF0LnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkaW1lbnNpb25zKSkge1xyXG4gICAgICAgIHdpZHRoID0gZGltZW5zaW9uc1swXTtcclxuICAgICAgICBoZWlnaHQgPSBkaW1lbnNpb25zWzFdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocGFybUZvcm1hdCkpIHtcclxuICAgICAgd2lkdGggPSBwYXJtRm9ybWF0WzBdICogc2NhbGVGYWN0b3I7XHJcbiAgICAgIGhlaWdodCA9IHBhcm1Gb3JtYXRbMV0gKiBzY2FsZUZhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNOYU4od2lkdGgpKSB7XHJcbiAgICAgIHdpZHRoID0gZm9ybWF0WzBdO1xyXG4gICAgICBoZWlnaHQgPSBmb3JtYXRbMV07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHdpZHRoID4gMTQ0MDAgfHwgaGVpZ2h0ID4gMTQ0MDApIHtcclxuICAgICAgY29uc29sZS53YXJuKFxyXG4gICAgICAgIFwiQSBwYWdlIGluIGEgUERGIGNhbiBub3QgYmUgd2lkZXIgb3IgdGFsbGVyIHRoYW4gMTQ0MDAgdXNlclVuaXQuIGpzUERGIGxpbWl0cyB0aGUgd2lkdGgvaGVpZ2h0IHRvIDE0NDAwXCJcclxuICAgICAgKTtcclxuICAgICAgd2lkdGggPSBNYXRoLm1pbigxNDQwMCwgd2lkdGgpO1xyXG4gICAgICBoZWlnaHQgPSBNYXRoLm1pbigxNDQwMCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JtYXQgPSBbd2lkdGgsIGhlaWdodF07XHJcblxyXG4gICAgc3dpdGNoIChvcmllbnRhdGlvbi5zdWJzdHIoMCwgMSkpIHtcclxuICAgICAgY2FzZSBcImxcIjpcclxuICAgICAgICBpZiAoaGVpZ2h0ID4gd2lkdGgpIHtcclxuICAgICAgICAgIGZvcm1hdCA9IFtoZWlnaHQsIHdpZHRoXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJwXCI6XHJcbiAgICAgICAgaWYgKHdpZHRoID4gaGVpZ2h0KSB7XHJcbiAgICAgICAgICBmb3JtYXQgPSBbaGVpZ2h0LCB3aWR0aF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGJlZ2luUGFnZShmb3JtYXQpO1xyXG5cclxuICAgIC8vIFNldCBsaW5lIHdpZHRoXHJcbiAgICBzZXRMaW5lV2lkdGgobGluZVdpZHRoKTtcclxuICAgIC8vIFNldCBkcmF3IGNvbG9yXHJcbiAgICBvdXQoc3Ryb2tlQ29sb3IpO1xyXG4gICAgLy8gcmVzdXJyZWN0aW5nIG5vbi1kZWZhdWx0IGxpbmUgY2Fwcywgam9pbnNcclxuICAgIGlmIChsaW5lQ2FwSUQgIT09IDApIHtcclxuICAgICAgb3V0KGxpbmVDYXBJRCArIFwiIEpcIik7XHJcbiAgICB9XHJcbiAgICBpZiAobGluZUpvaW5JRCAhPT0gMCkge1xyXG4gICAgICBvdXQobGluZUpvaW5JRCArIFwiIGpcIik7XHJcbiAgICB9XHJcbiAgICBldmVudHMucHVibGlzaChcImFkZFBhZ2VcIiwge1xyXG4gICAgICBwYWdlTnVtYmVyOiBwYWdlXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgX2RlbGV0ZVBhZ2UgPSBmdW5jdGlvbihuKSB7XHJcbiAgICBpZiAobiA+IDAgJiYgbiA8PSBwYWdlKSB7XHJcbiAgICAgIHBhZ2VzLnNwbGljZShuLCAxKTtcclxuICAgICAgcGFnZXNDb250ZXh0LnNwbGljZShuLCAxKTtcclxuICAgICAgcGFnZS0tO1xyXG4gICAgICBpZiAoY3VycmVudFBhZ2UgPiBwYWdlKSB7XHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSBwYWdlO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2V0UGFnZShjdXJyZW50UGFnZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIF9zZXRQYWdlID0gZnVuY3Rpb24obikge1xyXG4gICAgaWYgKG4gPiAwICYmIG4gPD0gcGFnZSkge1xyXG4gICAgICBjdXJyZW50UGFnZSA9IG47XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGdldE51bWJlck9mUGFnZXMgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldE51bWJlck9mUGFnZXMgPSBBUEkuZ2V0TnVtYmVyT2ZQYWdlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHBhZ2VzLmxlbmd0aCAtIDE7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYSBkb2N1bWVudC1zcGVjaWZpYyBmb250IGtleSAtIGEgbGFiZWwgYXNzaWduZWQgdG8gYVxyXG4gICAqIGZvbnQgbmFtZSArIGZvbnQgdHlwZSBjb21iaW5hdGlvbiBhdCB0aGUgdGltZSB0aGUgZm9udCB3YXMgYWRkZWRcclxuICAgKiB0byB0aGUgZm9udCBpbnZlbnRvcnkuXHJcbiAgICpcclxuICAgKiBGb250IGtleSBpcyB1c2VkIGFzIGxhYmVsIGZvciB0aGUgZGVzaXJlZCBmb250IGZvciBhIGJsb2NrIG9mIHRleHRcclxuICAgKiB0byBiZSBhZGRlZCB0byB0aGUgUERGIGRvY3VtZW50IHN0cmVhbS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSBmb250TmFtZSB7c3RyaW5nfSBjYW4gYmUgdW5kZWZpbmVkIG9uIFwiZmFsdGh5XCIgdG8gaW5kaWNhdGUgXCJ1c2UgY3VycmVudFwiXHJcbiAgICogQHBhcmFtIGZvbnRTdHlsZSB7c3RyaW5nfSBjYW4gYmUgdW5kZWZpbmVkIG9uIFwiZmFsdGh5XCIgdG8gaW5kaWNhdGUgXCJ1c2UgY3VycmVudFwiXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gRm9udCBrZXkuXHJcbiAgICogQGlnbm9yZVxyXG4gICAqL1xyXG4gIHZhciBnZXRGb250ID0gZnVuY3Rpb24oZm9udE5hbWUsIGZvbnRTdHlsZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIGtleSA9IHVuZGVmaW5lZCxcclxuICAgICAgZm9udE5hbWVMb3dlckNhc2U7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICBmb250TmFtZSA9XHJcbiAgICAgIGZvbnROYW1lICE9PSB1bmRlZmluZWQgPyBmb250TmFtZSA6IGZvbnRzW2FjdGl2ZUZvbnRLZXldLmZvbnROYW1lO1xyXG4gICAgZm9udFN0eWxlID1cclxuICAgICAgZm9udFN0eWxlICE9PSB1bmRlZmluZWQgPyBmb250U3R5bGUgOiBmb250c1thY3RpdmVGb250S2V5XS5mb250U3R5bGU7XHJcbiAgICBmb250TmFtZUxvd2VyQ2FzZSA9IGZvbnROYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBmb250bWFwW2ZvbnROYW1lTG93ZXJDYXNlXSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgIGZvbnRtYXBbZm9udE5hbWVMb3dlckNhc2VdW2ZvbnRTdHlsZV0gIT09IHVuZGVmaW5lZFxyXG4gICAgKSB7XHJcbiAgICAgIGtleSA9IGZvbnRtYXBbZm9udE5hbWVMb3dlckNhc2VdW2ZvbnRTdHlsZV07XHJcbiAgICB9IGVsc2UgaWYgKFxyXG4gICAgICBmb250bWFwW2ZvbnROYW1lXSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgIGZvbnRtYXBbZm9udE5hbWVdW2ZvbnRTdHlsZV0gIT09IHVuZGVmaW5lZFxyXG4gICAgKSB7XHJcbiAgICAgIGtleSA9IGZvbnRtYXBbZm9udE5hbWVdW2ZvbnRTdHlsZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAob3B0aW9ucy5kaXNhYmxlV2FybmluZyA9PT0gZmFsc2UpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICBcIlVuYWJsZSB0byBsb29rIHVwIGZvbnQgbGFiZWwgZm9yIGZvbnQgJ1wiICtcclxuICAgICAgICAgICAgZm9udE5hbWUgK1xyXG4gICAgICAgICAgICBcIicsICdcIiArXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZSArXHJcbiAgICAgICAgICAgIFwiJy4gUmVmZXIgdG8gZ2V0Rm9udExpc3QoKSBmb3IgYXZhaWxhYmxlIGZvbnRzLlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgha2V5ICYmICFvcHRpb25zLm5vRmFsbGJhY2spIHtcclxuICAgICAga2V5ID0gZm9udG1hcFtcInRpbWVzXCJdW2ZvbnRTdHlsZV07XHJcbiAgICAgIGlmIChrZXkgPT0gbnVsbCkge1xyXG4gICAgICAgIGtleSA9IGZvbnRtYXBbXCJ0aW1lc1wiXVtcIm5vcm1hbFwiXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleTtcclxuICB9O1xyXG5cclxuICB2YXIgcHV0SW5mbyA9IChBUEkuX19wcml2YXRlX18ucHV0SW5mbyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG9iamVjdElkID0gbmV3T2JqZWN0KCk7XHJcbiAgICB2YXIgZW5jcnlwdG9yID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgICBpZiAoZW5jcnlwdGlvbk9wdGlvbnMgIT09IG51bGwpIHtcclxuICAgICAgZW5jcnlwdG9yID0gZW5jcnlwdGlvbi5lbmNyeXB0b3Iob2JqZWN0SWQsIDApO1xyXG4gICAgfVxyXG4gICAgb3V0KFwiPDxcIik7XHJcbiAgICBvdXQoXCIvUHJvZHVjZXIgKFwiICsgcGRmRXNjYXBlKGVuY3J5cHRvcihcImpzUERGIFwiICsganNQREYudmVyc2lvbikpICsgXCIpXCIpO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGRvY3VtZW50UHJvcGVydGllcykge1xyXG4gICAgICBpZiAoZG9jdW1lbnRQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkgJiYgZG9jdW1lbnRQcm9wZXJ0aWVzW2tleV0pIHtcclxuICAgICAgICBvdXQoXHJcbiAgICAgICAgICBcIi9cIiArXHJcbiAgICAgICAgICAgIGtleS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArXHJcbiAgICAgICAgICAgIGtleS5zdWJzdHIoMSkgK1xyXG4gICAgICAgICAgICBcIiAoXCIgK1xyXG4gICAgICAgICAgICBwZGZFc2NhcGUoZW5jcnlwdG9yKGRvY3VtZW50UHJvcGVydGllc1trZXldKSkgK1xyXG4gICAgICAgICAgICBcIilcIlxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG91dChcIi9DcmVhdGlvbkRhdGUgKFwiICsgcGRmRXNjYXBlKGVuY3J5cHRvcihjcmVhdGlvbkRhdGUpKSArIFwiKVwiKTtcclxuICAgIG91dChcIj4+XCIpO1xyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgcHV0Q2F0YWxvZyA9IChBUEkuX19wcml2YXRlX18ucHV0Q2F0YWxvZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgdmFyIHRtcFJvb3REaWN0aW9uYXJ5T2JqSWQgPVxyXG4gICAgICBvcHRpb25zLnJvb3REaWN0aW9uYXJ5T2JqSWQgfHwgcm9vdERpY3Rpb25hcnlPYmpJZDtcclxuICAgIG5ld09iamVjdCgpO1xyXG4gICAgb3V0KFwiPDxcIik7XHJcbiAgICBvdXQoXCIvVHlwZSAvQ2F0YWxvZ1wiKTtcclxuICAgIG91dChcIi9QYWdlcyBcIiArIHRtcFJvb3REaWN0aW9uYXJ5T2JqSWQgKyBcIiAwIFJcIik7XHJcbiAgICAvLyBQREYxM3JlZiBTZWN0aW9uIDcuMi4xXHJcbiAgICBpZiAoIXpvb21Nb2RlKSB6b29tTW9kZSA9IFwiZnVsbHdpZHRoXCI7XHJcbiAgICBzd2l0Y2ggKHpvb21Nb2RlKSB7XHJcbiAgICAgIGNhc2UgXCJmdWxsd2lkdGhcIjpcclxuICAgICAgICBvdXQoXCIvT3BlbkFjdGlvbiBbMyAwIFIgL0ZpdEggbnVsbF1cIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJmdWxsaGVpZ2h0XCI6XHJcbiAgICAgICAgb3V0KFwiL09wZW5BY3Rpb24gWzMgMCBSIC9GaXRWIG51bGxdXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZnVsbHBhZ2VcIjpcclxuICAgICAgICBvdXQoXCIvT3BlbkFjdGlvbiBbMyAwIFIgL0ZpdF1cIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJvcmlnaW5hbFwiOlxyXG4gICAgICAgIG91dChcIi9PcGVuQWN0aW9uIFszIDAgUiAvWFlaIG51bGwgbnVsbCAxXVwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICB2YXIgcGNuID0gXCJcIiArIHpvb21Nb2RlO1xyXG4gICAgICAgIGlmIChwY24uc3Vic3RyKHBjbi5sZW5ndGggLSAxKSA9PT0gXCIlXCIpXHJcbiAgICAgICAgICB6b29tTW9kZSA9IHBhcnNlSW50KHpvb21Nb2RlKSAvIDEwMDtcclxuICAgICAgICBpZiAodHlwZW9mIHpvb21Nb2RlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICBvdXQoXCIvT3BlbkFjdGlvbiBbMyAwIFIgL1hZWiBudWxsIG51bGwgXCIgKyBmMih6b29tTW9kZSkgKyBcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFsYXlvdXRNb2RlKSBsYXlvdXRNb2RlID0gXCJjb250aW51b3VzXCI7XHJcbiAgICBzd2l0Y2ggKGxheW91dE1vZGUpIHtcclxuICAgICAgY2FzZSBcImNvbnRpbnVvdXNcIjpcclxuICAgICAgICBvdXQoXCIvUGFnZUxheW91dCAvT25lQ29sdW1uXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic2luZ2xlXCI6XHJcbiAgICAgICAgb3V0KFwiL1BhZ2VMYXlvdXQgL1NpbmdsZVBhZ2VcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJ0d29cIjpcclxuICAgICAgY2FzZSBcInR3b2xlZnRcIjpcclxuICAgICAgICBvdXQoXCIvUGFnZUxheW91dCAvVHdvQ29sdW1uTGVmdFwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInR3b3JpZ2h0XCI6XHJcbiAgICAgICAgb3V0KFwiL1BhZ2VMYXlvdXQgL1R3b0NvbHVtblJpZ2h0XCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhZ2VNb2RlKSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBIG5hbWUgb2JqZWN0IHNwZWNpZnlpbmcgaG93IHRoZSBkb2N1bWVudCBzaG91bGQgYmUgZGlzcGxheWVkIHdoZW4gb3BlbmVkOlxyXG4gICAgICAgKiBVc2VOb25lICAgICAgOiBOZWl0aGVyIGRvY3VtZW50IG91dGxpbmUgbm9yIHRodW1ibmFpbCBpbWFnZXMgdmlzaWJsZSAtLSBERUZBVUxUXHJcbiAgICAgICAqIFVzZU91dGxpbmVzICA6IERvY3VtZW50IG91dGxpbmUgdmlzaWJsZVxyXG4gICAgICAgKiBVc2VUaHVtYnMgICAgOiBUaHVtYm5haWwgaW1hZ2VzIHZpc2libGVcclxuICAgICAgICogRnVsbFNjcmVlbiAgIDogRnVsbC1zY3JlZW4gbW9kZSwgd2l0aCBubyBtZW51IGJhciwgd2luZG93IGNvbnRyb2xzLCBvciBhbnkgb3RoZXIgd2luZG93IHZpc2libGVcclxuICAgICAgICovXHJcbiAgICAgIG91dChcIi9QYWdlTW9kZSAvXCIgKyBwYWdlTW9kZSk7XHJcbiAgICB9XHJcbiAgICBldmVudHMucHVibGlzaChcInB1dENhdGFsb2dcIik7XHJcbiAgICBvdXQoXCI+PlwiKTtcclxuICAgIG91dChcImVuZG9ialwiKTtcclxuICB9KTtcclxuXHJcbiAgdmFyIHB1dFRyYWlsZXIgPSAoQVBJLl9fcHJpdmF0ZV9fLnB1dFRyYWlsZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIG91dChcInRyYWlsZXJcIik7XHJcbiAgICBvdXQoXCI8PFwiKTtcclxuICAgIG91dChcIi9TaXplIFwiICsgKG9iamVjdE51bWJlciArIDEpKTtcclxuICAgIC8vIFJvb3QgYW5kIEluZm8gbXVzdCBiZSB0aGUgbGFzdCBhbmQgc2Vjb25kIGxhc3Qgb2JqZWN0cyB3cml0dGVuIHJlc3BlY3RpdmVseVxyXG4gICAgb3V0KFwiL1Jvb3QgXCIgKyBvYmplY3ROdW1iZXIgKyBcIiAwIFJcIik7XHJcbiAgICBvdXQoXCIvSW5mbyBcIiArIChvYmplY3ROdW1iZXIgLSAxKSArIFwiIDAgUlwiKTtcclxuICAgIGlmIChlbmNyeXB0aW9uT3B0aW9ucyAhPT0gbnVsbCkge1xyXG4gICAgICBvdXQoXCIvRW5jcnlwdCBcIiArIGVuY3J5cHRpb24ub2lkICsgXCIgMCBSXCIpO1xyXG4gICAgfVxyXG4gICAgb3V0KFwiL0lEIFsgPFwiICsgZmlsZUlkICsgXCI+IDxcIiArIGZpbGVJZCArIFwiPiBdXCIpO1xyXG4gICAgb3V0KFwiPj5cIik7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBwdXRIZWFkZXIgPSAoQVBJLl9fcHJpdmF0ZV9fLnB1dEhlYWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgb3V0KFwiJVBERi1cIiArIHBkZlZlcnNpb24pO1xyXG4gICAgb3V0KFwiJVxceEJBXFx4REZcXHhBQ1xceEUwXCIpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgcHV0WFJlZiA9IChBUEkuX19wcml2YXRlX18ucHV0WFJlZiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHAgPSBcIjAwMDAwMDAwMDBcIjtcclxuXHJcbiAgICBvdXQoXCJ4cmVmXCIpO1xyXG4gICAgb3V0KFwiMCBcIiArIChvYmplY3ROdW1iZXIgKyAxKSk7XHJcbiAgICBvdXQoXCIwMDAwMDAwMDAwIDY1NTM1IGYgXCIpO1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gb2JqZWN0TnVtYmVyOyBpKyspIHtcclxuICAgICAgdmFyIG9mZnNldCA9IG9mZnNldHNbaV07XHJcbiAgICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBvdXQoKHAgKyBvZmZzZXRzW2ldKCkpLnNsaWNlKC0xMCkgKyBcIiAwMDAwMCBuIFwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodHlwZW9mIG9mZnNldHNbaV0gIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgIG91dCgocCArIG9mZnNldHNbaV0pLnNsaWNlKC0xMCkgKyBcIiAwMDAwMCBuIFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb3V0KFwiMDAwMDAwMDAwMCAwMDAwMCBuIFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgdmFyIGJ1aWxkRG9jdW1lbnQgPSAoQVBJLl9fcHJpdmF0ZV9fLmJ1aWxkRG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIHJlc2V0RG9jdW1lbnQoKTtcclxuICAgIHNldE91dHB1dERlc3RpbmF0aW9uKGNvbnRlbnQpO1xyXG5cclxuICAgIGV2ZW50cy5wdWJsaXNoKFwiYnVpbGREb2N1bWVudFwiKTtcclxuXHJcbiAgICBwdXRIZWFkZXIoKTtcclxuICAgIHB1dFBhZ2VzKCk7XHJcbiAgICBwdXRBZGRpdGlvbmFsT2JqZWN0cygpO1xyXG4gICAgcHV0UmVzb3VyY2VzKCk7XHJcbiAgICBpZiAoZW5jcnlwdGlvbk9wdGlvbnMgIT09IG51bGwpIHB1dEVuY3J5cHRpb25EaWN0KCk7XHJcbiAgICBwdXRJbmZvKCk7XHJcbiAgICBwdXRDYXRhbG9nKCk7XHJcblxyXG4gICAgdmFyIG9mZnNldE9mWFJlZiA9IGNvbnRlbnRMZW5ndGg7XHJcbiAgICBwdXRYUmVmKCk7XHJcbiAgICBwdXRUcmFpbGVyKCk7XHJcbiAgICBvdXQoXCJzdGFydHhyZWZcIik7XHJcbiAgICBvdXQoXCJcIiArIG9mZnNldE9mWFJlZik7XHJcbiAgICBvdXQoXCIlJUVPRlwiKTtcclxuXHJcbiAgICBzZXRPdXRwdXREZXN0aW5hdGlvbihwYWdlc1tjdXJyZW50UGFnZV0pO1xyXG5cclxuICAgIHJldHVybiBjb250ZW50LmpvaW4oXCJcXG5cIik7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBnZXRCbG9iID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRCbG9iID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgcmV0dXJuIG5ldyBCbG9iKFtnZXRBcnJheUJ1ZmZlcihkYXRhKV0sIHtcclxuICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9wZGZcIlxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXRlcyB0aGUgUERGIGRvY3VtZW50LlxyXG4gICAqXHJcbiAgICogSWYgYHR5cGVgIGFyZ3VtZW50IGlzIHVuZGVmaW5lZCwgb3V0cHV0IGlzIHJhdyBib2R5IG9mIHJlc3VsdGluZyBQREYgcmV0dXJuZWQgYXMgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBBIHN0cmluZyBpZGVudGlmeWluZyBvbmUgb2YgdGhlIHBvc3NpYmxlIG91dHB1dCB0eXBlcy48YnIvPlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgIFBvc3NpYmxlIHZhbHVlcyBhcmU6IDxici8+XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICdhcnJheWJ1ZmZlcicgLT4gKEFycmF5QnVmZmVyKTxici8+XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICdibG9iJyAtPiAoQmxvYik8YnIvPlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAnYmxvYnVyaScvJ2Jsb2J1cmwnIC0+IChzdHJpbmcpPGJyLz5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGF1cmlzdHJpbmcnLydkYXRhdXJsc3RyaW5nJyAtPiAoc3RyaW5nKTxici8+XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhdXJpJy8nZGF0YXVybCcgLT4gKHVuZGVmaW5lZCkgLT4gY2hhbmdlIGxvY2F0aW9uIHRvIGdlbmVyYXRlZCBkYXRhdXJpc3RyaW5nL2RhdGF1cmxzdHJpbmc8YnIvPlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0YXVybG5ld3dpbmRvdycgLT4gKHdpbmRvdyB8IG51bGwgfCB1bmRlZmluZWQpIHRocm93cyBlcnJvciBpZiBnbG9iYWwgaXNuJ3QgYSB3aW5kb3cgb2JqZWN0KG5vZGUpPGJyLz5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BkZm9iamVjdG5ld3dpbmRvdycgLT4gKHdpbmRvdyB8IG51bGwpIHRocm93cyBlcnJvciBpZiBnbG9iYWwgaXNuJ3QgYSB3aW5kb3cgb2JqZWN0KG5vZGUpPGJyLz5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BkZmpzbmV3d2luZG93JyAtPiAod2luZCB8IG51bGwpXHJcbiAgICogQHBhcmFtIHtPYmplY3R8c3RyaW5nfSBvcHRpb25zIEFuIG9iamVjdCBwcm92aWRpbmcgc29tZSBhZGRpdGlvbmFsIHNpZ25hbGxpbmcgdG8gUERGIGdlbmVyYXRvci48YnIvPlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3NzaWJsZSBvcHRpb25zIGFyZSAnZmlsZW5hbWUnLjxici8+XHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEgc3RyaW5nIGNhbiBiZSBwYXNzZWQgaW5zdGVhZCBvZiB7ZmlsZW5hbWU6c3RyaW5nfSBhbmQgZGVmYXVsdHMgdG8gJ2dlbmVyYXRlZC5wZGYnXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge3N0cmluZ3x3aW5kb3d8QXJyYXlCdWZmZXJ8QmxvYnxqc1BERnxudWxsfHVuZGVmaW5lZH1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgb3V0cHV0XHJcbiAgICovXHJcbiAgdmFyIG91dHB1dCA9IChBUEkub3V0cHV0ID0gQVBJLl9fcHJpdmF0ZV9fLm91dHB1dCA9IFNBRkUoZnVuY3Rpb24gb3V0cHV0KFxyXG4gICAgdHlwZSxcclxuICAgIG9wdGlvbnNcclxuICApIHtcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBvcHRpb25zID0ge1xyXG4gICAgICAgIGZpbGVuYW1lOiBvcHRpb25zXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvcHRpb25zLmZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZSB8fCBcImdlbmVyYXRlZC5wZGZcIjtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSB1bmRlZmluZWQ6XHJcbiAgICAgICAgcmV0dXJuIGJ1aWxkRG9jdW1lbnQoKTtcclxuICAgICAgY2FzZSBcInNhdmVcIjpcclxuICAgICAgICBBUEkuc2F2ZShvcHRpb25zLmZpbGVuYW1lKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImFycmF5YnVmZmVyXCI6XHJcbiAgICAgICAgcmV0dXJuIGdldEFycmF5QnVmZmVyKGJ1aWxkRG9jdW1lbnQoKSk7XHJcbiAgICAgIGNhc2UgXCJibG9iXCI6XHJcbiAgICAgICAgcmV0dXJuIGdldEJsb2IoYnVpbGREb2N1bWVudCgpKTtcclxuICAgICAgY2FzZSBcImJsb2J1cmlcIjpcclxuICAgICAgY2FzZSBcImJsb2J1cmxcIjpcclxuICAgICAgICAvLyBEZXZlbG9wZXIgaXMgcmVzcG9uc2libGUgb2YgY2FsbGluZyByZXZva2VPYmplY3RVUkxcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0eXBlb2YgZ2xvYmFsT2JqZWN0LlVSTCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAgICAgdHlwZW9mIGdsb2JhbE9iamVjdC5VUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIChnbG9iYWxPYmplY3QuVVJMICYmXHJcbiAgICAgICAgICAgICAgZ2xvYmFsT2JqZWN0LlVSTC5jcmVhdGVPYmplY3RVUkwoZ2V0QmxvYihidWlsZERvY3VtZW50KCkpKSkgfHxcclxuICAgICAgICAgICAgdm9pZCAwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgIFwiYmxvYnVybCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgc3lzdGVtLCBiZWNhdXNlIFVSTC5jcmVhdGVPYmplY3RVUkwgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZGF0YXVyaXN0cmluZ1wiOlxyXG4gICAgICBjYXNlIFwiZGF0YXVybHN0cmluZ1wiOlxyXG4gICAgICAgIHZhciBkYXRhVVJJID0gXCJcIjtcclxuICAgICAgICB2YXIgcGRmRG9jdW1lbnQgPSBidWlsZERvY3VtZW50KCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGRhdGFVUkkgPSBidG9hKHBkZkRvY3VtZW50KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBkYXRhVVJJID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQocGRmRG9jdW1lbnQpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICBcImRhdGE6YXBwbGljYXRpb24vcGRmO2ZpbGVuYW1lPVwiICtcclxuICAgICAgICAgIG9wdGlvbnMuZmlsZW5hbWUgK1xyXG4gICAgICAgICAgXCI7YmFzZTY0LFwiICtcclxuICAgICAgICAgIGRhdGFVUklcclxuICAgICAgICApO1xyXG4gICAgICBjYXNlIFwicGRmb2JqZWN0bmV3d2luZG93XCI6XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbE9iamVjdCkgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHZhciBwZGZPYmplY3RVcmwgPVxyXG4gICAgICAgICAgICBcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BkZm9iamVjdC8yLjEuMS9wZGZvYmplY3QubWluLmpzXCI7XHJcbiAgICAgICAgICB2YXIgaW50ZWdyaXR5ID1cclxuICAgICAgICAgICAgJyBpbnRlZ3JpdHk9XCJzaGE1MTItNHplL2E5LzRqcXUrdFg5ZGZPcUpZU3Z5WWQ1TTZxdW0vM0hwQ0xyKy9KcWYwd2hjMzdWVWJrcE5HSFI3LzhwU25DRnc0N1QxZm1JcHdCVjdVeVNoM2c9PVwiIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCInO1xyXG5cclxuICAgICAgICAgIGlmIChvcHRpb25zLnBkZk9iamVjdFVybCkge1xyXG4gICAgICAgICAgICBwZGZPYmplY3RVcmwgPSBvcHRpb25zLnBkZk9iamVjdFVybDtcclxuICAgICAgICAgICAgaW50ZWdyaXR5ID0gXCJcIjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgaHRtbEZvck5ld1dpbmRvdyA9XHJcbiAgICAgICAgICAgIFwiPGh0bWw+XCIgK1xyXG4gICAgICAgICAgICAnPHN0eWxlPmh0bWwsIGJvZHkgeyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IH0gaWZyYW1lIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYm9yZGVyOiAwO30gIDwvc3R5bGU+PGJvZHk+PHNjcmlwdCBzcmM9XCInICtcclxuICAgICAgICAgICAgcGRmT2JqZWN0VXJsICtcclxuICAgICAgICAgICAgJ1wiJyArXHJcbiAgICAgICAgICAgIGludGVncml0eSArXHJcbiAgICAgICAgICAgICc+PC9zY3JpcHQ+PHNjcmlwdCA+UERGT2JqZWN0LmVtYmVkKFwiJyArXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0KFwiZGF0YXVybHN0cmluZ1wiKSArXHJcbiAgICAgICAgICAgICdcIiwgJyArXHJcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpICtcclxuICAgICAgICAgICAgXCIpOzwvc2NyaXB0PjwvYm9keT48L2h0bWw+XCI7XHJcbiAgICAgICAgICB2YXIgblcgPSBnbG9iYWxPYmplY3Qub3BlbigpO1xyXG5cclxuICAgICAgICAgIGlmIChuVyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBuVy5kb2N1bWVudC53cml0ZShodG1sRm9yTmV3V2luZG93KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBuVztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICBcIlRoZSBvcHRpb24gcGRmb2JqZWN0bmV3d2luZG93IGp1c3Qgd29ya3MgaW4gYSBicm93c2VyLWVudmlyb25tZW50LlwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSBcInBkZmpzbmV3d2luZG93XCI6XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbE9iamVjdCkgPT09IFwiW29iamVjdCBXaW5kb3ddXCJcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHZhciBwZGZKc1VybCA9IG9wdGlvbnMucGRmSnNVcmwgfHwgXCJleGFtcGxlcy9QREYuanMvd2ViL3ZpZXdlci5odG1sXCI7XHJcbiAgICAgICAgICB2YXIgaHRtbEZvclBERmpzTmV3V2luZG93ID1cclxuICAgICAgICAgICAgXCI8aHRtbD5cIiArXHJcbiAgICAgICAgICAgIFwiPHN0eWxlPmh0bWwsIGJvZHkgeyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IH0gaWZyYW1lIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYm9yZGVyOiAwO30gIDwvc3R5bGU+XCIgK1xyXG4gICAgICAgICAgICAnPGJvZHk+PGlmcmFtZSBpZD1cInBkZlZpZXdlclwiIHNyYz1cIicgK1xyXG4gICAgICAgICAgICBwZGZKc1VybCArXHJcbiAgICAgICAgICAgIFwiP2ZpbGU9JmRvd25sb2FkTmFtZT1cIiArXHJcbiAgICAgICAgICAgIG9wdGlvbnMuZmlsZW5hbWUgK1xyXG4gICAgICAgICAgICAnXCIgd2lkdGg9XCI1MDBweFwiIGhlaWdodD1cIjQwMHB4XCIgLz4nICtcclxuICAgICAgICAgICAgXCI8L2JvZHk+PC9odG1sPlwiO1xyXG4gICAgICAgICAgdmFyIFBERmpzTmV3V2luZG93ID0gZ2xvYmFsT2JqZWN0Lm9wZW4oKTtcclxuXHJcbiAgICAgICAgICBpZiAoUERGanNOZXdXaW5kb3cgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgUERGanNOZXdXaW5kb3cuZG9jdW1lbnQud3JpdGUoaHRtbEZvclBERmpzTmV3V2luZG93KTtcclxuICAgICAgICAgICAgdmFyIHNjb3BlID0gdGhpcztcclxuICAgICAgICAgICAgUERGanNOZXdXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgXCIjcGRmVmlld2VyXCJcclxuICAgICAgICAgICAgKS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBQREZqc05ld1dpbmRvdy5kb2N1bWVudC50aXRsZSA9IG9wdGlvbnMuZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgUERGanNOZXdXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIiNwZGZWaWV3ZXJcIilcclxuICAgICAgICAgICAgICAgIC5jb250ZW50V2luZG93LlBERlZpZXdlckFwcGxpY2F0aW9uLm9wZW4oXHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLm91dHB1dChcImJsb2J1cmxcIilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gUERGanNOZXdXaW5kb3c7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgXCJUaGUgb3B0aW9uIHBkZmpzbmV3d2luZG93IGp1c3Qgd29ya3MgaW4gYSBicm93c2VyLWVudmlyb25tZW50LlwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSBcImRhdGF1cmxuZXd3aW5kb3dcIjpcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsT2JqZWN0KSA9PT0gXCJbb2JqZWN0IFdpbmRvd11cIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdmFyIGh0bWxGb3JEYXRhVVJMTmV3V2luZG93ID1cclxuICAgICAgICAgICAgXCI8aHRtbD5cIiArXHJcbiAgICAgICAgICAgIFwiPHN0eWxlPmh0bWwsIGJvZHkgeyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IH0gaWZyYW1lIHsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgYm9yZGVyOiAwO30gIDwvc3R5bGU+XCIgK1xyXG4gICAgICAgICAgICBcIjxib2R5PlwiICtcclxuICAgICAgICAgICAgJzxpZnJhbWUgc3JjPVwiJyArXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0KFwiZGF0YXVyaXN0cmluZ1wiLCBvcHRpb25zKSArXHJcbiAgICAgICAgICAgICdcIj48L2lmcmFtZT4nICtcclxuICAgICAgICAgICAgXCI8L2JvZHk+PC9odG1sPlwiO1xyXG4gICAgICAgICAgdmFyIGRhdGFVUkxOZXdXaW5kb3cgPSBnbG9iYWxPYmplY3Qub3BlbigpO1xyXG4gICAgICAgICAgaWYgKGRhdGFVUkxOZXdXaW5kb3cgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgZGF0YVVSTE5ld1dpbmRvdy5kb2N1bWVudC53cml0ZShodG1sRm9yRGF0YVVSTE5ld1dpbmRvdyk7XHJcbiAgICAgICAgICAgIGRhdGFVUkxOZXdXaW5kb3cuZG9jdW1lbnQudGl0bGUgPSBvcHRpb25zLmZpbGVuYW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGRhdGFVUkxOZXdXaW5kb3cgfHwgdHlwZW9mIHNhZmFyaSA9PT0gXCJ1bmRlZmluZWRcIilcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGFVUkxOZXdXaW5kb3c7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgXCJUaGUgb3B0aW9uIGRhdGF1cmxuZXd3aW5kb3cganVzdCB3b3JrcyBpbiBhIGJyb3dzZXItZW52aXJvbm1lbnQuXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZGF0YXVyaVwiOlxyXG4gICAgICBjYXNlIFwiZGF0YXVybFwiOlxyXG4gICAgICAgIHJldHVybiAoZ2xvYmFsT2JqZWN0LmRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSB0aGlzLm91dHB1dChcclxuICAgICAgICAgIFwiZGF0YXVyaXN0cmluZ1wiLFxyXG4gICAgICAgICAgb3B0aW9uc1xyXG4gICAgICAgICkpO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH0pKTtcclxuXHJcbiAgLyoqXHJcbiAgICogVXNlZCB0byBzZWUgaWYgYSBzdXBwbGllZCBob3RmaXggd2FzIHJlcXVlc3RlZCB3aGVuIHRoZSBwZGYgaW5zdGFuY2Ugd2FzIGNyZWF0ZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhvdGZpeE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaG90Zml4IHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIHZhciBoYXNIb3RmaXggPSBmdW5jdGlvbihob3RmaXhOYW1lKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBBcnJheS5pc0FycmF5KGhvdGZpeGVzKSA9PT0gdHJ1ZSAmJiBob3RmaXhlcy5pbmRleE9mKGhvdGZpeE5hbWUpID4gLTFcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgc3dpdGNoICh1bml0KSB7XHJcbiAgICBjYXNlIFwicHRcIjpcclxuICAgICAgc2NhbGVGYWN0b3IgPSAxO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgXCJtbVwiOlxyXG4gICAgICBzY2FsZUZhY3RvciA9IDcyIC8gMjUuNDtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwiY21cIjpcclxuICAgICAgc2NhbGVGYWN0b3IgPSA3MiAvIDIuNTQ7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcImluXCI6XHJcbiAgICAgIHNjYWxlRmFjdG9yID0gNzI7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcInB4XCI6XHJcbiAgICAgIGlmIChoYXNIb3RmaXgoXCJweF9zY2FsaW5nXCIpID09IHRydWUpIHtcclxuICAgICAgICBzY2FsZUZhY3RvciA9IDcyIC8gOTY7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2NhbGVGYWN0b3IgPSA5NiAvIDcyO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcInBjXCI6XHJcbiAgICAgIHNjYWxlRmFjdG9yID0gMTI7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcImVtXCI6XHJcbiAgICAgIHNjYWxlRmFjdG9yID0gMTI7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcImV4XCI6XHJcbiAgICAgIHNjYWxlRmFjdG9yID0gNjtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBpZiAodHlwZW9mIHVuaXQgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICBzY2FsZUZhY3RvciA9IHVuaXQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bml0OiBcIiArIHVuaXQpO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICB2YXIgZW5jcnlwdGlvbiA9IG51bGw7XHJcbiAgc2V0Q3JlYXRpb25EYXRlKCk7XHJcbiAgc2V0RmlsZUlkKCk7XHJcblxyXG4gIHZhciBnZXRFbmNyeXB0b3IgPSBmdW5jdGlvbihvYmplY3RJZCkge1xyXG4gICAgaWYgKGVuY3J5cHRpb25PcHRpb25zICE9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBlbmNyeXB0aW9uLmVuY3J5cHRvcihvYmplY3RJZCwgMCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAvLyBQdWJsaWMgQVBJXHJcblxyXG4gIHZhciBnZXRQYWdlSW5mbyA9IChBUEkuX19wcml2YXRlX18uZ2V0UGFnZUluZm8gPSBBUEkuZ2V0UGFnZUluZm8gPSBmdW5jdGlvbihcclxuICAgIHBhZ2VOdW1iZXJPbmVCYXNlZFxyXG4gICkge1xyXG4gICAgaWYgKGlzTmFOKHBhZ2VOdW1iZXJPbmVCYXNlZCkgfHwgcGFnZU51bWJlck9uZUJhc2VkICUgMSAhPT0gMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5nZXRQYWdlSW5mb1wiKTtcclxuICAgIH1cclxuICAgIHZhciBvYmpJZCA9IHBhZ2VzQ29udGV4dFtwYWdlTnVtYmVyT25lQmFzZWRdLm9iaklkO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb2JqSWQ6IG9iaklkLFxyXG4gICAgICBwYWdlTnVtYmVyOiBwYWdlTnVtYmVyT25lQmFzZWQsXHJcbiAgICAgIHBhZ2VDb250ZXh0OiBwYWdlc0NvbnRleHRbcGFnZU51bWJlck9uZUJhc2VkXVxyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgdmFyIGdldFBhZ2VJbmZvQnlPYmpJZCA9IChBUEkuX19wcml2YXRlX18uZ2V0UGFnZUluZm9CeU9iaklkID0gZnVuY3Rpb24oXHJcbiAgICBvYmpJZFxyXG4gICkge1xyXG4gICAgaWYgKGlzTmFOKG9iaklkKSB8fCBvYmpJZCAlIDEgIT09IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuZ2V0UGFnZUluZm9CeU9iaklkXCIpO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgcGFnZU51bWJlciBpbiBwYWdlc0NvbnRleHQpIHtcclxuICAgICAgaWYgKHBhZ2VzQ29udGV4dFtwYWdlTnVtYmVyXS5vYmpJZCA9PT0gb2JqSWQpIHtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdldFBhZ2VJbmZvKHBhZ2VOdW1iZXIpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgZ2V0Q3VycmVudFBhZ2VJbmZvID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRDdXJyZW50UGFnZUluZm8gPSBBUEkuZ2V0Q3VycmVudFBhZ2VJbmZvID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBvYmpJZDogcGFnZXNDb250ZXh0W2N1cnJlbnRQYWdlXS5vYmpJZCxcclxuICAgICAgcGFnZU51bWJlcjogY3VycmVudFBhZ2UsXHJcbiAgICAgIHBhZ2VDb250ZXh0OiBwYWdlc0NvbnRleHRbY3VycmVudFBhZ2VdXHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIChhbmQgdHJhbnNmZXJzIHRoZSBmb2N1cyB0bykgbmV3IHBhZ2UgdG8gdGhlIFBERiBkb2N1bWVudC5cclxuICAgKiBAcGFyYW0gZm9ybWF0IHtTdHJpbmcvQXJyYXl9IFRoZSBmb3JtYXQgb2YgdGhlIG5ldyBwYWdlLiBDYW4gYmU6IDx1bD48bGk+YTAgLSBhMTA8L2xpPjxsaT5iMCAtIGIxMDwvbGk+PGxpPmMwIC0gYzEwPC9saT48bGk+ZGw8L2xpPjxsaT5sZXR0ZXI8L2xpPjxsaT5nb3Zlcm5tZW50LWxldHRlcjwvbGk+PGxpPmxlZ2FsPC9saT48bGk+anVuaW9yLWxlZ2FsPC9saT48bGk+bGVkZ2VyPC9saT48bGk+dGFibG9pZDwvbGk+PGxpPmNyZWRpdC1jYXJkPC9saT48L3VsPjxiciAvPlxyXG4gICAqIERlZmF1bHQgaXMgXCJhNFwiLiBJZiB5b3Ugd2FudCB0byB1c2UgeW91ciBvd24gZm9ybWF0IGp1c3QgcGFzcyBpbnN0ZWFkIG9mIG9uZSBvZiB0aGUgYWJvdmUgcHJlZGVmaW5lZCBmb3JtYXRzIHRoZSBzaXplIGFzIGFuIG51bWJlci1hcnJheSwgZS5nLiBbNTk1LjI4LCA4NDEuODldXHJcbiAgICogQHBhcmFtIG9yaWVudGF0aW9uIHtzdHJpbmd9IE9yaWVudGF0aW9uIG9mIHRoZSBuZXcgcGFnZS4gUG9zc2libGUgdmFsdWVzIGFyZSBcInBvcnRyYWl0XCIgb3IgXCJsYW5kc2NhcGVcIiAob3Igc2hvcnRjdXRzIFwicFwiIChEZWZhdWx0KSwgXCJsXCIpLlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKlxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBhZGRQYWdlXHJcbiAgICovXHJcbiAgQVBJLmFkZFBhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgIF9hZGRQYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG4gIC8qKlxyXG4gICAqIEFkZHMgKGFuZCB0cmFuc2ZlcnMgdGhlIGZvY3VzIHRvKSBuZXcgcGFnZSB0byB0aGUgUERGIGRvY3VtZW50LlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKlxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRQYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2UgU3dpdGNoIHRoZSBhY3RpdmUgcGFnZSB0byB0aGUgcGFnZSBudW1iZXIgc3BlY2lmaWVkIChpbmRleGVkIHN0YXJ0aW5nIGF0IDEpLlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogZG9jID0ganNQREYoKVxyXG4gICAqIGRvYy5hZGRQYWdlKClcclxuICAgKiBkb2MuYWRkUGFnZSgpXHJcbiAgICogZG9jLnRleHQoJ0kgYW0gb24gcGFnZSAzJywgMTAsIDEwKVxyXG4gICAqIGRvYy5zZXRQYWdlKDEpXHJcbiAgICogZG9jLnRleHQoJ0kgYW0gb24gcGFnZSAxJywgMTAsIDEwKVxyXG4gICAqL1xyXG4gIEFQSS5zZXRQYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfc2V0UGFnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgc2V0T3V0cHV0RGVzdGluYXRpb24uY2FsbCh0aGlzLCBwYWdlc1tjdXJyZW50UGFnZV0pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgaW5zZXJ0UGFnZVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBiZWZvcmVQYWdlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqL1xyXG4gIEFQSS5pbnNlcnRQYWdlID0gZnVuY3Rpb24oYmVmb3JlUGFnZSkge1xyXG4gICAgdGhpcy5hZGRQYWdlKCk7XHJcbiAgICB0aGlzLm1vdmVQYWdlKGN1cnJlbnRQYWdlLCBiZWZvcmVQYWdlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIG1vdmVQYWdlXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRQYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJlZm9yZVBhZ2VcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICovXHJcbiAgQVBJLm1vdmVQYWdlID0gZnVuY3Rpb24odGFyZ2V0UGFnZSwgYmVmb3JlUGFnZSkge1xyXG4gICAgdmFyIHRtcFBhZ2VzLCB0bXBQYWdlc0NvbnRleHQ7XHJcbiAgICBpZiAodGFyZ2V0UGFnZSA+IGJlZm9yZVBhZ2UpIHtcclxuICAgICAgdG1wUGFnZXMgPSBwYWdlc1t0YXJnZXRQYWdlXTtcclxuICAgICAgdG1wUGFnZXNDb250ZXh0ID0gcGFnZXNDb250ZXh0W3RhcmdldFBhZ2VdO1xyXG4gICAgICBmb3IgKHZhciBpID0gdGFyZ2V0UGFnZTsgaSA+IGJlZm9yZVBhZ2U7IGktLSkge1xyXG4gICAgICAgIHBhZ2VzW2ldID0gcGFnZXNbaSAtIDFdO1xyXG4gICAgICAgIHBhZ2VzQ29udGV4dFtpXSA9IHBhZ2VzQ29udGV4dFtpIC0gMV07XHJcbiAgICAgIH1cclxuICAgICAgcGFnZXNbYmVmb3JlUGFnZV0gPSB0bXBQYWdlcztcclxuICAgICAgcGFnZXNDb250ZXh0W2JlZm9yZVBhZ2VdID0gdG1wUGFnZXNDb250ZXh0O1xyXG4gICAgICB0aGlzLnNldFBhZ2UoYmVmb3JlUGFnZSk7XHJcbiAgICB9IGVsc2UgaWYgKHRhcmdldFBhZ2UgPCBiZWZvcmVQYWdlKSB7XHJcbiAgICAgIHRtcFBhZ2VzID0gcGFnZXNbdGFyZ2V0UGFnZV07XHJcbiAgICAgIHRtcFBhZ2VzQ29udGV4dCA9IHBhZ2VzQ29udGV4dFt0YXJnZXRQYWdlXTtcclxuICAgICAgZm9yICh2YXIgaiA9IHRhcmdldFBhZ2U7IGogPCBiZWZvcmVQYWdlOyBqKyspIHtcclxuICAgICAgICBwYWdlc1tqXSA9IHBhZ2VzW2ogKyAxXTtcclxuICAgICAgICBwYWdlc0NvbnRleHRbal0gPSBwYWdlc0NvbnRleHRbaiArIDFdO1xyXG4gICAgICB9XHJcbiAgICAgIHBhZ2VzW2JlZm9yZVBhZ2VdID0gdG1wUGFnZXM7XHJcbiAgICAgIHBhZ2VzQ29udGV4dFtiZWZvcmVQYWdlXSA9IHRtcFBhZ2VzQ29udGV4dDtcclxuICAgICAgdGhpcy5zZXRQYWdlKGJlZm9yZVBhZ2UpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRGVsZXRlcyBhIHBhZ2UgZnJvbSB0aGUgUERGLlxyXG4gICAqIEBuYW1lIGRlbGV0ZVBhZ2VcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldFBhZ2VcclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICovXHJcbiAgQVBJLmRlbGV0ZVBhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgIF9kZWxldGVQYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIHRleHQgdG8gcGFnZS4gU3VwcG9ydHMgYWRkaW5nIG11bHRpbGluZSB0ZXh0IHdoZW4gJ3RleHQnIGFyZ3VtZW50IGlzIGFuIEFycmF5IG9mIFN0cmluZ3MuXHJcbiAgICpcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gdGV4dCBTdHJpbmcgb3IgYXJyYXkgb2Ygc3RyaW5ncyB0byBiZSBhZGRlZCB0byB0aGUgcGFnZS4gRWFjaCBsaW5lIGlzIHNoaWZ0ZWQgb25lIGxpbmUgZG93biBwZXIgZm9udCwgc3BhY2luZyBzZXR0aW5ncyBkZWNsYXJlZCBiZWZvcmUgdGhpcyBjYWxsLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgbGVmdCBlZGdlIG9mIHRoZSBwYWdlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5IENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgdXBwZXIgZWRnZSBvZiB0aGUgcGFnZS5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBzZXR0aW5ncyBzaWduYWxpbmcgaG93IHRoZSB0ZXh0IG11c3QgYmUgZW5jb2RlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYWxpZ249bGVmdF0gLSBUaGUgYWxpZ25tZW50IG9mIHRoZSB0ZXh0LCBwb3NzaWJsZSB2YWx1ZXM6IGxlZnQsIGNlbnRlciwgcmlnaHQsIGp1c3RpZnkuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJhc2VsaW5lPWFscGhhYmV0aWNdIC0gU2V0cyB0ZXh0IGJhc2VsaW5lIHVzZWQgd2hlbiBkcmF3aW5nIHRoZSB0ZXh0LCBwb3NzaWJsZSB2YWx1ZXM6IGFscGhhYmV0aWMsIGlkZW9ncmFwaGljLCBib3R0b20sIHRvcCwgbWlkZGxlLCBoYW5naW5nXHJcbiAgICogQHBhcmFtIHtudW1iZXJ8TWF0cml4fSBbb3B0aW9ucy5hbmdsZT0wXSAtIFJvdGF0ZSB0aGUgdGV4dCBjbG9ja3dpc2Ugb3IgY291bnRlcmNsb2Nrd2lzZS4gRXhwZWN0cyB0aGUgYW5nbGUgaW4gZGVncmVlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yb3RhdGlvbkRpcmVjdGlvbj0xXSAtIERpcmVjdGlvbiBvZiB0aGUgcm90YXRpb24uIDAgPSBjbG9ja3dpc2UsIDEgPSBjb3VudGVyY2xvY2t3aXNlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jaGFyU3BhY2U9MF0gLSBUaGUgc3BhY2UgYmV0d2VlbiBlYWNoIGxldHRlci5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaG9yaXpvbnRhbFNjYWxlPTFdIC0gSG9yaXpvbnRhbCBzY2FsZSBvZiB0aGUgdGV4dCBhcyBhIGZhY3RvciBvZiB0aGUgcmVndWxhciBzaXplLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5saW5lSGVpZ2h0RmFjdG9yPTEuMTVdIC0gVGhlIGxpbmVoZWlnaHQgb2YgZWFjaCBsaW5lLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5mbGFnc10gLSBGbGFncyBmb3IgdG84Yml0U3RyZWFtLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmxhZ3Mubm9CT009dHJ1ZV0gLSBEb24ndCBhZGQgQk9NIHRvIFVuaWNvZGUtdGV4dC5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZsYWdzLmF1dG9lbmNvZGU9dHJ1ZV0gLSBBdXRvZW5jb2RlIHRoZSBUZXh0LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXaWR0aD0wXSAtIFNwbGl0IHRoZSB0ZXh0IGJ5IGdpdmVuIHdpZHRoLCAwID0gbm8gc3BsaXQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnJlbmRlcmluZ01vZGU9ZmlsbF0gLSBTZXQgaG93IHRoZSB0ZXh0IHNob3VsZCBiZSByZW5kZXJlZCwgcG9zc2libGUgdmFsdWVzOiBmaWxsLCBzdHJva2UsIGZpbGxUaGVuU3Ryb2tlLCBpbnZpc2libGUsIGZpbGxBbmRBZGRGb3JDbGlwcGluZywgc3Ryb2tlQW5kQWRkUGF0aEZvckNsaXBwaW5nLCBmaWxsVGhlblN0cm9rZUFuZEFkZFRvUGF0aEZvckNsaXBwaW5nLCBhZGRUb1BhdGhGb3JDbGlwcGluZy5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzSW5wdXRWaXN1YWxdIC0gT3B0aW9uIGZvciB0aGUgQmlkaUVuZ2luZVxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNPdXRwdXRWaXN1YWxdIC0gT3B0aW9uIGZvciB0aGUgQmlkaUVuZ2luZVxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaXNJbnB1dFJ0bF0gLSBPcHRpb24gZm9yIHRoZSBCaWRpRW5naW5lXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc091dHB1dFJ0bF0gLSBPcHRpb24gZm9yIHRoZSBCaWRpRW5naW5lXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc1N5bW1ldHJpY1N3YXBwaW5nXSAtIE9wdGlvbiBmb3IgdGhlIEJpZGlFbmdpbmVcclxuICAgKiBAcGFyYW0ge251bWJlcnxNYXRyaXh9IHRyYW5zZm9ybSBJZiB0cmFuc2Zvcm0gaXMgYSBudW1iZXIgdGhlIHRleHQgd2lsbCBiZSByb3RhdGVkIGJ5IHRoaXMgdmFsdWUgYXJvdW5kIHRoZSBhbmNob3Igc2V0IGJ5IHggYW5kIHkuXHJcbiAgICpcclxuICAgKiBJZiBpdCBpcyBhIE1hdHJpeCwgdGhpcyBtYXRyaXggZ2V0cyBkaXJlY3RseSBhcHBsaWVkIHRvIHRoZSB0ZXh0LCB3aGljaCBhbGxvd3Mgc2hlYXJpbmdcclxuICAgKiBlZmZlY3RzIGV0Yy47IHRoZSB4IGFuZCB5IG9mZnNldHMgYXJlIHRoZW4gYXBwbGllZCBBRlRFUiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gaGFzIGJlZW4gZXN0YWJsaXNoZWQgYnkgdGhpc1xyXG4gICAqIG1hdHJpeC4gVGhpcyBtZWFucyBwYXNzaW5nIGEgcm90YXRpb24gbWF0cml4IHRoYXQgaXMgZXF1aXZhbGVudCB0byBzb21lIHJvdGF0aW9uIGFuZ2xlIHdpbGwgaW4gZ2VuZXJhbCB5aWVsZCBhXHJcbiAgICogRElGRkVSRU5UIHJlc3VsdC4gQSBtYXRyaXggaXMgb25seSBhbGxvd2VkIGluIFwiYWR2YW5jZWRcIiBBUEkgbW9kZS5cclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIHRleHRcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18udGV4dCA9IEFQSS50ZXh0ID0gZnVuY3Rpb24odGV4dCwgeCwgeSwgb3B0aW9ucywgdHJhbnNmb3JtKSB7XHJcbiAgICAvKlxyXG4gICAgICogSW5zZXJ0cyBzb21ldGhpbmcgbGlrZSB0aGlzIGludG8gUERGXHJcbiAgICAgKiAgIEJUXHJcbiAgICAgKiAgICAvRjEgMTYgVGYgICUgRm9udCBuYW1lICsgc2l6ZVxyXG4gICAgICogICAgMTYgVEwgJSBIb3cgbWFueSB1bml0cyBkb3duIGZvciBuZXh0IGxpbmUgaW4gbXVsdGlsaW5lIHRleHRcclxuICAgICAqICAgIDAgZyAlIGNvbG9yXHJcbiAgICAgKiAgICAyOC4zNSA4MTMuNTQgVGQgJSBwb3NpdGlvblxyXG4gICAgICogICAgKGxpbmUgb25lKSBUalxyXG4gICAgICogICAgVCogKGxpbmUgdHdvKSBUalxyXG4gICAgICogICAgVCogKGxpbmUgdGhyZWUpIFRqXHJcbiAgICAgKiAgIEVUXHJcbiAgICAgKi9cclxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgdmFyIHNjb3BlID0gb3B0aW9ucy5zY29wZSB8fCB0aGlzO1xyXG4gICAgdmFyIHBheWxvYWQsIGRhLCBhbmdsZSwgYWxpZ24sIGNoYXJTcGFjZSwgbWF4V2lkdGgsIGZsYWdzLCBob3Jpem9udGFsU2NhbGU7XHJcblxyXG4gICAgLy8gUHJlLUF1Z3VzdC0yMDEyIHRoZSBvcmRlciBvZiBhcmd1bWVudHMgd2FzIGZ1bmN0aW9uKHgsIHksIHRleHQsIGZsYWdzKVxyXG4gICAgLy8gaW4gZWZmb3J0IHRvIG1ha2UgYWxsIGNhbGxzIGhhdmUgc2ltaWxhciBzaWduYXR1cmUgbGlrZVxyXG4gICAgLy8gICBmdW5jdGlvbihkYXRhLCBjb29yZGluYXRlcy4uLiAsIG1pc2NlbGxhbmVvdXMpXHJcbiAgICAvLyB0aGlzIG1ldGhvZCBoYWQgaXRzIGFyZ3MgZmxpcHBlZC5cclxuICAgIC8vIGNvZGUgYmVsb3cgYWxsb3dzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBvbGQgYXJnIG9yZGVyLlxyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgdGV4dCA9PT0gXCJudW1iZXJcIiAmJlxyXG4gICAgICB0eXBlb2YgeCA9PT0gXCJudW1iZXJcIiAmJlxyXG4gICAgICAodHlwZW9mIHkgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSh5KSlcclxuICAgICkge1xyXG4gICAgICB2YXIgdG1wID0geTtcclxuICAgICAgeSA9IHg7XHJcbiAgICAgIHggPSB0ZXh0O1xyXG4gICAgICB0ZXh0ID0gdG1wO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmFuc2Zvcm1hdGlvbk1hdHJpeDtcclxuXHJcbiAgICBpZiAoYXJndW1lbnRzWzNdIGluc3RhbmNlb2YgTWF0cml4ID09PSBmYWxzZSkge1xyXG4gICAgICBmbGFncyA9IGFyZ3VtZW50c1szXTtcclxuICAgICAgYW5nbGUgPSBhcmd1bWVudHNbNF07XHJcbiAgICAgIGFsaWduID0gYXJndW1lbnRzWzVdO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBmbGFncyAhPT0gXCJvYmplY3RcIiB8fCBmbGFncyA9PT0gbnVsbCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYW5nbGUgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgIGFsaWduID0gYW5nbGU7XHJcbiAgICAgICAgICBhbmdsZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgIGFsaWduID0gZmxhZ3M7XHJcbiAgICAgICAgICBmbGFncyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgIGFuZ2xlID0gZmxhZ3M7XHJcbiAgICAgICAgICBmbGFncyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBmbGFnczogZmxhZ3MsXHJcbiAgICAgICAgICBhbmdsZTogYW5nbGUsXHJcbiAgICAgICAgICBhbGlnbjogYWxpZ25cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhZHZhbmNlZEFwaU1vZGVUcmFwKFxyXG4gICAgICAgIFwiVGhlIHRyYW5zZm9ybSBwYXJhbWV0ZXIgb2YgdGV4dCgpIHdpdGggYSBNYXRyaXggdmFsdWVcIlxyXG4gICAgICApO1xyXG4gICAgICB0cmFuc2Zvcm1hdGlvbk1hdHJpeCA9IHRyYW5zZm9ybTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkgfHwgdHlwZW9mIHRleHQgPT09IFwidW5kZWZpbmVkXCIgfHwgdGV4dCA9PT0gbnVsbCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYudGV4dFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGV4dC5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHNjb3BlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB4dHJhID0gXCJcIjtcclxuICAgIHZhciBpc0hleCA9IGZhbHNlO1xyXG4gICAgdmFyIGxpbmVIZWlnaHQgPVxyXG4gICAgICB0eXBlb2Ygb3B0aW9ucy5saW5lSGVpZ2h0RmFjdG9yID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgPyBvcHRpb25zLmxpbmVIZWlnaHRGYWN0b3JcclxuICAgICAgICA6IGxpbmVIZWlnaHRGYWN0b3I7XHJcbiAgICB2YXIgc2NhbGVGYWN0b3IgPSBzY29wZS5pbnRlcm5hbC5zY2FsZUZhY3RvcjtcclxuXHJcbiAgICBmdW5jdGlvbiBFU0Mocykge1xyXG4gICAgICBzID0gcy5zcGxpdChcIlxcdFwiKS5qb2luKEFycmF5KG9wdGlvbnMuVGFiTGVuIHx8IDkpLmpvaW4oXCIgXCIpKTtcclxuICAgICAgcmV0dXJuIHBkZkVzY2FwZShzLCBmbGFncyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtVGV4dFRvU3BlY2lhbEFycmF5KHRleHQpIHtcclxuICAgICAgLy93ZSBkb24ndCB3YW50IHRvIGRlc3Ryb3kgb3JpZ2luYWwgdGV4dCBhcnJheSwgc28gY2xvbmluZyBpdFxyXG4gICAgICB2YXIgc2EgPSB0ZXh0LmNvbmNhdCgpO1xyXG4gICAgICB2YXIgZGEgPSBbXTtcclxuICAgICAgdmFyIGxlbiA9IHNhLmxlbmd0aDtcclxuICAgICAgdmFyIGN1ckRhO1xyXG4gICAgICAvL3dlIGRvIGFycmF5LmpvaW4oJ3RleHQgdGhhdCBtdXN0IG5vdCBiZSBQREZlc2NhcGVkXCIpXHJcbiAgICAgIC8vdGh1cywgcGRmRXNjYXBlIGVhY2ggY29tcG9uZW50IHNlcGFyYXRlbHlcclxuICAgICAgd2hpbGUgKGxlbi0tKSB7XHJcbiAgICAgICAgY3VyRGEgPSBzYS5zaGlmdCgpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgY3VyRGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgIGRhLnB1c2goY3VyRGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkodGV4dCkgJiZcclxuICAgICAgICAgICAgKGN1ckRhLmxlbmd0aCA9PT0gMSB8fFxyXG4gICAgICAgICAgICAgIChjdXJEYVsxXSA9PT0gdW5kZWZpbmVkICYmIGN1ckRhWzJdID09PSB1bmRlZmluZWQpKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGRhLnB1c2goY3VyRGFbMF0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGEucHVzaChbY3VyRGFbMF0sIGN1ckRhWzFdLCBjdXJEYVsyXV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZGE7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1RleHRCeUZ1bmN0aW9uKHRleHQsIHByb2Nlc3NpbmdGdW5jdGlvbikge1xyXG4gICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICBpZiAodHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICByZXN1bHQgPSBwcm9jZXNzaW5nRnVuY3Rpb24odGV4dClbMF07XHJcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xyXG4gICAgICAgIC8vd2UgZG9uJ3Qgd2FudCB0byBkZXN0cm95IG9yaWdpbmFsIHRleHQgYXJyYXksIHNvIGNsb25pbmcgaXRcclxuICAgICAgICB2YXIgc2EgPSB0ZXh0LmNvbmNhdCgpO1xyXG4gICAgICAgIHZhciBkYSA9IFtdO1xyXG4gICAgICAgIHZhciBsZW4gPSBzYS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGN1ckRhO1xyXG4gICAgICAgIHZhciB0bXBSZXN1bHQ7XHJcbiAgICAgICAgLy93ZSBkbyBhcnJheS5qb2luKCd0ZXh0IHRoYXQgbXVzdCBub3QgYmUgUERGZXNjYXBlZFwiKVxyXG4gICAgICAgIC8vdGh1cywgcGRmRXNjYXBlIGVhY2ggY29tcG9uZW50IHNlcGFyYXRlbHlcclxuICAgICAgICB3aGlsZSAobGVuLS0pIHtcclxuICAgICAgICAgIGN1ckRhID0gc2Euc2hpZnQoKTtcclxuICAgICAgICAgIGlmICh0eXBlb2YgY3VyRGEgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgZGEucHVzaChwcm9jZXNzaW5nRnVuY3Rpb24oY3VyRGEpWzBdKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjdXJEYSkgJiYgdHlwZW9mIGN1ckRhWzBdID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHRtcFJlc3VsdCA9IHByb2Nlc3NpbmdGdW5jdGlvbihjdXJEYVswXSwgY3VyRGFbMV0sIGN1ckRhWzJdKTtcclxuICAgICAgICAgICAgZGEucHVzaChbdG1wUmVzdWx0WzBdLCB0bXBSZXN1bHRbMV0sIHRtcFJlc3VsdFsyXV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQgPSBkYTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vQ2hlY2sgaWYgdGV4dCBpcyBvZiB0eXBlIFN0cmluZ1xyXG4gICAgdmFyIHRleHRJc09mVHlwZVN0cmluZyA9IGZhbHNlO1xyXG4gICAgdmFyIHRtcFRleHRJc09mVHlwZVN0cmluZyA9IHRydWU7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIHRleHRJc09mVHlwZVN0cmluZyA9IHRydWU7XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGV4dCkpIHtcclxuICAgICAgLy93ZSBkb24ndCB3YW50IHRvIGRlc3Ryb3kgb3JpZ2luYWwgdGV4dCBhcnJheSwgc28gY2xvbmluZyBpdFxyXG4gICAgICB2YXIgc2EgPSB0ZXh0LmNvbmNhdCgpO1xyXG4gICAgICBkYSA9IFtdO1xyXG4gICAgICB2YXIgbGVuID0gc2EubGVuZ3RoO1xyXG4gICAgICB2YXIgY3VyRGE7XHJcbiAgICAgIC8vd2UgZG8gYXJyYXkuam9pbigndGV4dCB0aGF0IG11c3Qgbm90IGJlIFBERmVzY2FwZWRcIilcclxuICAgICAgLy90aHVzLCBwZGZFc2NhcGUgZWFjaCBjb21wb25lbnQgc2VwYXJhdGVseVxyXG4gICAgICB3aGlsZSAobGVuLS0pIHtcclxuICAgICAgICBjdXJEYSA9IHNhLnNoaWZ0KCk7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdHlwZW9mIGN1ckRhICE9PSBcInN0cmluZ1wiIHx8XHJcbiAgICAgICAgICAoQXJyYXkuaXNBcnJheShjdXJEYSkgJiYgdHlwZW9mIGN1ckRhWzBdICE9PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdG1wVGV4dElzT2ZUeXBlU3RyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRleHRJc09mVHlwZVN0cmluZyA9IHRtcFRleHRJc09mVHlwZVN0cmluZztcclxuICAgIH1cclxuICAgIGlmICh0ZXh0SXNPZlR5cGVTdHJpbmcgPT09IGZhbHNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAnVHlwZSBvZiB0ZXh0IG11c3QgYmUgc3RyaW5nIG9yIEFycmF5LiBcIicgK1xyXG4gICAgICAgICAgdGV4dCArXHJcbiAgICAgICAgICAnXCIgaXMgbm90IHJlY29nbml6ZWQuJ1xyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vSWYgdGhlcmUgYXJlIGFueSBuZXdsaW5lcyBpbiB0ZXh0LCB3ZSBhc3N1bWVcclxuICAgIC8vdGhlIHVzZXIgd2FudGVkIHRvIHByaW50IG11bHRpcGxlIGxpbmVzLCBzbyBicmVhayB0aGVcclxuICAgIC8vdGV4dCB1cCBpbnRvIGFuIGFycmF5LiBJZiB0aGUgdGV4dCBpcyBhbHJlYWR5IGFuIGFycmF5LFxyXG4gICAgLy93ZSBhc3N1bWUgdGhlIHVzZXIga25vd3Mgd2hhdCB0aGV5IGFyZSBkb2luZy5cclxuICAgIC8vQ29udmVydCB0ZXh0IGludG8gYW4gYXJyYXkgYW55d2F5IHRvIHNpbXBsaWZ5XHJcbiAgICAvL2xhdGVyIGNvZGUuXHJcblxyXG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGlmICh0ZXh0Lm1hdGNoKC9bXFxyP1xcbl0vKSkge1xyXG4gICAgICAgIHRleHQgPSB0ZXh0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi9nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0ZXh0ID0gW3RleHRdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9iYXNlbGluZVxyXG4gICAgdmFyIGhlaWdodCA9IGFjdGl2ZUZvbnRTaXplIC8gc2NvcGUuaW50ZXJuYWwuc2NhbGVGYWN0b3I7XHJcbiAgICB2YXIgZGVzY2VudCA9IGhlaWdodCAqIChsaW5lSGVpZ2h0IC0gMSk7XHJcblxyXG4gICAgc3dpdGNoIChvcHRpb25zLmJhc2VsaW5lKSB7XHJcbiAgICAgIGNhc2UgXCJib3R0b21cIjpcclxuICAgICAgICB5IC09IGRlc2NlbnQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJ0b3BcIjpcclxuICAgICAgICB5ICs9IGhlaWdodCAtIGRlc2NlbnQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJoYW5naW5nXCI6XHJcbiAgICAgICAgeSArPSBoZWlnaHQgLSAyICogZGVzY2VudDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIm1pZGRsZVwiOlxyXG4gICAgICAgIHkgKz0gaGVpZ2h0IC8gMiAtIGRlc2NlbnQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJpZGVvZ3JhcGhpY1wiOlxyXG4gICAgICBjYXNlIFwiYWxwaGFiZXRpY1wiOlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIC8vIGRvIG5vdGhpbmcsIGV2ZXJ5dGhpbmcgaXMgZmluZVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbXVsdGlsaW5lXHJcbiAgICBtYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGggfHwgMDtcclxuXHJcbiAgICBpZiAobWF4V2lkdGggPiAwKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHRleHQgPSBzY29wZS5zcGxpdFRleHRUb1NpemUodGV4dCwgbWF4V2lkdGgpO1xyXG4gICAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0ZXh0KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XHJcbiAgICAgICAgdGV4dCA9IHRleHQucmVkdWNlKGZ1bmN0aW9uKGFjYywgdGV4dExpbmUpIHtcclxuICAgICAgICAgIHJldHVybiBhY2MuY29uY2F0KHNjb3BlLnNwbGl0VGV4dFRvU2l6ZSh0ZXh0TGluZSwgbWF4V2lkdGgpKTtcclxuICAgICAgICB9LCBbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2NyZWF0aW5nIFBheWxvYWQtT2JqZWN0IHRvIG1ha2UgdGV4dCBieVJlZlxyXG4gICAgcGF5bG9hZCA9IHtcclxuICAgICAgdGV4dDogdGV4dCxcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeSxcclxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcclxuICAgICAgbXV0ZXg6IHtcclxuICAgICAgICBwZGZFc2NhcGU6IHBkZkVzY2FwZSxcclxuICAgICAgICBhY3RpdmVGb250S2V5OiBhY3RpdmVGb250S2V5LFxyXG4gICAgICAgIGZvbnRzOiBmb250cyxcclxuICAgICAgICBhY3RpdmVGb250U2l6ZTogYWN0aXZlRm9udFNpemVcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGV2ZW50cy5wdWJsaXNoKFwicHJlUHJvY2Vzc1RleHRcIiwgcGF5bG9hZCk7XHJcblxyXG4gICAgdGV4dCA9IHBheWxvYWQudGV4dDtcclxuICAgIG9wdGlvbnMgPSBwYXlsb2FkLm9wdGlvbnM7XHJcblxyXG4gICAgLy9hbmdsZVxyXG4gICAgYW5nbGUgPSBvcHRpb25zLmFuZ2xlO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgdHJhbnNmb3JtYXRpb25NYXRyaXggaW5zdGFuY2VvZiBNYXRyaXggPT09IGZhbHNlICYmXHJcbiAgICAgIGFuZ2xlICYmXHJcbiAgICAgIHR5cGVvZiBhbmdsZSA9PT0gXCJudW1iZXJcIlxyXG4gICAgKSB7XHJcbiAgICAgIGFuZ2xlICo9IE1hdGguUEkgLyAxODA7XHJcblxyXG4gICAgICBpZiAob3B0aW9ucy5yb3RhdGlvbkRpcmVjdGlvbiA9PT0gMCkge1xyXG4gICAgICAgIGFuZ2xlID0gLWFuZ2xlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoYXBpTW9kZSA9PT0gQXBpTW9kZS5BRFZBTkNFRCkge1xyXG4gICAgICAgIGFuZ2xlID0gLWFuZ2xlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcclxuICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZSk7XHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeChjLCBzLCAtcywgYywgMCwgMCk7XHJcbiAgICB9IGVsc2UgaWYgKGFuZ2xlICYmIGFuZ2xlIGluc3RhbmNlb2YgTWF0cml4KSB7XHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uTWF0cml4ID0gYW5nbGU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFwaU1vZGUgPT09IEFwaU1vZGUuQURWQU5DRUQgJiYgIXRyYW5zZm9ybWF0aW9uTWF0cml4KSB7XHJcbiAgICAgIHRyYW5zZm9ybWF0aW9uTWF0cml4ID0gaWRlbnRpdHlNYXRyaXg7XHJcbiAgICB9XHJcblxyXG4gICAgLy9jaGFyU3BhY2VcclxuXHJcbiAgICBjaGFyU3BhY2UgPSBvcHRpb25zLmNoYXJTcGFjZSB8fCBhY3RpdmVDaGFyU3BhY2U7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjaGFyU3BhY2UgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgeHRyYSArPSBocGYoc2NhbGUoY2hhclNwYWNlKSkgKyBcIiBUY1xcblwiO1xyXG4gICAgICB0aGlzLnNldENoYXJTcGFjZSh0aGlzLmdldENoYXJTcGFjZSgpIHx8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIGhvcml6b250YWxTY2FsZSA9IG9wdGlvbnMuaG9yaXpvbnRhbFNjYWxlO1xyXG4gICAgaWYgKHR5cGVvZiBob3Jpem9udGFsU2NhbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgeHRyYSArPSBocGYoaG9yaXpvbnRhbFNjYWxlICogMTAwKSArIFwiIFR6XFxuXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy9sYW5nXHJcblxyXG4gICAgdmFyIGxhbmcgPSBvcHRpb25zLmxhbmc7XHJcblxyXG4gICAgaWYgKGxhbmcpIHtcclxuICAgICAgLy8gICAgeHRyYSArPSBcIi9MYW5nIChcIiArIGxhbmcgK1wiKVxcblwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcmVuZGVyaW5nTW9kZVxyXG4gICAgdmFyIHJlbmRlcmluZ01vZGUgPSAtMTtcclxuICAgIHZhciBwYXJtUmVuZGVyaW5nTW9kZSA9XHJcbiAgICAgIHR5cGVvZiBvcHRpb25zLnJlbmRlcmluZ01vZGUgIT09IFwidW5kZWZpbmVkXCJcclxuICAgICAgICA/IG9wdGlvbnMucmVuZGVyaW5nTW9kZVxyXG4gICAgICAgIDogb3B0aW9ucy5zdHJva2U7XHJcbiAgICB2YXIgcGFnZUNvbnRleHQgPSBzY29wZS5pbnRlcm5hbC5nZXRDdXJyZW50UGFnZUluZm8oKS5wYWdlQ29udGV4dDtcclxuXHJcbiAgICBzd2l0Y2ggKHBhcm1SZW5kZXJpbmdNb2RlKSB7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgY2FzZSBmYWxzZTpcclxuICAgICAgY2FzZSBcImZpbGxcIjpcclxuICAgICAgICByZW5kZXJpbmdNb2RlID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICBjYXNlIHRydWU6XHJcbiAgICAgIGNhc2UgXCJzdHJva2VcIjpcclxuICAgICAgICByZW5kZXJpbmdNb2RlID0gMTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICBjYXNlIFwiZmlsbFRoZW5TdHJva2VcIjpcclxuICAgICAgICByZW5kZXJpbmdNb2RlID0gMjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICBjYXNlIFwiaW52aXNpYmxlXCI6XHJcbiAgICAgICAgcmVuZGVyaW5nTW9kZSA9IDM7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNDpcclxuICAgICAgY2FzZSBcImZpbGxBbmRBZGRGb3JDbGlwcGluZ1wiOlxyXG4gICAgICAgIHJlbmRlcmluZ01vZGUgPSA0O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDU6XHJcbiAgICAgIGNhc2UgXCJzdHJva2VBbmRBZGRQYXRoRm9yQ2xpcHBpbmdcIjpcclxuICAgICAgICByZW5kZXJpbmdNb2RlID0gNTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA2OlxyXG4gICAgICBjYXNlIFwiZmlsbFRoZW5TdHJva2VBbmRBZGRUb1BhdGhGb3JDbGlwcGluZ1wiOlxyXG4gICAgICAgIHJlbmRlcmluZ01vZGUgPSA2O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDc6XHJcbiAgICAgIGNhc2UgXCJhZGRUb1BhdGhGb3JDbGlwcGluZ1wiOlxyXG4gICAgICAgIHJlbmRlcmluZ01vZGUgPSA3O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB1c2VkUmVuZGVyaW5nTW9kZSA9XHJcbiAgICAgIHR5cGVvZiBwYWdlQ29udGV4dC51c2VkUmVuZGVyaW5nTW9kZSAhPT0gXCJ1bmRlZmluZWRcIlxyXG4gICAgICAgID8gcGFnZUNvbnRleHQudXNlZFJlbmRlcmluZ01vZGVcclxuICAgICAgICA6IC0xO1xyXG5cclxuICAgIC8vaWYgdGhlIGNvZGVyIHdyb3RlIGl0IGV4cGxpY2l0bHkgdG8gdXNlIGEgc3BlY2lmaWNcclxuICAgIC8vcmVuZGVyaW5nTW9kZSwgdGhlbiB1c2UgaXRcclxuICAgIGlmIChyZW5kZXJpbmdNb2RlICE9PSAtMSkge1xyXG4gICAgICB4dHJhICs9IHJlbmRlcmluZ01vZGUgKyBcIiBUclxcblwiO1xyXG4gICAgICAvL290aGVyd2lzZSBjaGVjayBpZiB3ZSB1c2VkIHRoZSByZW5kZXJpbmcgTW9kZSBhbHJlYWR5XHJcbiAgICAgIC8vaWYgc28gdGhlbiBzZXQgdGhlIHJlbmRlcmluZyBNb2RlLi4uXHJcbiAgICB9IGVsc2UgaWYgKHVzZWRSZW5kZXJpbmdNb2RlICE9PSAtMSkge1xyXG4gICAgICB4dHJhICs9IFwiMCBUclxcblwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZW5kZXJpbmdNb2RlICE9PSAtMSkge1xyXG4gICAgICBwYWdlQ29udGV4dC51c2VkUmVuZGVyaW5nTW9kZSA9IHJlbmRlcmluZ01vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy9hbGlnblxyXG4gICAgYWxpZ24gPSBvcHRpb25zLmFsaWduIHx8IFwibGVmdFwiO1xyXG4gICAgdmFyIGxlYWRpbmcgPSBhY3RpdmVGb250U2l6ZSAqIGxpbmVIZWlnaHQ7XHJcbiAgICB2YXIgcGFnZVdpZHRoID0gc2NvcGUuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTtcclxuICAgIHZhciBhY3RpdmVGb250ID0gZm9udHNbYWN0aXZlRm9udEtleV07XHJcbiAgICBjaGFyU3BhY2UgPSBvcHRpb25zLmNoYXJTcGFjZSB8fCBhY3RpdmVDaGFyU3BhY2U7XHJcbiAgICBtYXhXaWR0aCA9IG9wdGlvbnMubWF4V2lkdGggfHwgMDtcclxuXHJcbiAgICB2YXIgbGluZVdpZHRocztcclxuICAgIGZsYWdzID0gT2JqZWN0LmFzc2lnbih7IGF1dG9lbmNvZGU6IHRydWUsIG5vQk9NOiB0cnVlIH0sIG9wdGlvbnMuZmxhZ3MpO1xyXG5cclxuICAgIHZhciB3b3JkU3BhY2luZ1BlckxpbmUgPSBbXTtcclxuICAgIHZhciBmaW5kV2lkdGggPSBmdW5jdGlvbih2KSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgKHNjb3BlLmdldFN0cmluZ1VuaXRXaWR0aCh2LCB7XHJcbiAgICAgICAgICBmb250OiBhY3RpdmVGb250LFxyXG4gICAgICAgICAgY2hhclNwYWNlOiBjaGFyU3BhY2UsXHJcbiAgICAgICAgICBmb250U2l6ZTogYWN0aXZlRm9udFNpemUsXHJcbiAgICAgICAgICBkb0tlcm5pbmc6IGZhbHNlXHJcbiAgICAgICAgfSkgKlxyXG4gICAgICAgICAgYWN0aXZlRm9udFNpemUpIC9cclxuICAgICAgICBzY2FsZUZhY3RvclxyXG4gICAgICApO1xyXG4gICAgfTtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGV4dCkgPT09IFwiW29iamVjdCBBcnJheV1cIikge1xyXG4gICAgICBkYSA9IHRyYW5zZm9ybVRleHRUb1NwZWNpYWxBcnJheSh0ZXh0KTtcclxuICAgICAgdmFyIG5ld1k7XHJcbiAgICAgIGlmIChhbGlnbiAhPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICBsaW5lV2lkdGhzID0gZGEubWFwKGZpbmRXaWR0aCk7XHJcbiAgICAgIH1cclxuICAgICAgLy9UaGUgZmlyc3QgbGluZSB1c2VzIHRoZSBcIm1haW5cIiBUZCBzZXR0aW5nLFxyXG4gICAgICAvL2FuZCB0aGUgc3Vic2VxdWVudCBsaW5lcyBhcmUgb2Zmc2V0IGJ5IHRoZVxyXG4gICAgICAvL3ByZXZpb3VzIGxpbmUncyB4IGNvb3JkaW5hdGUuXHJcbiAgICAgIHZhciBwcmV2V2lkdGggPSAwO1xyXG4gICAgICB2YXIgbmV3WDtcclxuICAgICAgaWYgKGFsaWduID09PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAvL1RoZSBwYXNzZWQgaW4geCBjb29yZGluYXRlIGRlZmluZXMgdGhlXHJcbiAgICAgICAgLy9yaWdodG1vc3QgcG9pbnQgb2YgdGhlIHRleHQuXHJcbiAgICAgICAgeCAtPSBsaW5lV2lkdGhzWzBdO1xyXG4gICAgICAgIHRleHQgPSBbXTtcclxuICAgICAgICBsZW4gPSBkYS5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgbmV3WCA9IGdldEhvcml6b250YWxDb29yZGluYXRlKHgpO1xyXG4gICAgICAgICAgICBuZXdZID0gZ2V0VmVydGljYWxDb29yZGluYXRlKHkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV3WCA9IHNjYWxlKHByZXZXaWR0aCAtIGxpbmVXaWR0aHNbaV0pO1xyXG4gICAgICAgICAgICBuZXdZID0gLWxlYWRpbmc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0ZXh0LnB1c2goW2RhW2ldLCBuZXdYLCBuZXdZXSk7XHJcbiAgICAgICAgICBwcmV2V2lkdGggPSBsaW5lV2lkdGhzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gXCJjZW50ZXJcIikge1xyXG4gICAgICAgIC8vVGhlIHBhc3NlZCBpbiB4IGNvb3JkaW5hdGUgZGVmaW5lc1xyXG4gICAgICAgIC8vdGhlIGNlbnRlciBwb2ludC5cclxuICAgICAgICB4IC09IGxpbmVXaWR0aHNbMF0gLyAyO1xyXG4gICAgICAgIHRleHQgPSBbXTtcclxuICAgICAgICBsZW4gPSBkYS5sZW5ndGg7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKykge1xyXG4gICAgICAgICAgaWYgKGogPT09IDApIHtcclxuICAgICAgICAgICAgbmV3WCA9IGdldEhvcml6b250YWxDb29yZGluYXRlKHgpO1xyXG4gICAgICAgICAgICBuZXdZID0gZ2V0VmVydGljYWxDb29yZGluYXRlKHkpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV3WCA9IHNjYWxlKChwcmV2V2lkdGggLSBsaW5lV2lkdGhzW2pdKSAvIDIpO1xyXG4gICAgICAgICAgICBuZXdZID0gLWxlYWRpbmc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0ZXh0LnB1c2goW2RhW2pdLCBuZXdYLCBuZXdZXSk7XHJcbiAgICAgICAgICBwcmV2V2lkdGggPSBsaW5lV2lkdGhzW2pdO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICB0ZXh0ID0gW107XHJcbiAgICAgICAgbGVuID0gZGEubGVuZ3RoO1xyXG4gICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgbGVuOyBoKyspIHtcclxuICAgICAgICAgIHRleHQucHVzaChkYVtoXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGFsaWduID09PSBcImp1c3RpZnlcIiAmJiBhY3RpdmVGb250LmVuY29kaW5nID09PSBcIklkZW50aXR5LUhcIikge1xyXG4gICAgICAgIC8vIHdoZW4gdXNpbmcgdW5pY29kZSBmb250cywgd29yZFNwYWNlUGVyTGluZSBkb2VzIG5vdCBhcHBseVxyXG4gICAgICAgIHRleHQgPSBbXTtcclxuICAgICAgICBsZW4gPSBkYS5sZW5ndGg7XHJcbiAgICAgICAgbWF4V2lkdGggPSBtYXhXaWR0aCAhPT0gMCA/IG1heFdpZHRoIDogcGFnZVdpZHRoO1xyXG4gICAgICAgIGxldCBiYWNrVG9TdGFydFggPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbGVuOyBsKyspIHtcclxuICAgICAgICAgIG5ld1kgPSBsID09PSAwID8gZ2V0VmVydGljYWxDb29yZGluYXRlKHkpIDogLWxlYWRpbmc7XHJcbiAgICAgICAgICBuZXdYID0gbCA9PT0gMCA/IGdldEhvcml6b250YWxDb29yZGluYXRlKHgpIDogYmFja1RvU3RhcnRYO1xyXG4gICAgICAgICAgaWYgKGwgPCBsZW4gLSAxKSB7XHJcbiAgICAgICAgICAgIGxldCBzcGFjaW5nID0gc2NhbGUoXHJcbiAgICAgICAgICAgICAgKG1heFdpZHRoIC0gbGluZVdpZHRoc1tsXSkgLyAoZGFbbF0uc3BsaXQoXCIgXCIpLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxldCB3b3JkcyA9IGRhW2xdLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgdGV4dC5wdXNoKFt3b3Jkc1swXSArIFwiIFwiLCBuZXdYLCBuZXdZXSk7XHJcbiAgICAgICAgICAgIGJhY2tUb1N0YXJ0WCA9IDA7IC8vIGRpc3RhbmNlIHRvIHJlc2V0IGJhY2sgdG8gdGhlIGxlZnRcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGxldCBzaGlmdEFtb3VudCA9XHJcbiAgICAgICAgICAgICAgICAoZmluZFdpZHRoKHdvcmRzW2kgLSAxXSArIFwiIFwiICsgd29yZHNbaV0pIC1cclxuICAgICAgICAgICAgICAgICAgZmluZFdpZHRoKHdvcmRzW2ldKSkgKlxyXG4gICAgICAgICAgICAgICAgICBzY2FsZUZhY3RvciArXHJcbiAgICAgICAgICAgICAgICBzcGFjaW5nO1xyXG4gICAgICAgICAgICAgIGlmIChpID09IHdvcmRzLmxlbmd0aCAtIDEpIHRleHQucHVzaChbd29yZHNbaV0sIHNoaWZ0QW1vdW50LCAwXSk7XHJcbiAgICAgICAgICAgICAgZWxzZSB0ZXh0LnB1c2goW3dvcmRzW2ldICsgXCIgXCIsIHNoaWZ0QW1vdW50LCAwXSk7XHJcbiAgICAgICAgICAgICAgYmFja1RvU3RhcnRYIC09IHNoaWZ0QW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0ZXh0LnB1c2goW2RhW2xdLCBuZXdYLCBuZXdZXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRleHQucHVzaChbXCJcIiwgYmFja1RvU3RhcnRYLCAwXSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09IFwianVzdGlmeVwiKSB7XHJcbiAgICAgICAgdGV4dCA9IFtdO1xyXG4gICAgICAgIGxlbiA9IGRhLmxlbmd0aDtcclxuICAgICAgICBtYXhXaWR0aCA9IG1heFdpZHRoICE9PSAwID8gbWF4V2lkdGggOiBwYWdlV2lkdGg7XHJcbiAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsZW47IGwrKykge1xyXG4gICAgICAgICAgbmV3WSA9IGwgPT09IDAgPyBnZXRWZXJ0aWNhbENvb3JkaW5hdGUoeSkgOiAtbGVhZGluZztcclxuICAgICAgICAgIG5ld1ggPSBsID09PSAwID8gZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUoeCkgOiAwO1xyXG4gICAgICAgICAgaWYgKGwgPCBsZW4gLSAxKSB7XHJcbiAgICAgICAgICAgIHdvcmRTcGFjaW5nUGVyTGluZS5wdXNoKFxyXG4gICAgICAgICAgICAgIGhwZihcclxuICAgICAgICAgICAgICAgIHNjYWxlKFxyXG4gICAgICAgICAgICAgICAgICAobWF4V2lkdGggLSBsaW5lV2lkdGhzW2xdKSAvIChkYVtsXS5zcGxpdChcIiBcIikubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3b3JkU3BhY2luZ1BlckxpbmUucHVzaCgwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRleHQucHVzaChbZGFbbF0sIG5ld1gsIG5ld1ldKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgJ1VucmVjb2duaXplZCBhbGlnbm1lbnQgb3B0aW9uLCB1c2UgXCJsZWZ0XCIsIFwiY2VudGVyXCIsIFwicmlnaHRcIiBvciBcImp1c3RpZnlcIi4nXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vUjJMXHJcbiAgICB2YXIgZG9SZXZlcnNpbmcgPSB0eXBlb2Ygb3B0aW9ucy5SMkwgPT09IFwiYm9vbGVhblwiID8gb3B0aW9ucy5SMkwgOiBSMkw7XHJcbiAgICBpZiAoZG9SZXZlcnNpbmcgPT09IHRydWUpIHtcclxuICAgICAgdGV4dCA9IHByb2Nlc3NUZXh0QnlGdW5jdGlvbih0ZXh0LCBmdW5jdGlvbih0ZXh0LCBwb3NYLCBwb3NZKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgIHRleHRcclxuICAgICAgICAgICAgLnNwbGl0KFwiXCIpXHJcbiAgICAgICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAgICAgLmpvaW4oXCJcIiksXHJcbiAgICAgICAgICBwb3NYLFxyXG4gICAgICAgICAgcG9zWVxyXG4gICAgICAgIF07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY3JlYXRpbmcgUGF5bG9hZC1PYmplY3QgdG8gbWFrZSB0ZXh0IGJ5UmVmXHJcbiAgICBwYXlsb2FkID0ge1xyXG4gICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICB4OiB4LFxyXG4gICAgICB5OiB5LFxyXG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxyXG4gICAgICBtdXRleDoge1xyXG4gICAgICAgIHBkZkVzY2FwZTogcGRmRXNjYXBlLFxyXG4gICAgICAgIGFjdGl2ZUZvbnRLZXk6IGFjdGl2ZUZvbnRLZXksXHJcbiAgICAgICAgZm9udHM6IGZvbnRzLFxyXG4gICAgICAgIGFjdGl2ZUZvbnRTaXplOiBhY3RpdmVGb250U2l6ZVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgZXZlbnRzLnB1Ymxpc2goXCJwb3N0UHJvY2Vzc1RleHRcIiwgcGF5bG9hZCk7XHJcblxyXG4gICAgdGV4dCA9IHBheWxvYWQudGV4dDtcclxuICAgIGlzSGV4ID0gcGF5bG9hZC5tdXRleC5pc0hleCB8fCBmYWxzZTtcclxuXHJcbiAgICAvL0VzY2FwaW5nXHJcbiAgICB2YXIgYWN0aXZlRm9udEVuY29kaW5nID0gZm9udHNbYWN0aXZlRm9udEtleV0uZW5jb2Rpbmc7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBhY3RpdmVGb250RW5jb2RpbmcgPT09IFwiV2luQW5zaUVuY29kaW5nXCIgfHxcclxuICAgICAgYWN0aXZlRm9udEVuY29kaW5nID09PSBcIlN0YW5kYXJkRW5jb2RpbmdcIlxyXG4gICAgKSB7XHJcbiAgICAgIHRleHQgPSBwcm9jZXNzVGV4dEJ5RnVuY3Rpb24odGV4dCwgZnVuY3Rpb24odGV4dCwgcG9zWCwgcG9zWSkge1xyXG4gICAgICAgIHJldHVybiBbRVNDKHRleHQpLCBwb3NYLCBwb3NZXTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGEgPSB0cmFuc2Zvcm1UZXh0VG9TcGVjaWFsQXJyYXkodGV4dCk7XHJcblxyXG4gICAgdGV4dCA9IFtdO1xyXG4gICAgdmFyIFNUUklORyA9IDA7XHJcbiAgICB2YXIgQVJSQVkgPSAxO1xyXG4gICAgdmFyIHZhcmlhbnQgPSBBcnJheS5pc0FycmF5KGRhWzBdKSA/IEFSUkFZIDogU1RSSU5HO1xyXG4gICAgdmFyIHBvc1g7XHJcbiAgICB2YXIgcG9zWTtcclxuICAgIHZhciBjb250ZW50O1xyXG4gICAgdmFyIHdvcmRTcGFjaW5nID0gXCJcIjtcclxuXHJcbiAgICB2YXIgZ2VuZXJhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uKFxyXG4gICAgICBwYXJtUG9zWCxcclxuICAgICAgcGFybVBvc1ksXHJcbiAgICAgIHBhcm1UcmFuc2Zvcm1hdGlvbk1hdHJpeFxyXG4gICAgKSB7XHJcbiAgICAgIHZhciBwb3NpdGlvbiA9IFwiXCI7XHJcbiAgICAgIGlmIChwYXJtVHJhbnNmb3JtYXRpb25NYXRyaXggaW5zdGFuY2VvZiBNYXRyaXgpIHtcclxuICAgICAgICAvLyBJdCBpcyBraW5kIG9mIG1vcmUgaW50dWl0aXZlIHRvIGFwcGx5IGEgcGxhaW4gcm90YXRpb24gYXJvdW5kIHRoZSB0ZXh0IGFuY2hvciBzZXQgYnkgeCBhbmQgeVxyXG4gICAgICAgIC8vIGJ1dCB3aGVuIHRoZSB1c2VyIHN1cHBsaWVzIGFuIGFyYml0cmFyeSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXgsIHRoZSB4IGFuZCB5IG9mZnNldHMgc2hvdWxkIGJlIGFwcGxpZWRcclxuICAgICAgICAvLyBpbiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0gZXN0YWJsaXNoZWQgYnkgdGhpcyBtYXRyaXhcclxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYW5nbGUgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgIHBhcm1UcmFuc2Zvcm1hdGlvbk1hdHJpeCA9IG1hdHJpeE11bHQoXHJcbiAgICAgICAgICAgIHBhcm1UcmFuc2Zvcm1hdGlvbk1hdHJpeCxcclxuICAgICAgICAgICAgbmV3IE1hdHJpeCgxLCAwLCAwLCAxLCBwYXJtUG9zWCwgcGFybVBvc1kpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwYXJtVHJhbnNmb3JtYXRpb25NYXRyaXggPSBtYXRyaXhNdWx0KFxyXG4gICAgICAgICAgICBuZXcgTWF0cml4KDEsIDAsIDAsIDEsIHBhcm1Qb3NYLCBwYXJtUG9zWSksXHJcbiAgICAgICAgICAgIHBhcm1UcmFuc2Zvcm1hdGlvbk1hdHJpeFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhcGlNb2RlID09PSBBcGlNb2RlLkFEVkFOQ0VEKSB7XHJcbiAgICAgICAgICBwYXJtVHJhbnNmb3JtYXRpb25NYXRyaXggPSBtYXRyaXhNdWx0KFxyXG4gICAgICAgICAgICBuZXcgTWF0cml4KDEsIDAsIDAsIC0xLCAwLCAwKSxcclxuICAgICAgICAgICAgcGFybVRyYW5zZm9ybWF0aW9uTWF0cml4XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSBwYXJtVHJhbnNmb3JtYXRpb25NYXRyaXguam9pbihcIiBcIikgKyBcIiBUbVxcblwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uID0gaHBmKHBhcm1Qb3NYKSArIFwiIFwiICsgaHBmKHBhcm1Qb3NZKSArIFwiIFRkXFxuXCI7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKHZhciBsaW5lSW5kZXggPSAwOyBsaW5lSW5kZXggPCBkYS5sZW5ndGg7IGxpbmVJbmRleCsrKSB7XHJcbiAgICAgIHdvcmRTcGFjaW5nID0gXCJcIjtcclxuXHJcbiAgICAgIHN3aXRjaCAodmFyaWFudCkge1xyXG4gICAgICAgIGNhc2UgQVJSQVk6XHJcbiAgICAgICAgICBjb250ZW50ID1cclxuICAgICAgICAgICAgKGlzSGV4ID8gXCI8XCIgOiBcIihcIikgKyBkYVtsaW5lSW5kZXhdWzBdICsgKGlzSGV4ID8gXCI+XCIgOiBcIilcIik7XHJcbiAgICAgICAgICBwb3NYID0gcGFyc2VGbG9hdChkYVtsaW5lSW5kZXhdWzFdKTtcclxuICAgICAgICAgIHBvc1kgPSBwYXJzZUZsb2F0KGRhW2xpbmVJbmRleF1bMl0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBTVFJJTkc6XHJcbiAgICAgICAgICBjb250ZW50ID0gKGlzSGV4ID8gXCI8XCIgOiBcIihcIikgKyBkYVtsaW5lSW5kZXhdICsgKGlzSGV4ID8gXCI+XCIgOiBcIilcIik7XHJcbiAgICAgICAgICBwb3NYID0gZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUoeCk7XHJcbiAgICAgICAgICBwb3NZID0gZ2V0VmVydGljYWxDb29yZGluYXRlKHkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0eXBlb2Ygd29yZFNwYWNpbmdQZXJMaW5lICE9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgdHlwZW9mIHdvcmRTcGFjaW5nUGVyTGluZVtsaW5lSW5kZXhdICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIHdvcmRTcGFjaW5nID0gd29yZFNwYWNpbmdQZXJMaW5lW2xpbmVJbmRleF0gKyBcIiBUd1xcblwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobGluZUluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgdGV4dC5wdXNoKFxyXG4gICAgICAgICAgd29yZFNwYWNpbmcgK1xyXG4gICAgICAgICAgICBnZW5lcmF0ZVBvc2l0aW9uKHBvc1gsIHBvc1ksIHRyYW5zZm9ybWF0aW9uTWF0cml4KSArXHJcbiAgICAgICAgICAgIGNvbnRlbnRcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2UgaWYgKHZhcmlhbnQgPT09IFNUUklORykge1xyXG4gICAgICAgIHRleHQucHVzaCh3b3JkU3BhY2luZyArIGNvbnRlbnQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHZhcmlhbnQgPT09IEFSUkFZKSB7XHJcbiAgICAgICAgdGV4dC5wdXNoKFxyXG4gICAgICAgICAgd29yZFNwYWNpbmcgK1xyXG4gICAgICAgICAgICBnZW5lcmF0ZVBvc2l0aW9uKHBvc1gsIHBvc1ksIHRyYW5zZm9ybWF0aW9uTWF0cml4KSArXHJcbiAgICAgICAgICAgIGNvbnRlbnRcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dCA9IHZhcmlhbnQgPT09IFNUUklORyA/IHRleHQuam9pbihcIiBUalxcblQqIFwiKSA6IHRleHQuam9pbihcIiBUalxcblwiKTtcclxuICAgIHRleHQgKz0gXCIgVGpcXG5cIjtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gXCJCVFxcbi9cIjtcclxuICAgIHJlc3VsdCArPSBhY3RpdmVGb250S2V5ICsgXCIgXCIgKyBhY3RpdmVGb250U2l6ZSArIFwiIFRmXFxuXCI7IC8vIGZvbnQgZmFjZSwgc3R5bGUsIHNpemVcclxuICAgIHJlc3VsdCArPSBocGYoYWN0aXZlRm9udFNpemUgKiBsaW5lSGVpZ2h0KSArIFwiIFRMXFxuXCI7IC8vIGxpbmUgc3BhY2luZ1xyXG4gICAgcmVzdWx0ICs9IHRleHRDb2xvciArIFwiXFxuXCI7XHJcbiAgICByZXN1bHQgKz0geHRyYTtcclxuICAgIHJlc3VsdCArPSB0ZXh0O1xyXG4gICAgcmVzdWx0ICs9IFwiRVRcIjtcclxuXHJcbiAgICBvdXQocmVzdWx0KTtcclxuICAgIHVzZWRGb250c1thY3RpdmVGb250S2V5XSA9IHRydWU7XHJcbiAgICByZXR1cm4gc2NvcGU7XHJcbiAgfTtcclxuXHJcbiAgLy8gUERGIHN1cHBvcnRzIHRoZXNlIHBhdGggcGFpbnRpbmcgYW5kIGNsaXAgcGF0aCBvcGVyYXRvcnM6XHJcbiAgLy9cclxuICAvLyBTIC0gc3Ryb2tlXHJcbiAgLy8gcyAtIGNsb3NlL3N0cm9rZVxyXG4gIC8vIGYgKEYpIC0gZmlsbCBub24temVyb1xyXG4gIC8vIGYqIC0gZmlsbCBldmVub2RkXHJcbiAgLy8gQiAtIGZpbGwgc3Ryb2tlIG5vbnplcm9cclxuICAvLyBCKiAtIGZpbGwgc3Ryb2tlIGV2ZW5vZGRcclxuICAvLyBiIC0gY2xvc2UgZmlsbCBzdHJva2Ugbm9uemVyb1xyXG4gIC8vIGIqIC0gY2xvc2UgZmlsbCBzdHJva2UgZXZlbm9kZFxyXG4gIC8vIG4gLSBub3RoaW5nIChjb25zdW1lIHBhdGgpXHJcbiAgLy8gVyAtIGNsaXAgbm9uemVyb1xyXG4gIC8vIFcqIC0gY2xpcCBldmVub2RkXHJcbiAgLy9cclxuICAvLyBJbiBvcmRlciB0byBrZWVwIHRoZSBBUEkgc21hbGwsIHdlIG9taXQgdGhlIGNsb3NlLWFuZC1maWxsL3N0cm9rZSBvcGVyYXRvcnMgYW5kIHByb3ZpZGUgYSBzZXBhcmF0ZSBjbG9zZSgpXHJcbiAgLy8gbWV0aG9kLlxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQG5hbWUgY2xpcFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBydWxlIE9ubHkgcG9zc2libGUgdmFsdWUgaXMgJ2V2ZW5vZGQnXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAZGVzY3JpcHRpb24gQWxsIC5jbGlwKCkgYWZ0ZXIgY2FsbGluZyBkcmF3aW5nIG9wcyB3aXRoIGEgc3R5bGUgYXJndW1lbnQgb2YgbnVsbC5cclxuICAgKi9cclxuICB2YXIgY2xpcCA9IChBUEkuX19wcml2YXRlX18uY2xpcCA9IEFQSS5jbGlwID0gZnVuY3Rpb24ocnVsZSkge1xyXG4gICAgLy8gQ2FsbCAuY2xpcCgpIGFmdGVyIGNhbGxpbmcgZHJhd2luZyBvcHMgd2l0aCBhIHN0eWxlIGFyZ3VtZW50IG9mIG51bGxcclxuICAgIC8vIFcgaXMgdGhlIFBERiBjbGlwcGluZyBvcFxyXG4gICAgaWYgKFwiZXZlbm9kZFwiID09PSBydWxlKSB7XHJcbiAgICAgIG91dChcIlcqXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb3V0KFwiV1wiKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBjbGlwRXZlbk9kZFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQGRlc2NyaXB0aW9uIE1vZGlmeSB0aGUgY3VycmVudCBjbGlwIHBhdGggYnkgaW50ZXJzZWN0aW5nIGl0IHdpdGggdGhlIGN1cnJlbnQgcGF0aCB1c2luZyB0aGUgZXZlbi1vZGQgcnVsZS4gTm90ZVxyXG4gICAqIHRoYXQgdGhpcyB3aWxsIE5PVCBjb25zdW1lIHRoZSBjdXJyZW50IHBhdGguIEluIG9yZGVyIHRvIG9ubHkgdXNlIHRoaXMgcGF0aCBmb3IgY2xpcHBpbmcgY2FsbFxyXG4gICAqIHtAbGluayBBUEkuZGlzY2FyZFBhdGh9IGFmdGVyd2FyZHMuXHJcbiAgICovXHJcbiAgQVBJLmNsaXBFdmVuT2RkID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gY2xpcChcImV2ZW5vZGRcIik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29uc3VtZXMgdGhlIGN1cnJlbnQgcGF0aCB3aXRob3V0IGFueSBlZmZlY3QuIE1haW5seSB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGgge0BsaW5rIGNsaXB9IG9yXHJcbiAgICoge0BsaW5rIGNsaXBFdmVuT2RkfS4gVGhlIFBERiBcIm5cIiBvcGVyYXRvci5cclxuICAgKiBAbmFtZSBkaXNjYXJkUGF0aFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLmRpc2NhcmRQYXRoID0gQVBJLmRpc2NhcmRQYXRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICBvdXQoXCJuXCIpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGlzVmFsaWRTdHlsZSA9IChBUEkuX19wcml2YXRlX18uaXNWYWxpZFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcclxuICAgIHZhciB2YWxpZFN0eWxlVmFyaWFudHMgPSBbXHJcbiAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgbnVsbCxcclxuICAgICAgXCJTXCIsXHJcbiAgICAgIFwiRFwiLFxyXG4gICAgICBcIkZcIixcclxuICAgICAgXCJERlwiLFxyXG4gICAgICBcIkZEXCIsXHJcbiAgICAgIFwiZlwiLFxyXG4gICAgICBcImYqXCIsXHJcbiAgICAgIFwiQlwiLFxyXG4gICAgICBcIkIqXCIsXHJcbiAgICAgIFwiblwiXHJcbiAgICBdO1xyXG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgaWYgKHZhbGlkU3R5bGVWYXJpYW50cy5pbmRleE9mKHN0eWxlKSAhPT0gLTEpIHtcclxuICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSk7XHJcblxyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXREZWZhdWx0UGF0aE9wZXJhdGlvbiA9IEFQSS5zZXREZWZhdWx0UGF0aE9wZXJhdGlvbiA9IGZ1bmN0aW9uKFxyXG4gICAgb3BlcmF0b3JcclxuICApIHtcclxuICAgIGlmIChpc1ZhbGlkU3R5bGUob3BlcmF0b3IpKSB7XHJcbiAgICAgIGRlZmF1bHRQYXRoT3BlcmF0aW9uID0gb3BlcmF0b3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0U3R5bGUgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldFN0eWxlID0gQVBJLmdldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcclxuICAgIC8vIHNlZSBwYXRoLXBhaW50aW5nIG9wZXJhdG9ycyBpbiBQREYgc3BlY1xyXG4gICAgdmFyIG9wID0gZGVmYXVsdFBhdGhPcGVyYXRpb247IC8vIHN0cm9rZVxyXG5cclxuICAgIHN3aXRjaCAoc3R5bGUpIHtcclxuICAgICAgY2FzZSBcIkRcIjpcclxuICAgICAgY2FzZSBcIlNcIjpcclxuICAgICAgICBvcCA9IFwiU1wiOyAvLyBzdHJva2VcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkZcIjpcclxuICAgICAgICBvcCA9IFwiZlwiOyAvLyBmaWxsXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJGRFwiOlxyXG4gICAgICBjYXNlIFwiREZcIjpcclxuICAgICAgICBvcCA9IFwiQlwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZlwiOlxyXG4gICAgICBjYXNlIFwiZipcIjpcclxuICAgICAgY2FzZSBcIkJcIjpcclxuICAgICAgY2FzZSBcIkIqXCI6XHJcbiAgICAgICAgLypcclxuICAgICAgICAgICAgICAgQWxsb3cgZGlyZWN0IHVzZSBvZiB0aGVzZSBQREYgcGF0aC1wYWludGluZyBvcGVyYXRvcnM6XHJcbiAgICAgICAgICAgICAgIC0gZiAgICBmaWxsIHVzaW5nIG5vbnplcm8gd2luZGluZyBudW1iZXIgcnVsZVxyXG4gICAgICAgICAgICAgICAtIGYqICAgIGZpbGwgdXNpbmcgZXZlbi1vZGQgcnVsZVxyXG4gICAgICAgICAgICAgICAtIEIgICAgZmlsbCB0aGVuIHN0cm9rZSB3aXRoIGZpbGwgdXNpbmcgbm9uLXplcm8gd2luZGluZyBudW1iZXIgcnVsZVxyXG4gICAgICAgICAgICAgICAtIEIqICAgIGZpbGwgdGhlbiBzdHJva2Ugd2l0aCBmaWxsIHVzaW5nIGV2ZW4tb2RkIHJ1bGVcclxuICAgICAgICAgICAgICAgKi9cclxuICAgICAgICBvcCA9IHN0eWxlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9wO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBDbG9zZSB0aGUgY3VycmVudCBwYXRoLiBUaGUgUERGIFwiaFwiIG9wZXJhdG9yLlxyXG4gICAqIEBuYW1lIGNsb3NlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKi9cclxuICB2YXIgY2xvc2UgPSAoQVBJLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBvdXQoXCJoXCIpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0cm9rZSB0aGUgcGF0aC4gVGhlIFBERiBcIlNcIiBvcGVyYXRvci5cclxuICAgKiBAbmFtZSBzdHJva2VcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqL1xyXG4gIEFQSS5zdHJva2UgPSBmdW5jdGlvbigpIHtcclxuICAgIG91dChcIlNcIik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBGaWxsIHRoZSBjdXJyZW50IHBhdGggdXNpbmcgdGhlIG5vbnplcm8gd2luZGluZyBudW1iZXIgcnVsZS4gSWYgYSBwYXR0ZXJuIGlzIHByb3ZpZGVkLCB0aGUgcGF0aCB3aWxsIGJlIGZpbGxlZFxyXG4gICAqIHdpdGggdGhpcyBwYXR0ZXJuLCBvdGhlcndpc2Ugd2l0aCB0aGUgY3VycmVudCBmaWxsIGNvbG9yLiBFcXVpdmFsZW50IHRvIHRoZSBQREYgXCJmXCIgb3BlcmF0b3IuXHJcbiAgICogQG5hbWUgZmlsbFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7UGF0dGVybkRhdGE9fSBwYXR0ZXJuIElmIHByb3ZpZGVkIHRoZSBwYXRoIHdpbGwgYmUgZmlsbGVkIHdpdGggdGhpcyBwYXR0ZXJuXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKi9cclxuICBBUEkuZmlsbCA9IGZ1bmN0aW9uKHBhdHRlcm4pIHtcclxuICAgIGZpbGxXaXRoT3B0aW9uYWxQYXR0ZXJuKFwiZlwiLCBwYXR0ZXJuKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbGwgdGhlIGN1cnJlbnQgcGF0aCB1c2luZyB0aGUgZXZlbi1vZGQgcnVsZS4gVGhlIFBERiBmKiBvcGVyYXRvci5cclxuICAgKiBAc2VlIEFQSS5maWxsXHJcbiAgICogQG5hbWUgZmlsbEV2ZW5PZGRcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcGFyYW0ge1BhdHRlcm5EYXRhPX0gcGF0dGVybiBJZiBwcm92aWRlZCB0aGUgcGF0aCB3aWxsIGJlIGZpbGxlZCB3aXRoIHRoaXMgcGF0dGVyblxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICovXHJcbiAgQVBJLmZpbGxFdmVuT2RkID0gZnVuY3Rpb24ocGF0dGVybikge1xyXG4gICAgZmlsbFdpdGhPcHRpb25hbFBhdHRlcm4oXCJmKlwiLCBwYXR0ZXJuKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbGwgdXNpbmcgdGhlIG5vbnplcm8gd2luZGluZyBudW1iZXIgcnVsZSBhbmQgdGhlbiBzdHJva2UgdGhlIGN1cnJlbnQgUGF0aC4gVGhlIFBERiBcIkJcIiBvcGVyYXRvci5cclxuICAgKiBAc2VlIEFQSS5maWxsXHJcbiAgICogQG5hbWUgZmlsbFN0cm9rZVxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7UGF0dGVybkRhdGE9fSBwYXR0ZXJuIElmIHByb3ZpZGVkIHRoZSBwYXRoIHdpbGwgYmUgc3Ryb2tlZCB3aXRoIHRoaXMgcGF0dGVyblxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICovXHJcbiAgQVBJLmZpbGxTdHJva2UgPSBmdW5jdGlvbihwYXR0ZXJuKSB7XHJcbiAgICBmaWxsV2l0aE9wdGlvbmFsUGF0dGVybihcIkJcIiwgcGF0dGVybik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBGaWxsIHVzaW5nIHRoZSBldmVuLW9kZCBydWxlIGFuZCB0aGVuIHN0cm9rZSB0aGUgY3VycmVudCBQYXRoLiBUaGUgUERGIFwiQlwiIG9wZXJhdG9yLlxyXG4gICAqIEBzZWUgQVBJLmZpbGxcclxuICAgKiBAbmFtZSBmaWxsU3Ryb2tlRXZlbk9kZFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7UGF0dGVybkRhdGE9fSBwYXR0ZXJuIElmIHByb3ZpZGVkIHRoZSBwYXRoIHdpbGwgYmUgZmlsbC1zdHJva2VkIHdpdGggdGhpcyBwYXR0ZXJuXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKi9cclxuICBBUEkuZmlsbFN0cm9rZUV2ZW5PZGQgPSBmdW5jdGlvbihwYXR0ZXJuKSB7XHJcbiAgICBmaWxsV2l0aE9wdGlvbmFsUGF0dGVybihcIkIqXCIsIHBhdHRlcm4pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGZpbGxXaXRoT3B0aW9uYWxQYXR0ZXJuID0gZnVuY3Rpb24oc3R5bGUsIHBhdHRlcm4pIHtcclxuICAgIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICBmaWxsV2l0aFBhdHRlcm4ocGF0dGVybiwgc3R5bGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb3V0KHN0eWxlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgcHV0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xyXG4gICAgaWYgKFxyXG4gICAgICBzdHlsZSA9PT0gbnVsbCB8fFxyXG4gICAgICAoYXBpTW9kZSA9PT0gQXBpTW9kZS5BRFZBTkNFRCAmJiBzdHlsZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzdHlsZSA9IGdldFN0eWxlKHN0eWxlKTtcclxuXHJcbiAgICAvLyBzdHJva2luZyAvIGZpbGxpbmcgLyBib3RoIHRoZSBwYXRoXHJcbiAgICBvdXQoc3R5bGUpO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGNsb25lVGlsaW5nUGF0dGVybihwYXR0ZXJuS2V5LCBib3VuZGluZ0JveCwgeFN0ZXAsIHlTdGVwLCBtYXRyaXgpIHtcclxuICAgIHZhciBjbG9uZSA9IG5ldyBUaWxpbmdQYXR0ZXJuKFxyXG4gICAgICBib3VuZGluZ0JveCB8fCB0aGlzLmJvdW5kaW5nQm94LFxyXG4gICAgICB4U3RlcCB8fCB0aGlzLnhTdGVwLFxyXG4gICAgICB5U3RlcCB8fCB0aGlzLnlTdGVwLFxyXG4gICAgICB0aGlzLmdTdGF0ZSxcclxuICAgICAgbWF0cml4IHx8IHRoaXMubWF0cml4XHJcbiAgICApO1xyXG4gICAgY2xvbmUuc3RyZWFtID0gdGhpcy5zdHJlYW07XHJcbiAgICB2YXIga2V5ID0gcGF0dGVybktleSArIFwiJCRcIiArIHRoaXMuY2xvbmVJbmRleCsrICsgXCIkJFwiO1xyXG4gICAgYWRkUGF0dGVybihrZXksIGNsb25lKTtcclxuICAgIHJldHVybiBjbG9uZTtcclxuICB9XHJcblxyXG4gIHZhciBmaWxsV2l0aFBhdHRlcm4gPSBmdW5jdGlvbihwYXR0ZXJuRGF0YSwgc3R5bGUpIHtcclxuICAgIHZhciBwYXR0ZXJuSWQgPSBwYXR0ZXJuTWFwW3BhdHRlcm5EYXRhLmtleV07XHJcbiAgICB2YXIgcGF0dGVybiA9IHBhdHRlcm5zW3BhdHRlcm5JZF07XHJcblxyXG4gICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBTaGFkaW5nUGF0dGVybikge1xyXG4gICAgICBvdXQoXCJxXCIpO1xyXG5cclxuICAgICAgb3V0KGNsaXBSdWxlRnJvbVN0eWxlKHN0eWxlKSk7XHJcblxyXG4gICAgICBpZiAocGF0dGVybi5nU3RhdGUpIHtcclxuICAgICAgICBBUEkuc2V0R1N0YXRlKHBhdHRlcm4uZ1N0YXRlKTtcclxuICAgICAgfVxyXG4gICAgICBvdXQocGF0dGVybkRhdGEubWF0cml4LnRvU3RyaW5nKCkgKyBcIiBjbVwiKTtcclxuICAgICAgb3V0KFwiL1wiICsgcGF0dGVybklkICsgXCIgc2hcIik7XHJcbiAgICAgIG91dChcIlFcIik7XHJcbiAgICB9IGVsc2UgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBUaWxpbmdQYXR0ZXJuKSB7XHJcbiAgICAgIC8vIHBkZiBkcmF3cyBwYXR0ZXJucyBzdGFydGluZyBhdCB0aGUgYm90dG9tIGxlZnQgY29ybmVyIGFuZCB0aGV5IGFyZSBub3QgYWZmZWN0ZWQgYnkgdGhlIGdsb2JhbCB0cmFuc2Zvcm1hdGlvbixcclxuICAgICAgLy8gc28gd2UgbXVzdCBmbGlwIHRoZW1cclxuICAgICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoMSwgMCwgMCwgLTEsIDAsIGdldFBhZ2VIZWlnaHQoKSk7XHJcblxyXG4gICAgICBpZiAocGF0dGVybkRhdGEubWF0cml4KSB7XHJcbiAgICAgICAgbWF0cml4ID0gbWF0cml4Lm11bHRpcGx5KHBhdHRlcm5EYXRhLm1hdHJpeCB8fCBpZGVudGl0eU1hdHJpeCk7XHJcbiAgICAgICAgLy8gd2UgY2Fubm90IGFwcGx5IGEgbWF0cml4IHRvIHRoZSBwYXR0ZXJuIG9uIHVzZSBzbyB3ZSBtdXN0IGFidXNlIHRoZSBwYXR0ZXJuIG1hdHJpeCBhbmQgY3JlYXRlIG5ldyBpbnN0YW5jZXNcclxuICAgICAgICAvLyBmb3IgZWFjaCB1c2VcclxuICAgICAgICBwYXR0ZXJuSWQgPSBjbG9uZVRpbGluZ1BhdHRlcm4uY2FsbChcclxuICAgICAgICAgIHBhdHRlcm4sXHJcbiAgICAgICAgICBwYXR0ZXJuRGF0YS5rZXksXHJcbiAgICAgICAgICBwYXR0ZXJuRGF0YS5ib3VuZGluZ0JveCxcclxuICAgICAgICAgIHBhdHRlcm5EYXRhLnhTdGVwLFxyXG4gICAgICAgICAgcGF0dGVybkRhdGEueVN0ZXAsXHJcbiAgICAgICAgICBtYXRyaXhcclxuICAgICAgICApLmlkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBvdXQoXCJxXCIpO1xyXG4gICAgICBvdXQoXCIvUGF0dGVybiBjc1wiKTtcclxuICAgICAgb3V0KFwiL1wiICsgcGF0dGVybklkICsgXCIgc2NuXCIpO1xyXG5cclxuICAgICAgaWYgKHBhdHRlcm4uZ1N0YXRlKSB7XHJcbiAgICAgICAgQVBJLnNldEdTdGF0ZShwYXR0ZXJuLmdTdGF0ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG91dChzdHlsZSk7XHJcbiAgICAgIG91dChcIlFcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGNsaXBSdWxlRnJvbVN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcclxuICAgIHN3aXRjaCAoc3R5bGUpIHtcclxuICAgICAgY2FzZSBcImZcIjpcclxuICAgICAgY2FzZSBcIkZcIjpcclxuICAgICAgICByZXR1cm4gXCJXIG5cIjtcclxuICAgICAgY2FzZSBcImYqXCI6XHJcbiAgICAgICAgcmV0dXJuIFwiVyogblwiO1xyXG4gICAgICBjYXNlIFwiQlwiOlxyXG4gICAgICAgIHJldHVybiBcIlcgU1wiO1xyXG4gICAgICBjYXNlIFwiQipcIjpcclxuICAgICAgICByZXR1cm4gXCJXKiBTXCI7XHJcblxyXG4gICAgICAvLyB0aGVzZSB0d28gYXJlIGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMgKGluIHRoZSBwYXN0LCBjYWxsaW5nIGFueSBwcmltaXRpdmUgbWV0aG9kIHdpdGggYSBzaGFkaW5nIHBhdHRlcm5cclxuICAgICAgLy8gYW5kIFwiblwiL1wiU1wiIGFzIHN0eWxlIHdvdWxkIHN0aWxsIGZpbGwvZmlsbCBhbmQgc3Ryb2tlIHRoZSBwYXRoKVxyXG4gICAgICBjYXNlIFwiU1wiOlxyXG4gICAgICAgIHJldHVybiBcIlcgU1wiO1xyXG4gICAgICBjYXNlIFwiblwiOlxyXG4gICAgICAgIHJldHVybiBcIlcgblwiO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEJlZ2luIGEgbmV3IHN1YnBhdGggYnkgbW92aW5nIHRoZSBjdXJyZW50IHBvaW50IHRvIGNvb3JkaW5hdGVzICh4LCB5KS4gVGhlIFBERiBcIm1cIiBvcGVyYXRvci5cclxuICAgKiBAcGFyYW0ge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAgICogQG5hbWUgbW92ZVRvXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKi9cclxuICB2YXIgbW92ZVRvID0gKEFQSS5tb3ZlVG8gPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICBvdXQoaHBmKHNjYWxlKHgpKSArIFwiIFwiICsgaHBmKHRyYW5zZm9ybVNjYWxlWSh5KSkgKyBcIiBtXCIpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEFwcGVuZCBhIHN0cmFpZ2h0IGxpbmUgc2VnbWVudCBmcm9tIHRoZSBjdXJyZW50IHBvaW50IHRvIHRoZSBwb2ludCAoeCwgeSkuIFRoZSBQREYgXCJsXCIgb3BlcmF0b3IuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICAgKiBAcGFyYW0ge251bWJlcn0geVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBsaW5lVG9cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqL1xyXG4gIHZhciBsaW5lVG8gPSAoQVBJLmxpbmVUbyA9IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgIG91dChocGYoc2NhbGUoeCkpICsgXCIgXCIgKyBocGYodHJhbnNmb3JtU2NhbGVZKHkpKSArIFwiIGxcIik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQXBwZW5kIGEgY3ViaWMgQsOpemllciBjdXJ2ZSB0byB0aGUgY3VycmVudCBwYXRoLiBUaGUgY3VydmUgc2hhbGwgZXh0ZW5kIGZyb20gdGhlIGN1cnJlbnQgcG9pbnQgdG8gdGhlIHBvaW50XHJcbiAgICogKHgzLCB5MyksIHVzaW5nICh4MSwgeTEpIGFuZCAoeDIsIHkyKSBhcyBCw6l6aWVyIGNvbnRyb2wgcG9pbnRzLiBUaGUgbmV3IGN1cnJlbnQgcG9pbnQgc2hhbGwgYmUgKHgzLCB4MykuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHgxXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkxXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHgyXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkyXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHgzXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkzXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGN1cnZlVG9cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqL1xyXG4gIHZhciBjdXJ2ZVRvID0gKEFQSS5jdXJ2ZVRvID0gZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xyXG4gICAgb3V0KFxyXG4gICAgICBbXHJcbiAgICAgICAgaHBmKHNjYWxlKHgxKSksXHJcbiAgICAgICAgaHBmKHRyYW5zZm9ybVNjYWxlWSh5MSkpLFxyXG4gICAgICAgIGhwZihzY2FsZSh4MikpLFxyXG4gICAgICAgIGhwZih0cmFuc2Zvcm1TY2FsZVkoeTIpKSxcclxuICAgICAgICBocGYoc2NhbGUoeDMpKSxcclxuICAgICAgICBocGYodHJhbnNmb3JtU2NhbGVZKHkzKSksXHJcbiAgICAgICAgXCJjXCJcclxuICAgICAgXS5qb2luKFwiIFwiKVxyXG4gICAgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGEgbGluZSBvbiB0aGUgY3VycmVudCBwYWdlLlxyXG4gICAqXHJcbiAgICogQG5hbWUgbGluZVxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4MVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5MVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4MlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5MlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZSBBIHN0cmluZyBzcGVjaWZ5aW5nIHRoZSBwYWludGluZyBzdHlsZSBvciBudWxsLiAgVmFsaWQgc3R5bGVzIGluY2x1ZGU6ICdTJyBbZGVmYXVsdF0gLSBzdHJva2UsICdGJyAtIGZpbGwsICBhbmQgJ0RGJyAob3IgJ0ZEJykgLSAgZmlsbCB0aGVuIHN0cm9rZS4gQSBudWxsIHZhbHVlIHBvc3Rwb25lcyBzZXR0aW5nIHRoZSBzdHlsZSBzbyB0aGF0IGEgc2hhcGUgbWF5IGJlIGNvbXBvc2VkIHVzaW5nIG11bHRpcGxlIG1ldGhvZCBjYWxscy4gVGhlIGxhc3QgZHJhd2luZyBtZXRob2QgY2FsbCB1c2VkIHRvIGRlZmluZSB0aGUgc2hhcGUgc2hvdWxkIG5vdCBoYXZlIGEgbnVsbCBzdHlsZSBhcmd1bWVudC4gZGVmYXVsdDogJ1MnXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18ubGluZSA9IEFQSS5saW5lID0gZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIsIHN0eWxlKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGlzTmFOKHgxKSB8fFxyXG4gICAgICBpc05hTih5MSkgfHxcclxuICAgICAgaXNOYU4oeDIpIHx8XHJcbiAgICAgIGlzTmFOKHkyKSB8fFxyXG4gICAgICAhaXNWYWxpZFN0eWxlKHN0eWxlKVxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5saW5lXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGFwaU1vZGUgPT09IEFwaU1vZGUuQ09NUEFUKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmxpbmVzKFtbeDIgLSB4MSwgeTIgLSB5MV1dLCB4MSwgeTEsIFsxLCAxXSwgc3R5bGUgfHwgXCJTXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMubGluZXMoW1t4MiAtIHgxLCB5MiAtIHkxXV0sIHgxLCB5MSwgWzEsIDFdKS5zdHJva2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQYXR0ZXJuRGF0YVxyXG4gICAqIHtNYXRyaXh8dW5kZWZpbmVkfSBtYXRyaXhcclxuICAgKiB7TnVtYmVyfHVuZGVmaW5lZH0geFN0ZXBcclxuICAgKiB7TnVtYmVyfHVuZGVmaW5lZH0geVN0ZXBcclxuICAgKiB7QXJyYXkuPE51bWJlcj58dW5kZWZpbmVkfSBib3VuZGluZ0JveFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIHNlcmllcyBvZiBjdXJ2ZXMgKHN0cmFpZ2h0IGxpbmVzIG9yIGN1YmljIGJlemllciBjdXJ2ZXMpIHRvIGNhbnZhcywgc3RhcnRpbmcgYXQgYHhgLCBgeWAgY29vcmRpbmF0ZXMuXHJcbiAgICogQWxsIGRhdGEgcG9pbnRzIGluIGBsaW5lc2AgYXJlIHJlbGF0aXZlIHRvIGxhc3QgbGluZSBvcmlnaW4uXHJcbiAgICogYHhgLCBgeWAgYmVjb21lIHgxLHkxIGZvciBmaXJzdCBsaW5lIC8gY3VydmUgaW4gdGhlIHNldC5cclxuICAgKiBGb3IgbGluZXMgeW91IG9ubHkgbmVlZCB0byBzcGVjaWZ5IFt4MiwgeTJdIC0gKGVuZGluZyBwb2ludCkgdmVjdG9yIGFnYWluc3QgeDEsIHkxIHN0YXJ0aW5nIHBvaW50LlxyXG4gICAqIEZvciBiZXppZXIgY3VydmVzIHlvdSBuZWVkIHRvIHNwZWNpZnkgW3gyLHkyLHgzLHkzLHg0LHk0XSAtIHZlY3RvcnMgdG8gY29udHJvbCBwb2ludHMgMSwgMiwgZW5kaW5nIHBvaW50LiBBbGwgdmVjdG9ycyBhcmUgYWdhaW5zdCB0aGUgc3RhcnQgb2YgdGhlIGN1cnZlIC0geDEseTEuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZSAubGluZXMoW1syLDJdLFstMiwyXSxbMSwxLDIsMiwzLDNdLFsyLDFdXSwgMjEyLDExMCwgWzEsMV0sICdGJywgZmFsc2UpIC8vIGxpbmUsIGxpbmUsIGJlemllciBjdXJ2ZSwgbGluZVxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGxpbmVzIEFycmF5IG9mICp2ZWN0b3IqIHNoaWZ0cyBhcyBwYWlycyAobGluZXMpIG9yIHNleHRldHMgKGN1YmljIGJlemllciBjdXJ2ZXMpLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgbGVmdCBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCB1cHBlciBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIChEZWZhdWx0cyB0byBbMS4wLDEuMF0pIHgseSBTY2FsaW5nIGZhY3RvciBmb3IgYWxsIHZlY3RvcnMuIEVsZW1lbnRzIGNhbiBiZSBhbnkgZmxvYXRpbmcgbnVtYmVyIFN1Yi1vbmUgbWFrZXMgZHJhd2luZyBzbWFsbGVyLiBPdmVyLW9uZSBncm93cyB0aGUgZHJhd2luZy4gTmVnYXRpdmUgZmxpcHMgdGhlIGRpcmVjdGlvbi5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHN0eWxlIEEgc3RyaW5nIHNwZWNpZnlpbmcgdGhlIHBhaW50aW5nIHN0eWxlIG9yIG51bGwuIFZhbGlkIHN0eWxlcyBpbmNsdWRlOlxyXG4gICAqICdTJyBbZGVmYXVsdF0gLSBzdHJva2UsXHJcbiAgICogJ0YnIC0gZmlsbCxcclxuICAgKiBhbmQgJ0RGJyAob3IgJ0ZEJykgLSAgZmlsbCB0aGVuIHN0cm9rZS5cclxuICAgKiBJbiBcImNvbXBhdFwiIEFQSSBtb2RlLCBhIG51bGwgdmFsdWUgcG9zdHBvbmVzIHNldHRpbmcgdGhlIHN0eWxlIHNvIHRoYXQgYSBzaGFwZSBtYXkgYmUgY29tcG9zZWQgdXNpbmcgbXVsdGlwbGVcclxuICAgKiBtZXRob2QgY2FsbHMuIFRoZSBsYXN0IGRyYXdpbmcgbWV0aG9kIGNhbGwgdXNlZCB0byBkZWZpbmUgdGhlIHNoYXBlIHNob3VsZCBub3QgaGF2ZSBhIG51bGwgc3R5bGUgYXJndW1lbnQuXHJcbiAgICpcclxuICAgKiBJbiBcImFkdmFuY2VkXCIgQVBJIG1vZGUgdGhpcyBwYXJhbWV0ZXIgaXMgZGVwcmVjYXRlZC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW49fSBjbG9zZWQgSWYgdHJ1ZSwgdGhlIHBhdGggaXMgY2xvc2VkIHdpdGggYSBzdHJhaWdodCBsaW5lIGZyb20gdGhlIGVuZCBvZiB0aGUgbGFzdCBjdXJ2ZSB0byB0aGUgc3RhcnRpbmcgcG9pbnQuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBsaW5lc1xyXG4gICAqL1xyXG4gIEFQSS5fX3ByaXZhdGVfXy5saW5lcyA9IEFQSS5saW5lcyA9IGZ1bmN0aW9uKFxyXG4gICAgbGluZXMsXHJcbiAgICB4LFxyXG4gICAgeSxcclxuICAgIHNjYWxlLFxyXG4gICAgc3R5bGUsXHJcbiAgICBjbG9zZWRcclxuICApIHtcclxuICAgIHZhciBzY2FsZXgsIHNjYWxleSwgaSwgbCwgbGVnLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB0bXA7XHJcblxyXG4gICAgLy8gUHJlLUF1Z3VzdC0yMDEyIHRoZSBvcmRlciBvZiBhcmd1bWVudHMgd2FzIGZ1bmN0aW9uKHgsIHksIGxpbmVzLCBzY2FsZSwgc3R5bGUpXHJcbiAgICAvLyBpbiBlZmZvcnQgdG8gbWFrZSBhbGwgY2FsbHMgaGF2ZSBzaW1pbGFyIHNpZ25hdHVyZSBsaWtlXHJcbiAgICAvLyAgIGZ1bmN0aW9uKGNvbnRlbnQsIGNvb3JkaW5hdGVYLCBjb29yZGluYXRlWSAsIG1pc2NlbGxhbmVvdXMpXHJcbiAgICAvLyB0aGlzIG1ldGhvZCBoYWQgaXRzIGFyZ3MgZmxpcHBlZC5cclxuICAgIC8vIGNvZGUgYmVsb3cgYWxsb3dzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBvbGQgYXJnIG9yZGVyLlxyXG4gICAgaWYgKHR5cGVvZiBsaW5lcyA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICB0bXAgPSB5O1xyXG4gICAgICB5ID0geDtcclxuICAgICAgeCA9IGxpbmVzO1xyXG4gICAgICBsaW5lcyA9IHRtcDtcclxuICAgIH1cclxuXHJcbiAgICBzY2FsZSA9IHNjYWxlIHx8IFsxLCAxXTtcclxuICAgIGNsb3NlZCA9IGNsb3NlZCB8fCBmYWxzZTtcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGlzTmFOKHgpIHx8XHJcbiAgICAgIGlzTmFOKHkpIHx8XHJcbiAgICAgICFBcnJheS5pc0FycmF5KGxpbmVzKSB8fFxyXG4gICAgICAhQXJyYXkuaXNBcnJheShzY2FsZSkgfHxcclxuICAgICAgIWlzVmFsaWRTdHlsZShzdHlsZSkgfHxcclxuICAgICAgdHlwZW9mIGNsb3NlZCAhPT0gXCJib29sZWFuXCJcclxuICAgICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYubGluZXNcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3RhcnRpbmcgcG9pbnRcclxuICAgIG1vdmVUbyh4LCB5KTtcclxuXHJcbiAgICBzY2FsZXggPSBzY2FsZVswXTtcclxuICAgIHNjYWxleSA9IHNjYWxlWzFdO1xyXG4gICAgbCA9IGxpbmVzLmxlbmd0aDtcclxuICAgIC8vLCB4MiwgeTIgLy8gYmV6aWVyIG9ubHkuIEluIHBhZ2UgZGVmYXVsdCBtZWFzdXJlbWVudCBcInVuaXRzXCIsICphZnRlciogc2NhbGluZ1xyXG4gICAgLy8sIHgzLCB5MyAvLyBiZXppZXIgb25seS4gSW4gcGFnZSBkZWZhdWx0IG1lYXN1cmVtZW50IFwidW5pdHNcIiwgKmFmdGVyKiBzY2FsaW5nXHJcbiAgICAvLyBlbmRpbmcgcG9pbnQgZm9yIGFsbCwgbGluZXMgYW5kIGJlemllci4gLiBJbiBwYWdlIGRlZmF1bHQgbWVhc3VyZW1lbnQgXCJ1bml0c1wiLCAqYWZ0ZXIqIHNjYWxpbmdcclxuICAgIHg0ID0geDsgLy8gbGFzdCAvIGVuZGluZyBwb2ludCA9IHN0YXJ0aW5nIHBvaW50IGZvciBmaXJzdCBpdGVtLlxyXG4gICAgeTQgPSB5OyAvLyBsYXN0IC8gZW5kaW5nIHBvaW50ID0gc3RhcnRpbmcgcG9pbnQgZm9yIGZpcnN0IGl0ZW0uXHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gICAgICBsZWcgPSBsaW5lc1tpXTtcclxuICAgICAgaWYgKGxlZy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAvLyBzaW1wbGUgbGluZVxyXG4gICAgICAgIHg0ID0gbGVnWzBdICogc2NhbGV4ICsgeDQ7IC8vIGhlcmUgbGFzdCB4NCB3YXMgcHJpb3IgZW5kaW5nIHBvaW50XHJcbiAgICAgICAgeTQgPSBsZWdbMV0gKiBzY2FsZXkgKyB5NDsgLy8gaGVyZSBsYXN0IHk0IHdhcyBwcmlvciBlbmRpbmcgcG9pbnRcclxuICAgICAgICBsaW5lVG8oeDQsIHk0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBiZXppZXIgY3VydmVcclxuICAgICAgICB4MiA9IGxlZ1swXSAqIHNjYWxleCArIHg0OyAvLyBoZXJlIGxhc3QgeDQgaXMgcHJpb3IgZW5kaW5nIHBvaW50XHJcbiAgICAgICAgeTIgPSBsZWdbMV0gKiBzY2FsZXkgKyB5NDsgLy8gaGVyZSBsYXN0IHk0IGlzIHByaW9yIGVuZGluZyBwb2ludFxyXG4gICAgICAgIHgzID0gbGVnWzJdICogc2NhbGV4ICsgeDQ7IC8vIGhlcmUgbGFzdCB4NCBpcyBwcmlvciBlbmRpbmcgcG9pbnRcclxuICAgICAgICB5MyA9IGxlZ1szXSAqIHNjYWxleSArIHk0OyAvLyBoZXJlIGxhc3QgeTQgaXMgcHJpb3IgZW5kaW5nIHBvaW50XHJcbiAgICAgICAgeDQgPSBsZWdbNF0gKiBzY2FsZXggKyB4NDsgLy8gaGVyZSBsYXN0IHg0IHdhcyBwcmlvciBlbmRpbmcgcG9pbnRcclxuICAgICAgICB5NCA9IGxlZ1s1XSAqIHNjYWxleSArIHk0OyAvLyBoZXJlIGxhc3QgeTQgd2FzIHByaW9yIGVuZGluZyBwb2ludFxyXG4gICAgICAgIGN1cnZlVG8oeDIsIHkyLCB4MywgeTMsIHg0LCB5NCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2xvc2VkKSB7XHJcbiAgICAgIGNsb3NlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHV0U3R5bGUoc3R5bGUpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2ltaWxhciB0byB7QGxpbmsgQVBJLmxpbmVzfSBidXQgYWxsIGNvb3JkaW5hdGVzIGFyZSBpbnRlcnByZXRlZCBhcyBhYnNvbHV0ZSBjb29yZGluYXRlcyBpbnN0ZWFkIG9mIHJlbGF0aXZlLlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gbGluZXMgQW4gYXJyYXkgb2Yge29wOiBvcGVyYXRvciwgYzogY29vcmRpbmF0ZXN9IG9iamVjdCwgd2hlcmUgb3AgaXMgb25lIG9mIFwibVwiIChtb3ZlIHRvKSwgXCJsXCIgKGxpbmUgdG8pXHJcbiAgICogXCJjXCIgKGN1YmljIGJlemllciBjdXJ2ZSkgYW5kIFwiaFwiIChjbG9zZSAoc3ViKXBhdGgpKS4gYyBpcyBhbiBhcnJheSBvZiBjb29yZGluYXRlcy4gXCJtXCIgYW5kIFwibFwiIGV4cGVjdCB0d28sIFwiY1wiXHJcbiAgICogc2l4IGFuZCBcImhcIiBhbiBlbXB0eSBhcnJheSAob3IgdW5kZWZpbmVkKS5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIHBhdGhcclxuICAgKi9cclxuICBBUEkucGF0aCA9IGZ1bmN0aW9uKGxpbmVzKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBsZWcgPSBsaW5lc1tpXTtcclxuICAgICAgdmFyIGNvb3JkcyA9IGxlZy5jO1xyXG4gICAgICBzd2l0Y2ggKGxlZy5vcCkge1xyXG4gICAgICAgIGNhc2UgXCJtXCI6XHJcbiAgICAgICAgICBtb3ZlVG8oY29vcmRzWzBdLCBjb29yZHNbMV0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImxcIjpcclxuICAgICAgICAgIGxpbmVUbyhjb29yZHNbMF0sIGNvb3Jkc1sxXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiY1wiOlxyXG4gICAgICAgICAgY3VydmVUby5hcHBseSh0aGlzLCBjb29yZHMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImhcIjpcclxuICAgICAgICAgIGNsb3NlKCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSByZWN0YW5nbGUgdG8gUERGLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCBsZWZ0IGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0geSBDb29yZGluYXRlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KSBhZ2FpbnN0IHVwcGVyIGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gdyBXaWR0aCAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudClcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaCBIZWlnaHQgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzdHlsZSBBIHN0cmluZyBzcGVjaWZ5aW5nIHRoZSBwYWludGluZyBzdHlsZSBvciBudWxsLiBWYWxpZCBzdHlsZXMgaW5jbHVkZTpcclxuICAgKiAnUycgW2RlZmF1bHRdIC0gc3Ryb2tlLFxyXG4gICAqICdGJyAtIGZpbGwsXHJcbiAgICogYW5kICdERicgKG9yICdGRCcpIC0gIGZpbGwgdGhlbiBzdHJva2UuXHJcbiAgICogSW4gXCJjb21wYXRcIiBBUEkgbW9kZSwgYSBudWxsIHZhbHVlIHBvc3Rwb25lcyBzZXR0aW5nIHRoZSBzdHlsZSBzbyB0aGF0IGEgc2hhcGUgbWF5IGJlIGNvbXBvc2VkIHVzaW5nIG11bHRpcGxlXHJcbiAgICogbWV0aG9kIGNhbGxzLiBUaGUgbGFzdCBkcmF3aW5nIG1ldGhvZCBjYWxsIHVzZWQgdG8gZGVmaW5lIHRoZSBzaGFwZSBzaG91bGQgbm90IGhhdmUgYSBudWxsIHN0eWxlIGFyZ3VtZW50LlxyXG4gICAqXHJcbiAgICogSW4gXCJhZHZhbmNlZFwiIEFQSSBtb2RlIHRoaXMgcGFyYW1ldGVyIGlzIGRlcHJlY2F0ZWQuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSByZWN0XHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLnJlY3QgPSBBUEkucmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgsIHN0eWxlKSB7XHJcbiAgICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkgfHwgaXNOYU4odykgfHwgaXNOYU4oaCkgfHwgIWlzVmFsaWRTdHlsZShzdHlsZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLnJlY3RcIik7XHJcbiAgICB9XHJcbiAgICBpZiAoYXBpTW9kZSA9PT0gQXBpTW9kZS5DT01QQVQpIHtcclxuICAgICAgaCA9IC1oO1xyXG4gICAgfVxyXG5cclxuICAgIG91dChcclxuICAgICAgW1xyXG4gICAgICAgIGhwZihzY2FsZSh4KSksXHJcbiAgICAgICAgaHBmKHRyYW5zZm9ybVNjYWxlWSh5KSksXHJcbiAgICAgICAgaHBmKHNjYWxlKHcpKSxcclxuICAgICAgICBocGYoc2NhbGUoaCkpLFxyXG4gICAgICAgIFwicmVcIlxyXG4gICAgICBdLmpvaW4oXCIgXCIpXHJcbiAgICApO1xyXG5cclxuICAgIHB1dFN0eWxlKHN0eWxlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSB0cmlhbmdsZSB0byBQREYuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge251bWJlcn0geDEgQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCBsZWZ0IGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0geTEgQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCB1cHBlciBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHgyIENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgbGVmdCBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkyIENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgdXBwZXIgZWRnZSBvZiB0aGUgcGFnZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4MyBDb29yZGluYXRlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KSBhZ2FpbnN0IGxlZnQgZWRnZSBvZiB0aGUgcGFnZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5MyBDb29yZGluYXRlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KSBhZ2FpbnN0IHVwcGVyIGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHN0eWxlIEEgc3RyaW5nIHNwZWNpZnlpbmcgdGhlIHBhaW50aW5nIHN0eWxlIG9yIG51bGwuIFZhbGlkIHN0eWxlcyBpbmNsdWRlOlxyXG4gICAqICdTJyBbZGVmYXVsdF0gLSBzdHJva2UsXHJcbiAgICogJ0YnIC0gZmlsbCxcclxuICAgKiBhbmQgJ0RGJyAob3IgJ0ZEJykgLSAgZmlsbCB0aGVuIHN0cm9rZS5cclxuICAgKiBJbiBcImNvbXBhdFwiIEFQSSBtb2RlLCBhIG51bGwgdmFsdWUgcG9zdHBvbmVzIHNldHRpbmcgdGhlIHN0eWxlIHNvIHRoYXQgYSBzaGFwZSBtYXkgYmUgY29tcG9zZWQgdXNpbmcgbXVsdGlwbGVcclxuICAgKiBtZXRob2QgY2FsbHMuIFRoZSBsYXN0IGRyYXdpbmcgbWV0aG9kIGNhbGwgdXNlZCB0byBkZWZpbmUgdGhlIHNoYXBlIHNob3VsZCBub3QgaGF2ZSBhIG51bGwgc3R5bGUgYXJndW1lbnQuXHJcbiAgICpcclxuICAgKiBJbiBcImFkdmFuY2VkXCIgQVBJIG1vZGUgdGhpcyBwYXJhbWV0ZXIgaXMgZGVwcmVjYXRlZC5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIHRyaWFuZ2xlXHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLnRyaWFuZ2xlID0gQVBJLnRyaWFuZ2xlID0gZnVuY3Rpb24oXHJcbiAgICB4MSxcclxuICAgIHkxLFxyXG4gICAgeDIsXHJcbiAgICB5MixcclxuICAgIHgzLFxyXG4gICAgeTMsXHJcbiAgICBzdHlsZVxyXG4gICkge1xyXG4gICAgaWYgKFxyXG4gICAgICBpc05hTih4MSkgfHxcclxuICAgICAgaXNOYU4oeTEpIHx8XHJcbiAgICAgIGlzTmFOKHgyKSB8fFxyXG4gICAgICBpc05hTih5MikgfHxcclxuICAgICAgaXNOYU4oeDMpIHx8XHJcbiAgICAgIGlzTmFOKHkzKSB8fFxyXG4gICAgICAhaXNWYWxpZFN0eWxlKHN0eWxlKVxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi50cmlhbmdsZVwiKTtcclxuICAgIH1cclxuICAgIHRoaXMubGluZXMoXHJcbiAgICAgIFtcclxuICAgICAgICBbeDIgLSB4MSwgeTIgLSB5MV0sIC8vIHZlY3RvciB0byBwb2ludCAyXHJcbiAgICAgICAgW3gzIC0geDIsIHkzIC0geTJdLCAvLyB2ZWN0b3IgdG8gcG9pbnQgM1xyXG4gICAgICAgIFt4MSAtIHgzLCB5MSAtIHkzXSAvLyBjbG9zaW5nIHZlY3RvciBiYWNrIHRvIHBvaW50IDFcclxuICAgICAgXSxcclxuICAgICAgeDEsXHJcbiAgICAgIHkxLCAvLyBzdGFydCBvZiBwYXRoXHJcbiAgICAgIFsxLCAxXSxcclxuICAgICAgc3R5bGUsXHJcbiAgICAgIHRydWVcclxuICAgICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgcmVjdGFuZ2xlIHdpdGggcm91bmRlZCBjb3JuZXJzIHRvIFBERi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgbGVmdCBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCB1cHBlciBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHcgV2lkdGggKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGggSGVpZ2h0IChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByeCBSYWRpdXMgYWxvbmcgeCBheGlzIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByeSBSYWRpdXMgYWxvbmcgeSBheGlzIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc3R5bGUgQSBzdHJpbmcgc3BlY2lmeWluZyB0aGUgcGFpbnRpbmcgc3R5bGUgb3IgbnVsbC4gVmFsaWQgc3R5bGVzIGluY2x1ZGU6XHJcbiAgICogJ1MnIFtkZWZhdWx0XSAtIHN0cm9rZSxcclxuICAgKiAnRicgLSBmaWxsLFxyXG4gICAqIGFuZCAnREYnIChvciAnRkQnKSAtICBmaWxsIHRoZW4gc3Ryb2tlLlxyXG4gICAqIEluIFwiY29tcGF0XCIgQVBJIG1vZGUsIGEgbnVsbCB2YWx1ZSBwb3N0cG9uZXMgc2V0dGluZyB0aGUgc3R5bGUgc28gdGhhdCBhIHNoYXBlIG1heSBiZSBjb21wb3NlZCB1c2luZyBtdWx0aXBsZVxyXG4gICAqIG1ldGhvZCBjYWxscy4gVGhlIGxhc3QgZHJhd2luZyBtZXRob2QgY2FsbCB1c2VkIHRvIGRlZmluZSB0aGUgc2hhcGUgc2hvdWxkIG5vdCBoYXZlIGEgbnVsbCBzdHlsZSBhcmd1bWVudC5cclxuICAgKlxyXG4gICAqIEluIFwiYWR2YW5jZWRcIiBBUEkgbW9kZSB0aGlzIHBhcmFtZXRlciBpcyBkZXByZWNhdGVkLlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgcm91bmRlZFJlY3RcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18ucm91bmRlZFJlY3QgPSBBUEkucm91bmRlZFJlY3QgPSBmdW5jdGlvbihcclxuICAgIHgsXHJcbiAgICB5LFxyXG4gICAgdyxcclxuICAgIGgsXHJcbiAgICByeCxcclxuICAgIHJ5LFxyXG4gICAgc3R5bGVcclxuICApIHtcclxuICAgIGlmIChcclxuICAgICAgaXNOYU4oeCkgfHxcclxuICAgICAgaXNOYU4oeSkgfHxcclxuICAgICAgaXNOYU4odykgfHxcclxuICAgICAgaXNOYU4oaCkgfHxcclxuICAgICAgaXNOYU4ocngpIHx8XHJcbiAgICAgIGlzTmFOKHJ5KSB8fFxyXG4gICAgICAhaXNWYWxpZFN0eWxlKHN0eWxlKVxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5yb3VuZGVkUmVjdFwiKTtcclxuICAgIH1cclxuICAgIHZhciBNeUFyYyA9ICg0IC8gMykgKiAoTWF0aC5TUVJUMiAtIDEpO1xyXG5cclxuICAgIHJ4ID0gTWF0aC5taW4ocngsIHcgKiAwLjUpO1xyXG4gICAgcnkgPSBNYXRoLm1pbihyeSwgaCAqIDAuNSk7XHJcblxyXG4gICAgdGhpcy5saW5lcyhcclxuICAgICAgW1xyXG4gICAgICAgIFt3IC0gMiAqIHJ4LCAwXSxcclxuICAgICAgICBbcnggKiBNeUFyYywgMCwgcngsIHJ5IC0gcnkgKiBNeUFyYywgcngsIHJ5XSxcclxuICAgICAgICBbMCwgaCAtIDIgKiByeV0sXHJcbiAgICAgICAgWzAsIHJ5ICogTXlBcmMsIC0ocnggKiBNeUFyYyksIHJ5LCAtcngsIHJ5XSxcclxuICAgICAgICBbLXcgKyAyICogcngsIDBdLFxyXG4gICAgICAgIFstKHJ4ICogTXlBcmMpLCAwLCAtcngsIC0ocnkgKiBNeUFyYyksIC1yeCwgLXJ5XSxcclxuICAgICAgICBbMCwgLWggKyAyICogcnldLFxyXG4gICAgICAgIFswLCAtKHJ5ICogTXlBcmMpLCByeCAqIE15QXJjLCAtcnksIHJ4LCAtcnldXHJcbiAgICAgIF0sXHJcbiAgICAgIHggKyByeCxcclxuICAgICAgeSwgLy8gc3RhcnQgb2YgcGF0aFxyXG4gICAgICBbMSwgMV0sXHJcbiAgICAgIHN0eWxlLFxyXG4gICAgICB0cnVlXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhbiBlbGxpcHNlIHRvIFBERi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgbGVmdCBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCB1cHBlciBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJ4IFJhZGl1cyBhbG9uZyB4IGF4aXMgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJ5IFJhZGl1cyBhbG9uZyB5IGF4aXMgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzdHlsZSBBIHN0cmluZyBzcGVjaWZ5aW5nIHRoZSBwYWludGluZyBzdHlsZSBvciBudWxsLiBWYWxpZCBzdHlsZXMgaW5jbHVkZTpcclxuICAgKiAnUycgW2RlZmF1bHRdIC0gc3Ryb2tlLFxyXG4gICAqICdGJyAtIGZpbGwsXHJcbiAgICogYW5kICdERicgKG9yICdGRCcpIC0gIGZpbGwgdGhlbiBzdHJva2UuXHJcbiAgICogSW4gXCJjb21wYXRcIiBBUEkgbW9kZSwgYSBudWxsIHZhbHVlIHBvc3Rwb25lcyBzZXR0aW5nIHRoZSBzdHlsZSBzbyB0aGF0IGEgc2hhcGUgbWF5IGJlIGNvbXBvc2VkIHVzaW5nIG11bHRpcGxlXHJcbiAgICogbWV0aG9kIGNhbGxzLiBUaGUgbGFzdCBkcmF3aW5nIG1ldGhvZCBjYWxsIHVzZWQgdG8gZGVmaW5lIHRoZSBzaGFwZSBzaG91bGQgbm90IGhhdmUgYSBudWxsIHN0eWxlIGFyZ3VtZW50LlxyXG4gICAqXHJcbiAgICogSW4gXCJhZHZhbmNlZFwiIEFQSSBtb2RlIHRoaXMgcGFyYW1ldGVyIGlzIGRlcHJlY2F0ZWQuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBlbGxpcHNlXHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLmVsbGlwc2UgPSBBUEkuZWxsaXBzZSA9IGZ1bmN0aW9uKHgsIHksIHJ4LCByeSwgc3R5bGUpIHtcclxuICAgIGlmIChcclxuICAgICAgaXNOYU4oeCkgfHxcclxuICAgICAgaXNOYU4oeSkgfHxcclxuICAgICAgaXNOYU4ocngpIHx8XHJcbiAgICAgIGlzTmFOKHJ5KSB8fFxyXG4gICAgICAhaXNWYWxpZFN0eWxlKHN0eWxlKVxyXG4gICAgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5lbGxpcHNlXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIGx4ID0gKDQgLyAzKSAqIChNYXRoLlNRUlQyIC0gMSkgKiByeCxcclxuICAgICAgbHkgPSAoNCAvIDMpICogKE1hdGguU1FSVDIgLSAxKSAqIHJ5O1xyXG5cclxuICAgIG1vdmVUbyh4ICsgcngsIHkpO1xyXG4gICAgY3VydmVUbyh4ICsgcngsIHkgLSBseSwgeCArIGx4LCB5IC0gcnksIHgsIHkgLSByeSk7XHJcbiAgICBjdXJ2ZVRvKHggLSBseCwgeSAtIHJ5LCB4IC0gcngsIHkgLSBseSwgeCAtIHJ4LCB5KTtcclxuICAgIGN1cnZlVG8oeCAtIHJ4LCB5ICsgbHksIHggLSBseCwgeSArIHJ5LCB4LCB5ICsgcnkpO1xyXG4gICAgY3VydmVUbyh4ICsgbHgsIHkgKyByeSwgeCArIHJ4LCB5ICsgbHksIHggKyByeCwgeSk7XHJcblxyXG4gICAgcHV0U3R5bGUoc3R5bGUpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhbiBjaXJjbGUgdG8gUERGLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCBsZWZ0IGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0geSBDb29yZGluYXRlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KSBhZ2FpbnN0IHVwcGVyIGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gciBSYWRpdXMgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzdHlsZSBBIHN0cmluZyBzcGVjaWZ5aW5nIHRoZSBwYWludGluZyBzdHlsZSBvciBudWxsLiBWYWxpZCBzdHlsZXMgaW5jbHVkZTpcclxuICAgKiAnUycgW2RlZmF1bHRdIC0gc3Ryb2tlLFxyXG4gICAqICdGJyAtIGZpbGwsXHJcbiAgICogYW5kICdERicgKG9yICdGRCcpIC0gIGZpbGwgdGhlbiBzdHJva2UuXHJcbiAgICogSW4gXCJjb21wYXRcIiBBUEkgbW9kZSwgYSBudWxsIHZhbHVlIHBvc3Rwb25lcyBzZXR0aW5nIHRoZSBzdHlsZSBzbyB0aGF0IGEgc2hhcGUgbWF5IGJlIGNvbXBvc2VkIHVzaW5nIG11bHRpcGxlXHJcbiAgICogbWV0aG9kIGNhbGxzLiBUaGUgbGFzdCBkcmF3aW5nIG1ldGhvZCBjYWxsIHVzZWQgdG8gZGVmaW5lIHRoZSBzaGFwZSBzaG91bGQgbm90IGhhdmUgYSBudWxsIHN0eWxlIGFyZ3VtZW50LlxyXG4gICAqXHJcbiAgICogSW4gXCJhZHZhbmNlZFwiIEFQSSBtb2RlIHRoaXMgcGFyYW1ldGVyIGlzIGRlcHJlY2F0ZWQuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBjaXJjbGVcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uY2lyY2xlID0gQVBJLmNpcmNsZSA9IGZ1bmN0aW9uKHgsIHksIHIsIHN0eWxlKSB7XHJcbiAgICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkgfHwgaXNOYU4ocikgfHwgIWlzVmFsaWRTdHlsZShzdHlsZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNpcmNsZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmVsbGlwc2UoeCwgeSwgciwgciwgc3R5bGUpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGV4dCBmb250IGZhY2UsIHZhcmlhbnQgZm9yIHVwY29taW5nIHRleHQgZWxlbWVudHMuXHJcbiAgICogU2VlIG91dHB1dCBvZiBqc1BERi5nZXRGb250TGlzdCgpIGZvciBwb3NzaWJsZSBmb250IG5hbWVzLCBzdHlsZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udE5hbWUgRm9udCBuYW1lIG9yIGZhbWlseS4gRXhhbXBsZTogXCJ0aW1lc1wiLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgRm9udCBzdHlsZSBvciB2YXJpYW50LiBFeGFtcGxlOiBcIml0YWxpY1wiLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyIHwgc3RyaW5nfSBmb250V2VpZ2h0IFdlaWdodCBvZiB0aGUgRm9udC4gRXhhbXBsZTogXCJub3JtYWxcIiB8IDQwMFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2V0Rm9udFxyXG4gICAqL1xyXG4gIEFQSS5zZXRGb250ID0gZnVuY3Rpb24oZm9udE5hbWUsIGZvbnRTdHlsZSwgZm9udFdlaWdodCkge1xyXG4gICAgaWYgKGZvbnRXZWlnaHQpIHtcclxuICAgICAgZm9udFN0eWxlID0gY29tYmluZUZvbnRTdHlsZUFuZEZvbnRXZWlnaHQoZm9udFN0eWxlLCBmb250V2VpZ2h0KTtcclxuICAgIH1cclxuICAgIGFjdGl2ZUZvbnRLZXkgPSBnZXRGb250KGZvbnROYW1lLCBmb250U3R5bGUsIHtcclxuICAgICAgZGlzYWJsZVdhcm5pbmc6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGV4dCBmb250IGZhY2UsIHZhcmlhbnQgZm9yIHVwY29taW5nIHRleHQgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRGb250XHJcbiAgICovXHJcbiAgdmFyIGdldEZvbnRFbnRyeSA9IChBUEkuX19wcml2YXRlX18uZ2V0Rm9udCA9IEFQSS5nZXRGb250ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZm9udHNbZ2V0Rm9udC5hcHBseShBUEksIGFyZ3VtZW50cyldO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCAtIGEgdHJlZSBvZiBmb250TmFtZSB0byBmb250U3R5bGUgcmVsYXRpb25zaGlwcyBhdmFpbGFibGUgdG9cclxuICAgKiBhY3RpdmUgUERGIGRvY3VtZW50LlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IExpa2Ugeyd0aW1lcyc6Wydub3JtYWwnLCAnaXRhbGljJywgLi4uIF0sICdhcmlhbCc6Wydub3JtYWwnLCAnYm9sZCcsIC4uLiBdLCAuLi4gfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRGb250TGlzdFxyXG4gICAqL1xyXG4gIEFQSS5fX3ByaXZhdGVfXy5nZXRGb250TGlzdCA9IEFQSS5nZXRGb250TGlzdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxpc3QgPSB7fSxcclxuICAgICAgZm9udE5hbWUsXHJcbiAgICAgIGZvbnRTdHlsZTtcclxuXHJcbiAgICBmb3IgKGZvbnROYW1lIGluIGZvbnRtYXApIHtcclxuICAgICAgaWYgKGZvbnRtYXAuaGFzT3duUHJvcGVydHkoZm9udE5hbWUpKSB7XHJcbiAgICAgICAgbGlzdFtmb250TmFtZV0gPSBbXTtcclxuICAgICAgICBmb3IgKGZvbnRTdHlsZSBpbiBmb250bWFwW2ZvbnROYW1lXSkge1xyXG4gICAgICAgICAgaWYgKGZvbnRtYXBbZm9udE5hbWVdLmhhc093blByb3BlcnR5KGZvbnRTdHlsZSkpIHtcclxuICAgICAgICAgICAgbGlzdFtmb250TmFtZV0ucHVzaChmb250U3R5bGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxpc3Q7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgY3VzdG9tIGZvbnQgdG8gdGhlIGN1cnJlbnQgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zdFNjcmlwdE5hbWUgUERGIHNwZWNpZmljYXRpb24gZnVsbCBuYW1lIGZvciB0aGUgZm9udC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgUERGLWRvY3VtZW50LWluc3RhbmNlLXNwZWNpZmljIGxhYmVsIGFzc2luZ2VkIHRvIHRoZSBmb250LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb250U3R5bGUgU3R5bGUgb2YgdGhlIEZvbnQuXHJcbiAgICogQHBhcmFtIHtudW1iZXIgfCBzdHJpbmd9IGZvbnRXZWlnaHQgV2VpZ2h0IG9mIHRoZSBGb250LlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbmNvZGluZyBFbmNvZGluZ19uYW1lLXRvLUZvbnRfbWV0cmljc19vYmplY3QgbWFwcGluZy5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgYWRkRm9udFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGZvbnRJZFxyXG4gICAqL1xyXG4gIEFQSS5hZGRGb250ID0gZnVuY3Rpb24oXHJcbiAgICBwb3N0U2NyaXB0TmFtZSxcclxuICAgIGZvbnROYW1lLFxyXG4gICAgZm9udFN0eWxlLFxyXG4gICAgZm9udFdlaWdodCxcclxuICAgIGVuY29kaW5nXHJcbiAgKSB7XHJcbiAgICB2YXIgZW5jb2RpbmdPcHRpb25zID0gW1xyXG4gICAgICBcIlN0YW5kYXJkRW5jb2RpbmdcIixcclxuICAgICAgXCJNYWNSb21hbkVuY29kaW5nXCIsXHJcbiAgICAgIFwiSWRlbnRpdHktSFwiLFxyXG4gICAgICBcIldpbkFuc2lFbmNvZGluZ1wiXHJcbiAgICBdO1xyXG4gICAgaWYgKGFyZ3VtZW50c1szXSAmJiBlbmNvZGluZ09wdGlvbnMuaW5kZXhPZihhcmd1bWVudHNbM10pICE9PSAtMSkge1xyXG4gICAgICAvL0lFIDExIGZpeFxyXG4gICAgICBlbmNvZGluZyA9IGFyZ3VtZW50c1szXTtcclxuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzWzNdICYmIGVuY29kaW5nT3B0aW9ucy5pbmRleE9mKGFyZ3VtZW50c1szXSkgPT0gLTEpIHtcclxuICAgICAgZm9udFN0eWxlID0gY29tYmluZUZvbnRTdHlsZUFuZEZvbnRXZWlnaHQoZm9udFN0eWxlLCBmb250V2VpZ2h0KTtcclxuICAgIH1cclxuICAgIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgXCJJZGVudGl0eS1IXCI7XHJcbiAgICByZXR1cm4gYWRkRm9udC5jYWxsKHRoaXMsIHBvc3RTY3JpcHROYW1lLCBmb250TmFtZSwgZm9udFN0eWxlLCBlbmNvZGluZyk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGxpbmVXaWR0aCA9IG9wdGlvbnMubGluZVdpZHRoIHx8IDAuMjAwMDI1OyAvLyAybW1cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBsaW5lIHdpZHRoLCBkZWZhdWx0OiAwLjIwMDAyNS5cclxuICAgKlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGxpbmVXaWR0aFxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRMaW5lV2lkdGhcclxuICAgKi9cclxuICB2YXIgZ2V0TGluZVdpZHRoID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRMaW5lV2lkdGggPSBBUEkuZ2V0TGluZVdpZHRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gbGluZVdpZHRoO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIGxpbmUgd2lkdGggZm9yIHVwY29taW5nIGxpbmVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIExpbmUgd2lkdGggKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpLlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2V0TGluZVdpZHRoXHJcbiAgICovXHJcbiAgdmFyIHNldExpbmVXaWR0aCA9IChBUEkuX19wcml2YXRlX18uc2V0TGluZVdpZHRoID0gQVBJLnNldExpbmVXaWR0aCA9IGZ1bmN0aW9uKFxyXG4gICAgd2lkdGhcclxuICApIHtcclxuICAgIGxpbmVXaWR0aCA9IHdpZHRoO1xyXG4gICAgb3V0KGhwZihzY2FsZSh3aWR0aCkpICsgXCIgd1wiKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBkYXNoIHBhdHRlcm4gZm9yIHVwY29taW5nIGxpbmVzLlxyXG4gICAqXHJcbiAgICogVG8gcmVzZXQgdGhlIHNldHRpbmdzIHNpbXBseSBjYWxsIHRoZSBtZXRob2Qgd2l0aG91dCBhbnkgcGFyYW1ldGVycy5cclxuICAgKiBAcGFyYW0ge0FycmF5PG51bWJlcj59IGRhc2hBcnJheSBBbiBhcnJheSBjb250YWluaW5nIDAtMiBudW1iZXJzLiBUaGUgZmlyc3QgbnVtYmVyIHNldHMgdGhlIGxlbmd0aCBvZiB0aGVcclxuICAgKiBkYXNoZXMsIHRoZSBzZWNvbmQgbnVtYmVyIHRoZSBsZW5ndGggb2YgdGhlIGdhcHMuIElmIHRoZSBzZWNvbmQgbnVtYmVyIGlzIG1pc3NpbmcsIHRoZSBnYXBzIGFyZSBjb25zaWRlcmVkXHJcbiAgICogdG8gYmUgYXMgbG9uZyBhcyB0aGUgZGFzaGVzLiBBbiBlbXB0eSBhcnJheSBtZWFucyBzb2xpZCwgdW5icm9rZW4gbGluZXMuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRhc2hQaGFzZSBUaGUgcGhhc2UgbGluZXMgc3RhcnQgd2l0aC5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIHNldExpbmVEYXNoUGF0dGVyblxyXG4gICAqL1xyXG4gIEFQSS5fX3ByaXZhdGVfXy5zZXRMaW5lRGFzaCA9IGpzUERGLkFQSS5zZXRMaW5lRGFzaCA9IGpzUERGLkFQSS5zZXRMaW5lRGFzaFBhdHRlcm4gPSBmdW5jdGlvbihcclxuICAgIGRhc2hBcnJheSxcclxuICAgIGRhc2hQaGFzZVxyXG4gICkge1xyXG4gICAgZGFzaEFycmF5ID0gZGFzaEFycmF5IHx8IFtdO1xyXG4gICAgZGFzaFBoYXNlID0gZGFzaFBoYXNlIHx8IDA7XHJcblxyXG4gICAgaWYgKGlzTmFOKGRhc2hQaGFzZSkgfHwgIUFycmF5LmlzQXJyYXkoZGFzaEFycmF5KSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuc2V0TGluZURhc2hcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZGFzaEFycmF5ID0gZGFzaEFycmF5XHJcbiAgICAgIC5tYXAoZnVuY3Rpb24oeCkge1xyXG4gICAgICAgIHJldHVybiBocGYoc2NhbGUoeCkpO1xyXG4gICAgICB9KVxyXG4gICAgICAuam9pbihcIiBcIik7XHJcbiAgICBkYXNoUGhhc2UgPSBocGYoc2NhbGUoZGFzaFBoYXNlKSk7XHJcblxyXG4gICAgb3V0KFwiW1wiICsgZGFzaEFycmF5ICsgXCJdIFwiICsgZGFzaFBoYXNlICsgXCIgZFwiKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIHZhciBsaW5lSGVpZ2h0RmFjdG9yO1xyXG5cclxuICB2YXIgZ2V0TGluZUhlaWdodCA9IChBUEkuX19wcml2YXRlX18uZ2V0TGluZUhlaWdodCA9IEFQSS5nZXRMaW5lSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gYWN0aXZlRm9udFNpemUgKiBsaW5lSGVpZ2h0RmFjdG9yO1xyXG4gIH0pO1xyXG5cclxuICBBUEkuX19wcml2YXRlX18uZ2V0TGluZUhlaWdodCA9IEFQSS5nZXRMaW5lSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gYWN0aXZlRm9udFNpemUgKiBsaW5lSGVpZ2h0RmFjdG9yO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIExpbmVIZWlnaHRGYWN0b3Igb2YgcHJvcG9ydGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBMaW5lSGVpZ2h0RmFjdG9yIHZhbHVlLiBEZWZhdWx0OiAxLjE1LlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2V0TGluZUhlaWdodEZhY3RvclxyXG4gICAqL1xyXG4gIHZhciBzZXRMaW5lSGVpZ2h0RmFjdG9yID0gKEFQSS5fX3ByaXZhdGVfXy5zZXRMaW5lSGVpZ2h0RmFjdG9yID0gQVBJLnNldExpbmVIZWlnaHRGYWN0b3IgPSBmdW5jdGlvbihcclxuICAgIHZhbHVlXHJcbiAgKSB7XHJcbiAgICB2YWx1ZSA9IHZhbHVlIHx8IDEuMTU7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGxpbmVIZWlnaHRGYWN0b3IgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBMaW5lSGVpZ2h0RmFjdG9yLCBkZWZhdWx0OiAxLjE1LlxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge251bWJlcn0gbGluZUhlaWdodEZhY3RvclxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRMaW5lSGVpZ2h0RmFjdG9yXHJcbiAgICovXHJcbiAgdmFyIGdldExpbmVIZWlnaHRGYWN0b3IgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldExpbmVIZWlnaHRGYWN0b3IgPSBBUEkuZ2V0TGluZUhlaWdodEZhY3RvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGxpbmVIZWlnaHRGYWN0b3I7XHJcbiAgfSk7XHJcblxyXG4gIHNldExpbmVIZWlnaHRGYWN0b3Iob3B0aW9ucy5saW5lSGVpZ2h0KTtcclxuXHJcbiAgdmFyIGdldEhvcml6b250YWxDb29yZGluYXRlID0gKEFQSS5fX3ByaXZhdGVfXy5nZXRIb3Jpem9udGFsQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKFxyXG4gICAgdmFsdWVcclxuICApIHtcclxuICAgIHJldHVybiBzY2FsZSh2YWx1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBnZXRWZXJ0aWNhbENvb3JkaW5hdGUgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldFZlcnRpY2FsQ29vcmRpbmF0ZSA9IGZ1bmN0aW9uKFxyXG4gICAgdmFsdWVcclxuICApIHtcclxuICAgIGlmIChhcGlNb2RlID09PSBBcGlNb2RlLkFEVkFOQ0VEKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBwYWdlSGVpZ2h0ID1cclxuICAgICAgICBwYWdlc0NvbnRleHRbY3VycmVudFBhZ2VdLm1lZGlhQm94LnRvcFJpZ2h0WSAtXHJcbiAgICAgICAgcGFnZXNDb250ZXh0W2N1cnJlbnRQYWdlXS5tZWRpYUJveC5ib3R0b21MZWZ0WTtcclxuICAgICAgcmV0dXJuIHBhZ2VIZWlnaHQgLSBzY2FsZSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyA9IChBUEkuX19wcml2YXRlX18uZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGVTdHJpbmcgPSBBUEkuZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGVTdHJpbmcgPSBmdW5jdGlvbihcclxuICAgIHZhbHVlXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gaHBmKGdldEhvcml6b250YWxDb29yZGluYXRlKHZhbHVlKSk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBnZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyA9IEFQSS5nZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcgPSBmdW5jdGlvbihcclxuICAgIHZhbHVlXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gaHBmKGdldFZlcnRpY2FsQ29vcmRpbmF0ZSh2YWx1ZSkpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgc3Ryb2tlQ29sb3IgPSBvcHRpb25zLnN0cm9rZUNvbG9yIHx8IFwiMCBHXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqICBHZXRzIHRoZSBzdHJva2UgY29sb3IgZm9yIHVwY29taW5nIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gY29sb3JBc0hleFxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXREcmF3Q29sb3JcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uZ2V0U3Ryb2tlQ29sb3IgPSBBUEkuZ2V0RHJhd0NvbG9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZGVjb2RlQ29sb3JTdHJpbmcoc3Ryb2tlQ29sb3IpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIHN0cm9rZSBjb2xvciBmb3IgdXBjb21pbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBEZXBlbmRpbmcgb24gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgZ2l2ZW4sIEdyYXksIFJHQiwgb3IgQ01ZS1xyXG4gICAqIGNvbG9yIHNwYWNlIGlzIGltcGxpZWQuXHJcbiAgICpcclxuICAgKiBXaGVuIG9ubHkgY2gxIGlzIGdpdmVuLCBcIkdyYXlcIiBjb2xvciBzcGFjZSBpcyBpbXBsaWVkIGFuZCBpdFxyXG4gICAqIG11c3QgYmUgYSB2YWx1ZSBpbiB0aGUgcmFuZ2UgZnJvbSAwLjAwIChzb2xpZCBibGFjaykgdG8gdG8gMS4wMCAod2hpdGUpXHJcbiAgICogaWYgdmFsdWVzIGFyZSBjb21tdW5pY2F0ZWQgYXMgU3RyaW5nIHR5cGVzLCBvciBpbiByYW5nZSBmcm9tIDAgKGJsYWNrKVxyXG4gICAqIHRvIDI1NSAod2hpdGUpIGlmIGNvbW11bmljYXRlZCBhcyBOdW1iZXIgdHlwZS5cclxuICAgKiBUaGUgUkdCLWxpa2UgMC0yNTUgcmFuZ2UgaXMgcHJvdmlkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXHJcbiAgICpcclxuICAgKiBXaGVuIG9ubHkgY2gxLGNoMixjaDMgYXJlIGdpdmVuLCBcIlJHQlwiIGNvbG9yIHNwYWNlIGlzIGltcGxpZWQgYW5kIGVhY2hcclxuICAgKiB2YWx1ZSBtdXN0IGJlIGluIHRoZSByYW5nZSBmcm9tIDAuMDAgKG1pbmltdW0gaW50ZW5zaXR5KSB0byB0byAxLjAwXHJcbiAgICogKG1heCBpbnRlbnNpdHkpIGlmIHZhbHVlcyBhcmUgY29tbXVuaWNhdGVkIGFzIFN0cmluZyB0eXBlcywgb3JcclxuICAgKiBmcm9tIDAgKG1pbiBpbnRlbnNpdHkpIHRvIHRvIDI1NSAobWF4IGludGVuc2l0eSkgaWYgdmFsdWVzIGFyZSBjb21tdW5pY2F0ZWRcclxuICAgKiBhcyBOdW1iZXIgdHlwZXMuXHJcbiAgICogVGhlIFJHQi1saWtlIDAtMjU1IHJhbmdlIGlzIHByb3ZpZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxyXG4gICAqXHJcbiAgICogV2hlbiBjaDEsY2gyLGNoMyxjaDQgYXJlIGdpdmVuLCBcIkNNWUtcIiBjb2xvciBzcGFjZSBpcyBpbXBsaWVkIGFuZCBlYWNoXHJcbiAgICogdmFsdWUgbXVzdCBiZSBhIGluIHRoZSByYW5nZSBmcm9tIDAuMDAgKDAlIGNvbmNlbnRyYXRpb24pIHRvIHRvXHJcbiAgICogMS4wMCAoMTAwJSBjb25jZW50cmF0aW9uKVxyXG4gICAqXHJcbiAgICogQmVjYXVzZSBKYXZhU2NyaXB0IHRyZWF0cyBmaXhlZCBwb2ludCBudW1iZXJzIGJhZGx5IChyb3VuZHMgdG9cclxuICAgKiBmbG9hdGluZyBwb2ludCBuZWFyZXN0IHRvIGJpbmFyeSByZXByZXNlbnRhdGlvbikgaXQgaXMgaGlnaGx5IGFkdmlzZWQgdG9cclxuICAgKiBjb21tdW5pY2F0ZSB0aGUgZnJhY3Rpb25hbCBudW1iZXJzIGFzIFN0cmluZyB0eXBlcywgbm90IEphdmFTY3JpcHQgTnVtYmVyIHR5cGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGNoMSBDb2xvciBjaGFubmVsIHZhbHVlIG9yIHtzdHJpbmd9IGNoMSBjb2xvciB2YWx1ZSBpbiBoZXhhZGVjaW1hbCwgZXhhbXBsZTogJyNGRkZGRkYnLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaDIgQ29sb3IgY2hhbm5lbCB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gY2gzIENvbG9yIGNoYW5uZWwgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoNCBDb2xvciBjaGFubmVsIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXREcmF3Q29sb3JcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uc2V0U3Ryb2tlQ29sb3IgPSBBUEkuc2V0RHJhd0NvbG9yID0gZnVuY3Rpb24oXHJcbiAgICBjaDEsXHJcbiAgICBjaDIsXHJcbiAgICBjaDMsXHJcbiAgICBjaDRcclxuICApIHtcclxuICAgIHZhciBvcHRpb25zID0ge1xyXG4gICAgICBjaDE6IGNoMSxcclxuICAgICAgY2gyOiBjaDIsXHJcbiAgICAgIGNoMzogY2gzLFxyXG4gICAgICBjaDQ6IGNoNCxcclxuICAgICAgcGRmQ29sb3JUeXBlOiBcImRyYXdcIixcclxuICAgICAgcHJlY2lzaW9uOiAyXHJcbiAgICB9O1xyXG5cclxuICAgIHN0cm9rZUNvbG9yID0gZW5jb2RlQ29sb3JTdHJpbmcob3B0aW9ucyk7XHJcbiAgICBvdXQoc3Ryb2tlQ29sb3IpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGZpbGxDb2xvciA9IG9wdGlvbnMuZmlsbENvbG9yIHx8IFwiMCBnXCI7XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGZpbGwgY29sb3IgZm9yIHVwY29taW5nIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gY29sb3JBc0hleFxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBnZXRGaWxsQ29sb3JcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uZ2V0RmlsbENvbG9yID0gQVBJLmdldEZpbGxDb2xvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGRlY29kZUNvbG9yU3RyaW5nKGZpbGxDb2xvcik7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgZmlsbCBjb2xvciBmb3IgdXBjb21pbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBEZXBlbmRpbmcgb24gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgZ2l2ZW4sIEdyYXksIFJHQiwgb3IgQ01ZS1xyXG4gICAqIGNvbG9yIHNwYWNlIGlzIGltcGxpZWQuXHJcbiAgICpcclxuICAgKiBXaGVuIG9ubHkgY2gxIGlzIGdpdmVuLCBcIkdyYXlcIiBjb2xvciBzcGFjZSBpcyBpbXBsaWVkIGFuZCBpdFxyXG4gICAqIG11c3QgYmUgYSB2YWx1ZSBpbiB0aGUgcmFuZ2UgZnJvbSAwLjAwIChzb2xpZCBibGFjaykgdG8gdG8gMS4wMCAod2hpdGUpXHJcbiAgICogaWYgdmFsdWVzIGFyZSBjb21tdW5pY2F0ZWQgYXMgU3RyaW5nIHR5cGVzLCBvciBpbiByYW5nZSBmcm9tIDAgKGJsYWNrKVxyXG4gICAqIHRvIDI1NSAod2hpdGUpIGlmIGNvbW11bmljYXRlZCBhcyBOdW1iZXIgdHlwZS5cclxuICAgKiBUaGUgUkdCLWxpa2UgMC0yNTUgcmFuZ2UgaXMgcHJvdmlkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXHJcbiAgICpcclxuICAgKiBXaGVuIG9ubHkgY2gxLGNoMixjaDMgYXJlIGdpdmVuLCBcIlJHQlwiIGNvbG9yIHNwYWNlIGlzIGltcGxpZWQgYW5kIGVhY2hcclxuICAgKiB2YWx1ZSBtdXN0IGJlIGluIHRoZSByYW5nZSBmcm9tIDAuMDAgKG1pbmltdW0gaW50ZW5zaXR5KSB0byB0byAxLjAwXHJcbiAgICogKG1heCBpbnRlbnNpdHkpIGlmIHZhbHVlcyBhcmUgY29tbXVuaWNhdGVkIGFzIFN0cmluZyB0eXBlcywgb3JcclxuICAgKiBmcm9tIDAgKG1pbiBpbnRlbnNpdHkpIHRvIHRvIDI1NSAobWF4IGludGVuc2l0eSkgaWYgdmFsdWVzIGFyZSBjb21tdW5pY2F0ZWRcclxuICAgKiBhcyBOdW1iZXIgdHlwZXMuXHJcbiAgICogVGhlIFJHQi1saWtlIDAtMjU1IHJhbmdlIGlzIHByb3ZpZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxyXG4gICAqXHJcbiAgICogV2hlbiBjaDEsY2gyLGNoMyxjaDQgYXJlIGdpdmVuLCBcIkNNWUtcIiBjb2xvciBzcGFjZSBpcyBpbXBsaWVkIGFuZCBlYWNoXHJcbiAgICogdmFsdWUgbXVzdCBiZSBhIGluIHRoZSByYW5nZSBmcm9tIDAuMDAgKDAlIGNvbmNlbnRyYXRpb24pIHRvIHRvXHJcbiAgICogMS4wMCAoMTAwJSBjb25jZW50cmF0aW9uKVxyXG4gICAqXHJcbiAgICogQmVjYXVzZSBKYXZhU2NyaXB0IHRyZWF0cyBmaXhlZCBwb2ludCBudW1iZXJzIGJhZGx5IChyb3VuZHMgdG9cclxuICAgKiBmbG9hdGluZyBwb2ludCBuZWFyZXN0IHRvIGJpbmFyeSByZXByZXNlbnRhdGlvbikgaXQgaXMgaGlnaGx5IGFkdmlzZWQgdG9cclxuICAgKiBjb21tdW5pY2F0ZSB0aGUgZnJhY3Rpb25hbCBudW1iZXJzIGFzIFN0cmluZyB0eXBlcywgbm90IEphdmFTY3JpcHQgTnVtYmVyIHR5cGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IGNoMSBDb2xvciBjaGFubmVsIHZhbHVlIG9yIHtzdHJpbmd9IGNoMSBjb2xvciB2YWx1ZSBpbiBoZXhhZGVjaW1hbCwgZXhhbXBsZTogJyNGRkZGRkYnLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaDIgQ29sb3IgY2hhbm5lbCB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gY2gzIENvbG9yIGNoYW5uZWwgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoNCBDb2xvciBjaGFubmVsIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRGaWxsQ29sb3JcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uc2V0RmlsbENvbG9yID0gQVBJLnNldEZpbGxDb2xvciA9IGZ1bmN0aW9uKFxyXG4gICAgY2gxLFxyXG4gICAgY2gyLFxyXG4gICAgY2gzLFxyXG4gICAgY2g0XHJcbiAgKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgY2gxOiBjaDEsXHJcbiAgICAgIGNoMjogY2gyLFxyXG4gICAgICBjaDM6IGNoMyxcclxuICAgICAgY2g0OiBjaDQsXHJcbiAgICAgIHBkZkNvbG9yVHlwZTogXCJmaWxsXCIsXHJcbiAgICAgIHByZWNpc2lvbjogMlxyXG4gICAgfTtcclxuXHJcbiAgICBmaWxsQ29sb3IgPSBlbmNvZGVDb2xvclN0cmluZyhvcHRpb25zKTtcclxuICAgIG91dChmaWxsQ29sb3IpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHRleHRDb2xvciA9IG9wdGlvbnMudGV4dENvbG9yIHx8IFwiMCBnXCI7XHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgdGV4dCBjb2xvciBmb3IgdXBjb21pbmcgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAaW5zdGFuY2VcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjb2xvckFzSGV4XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGdldFRleHRDb2xvclxyXG4gICAqL1xyXG4gIHZhciBnZXRUZXh0Q29sb3IgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldFRleHRDb2xvciA9IEFQSS5nZXRUZXh0Q29sb3IgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBkZWNvZGVDb2xvclN0cmluZyh0ZXh0Q29sb3IpO1xyXG4gIH0pO1xyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIHRleHQgY29sb3IgZm9yIHVwY29taW5nIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICogRGVwZW5kaW5nIG9uIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGdpdmVuLCBHcmF5LCBSR0IsIG9yIENNWUtcclxuICAgKiBjb2xvciBzcGFjZSBpcyBpbXBsaWVkLlxyXG4gICAqXHJcbiAgICogV2hlbiBvbmx5IGNoMSBpcyBnaXZlbiwgXCJHcmF5XCIgY29sb3Igc3BhY2UgaXMgaW1wbGllZCBhbmQgaXRcclxuICAgKiBtdXN0IGJlIGEgdmFsdWUgaW4gdGhlIHJhbmdlIGZyb20gMC4wMCAoc29saWQgYmxhY2spIHRvIHRvIDEuMDAgKHdoaXRlKVxyXG4gICAqIGlmIHZhbHVlcyBhcmUgY29tbXVuaWNhdGVkIGFzIFN0cmluZyB0eXBlcywgb3IgaW4gcmFuZ2UgZnJvbSAwIChibGFjaylcclxuICAgKiB0byAyNTUgKHdoaXRlKSBpZiBjb21tdW5pY2F0ZWQgYXMgTnVtYmVyIHR5cGUuXHJcbiAgICogVGhlIFJHQi1saWtlIDAtMjU1IHJhbmdlIGlzIHByb3ZpZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxyXG4gICAqXHJcbiAgICogV2hlbiBvbmx5IGNoMSxjaDIsY2gzIGFyZSBnaXZlbiwgXCJSR0JcIiBjb2xvciBzcGFjZSBpcyBpbXBsaWVkIGFuZCBlYWNoXHJcbiAgICogdmFsdWUgbXVzdCBiZSBpbiB0aGUgcmFuZ2UgZnJvbSAwLjAwIChtaW5pbXVtIGludGVuc2l0eSkgdG8gdG8gMS4wMFxyXG4gICAqIChtYXggaW50ZW5zaXR5KSBpZiB2YWx1ZXMgYXJlIGNvbW11bmljYXRlZCBhcyBTdHJpbmcgdHlwZXMsIG9yXHJcbiAgICogZnJvbSAwIChtaW4gaW50ZW5zaXR5KSB0byB0byAyNTUgKG1heCBpbnRlbnNpdHkpIGlmIHZhbHVlcyBhcmUgY29tbXVuaWNhdGVkXHJcbiAgICogYXMgTnVtYmVyIHR5cGVzLlxyXG4gICAqIFRoZSBSR0ItbGlrZSAwLTI1NSByYW5nZSBpcyBwcm92aWRlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cclxuICAgKlxyXG4gICAqIFdoZW4gY2gxLGNoMixjaDMsY2g0IGFyZSBnaXZlbiwgXCJDTVlLXCIgY29sb3Igc3BhY2UgaXMgaW1wbGllZCBhbmQgZWFjaFxyXG4gICAqIHZhbHVlIG11c3QgYmUgYSBpbiB0aGUgcmFuZ2UgZnJvbSAwLjAwICgwJSBjb25jZW50cmF0aW9uKSB0byB0b1xyXG4gICAqIDEuMDAgKDEwMCUgY29uY2VudHJhdGlvbilcclxuICAgKlxyXG4gICAqIEJlY2F1c2UgSmF2YVNjcmlwdCB0cmVhdHMgZml4ZWQgcG9pbnQgbnVtYmVycyBiYWRseSAocm91bmRzIHRvXHJcbiAgICogZmxvYXRpbmcgcG9pbnQgbmVhcmVzdCB0byBiaW5hcnkgcmVwcmVzZW50YXRpb24pIGl0IGlzIGhpZ2hseSBhZHZpc2VkIHRvXHJcbiAgICogY29tbXVuaWNhdGUgdGhlIGZyYWN0aW9uYWwgbnVtYmVycyBhcyBTdHJpbmcgdHlwZXMsIG5vdCBKYXZhU2NyaXB0IE51bWJlciB0eXBlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBjaDEgQ29sb3IgY2hhbm5lbCB2YWx1ZSBvciB7c3RyaW5nfSBjaDEgY29sb3IgdmFsdWUgaW4gaGV4YWRlY2ltYWwsIGV4YW1wbGU6ICcjRkZGRkZGJy5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gY2gyIENvbG9yIGNoYW5uZWwgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoMyBDb2xvciBjaGFubmVsIHZhbHVlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaDQgQ29sb3IgY2hhbm5lbCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2V0VGV4dENvbG9yXHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLnNldFRleHRDb2xvciA9IEFQSS5zZXRUZXh0Q29sb3IgPSBmdW5jdGlvbihcclxuICAgIGNoMSxcclxuICAgIGNoMixcclxuICAgIGNoMyxcclxuICAgIGNoNFxyXG4gICkge1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgIGNoMTogY2gxLFxyXG4gICAgICBjaDI6IGNoMixcclxuICAgICAgY2gzOiBjaDMsXHJcbiAgICAgIGNoNDogY2g0LFxyXG4gICAgICBwZGZDb2xvclR5cGU6IFwidGV4dFwiLFxyXG4gICAgICBwcmVjaXNpb246IDNcclxuICAgIH07XHJcbiAgICB0ZXh0Q29sb3IgPSBlbmNvZGVDb2xvclN0cmluZyhvcHRpb25zKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICB2YXIgYWN0aXZlQ2hhclNwYWNlID0gb3B0aW9ucy5jaGFyU3BhY2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBnbG9iYWwgdmFsdWUgb2YgQ2hhclNwYWNlLlxyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge251bWJlcn0gY2hhclNwYWNlXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGdldENoYXJTcGFjZVxyXG4gICAqL1xyXG4gIHZhciBnZXRDaGFyU3BhY2UgPSAoQVBJLl9fcHJpdmF0ZV9fLmdldENoYXJTcGFjZSA9IEFQSS5nZXRDaGFyU3BhY2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBwYXJzZUZsb2F0KGFjdGl2ZUNoYXJTcGFjZSB8fCAwKTtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGdsb2JhbCB2YWx1ZSBvZiBDaGFyU3BhY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2hhclNwYWNlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfSBqc1BERi1pbnN0YW5jZVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRDaGFyU3BhY2VcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uc2V0Q2hhclNwYWNlID0gQVBJLnNldENoYXJTcGFjZSA9IGZ1bmN0aW9uKGNoYXJTcGFjZSkge1xyXG4gICAgaWYgKGlzTmFOKGNoYXJTcGFjZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuc2V0Q2hhclNwYWNlXCIpO1xyXG4gICAgfVxyXG4gICAgYWN0aXZlQ2hhclNwYWNlID0gY2hhclNwYWNlO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGxpbmVDYXBJRCA9IDA7XHJcbiAgLyoqXHJcbiAgICogSXMgYW4gT2JqZWN0IHByb3ZpZGluZyBhIG1hcHBpbmcgZnJvbSBodW1hbi1yZWFkYWJsZSB0b1xyXG4gICAqIGludGVnZXIgZmxhZyB2YWx1ZXMgZGVzaWduYXRpbmcgdGhlIHZhcmlldGllcyBvZiBsaW5lIGNhcFxyXG4gICAqIGFuZCBqb2luIHN0eWxlcy5cclxuICAgKlxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBDYXBKb2luU3R5bGVzXHJcbiAgICovXHJcbiAgQVBJLkNhcEpvaW5TdHlsZXMgPSB7XHJcbiAgICAwOiAwLFxyXG4gICAgYnV0dDogMCxcclxuICAgIGJ1dDogMCxcclxuICAgIG1pdGVyOiAwLFxyXG4gICAgMTogMSxcclxuICAgIHJvdW5kOiAxLFxyXG4gICAgcm91bmRlZDogMSxcclxuICAgIGNpcmNsZTogMSxcclxuICAgIDI6IDIsXHJcbiAgICBwcm9qZWN0aW5nOiAyLFxyXG4gICAgcHJvamVjdDogMixcclxuICAgIHNxdWFyZTogMixcclxuICAgIGJldmVsOiAyXHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgbGluZSBjYXAgc3R5bGVzLlxyXG4gICAqIFNlZSB7anNQREYuQ2FwSm9pblN0eWxlc30gZm9yIHZhcmlhbnRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBzdHlsZSBBIHN0cmluZyBvciBudW1iZXIgaWRlbnRpZnlpbmcgdGhlIHR5cGUgb2YgbGluZSBjYXAuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRMaW5lQ2FwXHJcbiAgICovXHJcbiAgQVBJLl9fcHJpdmF0ZV9fLnNldExpbmVDYXAgPSBBUEkuc2V0TGluZUNhcCA9IGZ1bmN0aW9uKHN0eWxlKSB7XHJcbiAgICB2YXIgaWQgPSBBUEkuQ2FwSm9pblN0eWxlc1tzdHlsZV07XHJcbiAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgXCJMaW5lIGNhcCBzdHlsZSBvZiAnXCIgK1xyXG4gICAgICAgICAgc3R5bGUgK1xyXG4gICAgICAgICAgXCInIGlzIG5vdCByZWNvZ25pemVkLiBTZWUgb3IgZXh0ZW5kIC5DYXBKb2luU3R5bGVzIHByb3BlcnR5IGZvciB2YWxpZCBzdHlsZXNcIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgbGluZUNhcElEID0gaWQ7XHJcbiAgICBvdXQoaWQgKyBcIiBKXCIpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIHZhciBsaW5lSm9pbklEID0gMDtcclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBsaW5lIGpvaW4gc3R5bGVzLlxyXG4gICAqIFNlZSB7anNQREYuQ2FwSm9pblN0eWxlc30gZm9yIHZhcmlhbnRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBzdHlsZSBBIHN0cmluZyBvciBudW1iZXIgaWRlbnRpZnlpbmcgdGhlIHR5cGUgb2YgbGluZSBqb2luLlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2V0TGluZUpvaW5cclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uc2V0TGluZUpvaW4gPSBBUEkuc2V0TGluZUpvaW4gPSBmdW5jdGlvbihzdHlsZSkge1xyXG4gICAgdmFyIGlkID0gQVBJLkNhcEpvaW5TdHlsZXNbc3R5bGVdO1xyXG4gICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiTGluZSBqb2luIHN0eWxlIG9mICdcIiArXHJcbiAgICAgICAgICBzdHlsZSArXHJcbiAgICAgICAgICBcIicgaXMgbm90IHJlY29nbml6ZWQuIFNlZSBvciBleHRlbmQgLkNhcEpvaW5TdHlsZXMgcHJvcGVydHkgZm9yIHZhbGlkIHN0eWxlc1wiXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBsaW5lSm9pbklEID0gaWQ7XHJcbiAgICBvdXQoaWQgKyBcIiBqXCIpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIHZhciBtaXRlckxpbWl0O1xyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG1pdGVyTGltaXQgcHJvcGVydHksIHdoaWNoIGVmZmVjdHMgdGhlIG1heGltdW0gbWl0ZXIgbGVuZ3RoLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSBtaXRlclxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2V0TGluZU1pdGVyTGltaXRcclxuICAgKi9cclxuICBBUEkuX19wcml2YXRlX18uc2V0TGluZU1pdGVyTGltaXQgPSBBUEkuX19wcml2YXRlX18uc2V0TWl0ZXJMaW1pdCA9IEFQSS5zZXRMaW5lTWl0ZXJMaW1pdCA9IEFQSS5zZXRNaXRlckxpbWl0ID0gZnVuY3Rpb24oXHJcbiAgICBsZW5ndGhcclxuICApIHtcclxuICAgIGxlbmd0aCA9IGxlbmd0aCB8fCAwO1xyXG4gICAgaWYgKGlzTmFOKGxlbmd0aCkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuc2V0TGluZU1pdGVyTGltaXRcIik7XHJcbiAgICB9XHJcbiAgICBvdXQoaHBmKHNjYWxlKGxlbmd0aCkpICsgXCIgTVwiKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGEgcGRmIGdyYXBoaWNzIHN0YXRlLlxyXG4gICAqIEBjbGFzcyBHU3RhdGVcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyBBIHBhcmFtZXRlciBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgcHJvcGVydGllcyB0aGlzIGdyYXBoaWNzIHN0YXRlIHdhbnRzIHRvIHNldC5cclxuICAgKiBTdXBwb3J0ZWQgYXJlOiBvcGFjaXR5LCBzdHJva2Utb3BhY2l0eVxyXG4gICAqIEBjb25zdHJ1Y3RvclxyXG4gICAqL1xyXG4gIEFQSS5HU3RhdGUgPSBHU3RhdGU7XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgYSBlaXRoZXIgcHJldmlvdXNseSBhZGRlZCB7QGxpbmsgR1N0YXRlfSAodmlhIHtAbGluayBhZGRHU3RhdGV9KSBvciBhIG5ldyB7QGxpbmsgR1N0YXRlfS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ3xHU3RhdGV9IGdTdGF0ZSBJZiB0eXBlIGlzIHN0cmluZywgYSBwcmV2aW91c2x5IGFkZGVkIEdTdGF0ZSBpcyB1c2VkLCBpZiB0eXBlIGlzIEdTdGF0ZVxyXG4gICAqIGl0IHdpbGwgYmUgYWRkZWQgYmVmb3JlIHVzZS5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIHNldEdTdGF0ZVxyXG4gICAqL1xyXG4gIEFQSS5zZXRHU3RhdGUgPSBmdW5jdGlvbihnU3RhdGUpIHtcclxuICAgIGlmICh0eXBlb2YgZ1N0YXRlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGdTdGF0ZSA9IGdTdGF0ZXNbZ1N0YXRlc01hcFtnU3RhdGVdXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGdTdGF0ZSA9IGFkZEdTdGF0ZShudWxsLCBnU3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghZ1N0YXRlLmVxdWFscyhhY3RpdmVHU3RhdGUpKSB7XHJcbiAgICAgIG91dChcIi9cIiArIGdTdGF0ZS5pZCArIFwiIGdzXCIpO1xyXG4gICAgICBhY3RpdmVHU3RhdGUgPSBnU3RhdGU7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIG5ldyBHcmFwaGljcyBTdGF0ZS4gRHVwbGljYXRlcyBhcmUgYXV0b21hdGljYWxseSBlbGltaW5hdGVkLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkgTWlnaHQgYWxzbyBiZSBudWxsLCBpZiBubyBsYXRlciByZWZlcmVuY2UgdG8gdGhpcyBnU3RhdGUgaXMgbmVlZGVkXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGdTdGF0ZSBUaGUgZ1N0YXRlIG9iamVjdFxyXG4gICAqL1xyXG4gIHZhciBhZGRHU3RhdGUgPSBmdW5jdGlvbihrZXksIGdTdGF0ZSkge1xyXG4gICAgLy8gb25seSBhZGQgaXQgaWYgaXQgaXMgbm90IGFscmVhZHkgcHJlc2VudCAodGhlIGtleXMgcHJvdmlkZWQgYnkgdGhlIHVzZXIgbXVzdCBiZSB1bmlxdWUhKVxyXG4gICAgaWYgKGtleSAmJiBnU3RhdGVzTWFwW2tleV0pIHJldHVybjtcclxuICAgIHZhciBkdXBsaWNhdGUgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIHMgaW4gZ1N0YXRlcykge1xyXG4gICAgICBpZiAoZ1N0YXRlcy5oYXNPd25Qcm9wZXJ0eShzKSkge1xyXG4gICAgICAgIGlmIChnU3RhdGVzW3NdLmVxdWFscyhnU3RhdGUpKSB7XHJcbiAgICAgICAgICBkdXBsaWNhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGR1cGxpY2F0ZSkge1xyXG4gICAgICBnU3RhdGUgPSBnU3RhdGVzW3NdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGdTdGF0ZUtleSA9IFwiR1NcIiArIChPYmplY3Qua2V5cyhnU3RhdGVzKS5sZW5ndGggKyAxKS50b1N0cmluZygxMCk7XHJcbiAgICAgIGdTdGF0ZXNbZ1N0YXRlS2V5XSA9IGdTdGF0ZTtcclxuICAgICAgZ1N0YXRlLmlkID0gZ1N0YXRlS2V5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNldmVyYWwgdXNlciBrZXlzIG1heSBwb2ludCB0byB0aGUgc2FtZSBHU3RhdGUgb2JqZWN0XHJcbiAgICBrZXkgJiYgKGdTdGF0ZXNNYXBba2V5XSA9IGdTdGF0ZS5pZCk7XHJcblxyXG4gICAgZXZlbnRzLnB1Ymxpc2goXCJhZGRHU3RhdGVcIiwgZ1N0YXRlKTtcclxuXHJcbiAgICByZXR1cm4gZ1N0YXRlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBuZXcge0BsaW5rIEdTdGF0ZX0gZm9yIGxhdGVyIHVzZS4gU2VlIHtAbGluayBzZXRHU3RhdGV9LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcclxuICAgKiBAcGFyYW0ge0dTdGF0ZX0gZ1N0YXRlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqXHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGFkZEdTdGF0ZVxyXG4gICAqL1xyXG4gIEFQSS5hZGRHU3RhdGUgPSBmdW5jdGlvbihrZXksIGdTdGF0ZSkge1xyXG4gICAgYWRkR1N0YXRlKGtleSwgZ1N0YXRlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhdmVzIHRoZSBjdXJyZW50IGdyYXBoaWNzIHN0YXRlIChcInB1c2hlcyBpdCBvbiB0aGUgc3RhY2tcIikuIEl0IGNhbiBiZSByZXN0b3JlZCBieSB7QGxpbmsgcmVzdG9yZUdyYXBoaWNzU3RhdGV9XHJcbiAgICogbGF0ZXIuIEhlcmUsIHRoZSBnZW5lcmFsIHBkZiBncmFwaGljcyBzdGF0ZSBpcyBtZWFudCwgYWxzbyBpbmNsdWRpbmcgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gbWF0cml4LFxyXG4gICAqIGZpbGwgYW5kIHN0cm9rZSBjb2xvcnMgZXRjLlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2F2ZUdyYXBoaWNzU3RhdGVcclxuICAgKi9cclxuICBBUEkuc2F2ZUdyYXBoaWNzU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIG91dChcInFcIik7XHJcbiAgICAvLyBhcyB3ZSBjYW5ub3Qgc2V0IGZvbnQga2V5IGFuZCBzaXplIGluZGVwZW5kZW50bHkgd2UgbXVzdCBrZWVwIHRyYWNrIG9mIGJvdGhcclxuICAgIGZvbnRTdGF0ZVN0YWNrLnB1c2goe1xyXG4gICAgICBrZXk6IGFjdGl2ZUZvbnRLZXksXHJcbiAgICAgIHNpemU6IGFjdGl2ZUZvbnRTaXplLFxyXG4gICAgICBjb2xvcjogdGV4dENvbG9yXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc3RvcmVzIGEgcHJldmlvdXNseSBzYXZlZCBncmFwaGljcyBzdGF0ZSBzYXZlZCBieSB7QGxpbmsgc2F2ZUdyYXBoaWNzU3RhdGV9IChcInBvcHMgdGhlIHN0YWNrXCIpLlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgcmVzdG9yZUdyYXBoaWNzU3RhdGVcclxuICAgKi9cclxuICBBUEkucmVzdG9yZUdyYXBoaWNzU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIG91dChcIlFcIik7XHJcblxyXG4gICAgLy8gcmVzdG9yZSBwcmV2aW91cyBmb250IHN0YXRlXHJcbiAgICB2YXIgZm9udFN0YXRlID0gZm9udFN0YXRlU3RhY2sucG9wKCk7XHJcbiAgICBhY3RpdmVGb250S2V5ID0gZm9udFN0YXRlLmtleTtcclxuICAgIGFjdGl2ZUZvbnRTaXplID0gZm9udFN0YXRlLnNpemU7XHJcbiAgICB0ZXh0Q29sb3IgPSBmb250U3RhdGUuY29sb3I7XHJcblxyXG4gICAgYWN0aXZlR1N0YXRlID0gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBBcHBlbmRzIHRoaXMgbWF0cml4IHRvIHRoZSBsZWZ0IG9mIGFsbCBwcmV2aW91c2x5IGFwcGxpZWQgbWF0cmljZXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge01hdHJpeH0gbWF0cml4XHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBzZXRDdXJyZW50VHJhbnNmb3JtYXRpb25NYXRyaXhcclxuICAgKi9cclxuICBBUEkuc2V0Q3VycmVudFRyYW5zZm9ybWF0aW9uTWF0cml4ID0gZnVuY3Rpb24obWF0cml4KSB7XHJcbiAgICBvdXQobWF0cml4LnRvU3RyaW5nKCkgKyBcIiBjbVwiKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEluc2VydHMgYSBkZWJ1ZyBjb21tZW50IGludG8gdGhlIGdlbmVyYXRlZCBwZGYuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGluc3RhbmNlXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRcclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGNvbW1lbnRcclxuICAgKi9cclxuICBBUEkuY29tbWVudCA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIG91dChcIiNcIiArIHRleHQpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogUG9pbnRcclxuICAgKi9cclxuICB2YXIgUG9pbnQgPSBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB2YXIgX3ggPSB4IHx8IDA7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3g7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgX3ggPSBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfeSA9IHkgfHwgMDtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xyXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfeTtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICBfeSA9IHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIF90eXBlID0gXCJwdFwiO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidHlwZVwiLCB7XHJcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF90eXBlO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgX3R5cGUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlY3RhbmdsZVxyXG4gICAqL1xyXG4gIHZhciBSZWN0YW5nbGUgPSBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XHJcbiAgICBQb2ludC5jYWxsKHRoaXMsIHgsIHkpO1xyXG4gICAgdGhpcy50eXBlID0gXCJyZWN0XCI7XHJcblxyXG4gICAgdmFyIF93ID0gdyB8fCAwO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid1wiLCB7XHJcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF93O1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgIF93ID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgX2ggPSBoIHx8IDA7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJoXCIsIHtcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2g7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgX2ggPSBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvcm1PYmplY3QvUmVuZGVyVGFyZ2V0XHJcbiAgICovXHJcblxyXG4gIHZhciBSZW5kZXJUYXJnZXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucGFnZSA9IHBhZ2U7XHJcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7XHJcbiAgICB0aGlzLnBhZ2VzID0gcGFnZXMuc2xpY2UoMCk7XHJcbiAgICB0aGlzLnBhZ2VzQ29udGV4dCA9IHBhZ2VzQ29udGV4dC5zbGljZSgwKTtcclxuICAgIHRoaXMueCA9IHBhZ2VYO1xyXG4gICAgdGhpcy55ID0gcGFnZVk7XHJcbiAgICB0aGlzLm1hdHJpeCA9IHBhZ2VNYXRyaXg7XHJcbiAgICB0aGlzLndpZHRoID0gZ2V0UGFnZVdpZHRoKGN1cnJlbnRQYWdlKTtcclxuICAgIHRoaXMuaGVpZ2h0ID0gZ2V0UGFnZUhlaWdodChjdXJyZW50UGFnZSk7XHJcbiAgICB0aGlzLm91dHB1dERlc3RpbmF0aW9uID0gb3V0cHV0RGVzdGluYXRpb247XHJcblxyXG4gICAgdGhpcy5pZCA9IFwiXCI7IC8vIHNldCBieSBlbmRGb3JtT2JqZWN0KClcclxuICAgIHRoaXMub2JqZWN0TnVtYmVyID0gLTE7IC8vIHdpbGwgYmUgc2V0IGJ5IHB1dFhPYmplY3QoKVxyXG4gIH07XHJcblxyXG4gIFJlbmRlclRhcmdldC5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcGFnZSA9IHRoaXMucGFnZTtcclxuICAgIGN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZTtcclxuICAgIHBhZ2VzQ29udGV4dCA9IHRoaXMucGFnZXNDb250ZXh0O1xyXG4gICAgcGFnZXMgPSB0aGlzLnBhZ2VzO1xyXG4gICAgcGFnZVggPSB0aGlzLng7XHJcbiAgICBwYWdlWSA9IHRoaXMueTtcclxuICAgIHBhZ2VNYXRyaXggPSB0aGlzLm1hdHJpeDtcclxuICAgIHNldFBhZ2VXaWR0aChjdXJyZW50UGFnZSwgdGhpcy53aWR0aCk7XHJcbiAgICBzZXRQYWdlSGVpZ2h0KGN1cnJlbnRQYWdlLCB0aGlzLmhlaWdodCk7XHJcbiAgICBvdXRwdXREZXN0aW5hdGlvbiA9IHRoaXMub3V0cHV0RGVzdGluYXRpb247XHJcbiAgfTtcclxuXHJcbiAgdmFyIGJlZ2luTmV3UmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCwgbWF0cml4KSB7XHJcbiAgICAvLyBzYXZlIGN1cnJlbnQgc3RhdGVcclxuICAgIHJlbmRlclRhcmdldFN0YWNrLnB1c2gobmV3IFJlbmRlclRhcmdldCgpKTtcclxuXHJcbiAgICAvLyBjbGVhciBwYWdlc1xyXG4gICAgcGFnZSA9IGN1cnJlbnRQYWdlID0gMDtcclxuICAgIHBhZ2VzID0gW107XHJcbiAgICBwYWdlWCA9IHg7XHJcbiAgICBwYWdlWSA9IHk7XHJcblxyXG4gICAgcGFnZU1hdHJpeCA9IG1hdHJpeDtcclxuXHJcbiAgICBiZWdpblBhZ2UoW3dpZHRoLCBoZWlnaHRdKTtcclxuICB9O1xyXG5cclxuICB2YXIgZW5kRm9ybU9iamVjdCA9IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgLy8gb25seSBhZGQgaXQgaWYgaXQgaXMgbm90IGFscmVhZHkgcHJlc2VudCAodGhlIGtleXMgcHJvdmlkZWQgYnkgdGhlIHVzZXIgbXVzdCBiZSB1bmlxdWUhKVxyXG4gICAgaWYgKHJlbmRlclRhcmdldE1hcFtrZXldKSB7XHJcbiAgICAgIHJlbmRlclRhcmdldFN0YWNrLnBvcCgpLnJlc3RvcmUoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNhdmUgdGhlIGNyZWF0ZWQgeE9iamVjdFxyXG4gICAgdmFyIG5ld1hPYmplY3QgPSBuZXcgUmVuZGVyVGFyZ2V0KCk7XHJcblxyXG4gICAgdmFyIHhPYmplY3RJZCA9IFwiWG9cIiArIChPYmplY3Qua2V5cyhyZW5kZXJUYXJnZXRzKS5sZW5ndGggKyAxKS50b1N0cmluZygxMCk7XHJcbiAgICBuZXdYT2JqZWN0LmlkID0geE9iamVjdElkO1xyXG5cclxuICAgIHJlbmRlclRhcmdldE1hcFtrZXldID0geE9iamVjdElkO1xyXG4gICAgcmVuZGVyVGFyZ2V0c1t4T2JqZWN0SWRdID0gbmV3WE9iamVjdDtcclxuXHJcbiAgICBldmVudHMucHVibGlzaChcImFkZEZvcm1PYmplY3RcIiwgbmV3WE9iamVjdCk7XHJcblxyXG4gICAgLy8gcmVzdG9yZSBzdGF0ZSBmcm9tIHN0YWNrXHJcbiAgICByZW5kZXJUYXJnZXRTdGFjay5wb3AoKS5yZXN0b3JlKCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnRzIGEgbmV3IHBkZiBmb3JtIG9iamVjdCwgd2hpY2ggbWVhbnMgdGhhdCBhbGwgY29uc2VxdWVudCBkcmF3IGNhbGxzIHRhcmdldCBhIG5ldyBpbmRlcGVuZGVudCBvYmplY3RcclxuICAgKiB1bnRpbCB7QGxpbmsgZW5kRm9ybU9iamVjdH0gaXMgY2FsbGVkLiBUaGUgY3JlYXRlZCBvYmplY3QgY2FuIGJlIHJlZmVyZW5jZWQgYW5kIGRyYXduIGxhdGVyIHVzaW5nXHJcbiAgICoge0BsaW5rIGRvRm9ybU9iamVjdH0uIE5lc3RlZCBmb3JtIG9iamVjdHMgYXJlIHBvc3NpYmxlLlxyXG4gICAqIHgsIHksIHdpZHRoLCBoZWlnaHQgc2V0IHRoZSBib3VuZGluZyBib3ggdGhhdCBpcyB1c2VkIHRvIGNsaXAgdGhlIGNvbnRlbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge251bWJlcn0geFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxyXG4gICAqIEBwYXJhbSB7TWF0cml4fSBtYXRyaXggVGhlIG1hdHJpeCB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byBjb252ZXJ0IHRoZSBmb3JtIG9iamVjdHMgY29vcmRpbmF0ZSBzeXN0ZW0gdG9cclxuICAgKiB0aGUgcGFyZW50J3MuXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHJldHVybnMge2pzUERGfVxyXG4gICAqIEBtZW1iZXJvZiBqc1BERiNcclxuICAgKiBAbmFtZSBiZWdpbkZvcm1PYmplY3RcclxuICAgKi9cclxuICBBUEkuYmVnaW5Gb3JtT2JqZWN0ID0gZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCwgbWF0cml4KSB7XHJcbiAgICAvLyBUaGUgdXNlciBjYW4gc2V0IHRoZSBvdXRwdXQgdGFyZ2V0IHRvIGEgbmV3IGZvcm0gb2JqZWN0LiBOZXN0ZWQgZm9ybSBvYmplY3RzIGFyZSBwb3NzaWJsZS5cclxuICAgIC8vIEN1cnJlbnRseSwgdGhleSB1c2UgdGhlIHJlc291cmNlIGRpY3Rpb25hcnkgb2YgdGhlIHN1cnJvdW5kaW5nIHN0cmVhbS4gVGhpcyBzaG91bGQgYmUgY2hhbmdlZCwgYXNcclxuICAgIC8vIHRoZSBQREYtU3BlYyBzdGF0ZXM6XHJcbiAgICAvLyBcIkluIFBERiAxLjIgYW5kIGxhdGVyIHZlcnNpb25zLCBmb3JtIFhPYmplY3RzIG1heSBiZSBpbmRlcGVuZGVudCBvZiB0aGUgY29udGVudCBzdHJlYW1zIGluIHdoaWNoXHJcbiAgICAvLyB0aGV5IGFwcGVhciwgYW5kIHRoaXMgaXMgc3Ryb25nbHkgcmVjb21tZW5kZWQgYWx0aG91Z2ggbm90IHJlcXVpcmVkSW4gUERGIDEuMiBhbmQgbGF0ZXIgdmVyc2lvbnMsXHJcbiAgICAvLyBmb3JtIFhPYmplY3RzIG1heSBiZSBpbmRlcGVuZGVudCBvZiB0aGUgY29udGVudCBzdHJlYW1zIGluIHdoaWNoIHRoZXkgYXBwZWFyLCBhbmQgdGhpcyBpcyBzdHJvbmdseVxyXG4gICAgLy8gcmVjb21tZW5kZWQgYWx0aG91Z2ggbm90IHJlcXVpcmVkXCJcclxuICAgIGJlZ2luTmV3UmVuZGVyVGFyZ2V0KHgsIHksIHdpZHRoLCBoZWlnaHQsIG1hdHJpeCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDb21wbGV0ZXMgYW5kIHNhdmVzIHRoZSBmb3JtIG9iamVjdC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgYnkgd2hpY2ggdGhpcyBmb3JtIG9iamVjdCBjYW4gYmUgcmVmZXJlbmNlZC5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGVuZEZvcm1PYmplY3RcclxuICAgKi9cclxuICBBUEkuZW5kRm9ybU9iamVjdCA9IGZ1bmN0aW9uKGtleSkge1xyXG4gICAgZW5kRm9ybU9iamVjdChrZXkpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgdGhlIHNwZWNpZmllZCBmb3JtIG9iamVjdCBieSByZWZlcmVuY2luZyB0byB0aGUgcmVzcGVjdGl2ZSBwZGYgWE9iamVjdCBjcmVhdGVkIHdpdGhcclxuICAgKiB7QGxpbmsgQVBJLmJlZ2luRm9ybU9iamVjdH0gYW5kIHtAbGluayBlbmRGb3JtT2JqZWN0fS5cclxuICAgKiBUaGUgbG9jYXRpb24gaXMgZGV0ZXJtaW5lZCBieSBtYXRyaXguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdG8gdGhlIGZvcm0gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7TWF0cml4fSBtYXRyaXggVGhlIG1hdHJpeCBhcHBsaWVkIGJlZm9yZSBkcmF3aW5nIHRoZSBmb3JtIG9iamVjdC5cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcmV0dXJucyB7anNQREZ9XHJcbiAgICogQG1lbWJlcm9mIGpzUERGI1xyXG4gICAqIEBuYW1lIGRvRm9ybU9iamVjdFxyXG4gICAqL1xyXG4gIEFQSS5kb0Zvcm1PYmplY3QgPSBmdW5jdGlvbihrZXksIG1hdHJpeCkge1xyXG4gICAgdmFyIHhPYmplY3QgPSByZW5kZXJUYXJnZXRzW3JlbmRlclRhcmdldE1hcFtrZXldXTtcclxuICAgIG91dChcInFcIik7XHJcbiAgICBvdXQobWF0cml4LnRvU3RyaW5nKCkgKyBcIiBjbVwiKTtcclxuICAgIG91dChcIi9cIiArIHhPYmplY3QuaWQgKyBcIiBEb1wiKTtcclxuICAgIG91dChcIlFcIik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBmb3JtIG9iamVjdCBzcGVjaWZpZWQgYnkga2V5LlxyXG4gICAqIEBwYXJhbSBrZXkge1N0cmluZ31cclxuICAgKiBAcmV0dXJucyB7e3g6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgbWF0cml4OiBNYXRyaXh9fVxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHtqc1BERn1cclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgZ2V0Rm9ybU9iamVjdFxyXG4gICAqL1xyXG4gIEFQSS5nZXRGb3JtT2JqZWN0ID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICB2YXIgeE9iamVjdCA9IHJlbmRlclRhcmdldHNbcmVuZGVyVGFyZ2V0TWFwW2tleV1dO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogeE9iamVjdC54LFxyXG4gICAgICB5OiB4T2JqZWN0LnksXHJcbiAgICAgIHdpZHRoOiB4T2JqZWN0LndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHhPYmplY3QuaGVpZ2h0LFxyXG4gICAgICBtYXRyaXg6IHhPYmplY3QubWF0cml4XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhdmVzIGFzIFBERiBkb2N1bWVudC4gQW4gYWxpYXMgb2YganNQREYub3V0cHV0KCdzYXZlJywgJ2ZpbGVuYW1lLnBkZicpLlxyXG4gICAqIFVzZXMgRmlsZVNhdmVyLmpzLW1ldGhvZCBzYXZlQXMuXHJcbiAgICpcclxuICAgKiBAbWVtYmVyb2YganNQREYjXHJcbiAgICogQG5hbWUgc2F2ZVxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBpbnN0YW5jZVxyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZmlsZW5hbWUgVGhlIGZpbGVuYW1lIGluY2x1ZGluZyBleHRlbnNpb24uXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIEFuIE9iamVjdCB3aXRoIGFkZGl0aW9uYWwgb3B0aW9ucywgcG9zc2libGUgb3B0aW9uczogJ3JldHVyblByb21pc2UnLlxyXG4gICAqIEByZXR1cm5zIHtqc1BERnxQcm9taXNlfSBqc1BERi1pbnN0YW5jZSAgICAgKi9cclxuICBBUEkuc2F2ZSA9IGZ1bmN0aW9uKGZpbGVuYW1lLCBvcHRpb25zKSB7XHJcbiAgICBmaWxlbmFtZSA9IGZpbGVuYW1lIHx8IFwiZ2VuZXJhdGVkLnBkZlwiO1xyXG5cclxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgb3B0aW9ucy5yZXR1cm5Qcm9taXNlID0gb3B0aW9ucy5yZXR1cm5Qcm9taXNlIHx8IGZhbHNlO1xyXG5cclxuICAgIGlmIChvcHRpb25zLnJldHVyblByb21pc2UgPT09IGZhbHNlKSB7XHJcbiAgICAgIHNhdmVBcyhnZXRCbG9iKGJ1aWxkRG9jdW1lbnQoKSksIGZpbGVuYW1lKTtcclxuICAgICAgaWYgKHR5cGVvZiBzYXZlQXMudW5sb2FkID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBpZiAoZ2xvYmFsT2JqZWN0LnNldFRpbWVvdXQpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoc2F2ZUFzLnVubG9hZCwgOTExKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBzYXZlQXMoZ2V0QmxvYihidWlsZERvY3VtZW50KCkpLCBmaWxlbmFtZSk7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHNhdmVBcy51bmxvYWQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBpZiAoZ2xvYmFsT2JqZWN0LnNldFRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KHNhdmVBcy51bmxvYWQsIDkxMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICByZWplY3QoZS5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuICAvLyBhcHBseWluZyBwbHVnaW5zIChtb3JlIG1ldGhvZHMpIE9OIFRPUCBvZiBidWlsdC1pbiBBUEkuXHJcbiAgLy8gdGhpcyBpcyBpbnRlbnRpb25hbCBhcyB3ZSBhbGxvdyBwbHVnaW5zIHRvIG92ZXJyaWRlXHJcbiAgLy8gYnVpbHQtaW5zXHJcbiAgZm9yICh2YXIgcGx1Z2luIGluIGpzUERGLkFQSSkge1xyXG4gICAgaWYgKGpzUERGLkFQSS5oYXNPd25Qcm9wZXJ0eShwbHVnaW4pKSB7XHJcbiAgICAgIGlmIChwbHVnaW4gPT09IFwiZXZlbnRzXCIgJiYganNQREYuQVBJLmV2ZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAoZnVuY3Rpb24oZXZlbnRzLCBuZXdFdmVudHMpIHtcclxuICAgICAgICAgIC8vIGpzUERGLkFQSS5ldmVudHMgaXMgYSBKUyBBcnJheSBvZiBBcnJheXNcclxuICAgICAgICAgIC8vIHdoZXJlIGVhY2ggQXJyYXkgaXMgYSBwYWlyIG9mIGV2ZW50IG5hbWUsIGhhbmRsZXJcclxuICAgICAgICAgIC8vIEV2ZW50cyB3ZXJlIGFkZGVkIGJ5IHBsdWdpbnMgdG8gdGhlIGpzUERGIGluc3RhbnRpYXRvci5cclxuICAgICAgICAgIC8vIFRoZXNlIGFyZSBhbHdheXMgYWRkZWQgdG8gdGhlIG5ldyBpbnN0YW5jZSBhbmQgc29tZSByYW5cclxuICAgICAgICAgIC8vIGR1cmluZyBpbnN0YW50aWF0aW9uLlxyXG4gICAgICAgICAgdmFyIGV2ZW50bmFtZSwgaGFuZGxlcl9hbmRfYXJncywgaTtcclxuXHJcbiAgICAgICAgICBmb3IgKGkgPSBuZXdFdmVudHMubGVuZ3RoIC0gMTsgaSAhPT0gLTE7IGktLSkge1xyXG4gICAgICAgICAgICAvLyBzdWJzY3JpYmUgdGFrZXMgMyBhcmdzOiAndG9waWMnLCBmdW5jdGlvbiwgcnVub25jZV9mbGFnXHJcbiAgICAgICAgICAgIC8vIGlmIHVuZGVmaW5lZCwgcnVub25jZSBpcyBmYWxzZS5cclxuICAgICAgICAgICAgLy8gdXNlcnMgY2FuIGF0dGFjaCBjYWxsYmFjayBkaXJlY3RseSxcclxuICAgICAgICAgICAgLy8gb3IgdGhleSBjYW4gYXR0YWNoIGFuIGFycmF5IHdpdGggW2NhbGxiYWNrLCBydW5vbmNlX2ZsYWddXHJcbiAgICAgICAgICAgIC8vIHRoYXQncyB3aGF0IHRoZSBcImFwcGx5XCIgbWFnaWMgaXMgZm9yIGJlbG93LlxyXG4gICAgICAgICAgICBldmVudG5hbWUgPSBuZXdFdmVudHNbaV1bMF07XHJcbiAgICAgICAgICAgIGhhbmRsZXJfYW5kX2FyZ3MgPSBuZXdFdmVudHNbaV1bMV07XHJcbiAgICAgICAgICAgIGV2ZW50cy5zdWJzY3JpYmUuYXBwbHkoXHJcbiAgICAgICAgICAgICAgZXZlbnRzLFxyXG4gICAgICAgICAgICAgIFtldmVudG5hbWVdLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBoYW5kbGVyX2FuZF9hcmdzID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgPyBbaGFuZGxlcl9hbmRfYXJnc11cclxuICAgICAgICAgICAgICAgICAgOiBoYW5kbGVyX2FuZF9hcmdzXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pKGV2ZW50cywganNQREYuQVBJLmV2ZW50cyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQVBJW3BsdWdpbl0gPSBqc1BERi5BUElbcGx1Z2luXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyIGdldFBhZ2VXaWR0aCA9IChBUEkuZ2V0UGFnZVdpZHRoID0gZnVuY3Rpb24ocGFnZU51bWJlcikge1xyXG4gICAgcGFnZU51bWJlciA9IHBhZ2VOdW1iZXIgfHwgY3VycmVudFBhZ2U7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAocGFnZXNDb250ZXh0W3BhZ2VOdW1iZXJdLm1lZGlhQm94LnRvcFJpZ2h0WCAtXHJcbiAgICAgICAgcGFnZXNDb250ZXh0W3BhZ2VOdW1iZXJdLm1lZGlhQm94LmJvdHRvbUxlZnRYKSAvXHJcbiAgICAgIHNjYWxlRmFjdG9yXHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgc2V0UGFnZVdpZHRoID0gKEFQSS5zZXRQYWdlV2lkdGggPSBmdW5jdGlvbihwYWdlTnVtYmVyLCB2YWx1ZSkge1xyXG4gICAgcGFnZXNDb250ZXh0W3BhZ2VOdW1iZXJdLm1lZGlhQm94LnRvcFJpZ2h0WCA9XHJcbiAgICAgIHZhbHVlICogc2NhbGVGYWN0b3IgKyBwYWdlc0NvbnRleHRbcGFnZU51bWJlcl0ubWVkaWFCb3guYm90dG9tTGVmdFg7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBnZXRQYWdlSGVpZ2h0ID0gKEFQSS5nZXRQYWdlSGVpZ2h0ID0gZnVuY3Rpb24ocGFnZU51bWJlcikge1xyXG4gICAgcGFnZU51bWJlciA9IHBhZ2VOdW1iZXIgfHwgY3VycmVudFBhZ2U7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAocGFnZXNDb250ZXh0W3BhZ2VOdW1iZXJdLm1lZGlhQm94LnRvcFJpZ2h0WSAtXHJcbiAgICAgICAgcGFnZXNDb250ZXh0W3BhZ2VOdW1iZXJdLm1lZGlhQm94LmJvdHRvbUxlZnRZKSAvXHJcbiAgICAgIHNjYWxlRmFjdG9yXHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgc2V0UGFnZUhlaWdodCA9IChBUEkuc2V0UGFnZUhlaWdodCA9IGZ1bmN0aW9uKHBhZ2VOdW1iZXIsIHZhbHVlKSB7XHJcbiAgICBwYWdlc0NvbnRleHRbcGFnZU51bWJlcl0ubWVkaWFCb3gudG9wUmlnaHRZID1cclxuICAgICAgdmFsdWUgKiBzY2FsZUZhY3RvciArIHBhZ2VzQ29udGV4dFtwYWdlTnVtYmVyXS5tZWRpYUJveC5ib3R0b21MZWZ0WTtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogT2JqZWN0IGV4cG9zaW5nIGludGVybmFsIEFQSSB0byBwbHVnaW5zXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBpZ25vcmVcclxuICAgKi9cclxuICBBUEkuaW50ZXJuYWwgPSB7XHJcbiAgICBwZGZFc2NhcGU6IHBkZkVzY2FwZSxcclxuICAgIGdldFN0eWxlOiBnZXRTdHlsZSxcclxuICAgIGdldEZvbnQ6IGdldEZvbnRFbnRyeSxcclxuICAgIGdldEZvbnRTaXplOiBnZXRGb250U2l6ZSxcclxuICAgIGdldENoYXJTcGFjZTogZ2V0Q2hhclNwYWNlLFxyXG4gICAgZ2V0VGV4dENvbG9yOiBnZXRUZXh0Q29sb3IsXHJcbiAgICBnZXRMaW5lSGVpZ2h0OiBnZXRMaW5lSGVpZ2h0LFxyXG4gICAgZ2V0TGluZUhlaWdodEZhY3RvcjogZ2V0TGluZUhlaWdodEZhY3RvcixcclxuICAgIGdldExpbmVXaWR0aDogZ2V0TGluZVdpZHRoLFxyXG4gICAgd3JpdGU6IHdyaXRlLFxyXG4gICAgZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGU6IGdldEhvcml6b250YWxDb29yZGluYXRlLFxyXG4gICAgZ2V0VmVydGljYWxDb29yZGluYXRlOiBnZXRWZXJ0aWNhbENvb3JkaW5hdGUsXHJcbiAgICBnZXRDb29yZGluYXRlU3RyaW5nOiBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyxcclxuICAgIGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZzogZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nLFxyXG4gICAgY29sbGVjdGlvbnM6IHt9LFxyXG4gICAgbmV3T2JqZWN0OiBuZXdPYmplY3QsXHJcbiAgICBuZXdBZGRpdGlvbmFsT2JqZWN0OiBuZXdBZGRpdGlvbmFsT2JqZWN0LFxyXG4gICAgbmV3T2JqZWN0RGVmZXJyZWQ6IG5ld09iamVjdERlZmVycmVkLFxyXG4gICAgbmV3T2JqZWN0RGVmZXJyZWRCZWdpbjogbmV3T2JqZWN0RGVmZXJyZWRCZWdpbixcclxuICAgIGdldEZpbHRlcnM6IGdldEZpbHRlcnMsXHJcbiAgICBwdXRTdHJlYW06IHB1dFN0cmVhbSxcclxuICAgIGV2ZW50czogZXZlbnRzLFxyXG4gICAgc2NhbGVGYWN0b3I6IHNjYWxlRmFjdG9yLFxyXG4gICAgcGFnZVNpemU6IHtcclxuICAgICAgZ2V0V2lkdGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBnZXRQYWdlV2lkdGgoY3VycmVudFBhZ2UpO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXRXaWR0aDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBzZXRQYWdlV2lkdGgoY3VycmVudFBhZ2UsIHZhbHVlKTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SGVpZ2h0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gZ2V0UGFnZUhlaWdodChjdXJyZW50UGFnZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldEhlaWdodDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBzZXRQYWdlSGVpZ2h0KGN1cnJlbnRQYWdlLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBlbmNyeXB0aW9uT3B0aW9uczogZW5jcnlwdGlvbk9wdGlvbnMsXHJcbiAgICBlbmNyeXB0aW9uOiBlbmNyeXB0aW9uLFxyXG4gICAgZ2V0RW5jcnlwdG9yOiBnZXRFbmNyeXB0b3IsXHJcbiAgICBvdXRwdXQ6IG91dHB1dCxcclxuICAgIGdldE51bWJlck9mUGFnZXM6IGdldE51bWJlck9mUGFnZXMsXHJcbiAgICBwYWdlczogcGFnZXMsXHJcbiAgICBvdXQ6IG91dCxcclxuICAgIGYyOiBmMixcclxuICAgIGYzOiBmMyxcclxuICAgIGdldFBhZ2VJbmZvOiBnZXRQYWdlSW5mbyxcclxuICAgIGdldFBhZ2VJbmZvQnlPYmpJZDogZ2V0UGFnZUluZm9CeU9iaklkLFxyXG4gICAgZ2V0Q3VycmVudFBhZ2VJbmZvOiBnZXRDdXJyZW50UGFnZUluZm8sXHJcbiAgICBnZXRQREZWZXJzaW9uOiBnZXRQZGZWZXJzaW9uLFxyXG4gICAgUG9pbnQ6IFBvaW50LFxyXG4gICAgUmVjdGFuZ2xlOiBSZWN0YW5nbGUsXHJcbiAgICBNYXRyaXg6IE1hdHJpeCxcclxuICAgIGhhc0hvdGZpeDogaGFzSG90Zml4IC8vRXhwb3NlIHRoZSBoYXNIb3RmaXggY2hlY2sgc28gcGx1Z2lucyBjYW4gYWxzbyBjaGVjayB0aGVtLlxyXG4gIH07XHJcblxyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBUEkuaW50ZXJuYWwucGFnZVNpemUsIFwid2lkdGhcIiwge1xyXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGdldFBhZ2VXaWR0aChjdXJyZW50UGFnZSk7XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICBzZXRQYWdlV2lkdGgoY3VycmVudFBhZ2UsIHZhbHVlKTtcclxuICAgIH0sXHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgfSk7XHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFQSS5pbnRlcm5hbC5wYWdlU2l6ZSwgXCJoZWlnaHRcIiwge1xyXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGdldFBhZ2VIZWlnaHQoY3VycmVudFBhZ2UpO1xyXG4gICAgfSxcclxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgc2V0UGFnZUhlaWdodChjdXJyZW50UGFnZSwgdmFsdWUpO1xyXG4gICAgfSxcclxuICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICBjb25maWd1cmFibGU6IHRydWVcclxuICB9KTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gY29udGludWluZyBpbml0aWFsaXphdGlvbiBvZiBqc1BERiBEb2N1bWVudCBvYmplY3RcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBBZGQgdGhlIGZpcnN0IHBhZ2UgYXV0b21hdGljYWxseVxyXG4gIGFkZEZvbnRzLmNhbGwoQVBJLCBzdGFuZGFyZEZvbnRzKTtcclxuICBhY3RpdmVGb250S2V5ID0gXCJGMVwiO1xyXG4gIF9hZGRQYWdlKGZvcm1hdCwgb3JpZW50YXRpb24pO1xyXG5cclxuICBldmVudHMucHVibGlzaChcImluaXRpYWxpemVkXCIpO1xyXG4gIHJldHVybiBBUEk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBqc1BERi5BUEkgaXMgYSBTVEFUSUMgcHJvcGVydHkgb2YganNQREYgY2xhc3MuXHJcbiAqIGpzUERGLkFQSSBpcyBhbiBvYmplY3QgeW91IGNhbiBhZGQgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB0by5cclxuICogVGhlIG1ldGhvZHMgLyBwcm9wZXJ0aWVzIHlvdSBhZGQgd2lsbCBzaG93IHVwIGluIG5ldyBqc1BERiBvYmplY3RzLlxyXG4gKlxyXG4gKiBPbmUgcHJvcGVydHkgaXMgcHJlcG9wdWxhdGVkLiBJdCBpcyB0aGUgJ2V2ZW50cycgT2JqZWN0LiBQbHVnaW4gYXV0aG9ycyBjYW4gYWRkIHRvcGljcyxcclxuICogY2FsbGJhY2tzIHRvIHRoaXMgb2JqZWN0LiBUaGVzZSB3aWxsIGJlIHJlYXNzaWduZWQgdG8gYWxsIG5ldyBpbnN0YW5jZXMgb2YganNQREYuXHJcbiAqXHJcbiAqIEBzdGF0aWNcclxuICogQHB1YmxpY1xyXG4gKiBAbWVtYmVyb2YganNQREYjXHJcbiAqIEBuYW1lIEFQSVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBqc1BERi5BUEkubXltZXRob2QgPSBmdW5jdGlvbigpe1xyXG4gKiAgIC8vICd0aGlzJyB3aWxsIGJlIHJlZiB0byBpbnRlcm5hbCBBUEkgb2JqZWN0LiBzZWUganNQREYgc291cmNlXHJcbiAqICAgLy8gLCBzbyB5b3UgY2FuIHJlZmVyIHRvIGJ1aWx0LWluIG1ldGhvZHMgbGlrZSBzbzpcclxuICogICAvLyAgICAgdGhpcy5saW5lKC4uLi4pXHJcbiAqICAgLy8gICAgIHRoaXMudGV4dCguLi4uKVxyXG4gKiB9XHJcbiAqIHZhciBwZGZkb2MgPSBuZXcganNQREYoKVxyXG4gKiBwZGZkb2MubXltZXRob2QoKSAvLyA8LSAhISEhISFcclxuICovXHJcbmpzUERGLkFQSSA9IHtcclxuICBldmVudHM6IFtdXHJcbn07XHJcbi8qKlxyXG4gKiBUaGUgdmVyc2lvbiBvZiBqc1BERi5cclxuICogQG5hbWUgdmVyc2lvblxyXG4gKiBAdHlwZSB7c3RyaW5nfVxyXG4gKiBAbWVtYmVyb2YganNQREYjXHJcbiAqL1xyXG5qc1BERi52ZXJzaW9uID0gXCIwLjAuMFwiO1xyXG5cclxuZXhwb3J0IHsganNQREYsIFNoYWRpbmdQYXR0ZXJuLCBUaWxpbmdQYXR0ZXJuLCBHU3RhdGUgfTtcclxuZXhwb3J0IGRlZmF1bHQganNQREY7XHJcbiIsIi8qIGdsb2JhbCBqc1BERiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE2IEFsZXhhbmRlciBXZWlkdCxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9CaWdnQTk0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIGpzUERGIEFjcm9Gb3JtIFBsdWdpblxuICogQG1vZHVsZSBBY3JvRm9ybVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbnZhciBqc1BERkFQSSA9IGpzUERGLkFQSTtcbnZhciBzY2FsZUZhY3RvciA9IDE7XG5cbnZhciBwZGZFc2NhcGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWVcbiAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgLnJlcGxhY2UoL1xcKC9nLCBcIlxcXFwoXCIpXG4gICAgLnJlcGxhY2UoL1xcKS9nLCBcIlxcXFwpXCIpO1xufTtcbnZhciBwZGZVbmVzY2FwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVxuICAgIC5yZXBsYWNlKC9cXFxcXFxcXC9nLCBcIlxcXFxcIilcbiAgICAucmVwbGFjZSgvXFxcXFxcKC9nLCBcIihcIilcbiAgICAucmVwbGFjZSgvXFxcXFxcKS9nLCBcIilcIik7XG59O1xuXG52YXIgZjIgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgcmV0dXJuIG51bWJlci50b0ZpeGVkKDIpOyAvLyBJZSwgJS4yZlxufTtcblxudmFyIGY1ID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gIHJldHVybiBudW1iZXIudG9GaXhlZCg1KTsgLy8gSWUsICUuMmZcbn07XG5cbmpzUERGQVBJLl9fYWNyb2Zvcm1fXyA9IHt9O1xudmFyIGluaGVyaXQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7XG4gIGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGNoaWxkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoaWxkO1xufTtcblxudmFyIHNjYWxlID0gZnVuY3Rpb24oeCkge1xuICByZXR1cm4geCAqIHNjYWxlRmFjdG9yO1xufTtcblxudmFyIGNyZWF0ZUZvcm1YT2JqZWN0ID0gZnVuY3Rpb24oZm9ybU9iamVjdCkge1xuICB2YXIgeG9iaiA9IG5ldyBBY3JvRm9ybVhPYmplY3QoKTtcbiAgdmFyIGhlaWdodCA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkgfHwgMDtcbiAgdmFyIHdpZHRoID0gQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldFdpZHRoKGZvcm1PYmplY3QpIHx8IDA7XG4gIHhvYmouQkJveCA9IFswLCAwLCBOdW1iZXIoZjIod2lkdGgpKSwgTnVtYmVyKGYyKGhlaWdodCkpXTtcbiAgcmV0dXJuIHhvYmo7XG59O1xuXG4vKipcbiAqIEJpdC1PcGVyYXRpb25zXG4gKi9cbnZhciBzZXRCaXQgPSAoanNQREZBUEkuX19hY3JvZm9ybV9fLnNldEJpdCA9IGZ1bmN0aW9uKG51bWJlciwgYml0UG9zaXRpb24pIHtcbiAgbnVtYmVyID0gbnVtYmVyIHx8IDA7XG4gIGJpdFBvc2l0aW9uID0gYml0UG9zaXRpb24gfHwgMDtcblxuICBpZiAoaXNOYU4obnVtYmVyKSB8fCBpc05hTihiaXRQb3NpdGlvbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5BUEkuX19hY3JvZm9ybV9fLnNldEJpdFwiXG4gICAgKTtcbiAgfVxuICB2YXIgYml0TWFzayA9IDEgPDwgYml0UG9zaXRpb247XG5cbiAgbnVtYmVyIHw9IGJpdE1hc2s7XG5cbiAgcmV0dXJuIG51bWJlcjtcbn0pO1xuXG52YXIgY2xlYXJCaXQgPSAoanNQREZBUEkuX19hY3JvZm9ybV9fLmNsZWFyQml0ID0gZnVuY3Rpb24obnVtYmVyLCBiaXRQb3NpdGlvbikge1xuICBudW1iZXIgPSBudW1iZXIgfHwgMDtcbiAgYml0UG9zaXRpb24gPSBiaXRQb3NpdGlvbiB8fCAwO1xuXG4gIGlmIChpc05hTihudW1iZXIpIHx8IGlzTmFOKGJpdFBvc2l0aW9uKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLkFQSS5fX2Fjcm9mb3JtX18uY2xlYXJCaXRcIlxuICAgICk7XG4gIH1cbiAgdmFyIGJpdE1hc2sgPSAxIDw8IGJpdFBvc2l0aW9uO1xuXG4gIG51bWJlciAmPSB+Yml0TWFzaztcblxuICByZXR1cm4gbnVtYmVyO1xufSk7XG5cbnZhciBnZXRCaXQgPSAoanNQREZBUEkuX19hY3JvZm9ybV9fLmdldEJpdCA9IGZ1bmN0aW9uKG51bWJlciwgYml0UG9zaXRpb24pIHtcbiAgaWYgKGlzTmFOKG51bWJlcikgfHwgaXNOYU4oYml0UG9zaXRpb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuQVBJLl9fYWNyb2Zvcm1fXy5nZXRCaXRcIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIChudW1iZXIgJiAoMSA8PCBiaXRQb3NpdGlvbikpID09PSAwID8gMCA6IDE7XG59KTtcblxuLypcbiAqIEZmIHN0YXJ0cyBjb3VudGluZyB0aGUgYml0IHBvc2l0aW9uIGF0IDEgYW5kIG5vdCBsaWtlIGphdmFzY3JpcHQgYXQgMFxuICovXG52YXIgZ2V0Qml0Rm9yUGRmID0gKGpzUERGQVBJLl9fYWNyb2Zvcm1fXy5nZXRCaXRGb3JQZGYgPSBmdW5jdGlvbihcbiAgbnVtYmVyLFxuICBiaXRQb3NpdGlvblxuKSB7XG4gIGlmIChpc05hTihudW1iZXIpIHx8IGlzTmFOKGJpdFBvc2l0aW9uKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLkFQSS5fX2Fjcm9mb3JtX18uZ2V0Qml0Rm9yUGRmXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBnZXRCaXQobnVtYmVyLCBiaXRQb3NpdGlvbiAtIDEpO1xufSk7XG5cbnZhciBzZXRCaXRGb3JQZGYgPSAoanNQREZBUEkuX19hY3JvZm9ybV9fLnNldEJpdEZvclBkZiA9IGZ1bmN0aW9uKFxuICBudW1iZXIsXG4gIGJpdFBvc2l0aW9uXG4pIHtcbiAgaWYgKGlzTmFOKG51bWJlcikgfHwgaXNOYU4oYml0UG9zaXRpb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuQVBJLl9fYWNyb2Zvcm1fXy5zZXRCaXRGb3JQZGZcIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHNldEJpdChudW1iZXIsIGJpdFBvc2l0aW9uIC0gMSk7XG59KTtcblxudmFyIGNsZWFyQml0Rm9yUGRmID0gKGpzUERGQVBJLl9fYWNyb2Zvcm1fXy5jbGVhckJpdEZvclBkZiA9IGZ1bmN0aW9uKFxuICBudW1iZXIsXG4gIGJpdFBvc2l0aW9uXG4pIHtcbiAgaWYgKGlzTmFOKG51bWJlcikgfHwgaXNOYU4oYml0UG9zaXRpb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuQVBJLl9fYWNyb2Zvcm1fXy5jbGVhckJpdEZvclBkZlwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2xlYXJCaXQobnVtYmVyLCBiaXRQb3NpdGlvbiAtIDEpO1xufSk7XG5cbnZhciBjYWxjdWxhdGVDb29yZGluYXRlcyA9IChqc1BERkFQSS5fX2Fjcm9mb3JtX18uY2FsY3VsYXRlQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbihcbiAgYXJncyxcbiAgc2NvcGVcbikge1xuICB2YXIgZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUgPSBzY29wZS5pbnRlcm5hbC5nZXRIb3Jpem9udGFsQ29vcmRpbmF0ZTtcbiAgdmFyIGdldFZlcnRpY2FsQ29vcmRpbmF0ZSA9IHNjb3BlLmludGVybmFsLmdldFZlcnRpY2FsQ29vcmRpbmF0ZTtcbiAgdmFyIHggPSBhcmdzWzBdO1xuICB2YXIgeSA9IGFyZ3NbMV07XG4gIHZhciB3ID0gYXJnc1syXTtcbiAgdmFyIGggPSBhcmdzWzNdO1xuXG4gIHZhciBjb29yZGluYXRlcyA9IHt9O1xuXG4gIGNvb3JkaW5hdGVzLmxvd2VyTGVmdF9YID0gZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUoeCkgfHwgMDtcbiAgY29vcmRpbmF0ZXMubG93ZXJMZWZ0X1kgPSBnZXRWZXJ0aWNhbENvb3JkaW5hdGUoeSArIGgpIHx8IDA7XG4gIGNvb3JkaW5hdGVzLnVwcGVyUmlnaHRfWCA9IGdldEhvcml6b250YWxDb29yZGluYXRlKHggKyB3KSB8fCAwO1xuICBjb29yZGluYXRlcy51cHBlclJpZ2h0X1kgPSBnZXRWZXJ0aWNhbENvb3JkaW5hdGUoeSkgfHwgMDtcblxuICByZXR1cm4gW1xuICAgIE51bWJlcihmMihjb29yZGluYXRlcy5sb3dlckxlZnRfWCkpLFxuICAgIE51bWJlcihmMihjb29yZGluYXRlcy5sb3dlckxlZnRfWSkpLFxuICAgIE51bWJlcihmMihjb29yZGluYXRlcy51cHBlclJpZ2h0X1gpKSxcbiAgICBOdW1iZXIoZjIoY29vcmRpbmF0ZXMudXBwZXJSaWdodF9ZKSlcbiAgXTtcbn0pO1xuXG52YXIgY2FsY3VsYXRlQXBwZWFyYW5jZVN0cmVhbSA9IGZ1bmN0aW9uKGZvcm1PYmplY3QpIHtcbiAgaWYgKGZvcm1PYmplY3QuYXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQpIHtcbiAgICByZXR1cm4gZm9ybU9iamVjdC5hcHBlYXJhbmNlU3RyZWFtQ29udGVudDtcbiAgfVxuXG4gIGlmICghZm9ybU9iamVjdC5WICYmICFmb3JtT2JqZWN0LkRWKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gZWxzZSBjYWxjdWxhdGUgaXRcblxuICB2YXIgc3RyZWFtID0gW107XG4gIHZhciB0ZXh0ID0gZm9ybU9iamVjdC5fViB8fCBmb3JtT2JqZWN0LkRWO1xuICB2YXIgY2FsY1JlcyA9IGNhbGN1bGF0ZVgoZm9ybU9iamVjdCwgdGV4dCk7XG4gIHZhciBmb250S2V5ID0gZm9ybU9iamVjdC5zY29wZS5pbnRlcm5hbC5nZXRGb250KFxuICAgIGZvcm1PYmplY3QuZm9udE5hbWUsXG4gICAgZm9ybU9iamVjdC5mb250U3R5bGVcbiAgKS5pZDtcblxuICAvL1BERiAzMjAwMC0xOjIwMDgsIHBhZ2UgNDQ0XG4gIHN0cmVhbS5wdXNoKFwiL1R4IEJNQ1wiKTtcbiAgc3RyZWFtLnB1c2goXCJxXCIpO1xuICBzdHJlYW0ucHVzaChcIkJUXCIpOyAvLyBCZWdpbiBUZXh0XG4gIHN0cmVhbS5wdXNoKGZvcm1PYmplY3Quc2NvcGUuX19wcml2YXRlX18uZW5jb2RlQ29sb3JTdHJpbmcoZm9ybU9iamVjdC5jb2xvcikpO1xuICBzdHJlYW0ucHVzaChcIi9cIiArIGZvbnRLZXkgKyBcIiBcIiArIGYyKGNhbGNSZXMuZm9udFNpemUpICsgXCIgVGZcIik7XG4gIHN0cmVhbS5wdXNoKFwiMSAwIDAgMSAwIDAgVG1cIik7IC8vIFRyYW5zZm9ybWF0aW9uIE1hdHJpeFxuICBzdHJlYW0ucHVzaChjYWxjUmVzLnRleHQpO1xuICBzdHJlYW0ucHVzaChcIkVUXCIpOyAvLyBFbmQgVGV4dFxuICBzdHJlYW0ucHVzaChcIlFcIik7XG4gIHN0cmVhbS5wdXNoKFwiRU1DXCIpO1xuXG4gIHZhciBhcHBlYXJhbmNlU3RyZWFtQ29udGVudCA9IGNyZWF0ZUZvcm1YT2JqZWN0KGZvcm1PYmplY3QpO1xuICBhcHBlYXJhbmNlU3RyZWFtQ29udGVudC5zY29wZSA9IGZvcm1PYmplY3Quc2NvcGU7XG4gIGFwcGVhcmFuY2VTdHJlYW1Db250ZW50LnN0cmVhbSA9IHN0cmVhbS5qb2luKFwiXFxuXCIpO1xuICByZXR1cm4gYXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQ7XG59O1xuXG52YXIgY2FsY3VsYXRlWCA9IGZ1bmN0aW9uKGZvcm1PYmplY3QsIHRleHQpIHtcbiAgdmFyIG1heEZvbnRTaXplID1cbiAgICBmb3JtT2JqZWN0LmZvbnRTaXplID09PSAwID8gZm9ybU9iamVjdC5tYXhGb250U2l6ZSA6IGZvcm1PYmplY3QuZm9udFNpemU7XG4gIHZhciByZXR1cm5WYWx1ZSA9IHtcbiAgICB0ZXh0OiBcIlwiLFxuICAgIGZvbnRTaXplOiBcIlwiXG4gIH07XG4gIC8vIFJlbW92ZSBCcmFja2V0c1xuICB0ZXh0ID0gdGV4dC5zdWJzdHIoMCwgMSkgPT0gXCIoXCIgPyB0ZXh0LnN1YnN0cigxKSA6IHRleHQ7XG4gIHRleHQgPVxuICAgIHRleHQuc3Vic3RyKHRleHQubGVuZ3RoIC0gMSkgPT0gXCIpXCJcbiAgICAgID8gdGV4dC5zdWJzdHIoMCwgdGV4dC5sZW5ndGggLSAxKVxuICAgICAgOiB0ZXh0O1xuICAvLyBzcGxpdCBpbnRvIGFycmF5IG9mIHdvcmRzXG4gIHZhciB0ZXh0U3BsaXQgPSB0ZXh0LnNwbGl0KFwiIFwiKTtcbiAgaWYgKGZvcm1PYmplY3QubXVsdGlsaW5lKSB7XG4gICAgdGV4dFNwbGl0ID0gdGV4dFNwbGl0Lm1hcCh3b3JkID0+IHdvcmQuc3BsaXQoXCJcXG5cIikpO1xuICB9IGVsc2Uge1xuICAgIHRleHRTcGxpdCA9IHRleHRTcGxpdC5tYXAod29yZCA9PiBbd29yZF0pO1xuICB9XG5cbiAgdmFyIGZvbnRTaXplID0gbWF4Rm9udFNpemU7IC8vIFRoZSBTdGFydGluZyBmb250U2l6ZSAoVGhlIE1heGltdW0pXG4gIHZhciBsaW5lU3BhY2luZyA9IDI7XG4gIHZhciBib3JkZXJQYWRkaW5nID0gMjtcblxuICB2YXIgaGVpZ2h0ID0gQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KSB8fCAwO1xuICBoZWlnaHQgPSBoZWlnaHQgPCAwID8gLWhlaWdodCA6IGhlaWdodDtcbiAgdmFyIHdpZHRoID0gQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldFdpZHRoKGZvcm1PYmplY3QpIHx8IDA7XG4gIHdpZHRoID0gd2lkdGggPCAwID8gLXdpZHRoIDogd2lkdGg7XG5cbiAgdmFyIGlzU21hbGxlclRoYW5XaWR0aCA9IGZ1bmN0aW9uKGksIGxhc3RMaW5lLCBmb250U2l6ZSkge1xuICAgIGlmIChpICsgMSA8IHRleHRTcGxpdC5sZW5ndGgpIHtcbiAgICAgIHZhciB0bXAgPSBsYXN0TGluZSArIFwiIFwiICsgdGV4dFNwbGl0W2kgKyAxXVswXTtcbiAgICAgIHZhciBUZXh0V2lkdGggPSBjYWxjdWxhdGVGb250U3BhY2UodG1wLCBmb3JtT2JqZWN0LCBmb250U2l6ZSkud2lkdGg7XG4gICAgICB2YXIgRmllbGRXaWR0aCA9IHdpZHRoIC0gMiAqIGJvcmRlclBhZGRpbmc7XG4gICAgICByZXR1cm4gVGV4dFdpZHRoIDw9IEZpZWxkV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgZm9udFNpemUrKztcbiAgRm9udFNpemU6IHdoaWxlIChmb250U2l6ZSA+IDApIHtcbiAgICB0ZXh0ID0gXCJcIjtcbiAgICBmb250U2l6ZS0tO1xuICAgIHZhciB0ZXh0SGVpZ2h0ID0gY2FsY3VsYXRlRm9udFNwYWNlKFwiM1wiLCBmb3JtT2JqZWN0LCBmb250U2l6ZSkuaGVpZ2h0O1xuICAgIHZhciBzdGFydFkgPSBmb3JtT2JqZWN0Lm11bHRpbGluZVxuICAgICAgPyBoZWlnaHQgLSBmb250U2l6ZVxuICAgICAgOiAoaGVpZ2h0IC0gdGV4dEhlaWdodCkgLyAyO1xuICAgIHN0YXJ0WSArPSBsaW5lU3BhY2luZztcbiAgICB2YXIgc3RhcnRYO1xuXG4gICAgdmFyIGxhc3RZID0gc3RhcnRZO1xuICAgIHZhciBmaXJzdFdvcmRJbkxpbmUgPSAwLFxuICAgICAgbGFzdFdvcmRJbkxpbmUgPSAwO1xuICAgIHZhciBsYXN0TGVuZ3RoO1xuICAgIHZhciBjdXJyV29yZCA9IDA7XG5cbiAgICBpZiAoZm9udFNpemUgPD0gMCkge1xuICAgICAgLy8gSW4gY2FzZSwgdGhlIFRleHQgZG9lc24ndCBmaXQgYXQgYWxsXG4gICAgICBmb250U2l6ZSA9IDEyO1xuICAgICAgdGV4dCA9IFwiKC4uLikgVGpcXG5cIjtcbiAgICAgIHRleHQgKz1cbiAgICAgICAgXCIlIFdpZHRoIG9mIFRleHQ6IFwiICtcbiAgICAgICAgY2FsY3VsYXRlRm9udFNwYWNlKHRleHQsIGZvcm1PYmplY3QsIGZvbnRTaXplKS53aWR0aCArXG4gICAgICAgIFwiLCBGaWVsZFdpZHRoOlwiICtcbiAgICAgICAgd2lkdGggK1xuICAgICAgICBcIlxcblwiO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RMaW5lID0gXCJcIjtcbiAgICB2YXIgbGluZUNvdW50ID0gMDtcbiAgICBMaW5lOiBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRTcGxpdC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRleHRTcGxpdC5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBsZXQgaXNXaXRoTmV3TGluZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGV4dFNwbGl0W2ldLmxlbmd0aCAhPT0gMSAmJiBjdXJyV29yZCAhPT0gdGV4dFNwbGl0W2ldLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAodGV4dEhlaWdodCArIGxpbmVTcGFjaW5nKSAqIChsaW5lQ291bnQgKyAyKSArIGxpbmVTcGFjaW5nID5cbiAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29udGludWUgRm9udFNpemU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGFzdExpbmUgKz0gdGV4dFNwbGl0W2ldW2N1cnJXb3JkXTtcbiAgICAgICAgICBpc1dpdGhOZXdMaW5lID0gdHJ1ZTtcbiAgICAgICAgICBsYXN0V29yZEluTGluZSA9IGk7XG4gICAgICAgICAgaS0tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RMaW5lICs9IHRleHRTcGxpdFtpXVtjdXJyV29yZF0gKyBcIiBcIjtcbiAgICAgICAgICBsYXN0TGluZSA9XG4gICAgICAgICAgICBsYXN0TGluZS5zdWJzdHIobGFzdExpbmUubGVuZ3RoIC0gMSkgPT0gXCIgXCJcbiAgICAgICAgICAgICAgPyBsYXN0TGluZS5zdWJzdHIoMCwgbGFzdExpbmUubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgOiBsYXN0TGluZTtcbiAgICAgICAgICB2YXIga2V5ID0gcGFyc2VJbnQoaSk7XG4gICAgICAgICAgdmFyIG5leHRMaW5lSXNTbWFsbGVyID0gaXNTbWFsbGVyVGhhbldpZHRoKGtleSwgbGFzdExpbmUsIGZvbnRTaXplKTtcbiAgICAgICAgICB2YXIgaXNMYXN0V29yZCA9IGkgPj0gdGV4dFNwbGl0Lmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICBpZiAobmV4dExpbmVJc1NtYWxsZXIgJiYgIWlzTGFzdFdvcmQpIHtcbiAgICAgICAgICAgIGxhc3RMaW5lICs9IFwiIFwiO1xuICAgICAgICAgICAgY3VycldvcmQgPSAwO1xuICAgICAgICAgICAgY29udGludWU7IC8vIExpbmVcbiAgICAgICAgICB9IGVsc2UgaWYgKCFuZXh0TGluZUlzU21hbGxlciAmJiAhaXNMYXN0V29yZCkge1xuICAgICAgICAgICAgaWYgKCFmb3JtT2JqZWN0Lm11bHRpbGluZSkge1xuICAgICAgICAgICAgICBjb250aW51ZSBGb250U2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAodGV4dEhlaWdodCArIGxpbmVTcGFjaW5nKSAqIChsaW5lQ291bnQgKyAyKSArIGxpbmVTcGFjaW5nID5cbiAgICAgICAgICAgICAgICBoZWlnaHRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIFRleHQgaXMgaGlnaGVyIHRoYW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gRmllbGRPYmplY3RcbiAgICAgICAgICAgICAgICBjb250aW51ZSBGb250U2l6ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0V29yZEluTGluZSA9IGtleTtcbiAgICAgICAgICAgICAgLy8gZ28gb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTGFzdFdvcmQpIHtcbiAgICAgICAgICAgIGxhc3RXb3JkSW5MaW5lID0ga2V5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGZvcm1PYmplY3QubXVsdGlsaW5lICYmXG4gICAgICAgICAgICAgICh0ZXh0SGVpZ2h0ICsgbGluZVNwYWNpbmcpICogKGxpbmVDb3VudCArIDIpICsgbGluZVNwYWNpbmcgPlxuICAgICAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBUZXh0IGlzIGhpZ2hlciB0aGFuIHRoZSBGaWVsZE9iamVjdFxuICAgICAgICAgICAgICBjb250aW51ZSBGb250U2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIGxhc3QgYmxhbmtcblxuICAgICAgICB2YXIgbGluZSA9IFwiXCI7XG5cbiAgICAgICAgZm9yICh2YXIgeCA9IGZpcnN0V29yZEluTGluZTsgeCA8PSBsYXN0V29yZEluTGluZTsgeCsrKSB7XG4gICAgICAgICAgdmFyIGN1cnJMaW5lID0gdGV4dFNwbGl0W3hdO1xuICAgICAgICAgIGlmIChmb3JtT2JqZWN0Lm11bHRpbGluZSkge1xuICAgICAgICAgICAgaWYgKHggPT09IGxhc3RXb3JkSW5MaW5lKSB7XG4gICAgICAgICAgICAgIGxpbmUgKz0gY3VyckxpbmVbY3VycldvcmRdICsgXCIgXCI7XG4gICAgICAgICAgICAgIGN1cnJXb3JkID0gKGN1cnJXb3JkICsgMSkgJSBjdXJyTGluZS5sZW5ndGg7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggPT09IGZpcnN0V29yZEluTGluZSkge1xuICAgICAgICAgICAgICBsaW5lICs9IGN1cnJMaW5lW2N1cnJMaW5lLmxlbmd0aCAtIDFdICsgXCIgXCI7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBsaW5lICs9IGN1cnJMaW5lWzBdICsgXCIgXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgbGFzdCBibGFua1xuICAgICAgICBsaW5lID1cbiAgICAgICAgICBsaW5lLnN1YnN0cihsaW5lLmxlbmd0aCAtIDEpID09IFwiIFwiXG4gICAgICAgICAgICA/IGxpbmUuc3Vic3RyKDAsIGxpbmUubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIDogbGluZTtcbiAgICAgICAgLy8gbGFzdExlbmd0aCAtPSBibGFua1NwYWNlLndpZHRoO1xuICAgICAgICBsYXN0TGVuZ3RoID0gY2FsY3VsYXRlRm9udFNwYWNlKGxpbmUsIGZvcm1PYmplY3QsIGZvbnRTaXplKS53aWR0aDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgc3RhcnRYXG4gICAgICAgIHN3aXRjaCAoZm9ybU9iamVjdC50ZXh0QWxpZ24pIHtcbiAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgIHN0YXJ0WCA9IHdpZHRoIC0gbGFzdExlbmd0aCAtIGJvcmRlclBhZGRpbmc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgICAgICBzdGFydFggPSAod2lkdGggLSBsYXN0TGVuZ3RoKSAvIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzdGFydFggPSBib3JkZXJQYWRkaW5nO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCArPSBmMihzdGFydFgpICsgXCIgXCIgKyBmMihsYXN0WSkgKyBcIiBUZFxcblwiO1xuICAgICAgICB0ZXh0ICs9IFwiKFwiICsgcGRmRXNjYXBlKGxpbmUpICsgXCIpIFRqXFxuXCI7XG4gICAgICAgIC8vIHJlc2V0IFggaW4gUERGXG4gICAgICAgIHRleHQgKz0gLWYyKHN0YXJ0WCkgKyBcIiAwIFRkXFxuXCI7XG5cbiAgICAgICAgLy8gQWZ0ZXIgYSBMaW5lLCBhZGp1c3QgeSBwb3NpdGlvblxuICAgICAgICBsYXN0WSA9IC0oZm9udFNpemUgKyBsaW5lU3BhY2luZyk7XG5cbiAgICAgICAgLy8gUmVzZXQgZm9yIG5leHQgaXRlcmF0aW9uIHN0ZXBcbiAgICAgICAgbGFzdExlbmd0aCA9IDA7XG4gICAgICAgIGZpcnN0V29yZEluTGluZSA9IGlzV2l0aE5ld0xpbmUgPyBsYXN0V29yZEluTGluZSA6IGxhc3RXb3JkSW5MaW5lICsgMTtcbiAgICAgICAgbGluZUNvdW50Kys7XG5cbiAgICAgICAgbGFzdExpbmUgPSBcIlwiO1xuICAgICAgICBjb250aW51ZSBMaW5lO1xuICAgICAgfVxuICAgIH1cbiAgICBicmVhaztcbiAgfVxuXG4gIHJldHVyblZhbHVlLnRleHQgPSB0ZXh0O1xuICByZXR1cm5WYWx1ZS5mb250U2l6ZSA9IGZvbnRTaXplO1xuXG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbi8qKlxuICogU21hbGwgd29ya2Fyb3VuZCBmb3IgY2FsY3VsYXRpbmcgdGhlIFRleHRNZXRyaWMgYXBwcm94aW1hdGVseS5cbiAqXG4gKiBAcGFyYW0gdGV4dFxuICogQHBhcmFtIGZvbnRzaXplXG4gKiBAcmV0dXJucyB7VGV4dE1ldHJpY3N9IChIYXMgSGVpZ2h0IGFuZCBXaWR0aClcbiAqL1xudmFyIGNhbGN1bGF0ZUZvbnRTcGFjZSA9IGZ1bmN0aW9uKHRleHQsIGZvcm1PYmplY3QsIGZvbnRTaXplKSB7XG4gIHZhciBmb250ID0gZm9ybU9iamVjdC5zY29wZS5pbnRlcm5hbC5nZXRGb250KFxuICAgIGZvcm1PYmplY3QuZm9udE5hbWUsXG4gICAgZm9ybU9iamVjdC5mb250U3R5bGVcbiAgKTtcbiAgdmFyIHdpZHRoID1cbiAgICBmb3JtT2JqZWN0LnNjb3BlLmdldFN0cmluZ1VuaXRXaWR0aCh0ZXh0LCB7XG4gICAgICBmb250OiBmb250LFxuICAgICAgZm9udFNpemU6IHBhcnNlRmxvYXQoZm9udFNpemUpLFxuICAgICAgY2hhclNwYWNlOiAwXG4gICAgfSkgKiBwYXJzZUZsb2F0KGZvbnRTaXplKTtcbiAgdmFyIGhlaWdodCA9XG4gICAgZm9ybU9iamVjdC5zY29wZS5nZXRTdHJpbmdVbml0V2lkdGgoXCIzXCIsIHtcbiAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICBmb250U2l6ZTogcGFyc2VGbG9hdChmb250U2l6ZSksXG4gICAgICBjaGFyU3BhY2U6IDBcbiAgICB9KSAqXG4gICAgcGFyc2VGbG9hdChmb250U2l6ZSkgKlxuICAgIDEuNTtcbiAgcmV0dXJuIHsgaGVpZ2h0OiBoZWlnaHQsIHdpZHRoOiB3aWR0aCB9O1xufTtcblxudmFyIGFjcm9mb3JtUGx1Z2luVGVtcGxhdGUgPSB7XG4gIGZpZWxkczogW10sXG4gIHhGb3JtczogW10sXG4gIC8qKlxuICAgKiBhY3JvRm9ybURpY3Rpb25hcnlSb290IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBBY3JvRm9ybVxuICAgKiBEaWN0aW9uYXJ5IDA6IFRoZSBFdmVudC1Ub2tlbiwgdGhlIEFjcm9Gb3JtRGljdGlvbmFyeUNhbGxiYWNrIGhhc1xuICAgKiAxOiBUaGUgT2JqZWN0IElEIG9mIHRoZSBSb290XG4gICAqL1xuICBhY3JvRm9ybURpY3Rpb25hcnlSb290OiBudWxsLFxuICAvKipcbiAgICogQWZ0ZXIgdGhlIFBERiBnZXRzIGV2YWx1YXRlZCwgdGhlIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBoYXMgdG8gYmVcbiAgICogcmVzZXQsIHRoaXMgaW5kaWNhdGVzLCB3aGV0aGVyIHRoZSByb290IGhhcyBhbHJlYWR5IGJlZW4gcHJpbnRlZFxuICAgKiBvdXRcbiAgICovXG4gIHByaW50ZWRPdXQ6IGZhbHNlLFxuICBpbnRlcm5hbDogbnVsbCxcbiAgaXNJbml0aWFsaXplZDogZmFsc2Vcbn07XG5cbnZhciBhbm5vdFJlZmVyZW5jZUNhbGxiYWNrID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgLy9zZXQgb2JqSWQgdG8gdW5kZWZpbmVkIGFuZCBmb3JjZSBpdCB0byBnZXQgYSBuZXcgb2JqSWQgb24gYnVpbGREb2N1bWVudFxuICBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290Lm9iaklkID0gdW5kZWZpbmVkO1xuICB2YXIgZmllbGRzID0gc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5GaWVsZHM7XG4gIGZvciAodmFyIGkgaW4gZmllbGRzKSB7XG4gICAgaWYgKGZpZWxkcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgdmFyIGZvcm1PYmplY3QgPSBmaWVsZHNbaV07XG4gICAgICAvL3NldCBvYmpJZCB0byB1bmRlZmluZWQgYW5kIGZvcmNlIGl0IHRvIGdldCBhIG5ldyBvYmpJZCBvbiBidWlsZERvY3VtZW50XG4gICAgICBmb3JtT2JqZWN0Lm9iaklkID0gdW5kZWZpbmVkO1xuICAgICAgLy8gYWRkIEFubm90IFJlZmVyZW5jZSFcbiAgICAgIGlmIChmb3JtT2JqZWN0Lmhhc0Fubm90YXRpb24pIHtcbiAgICAgICAgLy8gSWYgdGhlcmVzIGFuIEFubm90YXRpb24gV2lkZ2V0IGluIHRoZSBGb3JtIE9iamVjdCwgcHV0IHRoZVxuICAgICAgICAvLyBSZWZlcmVuY2UgaW4gdGhlIC9Bbm5vdCBhcnJheVxuICAgICAgICBjcmVhdGVBbm5vdGF0aW9uUmVmZXJlbmNlKGZvcm1PYmplY3QsIHNjb3BlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciBwdXRGb3JtID0gZnVuY3Rpb24oZm9ybU9iamVjdCkge1xuICBpZiAoZm9ybU9iamVjdC5zY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5wcmludGVkT3V0KSB7XG4gICAgZm9ybU9iamVjdC5zY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5wcmludGVkT3V0ID0gZmFsc2U7XG4gICAgZm9ybU9iamVjdC5zY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290ID0gbnVsbDtcbiAgfVxuICBmb3JtT2JqZWN0LnNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3QuRmllbGRzLnB1c2goXG4gICAgZm9ybU9iamVjdFxuICApO1xufTtcbi8qKlxuICogQ3JlYXRlIHRoZSBSZWZlcmVuY2UgdG8gdGhlIHdpZGdldEFubm90YXRpb24sIHNvIHRoYXQgaXQgZ2V0cyByZWZlcmVuY2VkXG4gKiBpbiB0aGUgQW5ub3RbXSBpbnQgdGhlKyAoUmVxdWlyZXMgdGhlIEFubm90YXRpb24gUGx1Z2luKVxuICovXG52YXIgY3JlYXRlQW5ub3RhdGlvblJlZmVyZW5jZSA9IGZ1bmN0aW9uKG9iamVjdCwgc2NvcGUpIHtcbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgdHlwZTogXCJyZWZlcmVuY2VcIixcbiAgICBvYmplY3Q6IG9iamVjdFxuICB9O1xuICB2YXIgZmluZEVudHJ5ID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnkudHlwZSA9PT0gb3B0aW9ucy50eXBlICYmIGVudHJ5Lm9iamVjdCA9PT0gb3B0aW9ucy5vYmplY3Q7XG4gIH07XG4gIGlmIChcbiAgICBzY29wZS5pbnRlcm5hbFxuICAgICAgLmdldFBhZ2VJbmZvKG9iamVjdC5wYWdlKVxuICAgICAgLnBhZ2VDb250ZXh0LmFubm90YXRpb25zLmZpbmQoZmluZEVudHJ5KSA9PT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHNjb3BlLmludGVybmFsXG4gICAgICAuZ2V0UGFnZUluZm8ob2JqZWN0LnBhZ2UpXG4gICAgICAucGFnZUNvbnRleHQuYW5ub3RhdGlvbnMucHVzaChvcHRpb25zKTtcbiAgfVxufTtcblxuLy8gQ2FsbGJhY2tzXG5cbnZhciBwdXRDYXRhbG9nQ2FsbGJhY2sgPSBmdW5jdGlvbihzY29wZSkge1xuICAvLyBQdXQgcmVmZXJlbmNlIHRvIEFjcm9Gb3JtIHRvIERvY3VtZW50Q2F0YWxvZ1xuICBpZiAoXG4gICAgdHlwZW9mIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3QgIT09IFwidW5kZWZpbmVkXCJcbiAgKSB7XG4gICAgLy8gZm9yIHNhZmV0eSwgc2hvdWxkbid0IG5vcm1hbGx5IGJlIHRoZSBjYXNlXG4gICAgc2NvcGUuaW50ZXJuYWwud3JpdGUoXG4gICAgICBcIi9BY3JvRm9ybSBcIiArXG4gICAgICAgIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3Qub2JqSWQgK1xuICAgICAgICBcIiBcIiArXG4gICAgICAgIDAgK1xuICAgICAgICBcIiBSXCJcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcInB1dENhdGFsb2dDYWxsYmFjazogUm9vdCBtaXNzaW5nLlwiKTtcbiAgfVxufTtcblxuLyoqXG4gKiBBZGRzIC9BY3JvZm9ybSBYIDAgUiB0byBEb2N1bWVudCBDYXRhbG9nLCBhbmQgY3JlYXRlcyB0aGUgQWNyb0Zvcm1cbiAqIERpY3Rpb25hcnlcbiAqL1xudmFyIEFjcm9Gb3JtRGljdGlvbmFyeUNhbGxiYWNrID0gZnVuY3Rpb24oc2NvcGUpIHtcbiAgLy8gUmVtb3ZlIGV2ZW50XG4gIHNjb3BlLmludGVybmFsLmV2ZW50cy51bnN1YnNjcmliZShcbiAgICBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290Ll9ldmVudElEXG4gICk7XG4gIGRlbGV0ZSBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290Ll9ldmVudElEO1xuICBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5wcmludGVkT3V0ID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgc2luZ2xlIEZpZWxkcyBhbmQgd3JpdGVzIHRoZW0gaW50byB0aGUgRG9jdW1lbnRcbiAqXG4gKiBJZiBmaWVsZEFycmF5IGlzIHNldCwgdXNlIHRoZSBmaWVsZHMgdGhhdCBhcmUgaW5zaWRlIGl0IGluc3RlYWQgb2YgdGhlXG4gKiBmaWVsZHMgZnJvbSB0aGUgQWNyb1Jvb3QgKGZvciB0aGUgRm9ybVhPYmplY3RzLi4uKVxuICovXG52YXIgY3JlYXRlRmllbGRDYWxsYmFjayA9IGZ1bmN0aW9uKGZpZWxkQXJyYXksIHNjb3BlKSB7XG4gIHZhciBzdGFuZGFyZEZpZWxkcyA9ICFmaWVsZEFycmF5O1xuXG4gIGlmICghZmllbGRBcnJheSkge1xuICAgIC8vIGluIGNhc2UgdGhlcmUgaXMgbm8gZmllbGRBcnJheSBzcGVjaWZpZWQsIHdlIHdhbnQgdG8gcHJpbnQgb3V0XG4gICAgLy8gdGhlIEZpZWxkcyBvZiB0aGUgQWNyb0Zvcm1cbiAgICAvLyBQcmludCBvdXQgUm9vdFxuICAgIHNjb3BlLmludGVybmFsLm5ld09iamVjdERlZmVycmVkQmVnaW4oXG4gICAgICBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi5hY3JvRm9ybURpY3Rpb25hcnlSb290Lm9iaklkLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gICAgc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5wdXRTdHJlYW0oKTtcbiAgfVxuXG4gIGZpZWxkQXJyYXkgPVxuICAgIGZpZWxkQXJyYXkgfHwgc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5LaWRzO1xuXG4gIGZvciAodmFyIGkgaW4gZmllbGRBcnJheSkge1xuICAgIGlmIChmaWVsZEFycmF5Lmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICB2YXIgZmllbGRPYmplY3QgPSBmaWVsZEFycmF5W2ldO1xuICAgICAgdmFyIGtleVZhbHVlTGlzdCA9IFtdO1xuICAgICAgdmFyIG9sZFJlY3QgPSBmaWVsZE9iamVjdC5SZWN0O1xuXG4gICAgICBpZiAoZmllbGRPYmplY3QuUmVjdCkge1xuICAgICAgICBmaWVsZE9iamVjdC5SZWN0ID0gY2FsY3VsYXRlQ29vcmRpbmF0ZXMoZmllbGRPYmplY3QuUmVjdCwgc2NvcGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGFydCBXcml0aW5nIHRoZSBPYmplY3RcbiAgICAgIHNjb3BlLmludGVybmFsLm5ld09iamVjdERlZmVycmVkQmVnaW4oZmllbGRPYmplY3Qub2JqSWQsIHRydWUpO1xuXG4gICAgICBmaWVsZE9iamVjdC5EQSA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5jcmVhdGVEZWZhdWx0QXBwZWFyYW5jZVN0cmVhbShcbiAgICAgICAgZmllbGRPYmplY3RcbiAgICAgICk7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGZpZWxkT2JqZWN0ID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIHR5cGVvZiBmaWVsZE9iamVjdC5nZXRLZXlWYWx1ZUxpc3RGb3JTdHJlYW0gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgKSB7XG4gICAgICAgIGtleVZhbHVlTGlzdCA9IGZpZWxkT2JqZWN0LmdldEtleVZhbHVlTGlzdEZvclN0cmVhbSgpO1xuICAgICAgfVxuXG4gICAgICBmaWVsZE9iamVjdC5SZWN0ID0gb2xkUmVjdDtcblxuICAgICAgaWYgKFxuICAgICAgICBmaWVsZE9iamVjdC5oYXNBcHBlYXJhbmNlU3RyZWFtICYmXG4gICAgICAgICFmaWVsZE9iamVjdC5hcHBlYXJhbmNlU3RyZWFtQ29udGVudFxuICAgICAgKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBBcHBlYXJhbmNlXG4gICAgICAgIHZhciBhcHBlYXJhbmNlID0gY2FsY3VsYXRlQXBwZWFyYW5jZVN0cmVhbShmaWVsZE9iamVjdCk7XG4gICAgICAgIGtleVZhbHVlTGlzdC5wdXNoKHsga2V5OiBcIkFQXCIsIHZhbHVlOiBcIjw8L04gXCIgKyBhcHBlYXJhbmNlICsgXCI+PlwiIH0pO1xuXG4gICAgICAgIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLnhGb3Jtcy5wdXNoKGFwcGVhcmFuY2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBBc3N1bWUgQXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQgaXMgYSBBcnJheSB3aXRoIE4sUixEIChhdCBsZWFzdFxuICAgICAgLy8gb25lIG9mIHRoZW0hKVxuICAgICAgaWYgKGZpZWxkT2JqZWN0LmFwcGVhcmFuY2VTdHJlYW1Db250ZW50KSB7XG4gICAgICAgIHZhciBhcHBlYXJhbmNlU3RyZWFtU3RyaW5nID0gXCJcIjtcbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIE4sUiBhbmQgRFxuICAgICAgICBmb3IgKHZhciBrIGluIGZpZWxkT2JqZWN0LmFwcGVhcmFuY2VTdHJlYW1Db250ZW50KSB7XG4gICAgICAgICAgaWYgKGZpZWxkT2JqZWN0LmFwcGVhcmFuY2VTdHJlYW1Db250ZW50Lmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBmaWVsZE9iamVjdC5hcHBlYXJhbmNlU3RyZWFtQ29udGVudFtrXTtcbiAgICAgICAgICAgIGFwcGVhcmFuY2VTdHJlYW1TdHJpbmcgKz0gXCIvXCIgKyBrICsgXCIgXCI7XG4gICAgICAgICAgICBhcHBlYXJhbmNlU3RyZWFtU3RyaW5nICs9IFwiPDxcIjtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID49IDEgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgLy8gYXBwZWFyYW5jZVN0cmVhbSBpcyBhbiBBcnJheSBvciBPYmplY3QhXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB2YWx1ZVtpXTtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgRnVuY3Rpb24gaXMgcmVmZXJlbmNlZCwgY2FsbCBpdCBpbiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBnZXQgdGhlIEZvcm1YT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IG9iai5jYWxsKHNjb3BlLCBmaWVsZE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlU3RyZWFtU3RyaW5nICs9IFwiL1wiICsgaSArIFwiIFwiICsgb2JqICsgXCIgXCI7XG5cbiAgICAgICAgICAgICAgICAgIC8vIEluIGNhc2UgdGhlIFhGb3JtIGlzIGFscmVhZHkgdXNlZCwgZS5nLiBPZmZTdGF0ZVxuICAgICAgICAgICAgICAgICAgLy8gb2YgQ2hlY2tCb3hlcywgZG9uJ3QgYWRkIGl0XG4gICAgICAgICAgICAgICAgICBpZiAoIShzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi54Rm9ybXMuaW5kZXhPZihvYmopID49IDApKVxuICAgICAgICAgICAgICAgICAgICBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi54Rm9ybXMucHVzaChvYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb2JqID0gdmFsdWU7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBGdW5jdGlvbiBpcyByZWZlcmVuY2VkLCBjYWxsIGl0IGluIG9yZGVyIHRvXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBGb3JtWE9iamVjdFxuICAgICAgICAgICAgICAgIG9iaiA9IG9iai5jYWxsKHNjb3BlLCBmaWVsZE9iamVjdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXBwZWFyYW5jZVN0cmVhbVN0cmluZyArPSBcIi9cIiArIGkgKyBcIiBcIiArIG9iajtcbiAgICAgICAgICAgICAgaWYgKCEoc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4ueEZvcm1zLmluZGV4T2Yob2JqKSA+PSAwKSlcbiAgICAgICAgICAgICAgICBzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi54Rm9ybXMucHVzaChvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBwZWFyYW5jZVN0cmVhbVN0cmluZyArPSBcIj4+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwZWFyYW5jZSBzdHJlYW0gaXMgYSBub3JtYWwgT2JqZWN0Li5cbiAgICAgICAga2V5VmFsdWVMaXN0LnB1c2goe1xuICAgICAgICAgIGtleTogXCJBUFwiLFxuICAgICAgICAgIHZhbHVlOiBcIjw8XFxuXCIgKyBhcHBlYXJhbmNlU3RyZWFtU3RyaW5nICsgXCI+PlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5pbnRlcm5hbC5wdXRTdHJlYW0oe1xuICAgICAgICBhZGRpdGlvbmFsS2V5VmFsdWVzOiBrZXlWYWx1ZUxpc3QsXG4gICAgICAgIG9iamVjdElkOiBmaWVsZE9iamVjdC5vYmpJZFxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLmludGVybmFsLm91dChcImVuZG9ialwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKHN0YW5kYXJkRmllbGRzKSB7XG4gICAgY3JlYXRlWEZvcm1PYmplY3RDYWxsYmFjayhzY29wZS5pbnRlcm5hbC5hY3JvZm9ybVBsdWdpbi54Rm9ybXMsIHNjb3BlKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZVhGb3JtT2JqZWN0Q2FsbGJhY2sgPSBmdW5jdGlvbihmaWVsZEFycmF5LCBzY29wZSkge1xuICBmb3IgKHZhciBpIGluIGZpZWxkQXJyYXkpIHtcbiAgICBpZiAoZmllbGRBcnJheS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgdmFyIGtleSA9IGk7XG4gICAgICB2YXIgZmllbGRPYmplY3QgPSBmaWVsZEFycmF5W2ldO1xuICAgICAgLy8gU3RhcnQgV3JpdGluZyB0aGUgT2JqZWN0XG4gICAgICBzY29wZS5pbnRlcm5hbC5uZXdPYmplY3REZWZlcnJlZEJlZ2luKGZpZWxkT2JqZWN0Lm9iaklkLCB0cnVlKTtcblxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgZmllbGRPYmplY3QgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgdHlwZW9mIGZpZWxkT2JqZWN0LnB1dFN0cmVhbSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICApIHtcbiAgICAgICAgZmllbGRPYmplY3QucHV0U3RyZWFtKCk7XG4gICAgICB9XG4gICAgICBkZWxldGUgZmllbGRBcnJheVtrZXldO1xuICAgIH1cbiAgfVxufTtcblxudmFyIGluaXRpYWxpemVBY3JvRm9ybSA9IGZ1bmN0aW9uKHNjb3BlLCBmb3JtT2JqZWN0KSB7XG4gIGZvcm1PYmplY3Quc2NvcGUgPSBzY29wZTtcbiAgaWYgKFxuICAgIHNjb3BlLmludGVybmFsICE9PSB1bmRlZmluZWQgJiZcbiAgICAoc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uaXNJbml0aWFsaXplZCA9PT0gZmFsc2UpXG4gICkge1xuICAgIEFjcm9Gb3JtRmllbGQuRmllbGROdW0gPSAwO1xuICAgIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luID0gSlNPTi5wYXJzZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KGFjcm9mb3JtUGx1Z2luVGVtcGxhdGUpXG4gICAgKTtcbiAgICBpZiAoc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhjZXB0aW9uIHdoaWxlIGNyZWF0aW5nIEFjcm9mb3JtRGljdGlvbmFyeVwiKTtcbiAgICB9XG4gICAgc2NhbGVGYWN0b3IgPSBzY29wZS5pbnRlcm5hbC5zY2FsZUZhY3RvcjtcbiAgICAvLyBUaGUgT2JqZWN0IE51bWJlciBvZiB0aGUgQWNyb0Zvcm0gRGljdGlvbmFyeVxuICAgIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3QgPSBuZXcgQWNyb0Zvcm1EaWN0aW9uYXJ5KCk7XG4gICAgc2NvcGUuaW50ZXJuYWwuYWNyb2Zvcm1QbHVnaW4uYWNyb0Zvcm1EaWN0aW9uYXJ5Um9vdC5zY29wZSA9IHNjb3BlO1xuXG4gICAgLy8gYWRkIENhbGxiYWNrIGZvciBjcmVhdGluZyB0aGUgQWNyb0Zvcm0gRGljdGlvbmFyeVxuICAgIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmFjcm9Gb3JtRGljdGlvbmFyeVJvb3QuX2V2ZW50SUQgPSBzY29wZS5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFxuICAgICAgXCJwb3N0UHV0UmVzb3VyY2VzXCIsXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgQWNyb0Zvcm1EaWN0aW9uYXJ5Q2FsbGJhY2soc2NvcGUpO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBzY29wZS5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwiYnVpbGREb2N1bWVudFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGFubm90UmVmZXJlbmNlQ2FsbGJhY2soc2NvcGUpO1xuICAgIH0pOyAvLyBidWlsZERvY3VtZW50XG5cbiAgICAvLyBSZWdpc3RlciBldmVudCwgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgRG9jdW1lbnRDYXRhbG9nIGlzXG4gICAgLy8gd3JpdHRlbiwgaW4gb3JkZXIgdG8gYWRkIC9BY3JvRm9ybVxuXG4gICAgc2NvcGUuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInB1dENhdGFsb2dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBwdXRDYXRhbG9nQ2FsbGJhY2soc2NvcGUpO1xuICAgIH0pO1xuXG4gICAgLy8gUmVnaXN0ZXIgZXZlbnQsIHRoYXQgY3JlYXRlcyBhbGwgRmllbGRzXG4gICAgc2NvcGUuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInBvc3RQdXRQYWdlc1wiLCBmdW5jdGlvbihmaWVsZEFycmF5KSB7XG4gICAgICBjcmVhdGVGaWVsZENhbGxiYWNrKGZpZWxkQXJyYXksIHNjb3BlKTtcbiAgICB9KTtcblxuICAgIHNjb3BlLmludGVybmFsLmFjcm9mb3JtUGx1Z2luLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG59O1xuXG4vL1BERiAzMjAwMC0xOjIwMDgsIHBhZ2UgMjYsIDcuMy42XG52YXIgYXJyYXlUb1BkZkFycmF5ID0gKGpzUERGQVBJLl9fYWNyb2Zvcm1fXy5hcnJheVRvUGRmQXJyYXkgPSBmdW5jdGlvbihcbiAgYXJyYXksXG4gIG9iaklkLFxuICBzY29wZVxuKSB7XG4gIHZhciBlbmNyeXB0b3IgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIHZhciBjb250ZW50ID0gXCJbXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgY29udGVudCArPSBcIiBcIjtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZW9mIGFycmF5W2ldKSB7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIGNvbnRlbnQgKz0gYXJyYXlbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGlmIChhcnJheVtpXS5zdWJzdHIoMCwgMSkgIT09IFwiL1wiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iaklkICE9PSBcInVuZGVmaW5lZFwiICYmIHNjb3BlKVxuICAgICAgICAgICAgICBlbmNyeXB0b3IgPSBzY29wZS5pbnRlcm5hbC5nZXRFbmNyeXB0b3Iob2JqSWQpO1xuICAgICAgICAgICAgY29udGVudCArPSBcIihcIiArIHBkZkVzY2FwZShlbmNyeXB0b3IoYXJyYXlbaV0udG9TdHJpbmcoKSkpICsgXCIpXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRlbnQgKz0gYXJyYXlbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRlbnQgKz0gXCJdXCI7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgdG8ganNQREYuX19hY3JvZm9ybV9fLmFycmF5VG9QZGZBcnJheVwiXG4gICk7XG59KTtcbmZ1bmN0aW9uIGdldE1hdGNoZXMoc3RyaW5nLCByZWdleCwgaW5kZXgpIHtcbiAgaW5kZXggfHwgKGluZGV4ID0gMSk7IC8vIGRlZmF1bHQgdG8gdGhlIGZpcnN0IGNhcHR1cmluZyBncm91cFxuICB2YXIgbWF0Y2hlcyA9IFtdO1xuICB2YXIgbWF0Y2g7XG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHN0cmluZykpKSB7XG4gICAgbWF0Y2hlcy5wdXNoKG1hdGNoW2luZGV4XSk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG52YXIgcGRmQXJyYXlUb1N0cmluZ0FycmF5ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAodHlwZW9mIGFycmF5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmVzdWx0ID0gZ2V0TWF0Y2hlcyhhcnJheSwgL1xcKCguKj8pXFwpL2cpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgdG9QZGZTdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcsIG9iaklkLCBzY29wZSkge1xuICB2YXIgZW5jcnlwdG9yID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICBpZiAodHlwZW9mIG9iaklkICE9PSBcInVuZGVmaW5lZFwiICYmIHNjb3BlKVxuICAgIGVuY3J5cHRvciA9IHNjb3BlLmludGVybmFsLmdldEVuY3J5cHRvcihvYmpJZCk7XG4gIHN0cmluZyA9IHN0cmluZyB8fCBcIlwiO1xuICBzdHJpbmcudG9TdHJpbmcoKTtcbiAgc3RyaW5nID0gXCIoXCIgKyBwZGZFc2NhcGUoZW5jcnlwdG9yKHN0cmluZykpICsgXCIpXCI7XG4gIHJldHVybiBzdHJpbmc7XG59O1xuXG4vLyAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuLy8gQ2xhc3Nlc1xuLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcblxuLyoqXG4gKiBAY2xhc3MgQWNyb0Zvcm1QREZPYmplY3RcbiAqIEBjbGFzc2Rlc2MgQSBBY3JvRm9ybVBERk9iamVjdFxuICovXG52YXIgQWNyb0Zvcm1QREZPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fb2JqSWQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuX3Njb3BlID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAbmFtZSBBY3JvRm9ybVBERk9iamVjdCNvYmpJZFxuICAgKiBAdHlwZSB7YW55fVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwib2JqSWRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuX29iaklkID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY29wZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb2JqSWQgPSB0aGlzLnNjb3BlLmludGVybmFsLm5ld09iamVjdERlZmVycmVkKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fb2JqSWQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB0aGlzLl9vYmpJZCA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNjb3BlXCIsIHtcbiAgICB2YWx1ZTogdGhpcy5fc2NvcGUsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBmdW5jdGlvbiBBY3JvRm9ybVBERk9iamVjdC50b1N0cmluZ1xuICovXG5BY3JvRm9ybVBERk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub2JqSWQgKyBcIiAwIFJcIjtcbn07XG5cbkFjcm9Gb3JtUERGT2JqZWN0LnByb3RvdHlwZS5wdXRTdHJlYW0gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGtleVZhbHVlTGlzdCA9IHRoaXMuZ2V0S2V5VmFsdWVMaXN0Rm9yU3RyZWFtKCk7XG4gIHRoaXMuc2NvcGUuaW50ZXJuYWwucHV0U3RyZWFtKHtcbiAgICBkYXRhOiB0aGlzLnN0cmVhbSxcbiAgICBhZGRpdGlvbmFsS2V5VmFsdWVzOiBrZXlWYWx1ZUxpc3QsXG4gICAgb2JqZWN0SWQ6IHRoaXMub2JqSWRcbiAgfSk7XG4gIHRoaXMuc2NvcGUuaW50ZXJuYWwub3V0KFwiZW5kb2JqXCIpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGtleS12YWx1ZS1MaXN0IG9mIGFsbCBub24tY29uZmlndXJhYmxlIFZhcmlhYmxlcyBmcm9tIHRoZSBPYmplY3RcbiAqXG4gKiBAbmFtZSBnZXRLZXlWYWx1ZUxpc3RGb3JTdHJlYW1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbkFjcm9Gb3JtUERGT2JqZWN0LnByb3RvdHlwZS5nZXRLZXlWYWx1ZUxpc3RGb3JTdHJlYW0gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGtleVZhbHVlTGlzdCA9IFtdO1xuICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gKFxuICAgICAga2V5ICE9IFwiY29udGVudFwiICYmXG4gICAgICBrZXkgIT0gXCJhcHBlYXJhbmNlU3RyZWFtQ29udGVudFwiICYmXG4gICAgICBrZXkgIT0gXCJzY29wZVwiICYmXG4gICAgICBrZXkgIT0gXCJvYmpJZFwiICYmXG4gICAgICBrZXkuc3Vic3RyaW5nKDAsIDEpICE9IFwiX1wiXG4gICAgKTtcbiAgfSk7XG5cbiAgZm9yICh2YXIgaSBpbiBrZXlzKSB7XG4gICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcywga2V5c1tpXSkuY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBrZXlWYWx1ZUxpc3QucHVzaCh7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBhcnJheVRvUGRmQXJyYXkodmFsdWUsIHRoaXMub2JqSWQsIHRoaXMuc2NvcGUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBY3JvRm9ybVBERk9iamVjdCkge1xuICAgICAgICAgIC8vIEluIGNhc2UgaXQgaXMgYSByZWZlcmVuY2UgdG8gYW5vdGhlciBQREZPYmplY3QsXG4gICAgICAgICAgLy8gdGFrZSB0aGUgcmVmZXJlbmNlIG51bWJlclxuICAgICAgICAgIHZhbHVlLnNjb3BlID0gdGhpcy5zY29wZTtcbiAgICAgICAgICBrZXlWYWx1ZUxpc3QucHVzaCh7IGtleToga2V5LCB2YWx1ZTogdmFsdWUub2JqSWQgKyBcIiAwIFJcIiB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGtleVZhbHVlTGlzdC5wdXNoKHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ga2V5VmFsdWVMaXN0O1xufTtcblxudmFyIEFjcm9Gb3JtWE9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICBBY3JvRm9ybVBERk9iamVjdC5jYWxsKHRoaXMpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIlR5cGVcIiwge1xuICAgIHZhbHVlOiBcIi9YT2JqZWN0XCIsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJTdWJ0eXBlXCIsIHtcbiAgICB2YWx1ZTogXCIvRm9ybVwiLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiRm9ybVR5cGVcIiwge1xuICAgIHZhbHVlOiAxLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSk7XG5cbiAgdmFyIF9CQm94ID0gW107XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkJCb3hcIiwge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfQkJveDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9CQm94ID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJSZXNvdXJjZXNcIiwge1xuICAgIHZhbHVlOiBcIjIgMCBSXCIsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KTtcblxuICB2YXIgX3N0cmVhbTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic3RyZWFtXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX3N0cmVhbSA9IHZhbHVlLnRyaW0oKTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoX3N0cmVhbSkge1xuICAgICAgICByZXR1cm4gX3N0cmVhbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5pbmhlcml0KEFjcm9Gb3JtWE9iamVjdCwgQWNyb0Zvcm1QREZPYmplY3QpO1xuXG52YXIgQWNyb0Zvcm1EaWN0aW9uYXJ5ID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtUERGT2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgdmFyIF9LaWRzID0gW107XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiS2lkc1wiLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoX0tpZHMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gX0tpZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkZpZWxkc1wiLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9LaWRzO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gRGVmYXVsdCBBcHBlYXJhbmNlXG4gIHZhciBfREE7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkRBXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIV9EQSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGVuY3J5cHRvciA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuc2NvcGUpIGVuY3J5cHRvciA9IHRoaXMuc2NvcGUuaW50ZXJuYWwuZ2V0RW5jcnlwdG9yKHRoaXMub2JqSWQpO1xuICAgICAgcmV0dXJuIFwiKFwiICsgcGRmRXNjYXBlKGVuY3J5cHRvcihfREEpKSArIFwiKVwiO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX0RBID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbn07XG5cbmluaGVyaXQoQWNyb0Zvcm1EaWN0aW9uYXJ5LCBBY3JvRm9ybVBERk9iamVjdCk7XG5cbi8qKlxuICogVGhlIEZpZWxkIE9iamVjdCBjb250YWlucyB0aGUgVmFyaWFibGVzLCB0aGF0IGV2ZXJ5IEZpZWxkIG5lZWRzXG4gKlxuICogQGNsYXNzIEFjcm9Gb3JtRmllbGRcbiAqIEBjbGFzc2Rlc2MgQW4gQWNyb0Zvcm0gRmllbGRPYmplY3RcbiAqL1xudmFyIEFjcm9Gb3JtRmllbGQgPSBmdW5jdGlvbigpIHtcbiAgQWNyb0Zvcm1QREZPYmplY3QuY2FsbCh0aGlzKTtcblxuICAvL0Fubm90YXRpb24tRmxhZyBTZWUgVGFibGUgMTY1XG4gIHZhciBfRiA9IDQ7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkZcIiwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfRjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIF9GID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgZm9yIGF0dHJpYnV0ZSBGIHN1cHBsaWVkLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAoUERGIDEuMikgSWYgc2V0LCBwcmludCB0aGUgYW5ub3RhdGlvbiB3aGVuIHRoZSBwYWdlIGlzIHByaW50ZWQuIElmIGNsZWFyLCBuZXZlciBwcmludCB0aGUgYW5ub3RhdGlvbiwgcmVnYXJkbGVzcyBvZiB3ZXRoZXIgaXMgaXMgZGlzcGxheWVkIG9uIHRoZSBzY3JlZW4uXG4gICAqIE5PVEUgMiBUaGlzIGNhbiBiZSB1c2VmdWwgZm9yIGFubm90YXRpb25zIHJlcHJlc2VudGluZyBpbnRlcmFjdGl2ZSBwdXNoYnV0dG9ucywgd2hpY2ggd291bGQgc2VydmUgbm8gbWVhbmluZ2Z1bCBwdXJwb3NlIG9uIHRoZSBwcmludGVkIHBhZ2UuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtRmllbGQjc2hvd1doZW5QcmludGVkXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzaG93V2hlblByaW50ZWRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYoX0YsIDMpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkYgPSBzZXRCaXRGb3JQZGYoX0YsIDMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5GID0gY2xlYXJCaXRGb3JQZGYoX0YsIDMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdmFyIF9GZiA9IDA7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkZmXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX0ZmO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgX0ZmID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0ludmFsaWQgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgZm9yIGF0dHJpYnV0ZSBGZiBzdXBwbGllZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgX1JlY3QgPSBbXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiUmVjdFwiLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKF9SZWN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9SZWN0O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBfUmVjdCA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX1JlY3QgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgZmllbGQuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtRmllbGQjeFxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ4XCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFfUmVjdCB8fCBpc05hTihfUmVjdFswXSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gX1JlY3RbMF07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfUmVjdFswXSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBmaWVsZC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCN5XG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIV9SZWN0IHx8IGlzTmFOKF9SZWN0WzFdKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfUmVjdFsxXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9SZWN0WzFdID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogVGhlIHdpZHRoIG9mIHRoZSBmaWVsZC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCN3aWR0aFxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aWR0aFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghX1JlY3QgfHwgaXNOYU4oX1JlY3RbMl0pKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9SZWN0WzJdO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX1JlY3RbMl0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBmaWVsZC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNoZWlnaHRcbiAgICogQGRlZmF1bHQgbnVsbFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFfUmVjdCB8fCBpc05hTihfUmVjdFszXSkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gX1JlY3RbM107XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfUmVjdFszXSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIF9GVCA9IFwiXCI7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkZUXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfRlQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCIvQnRuXCI6XG4gICAgICAgIGNhc2UgXCIvVHhcIjpcbiAgICAgICAgY2FzZSBcIi9DaFwiOlxuICAgICAgICBjYXNlIFwiL1NpZ1wiOlxuICAgICAgICAgIF9GVCA9IHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGZvciBhdHRyaWJ1dGUgRlQgc3VwcGxpZWQuJ1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgX1QgPSBudWxsO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIlRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFfVCB8fCBfVC5sZW5ndGggPCAxKSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgYSBDaGlsZCBmcm9tIGEgUmFkaW/CtEdyb3VwLCB5b3UgZG9uJ3QgbmVlZCBhIEZpZWxkTmFtZVxuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEFjcm9Gb3JtQ2hpbGRDbGFzcykge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgX1QgPSBcIkZpZWxkT2JqZWN0XCIgKyBBY3JvRm9ybUZpZWxkLkZpZWxkTnVtKys7XG4gICAgICB9XG4gICAgICB2YXIgZW5jcnlwdG9yID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5zY29wZSkgZW5jcnlwdG9yID0gdGhpcy5zY29wZS5pbnRlcm5hbC5nZXRFbmNyeXB0b3IodGhpcy5vYmpJZCk7XG4gICAgICByZXR1cm4gXCIoXCIgKyBwZGZFc2NhcGUoZW5jcnlwdG9yKF9UKSkgKyBcIilcIjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9UID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAoT3B0aW9uYWwpIFRoZSBwYXJ0aWFsIGZpZWxkIG5hbWUgKHNlZSAxMi43LjMuMiwg4oCcRmllbGQgTmFtZXPigJ0pLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUZpZWxkI2ZpZWxkTmFtZVxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWVsZE5hbWVcIiwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX1Q7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfVCA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIF9mb250TmFtZSA9IFwiaGVsdmV0aWNhXCI7XG4gIC8qKlxuICAgKiBUaGUgZm9udE5hbWUgb2YgdGhlIGZvbnQgdG8gYmUgdXNlZC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNmb250TmFtZVxuICAgKiBAZGVmYXVsdCAnaGVsdmV0aWNhJ1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9udE5hbWVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX2ZvbnROYW1lO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX2ZvbnROYW1lID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICB2YXIgX2ZvbnRTdHlsZSA9IFwibm9ybWFsXCI7XG4gIC8qKlxuICAgKiBUaGUgZm9udFN0eWxlIG9mIHRoZSBmb250IHRvIGJlIHVzZWQuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtRmllbGQjZm9udFN0eWxlXG4gICAqIEBkZWZhdWx0ICdub3JtYWwnXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250U3R5bGVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX2ZvbnRTdHlsZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9mb250U3R5bGUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfZm9udFNpemUgPSAwO1xuICAvKipcbiAgICogVGhlIGZvbnRTaXplIG9mIHRoZSBmb250IHRvIGJlIHVzZWQuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtRmllbGQjZm9udFNpemVcbiAgICogQGRlZmF1bHQgMCAoZm9yIGF1dG8pXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250U2l6ZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfZm9udFNpemU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfZm9udFNpemUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfbWF4Rm9udFNpemUgPSB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBmb250U2l6ZSBvZiB0aGUgZm9udCB0byBiZSB1c2VkLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUZpZWxkI21heEZvbnRTaXplXG4gICAqIEBkZWZhdWx0IDAgKGZvciBhdXRvKVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWF4Rm9udFNpemVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoX21heEZvbnRTaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gdXNlIHRoZSBvbGQgZGVmYXVsdCB2YWx1ZSBoZXJlIC0gdGhlIHZhbHVlIGlzIHNvbWUga2luZCBvZiByYW5kb20gYXMgaXQgZGVwZW5kcyBvbiB0aGUgc2NhbGVGYWN0b3IgKHVzZXIgdW5pdClcbiAgICAgICAgLy8gKFwiNTBcIiBpcyB0cmFuc2Zvcm1lZCB0byB0aGUgXCJ1c2VyIHNwYWNlXCIgYnV0IHRoZW4gdXNlZCBpbiBcInBkZiBzcGFjZVwiKVxuICAgICAgICByZXR1cm4gNTAgLyBzY2FsZUZhY3RvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBfbWF4Rm9udFNpemU7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfbWF4Rm9udFNpemUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfY29sb3IgPSBcImJsYWNrXCI7XG4gIC8qKlxuICAgKiBUaGUgY29sb3Igb2YgdGhlIHRleHRcbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNjb2xvclxuICAgKiBAZGVmYXVsdCAnYmxhY2snXG4gICAqIEB0eXBlIHtzdHJpbmd8cmdiYX1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbG9yXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9jb2xvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9jb2xvciA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIF9EQSA9IFwiL0YxIDAgVGYgMCBnXCI7XG4gIC8vIERlZmluZXMgdGhlIGRlZmF1bHQgYXBwZWFyYW5jZSAoTmVlZGVkIGZvciB2YXJpYWJsZSBUZXh0KVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJEQVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoXG4gICAgICAgICFfREEgfHxcbiAgICAgICAgdGhpcyBpbnN0YW5jZW9mIEFjcm9Gb3JtQ2hpbGRDbGFzcyB8fFxuICAgICAgICB0aGlzIGluc3RhbmNlb2YgQWNyb0Zvcm1UZXh0RmllbGRcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvUGRmU3RyaW5nKF9EQSwgdGhpcy5vYmpJZCwgdGhpcy5zY29wZSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICBfREEgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfRFYgPSBudWxsO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJEVlwiLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFfRFYpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQWNyb0Zvcm1CdXR0b24gPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiB0b1BkZlN0cmluZyhfRFYsIHRoaXMub2JqSWQsIHRoaXMuc2NvcGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9EVjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQWNyb0Zvcm1CdXR0b24gPT09IGZhbHNlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5zdWJzdHIoMCwgMSkgPT09IFwiKFwiKSB7XG4gICAgICAgICAgX0RWID0gcGRmVW5lc2NhcGUodmFsdWUuc3Vic3RyKDEsIHZhbHVlLmxlbmd0aCAtIDIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfRFYgPSBwZGZVbmVzY2FwZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9EViA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIChPcHRpb25hbDsgaW5oZXJpdGFibGUpIFRoZSBkZWZhdWx0IHZhbHVlIHRvIHdoaWNoIHRoZSBmaWVsZCByZXZlcnRzIHdoZW4gYSByZXNldC1mb3JtIGFjdGlvbiBpcyBleGVjdXRlZCAoc2VlIDEyLjcuNS4zLCDigJxSZXNldC1Gb3JtIEFjdGlvbuKAnSkuIFRoZSBmb3JtYXQgb2YgdGhpcyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGF0IG9mIHZhbHVlLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUZpZWxkI2RlZmF1bHRWYWx1ZVxuICAgKiBAZGVmYXVsdCBudWxsXG4gICAqIEB0eXBlIHthbnl9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkZWZhdWx0VmFsdWVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEFjcm9Gb3JtQnV0dG9uID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBwZGZVbmVzY2FwZShfRFYuc3Vic3RyKDEsIF9EVi5sZW5ndGggLSAxKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gX0RWO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBBY3JvRm9ybUJ1dHRvbiA9PT0gdHJ1ZSkge1xuICAgICAgICBfRFYgPSBcIi9cIiArIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX0RWID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgX1YgPSBudWxsO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfVlwiLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFfVikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9WO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdGhpcy5WID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiVlwiLCB7XG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFfVikge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBBY3JvRm9ybUJ1dHRvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHRvUGRmU3RyaW5nKF9WLCB0aGlzLm9iaklkLCB0aGlzLnNjb3BlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfVjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQWNyb0Zvcm1CdXR0b24gPT09IGZhbHNlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5zdWJzdHIoMCwgMSkgPT09IFwiKFwiKSB7XG4gICAgICAgICAgX1YgPSBwZGZVbmVzY2FwZSh2YWx1ZS5zdWJzdHIoMSwgdmFsdWUubGVuZ3RoIC0gMikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9WID0gcGRmVW5lc2NhcGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfViA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIChPcHRpb25hbDsgaW5oZXJpdGFibGUpIFRoZSBmaWVsZOKAmXMgdmFsdWUsIHdob3NlIGZvcm1hdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBmaWVsZCB0eXBlLiBTZWUgdGhlIGRlc2NyaXB0aW9ucyBvZiBpbmRpdmlkdWFsIGZpZWxkIHR5cGVzIGZvciBmdXJ0aGVyIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUZpZWxkI3ZhbHVlXG4gICAqIEBkZWZhdWx0IG51bGxcbiAgICogQHR5cGUge2FueX1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZhbHVlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBBY3JvRm9ybUJ1dHRvbiA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gcGRmVW5lc2NhcGUoX1Yuc3Vic3RyKDEsIF9WLmxlbmd0aCAtIDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBfVjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgQWNyb0Zvcm1CdXR0b24gPT09IHRydWUpIHtcbiAgICAgICAgX1YgPSBcIi9cIiArIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX1YgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBmaWVsZCBoYXMgYW5ub3RhdGlvbnNcbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNoYXNBbm5vdGF0aW9uXG4gICAqIEByZWFkb25seVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhc0Fubm90YXRpb25cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5SZWN0O1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiVHlwZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXNBbm5vdGF0aW9uID8gXCIvQW5ub3RcIiA6IG51bGw7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJTdWJ0eXBlXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc0Fubm90YXRpb24gPyBcIi9XaWRnZXRcIiA6IG51bGw7XG4gICAgfVxuICB9KTtcblxuICB2YXIgX2hhc0FwcGVhcmFuY2VTdHJlYW0gPSBmYWxzZTtcbiAgLyoqXG4gICAqIHRydWUgaWYgZmllbGQgaGFzIGFuIGFwcGVhcmFuY2VTdHJlYW1cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNoYXNBcHBlYXJhbmNlU3RyZWFtXG4gICAqIEByZWFkb25seVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhc0FwcGVhcmFuY2VTdHJlYW1cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX2hhc0FwcGVhcmFuY2VTdHJlYW07XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IEJvb2xlYW4odmFsdWUpO1xuICAgICAgX2hhc0FwcGVhcmFuY2VTdHJlYW0gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFnZSBvbiB3aGljaCB0aGUgQWNyb0Zvcm1GaWVsZCBpcyBwbGFjZWRcbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNwYWdlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB2YXIgX3BhZ2U7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2VcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIV9wYWdlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3BhZ2U7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfcGFnZSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIHVzZXIgbWF5IG5vdCBjaGFuZ2UgdGhlIHZhbHVlIG9mIHRoZSBmaWVsZC4gQW55IGFzc29jaWF0ZWQgd2lkZ2V0IGFubm90YXRpb25zIHdpbGwgbm90IGludGVyYWN0IHdpdGggdGhlIHVzZXI7IHRoYXQgaXMsIHRoZXkgd2lsbCBub3QgcmVzcG9uZCB0byBtb3VzZSBjbGlja3Mgb3IgY2hhbmdlIHRoZWlyIGFwcGVhcmFuY2UgaW4gcmVzcG9uc2UgdG8gbW91c2UgbW90aW9ucy4gVGhpcyBmbGFnIGlzIHVzZWZ1bCBmb3IgZmllbGRzIHdob3NlIHZhbHVlcyBhcmUgY29tcHV0ZWQgb3IgaW1wb3J0ZWQgZnJvbSBhIGRhdGFiYXNlLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUZpZWxkI3JlYWRPbmx5XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVhZE9ubHlcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMSkpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKEJvb2xlYW4odmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuRmYgPSBzZXRCaXRGb3JQZGYodGhpcy5GZiwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgZmllbGQgc2hhbGwgaGF2ZSBhIHZhbHVlIGF0IHRoZSB0aW1lIGl0IGlzIGV4cG9ydGVkIGJ5IGEgc3VibWl0Zm9ybSBhY3Rpb24gKHNlZSAxMi43LjUuMiwg4oCcU3VibWl0LUZvcm0gQWN0aW9u4oCdKS5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1GaWVsZCNyZXF1aXJlZFxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlcXVpcmVkXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDIpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5GZiA9IGNsZWFyQml0Rm9yUGRmKHRoaXMuRmYsIDIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIHNoYWxsIG5vdCBiZSBleHBvcnRlZCBieSBhIHN1Ym1pdC1mb3JtIGFjdGlvbiAoc2VlIDEyLjcuNS4yLCDigJxTdWJtaXQtRm9ybSBBY3Rpb27igJ0pXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtRmllbGQjbm9FeHBvcnRcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJub0V4cG9ydFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGdldEJpdEZvclBkZih0aGlzLkZmLCAzKSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQm9vbGVhbih2YWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfUSA9IG51bGw7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIlFcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKF9RID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gX1E7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoWzAsIDEsIDJdLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgICBfUSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdJbnZhbGlkIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGZvciBhdHRyaWJ1dGUgUSBzdXBwbGllZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKE9wdGlvbmFsOyBpbmhlcml0YWJsZSkgQSBjb2RlIHNwZWNpZnlpbmcgdGhlIGZvcm0gb2YgcXVhZGRpbmcgKGp1c3RpZmljYXRpb24pIHRoYXQgc2hhbGwgYmUgdXNlZCBpbiBkaXNwbGF5aW5nIHRoZSB0ZXh0OlxuICAgKiAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtRmllbGQjdGV4dEFsaWduXG4gICAqIEBkZWZhdWx0ICdsZWZ0J1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidGV4dEFsaWduXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHN3aXRjaCAoX1EpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlc3VsdCA9IFwibGVmdFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVzdWx0ID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJlc3VsdCA9IFwicmlnaHRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgX1EgPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBfUSA9IDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBfUSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbmluaGVyaXQoQWNyb0Zvcm1GaWVsZCwgQWNyb0Zvcm1QREZPYmplY3QpO1xuXG4vKipcbiAqIEBjbGFzcyBBY3JvRm9ybUNob2ljZUZpZWxkXG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUZpZWxkXG4gKi9cbnZhciBBY3JvRm9ybUNob2ljZUZpZWxkID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtRmllbGQuY2FsbCh0aGlzKTtcbiAgLy8gRmllbGQgVHlwZSA9IENob2ljZSBGaWVsZFxuICB0aGlzLkZUID0gXCIvQ2hcIjtcbiAgLy8gb3B0aW9uc1xuICB0aGlzLlYgPSBcIigpXCI7XG5cbiAgdGhpcy5mb250TmFtZSA9IFwiemFwZmRpbmdiYXRzXCI7XG4gIC8vIFRvcCBJbmRleFxuICB2YXIgX1RJID0gMDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJUSVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX1RJO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX1RJID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKE9wdGlvbmFsKSBGb3Igc2Nyb2xsYWJsZSBsaXN0IGJveGVzLCB0aGUgdG9wIGluZGV4ICh0aGUgaW5kZXggaW4gdGhlIE9wdCBhcnJheSBvZiB0aGUgZmlyc3Qgb3B0aW9uIHZpc2libGUgaW4gdGhlIGxpc3QpLiBEZWZhdWx0IHZhbHVlOiAwLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUNob2ljZUZpZWxkI3RvcEluZGV4XG4gICAqIEBkZWZhdWx0IDBcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvcEluZGV4XCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9USTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9USSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIF9PcHQgPSBbXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiT3B0XCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBhcnJheVRvUGRmQXJyYXkoX09wdCwgdGhpcy5vYmpJZCwgdGhpcy5zY29wZSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfT3B0ID0gcGRmQXJyYXlUb1N0cmluZ0FycmF5KHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgQWNyb0Zvcm1DaG9pY2VGaWVsZFxuICAgKiBAbmFtZSBnZXRPcHRpb25zXG4gICAqIEBmdW5jdGlvblxuICAgKiBAaW5zdGFuY2VcbiAgICogQHJldHVybnMge2FycmF5fSBhcnJheSBvZiBPcHRpb25zXG4gICAqL1xuICB0aGlzLmdldE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gX09wdDtcbiAgfTtcblxuICAvKipcbiAgICogQG1lbWJlcm9mIEFjcm9Gb3JtQ2hvaWNlRmllbGRcbiAgICogQG5hbWUgc2V0T3B0aW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQGluc3RhbmNlXG4gICAqIEBwYXJhbSB7YXJyYXl9IHZhbHVlXG4gICAqL1xuICB0aGlzLnNldE9wdGlvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIF9PcHQgPSB2YWx1ZTtcbiAgICBpZiAodGhpcy5zb3J0KSB7XG4gICAgICBfT3B0LnNvcnQoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBtZW1iZXJvZiBBY3JvRm9ybUNob2ljZUZpZWxkXG4gICAqIEBuYW1lIGFkZE9wdGlvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgdGhpcy5hZGRPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlID0gdmFsdWUgfHwgXCJcIjtcbiAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgX09wdC5wdXNoKHZhbHVlKTtcbiAgICBpZiAodGhpcy5zb3J0KSB7XG4gICAgICBfT3B0LnNvcnQoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBtZW1iZXJvZiBBY3JvRm9ybUNob2ljZUZpZWxkXG4gICAqIEBuYW1lIHJlbW92ZU9wdGlvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFsbEVudHJpZXMgKGRlZmF1bHQ6IGZhbHNlKVxuICAgKi9cbiAgdGhpcy5yZW1vdmVPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSwgYWxsRW50cmllcykge1xuICAgIGFsbEVudHJpZXMgPSBhbGxFbnRyaWVzIHx8IGZhbHNlO1xuICAgIHZhbHVlID0gdmFsdWUgfHwgXCJcIjtcbiAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cbiAgICB3aGlsZSAoX09wdC5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgIF9PcHQuc3BsaWNlKF9PcHQuaW5kZXhPZih2YWx1ZSksIDEpO1xuICAgICAgaWYgKGFsbEVudHJpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSWYgc2V0LCB0aGUgZmllbGQgaXMgYSBjb21ibyBib3g7IGlmIGNsZWFyLCB0aGUgZmllbGQgaXMgYSBsaXN0IGJveC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1DaG9pY2VGaWVsZCNjb21ib1xuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbWJvXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDE4KSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQm9vbGVhbih2YWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAxOCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMTgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGNvbWJvIGJveCBzaGFsbCBpbmNsdWRlIGFuIGVkaXRhYmxlIHRleHQgYm94IGFzIHdlbGwgYXMgYSBkcm9wLWRvd24gbGlzdDsgaWYgY2xlYXIsIGl0IHNoYWxsIGluY2x1ZGUgb25seSBhIGRyb3AtZG93biBsaXN0LiBUaGlzIGZsYWcgc2hhbGwgYmUgdXNlZCBvbmx5IGlmIHRoZSBDb21ibyBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1DaG9pY2VGaWVsZCNlZGl0XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZWRpdFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGdldEJpdEZvclBkZih0aGlzLkZmLCAxOSkpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgLy9QREYgMzIwMDAtMToyMDA4LCBwYWdlIDQ0NFxuICAgICAgaWYgKHRoaXMuY29tYm8gPT09IHRydWUpIHtcbiAgICAgICAgaWYgKEJvb2xlYW4odmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAxOSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5GZiA9IGNsZWFyQml0Rm9yUGRmKHRoaXMuRmYsIDE5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxk4oCZcyBvcHRpb24gaXRlbXMgc2hhbGwgYmUgc29ydGVkIGFscGhhYmV0aWNhbGx5LiBUaGlzIGZsYWcgaXMgaW50ZW5kZWQgZm9yIHVzZSBieSB3cml0ZXJzLCBub3QgYnkgcmVhZGVycy4gQ29uZm9ybWluZyByZWFkZXJzIHNoYWxsIGRpc3BsYXkgdGhlIG9wdGlvbnMgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgb2NjdXIgaW4gdGhlIE9wdCBhcnJheSAoc2VlIFRhYmxlIDIzMSkuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtQ2hvaWNlRmllbGQjc29ydFxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNvcnRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMjApKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDIwKTtcbiAgICAgICAgX09wdC5zb3J0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMjApO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIChQREYgMS40KSBJZiBzZXQsIG1vcmUgdGhhbiBvbmUgb2YgdGhlIGZpZWxk4oCZcyBvcHRpb24gaXRlbXMgbWF5IGJlIHNlbGVjdGVkIHNpbXVsdGFuZW91c2x5OyBpZiBjbGVhciwgYXQgbW9zdCBvbmUgaXRlbSBzaGFsbCBiZSBzZWxlY3RlZFxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUNob2ljZUZpZWxkI211bHRpU2VsZWN0XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibXVsdGlTZWxlY3RcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMjIpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDIyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAyMik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFBERiAxLjQpIElmIHNldCwgdGV4dCBlbnRlcmVkIGluIHRoZSBmaWVsZCBzaGFsbCBub3QgYmUgc3BlbGxjaGVja2VkLiBUaGlzIGZsYWcgc2hhbGwgbm90IGJlIHVzZWQgdW5sZXNzIHRoZSBDb21ibyBhbmQgRWRpdCBmbGFncyBhcmUgYm90aCBzZXQuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtQ2hvaWNlRmllbGQjZG9Ob3RTcGVsbENoZWNrXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9Ob3RTcGVsbENoZWNrXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDIzKSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQm9vbGVhbih2YWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAyMyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMjMpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIChQREYgMS41KSBJZiBzZXQsIHRoZSBuZXcgdmFsdWUgc2hhbGwgYmUgY29tbWl0dGVkIGFzIHNvb24gYXMgYSBzZWxlY3Rpb24gaXMgbWFkZSAoY29tbW9ubHkgd2l0aCB0aGUgcG9pbnRpbmcgZGV2aWNlKS4gSW4gdGhpcyBjYXNlLCBzdXBwbHlpbmcgYSB2YWx1ZSBmb3IgYSBmaWVsZCBpbnZvbHZlcyB0aHJlZSBhY3Rpb25zOiBzZWxlY3RpbmcgdGhlIGZpZWxkIGZvciBmaWxsLWluLCBzZWxlY3RpbmcgYSBjaG9pY2UgZm9yIHRoZSBmaWxsLWluIHZhbHVlLCBhbmQgbGVhdmluZyB0aGF0IGZpZWxkLCB3aGljaCBmaW5hbGl6ZXMgb3Ig4oCcY29tbWl0c+KAnSB0aGUgZGF0YSBjaG9pY2UgYW5kIHRyaWdnZXJzIGFueSBhY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgZW50cnkgb3IgY2hhbmdpbmcgb2YgdGhpcyBkYXRhLiBJZiB0aGlzIGZsYWcgaXMgb24sIHRoZW4gcHJvY2Vzc2luZyBkb2VzIG5vdCB3YWl0IGZvciBsZWF2aW5nIHRoZSBmaWVsZCBhY3Rpb24gdG8gb2NjdXIsIGJ1dCBpbW1lZGlhdGVseSBwcm9jZWVkcyB0byB0aGUgdGhpcmQgc3RlcC5cbiAgICogVGhpcyBvcHRpb24gZW5hYmxlcyBhcHBsaWNhdGlvbnMgdG8gcGVyZm9ybSBhbiBhY3Rpb24gb25jZSBhIHNlbGVjdGlvbiBpcyBtYWRlLCB3aXRob3V0IHJlcXVpcmluZyB0aGUgdXNlciB0byBleGl0IHRoZSBmaWVsZC4gSWYgY2xlYXIsIHRoZSBuZXcgdmFsdWUgaXMgbm90IGNvbW1pdHRlZCB1bnRpbCB0aGUgdXNlciBleGl0cyB0aGUgZmllbGQuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtQ2hvaWNlRmllbGQjY29tbWl0T25TZWxDaGFuZ2VcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21taXRPblNlbENoYW5nZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGdldEJpdEZvclBkZih0aGlzLkZmLCAyNykpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKEJvb2xlYW4odmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuRmYgPSBzZXRCaXRGb3JQZGYodGhpcy5GZiwgMjcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5GZiA9IGNsZWFyQml0Rm9yUGRmKHRoaXMuRmYsIDI3KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuaGFzQXBwZWFyYW5jZVN0cmVhbSA9IGZhbHNlO1xufTtcbmluaGVyaXQoQWNyb0Zvcm1DaG9pY2VGaWVsZCwgQWNyb0Zvcm1GaWVsZCk7XG5cbi8qKlxuICogQGNsYXNzIEFjcm9Gb3JtTGlzdEJveFxuICogQGV4dGVuZHMgQWNyb0Zvcm1DaG9pY2VGaWVsZFxuICogQGV4dGVuZHMgQWNyb0Zvcm1GaWVsZFxuICovXG52YXIgQWNyb0Zvcm1MaXN0Qm94ID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtQ2hvaWNlRmllbGQuY2FsbCh0aGlzKTtcbiAgdGhpcy5mb250TmFtZSA9IFwiaGVsdmV0aWNhXCI7XG5cbiAgLy9QREYgMzIwMDAtMToyMDA4LCBwYWdlIDQ0NFxuICB0aGlzLmNvbWJvID0gZmFsc2U7XG59O1xuaW5oZXJpdChBY3JvRm9ybUxpc3RCb3gsIEFjcm9Gb3JtQ2hvaWNlRmllbGQpO1xuXG4vKipcbiAqIEBjbGFzcyBBY3JvRm9ybUNvbWJvQm94XG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUxpc3RCb3hcbiAqIEBleHRlbmRzIEFjcm9Gb3JtQ2hvaWNlRmllbGRcbiAqIEBleHRlbmRzIEFjcm9Gb3JtRmllbGRcbiAqL1xudmFyIEFjcm9Gb3JtQ29tYm9Cb3ggPSBmdW5jdGlvbigpIHtcbiAgQWNyb0Zvcm1MaXN0Qm94LmNhbGwodGhpcyk7XG4gIHRoaXMuY29tYm8gPSB0cnVlO1xufTtcbmluaGVyaXQoQWNyb0Zvcm1Db21ib0JveCwgQWNyb0Zvcm1MaXN0Qm94KTtcblxuLyoqXG4gKiBAY2xhc3MgQWNyb0Zvcm1FZGl0Qm94XG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUNvbWJvQm94XG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUxpc3RCb3hcbiAqIEBleHRlbmRzIEFjcm9Gb3JtQ2hvaWNlRmllbGRcbiAqIEBleHRlbmRzIEFjcm9Gb3JtRmllbGRcbiAqL1xudmFyIEFjcm9Gb3JtRWRpdEJveCA9IGZ1bmN0aW9uKCkge1xuICBBY3JvRm9ybUNvbWJvQm94LmNhbGwodGhpcyk7XG4gIHRoaXMuZWRpdCA9IHRydWU7XG59O1xuaW5oZXJpdChBY3JvRm9ybUVkaXRCb3gsIEFjcm9Gb3JtQ29tYm9Cb3gpO1xuXG4vKipcbiAqIEBjbGFzcyBBY3JvRm9ybUJ1dHRvblxuICogQGV4dGVuZHMgQWNyb0Zvcm1GaWVsZFxuICovXG52YXIgQWNyb0Zvcm1CdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgQWNyb0Zvcm1GaWVsZC5jYWxsKHRoaXMpO1xuICB0aGlzLkZUID0gXCIvQnRuXCI7XG5cbiAgLyoqXG4gICAqIChSYWRpbyBidXR0b25zIG9ubHkpIElmIHNldCwgZXhhY3RseSBvbmUgcmFkaW8gYnV0dG9uIHNoYWxsIGJlIHNlbGVjdGVkIGF0IGFsbCB0aW1lczsgc2VsZWN0aW5nIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgYnV0dG9uIGhhcyBubyBlZmZlY3QuIElmIGNsZWFyLCBjbGlja2luZyB0aGUgc2VsZWN0ZWQgYnV0dG9uIGRlc2VsZWN0cyBpdCwgbGVhdmluZyBubyBidXR0b24gc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtQnV0dG9uI25vVG9nZ2xlVG9PZmZcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJub1RvZ2dsZVRvT2ZmXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDE1KSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQm9vbGVhbih2YWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAxNSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMTUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIGlzIGEgc2V0IG9mIHJhZGlvIGJ1dHRvbnM7IGlmIGNsZWFyLCB0aGUgZmllbGQgaXMgYSBjaGVja2JveC4gVGhpcyBmbGFnIG1heSBiZSBzZXQgb25seSBpZiB0aGUgUHVzaGJ1dHRvbiBmbGFnIGlzIGNsZWFyLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUJ1dHRvbiNyYWRpb1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJhZGlvXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDE2KSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQm9vbGVhbih2YWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAxNik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMTYpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIGlzIGEgcHVzaGJ1dHRvbiB0aGF0IGRvZXMgbm90IHJldGFpbiBhIHBlcm1hbmVudCB2YWx1ZS5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1CdXR0b24jcHVzaEJ1dHRvblxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInB1c2hCdXR0b25cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMTcpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDE3KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAxNyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFBERiAxLjUpIElmIHNldCwgYSBncm91cCBvZiByYWRpbyBidXR0b25zIHdpdGhpbiBhIHJhZGlvIGJ1dHRvbiBmaWVsZCB0aGF0IHVzZSB0aGUgc2FtZSB2YWx1ZSBmb3IgdGhlIG9uIHN0YXRlIHdpbGwgdHVybiBvbiBhbmQgb2ZmIGluIHVuaXNvbjsgdGhhdCBpcyBpZiBvbmUgaXMgY2hlY2tlZCwgdGhleSBhcmUgYWxsIGNoZWNrZWQuIElmIGNsZWFyLCB0aGUgYnV0dG9ucyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlICh0aGUgc2FtZSBiZWhhdmlvciBhcyBIVE1MIHJhZGlvIGJ1dHRvbnMpLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybUJ1dHRvbiNyYWRpb0lzVW5pc29uXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmFkaW9Jc1VuaXNvblwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGdldEJpdEZvclBkZih0aGlzLkZmLCAyNikpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKEJvb2xlYW4odmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuRmYgPSBzZXRCaXRGb3JQZGYodGhpcy5GZiwgMjYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5GZiA9IGNsZWFyQml0Rm9yUGRmKHRoaXMuRmYsIDI2KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfTUsgPSB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiTUtcIiwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbmNyeXB0b3IgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLnNjb3BlKSBlbmNyeXB0b3IgPSB0aGlzLnNjb3BlLmludGVybmFsLmdldEVuY3J5cHRvcih0aGlzLm9iaklkKTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhfTUspLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHJlc3VsdC5wdXNoKFwiPDxcIik7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoa2V5IGluIF9NSykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKFwiL1wiICsga2V5ICsgXCIgKFwiICsgcGRmRXNjYXBlKGVuY3J5cHRvcihfTUtba2V5XSkpICsgXCIpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKFwiPj5cIik7XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIlxcblwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIF9NSyA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEZyb20gdGhlIFBERiByZWZlcmVuY2U6XG4gICAqIChPcHRpb25hbCwgYnV0dG9uIGZpZWxkcyBvbmx5KSBUaGUgd2lkZ2V0IGFubm90YXRpb24ncyBub3JtYWwgY2FwdGlvbiB3aGljaCBzaGFsbCBiZSBkaXNwbGF5ZWQgd2hlbiBpdCBpcyBub3QgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdXNlci5cbiAgICogVW5saWtlIHRoZSByZW1haW5pbmcgZW50cmllcyBsaXN0ZWQgaW4gdGhpcyBUYWJsZSB3aGljaCBhcHBseSBvbmx5IHRvIHdpZGdldCBhbm5vdGF0aW9ucyBhc3NvY2lhdGVkIHdpdGggcHVzaGJ1dHRvbiBmaWVsZHMgKHNlZSBQdXNoYnV0dG9ucyBpbiAxMi43LjQuMiwgXCJCdXR0b24gRmllbGRzXCIpLCB0aGUgQ0EgZW50cnkgbWF5IGJlIHVzZWQgd2l0aCBhbnkgdHlwZSBvZiBidXR0b24gZmllbGQsIGluY2x1ZGluZyBjaGVjayBib3hlcyAoc2VlIENoZWNrIEJveGVzIGluIDEyLjcuNC4yLCBcIkJ1dHRvbiBGaWVsZHNcIikgYW5kIHJhZGlvIGJ1dHRvbnMgKFJhZGlvIEJ1dHRvbnMgaW4gMTIuNy40LjIsIFwiQnV0dG9uIEZpZWxkc1wiKS5cbiAgICpcbiAgICogLSAnOCcgPSBDcm9zcyxcbiAgICogLSAnbCcgPSAgQ2lyY2xlLFxuICAgKiAtICcnID0gbm90aGluZ1xuICAgKiBAbmFtZSBBY3JvRm9ybUJ1dHRvbiNjYXB0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYXB0aW9uXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9NSy5DQSB8fCBcIlwiO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfTUsuQ0EgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfQVM7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkFTXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX0FTO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX0FTID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFJlcXVpcmVkIGlmIHRoZSBhcHBlYXJhbmNlIGRpY3Rpb25hcnkgQVAgY29udGFpbnMgb25lIG9yIG1vcmUgc3ViZGljdGlvbmFyaWVzOyBQREYgMS4yKSBUaGUgYW5ub3RhdGlvbidzIGFwcGVhcmFuY2Ugc3RhdGUsIHdoaWNoIHNlbGVjdHMgdGhlIGFwcGxpY2FibGUgYXBwZWFyYW5jZSBzdHJlYW0gZnJvbSBhbiBhcHBlYXJhbmNlIHN1YmRpY3Rpb25hcnkgKHNlZSBTZWN0aW9uIDEyLjUuNSwgXCJBcHBlYXJhbmNlIFN0cmVhbXNcIilcbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1CdXR0b24jYXBwZWFyYW5jZVN0YXRlXG4gICAqIEB0eXBlIHthbnl9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcHBlYXJhbmNlU3RhdGVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX0FTLnN1YnN0cigxLCBfQVMubGVuZ3RoIC0gMSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfQVMgPSBcIi9cIiArIHZhbHVlO1xuICAgIH1cbiAgfSk7XG59O1xuaW5oZXJpdChBY3JvRm9ybUJ1dHRvbiwgQWNyb0Zvcm1GaWVsZCk7XG5cbi8qKlxuICogQGNsYXNzIEFjcm9Gb3JtUHVzaEJ1dHRvblxuICogQGV4dGVuZHMgQWNyb0Zvcm1CdXR0b25cbiAqIEBleHRlbmRzIEFjcm9Gb3JtRmllbGRcbiAqL1xudmFyIEFjcm9Gb3JtUHVzaEJ1dHRvbiA9IGZ1bmN0aW9uKCkge1xuICBBY3JvRm9ybUJ1dHRvbi5jYWxsKHRoaXMpO1xuICB0aGlzLnB1c2hCdXR0b24gPSB0cnVlO1xufTtcbmluaGVyaXQoQWNyb0Zvcm1QdXNoQnV0dG9uLCBBY3JvRm9ybUJ1dHRvbik7XG5cbi8qKlxuICogQGNsYXNzIEFjcm9Gb3JtUmFkaW9CdXR0b25cbiAqIEBleHRlbmRzIEFjcm9Gb3JtQnV0dG9uXG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUZpZWxkXG4gKi9cbnZhciBBY3JvRm9ybVJhZGlvQnV0dG9uID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtQnV0dG9uLmNhbGwodGhpcyk7XG4gIHRoaXMucmFkaW8gPSB0cnVlO1xuICB0aGlzLnB1c2hCdXR0b24gPSBmYWxzZTtcblxuICB2YXIgX0tpZHMgPSBbXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiS2lkc1wiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX0tpZHM7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIF9LaWRzID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfS2lkcyA9IFtdO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuaW5oZXJpdChBY3JvRm9ybVJhZGlvQnV0dG9uLCBBY3JvRm9ybUJ1dHRvbik7XG5cbi8qKlxuICogVGhlIENoaWxkIGNsYXNzIG9mIGEgUmFkaW9CdXR0b24gKHRoZSByYWRpb0dyb3VwKSAtPiBUaGUgc2luZ2xlIEJ1dHRvbnNcbiAqXG4gKiBAY2xhc3MgQWNyb0Zvcm1DaGlsZENsYXNzXG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUZpZWxkXG4gKiBAaWdub3JlXG4gKi9cbnZhciBBY3JvRm9ybUNoaWxkQ2xhc3MgPSBmdW5jdGlvbigpIHtcbiAgQWNyb0Zvcm1GaWVsZC5jYWxsKHRoaXMpO1xuXG4gIHZhciBfcGFyZW50O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJQYXJlbnRcIiwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfcGFyZW50O1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX3BhcmVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIF9vcHRpb25OYW1lO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJvcHRpb25OYW1lXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfb3B0aW9uTmFtZTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9vcHRpb25OYW1lID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICB2YXIgX01LID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIk1LXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZW5jcnlwdG9yID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5zY29wZSkgZW5jcnlwdG9yID0gdGhpcy5zY29wZS5pbnRlcm5hbC5nZXRFbmNyeXB0b3IodGhpcy5vYmpJZCk7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICByZXN1bHQucHVzaChcIjw8XCIpO1xuICAgICAgdmFyIGtleTtcbiAgICAgIGZvciAoa2V5IGluIF9NSykge1xuICAgICAgICByZXN1bHQucHVzaChcIi9cIiArIGtleSArIFwiIChcIiArIHBkZkVzY2FwZShlbmNyeXB0b3IoX01LW2tleV0pKSArIFwiKVwiKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKFwiPj5cIik7XG4gICAgICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcXG5cIik7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIF9NSyA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEZyb20gdGhlIFBERiByZWZlcmVuY2U6XG4gICAqIChPcHRpb25hbCwgYnV0dG9uIGZpZWxkcyBvbmx5KSBUaGUgd2lkZ2V0IGFubm90YXRpb24ncyBub3JtYWwgY2FwdGlvbiB3aGljaCBzaGFsbCBiZSBkaXNwbGF5ZWQgd2hlbiBpdCBpcyBub3QgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdXNlci5cbiAgICogVW5saWtlIHRoZSByZW1haW5pbmcgZW50cmllcyBsaXN0ZWQgaW4gdGhpcyBUYWJsZSB3aGljaCBhcHBseSBvbmx5IHRvIHdpZGdldCBhbm5vdGF0aW9ucyBhc3NvY2lhdGVkIHdpdGggcHVzaGJ1dHRvbiBmaWVsZHMgKHNlZSBQdXNoYnV0dG9ucyBpbiAxMi43LjQuMiwgXCJCdXR0b24gRmllbGRzXCIpLCB0aGUgQ0EgZW50cnkgbWF5IGJlIHVzZWQgd2l0aCBhbnkgdHlwZSBvZiBidXR0b24gZmllbGQsIGluY2x1ZGluZyBjaGVjayBib3hlcyAoc2VlIENoZWNrIEJveGVzIGluIDEyLjcuNC4yLCBcIkJ1dHRvbiBGaWVsZHNcIikgYW5kIHJhZGlvIGJ1dHRvbnMgKFJhZGlvIEJ1dHRvbnMgaW4gMTIuNy40LjIsIFwiQnV0dG9uIEZpZWxkc1wiKS5cbiAgICpcbiAgICogLSAnOCcgPSBDcm9zcyxcbiAgICogLSAnbCcgPSAgQ2lyY2xlLFxuICAgKiAtICcnID0gbm90aGluZ1xuICAgKiBAbmFtZSBBY3JvRm9ybUJ1dHRvbiNjYXB0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjYXB0aW9uXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9NSy5DQSB8fCBcIlwiO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBfTUsuQ0EgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBfQVM7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIkFTXCIsIHtcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX0FTO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgX0FTID0gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFJlcXVpcmVkIGlmIHRoZSBhcHBlYXJhbmNlIGRpY3Rpb25hcnkgQVAgY29udGFpbnMgb25lIG9yIG1vcmUgc3ViZGljdGlvbmFyaWVzOyBQREYgMS4yKSBUaGUgYW5ub3RhdGlvbidzIGFwcGVhcmFuY2Ugc3RhdGUsIHdoaWNoIHNlbGVjdHMgdGhlIGFwcGxpY2FibGUgYXBwZWFyYW5jZSBzdHJlYW0gZnJvbSBhbiBhcHBlYXJhbmNlIHN1YmRpY3Rpb25hcnkgKHNlZSBTZWN0aW9uIDEyLjUuNSwgXCJBcHBlYXJhbmNlIFN0cmVhbXNcIilcbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1CdXR0b24jYXBwZWFyYW5jZVN0YXRlXG4gICAqIEB0eXBlIHthbnl9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhcHBlYXJhbmNlU3RhdGVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX0FTLnN1YnN0cigxLCBfQVMubGVuZ3RoIC0gMSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBfQVMgPSBcIi9cIiArIHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHRoaXMuY2FwdGlvbiA9IFwibFwiO1xuICB0aGlzLmFwcGVhcmFuY2VTdGF0ZSA9IFwiT2ZmXCI7XG4gIC8vIHRvZG86IHNldCBBcHBlYXJhbmNlVHlwZSBhcyB2YXJpYWJsZSB0aGF0IGNhbiBiZSBzZXQgZnJvbSB0aGVcbiAgLy8gb3V0c2lkZS4uLlxuICB0aGlzLl9BcHBlYXJhbmNlVHlwZSA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5SYWRpb0J1dHRvbi5DaXJjbGU7XG4gIC8vIFRoZSBEZWZhdWx0IGFwcGVhcmFuY2VUeXBlIGlzIHRoZSBDaXJjbGVcbiAgdGhpcy5hcHBlYXJhbmNlU3RyZWFtQ29udGVudCA9IHRoaXMuX0FwcGVhcmFuY2VUeXBlLmNyZWF0ZUFwcGVhcmFuY2VTdHJlYW0oXG4gICAgdGhpcy5vcHRpb25OYW1lXG4gICk7XG59O1xuaW5oZXJpdChBY3JvRm9ybUNoaWxkQ2xhc3MsIEFjcm9Gb3JtRmllbGQpO1xuXG5BY3JvRm9ybVJhZGlvQnV0dG9uLnByb3RvdHlwZS5zZXRBcHBlYXJhbmNlID0gZnVuY3Rpb24oYXBwZWFyYW5jZSkge1xuICBpZiAoIShcImNyZWF0ZUFwcGVhcmFuY2VTdHJlYW1cIiBpbiBhcHBlYXJhbmNlICYmIFwiZ2V0Q0FcIiBpbiBhcHBlYXJhbmNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGRuJ3QgYXNzaWduIEFwcGVhcmFuY2UgdG8gUmFkaW9CdXR0b24uIEFwcGVhcmFuY2Ugd2FzIEludmFsaWQhXCJcbiAgICApO1xuICB9XG4gIGZvciAodmFyIG9iaklkIGluIHRoaXMuS2lkcykge1xuICAgIGlmICh0aGlzLktpZHMuaGFzT3duUHJvcGVydHkob2JqSWQpKSB7XG4gICAgICB2YXIgY2hpbGQgPSB0aGlzLktpZHNbb2JqSWRdO1xuICAgICAgY2hpbGQuYXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQgPSBhcHBlYXJhbmNlLmNyZWF0ZUFwcGVhcmFuY2VTdHJlYW0oXG4gICAgICAgIGNoaWxkLm9wdGlvbk5hbWVcbiAgICAgICk7XG4gICAgICBjaGlsZC5jYXB0aW9uID0gYXBwZWFyYW5jZS5nZXRDQSgpO1xuICAgIH1cbiAgfVxufTtcblxuQWNyb0Zvcm1SYWRpb0J1dHRvbi5wcm90b3R5cGUuY3JlYXRlT3B0aW9uID0gZnVuY3Rpb24obmFtZSkge1xuICAvLyBDcmVhdGUgbmV3IENoaWxkIGZvciBSYWRpb0dyb3VwXG4gIHZhciBjaGlsZCA9IG5ldyBBY3JvRm9ybUNoaWxkQ2xhc3MoKTtcbiAgY2hpbGQuUGFyZW50ID0gdGhpcztcbiAgY2hpbGQub3B0aW9uTmFtZSA9IG5hbWU7XG4gIC8vIEFkZCB0byBQYXJlbnRcbiAgdGhpcy5LaWRzLnB1c2goY2hpbGQpO1xuXG4gIGFkZEZpZWxkLmNhbGwodGhpcy5zY29wZSwgY2hpbGQpO1xuXG4gIHJldHVybiBjaGlsZDtcbn07XG5cbi8qKlxuICogQGNsYXNzIEFjcm9Gb3JtQ2hlY2tCb3hcbiAqIEBleHRlbmRzIEFjcm9Gb3JtQnV0dG9uXG4gKiBAZXh0ZW5kcyBBY3JvRm9ybUZpZWxkXG4gKi9cbnZhciBBY3JvRm9ybUNoZWNrQm94ID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtQnV0dG9uLmNhbGwodGhpcyk7XG5cbiAgdGhpcy5mb250TmFtZSA9IFwiemFwZmRpbmdiYXRzXCI7XG4gIHRoaXMuY2FwdGlvbiA9IFwiM1wiO1xuICB0aGlzLmFwcGVhcmFuY2VTdGF0ZSA9IFwiT25cIjtcbiAgdGhpcy52YWx1ZSA9IFwiT25cIjtcbiAgdGhpcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICB0aGlzLmFwcGVhcmFuY2VTdHJlYW1Db250ZW50ID0gQWNyb0Zvcm1BcHBlYXJhbmNlLkNoZWNrQm94LmNyZWF0ZUFwcGVhcmFuY2VTdHJlYW0oKTtcbn07XG5pbmhlcml0KEFjcm9Gb3JtQ2hlY2tCb3gsIEFjcm9Gb3JtQnV0dG9uKTtcblxuLyoqXG4gKiBAY2xhc3MgQWNyb0Zvcm1UZXh0RmllbGRcbiAqIEBleHRlbmRzIEFjcm9Gb3JtRmllbGRcbiAqL1xudmFyIEFjcm9Gb3JtVGV4dEZpZWxkID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtRmllbGQuY2FsbCh0aGlzKTtcbiAgdGhpcy5GVCA9IFwiL1R4XCI7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIG1heSBjb250YWluIG11bHRpcGxlIGxpbmVzIG9mIHRleHQ7IGlmIGNsZWFyLCB0aGUgZmllbGTigJlzIHRleHQgc2hhbGwgYmUgcmVzdHJpY3RlZCB0byBhIHNpbmdsZSBsaW5lLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybVRleHRGaWVsZCNtdWx0aWxpbmVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtdWx0aWxpbmVcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMTMpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDEzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAxMyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFBERiAxLjQpIElmIHNldCwgdGhlIHRleHQgZW50ZXJlZCBpbiB0aGUgZmllbGQgcmVwcmVzZW50cyB0aGUgcGF0aG5hbWUgb2YgYSBmaWxlIHdob3NlIGNvbnRlbnRzIHNoYWxsIGJlIHN1Ym1pdHRlZCBhcyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybVRleHRGaWVsZCNmaWxlU2VsZWN0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZmlsZVNlbGVjdFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGdldEJpdEZvclBkZih0aGlzLkZmLCAyMSkpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKEJvb2xlYW4odmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuRmYgPSBzZXRCaXRGb3JQZGYodGhpcy5GZiwgMjEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5GZiA9IGNsZWFyQml0Rm9yUGRmKHRoaXMuRmYsIDIxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAoUERGIDEuNCkgSWYgc2V0LCB0ZXh0IGVudGVyZWQgaW4gdGhlIGZpZWxkIHNoYWxsIG5vdCBiZSBzcGVsbC1jaGVja2VkLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybVRleHRGaWVsZCNkb05vdFNwZWxsQ2hlY2tcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb05vdFNwZWxsQ2hlY2tcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMjMpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDIzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAyMyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFBERiAxLjQpIElmIHNldCwgdGhlIGZpZWxkIHNoYWxsIG5vdCBzY3JvbGwgKGhvcml6b250YWxseSBmb3Igc2luZ2xlLWxpbmUgZmllbGRzLCB2ZXJ0aWNhbGx5IGZvciBtdWx0aXBsZS1saW5lIGZpZWxkcykgdG8gYWNjb21tb2RhdGUgbW9yZSB0ZXh0IHRoYW4gZml0cyB3aXRoaW4gaXRzIGFubm90YXRpb24gcmVjdGFuZ2xlLiBPbmNlIHRoZSBmaWVsZCBpcyBmdWxsLCBubyBmdXJ0aGVyIHRleHQgc2hhbGwgYmUgYWNjZXB0ZWQgZm9yIGludGVyYWN0aXZlIGZvcm0gZmlsbGluZzsgZm9yIG5vbmludGVyYWN0aXZlIGZvcm0gZmlsbGluZywgdGhlIGZpbGxlciBzaG91bGQgdGFrZSBjYXJlIG5vdCB0byBhZGQgbW9yZSBjaGFyYWN0ZXIgdGhhbiB3aWxsIHZpc2libHkgZml0IGluIHRoZSBkZWZpbmVkIGFyZWEuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtVGV4dEZpZWxkI2RvTm90U2Nyb2xsXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZG9Ob3RTY3JvbGxcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMjQpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDI0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAyNCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogKFBERiAxLjUpIE1heSBiZSBzZXQgb25seSBpZiB0aGUgTWF4TGVuIGVudHJ5IGlzIHByZXNlbnQgaW4gdGhlIHRleHQgZmllbGQgZGljdGlvbmFyeSAoc2VlIFRhYmxlIDIyOSkgYW5kIGlmIHRoZSBNdWx0aWxpbmUsIFBhc3N3b3JkLCBhbmQgRmlsZVNlbGVjdCBmbGFncyBhcmUgY2xlYXIuIElmIHNldCwgdGhlIGZpZWxkIHNoYWxsIGJlIGF1dG9tYXRpY2FsbHkgZGl2aWRlZCBpbnRvIGFzIG1hbnkgZXF1YWxseSBzcGFjZWQgcG9zaXRpb25zLCBvciBjb21icywgYXMgdGhlIHZhbHVlIG9mIE1heExlbiwgYW5kIHRoZSB0ZXh0IGlzIGxhaWQgb3V0IGludG8gdGhvc2UgY29tYnMuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtVGV4dEZpZWxkI2NvbWJcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb21iXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDI1KSk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoQm9vbGVhbih2YWx1ZSkgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5GZiA9IHNldEJpdEZvclBkZih0aGlzLkZmLCAyNSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLkZmID0gY2xlYXJCaXRGb3JQZGYodGhpcy5GZiwgMjUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIChQREYgMS41KSBJZiBzZXQsIHRoZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIHNoYWxsIGJlIGEgcmljaCB0ZXh0IHN0cmluZyAoc2VlIDEyLjcuMy40LCDigJxSaWNoIFRleHQgU3RyaW5nc+KAnSkuIElmIHRoZSBmaWVsZCBoYXMgYSB2YWx1ZSwgdGhlIFJWIGVudHJ5IG9mIHRoZSBmaWVsZCBkaWN0aW9uYXJ5IChUYWJsZSAyMjIpIHNoYWxsIHNwZWNpZnkgdGhlIHJpY2ggdGV4dCBzdHJpbmcuXG4gICAqXG4gICAqIEBuYW1lIEFjcm9Gb3JtVGV4dEZpZWxkI3JpY2hUZXh0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmljaFRleHRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihnZXRCaXRGb3JQZGYodGhpcy5GZiwgMjYpKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChCb29sZWFuKHZhbHVlKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLkZmID0gc2V0Qml0Rm9yUGRmKHRoaXMuRmYsIDI2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuRmYgPSBjbGVhckJpdEZvclBkZih0aGlzLkZmLCAyNik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgX01heExlbiA9IG51bGw7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIk1heExlblwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX01heExlbjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIF9NYXhMZW4gPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiAoT3B0aW9uYWw7IGluaGVyaXRhYmxlKSBUaGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIGZpZWxk4oCZcyB0ZXh0LCBpbiBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAbmFtZSBBY3JvRm9ybVRleHRGaWVsZCNtYXhMZW5ndGhcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1heExlbmd0aFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfTWF4TGVuO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7XG4gICAgICAgIF9NYXhMZW4gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhhc0FwcGVhcmFuY2VTdHJlYW1cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5WIHx8IHRoaXMuRFY7XG4gICAgfVxuICB9KTtcbn07XG5pbmhlcml0KEFjcm9Gb3JtVGV4dEZpZWxkLCBBY3JvRm9ybUZpZWxkKTtcblxuLyoqXG4gKiBAY2xhc3MgQWNyb0Zvcm1QYXNzd29yZEZpZWxkXG4gKiBAZXh0ZW5kcyBBY3JvRm9ybVRleHRGaWVsZFxuICogQGV4dGVuZHMgQWNyb0Zvcm1GaWVsZFxuICovXG52YXIgQWNyb0Zvcm1QYXNzd29yZEZpZWxkID0gZnVuY3Rpb24oKSB7XG4gIEFjcm9Gb3JtVGV4dEZpZWxkLmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIElmIHNldCwgdGhlIGZpZWxkIGlzIGludGVuZGVkIGZvciBlbnRlcmluZyBhIHNlY3VyZSBwYXNzd29yZCB0aGF0IHNob3VsZCBub3QgYmUgZWNob2VkIHZpc2libHkgdG8gdGhlIHNjcmVlbi4gQ2hhcmFjdGVycyB0eXBlZCBmcm9tIHRoZSBrZXlib2FyZCBzaGFsbCBpbnN0ZWFkIGJlIGVjaG9lZCBpbiBzb21lIHVucmVhZGFibGUgZm9ybSwgc3VjaCBhcyBhc3Rlcmlza3Mgb3IgYnVsbGV0IGNoYXJhY3RlcnMuXG4gICAqIE5PVEUgVG8gcHJvdGVjdCBwYXNzd29yZCBjb25maWRlbnRpYWxpdHksIHJlYWRlcnMgc2hvdWxkIG5ldmVyIHN0b3JlIHRoZSB2YWx1ZSBvZiB0aGUgdGV4dCBmaWVsZCBpbiB0aGUgUERGIGZpbGUgaWYgdGhpcyBmbGFnIGlzIHNldC5cbiAgICpcbiAgICogQG5hbWUgQWNyb0Zvcm1UZXh0RmllbGQjcGFzc3dvcmRcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYXNzd29yZFwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKGdldEJpdEZvclBkZih0aGlzLkZmLCAxNCkpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKEJvb2xlYW4odmFsdWUpID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuRmYgPSBzZXRCaXRGb3JQZGYodGhpcy5GZiwgMTQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5GZiA9IGNsZWFyQml0Rm9yUGRmKHRoaXMuRmYsIDE0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLnBhc3N3b3JkID0gdHJ1ZTtcbn07XG5pbmhlcml0KEFjcm9Gb3JtUGFzc3dvcmRGaWVsZCwgQWNyb0Zvcm1UZXh0RmllbGQpO1xuXG4vLyBDb250YWlucyBNZXRob2RzIGZvciBjcmVhdGluZyBzdGFuZGFyZCBhcHBlYXJhbmNlc1xudmFyIEFjcm9Gb3JtQXBwZWFyYW5jZSA9IHtcbiAgQ2hlY2tCb3g6IHtcbiAgICBjcmVhdGVBcHBlYXJhbmNlU3RyZWFtOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcHBlYXJhbmNlID0ge1xuICAgICAgICBOOiB7XG4gICAgICAgICAgT246IEFjcm9Gb3JtQXBwZWFyYW5jZS5DaGVja0JveC5ZZXNOb3JtYWxcbiAgICAgICAgfSxcbiAgICAgICAgRDoge1xuICAgICAgICAgIE9uOiBBY3JvRm9ybUFwcGVhcmFuY2UuQ2hlY2tCb3guWWVzUHVzaERvd24sXG4gICAgICAgICAgT2ZmOiBBY3JvRm9ybUFwcGVhcmFuY2UuQ2hlY2tCb3guT2ZmUHVzaERvd25cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuIGFwcGVhcmFuY2U7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzdGFuZGFyZCBPbiBBcHBlYXJhbmNlIGZvciBhIENoZWNrQm94XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7QWNyb0Zvcm1YT2JqZWN0fVxuICAgICAqL1xuICAgIFllc1B1c2hEb3duOiBmdW5jdGlvbihmb3JtT2JqZWN0KSB7XG4gICAgICB2YXIgeG9iaiA9IGNyZWF0ZUZvcm1YT2JqZWN0KGZvcm1PYmplY3QpO1xuICAgICAgeG9iai5zY29wZSA9IGZvcm1PYmplY3Quc2NvcGU7XG4gICAgICB2YXIgc3RyZWFtID0gW107XG4gICAgICB2YXIgZm9udEtleSA9IGZvcm1PYmplY3Quc2NvcGUuaW50ZXJuYWwuZ2V0Rm9udChcbiAgICAgICAgZm9ybU9iamVjdC5mb250TmFtZSxcbiAgICAgICAgZm9ybU9iamVjdC5mb250U3R5bGVcbiAgICAgICkuaWQ7XG4gICAgICB2YXIgZW5jb2RlZENvbG9yID0gZm9ybU9iamVjdC5zY29wZS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyhcbiAgICAgICAgZm9ybU9iamVjdC5jb2xvclxuICAgICAgKTtcbiAgICAgIHZhciBjYWxjUmVzID0gY2FsY3VsYXRlWChmb3JtT2JqZWN0LCBmb3JtT2JqZWN0LmNhcHRpb24pO1xuICAgICAgc3RyZWFtLnB1c2goXCIwLjc0OTAyMyBnXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgIFwiMCAwIFwiICtcbiAgICAgICAgICBmMihBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkpICtcbiAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgZjIoQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KSkgK1xuICAgICAgICAgIFwiIHJlXCJcbiAgICAgICk7XG4gICAgICBzdHJlYW0ucHVzaChcImZcIik7XG4gICAgICBzdHJlYW0ucHVzaChcIkJNQ1wiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwicVwiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiMCAwIDEgcmdcIik7XG4gICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgXCIvXCIgKyBmb250S2V5ICsgXCIgXCIgKyBmMihjYWxjUmVzLmZvbnRTaXplKSArIFwiIFRmIFwiICsgZW5jb2RlZENvbG9yXG4gICAgICApO1xuICAgICAgc3RyZWFtLnB1c2goXCJCVFwiKTtcbiAgICAgIHN0cmVhbS5wdXNoKGNhbGNSZXMudGV4dCk7XG4gICAgICBzdHJlYW0ucHVzaChcIkVUXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXCJRXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXCJFTUNcIik7XG4gICAgICB4b2JqLnN0cmVhbSA9IHN0cmVhbS5qb2luKFwiXFxuXCIpO1xuICAgICAgcmV0dXJuIHhvYmo7XG4gICAgfSxcblxuICAgIFllc05vcm1hbDogZnVuY3Rpb24oZm9ybU9iamVjdCkge1xuICAgICAgdmFyIHhvYmogPSBjcmVhdGVGb3JtWE9iamVjdChmb3JtT2JqZWN0KTtcbiAgICAgIHhvYmouc2NvcGUgPSBmb3JtT2JqZWN0LnNjb3BlO1xuICAgICAgdmFyIGZvbnRLZXkgPSBmb3JtT2JqZWN0LnNjb3BlLmludGVybmFsLmdldEZvbnQoXG4gICAgICAgIGZvcm1PYmplY3QuZm9udE5hbWUsXG4gICAgICAgIGZvcm1PYmplY3QuZm9udFN0eWxlXG4gICAgICApLmlkO1xuICAgICAgdmFyIGVuY29kZWRDb2xvciA9IGZvcm1PYmplY3Quc2NvcGUuX19wcml2YXRlX18uZW5jb2RlQ29sb3JTdHJpbmcoXG4gICAgICAgIGZvcm1PYmplY3QuY29sb3JcbiAgICAgICk7XG4gICAgICB2YXIgc3RyZWFtID0gW107XG4gICAgICB2YXIgaGVpZ2h0ID0gQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KTtcbiAgICAgIHZhciB3aWR0aCA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KTtcbiAgICAgIHZhciBjYWxjUmVzID0gY2FsY3VsYXRlWChmb3JtT2JqZWN0LCBmb3JtT2JqZWN0LmNhcHRpb24pO1xuICAgICAgc3RyZWFtLnB1c2goXCIxIGdcIik7XG4gICAgICBzdHJlYW0ucHVzaChcIjAgMCBcIiArIGYyKHdpZHRoKSArIFwiIFwiICsgZjIoaGVpZ2h0KSArIFwiIHJlXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXCJmXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXCJxXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXCIwIDAgMSByZ1wiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiMCAwIFwiICsgZjIod2lkdGggLSAxKSArIFwiIFwiICsgZjIoaGVpZ2h0IC0gMSkgKyBcIiByZVwiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiV1wiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiblwiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiMCBnXCIpO1xuICAgICAgc3RyZWFtLnB1c2goXCJCVFwiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICBcIi9cIiArIGZvbnRLZXkgKyBcIiBcIiArIGYyKGNhbGNSZXMuZm9udFNpemUpICsgXCIgVGYgXCIgKyBlbmNvZGVkQ29sb3JcbiAgICAgICk7XG4gICAgICBzdHJlYW0ucHVzaChjYWxjUmVzLnRleHQpO1xuICAgICAgc3RyZWFtLnB1c2goXCJFVFwiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiUVwiKTtcbiAgICAgIHhvYmouc3RyZWFtID0gc3RyZWFtLmpvaW4oXCJcXG5cIik7XG4gICAgICByZXR1cm4geG9iajtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3RhbmRhcmQgT2ZmIEFwcGVhcmFuY2UgZm9yIGEgQ2hlY2tCb3hcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtBY3JvRm9ybVhPYmplY3R9XG4gICAgICovXG4gICAgT2ZmUHVzaERvd246IGZ1bmN0aW9uKGZvcm1PYmplY3QpIHtcbiAgICAgIHZhciB4b2JqID0gY3JlYXRlRm9ybVhPYmplY3QoZm9ybU9iamVjdCk7XG4gICAgICB4b2JqLnNjb3BlID0gZm9ybU9iamVjdC5zY29wZTtcbiAgICAgIHZhciBzdHJlYW0gPSBbXTtcbiAgICAgIHN0cmVhbS5wdXNoKFwiMC43NDkwMjMgZ1wiKTtcbiAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICBcIjAgMCBcIiArXG4gICAgICAgICAgZjIoQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldFdpZHRoKGZvcm1PYmplY3QpKSArXG4gICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgIGYyKEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkpICtcbiAgICAgICAgICBcIiByZVwiXG4gICAgICApO1xuICAgICAgc3RyZWFtLnB1c2goXCJmXCIpO1xuICAgICAgeG9iai5zdHJlYW0gPSBzdHJlYW0uam9pbihcIlxcblwiKTtcbiAgICAgIHJldHVybiB4b2JqO1xuICAgIH1cbiAgfSxcblxuICBSYWRpb0J1dHRvbjoge1xuICAgIENpcmNsZToge1xuICAgICAgY3JlYXRlQXBwZWFyYW5jZVN0cmVhbTogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB2YXIgYXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQgPSB7XG4gICAgICAgICAgRDoge1xuICAgICAgICAgICAgT2ZmOiBBY3JvRm9ybUFwcGVhcmFuY2UuUmFkaW9CdXR0b24uQ2lyY2xlLk9mZlB1c2hEb3duXG4gICAgICAgICAgfSxcbiAgICAgICAgICBOOiB7fVxuICAgICAgICB9O1xuICAgICAgICBhcHBlYXJhbmNlU3RyZWFtQ29udGVudC5OW25hbWVdID1cbiAgICAgICAgICBBY3JvRm9ybUFwcGVhcmFuY2UuUmFkaW9CdXR0b24uQ2lyY2xlLlllc05vcm1hbDtcbiAgICAgICAgYXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQuRFtuYW1lXSA9XG4gICAgICAgICAgQWNyb0Zvcm1BcHBlYXJhbmNlLlJhZGlvQnV0dG9uLkNpcmNsZS5ZZXNQdXNoRG93bjtcbiAgICAgICAgcmV0dXJuIGFwcGVhcmFuY2VTdHJlYW1Db250ZW50O1xuICAgICAgfSxcbiAgICAgIGdldENBOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFwibFwiO1xuICAgICAgfSxcblxuICAgICAgWWVzTm9ybWFsOiBmdW5jdGlvbihmb3JtT2JqZWN0KSB7XG4gICAgICAgIHZhciB4b2JqID0gY3JlYXRlRm9ybVhPYmplY3QoZm9ybU9iamVjdCk7XG4gICAgICAgIHhvYmouc2NvcGUgPSBmb3JtT2JqZWN0LnNjb3BlO1xuICAgICAgICB2YXIgc3RyZWFtID0gW107XG4gICAgICAgIC8vIE1ha2UgdGhlIFJhZGl1cyBvZiB0aGUgQ2lyY2xlIHJlbGF0aXZlIHRvIG1pbihoZWlnaHQsIHdpZHRoKSBvZiBmb3JtT2JqZWN0XG4gICAgICAgIHZhciBEb3RSYWRpdXMgPVxuICAgICAgICAgIEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KSA8PVxuICAgICAgICAgIEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdClcbiAgICAgICAgICAgID8gQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldFdpZHRoKGZvcm1PYmplY3QpIC8gNFxuICAgICAgICAgICAgOiBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0SGVpZ2h0KGZvcm1PYmplY3QpIC8gNDtcbiAgICAgICAgLy8gVGhlIEJvcmRlcnBhZGRpbmcuLi5cbiAgICAgICAgRG90UmFkaXVzID0gTnVtYmVyKChEb3RSYWRpdXMgKiAwLjkpLnRvRml4ZWQoNSkpO1xuICAgICAgICB2YXIgYyA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5CZXppZXJfQztcbiAgICAgICAgdmFyIERvdFJhZGl1c0JlemllciA9IE51bWJlcigoRG90UmFkaXVzICogYykudG9GaXhlZCg1KSk7XG4gICAgICAgIC8qXG4gICAgICAgICAqIFRoZSBGb2xsb3dpbmcgaXMgYSBDaXJjbGUgY3JlYXRlZCB3aXRoIEJlemllci1DdXJ2ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBzdHJlYW0ucHVzaChcInFcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIFwiMSAwIDAgMSBcIiArXG4gICAgICAgICAgICBmNShBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkgLyAyKSArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBmNShBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0SGVpZ2h0KGZvcm1PYmplY3QpIC8gMikgK1xuICAgICAgICAgICAgXCIgY21cIlxuICAgICAgICApO1xuICAgICAgICBzdHJlYW0ucHVzaChEb3RSYWRpdXMgKyBcIiAwIG1cIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBEb3RSYWRpdXNCZXppZXIgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzQmV6aWVyICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAwIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiBjXCJcbiAgICAgICAgKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgICAgXCItXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzQmV6aWVyICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1c0JlemllciArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIDAgY1wiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzQmV6aWVyICtcbiAgICAgICAgICAgIFwiIC1cIiArXG4gICAgICAgICAgICBEb3RSYWRpdXNCZXppZXIgK1xuICAgICAgICAgICAgXCIgLVwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAwIC1cIiArXG4gICAgICAgICAgICBEb3RSYWRpdXMgK1xuICAgICAgICAgICAgXCIgY1wiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIERvdFJhZGl1c0JlemllciArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzQmV6aWVyICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAwIGNcIlxuICAgICAgICApO1xuICAgICAgICBzdHJlYW0ucHVzaChcImZcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiUVwiKTtcbiAgICAgICAgeG9iai5zdHJlYW0gPSBzdHJlYW0uam9pbihcIlxcblwiKTtcbiAgICAgICAgcmV0dXJuIHhvYmo7XG4gICAgICB9LFxuICAgICAgWWVzUHVzaERvd246IGZ1bmN0aW9uKGZvcm1PYmplY3QpIHtcbiAgICAgICAgdmFyIHhvYmogPSBjcmVhdGVGb3JtWE9iamVjdChmb3JtT2JqZWN0KTtcbiAgICAgICAgeG9iai5zY29wZSA9IGZvcm1PYmplY3Quc2NvcGU7XG4gICAgICAgIHZhciBzdHJlYW0gPSBbXTtcbiAgICAgICAgdmFyIERvdFJhZGl1cyA9XG4gICAgICAgICAgQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldFdpZHRoKGZvcm1PYmplY3QpIDw9XG4gICAgICAgICAgQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KVxuICAgICAgICAgICAgPyBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkgLyA0XG4gICAgICAgICAgICA6IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkgLyA0O1xuICAgICAgICAvLyBUaGUgQm9yZGVycGFkZGluZy4uLlxuICAgICAgICBEb3RSYWRpdXMgPSBOdW1iZXIoKERvdFJhZGl1cyAqIDAuOSkudG9GaXhlZCg1KSk7XG4gICAgICAgIC8vIFNhdmUgcmVzdWx0cyBmb3IgbGF0ZXIgdXNlOyBubyBuZWVkIHRvIHdhc3RlXG4gICAgICAgIC8vIHByb2Nlc3NvciB0aWNrcyBvbiBkb2luZyBtYXRoXG4gICAgICAgIHZhciBrID0gTnVtYmVyKChEb3RSYWRpdXMgKiAyKS50b0ZpeGVkKDUpKTtcbiAgICAgICAgdmFyIGtjID0gTnVtYmVyKChrICogQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLkJlemllcl9DKS50b0ZpeGVkKDUpKTtcbiAgICAgICAgdmFyIGRjID0gTnVtYmVyKFxuICAgICAgICAgIChEb3RSYWRpdXMgKiBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuQmV6aWVyX0MpLnRvRml4ZWQoNSlcbiAgICAgICAgKTtcblxuICAgICAgICBzdHJlYW0ucHVzaChcIjAuNzQ5MDIzIGdcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwicVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgICAgXCIxIDAgMCAxIFwiICtcbiAgICAgICAgICAgIGY1KEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KSAvIDIpICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIGY1KEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkgLyAyKSArXG4gICAgICAgICAgICBcIiBjbVwiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKGsgKyBcIiAwIG1cIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKGsgKyBcIiBcIiArIGtjICsgXCIgXCIgKyBrYyArIFwiIFwiICsgayArIFwiIDAgXCIgKyBrICsgXCIgY1wiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgICAgXCItXCIgKyBrYyArIFwiIFwiICsgayArIFwiIC1cIiArIGsgKyBcIiBcIiArIGtjICsgXCIgLVwiICsgayArIFwiIDAgY1wiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIFwiLVwiICsgayArIFwiIC1cIiArIGtjICsgXCIgLVwiICsga2MgKyBcIiAtXCIgKyBrICsgXCIgMCAtXCIgKyBrICsgXCIgY1wiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKGtjICsgXCIgLVwiICsgayArIFwiIFwiICsgayArIFwiIC1cIiArIGtjICsgXCIgXCIgKyBrICsgXCIgMCBjXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcImZcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiUVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCIwIGdcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwicVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgICAgXCIxIDAgMCAxIFwiICtcbiAgICAgICAgICAgIGY1KEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KSAvIDIpICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIGY1KEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkgLyAyKSArXG4gICAgICAgICAgICBcIiBjbVwiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKERvdFJhZGl1cyArIFwiIDAgbVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgICAgXCJcIiArXG4gICAgICAgICAgICBEb3RSYWRpdXMgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgZGMgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgZGMgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIDAgXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIGNcIlxuICAgICAgICApO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBcIi1cIiArXG4gICAgICAgICAgICBkYyArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBEb3RSYWRpdXMgK1xuICAgICAgICAgICAgXCIgLVwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBkYyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIDAgY1wiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIFwiLVwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgZGMgK1xuICAgICAgICAgICAgXCIgLVwiICtcbiAgICAgICAgICAgIGRjICtcbiAgICAgICAgICAgIFwiIC1cIiArXG4gICAgICAgICAgICBEb3RSYWRpdXMgK1xuICAgICAgICAgICAgXCIgMCAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIGNcIlxuICAgICAgICApO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBkYyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIERvdFJhZGl1cyArXG4gICAgICAgICAgICBcIiAtXCIgK1xuICAgICAgICAgICAgZGMgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgRG90UmFkaXVzICtcbiAgICAgICAgICAgIFwiIDAgY1wiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiZlwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJRXCIpO1xuICAgICAgICB4b2JqLnN0cmVhbSA9IHN0cmVhbS5qb2luKFwiXFxuXCIpO1xuICAgICAgICByZXR1cm4geG9iajtcbiAgICAgIH0sXG4gICAgICBPZmZQdXNoRG93bjogZnVuY3Rpb24oZm9ybU9iamVjdCkge1xuICAgICAgICB2YXIgeG9iaiA9IGNyZWF0ZUZvcm1YT2JqZWN0KGZvcm1PYmplY3QpO1xuICAgICAgICB4b2JqLnNjb3BlID0gZm9ybU9iamVjdC5zY29wZTtcbiAgICAgICAgdmFyIHN0cmVhbSA9IFtdO1xuICAgICAgICB2YXIgRG90UmFkaXVzID1cbiAgICAgICAgICBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkgPD1cbiAgICAgICAgICBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0SGVpZ2h0KGZvcm1PYmplY3QpXG4gICAgICAgICAgICA/IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KSAvIDRcbiAgICAgICAgICAgIDogQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KSAvIDQ7XG4gICAgICAgIC8vIFRoZSBCb3JkZXJwYWRkaW5nLi4uXG4gICAgICAgIERvdFJhZGl1cyA9IE51bWJlcigoRG90UmFkaXVzICogMC45KS50b0ZpeGVkKDUpKTtcbiAgICAgICAgLy8gU2F2ZSByZXN1bHRzIGZvciBsYXRlciB1c2U7IG5vIG5lZWQgdG8gd2FzdGVcbiAgICAgICAgLy8gcHJvY2Vzc29yIHRpY2tzIG9uIGRvaW5nIG1hdGhcbiAgICAgICAgdmFyIGsgPSBOdW1iZXIoKERvdFJhZGl1cyAqIDIpLnRvRml4ZWQoNSkpO1xuICAgICAgICB2YXIga2MgPSBOdW1iZXIoKGsgKiBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuQmV6aWVyX0MpLnRvRml4ZWQoNSkpO1xuXG4gICAgICAgIHN0cmVhbS5wdXNoKFwiMC43NDkwMjMgZ1wiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJxXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBcIjEgMCAwIDEgXCIgK1xuICAgICAgICAgICAgZjUoQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldFdpZHRoKGZvcm1PYmplY3QpIC8gMikgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgZjUoQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KSAvIDIpICtcbiAgICAgICAgICAgIFwiIGNtXCJcbiAgICAgICAgKTtcbiAgICAgICAgc3RyZWFtLnB1c2goayArIFwiIDAgbVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goayArIFwiIFwiICsga2MgKyBcIiBcIiArIGtjICsgXCIgXCIgKyBrICsgXCIgMCBcIiArIGsgKyBcIiBjXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBcIi1cIiArIGtjICsgXCIgXCIgKyBrICsgXCIgLVwiICsgayArIFwiIFwiICsga2MgKyBcIiAtXCIgKyBrICsgXCIgMCBjXCJcbiAgICAgICAgKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXG4gICAgICAgICAgXCItXCIgKyBrICsgXCIgLVwiICsga2MgKyBcIiAtXCIgKyBrYyArIFwiIC1cIiArIGsgKyBcIiAwIC1cIiArIGsgKyBcIiBjXCJcbiAgICAgICAgKTtcbiAgICAgICAgc3RyZWFtLnB1c2goa2MgKyBcIiAtXCIgKyBrICsgXCIgXCIgKyBrICsgXCIgLVwiICsga2MgKyBcIiBcIiArIGsgKyBcIiAwIGNcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiZlwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJRXCIpO1xuICAgICAgICB4b2JqLnN0cmVhbSA9IHN0cmVhbS5qb2luKFwiXFxuXCIpO1xuICAgICAgICByZXR1cm4geG9iajtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgQ3Jvc3M6IHtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyB0aGUgQWN0dWFsIEFwcGVhcmFuY2VEaWN0aW9uYXJ5LVJlZmVyZW5jZXNcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAqIEBpZ25vcmVcbiAgICAgICAqL1xuICAgICAgY3JlYXRlQXBwZWFyYW5jZVN0cmVhbTogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB2YXIgYXBwZWFyYW5jZVN0cmVhbUNvbnRlbnQgPSB7XG4gICAgICAgICAgRDoge1xuICAgICAgICAgICAgT2ZmOiBBY3JvRm9ybUFwcGVhcmFuY2UuUmFkaW9CdXR0b24uQ3Jvc3MuT2ZmUHVzaERvd25cbiAgICAgICAgICB9LFxuICAgICAgICAgIE46IHt9XG4gICAgICAgIH07XG4gICAgICAgIGFwcGVhcmFuY2VTdHJlYW1Db250ZW50Lk5bbmFtZV0gPVxuICAgICAgICAgIEFjcm9Gb3JtQXBwZWFyYW5jZS5SYWRpb0J1dHRvbi5Dcm9zcy5ZZXNOb3JtYWw7XG4gICAgICAgIGFwcGVhcmFuY2VTdHJlYW1Db250ZW50LkRbbmFtZV0gPVxuICAgICAgICAgIEFjcm9Gb3JtQXBwZWFyYW5jZS5SYWRpb0J1dHRvbi5Dcm9zcy5ZZXNQdXNoRG93bjtcbiAgICAgICAgcmV0dXJuIGFwcGVhcmFuY2VTdHJlYW1Db250ZW50O1xuICAgICAgfSxcbiAgICAgIGdldENBOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFwiOFwiO1xuICAgICAgfSxcblxuICAgICAgWWVzTm9ybWFsOiBmdW5jdGlvbihmb3JtT2JqZWN0KSB7XG4gICAgICAgIHZhciB4b2JqID0gY3JlYXRlRm9ybVhPYmplY3QoZm9ybU9iamVjdCk7XG4gICAgICAgIHhvYmouc2NvcGUgPSBmb3JtT2JqZWN0LnNjb3BlO1xuICAgICAgICB2YXIgc3RyZWFtID0gW107XG4gICAgICAgIHZhciBjcm9zcyA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5jYWxjdWxhdGVDcm9zcyhmb3JtT2JqZWN0KTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJxXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBcIjEgMSBcIiArXG4gICAgICAgICAgICBmMihBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkgLSAyKSArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBmMihBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0SGVpZ2h0KGZvcm1PYmplY3QpIC0gMikgK1xuICAgICAgICAgICAgXCIgcmVcIlxuICAgICAgICApO1xuICAgICAgICBzdHJlYW0ucHVzaChcIldcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiblwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goZjIoY3Jvc3MueDEueCkgKyBcIiBcIiArIGYyKGNyb3NzLngxLnkpICsgXCIgbVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goZjIoY3Jvc3MueDIueCkgKyBcIiBcIiArIGYyKGNyb3NzLngyLnkpICsgXCIgbFwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goZjIoY3Jvc3MueDQueCkgKyBcIiBcIiArIGYyKGNyb3NzLng0LnkpICsgXCIgbVwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goZjIoY3Jvc3MueDMueCkgKyBcIiBcIiArIGYyKGNyb3NzLngzLnkpICsgXCIgbFwiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJzXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcIlFcIik7XG4gICAgICAgIHhvYmouc3RyZWFtID0gc3RyZWFtLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIHJldHVybiB4b2JqO1xuICAgICAgfSxcbiAgICAgIFllc1B1c2hEb3duOiBmdW5jdGlvbihmb3JtT2JqZWN0KSB7XG4gICAgICAgIHZhciB4b2JqID0gY3JlYXRlRm9ybVhPYmplY3QoZm9ybU9iamVjdCk7XG4gICAgICAgIHhvYmouc2NvcGUgPSBmb3JtT2JqZWN0LnNjb3BlO1xuICAgICAgICB2YXIgY3Jvc3MgPSBBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuY2FsY3VsYXRlQ3Jvc3MoZm9ybU9iamVjdCk7XG4gICAgICAgIHZhciBzdHJlYW0gPSBbXTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCIwLjc0OTAyMyBnXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBcIjAgMCBcIiArXG4gICAgICAgICAgICBmMihBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkpICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIGYyKEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkpICtcbiAgICAgICAgICAgIFwiIHJlXCJcbiAgICAgICAgKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJmXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcInFcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFxuICAgICAgICAgIFwiMSAxIFwiICtcbiAgICAgICAgICAgIGYyKEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KSAtIDIpICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIGYyKEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkgLSAyKSArXG4gICAgICAgICAgICBcIiByZVwiXG4gICAgICAgICk7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiV1wiKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJuXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChmMihjcm9zcy54MS54KSArIFwiIFwiICsgZjIoY3Jvc3MueDEueSkgKyBcIiBtXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChmMihjcm9zcy54Mi54KSArIFwiIFwiICsgZjIoY3Jvc3MueDIueSkgKyBcIiBsXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChmMihjcm9zcy54NC54KSArIFwiIFwiICsgZjIoY3Jvc3MueDQueSkgKyBcIiBtXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChmMihjcm9zcy54My54KSArIFwiIFwiICsgZjIoY3Jvc3MueDMueSkgKyBcIiBsXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcInNcIik7XG4gICAgICAgIHN0cmVhbS5wdXNoKFwiUVwiKTtcbiAgICAgICAgeG9iai5zdHJlYW0gPSBzdHJlYW0uam9pbihcIlxcblwiKTtcbiAgICAgICAgcmV0dXJuIHhvYmo7XG4gICAgICB9LFxuICAgICAgT2ZmUHVzaERvd246IGZ1bmN0aW9uKGZvcm1PYmplY3QpIHtcbiAgICAgICAgdmFyIHhvYmogPSBjcmVhdGVGb3JtWE9iamVjdChmb3JtT2JqZWN0KTtcbiAgICAgICAgeG9iai5zY29wZSA9IGZvcm1PYmplY3Quc2NvcGU7XG4gICAgICAgIHZhciBzdHJlYW0gPSBbXTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCIwLjc0OTAyMyBnXCIpO1xuICAgICAgICBzdHJlYW0ucHVzaChcbiAgICAgICAgICBcIjAgMCBcIiArXG4gICAgICAgICAgICBmMihBY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0V2lkdGgoZm9ybU9iamVjdCkpICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIGYyKEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRIZWlnaHQoZm9ybU9iamVjdCkpICtcbiAgICAgICAgICAgIFwiIHJlXCJcbiAgICAgICAgKTtcbiAgICAgICAgc3RyZWFtLnB1c2goXCJmXCIpO1xuICAgICAgICB4b2JqLnN0cmVhbSA9IHN0cmVhbS5qb2luKFwiXFxuXCIpO1xuICAgICAgICByZXR1cm4geG9iajtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0YW5kYXJkIEFwcGVhcmFuY2VcbiAgICpcbiAgICogQHJldHVybnMge0Fjcm9Gb3JtWE9iamVjdH1cbiAgICovXG4gIGNyZWF0ZURlZmF1bHRBcHBlYXJhbmNlU3RyZWFtOiBmdW5jdGlvbihmb3JtT2JqZWN0KSB7XG4gICAgLy8gU2V0IEhlbHZldGljYSB0byBTdGFuZGFyZCBGb250IChzaXplOiBhdXRvKVxuICAgIC8vIENvbG9yOiBCbGFja1xuICAgIHZhciBmb250S2V5ID0gZm9ybU9iamVjdC5zY29wZS5pbnRlcm5hbC5nZXRGb250KFxuICAgICAgZm9ybU9iamVjdC5mb250TmFtZSxcbiAgICAgIGZvcm1PYmplY3QuZm9udFN0eWxlXG4gICAgKS5pZDtcbiAgICB2YXIgZW5jb2RlZENvbG9yID0gZm9ybU9iamVjdC5zY29wZS5fX3ByaXZhdGVfXy5lbmNvZGVDb2xvclN0cmluZyhcbiAgICAgIGZvcm1PYmplY3QuY29sb3JcbiAgICApO1xuICAgIHZhciBmb250U2l6ZSA9IGZvcm1PYmplY3QuZm9udFNpemU7XG4gICAgdmFyIHJlc3VsdCA9IFwiL1wiICsgZm9udEtleSArIFwiIFwiICsgZm9udFNpemUgKyBcIiBUZiBcIiArIGVuY29kZWRDb2xvcjtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuXG5BY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwgPSB7XG4gIEJlemllcl9DOiAwLjU1MTkxNTAyNDQ5NCxcblxuICBjYWxjdWxhdGVDcm9zczogZnVuY3Rpb24oZm9ybU9iamVjdCkge1xuICAgIHZhciB3aWR0aCA9IEFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aChmb3JtT2JqZWN0KTtcbiAgICB2YXIgaGVpZ2h0ID0gQWNyb0Zvcm1BcHBlYXJhbmNlLmludGVybmFsLmdldEhlaWdodChmb3JtT2JqZWN0KTtcbiAgICB2YXIgYSA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgdmFyIGNyb3NzID0ge1xuICAgICAgeDE6IHtcbiAgICAgICAgLy8gdXBwZXJMZWZ0XG4gICAgICAgIHg6ICh3aWR0aCAtIGEpIC8gMixcbiAgICAgICAgeTogKGhlaWdodCAtIGEpIC8gMiArIGEgLy8gaGVpZ2h0IC0gYm9yZGVyUGFkZGluZ1xuICAgICAgfSxcbiAgICAgIHgyOiB7XG4gICAgICAgIC8vIGxvd2VyUmlnaHRcbiAgICAgICAgeDogKHdpZHRoIC0gYSkgLyAyICsgYSxcbiAgICAgICAgeTogKGhlaWdodCAtIGEpIC8gMiAvLyBib3JkZXJQYWRkaW5nXG4gICAgICB9LFxuICAgICAgeDM6IHtcbiAgICAgICAgLy8gbG93ZXJMZWZ0XG4gICAgICAgIHg6ICh3aWR0aCAtIGEpIC8gMixcbiAgICAgICAgeTogKGhlaWdodCAtIGEpIC8gMiAvLyBib3JkZXJQYWRkaW5nXG4gICAgICB9LFxuICAgICAgeDQ6IHtcbiAgICAgICAgLy8gdXBwZXJSaWdodFxuICAgICAgICB4OiAod2lkdGggLSBhKSAvIDIgKyBhLFxuICAgICAgICB5OiAoaGVpZ2h0IC0gYSkgLyAyICsgYSAvLyBoZWlnaHQgLSBib3JkZXJQYWRkaW5nXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBjcm9zcztcbiAgfVxufTtcbkFjcm9Gb3JtQXBwZWFyYW5jZS5pbnRlcm5hbC5nZXRXaWR0aCA9IGZ1bmN0aW9uKGZvcm1PYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IDA7XG4gIGlmICh0eXBlb2YgZm9ybU9iamVjdCA9PT0gXCJvYmplY3RcIikge1xuICAgIHJlc3VsdCA9IHNjYWxlKGZvcm1PYmplY3QuUmVjdFsyXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5BY3JvRm9ybUFwcGVhcmFuY2UuaW50ZXJuYWwuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oZm9ybU9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgaWYgKHR5cGVvZiBmb3JtT2JqZWN0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmVzdWx0ID0gc2NhbGUoZm9ybU9iamVjdC5SZWN0WzNdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gUHVibGljOlxuXG4vKipcbiAqIEFkZCBhbiBBY3JvRm9ybS1GaWVsZCB0byB0aGUganNQREYtaW5zdGFuY2VcbiAqXG4gKiBAbmFtZSBhZGRGaWVsZFxuICogQGZ1bmN0aW9uXG4gKiBAaW5zdGFuY2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaWVsZE9iamVjdFxuICogQHJldHVybnMge2pzUERGfVxuICovXG52YXIgYWRkRmllbGQgPSAoanNQREZBUEkuYWRkRmllbGQgPSBmdW5jdGlvbihmaWVsZE9iamVjdCkge1xuICBpbml0aWFsaXplQWNyb0Zvcm0odGhpcywgZmllbGRPYmplY3QpO1xuXG4gIGlmIChmaWVsZE9iamVjdCBpbnN0YW5jZW9mIEFjcm9Gb3JtRmllbGQpIHtcbiAgICBwdXRGb3JtKGZpZWxkT2JqZWN0KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCB0byBqc1BERi5hZGRGaWVsZC5cIik7XG4gIH1cbiAgZmllbGRPYmplY3QucGFnZSA9IGZpZWxkT2JqZWN0LnNjb3BlLmludGVybmFsLmdldEN1cnJlbnRQYWdlSW5mbygpLnBhZ2VOdW1iZXI7XG4gIHJldHVybiB0aGlzO1xufSk7XG5cbmpzUERGQVBJLkFjcm9Gb3JtQ2hvaWNlRmllbGQgPSBBY3JvRm9ybUNob2ljZUZpZWxkO1xuanNQREZBUEkuQWNyb0Zvcm1MaXN0Qm94ID0gQWNyb0Zvcm1MaXN0Qm94O1xuanNQREZBUEkuQWNyb0Zvcm1Db21ib0JveCA9IEFjcm9Gb3JtQ29tYm9Cb3g7XG5qc1BERkFQSS5BY3JvRm9ybUVkaXRCb3ggPSBBY3JvRm9ybUVkaXRCb3g7XG5qc1BERkFQSS5BY3JvRm9ybUJ1dHRvbiA9IEFjcm9Gb3JtQnV0dG9uO1xuanNQREZBUEkuQWNyb0Zvcm1QdXNoQnV0dG9uID0gQWNyb0Zvcm1QdXNoQnV0dG9uO1xuanNQREZBUEkuQWNyb0Zvcm1SYWRpb0J1dHRvbiA9IEFjcm9Gb3JtUmFkaW9CdXR0b247XG5qc1BERkFQSS5BY3JvRm9ybUNoZWNrQm94ID0gQWNyb0Zvcm1DaGVja0JveDtcbmpzUERGQVBJLkFjcm9Gb3JtVGV4dEZpZWxkID0gQWNyb0Zvcm1UZXh0RmllbGQ7XG5qc1BERkFQSS5BY3JvRm9ybVBhc3N3b3JkRmllbGQgPSBBY3JvRm9ybVBhc3N3b3JkRmllbGQ7XG5qc1BERkFQSS5BY3JvRm9ybUFwcGVhcmFuY2UgPSBBY3JvRm9ybUFwcGVhcmFuY2U7XG5cbmpzUERGQVBJLkFjcm9Gb3JtID0ge1xuICBDaG9pY2VGaWVsZDogQWNyb0Zvcm1DaG9pY2VGaWVsZCxcbiAgTGlzdEJveDogQWNyb0Zvcm1MaXN0Qm94LFxuICBDb21ib0JveDogQWNyb0Zvcm1Db21ib0JveCxcbiAgRWRpdEJveDogQWNyb0Zvcm1FZGl0Qm94LFxuICBCdXR0b246IEFjcm9Gb3JtQnV0dG9uLFxuICBQdXNoQnV0dG9uOiBBY3JvRm9ybVB1c2hCdXR0b24sXG4gIFJhZGlvQnV0dG9uOiBBY3JvRm9ybVJhZGlvQnV0dG9uLFxuICBDaGVja0JveDogQWNyb0Zvcm1DaGVja0JveCxcbiAgVGV4dEZpZWxkOiBBY3JvRm9ybVRleHRGaWVsZCxcbiAgUGFzc3dvcmRGaWVsZDogQWNyb0Zvcm1QYXNzd29yZEZpZWxkLFxuICBBcHBlYXJhbmNlOiBBY3JvRm9ybUFwcGVhcmFuY2Vcbn07XG5cbmpzUERGLkFjcm9Gb3JtID0ge1xuICBDaG9pY2VGaWVsZDogQWNyb0Zvcm1DaG9pY2VGaWVsZCxcbiAgTGlzdEJveDogQWNyb0Zvcm1MaXN0Qm94LFxuICBDb21ib0JveDogQWNyb0Zvcm1Db21ib0JveCxcbiAgRWRpdEJveDogQWNyb0Zvcm1FZGl0Qm94LFxuICBCdXR0b246IEFjcm9Gb3JtQnV0dG9uLFxuICBQdXNoQnV0dG9uOiBBY3JvRm9ybVB1c2hCdXR0b24sXG4gIFJhZGlvQnV0dG9uOiBBY3JvRm9ybVJhZGlvQnV0dG9uLFxuICBDaGVja0JveDogQWNyb0Zvcm1DaGVja0JveCxcbiAgVGV4dEZpZWxkOiBBY3JvRm9ybVRleHRGaWVsZCxcbiAgUGFzc3dvcmRGaWVsZDogQWNyb0Zvcm1QYXNzd29yZEZpZWxkLFxuICBBcHBlYXJhbmNlOiBBY3JvRm9ybUFwcGVhcmFuY2Vcbn07XG5cbnZhciBBY3JvRm9ybSA9IGpzUERGLkFjcm9Gb3JtO1xuXG5leHBvcnQge1xuICBBY3JvRm9ybSxcbiAgQWNyb0Zvcm1DaG9pY2VGaWVsZCxcbiAgQWNyb0Zvcm1MaXN0Qm94LFxuICBBY3JvRm9ybUNvbWJvQm94LFxuICBBY3JvRm9ybUVkaXRCb3gsXG4gIEFjcm9Gb3JtQnV0dG9uLFxuICBBY3JvRm9ybVB1c2hCdXR0b24sXG4gIEFjcm9Gb3JtUmFkaW9CdXR0b24sXG4gIEFjcm9Gb3JtQ2hlY2tCb3gsXG4gIEFjcm9Gb3JtVGV4dEZpZWxkLFxuICBBY3JvRm9ybVBhc3N3b3JkRmllbGQsXG4gIEFjcm9Gb3JtQXBwZWFyYW5jZVxufTtcbiIsImZ1bmN0aW9uIHRvTG9va3VwKGFycikge1xuICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbihsb29rdXAsIG5hbWUsIGluZGV4KSB7XG4gICAgbG9va3VwW25hbWVdID0gaW5kZXg7XG5cbiAgICByZXR1cm4gbG9va3VwO1xuICB9LCB7fSk7XG59XG5cbnZhciBmb250U3R5bGVPcmRlciA9IHtcbiAgaXRhbGljOiBbXCJpdGFsaWNcIiwgXCJvYmxpcXVlXCIsIFwibm9ybWFsXCJdLFxuICBvYmxpcXVlOiBbXCJvYmxpcXVlXCIsIFwiaXRhbGljXCIsIFwibm9ybWFsXCJdLFxuICBub3JtYWw6IFtcIm5vcm1hbFwiLCBcIm9ibGlxdWVcIiwgXCJpdGFsaWNcIl1cbn07XG5cbnZhciBmb250U3RyZXRjaE9yZGVyID0gW1xuICBcInVsdHJhLWNvbmRlbnNlZFwiLFxuICBcImV4dHJhLWNvbmRlbnNlZFwiLFxuICBcImNvbmRlbnNlZFwiLFxuICBcInNlbWktY29uZGVuc2VkXCIsXG4gIFwibm9ybWFsXCIsXG4gIFwic2VtaS1leHBhbmRlZFwiLFxuICBcImV4cGFuZGVkXCIsXG4gIFwiZXh0cmEtZXhwYW5kZWRcIixcbiAgXCJ1bHRyYS1leHBhbmRlZFwiXG5dO1xuXG4vLyBGb3IgYSBnaXZlbiBmb250LXN0cmV0Y2ggdmFsdWUsIHdlIG5lZWQgdG8ga25vdyB3aGVyZSB0byBzdGFydCBvdXIgc2VhcmNoXG4vLyBmcm9tIGluIHRoZSBmb250U3RyZXRjaE9yZGVyIGxpc3QuXG52YXIgZm9udFN0cmV0Y2hMb29rdXAgPSB0b0xvb2t1cChmb250U3RyZXRjaE9yZGVyKTtcblxudmFyIGZvbnRXZWlnaHRzID0gWzEwMCwgMjAwLCAzMDAsIDQwMCwgNTAwLCA2MDAsIDcwMCwgODAwLCA5MDBdO1xudmFyIGZvbnRXZWlnaHRzTG9va3VwID0gdG9Mb29rdXAoZm9udFdlaWdodHMpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVGb250U3RyZXRjaChzdHJldGNoKSB7XG4gIHN0cmV0Y2ggPSBzdHJldGNoIHx8IFwibm9ybWFsXCI7XG5cbiAgcmV0dXJuIHR5cGVvZiBmb250U3RyZXRjaExvb2t1cFtzdHJldGNoXSA9PT0gXCJudW1iZXJcIiA/IHN0cmV0Y2ggOiBcIm5vcm1hbFwiO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVGb250U3R5bGUoc3R5bGUpIHtcbiAgc3R5bGUgPSBzdHlsZSB8fCBcIm5vcm1hbFwiO1xuXG4gIHJldHVybiBmb250U3R5bGVPcmRlcltzdHlsZV0gPyBzdHlsZSA6IFwibm9ybWFsXCI7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUZvbnRXZWlnaHQod2VpZ2h0KSB7XG4gIGlmICghd2VpZ2h0KSB7XG4gICAgcmV0dXJuIDQwMDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygd2VpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgLy8gSWdub3JlIHZhbHVlcyB3aGljaCBhcmVuJ3QgdmFsaWQgZm9udC13ZWlnaHRzLlxuICAgIHJldHVybiB3ZWlnaHQgPj0gMTAwICYmIHdlaWdodCA8PSA5MDAgJiYgd2VpZ2h0ICUgMTAwID09PSAwID8gd2VpZ2h0IDogNDAwO1xuICB9XG5cbiAgaWYgKC9eXFxkMDAkLy50ZXN0KHdlaWdodCkpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQod2VpZ2h0KTtcbiAgfVxuXG4gIHN3aXRjaCAod2VpZ2h0KSB7XG4gICAgY2FzZSBcImJvbGRcIjpcbiAgICAgIHJldHVybiA3MDA7XG5cbiAgICBjYXNlIFwibm9ybWFsXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiA0MDA7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUZvbnRGYWNlKGZvbnRGYWNlKSB7XG4gIHZhciBmYW1pbHkgPSBmb250RmFjZS5mYW1pbHkucmVwbGFjZSgvXCJ8Jy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuXG4gIHZhciBzdHlsZSA9IG5vcm1hbGl6ZUZvbnRTdHlsZShmb250RmFjZS5zdHlsZSk7XG4gIHZhciB3ZWlnaHQgPSBub3JtYWxpemVGb250V2VpZ2h0KGZvbnRGYWNlLndlaWdodCk7XG4gIHZhciBzdHJldGNoID0gbm9ybWFsaXplRm9udFN0cmV0Y2goZm9udEZhY2Uuc3RyZXRjaCk7XG5cbiAgcmV0dXJuIHtcbiAgICBmYW1pbHk6IGZhbWlseSxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgd2VpZ2h0OiB3ZWlnaHQsXG4gICAgc3RyZXRjaDogc3RyZXRjaCxcbiAgICBzcmM6IGZvbnRGYWNlLnNyYyB8fCBbXSxcblxuICAgIC8vIFRoZSByZWYgcHJvcGVydHkgbWFwcyB0aGlzIGZvbnQtZmFjZSB0byB0aGUgZm9udFxuICAgIC8vIGFkZGVkIGJ5IHRoZSAuYWRkRm9udCgpIG1ldGhvZC5cbiAgICByZWY6IGZvbnRGYWNlLnJlZiB8fCB7XG4gICAgICBuYW1lOiBmYW1pbHksXG4gICAgICBzdHlsZTogW3N0cmV0Y2gsIHN0eWxlLCB3ZWlnaHRdLmpvaW4oXCIgXCIpXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFR1cm5zIGEgbGlzdCBvZiBmb250LWZhY2VzIGludG8gYSBtYXAsIGZvciBlYXNpZXIgbG9va3VwIHdoZW4gcmVzb2x2aW5nXG4gKiBmb250cy5cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEZvbnRGYWNlTWFwKGZvbnRGYWNlcykge1xuICB2YXIgbWFwID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb250RmFjZXMubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUZvbnRGYWNlKGZvbnRGYWNlc1tpXSk7XG5cbiAgICB2YXIgbmFtZSA9IG5vcm1hbGl6ZWQuZmFtaWx5O1xuICAgIHZhciBzdHJldGNoID0gbm9ybWFsaXplZC5zdHJldGNoO1xuICAgIHZhciBzdHlsZSA9IG5vcm1hbGl6ZWQuc3R5bGU7XG4gICAgdmFyIHdlaWdodCA9IG5vcm1hbGl6ZWQud2VpZ2h0O1xuXG4gICAgbWFwW25hbWVdID0gbWFwW25hbWVdIHx8IHt9O1xuXG4gICAgbWFwW25hbWVdW3N0cmV0Y2hdID0gbWFwW25hbWVdW3N0cmV0Y2hdIHx8IHt9O1xuICAgIG1hcFtuYW1lXVtzdHJldGNoXVtzdHlsZV0gPSBtYXBbbmFtZV1bc3RyZXRjaF1bc3R5bGVdIHx8IHt9O1xuICAgIG1hcFtuYW1lXVtzdHJldGNoXVtzdHlsZV1bd2VpZ2h0XSA9IG5vcm1hbGl6ZWQ7XG4gIH1cblxuICByZXR1cm4gbWFwO1xufVxuXG4vKipcbiAqIFNlYXJjaGVzIGEgbWFwIG9mIHN0cmV0Y2hlcywgd2VpZ2h0cywgZXRjLiBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uIGFuZFxuICogdGhlbiwgaWYgbm8gbWF0Y2ggaGFzIGJlZW4gZm91bmQsIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGFueT59IG1hdGNoaW5nU2V0IEEgbWFwIG9mIHRoZSB2YXJpb3VzIGZvbnQgdmFyaWF0aW9ucy5cbiAqIEBwYXJhbSB7YW55W119IG9yZGVyIFRoZSBvcmRlciBvZiB0aGUgZGlmZmVyZW50IHZhcmlhdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdCBUaGUgc3RhcnRpbmcgcG9pbnQgb2YgdGhlIHNlYXJjaCBpbiB0aGUgb3JkZXIgbGlzdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkaXIgVGhlIGluaXRpYWwgZGlyZWN0aW9uIG9mIHRoZSBzZWFyY2ggKGRlc2MgPSAtMSwgYXNjID0gMSlcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VhcmNoRnJvbVBpdm90KG1hdGNoaW5nU2V0LCBvcmRlciwgcGl2b3QsIGRpcikge1xuICB2YXIgaTtcblxuICBmb3IgKGkgPSBwaXZvdDsgaSA+PSAwICYmIGkgPCBvcmRlci5sZW5ndGg7IGkgKz0gZGlyKSB7XG4gICAgaWYgKG1hdGNoaW5nU2V0W29yZGVyW2ldXSkge1xuICAgICAgcmV0dXJuIG1hdGNoaW5nU2V0W29yZGVyW2ldXTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGkgPSBwaXZvdDsgaSA+PSAwICYmIGkgPCBvcmRlci5sZW5ndGg7IGkgLT0gZGlyKSB7XG4gICAgaWYgKG1hdGNoaW5nU2V0W29yZGVyW2ldXSkge1xuICAgICAgcmV0dXJuIG1hdGNoaW5nU2V0W29yZGVyW2ldXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUZvbnRTdHJldGNoKHN0cmV0Y2gsIG1hdGNoaW5nU2V0KSB7XG4gIGlmIChtYXRjaGluZ1NldFtzdHJldGNoXSkge1xuICAgIHJldHVybiBtYXRjaGluZ1NldFtzdHJldGNoXTtcbiAgfVxuXG4gIHZhciBwaXZvdCA9IGZvbnRTdHJldGNoTG9va3VwW3N0cmV0Y2hdO1xuXG4gIC8vIElmIHRoZSBmb250LXN0cmV0Y2ggdmFsdWUgaXMgbm9ybWFsIG9yIG1vcmUgY29uZGVuc2VkLCB3ZSB3YW50IHRvXG4gIC8vIHN0YXJ0IHdpdGggYSBkZXNjZW5kaW5nIHNlYXJjaCwgb3RoZXJ3aXNlIHdlIHNob3VsZCBkbyBhc2NlbmRpbmcuXG4gIHZhciBkaXIgPSBwaXZvdCA8PSBmb250U3RyZXRjaExvb2t1cFtcIm5vcm1hbFwiXSA/IC0xIDogMTtcbiAgdmFyIG1hdGNoID0gc2VhcmNoRnJvbVBpdm90KG1hdGNoaW5nU2V0LCBmb250U3RyZXRjaE9yZGVyLCBwaXZvdCwgZGlyKTtcblxuICBpZiAoIW1hdGNoKSB7XG4gICAgLy8gU2luY2UgYSBmb250LWZhbWlseSBjYW5ub3QgZXhpc3Qgd2l0aG91dCBoYXZpbmcgYXQgbGVhc3Qgb25lIHN0cmV0Y2ggdmFsdWVcbiAgICAvLyB3ZSBzaG91bGQgbmV2ZXIgcmVhY2ggdGhpcyBwb2ludC5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGEgbWF0Y2hpbmcgZm9udC1zdHJldGNoIHZhbHVlIGZvciBcIiArIHN0cmV0Y2hcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRm9udFN0eWxlKGZvbnRTdHlsZSwgbWF0Y2hpbmdTZXQpIHtcbiAgaWYgKG1hdGNoaW5nU2V0W2ZvbnRTdHlsZV0pIHtcbiAgICByZXR1cm4gbWF0Y2hpbmdTZXRbZm9udFN0eWxlXTtcbiAgfVxuXG4gIHZhciBvcmRlcmluZyA9IGZvbnRTdHlsZU9yZGVyW2ZvbnRTdHlsZV07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlcmluZy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChtYXRjaGluZ1NldFtvcmRlcmluZ1tpXV0pIHtcbiAgICAgIHJldHVybiBtYXRjaGluZ1NldFtvcmRlcmluZ1tpXV07XG4gICAgfVxuICB9XG5cbiAgLy8gU2luY2UgYSBmb250LWZhbWlseSBjYW5ub3QgZXhpc3Qgd2l0aG91dCBoYXZpbmcgYXQgbGVhc3Qgb25lIHN0eWxlIHZhbHVlXG4gIC8vIHdlIHNob3VsZCBuZXZlciByZWFjaCB0aGlzIHBvaW50LlxuICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBhIG1hdGNoaW5nIGZvbnQtc3R5bGUgZm9yIFwiICsgZm9udFN0eWxlKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUZvbnRXZWlnaHQod2VpZ2h0LCBtYXRjaGluZ1NldCkge1xuICBpZiAobWF0Y2hpbmdTZXRbd2VpZ2h0XSkge1xuICAgIHJldHVybiBtYXRjaGluZ1NldFt3ZWlnaHRdO1xuICB9XG5cbiAgaWYgKHdlaWdodCA9PT0gNDAwICYmIG1hdGNoaW5nU2V0WzUwMF0pIHtcbiAgICByZXR1cm4gbWF0Y2hpbmdTZXRbNTAwXTtcbiAgfVxuXG4gIGlmICh3ZWlnaHQgPT09IDUwMCAmJiBtYXRjaGluZ1NldFs0MDBdKSB7XG4gICAgcmV0dXJuIG1hdGNoaW5nU2V0WzQwMF07XG4gIH1cblxuICB2YXIgcGl2b3QgPSBmb250V2VpZ2h0c0xvb2t1cFt3ZWlnaHRdO1xuXG4gIC8vIElmIHRoZSBmb250LXN0cmV0Y2ggdmFsdWUgaXMgbm9ybWFsIG9yIG1vcmUgY29uZGVuc2VkLCB3ZSB3YW50IHRvXG4gIC8vIHN0YXJ0IHdpdGggYSBkZXNjZW5kaW5nIHNlYXJjaCwgb3RoZXJ3aXNlIHdlIHNob3VsZCBkbyBhc2NlbmRpbmcuXG4gIHZhciBkaXIgPSB3ZWlnaHQgPCA0MDAgPyAtMSA6IDE7XG4gIHZhciBtYXRjaCA9IHNlYXJjaEZyb21QaXZvdChtYXRjaGluZ1NldCwgZm9udFdlaWdodHMsIHBpdm90LCBkaXIpO1xuXG4gIGlmICghbWF0Y2gpIHtcbiAgICAvLyBTaW5jZSBhIGZvbnQtZmFtaWx5IGNhbm5vdCBleGlzdCB3aXRob3V0IGhhdmluZyBhdCBsZWFzdCBvbmUgc3RyZXRjaCB2YWx1ZVxuICAgIC8vIHdlIHNob3VsZCBuZXZlciByZWFjaCB0aGlzIHBvaW50LlxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgYSBtYXRjaGluZyBmb250LXdlaWdodCBmb3IgdmFsdWUgXCIgKyB3ZWlnaHRcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoO1xufVxuXG52YXIgZGVmYXVsdEdlbmVyaWNGb250RmFtaWxpZXMgPSB7XG4gIFwic2Fucy1zZXJpZlwiOiBcImhlbHZldGljYVwiLFxuICBmaXhlZDogXCJjb3VyaWVyXCIsXG4gIG1vbm9zcGFjZTogXCJjb3VyaWVyXCIsXG4gIHRlcm1pbmFsOiBcImNvdXJpZXJcIixcbiAgY3Vyc2l2ZTogXCJ0aW1lc1wiLFxuICBmYW50YXN5OiBcInRpbWVzXCIsXG4gIHNlcmlmOiBcInRpbWVzXCJcbn07XG5cbnZhciBzeXN0ZW1Gb250cyA9IHtcbiAgY2FwdGlvbjogXCJ0aW1lc1wiLFxuICBpY29uOiBcInRpbWVzXCIsXG4gIG1lbnU6IFwidGltZXNcIixcbiAgXCJtZXNzYWdlLWJveFwiOiBcInRpbWVzXCIsXG4gIFwic21hbGwtY2FwdGlvblwiOiBcInRpbWVzXCIsXG4gIFwic3RhdHVzLWJhclwiOiBcInRpbWVzXCJcbn07XG5cbmZ1bmN0aW9uIHJ1bGVUb1N0cmluZyhydWxlKSB7XG4gIHJldHVybiBbcnVsZS5zdHJldGNoLCBydWxlLnN0eWxlLCBydWxlLndlaWdodCwgcnVsZS5mYW1pbHldLmpvaW4oXCIgXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUZvbnRGYWNlKGZvbnRGYWNlTWFwLCBydWxlcywgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICB2YXIgZGVmYXVsdEZvbnRGYW1pbHkgPSBvcHRzLmRlZmF1bHRGb250RmFtaWx5IHx8IFwidGltZXNcIjtcbiAgdmFyIGdlbmVyaWNGb250RmFtaWxpZXMgPSBPYmplY3QuYXNzaWduKFxuICAgIHt9LFxuICAgIGRlZmF1bHRHZW5lcmljRm9udEZhbWlsaWVzLFxuICAgIG9wdHMuZ2VuZXJpY0ZvbnRGYW1pbGllcyB8fCB7fVxuICApO1xuXG4gIHZhciBydWxlID0gbnVsbDtcbiAgdmFyIG1hdGNoZXMgPSBudWxsO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyArK2kpIHtcbiAgICBydWxlID0gbm9ybWFsaXplRm9udEZhY2UocnVsZXNbaV0pO1xuXG4gICAgaWYgKGdlbmVyaWNGb250RmFtaWxpZXNbcnVsZS5mYW1pbHldKSB7XG4gICAgICBydWxlLmZhbWlseSA9IGdlbmVyaWNGb250RmFtaWxpZXNbcnVsZS5mYW1pbHldO1xuICAgIH1cblxuICAgIGlmIChmb250RmFjZU1hcC5oYXNPd25Qcm9wZXJ0eShydWxlLmZhbWlseSkpIHtcbiAgICAgIG1hdGNoZXMgPSBmb250RmFjZU1hcFtydWxlLmZhbWlseV07XG5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFsd2F5cyBmYWxsYmFjayB0byBhIGtub3duIGZvbnQgZmFtaWx5LlxuICBtYXRjaGVzID0gbWF0Y2hlcyB8fCBmb250RmFjZU1hcFtkZWZhdWx0Rm9udEZhbWlseV07XG5cbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBzaG91bGQgZGVmaW5pdGllbHkgaGF2ZSBhIGZvbnQgZmFtaWx5LCBidXQgaWYgd2VcbiAgICAvLyBkb24ndCB0aGVyZSBpcyBzb21ldGhpbmcgd3Jvbmcgd2l0aCBvdXIgY29uZmlndXJhdGlvblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgYSBmb250LWZhbWlseSBmb3IgdGhlIHJ1bGUgJ1wiICtcbiAgICAgICAgcnVsZVRvU3RyaW5nKHJ1bGUpICtcbiAgICAgICAgXCInIGFuZCBkZWZhdWx0IGZhbWlseSAnXCIgK1xuICAgICAgICBkZWZhdWx0Rm9udEZhbWlseSArXG4gICAgICAgIFwiJy5cIlxuICAgICk7XG4gIH1cblxuICBtYXRjaGVzID0gcmVzb2x2ZUZvbnRTdHJldGNoKHJ1bGUuc3RyZXRjaCwgbWF0Y2hlcyk7XG4gIG1hdGNoZXMgPSByZXNvbHZlRm9udFN0eWxlKHJ1bGUuc3R5bGUsIG1hdGNoZXMpO1xuICBtYXRjaGVzID0gcmVzb2x2ZUZvbnRXZWlnaHQocnVsZS53ZWlnaHQsIG1hdGNoZXMpO1xuXG4gIGlmICghbWF0Y2hlcykge1xuICAgIC8vIFdlIHNob3VsZCd2ZSBmb3VudFxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiRmFpbGVkIHRvIHJlc29sdmUgYSBmb250IGZvciB0aGUgcnVsZSAnXCIgKyBydWxlVG9TdHJpbmcocnVsZSkgKyBcIicuXCJcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbi8qKlxuICogQnVpbGRzIGEgc3R5bGUgaWQgZm9yIHVzZSB3aXRoIHRoZSBhZGRGb250KCkgbWV0aG9kLlxuICogQHBhcmFtIHtGb250RmFjZX0gZm9udFxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3R5bGVOYW1lKGZvbnQpIHtcbiAgcmV0dXJuIFtmb250LndlaWdodCwgZm9udC5zdHlsZSwgZm9udC5zdHJldGNoXS5qb2luKFwiIFwiKTtcbn1cblxuZnVuY3Rpb24gZWF0V2hpdGVTcGFjZShpbnB1dCkge1xuICByZXR1cm4gaW5wdXQudHJpbUxlZnQoKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VRdW90ZWRGb250RmFtaWx5KGlucHV0LCBxdW90ZSkge1xuICB2YXIgaW5kZXggPSAwO1xuXG4gIHdoaWxlIChpbmRleCA8IGlucHV0Lmxlbmd0aCkge1xuICAgIHZhciBjdXJyZW50ID0gaW5wdXQuY2hhckF0KGluZGV4KTtcblxuICAgIGlmIChjdXJyZW50ID09PSBxdW90ZSkge1xuICAgICAgcmV0dXJuIFtpbnB1dC5zdWJzdHJpbmcoMCwgaW5kZXgpLCBpbnB1dC5zdWJzdHJpbmcoaW5kZXggKyAxKV07XG4gICAgfVxuXG4gICAgaW5kZXggKz0gMTtcbiAgfVxuXG4gIC8vIFVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZU5vblF1b3RlZEZvbnRGYW1pbHkoaW5wdXQpIHtcbiAgLy8gSXQgaW1wbGVtZW50cyBwYXJ0IG9mIHRoZSBpZGVudGlmaWVyIHBhcnNlciBoZXJlOiBodHRwczovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG4gIC8vXG4gIC8vIE5PVEU6IFRoaXMgcGFyc2VyIHByZXR0eSBtdWNoIGlnbm9yZXMgZXNjYXBlZCBpZGVudGlmaWVycyBhbmQgdGhhdCB0aGVyZSBpcyBhIHRoaW5nIGNhbGxlZCB1bmljb2RlLlxuICAvL1xuICAvLyBCcmVha2Rvd24gb2YgcmVnZXhwOlxuICAvLyAtW2Etel9dICAgICAtIHdoZW4gaWRlbnRpZmllciBzdGFydHMgd2l0aCBhIGh5cGhlbiwgeW91J3JlIG5vdCBhbGxvd2VkIHRvIGhhdmUgYW5vdGhlciBoeXBoZW4gb3IgYSBkaWdpdFxuICAvLyBbYS16X10gICAgICAtIGFsbG93IGEteiBhbmQgdW5kZXJzY29yZSBhdCBiZWdpbm5pbmcgb2YgaW5wdXRcbiAgLy8gW2EtejAtOV8tXSogLSBhZnRlciB0aGF0LCBhbnl0aGluZyBnb2VzXG4gIHZhciBtYXRjaCA9IGlucHV0Lm1hdGNoKC9eKC1bYS16X118W2Etel9dKVthLXowLTlfLV0qL2kpO1xuXG4gIC8vIG5vbiBxdW90ZWQgdmFsdWUgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzXG4gIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIFttYXRjaFswXSwgaW5wdXQuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCldO1xufVxuXG52YXIgZGVmYXVsdEZvbnQgPSBbXCJ0aW1lc1wiXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRm9udEZhbWlseShpbnB1dCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBjaCwgcGFyc2VkO1xuICB2YXIgcmVtYWluaW5nID0gaW5wdXQudHJpbSgpO1xuXG4gIGlmIChyZW1haW5pbmcgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gZGVmYXVsdEZvbnQ7XG4gIH1cblxuICBpZiAocmVtYWluaW5nIGluIHN5c3RlbUZvbnRzKSB7XG4gICAgcmV0dXJuIFtzeXN0ZW1Gb250c1tyZW1haW5pbmddXTtcbiAgfVxuXG4gIHdoaWxlIChyZW1haW5pbmcgIT09IFwiXCIpIHtcbiAgICBwYXJzZWQgPSBudWxsO1xuICAgIHJlbWFpbmluZyA9IGVhdFdoaXRlU3BhY2UocmVtYWluaW5nKTtcbiAgICBjaCA9IHJlbWFpbmluZy5jaGFyQXQoMCk7XG5cbiAgICBzd2l0Y2ggKGNoKSB7XG4gICAgICBjYXNlICdcIic6XG4gICAgICBjYXNlIFwiJ1wiOlxuICAgICAgICBwYXJzZWQgPSBwYXJzZVF1b3RlZEZvbnRGYW1pbHkocmVtYWluaW5nLnN1YnN0cmluZygxKSwgY2gpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcGFyc2VkID0gcGFyc2VOb25RdW90ZWRGb250RmFtaWx5KHJlbWFpbmluZyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChwYXJzZWQgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0Rm9udDtcbiAgICB9XG5cbiAgICByZXN1bHQucHVzaChwYXJzZWRbMF0pO1xuXG4gICAgcmVtYWluaW5nID0gZWF0V2hpdGVTcGFjZShwYXJzZWRbMV0pO1xuXG4gICAgLy8gV2UgZXhwZWN0IGVuZCBvZiBpbnB1dCBvciBhIGNvbW1hIHNlcGFyYXRvciBoZXJlXG4gICAgaWYgKHJlbWFpbmluZyAhPT0gXCJcIiAmJiByZW1haW5pbmcuY2hhckF0KDApICE9PSBcIixcIikge1xuICAgICAgcmV0dXJuIGRlZmF1bHRGb250O1xuICAgIH1cblxuICAgIHJlbWFpbmluZyA9IHJlbWFpbmluZy5yZXBsYWNlKC9eLC8sIFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIi8qKiBAbGljZW5zZVxyXG4gKiBqc1BERiBhZGRJbWFnZSBwbHVnaW5cclxuICogQ29weXJpZ2h0IChjKSAyMDEyIEphc29uIFNpZWZrZW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9zaWVma2Vuai9cclxuICogICAgICAgICAgICAgICAyMDEzIENocmlzIERvd2xpbmcsIGh0dHBzOi8vZ2l0aHViLmNvbS9naW5nZXJjaHJpc1xyXG4gKiAgICAgICAgICAgICAgIDIwMTMgVHJpbmggSG8sIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmVlZGZhdFxyXG4gKiAgICAgICAgICAgICAgIDIwMTMgRWR3aW4gQWxlamFuZHJvIFBlcmV6LCBodHRwczovL2dpdGh1Yi5jb20vZWFwYXJhbmdvXHJcbiAqICAgICAgICAgICAgICAgMjAxMyBOb3JhaCBTbWl0aCwgaHR0cHM6Ly9naXRodWIuY29tL2J1cm5idXJucm9ja2V0XHJcbiAqICAgICAgICAgICAgICAgMjAxNCBEaWVnbyBDYXNvcnJhbiwgaHR0cHM6Ly9naXRodWIuY29tL2RpZWdvY3JcclxuICogICAgICAgICAgICAgICAyMDE0IEphbWVzIFJvYmIsIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW1lc2Jyb2JiXHJcbiAqXHJcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xyXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcclxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXHJcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcclxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXHJcbiAqIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0b1xyXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcbiAqXHJcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXHJcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG4gKlxyXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxyXG4gKiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcclxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcclxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxyXG4gKiBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OXHJcbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxyXG4gKiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cclxuICovXHJcbi8qKlxyXG4gKiBAbmFtZSBhZGRJbWFnZVxyXG4gKiBAbW9kdWxlXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcclxuaW1wb3J0IHsgYXRvYiwgYnRvYSB9IGZyb20gXCIuLi9saWJzL0F0b2JCdG9hLmpzXCI7XHJcblxyXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcclxuICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgdmFyIG5hbWVzcGFjZSA9IFwiYWRkSW1hZ2VfXCI7XHJcbiAganNQREZBUEkuX19hZGRpbWFnZV9fID0ge307XHJcblxyXG4gIHZhciBVTktOT1dOID0gXCJVTktOT1dOXCI7XHJcblxyXG4gIC8vIEhldXJpc3RpYyBzZWxlY3Rpb24gb2YgYSBnb29kIGJhdGNoIGZvciBsYXJnZSBhcnJheSAuYXBwbHkuIE5vdCBsaW1pdGluZyBtYWtlIHRoZSBjYWxsIG92ZXJmbG93LlxyXG4gIC8vIFdpdGggdG9vIHNtYWxsIGJhdGNoIGl0ZXJhdGlvbiB3aWxsIGJlIHNsb3cgYXMgbW9yZSBjYWxscyBhcmUgbWFkZSxcclxuICAvLyBoaWdoZXIgdmFsdWVzIGNhdXNlIGxhcmdlciBhbmQgc2xvd2VyIGdhcmJhZ2UgY29sbGVjdGlvbi5cclxuICB2YXIgQVJSQVlfQVBQTFlfQkFUQ0ggPSA4MTkyO1xyXG5cclxuICB2YXIgaW1hZ2VGaWxlVHlwZUhlYWRlcnMgPSB7XHJcbiAgICBQTkc6IFtbMHg4OSwgMHg1MCwgMHg0ZSwgMHg0N11dLFxyXG4gICAgVElGRjogW1xyXG4gICAgICBbMHg0ZCwgMHg0ZCwgMHgwMCwgMHgyYV0sIC8vTW90b3JvbGFcclxuICAgICAgWzB4NDksIDB4NDksIDB4MmEsIDB4MDBdIC8vSW50ZWxcclxuICAgIF0sXHJcbiAgICBKUEVHOiBbXHJcbiAgICAgIFtcclxuICAgICAgICAweGZmLFxyXG4gICAgICAgIDB4ZDgsXHJcbiAgICAgICAgMHhmZixcclxuICAgICAgICAweGUwLFxyXG4gICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgMHg0YSxcclxuICAgICAgICAweDQ2LFxyXG4gICAgICAgIDB4NDksXHJcbiAgICAgICAgMHg0NixcclxuICAgICAgICAweDAwXHJcbiAgICAgIF0sIC8vSkZJRlxyXG4gICAgICBbXHJcbiAgICAgICAgMHhmZixcclxuICAgICAgICAweGQ4LFxyXG4gICAgICAgIDB4ZmYsXHJcbiAgICAgICAgMHhlMSxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIDB4NDUsXHJcbiAgICAgICAgMHg3OCxcclxuICAgICAgICAweDY5LFxyXG4gICAgICAgIDB4NjYsXHJcbiAgICAgICAgMHgwMCxcclxuICAgICAgICAweDAwXHJcbiAgICAgIF0sIC8vRXhpZlxyXG4gICAgICBbMHhmZiwgMHhkOCwgMHhmZiwgMHhkYl0sIC8vSlBFRyBSQVdcclxuICAgICAgWzB4ZmYsIDB4ZDgsIDB4ZmYsIDB4ZWVdIC8vRVhJRiBSQVdcclxuICAgIF0sXHJcbiAgICBKUEVHMjAwMDogW1sweDAwLCAweDAwLCAweDAwLCAweDBjLCAweDZhLCAweDUwLCAweDIwLCAweDIwXV0sXHJcbiAgICBHSUY4N2E6IFtbMHg0NywgMHg0OSwgMHg0NiwgMHgzOCwgMHgzNywgMHg2MV1dLFxyXG4gICAgR0lGODlhOiBbWzB4NDcsIDB4NDksIDB4NDYsIDB4MzgsIDB4MzksIDB4NjFdXSxcclxuICAgIFdFQlA6IFtcclxuICAgICAgW1xyXG4gICAgICAgIDB4NTIsXHJcbiAgICAgICAgMHg0OSxcclxuICAgICAgICAweDQ2LFxyXG4gICAgICAgIDB4NDYsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgIDB4NTcsXHJcbiAgICAgICAgMHg0NSxcclxuICAgICAgICAweDQyLFxyXG4gICAgICAgIDB4NTBcclxuICAgICAgXVxyXG4gICAgXSxcclxuICAgIEJNUDogW1xyXG4gICAgICBbMHg0MiwgMHg0ZF0sIC8vQk0gLSBXaW5kb3dzIDMuMXgsIDk1LCBOVCwgLi4uIGV0Yy5cclxuICAgICAgWzB4NDIsIDB4NDFdLCAvL0JBIC0gT1MvMiBzdHJ1Y3QgYml0bWFwIGFycmF5XHJcbiAgICAgIFsweDQzLCAweDQ5XSwgLy9DSSAtIE9TLzIgc3RydWN0IGNvbG9yIGljb25cclxuICAgICAgWzB4NDMsIDB4NTBdLCAvL0NQIC0gT1MvMiBjb25zdCBjb2xvciBwb2ludGVyXHJcbiAgICAgIFsweDQ5LCAweDQzXSwgLy9JQyAtIE9TLzIgc3RydWN0IGljb25cclxuICAgICAgWzB4NTAsIDB4NTRdIC8vUFQgLSBPUy8yIHBvaW50ZXJcclxuICAgIF1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZWNvZ25pemUgZmlsZXR5cGUgb2YgSW1hZ2UgYnkgbWFnaWMtYnl0ZXNcclxuICAgKlxyXG4gICAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfZmlsZV9zaWduYXR1cmVzXHJcbiAgICpcclxuICAgKiBAbmFtZSBnZXRJbWFnZUZpbGVUeXBlQnlJbWFnZURhdGFcclxuICAgKiBAcHVibGljXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXlidWZmZXJ9IGltYWdlRGF0YSBpbWFnZURhdGEgYXMgYmluYXJ5IFN0cmluZyBvciBhcnJheWJ1ZmZlclxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgZm9ybWF0IG9mIGZpbGUgaWYgZmlsZXR5cGUtcmVjb2duaXRpb24gZmFpbHMsIGUuZy4gJ0pQRUcnXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBmaWxldHlwZSBvZiBJbWFnZVxyXG4gICAqL1xyXG4gIHZhciBnZXRJbWFnZUZpbGVUeXBlQnlJbWFnZURhdGEgPSAoanNQREZBUEkuX19hZGRpbWFnZV9fLmdldEltYWdlRmlsZVR5cGVCeUltYWdlRGF0YSA9IGZ1bmN0aW9uKFxyXG4gICAgaW1hZ2VEYXRhLFxyXG4gICAgZmFsbGJhY2tGb3JtYXRcclxuICApIHtcclxuICAgIGZhbGxiYWNrRm9ybWF0ID0gZmFsbGJhY2tGb3JtYXQgfHwgVU5LTk9XTjtcclxuICAgIHZhciBpO1xyXG4gICAgdmFyIGo7XHJcbiAgICB2YXIgcmVzdWx0ID0gVU5LTk9XTjtcclxuICAgIHZhciBoZWFkZXJTY2hlbWF0YTtcclxuICAgIHZhciBjb21wYXJlUmVzdWx0O1xyXG4gICAgdmFyIGZpbGVUeXBlO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgZmFsbGJhY2tGb3JtYXQgPT09IFwiUkdCQVwiIHx8XHJcbiAgICAgIChpbWFnZURhdGEuZGF0YSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGEgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheSAmJlxyXG4gICAgICAgIFwiaGVpZ2h0XCIgaW4gaW1hZ2VEYXRhICYmXHJcbiAgICAgICAgXCJ3aWR0aFwiIGluIGltYWdlRGF0YSlcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gXCJSR0JBXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQXJyYXlCdWZmZXJWaWV3KGltYWdlRGF0YSkpIHtcclxuICAgICAgZm9yIChmaWxlVHlwZSBpbiBpbWFnZUZpbGVUeXBlSGVhZGVycykge1xyXG4gICAgICAgIGhlYWRlclNjaGVtYXRhID0gaW1hZ2VGaWxlVHlwZUhlYWRlcnNbZmlsZVR5cGVdO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJTY2hlbWF0YS5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgY29tcGFyZVJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgaGVhZGVyU2NoZW1hdGFbaV0ubGVuZ3RoOyBqICs9IDEpIHtcclxuICAgICAgICAgICAgaWYgKGhlYWRlclNjaGVtYXRhW2ldW2pdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGVhZGVyU2NoZW1hdGFbaV1bal0gIT09IGltYWdlRGF0YVtqXSkge1xyXG4gICAgICAgICAgICAgIGNvbXBhcmVSZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGNvbXBhcmVSZXN1bHQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZmlsZVR5cGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChmaWxlVHlwZSBpbiBpbWFnZUZpbGVUeXBlSGVhZGVycykge1xyXG4gICAgICAgIGhlYWRlclNjaGVtYXRhID0gaW1hZ2VGaWxlVHlwZUhlYWRlcnNbZmlsZVR5cGVdO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJTY2hlbWF0YS5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgY29tcGFyZVJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgaGVhZGVyU2NoZW1hdGFbaV0ubGVuZ3RoOyBqICs9IDEpIHtcclxuICAgICAgICAgICAgaWYgKGhlYWRlclNjaGVtYXRhW2ldW2pdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGVhZGVyU2NoZW1hdGFbaV1bal0gIT09IGltYWdlRGF0YS5jaGFyQ29kZUF0KGopKSB7XHJcbiAgICAgICAgICAgICAgY29tcGFyZVJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoY29tcGFyZVJlc3VsdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmaWxlVHlwZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlc3VsdCA9PT0gVU5LTk9XTiAmJiBmYWxsYmFja0Zvcm1hdCAhPT0gVU5LTk9XTikge1xyXG4gICAgICByZXN1bHQgPSBmYWxsYmFja0Zvcm1hdDtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEltYWdlIGZ1bmN0aW9uYWxpdHkgcG9ydGVkIGZyb20gcGRmLmpzXHJcbiAgdmFyIHB1dEltYWdlID0gZnVuY3Rpb24oaW1hZ2UpIHtcclxuICAgIHZhciBvdXQgPSB0aGlzLmludGVybmFsLndyaXRlO1xyXG4gICAgdmFyIHB1dFN0cmVhbSA9IHRoaXMuaW50ZXJuYWwucHV0U3RyZWFtO1xyXG4gICAgdmFyIGdldEZpbHRlcnMgPSB0aGlzLmludGVybmFsLmdldEZpbHRlcnM7XHJcblxyXG4gICAgdmFyIGZpbHRlciA9IGdldEZpbHRlcnMoKTtcclxuICAgIHdoaWxlIChmaWx0ZXIuaW5kZXhPZihcIkZsYXRlRW5jb2RlXCIpICE9PSAtMSkge1xyXG4gICAgICBmaWx0ZXIuc3BsaWNlKGZpbHRlci5pbmRleE9mKFwiRmxhdGVFbmNvZGVcIiksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGltYWdlLm9iamVjdElkID0gdGhpcy5pbnRlcm5hbC5uZXdPYmplY3QoKTtcclxuXHJcbiAgICB2YXIgYWRkaXRpb25hbEtleVZhbHVlcyA9IFtdO1xyXG4gICAgYWRkaXRpb25hbEtleVZhbHVlcy5wdXNoKHsga2V5OiBcIlR5cGVcIiwgdmFsdWU6IFwiL1hPYmplY3RcIiB9KTtcclxuICAgIGFkZGl0aW9uYWxLZXlWYWx1ZXMucHVzaCh7IGtleTogXCJTdWJ0eXBlXCIsIHZhbHVlOiBcIi9JbWFnZVwiIH0pO1xyXG4gICAgYWRkaXRpb25hbEtleVZhbHVlcy5wdXNoKHsga2V5OiBcIldpZHRoXCIsIHZhbHVlOiBpbWFnZS53aWR0aCB9KTtcclxuICAgIGFkZGl0aW9uYWxLZXlWYWx1ZXMucHVzaCh7IGtleTogXCJIZWlnaHRcIiwgdmFsdWU6IGltYWdlLmhlaWdodCB9KTtcclxuXHJcbiAgICBpZiAoaW1hZ2UuY29sb3JTcGFjZSA9PT0gY29sb3Jfc3BhY2VzLklOREVYRUQpIHtcclxuICAgICAgYWRkaXRpb25hbEtleVZhbHVlcy5wdXNoKHtcclxuICAgICAgICBrZXk6IFwiQ29sb3JTcGFjZVwiLFxyXG4gICAgICAgIHZhbHVlOlxyXG4gICAgICAgICAgXCJbL0luZGV4ZWQgL0RldmljZVJHQiBcIiArXHJcbiAgICAgICAgICAvLyBpZiBhbiBpbmRleGVkIHBuZyBkZWZpbmVzIG1vcmUgdGhhbiBvbmUgY29sb3VyIHdpdGggdHJhbnNwYXJlbmN5LCB3ZSd2ZSBjcmVhdGVkIGEgc01hc2tcclxuICAgICAgICAgIChpbWFnZS5wYWxldHRlLmxlbmd0aCAvIDMgLSAxKSArXHJcbiAgICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgICAoXCJzTWFza1wiIGluIGltYWdlICYmIHR5cGVvZiBpbWFnZS5zTWFzayAhPT0gXCJ1bmRlZmluZWRcIlxyXG4gICAgICAgICAgICA/IGltYWdlLm9iamVjdElkICsgMlxyXG4gICAgICAgICAgICA6IGltYWdlLm9iamVjdElkICsgMSkgK1xyXG4gICAgICAgICAgXCIgMCBSXVwiXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWRkaXRpb25hbEtleVZhbHVlcy5wdXNoKHtcclxuICAgICAgICBrZXk6IFwiQ29sb3JTcGFjZVwiLFxyXG4gICAgICAgIHZhbHVlOiBcIi9cIiArIGltYWdlLmNvbG9yU3BhY2VcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChpbWFnZS5jb2xvclNwYWNlID09PSBjb2xvcl9zcGFjZXMuREVWSUNFX0NNWUspIHtcclxuICAgICAgICBhZGRpdGlvbmFsS2V5VmFsdWVzLnB1c2goeyBrZXk6IFwiRGVjb2RlXCIsIHZhbHVlOiBcIlsxIDAgMSAwIDEgMCAxIDBdXCIgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZGl0aW9uYWxLZXlWYWx1ZXMucHVzaCh7XHJcbiAgICAgIGtleTogXCJCaXRzUGVyQ29tcG9uZW50XCIsXHJcbiAgICAgIHZhbHVlOiBpbWFnZS5iaXRzUGVyQ29tcG9uZW50XHJcbiAgICB9KTtcclxuICAgIGlmIChcclxuICAgICAgXCJkZWNvZGVQYXJhbWV0ZXJzXCIgaW4gaW1hZ2UgJiZcclxuICAgICAgdHlwZW9mIGltYWdlLmRlY29kZVBhcmFtZXRlcnMgIT09IFwidW5kZWZpbmVkXCJcclxuICAgICkge1xyXG4gICAgICBhZGRpdGlvbmFsS2V5VmFsdWVzLnB1c2goe1xyXG4gICAgICAgIGtleTogXCJEZWNvZGVQYXJtc1wiLFxyXG4gICAgICAgIHZhbHVlOiBcIjw8XCIgKyBpbWFnZS5kZWNvZGVQYXJhbWV0ZXJzICsgXCI+PlwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKFwidHJhbnNwYXJlbmN5XCIgaW4gaW1hZ2UgJiYgQXJyYXkuaXNBcnJheShpbWFnZS50cmFuc3BhcmVuY3kpKSB7XHJcbiAgICAgIHZhciB0cmFuc3BhcmVuY3kgPSBcIlwiLFxyXG4gICAgICAgIGkgPSAwLFxyXG4gICAgICAgIGxlbiA9IGltYWdlLnRyYW5zcGFyZW5jeS5sZW5ndGg7XHJcbiAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspXHJcbiAgICAgICAgdHJhbnNwYXJlbmN5ICs9XHJcbiAgICAgICAgICBpbWFnZS50cmFuc3BhcmVuY3lbaV0gKyBcIiBcIiArIGltYWdlLnRyYW5zcGFyZW5jeVtpXSArIFwiIFwiO1xyXG5cclxuICAgICAgYWRkaXRpb25hbEtleVZhbHVlcy5wdXNoKHtcclxuICAgICAgICBrZXk6IFwiTWFza1wiLFxyXG4gICAgICAgIHZhbHVlOiBcIltcIiArIHRyYW5zcGFyZW5jeSArIFwiXVwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBpbWFnZS5zTWFzayAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBhZGRpdGlvbmFsS2V5VmFsdWVzLnB1c2goe1xyXG4gICAgICAgIGtleTogXCJTTWFza1wiLFxyXG4gICAgICAgIHZhbHVlOiBpbWFnZS5vYmplY3RJZCArIDEgKyBcIiAwIFJcIlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYWxyZWFkeUFwcGxpZWRGaWx0ZXJzID1cclxuICAgICAgdHlwZW9mIGltYWdlLmZpbHRlciAhPT0gXCJ1bmRlZmluZWRcIiA/IFtcIi9cIiArIGltYWdlLmZpbHRlcl0gOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHV0U3RyZWFtKHtcclxuICAgICAgZGF0YTogaW1hZ2UuZGF0YSxcclxuICAgICAgYWRkaXRpb25hbEtleVZhbHVlczogYWRkaXRpb25hbEtleVZhbHVlcyxcclxuICAgICAgYWxyZWFkeUFwcGxpZWRGaWx0ZXJzOiBhbHJlYWR5QXBwbGllZEZpbHRlcnMsXHJcbiAgICAgIG9iamVjdElkOiBpbWFnZS5vYmplY3RJZFxyXG4gICAgfSk7XHJcblxyXG4gICAgb3V0KFwiZW5kb2JqXCIpO1xyXG5cclxuICAgIC8vIFNvZnQgbWFza1xyXG4gICAgaWYgKFwic01hc2tcIiBpbiBpbWFnZSAmJiB0eXBlb2YgaW1hZ2Uuc01hc2sgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgdmFyIGRlY29kZVBhcmFtZXRlcnMgPVxyXG4gICAgICAgIFwiL1ByZWRpY3RvciBcIiArXHJcbiAgICAgICAgaW1hZ2UucHJlZGljdG9yICtcclxuICAgICAgICBcIiAvQ29sb3JzIDEgL0JpdHNQZXJDb21wb25lbnQgXCIgK1xyXG4gICAgICAgIGltYWdlLmJpdHNQZXJDb21wb25lbnQgK1xyXG4gICAgICAgIFwiIC9Db2x1bW5zIFwiICtcclxuICAgICAgICBpbWFnZS53aWR0aDtcclxuICAgICAgdmFyIHNNYXNrID0ge1xyXG4gICAgICAgIHdpZHRoOiBpbWFnZS53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcclxuICAgICAgICBjb2xvclNwYWNlOiBcIkRldmljZUdyYXlcIixcclxuICAgICAgICBiaXRzUGVyQ29tcG9uZW50OiBpbWFnZS5iaXRzUGVyQ29tcG9uZW50LFxyXG4gICAgICAgIGRlY29kZVBhcmFtZXRlcnM6IGRlY29kZVBhcmFtZXRlcnMsXHJcbiAgICAgICAgZGF0YTogaW1hZ2Uuc01hc2tcclxuICAgICAgfTtcclxuICAgICAgaWYgKFwiZmlsdGVyXCIgaW4gaW1hZ2UpIHtcclxuICAgICAgICBzTWFzay5maWx0ZXIgPSBpbWFnZS5maWx0ZXI7XHJcbiAgICAgIH1cclxuICAgICAgcHV0SW1hZ2UuY2FsbCh0aGlzLCBzTWFzayk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9QYWxldHRlXHJcbiAgICBpZiAoaW1hZ2UuY29sb3JTcGFjZSA9PT0gY29sb3Jfc3BhY2VzLklOREVYRUQpIHtcclxuICAgICAgdmFyIG9iaklkID0gdGhpcy5pbnRlcm5hbC5uZXdPYmplY3QoKTtcclxuICAgICAgLy9vdXQoJzw8IC9GaWx0ZXIgLyAnICsgaW1nWydmJ10gKycgL0xlbmd0aCAnICsgaW1nWydwYWwnXS5sZW5ndGggKyAnPj4nKTtcclxuICAgICAgLy9wdXRTdHJlYW0oemxpYi5jb21wcmVzcyhpbWdbJ3BhbCddKSk7XHJcbiAgICAgIHB1dFN0cmVhbSh7XHJcbiAgICAgICAgZGF0YTogYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhuZXcgVWludDhBcnJheShpbWFnZS5wYWxldHRlKSksXHJcbiAgICAgICAgb2JqZWN0SWQ6IG9iaklkXHJcbiAgICAgIH0pO1xyXG4gICAgICBvdXQoXCJlbmRvYmpcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICB2YXIgcHV0UmVzb3VyY2VzQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBpbWFnZXMgPSB0aGlzLmludGVybmFsLmNvbGxlY3Rpb25zW25hbWVzcGFjZSArIFwiaW1hZ2VzXCJdO1xyXG4gICAgZm9yICh2YXIgaSBpbiBpbWFnZXMpIHtcclxuICAgICAgcHV0SW1hZ2UuY2FsbCh0aGlzLCBpbWFnZXNbaV0pO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgdmFyIHB1dFhPYmplY3RzRGljdENhbGxiYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaW1hZ2VzID0gdGhpcy5pbnRlcm5hbC5jb2xsZWN0aW9uc1tuYW1lc3BhY2UgKyBcImltYWdlc1wiXSxcclxuICAgICAgb3V0ID0gdGhpcy5pbnRlcm5hbC53cml0ZSxcclxuICAgICAgaW1hZ2U7XHJcbiAgICBmb3IgKHZhciBpIGluIGltYWdlcykge1xyXG4gICAgICBpbWFnZSA9IGltYWdlc1tpXTtcclxuICAgICAgb3V0KFwiL0lcIiArIGltYWdlLmluZGV4LCBpbWFnZS5vYmplY3RJZCwgXCIwXCIsIFwiUlwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgY2hlY2tDb21wcmVzc1ZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIHJldHVybiB2YWx1ZSBpbiBqc1BERkFQSS5pbWFnZV9jb21wcmVzc2lvbiA/IHZhbHVlIDogaW1hZ2VfY29tcHJlc3Npb24uTk9ORTtcclxuICB9O1xyXG5cclxuICB2YXIgaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLmludGVybmFsLmNvbGxlY3Rpb25zW25hbWVzcGFjZSArIFwiaW1hZ2VzXCJdKSB7XHJcbiAgICAgIHRoaXMuaW50ZXJuYWwuY29sbGVjdGlvbnNbbmFtZXNwYWNlICsgXCJpbWFnZXNcIl0gPSB7fTtcclxuICAgICAgdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0UmVzb3VyY2VzXCIsIHB1dFJlc291cmNlc0NhbGxiYWNrKTtcclxuICAgICAgdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0WG9iamVjdERpY3RcIiwgcHV0WE9iamVjdHNEaWN0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBnZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBpbWFnZXMgPSB0aGlzLmludGVybmFsLmNvbGxlY3Rpb25zW25hbWVzcGFjZSArIFwiaW1hZ2VzXCJdO1xyXG4gICAgaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xyXG4gICAgcmV0dXJuIGltYWdlcztcclxuICB9O1xyXG4gIHZhciBnZXRJbWFnZUluZGV4ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pbnRlcm5hbC5jb2xsZWN0aW9uc1tuYW1lc3BhY2UgKyBcImltYWdlc1wiXSkubGVuZ3RoO1xyXG4gIH07XHJcbiAgdmFyIG5vdERlZmluZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XHJcbiAgfTtcclxuICB2YXIgZ2VuZXJhdGVBbGlhc0Zyb21JbWFnZURhdGEgPSBmdW5jdGlvbihpbWFnZURhdGEpIHtcclxuICAgIGlmICh0eXBlb2YgaW1hZ2VEYXRhID09PSBcInN0cmluZ1wiIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGltYWdlRGF0YSkpIHtcclxuICAgICAgcmV0dXJuIHNIYXNoQ29kZShpbWFnZURhdGEpO1xyXG4gICAgfSBlbHNlIGlmIChpc0FycmF5QnVmZmVyVmlldyhpbWFnZURhdGEuZGF0YSkpIHtcclxuICAgICAgcmV0dXJuIHNIYXNoQ29kZShpbWFnZURhdGEuZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGlzSW1hZ2VUeXBlU3VwcG9ydGVkID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBqc1BERkFQSVtcInByb2Nlc3NcIiArIHR5cGUudG9VcHBlckNhc2UoKV0gPT09IFwiZnVuY3Rpb25cIjtcclxuICB9O1xyXG5cclxuICB2YXIgaXNET01FbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gXCJvYmplY3RcIiAmJiBvYmplY3Qubm9kZVR5cGUgPT09IDE7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGdldEltYWdlRGF0YUZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgZm9ybWF0KSB7XHJcbiAgICAvL2lmIGVsZW1lbnQgaXMgYW4gaW1hZ2Ugd2hpY2ggdXNlcyBkYXRhIHVybCBkZWZpbml0aW9uLCBqdXN0IHJldHVybiB0aGUgZGF0YXVybFxyXG4gICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09IFwiSU1HXCIgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJzcmNcIikpIHtcclxuICAgICAgdmFyIHNyYyA9IFwiXCIgKyBlbGVtZW50LmdldEF0dHJpYnV0ZShcInNyY1wiKTtcclxuXHJcbiAgICAgIC8vaXMgYmFzZTY0IGVuY29kZWQgZGF0YVVybCwgZGlyZWN0bHkgcHJvY2VzcyBpdFxyXG4gICAgICBpZiAoc3JjLmluZGV4T2YoXCJkYXRhOmltYWdlL1wiKSA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBhdG9iKFxyXG4gICAgICAgICAgdW5lc2NhcGUoc3JjKVxyXG4gICAgICAgICAgICAuc3BsaXQoXCJiYXNlNjQsXCIpXHJcbiAgICAgICAgICAgIC5wb3AoKVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vaXQgaXMgcHJvYmFibHkgYW4gdXJsLCB0cnkgdG8gbG9hZCBpdFxyXG4gICAgICB2YXIgdG1wSW1hZ2VEYXRhID0ganNQREZBUEkubG9hZEZpbGUoc3JjLCB0cnVlKTtcclxuICAgICAgaWYgKHRtcEltYWdlRGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRtcEltYWdlRGF0YTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSBcIkNBTlZBU1wiKSB7XHJcbiAgICAgIGlmIChlbGVtZW50LndpZHRoID09PSAwIHx8IGVsZW1lbnQuaGVpZ2h0ID09PSAwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgXCJHaXZlbiBjYW52YXMgbXVzdCBoYXZlIGRhdGEuIENhbnZhcyB3aWR0aDogXCIgK1xyXG4gICAgICAgICAgICBlbGVtZW50LndpZHRoICtcclxuICAgICAgICAgICAgXCIsIGhlaWdodDogXCIgK1xyXG4gICAgICAgICAgICBlbGVtZW50LmhlaWdodFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIG1pbWVUeXBlO1xyXG4gICAgICBzd2l0Y2ggKGZvcm1hdCkge1xyXG4gICAgICAgIGNhc2UgXCJQTkdcIjpcclxuICAgICAgICAgIG1pbWVUeXBlID0gXCJpbWFnZS9wbmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJXRUJQXCI6XHJcbiAgICAgICAgICBtaW1lVHlwZSA9IFwiaW1hZ2Uvd2VicFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIkpQRUdcIjpcclxuICAgICAgICBjYXNlIFwiSlBHXCI6XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIG1pbWVUeXBlID0gXCJpbWFnZS9qcGVnXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYXRvYihcclxuICAgICAgICBlbGVtZW50XHJcbiAgICAgICAgICAudG9EYXRhVVJMKG1pbWVUeXBlLCAxLjApXHJcbiAgICAgICAgICAuc3BsaXQoXCJiYXNlNjQsXCIpXHJcbiAgICAgICAgICAucG9wKClcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgY2hlY2tJbWFnZXNGb3JBbGlhcyA9IGZ1bmN0aW9uKGFsaWFzKSB7XHJcbiAgICB2YXIgaW1hZ2VzID0gdGhpcy5pbnRlcm5hbC5jb2xsZWN0aW9uc1tuYW1lc3BhY2UgKyBcImltYWdlc1wiXTtcclxuICAgIGlmIChpbWFnZXMpIHtcclxuICAgICAgZm9yICh2YXIgZSBpbiBpbWFnZXMpIHtcclxuICAgICAgICBpZiAoYWxpYXMgPT09IGltYWdlc1tlXS5hbGlhcykge1xyXG4gICAgICAgICAgcmV0dXJuIGltYWdlc1tlXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgZGV0ZXJtaW5lV2lkdGhBbmRIZWlnaHQgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBpbWFnZSkge1xyXG4gICAgaWYgKCF3aWR0aCAmJiAhaGVpZ2h0KSB7XHJcbiAgICAgIHdpZHRoID0gLTk2O1xyXG4gICAgICBoZWlnaHQgPSAtOTY7XHJcbiAgICB9XHJcbiAgICBpZiAod2lkdGggPCAwKSB7XHJcbiAgICAgIHdpZHRoID0gKC0xICogaW1hZ2Uud2lkdGggKiA3MikgLyB3aWR0aCAvIHRoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3I7XHJcbiAgICB9XHJcbiAgICBpZiAoaGVpZ2h0IDwgMCkge1xyXG4gICAgICBoZWlnaHQgPSAoLTEgKiBpbWFnZS5oZWlnaHQgKiA3MikgLyBoZWlnaHQgLyB0aGlzLmludGVybmFsLnNjYWxlRmFjdG9yO1xyXG4gICAgfVxyXG4gICAgaWYgKHdpZHRoID09PSAwKSB7XHJcbiAgICAgIHdpZHRoID0gKGhlaWdodCAqIGltYWdlLndpZHRoKSAvIGltYWdlLmhlaWdodDtcclxuICAgIH1cclxuICAgIGlmIChoZWlnaHQgPT09IDApIHtcclxuICAgICAgaGVpZ2h0ID0gKHdpZHRoICogaW1hZ2UuaGVpZ2h0KSAvIGltYWdlLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBbd2lkdGgsIGhlaWdodF07XHJcbiAgfTtcclxuXHJcbiAgdmFyIHdyaXRlSW1hZ2VUb1BERiA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIGltYWdlLCByb3RhdGlvbikge1xyXG4gICAgdmFyIGRpbXMgPSBkZXRlcm1pbmVXaWR0aEFuZEhlaWdodC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQsIGltYWdlKSxcclxuICAgICAgY29vcmQgPSB0aGlzLmludGVybmFsLmdldENvb3JkaW5hdGVTdHJpbmcsXHJcbiAgICAgIHZjb29yZCA9IHRoaXMuaW50ZXJuYWwuZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nO1xyXG5cclxuICAgIHZhciBpbWFnZXMgPSBnZXRJbWFnZXMuY2FsbCh0aGlzKTtcclxuXHJcbiAgICB3aWR0aCA9IGRpbXNbMF07XHJcbiAgICBoZWlnaHQgPSBkaW1zWzFdO1xyXG4gICAgaW1hZ2VzW2ltYWdlLmluZGV4XSA9IGltYWdlO1xyXG5cclxuICAgIGlmIChyb3RhdGlvbikge1xyXG4gICAgICByb3RhdGlvbiAqPSBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICB2YXIgYyA9IE1hdGguY29zKHJvdGF0aW9uKTtcclxuICAgICAgdmFyIHMgPSBNYXRoLnNpbihyb3RhdGlvbik7XHJcbiAgICAgIC8vbGlrZSBpbiBwZGYgUmVmZXJlbmNlIGRvIGl0IDQgZGlnaXRzIGluc3RlYWQgb2YgMlxyXG4gICAgICB2YXIgZjQgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbnVtYmVyLnRvRml4ZWQoNCk7XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciByb3RhdGlvblRyYW5zZm9ybWF0aW9uTWF0cml4ID0gW1xyXG4gICAgICAgIGY0KGMpLFxyXG4gICAgICAgIGY0KHMpLFxyXG4gICAgICAgIGY0KHMgKiAtMSksXHJcbiAgICAgICAgZjQoYyksXHJcbiAgICAgICAgMCxcclxuICAgICAgICAwLFxyXG4gICAgICAgIFwiY21cIlxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gICAgdGhpcy5pbnRlcm5hbC53cml0ZShcInFcIik7IC8vU2F2ZSBncmFwaGljcyBzdGF0ZVxyXG4gICAgaWYgKHJvdGF0aW9uKSB7XHJcbiAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXHJcbiAgICAgICAgWzEsIFwiMFwiLCBcIjBcIiwgMSwgY29vcmQoeCksIHZjb29yZCh5ICsgaGVpZ2h0KSwgXCJjbVwiXS5qb2luKFwiIFwiKVxyXG4gICAgICApOyAvL1RyYW5zbGF0ZVxyXG4gICAgICB0aGlzLmludGVybmFsLndyaXRlKHJvdGF0aW9uVHJhbnNmb3JtYXRpb25NYXRyaXguam9pbihcIiBcIikpOyAvL1JvdGF0ZVxyXG4gICAgICB0aGlzLmludGVybmFsLndyaXRlKFxyXG4gICAgICAgIFtjb29yZCh3aWR0aCksIFwiMFwiLCBcIjBcIiwgY29vcmQoaGVpZ2h0KSwgXCIwXCIsIFwiMFwiLCBcImNtXCJdLmpvaW4oXCIgXCIpXHJcbiAgICAgICk7IC8vU2NhbGVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgY29vcmQod2lkdGgpLFxyXG4gICAgICAgICAgXCIwXCIsXHJcbiAgICAgICAgICBcIjBcIixcclxuICAgICAgICAgIGNvb3JkKGhlaWdodCksXHJcbiAgICAgICAgICBjb29yZCh4KSxcclxuICAgICAgICAgIHZjb29yZCh5ICsgaGVpZ2h0KSxcclxuICAgICAgICAgIFwiY21cIlxyXG4gICAgICAgIF0uam9pbihcIiBcIilcclxuICAgICAgKTsgLy9UcmFuc2xhdGUgYW5kIFNjYWxlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNBZHZhbmNlZEFQSSgpKSB7XHJcbiAgICAgIC8vIGRyYXcgaW1hZ2UgYm90dG9tIHVwIHdoZW4gaW4gXCJhZHZhbmNlZFwiIEFQSSBtb2RlXHJcbiAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoWzEsIDAsIDAsIC0xLCAwLCAwLCBcImNtXCJdLmpvaW4oXCIgXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmludGVybmFsLndyaXRlKFwiL0lcIiArIGltYWdlLmluZGV4ICsgXCIgRG9cIik7IC8vUGFpbnQgSW1hZ2VcclxuICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXCJRXCIpOyAvL1Jlc3RvcmUgZ3JhcGhpY3Mgc3RhdGVcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDT0xPUiBTUEFDRVNcclxuICAgKi9cclxuICB2YXIgY29sb3Jfc3BhY2VzID0gKGpzUERGQVBJLmNvbG9yX3NwYWNlcyA9IHtcclxuICAgIERFVklDRV9SR0I6IFwiRGV2aWNlUkdCXCIsXHJcbiAgICBERVZJQ0VfR1JBWTogXCJEZXZpY2VHcmF5XCIsXHJcbiAgICBERVZJQ0VfQ01ZSzogXCJEZXZpY2VDTVlLXCIsXHJcbiAgICBDQUxfR1JFWTogXCJDYWxHcmF5XCIsXHJcbiAgICBDQUxfUkdCOiBcIkNhbFJHQlwiLFxyXG4gICAgTEFCOiBcIkxhYlwiLFxyXG4gICAgSUNDX0JBU0VEOiBcIklDQ0Jhc2VkXCIsXHJcbiAgICBJTkRFWEVEOiBcIkluZGV4ZWRcIixcclxuICAgIFBBVFRFUk46IFwiUGF0dGVyblwiLFxyXG4gICAgU0VQQVJBVElPTjogXCJTZXBhcmF0aW9uXCIsXHJcbiAgICBERVZJQ0VfTjogXCJEZXZpY2VOXCJcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogREVDT0RFIE1FVEhPRFNcclxuICAgKi9cclxuICBqc1BERkFQSS5kZWNvZGUgPSB7XHJcbiAgICBEQ1RfREVDT0RFOiBcIkRDVERlY29kZVwiLFxyXG4gICAgRkxBVEVfREVDT0RFOiBcIkZsYXRlRGVjb2RlXCIsXHJcbiAgICBMWldfREVDT0RFOiBcIkxaV0RlY29kZVwiLFxyXG4gICAgSlBYX0RFQ09ERTogXCJKUFhEZWNvZGVcIixcclxuICAgIEpCSUcyX0RFQ09ERTogXCJKQklHMkRlY29kZVwiLFxyXG4gICAgQVNDSUk4NV9ERUNPREU6IFwiQVNDSUk4NURlY29kZVwiLFxyXG4gICAgQVNDSUlfSEVYX0RFQ09ERTogXCJBU0NJSUhleERlY29kZVwiLFxyXG4gICAgUlVOX0xFTkdUSF9ERUNPREU6IFwiUnVuTGVuZ3RoRGVjb2RlXCIsXHJcbiAgICBDQ0lUVF9GQVhfREVDT0RFOiBcIkNDSVRURmF4RGVjb2RlXCJcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBJTUFHRSBDT01QUkVTU0lPTiBUWVBFU1xyXG4gICAqL1xyXG4gIHZhciBpbWFnZV9jb21wcmVzc2lvbiA9IChqc1BERkFQSS5pbWFnZV9jb21wcmVzc2lvbiA9IHtcclxuICAgIE5PTkU6IFwiTk9ORVwiLFxyXG4gICAgRkFTVDogXCJGQVNUXCIsXHJcbiAgICBNRURJVU06IFwiTUVESVVNXCIsXHJcbiAgICBTTE9XOiBcIlNMT1dcIlxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBzSGFzaENvZGVcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgdmFyIHNIYXNoQ29kZSA9IChqc1BERkFQSS5fX2FkZGltYWdlX18uc0hhc2hDb2RlID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgdmFyIGhhc2ggPSAwLFxyXG4gICAgICBpLFxyXG4gICAgICBsZW47XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGxlbiA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgZGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcclxuICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoIC8gMjtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGRhdGFbaV07XHJcbiAgICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGhhc2g7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFZhbGlkYXRlcyBpZiBnaXZlbiBTdHJpbmcgaXMgYSB2YWxpZCBCYXNlNjQtU3RyaW5nXHJcbiAgICpcclxuICAgKiBAbmFtZSB2YWxpZGF0ZVN0cmluZ0FzQmFzZTY0XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwb3NzaWJsZSBCYXNlNjQtU3RyaW5nXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgKi9cclxuICB2YXIgdmFsaWRhdGVTdHJpbmdBc0Jhc2U2NCA9IChqc1BERkFQSS5fX2FkZGltYWdlX18udmFsaWRhdGVTdHJpbmdBc0Jhc2U2NCA9IGZ1bmN0aW9uKFxyXG4gICAgcG9zc2libGVCYXNlNjRTdHJpbmdcclxuICApIHtcclxuICAgIHBvc3NpYmxlQmFzZTY0U3RyaW5nID0gcG9zc2libGVCYXNlNjRTdHJpbmcgfHwgXCJcIjtcclxuICAgIHBvc3NpYmxlQmFzZTY0U3RyaW5nLnRvU3RyaW5nKCkudHJpbSgpO1xyXG5cclxuICAgIHZhciByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgIGlmIChwb3NzaWJsZUJhc2U2NFN0cmluZy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBvc3NpYmxlQmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQgIT09IDApIHtcclxuICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAvXltBLVphLXowLTkrL10rJC8udGVzdChcclxuICAgICAgICBwb3NzaWJsZUJhc2U2NFN0cmluZy5zdWJzdHIoMCwgcG9zc2libGVCYXNlNjRTdHJpbmcubGVuZ3RoIC0gMilcclxuICAgICAgKSA9PT0gZmFsc2VcclxuICAgICkge1xyXG4gICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIC9eW0EtWmEtejAtOS9dW0EtWmEtejAtOSsvXXxbQS1aYS16MC05Ky9dPXw9PSQvLnRlc3QoXHJcbiAgICAgICAgcG9zc2libGVCYXNlNjRTdHJpbmcuc3Vic3RyKC0yKVxyXG4gICAgICApID09PSBmYWxzZVxyXG4gICAgKSB7XHJcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3RyaXBzIG91dCBhbmQgcmV0dXJucyBpbmZvIGZyb20gYSB2YWxpZCBiYXNlNjQgZGF0YSBVUklcclxuICAgKlxyXG4gICAqIEBuYW1lIGV4dHJhY3RJbWFnZUZyb21EYXRhVXJsXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmwgYSB2YWxpZCBkYXRhIFVSSSBvZiBmb3JtYXQgJ2RhdGE6WzxNSU1FLXR5cGU+XVs7YmFzZTY0XSw8ZGF0YT4nXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHJhdyBCYXNlNjQtZW5jb2RlZCBkYXRhLlxyXG4gICAqL1xyXG4gIHZhciBleHRyYWN0SW1hZ2VGcm9tRGF0YVVybCA9IChqc1BERkFQSS5fX2FkZGltYWdlX18uZXh0cmFjdEltYWdlRnJvbURhdGFVcmwgPSBmdW5jdGlvbihcclxuICAgIGRhdGFVcmxcclxuICApIHtcclxuICAgIGlmIChkYXRhVXJsID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYXZvaWQgdXNpbmcgYSByZWdleHAgZm9yIHBhcnNpbmcgYmVjYXVzZSBpdCBtaWdodCBiZSB2dWxuZXJhYmxlIGFnYWluc3QgUmVEb1MgYXR0YWNrc1xyXG5cclxuICAgIGRhdGFVcmwgPSBkYXRhVXJsLnRyaW0oKTtcclxuXHJcbiAgICBpZiAoIWRhdGFVcmwuc3RhcnRzV2l0aChcImRhdGE6XCIpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbW1hSW5kZXggPSBkYXRhVXJsLmluZGV4T2YoXCIsXCIpO1xyXG4gICAgaWYgKGNvbW1hSW5kZXggPCAwKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGFTY2hlbWUgPSBkYXRhVXJsLnN1YnN0cmluZygwLCBjb21tYUluZGV4KS50cmltKCk7XHJcbiAgICBpZiAoIWRhdGFTY2hlbWUuZW5kc1dpdGgoXCJiYXNlNjRcIikpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGFVcmwuc3Vic3RyaW5nKGNvbW1hSW5kZXggKyAxKTtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgdG8gc2VlIGlmIEFycmF5QnVmZmVyIGlzIHN1cHBvcnRlZFxyXG4gICAqXHJcbiAgICogQG5hbWUgc3VwcG9ydHNBcnJheUJ1ZmZlclxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIHZhciBzdXBwb3J0c0FycmF5QnVmZmVyID0gKGpzUERGQVBJLl9fYWRkaW1hZ2VfXy5zdXBwb3J0c0FycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0eXBlb2YgQXJyYXlCdWZmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCJcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRlc3RzIHN1cHBsaWVkIG9iamVjdCB0byBkZXRlcm1pbmUgaWYgQXJyYXlCdWZmZXJcclxuICAgKlxyXG4gICAqIEBuYW1lIGlzQXJyYXlCdWZmZXJcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IGFuIE9iamVjdFxyXG4gICAqXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICovXHJcbiAganNQREZBUEkuX19hZGRpbWFnZV9fLmlzQXJyYXlCdWZmZXIgPSBmdW5jdGlvbihvYmplY3QpIHtcclxuICAgIHJldHVybiBzdXBwb3J0c0FycmF5QnVmZmVyKCkgJiYgb2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogVGVzdHMgc3VwcGxpZWQgb2JqZWN0IHRvIGRldGVybWluZSBpZiBpdCBpbXBsZW1lbnRzIHRoZSBBcnJheUJ1ZmZlclZpZXcgKFR5cGVkQXJyYXkpIGludGVyZmFjZVxyXG4gICAqXHJcbiAgICogQG5hbWUgaXNBcnJheUJ1ZmZlclZpZXdcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IGFuIE9iamVjdFxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IChqc1BERkFQSS5fX2FkZGltYWdlX18uaXNBcnJheUJ1ZmZlclZpZXcgPSBmdW5jdGlvbihcclxuICAgIG9iamVjdFxyXG4gICkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgc3VwcG9ydHNBcnJheUJ1ZmZlcigpICYmXHJcbiAgICAgIHR5cGVvZiBVaW50MzJBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgICAob2JqZWN0IGluc3RhbmNlb2YgSW50OEFycmF5IHx8XHJcbiAgICAgICAgb2JqZWN0IGluc3RhbmNlb2YgVWludDhBcnJheSB8fFxyXG4gICAgICAgICh0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgIG9iamVjdCBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KSB8fFxyXG4gICAgICAgIG9iamVjdCBpbnN0YW5jZW9mIEludDE2QXJyYXkgfHxcclxuICAgICAgICBvYmplY3QgaW5zdGFuY2VvZiBVaW50MTZBcnJheSB8fFxyXG4gICAgICAgIG9iamVjdCBpbnN0YW5jZW9mIEludDMyQXJyYXkgfHxcclxuICAgICAgICBvYmplY3QgaW5zdGFuY2VvZiBVaW50MzJBcnJheSB8fFxyXG4gICAgICAgIG9iamVjdCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSB8fFxyXG4gICAgICAgIG9iamVjdCBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSlcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgQmluYXJ5IFN0cmluZyB0byBBcnJheUJ1ZmZlclxyXG4gICAqXHJcbiAgICogQG5hbWUgYmluYXJ5U3RyaW5nVG9VaW50OEFycmF5XHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBCaW5hcnlTdHJpbmcgd2l0aCBJbWFnZURhdGFcclxuICAgKiBAcmV0dXJucyB7VWludDhBcnJheX1cclxuICAgKi9cclxuICB2YXIgYmluYXJ5U3RyaW5nVG9VaW50OEFycmF5ID0gKGpzUERGQVBJLl9fYWRkaW1hZ2VfXy5iaW5hcnlTdHJpbmdUb1VpbnQ4QXJyYXkgPSBmdW5jdGlvbihcclxuICAgIGJpbmFyeV9zdHJpbmdcclxuICApIHtcclxuICAgIHZhciBsZW4gPSBiaW5hcnlfc3RyaW5nLmxlbmd0aDtcclxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgIGJ5dGVzW2ldID0gYmluYXJ5X3N0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJ5dGVzO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0IHRoZSBCdWZmZXIgdG8gYSBCaW5hcnkgU3RyaW5nXHJcbiAgICpcclxuICAgKiBAbmFtZSBhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBBcnJheUJ1ZmZlciBidWZmZXIgb3IgYnVmZmVyVmlldyB3aXRoIEltYWdlRGF0YVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1N0cmluZ31cclxuICAgKi9cclxuICB2YXIgYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyA9IChqc1BERkFQSS5fX2FkZGltYWdlX18uYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uKFxyXG4gICAgYnVmZmVyXHJcbiAgKSB7XHJcbiAgICB2YXIgb3V0ID0gXCJcIjtcclxuICAgIC8vIFRoZXJlIGFyZSBjYWxscyB3aXRoIGJvdGggQXJyYXlCdWZmZXIgYW5kIGFscmVhZHkgY29udmVydGVkIFVpbnQ4QXJyYXkgb3Igb3RoZXIgQnVmZmVyVmlldy5cclxuICAgIC8vIERvIG5vdCBjb3B5IHRoZSBhcnJheSBpZiBpbnB1dCBpcyBhbHJlYWR5IGFuIGFycmF5LlxyXG4gICAgdmFyIGJ1ZiA9IGlzQXJyYXlCdWZmZXJWaWV3KGJ1ZmZlcikgPyBidWZmZXIgOiBuZXcgVWludDhBcnJheShidWZmZXIpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IEFSUkFZX0FQUExZX0JBVENIKSB7XHJcbiAgICAgIC8vIExpbWl0IHRoZSBhbW91bnQgb2YgY2hhcmFjdGVycyBiZWluZyBwYXJzZWQgdG8gcHJldmVudCBvdmVyZmxvdy5cclxuICAgICAgLy8gTm90ZSB0aGF0IHdoaWxlIFRleHREZWNvZGVyIHdvdWxkIGJlIGZhc3RlciwgaXQgZG9lcyBub3QgaGF2ZSB0aGUgc2FtZVxyXG4gICAgICAvLyBmdW5jdGlvbmFsaXR5IGFzIGZyb21DaGFyQ29kZSB3aXRoIGFueSBwcm92aWRlZCBlbmNvZGluZ3MgYXMgb2YgMy8yMDIxLlxyXG4gICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgIGJ1Zi5zdWJhcnJheShpLCBpICsgQVJSQVlfQVBQTFlfQkFUQ0gpXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBQb3NzaWJsZSBwYXJhbWV0ZXIgZm9yIGFkZEltYWdlLCBhbiBSR0JBIGJ1ZmZlciB3aXRoIHNpemUuXHJcbiAgICpcclxuICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBSR0JBRGF0YVxyXG4gICAqIEBwcm9wZXJ0eSB7VWludDhDbGFtcGVkQXJyYXl9IGRhdGEgLSBTaW5nbGUgZGltZW5zaW9uYWwgYXJyYXkgb2YgUkdCQSB2YWx1ZXMuIEZvciBleGFtcGxlIGZyb20gY2FudmFzIGdldEltYWdlRGF0YS5cclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBJbWFnZSB3aWR0aCBhcyB0aGUgZGF0YSBkb2VzIG5vdCBjYXJyeSB0aGlzIGluZm9ybWF0aW9uIGluIGl0c2VsZi5cclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gSW1hZ2UgaGVpZ2h0IGFzIHRoZSBkYXRhIGRvZXMgbm90IGNhcnJ5IHRoaXMgaW5mb3JtYXRpb24gaW4gaXRzZWxmLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFuIEltYWdlIHRvIHRoZSBQREYuXHJcbiAgICpcclxuICAgKiBAbmFtZSBhZGRJbWFnZVxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFVpbnQ4QXJyYXl8UkdCQURhdGF9IGltYWdlRGF0YSBpbWFnZURhdGEgYXMgYmFzZTY0IGVuY29kZWQgRGF0YVVybCBvciBJbWFnZS1IVE1MRWxlbWVudCBvciBDYW52YXMtSFRNTEVsZW1lbnQgb3Igb2JqZWN0IGNvbnRhaW5pbmcgUkdCQSBhcnJheSAobGlrZSBvdXRwdXQgZnJvbSBjYW52YXMuZ2V0SW1hZ2VEYXRhKS5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0IGZvcm1hdCBvZiBmaWxlIGlmIGZpbGV0eXBlLXJlY29nbml0aW9uIGZhaWxzIG9yIGluIGNhc2Ugb2YgYSBDYW52YXMtRWxlbWVudCBuZWVkcyB0byBiZSBzcGVjaWZpZWQgKGRlZmF1bHQgZm9yIENhbnZhcyBpcyBKUEVHKSwgZS5nLiAnSlBFRycsICdQTkcnLCAnV0VCUCdcclxuICAgKiBAcGFyYW0ge251bWJlcn0geCB4IENvb3JkaW5hdGUgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpIGFnYWluc3QgbGVmdCBlZGdlIG9mIHRoZSBwYWdlXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgeSBDb29yZGluYXRlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KSBhZ2FpbnN0IHVwcGVyIGVkZ2Ugb2YgdGhlIHBhZ2VcclxuICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggd2lkdGggb2YgdGhlIGltYWdlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgaGVpZ2h0IG9mIHRoZSBJbWFnZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudClcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWxpYXMgYWxpYXMgb2YgdGhlIGltYWdlIChpZiB1c2VkIG11bHRpcGxlIHRpbWVzKVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb21wcmVzc2lvbiBjb21wcmVzc2lvbiBvZiB0aGUgZ2VuZXJhdGVkIEpQRUcsIGNhbiBoYXZlIHRoZSB2YWx1ZXMgJ05PTkUnLCAnRkFTVCcsICdNRURJVU0nIGFuZCAnU0xPVydcclxuICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gcm90YXRpb24gb2YgdGhlIGltYWdlIGluIGRlZ3JlZXMgKDAtMzU5KVxyXG4gICAqXHJcbiAgICogQHJldHVybnMganNQREZcclxuICAgKi9cclxuICBqc1BERkFQSS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGltYWdlRGF0YSwgZm9ybWF0LCB4LCB5LCB3LCBoLCBhbGlhcywgY29tcHJlc3Npb24sIHJvdGF0aW9uO1xyXG5cclxuICAgIGltYWdlRGF0YSA9IGFyZ3VtZW50c1swXTtcclxuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzFdID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgIGZvcm1hdCA9IFVOS05PV047XHJcbiAgICAgIHggPSBhcmd1bWVudHNbMV07XHJcbiAgICAgIHkgPSBhcmd1bWVudHNbMl07XHJcbiAgICAgIHcgPSBhcmd1bWVudHNbM107XHJcbiAgICAgIGggPSBhcmd1bWVudHNbNF07XHJcbiAgICAgIGFsaWFzID0gYXJndW1lbnRzWzVdO1xyXG4gICAgICBjb21wcmVzc2lvbiA9IGFyZ3VtZW50c1s2XTtcclxuICAgICAgcm90YXRpb24gPSBhcmd1bWVudHNbN107XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3JtYXQgPSBhcmd1bWVudHNbMV07XHJcbiAgICAgIHggPSBhcmd1bWVudHNbMl07XHJcbiAgICAgIHkgPSBhcmd1bWVudHNbM107XHJcbiAgICAgIHcgPSBhcmd1bWVudHNbNF07XHJcbiAgICAgIGggPSBhcmd1bWVudHNbNV07XHJcbiAgICAgIGFsaWFzID0gYXJndW1lbnRzWzZdO1xyXG4gICAgICBjb21wcmVzc2lvbiA9IGFyZ3VtZW50c1s3XTtcclxuICAgICAgcm90YXRpb24gPSBhcmd1bWVudHNbOF07XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlb2YgaW1hZ2VEYXRhID09PSBcIm9iamVjdFwiICYmXHJcbiAgICAgICFpc0RPTUVsZW1lbnQoaW1hZ2VEYXRhKSAmJlxyXG4gICAgICBcImltYWdlRGF0YVwiIGluIGltYWdlRGF0YVxyXG4gICAgKSB7XHJcbiAgICAgIHZhciBvcHRpb25zID0gaW1hZ2VEYXRhO1xyXG5cclxuICAgICAgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGE7XHJcbiAgICAgIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8IGZvcm1hdCB8fCBVTktOT1dOO1xyXG4gICAgICB4ID0gb3B0aW9ucy54IHx8IHggfHwgMDtcclxuICAgICAgeSA9IG9wdGlvbnMueSB8fCB5IHx8IDA7XHJcbiAgICAgIHcgPSBvcHRpb25zLncgfHwgb3B0aW9ucy53aWR0aCB8fCB3O1xyXG4gICAgICBoID0gb3B0aW9ucy5oIHx8IG9wdGlvbnMuaGVpZ2h0IHx8IGg7XHJcbiAgICAgIGFsaWFzID0gb3B0aW9ucy5hbGlhcyB8fCBhbGlhcztcclxuICAgICAgY29tcHJlc3Npb24gPSBvcHRpb25zLmNvbXByZXNzaW9uIHx8IGNvbXByZXNzaW9uO1xyXG4gICAgICByb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb24gfHwgb3B0aW9ucy5hbmdsZSB8fCByb3RhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvL0lmIGNvbXByZXNzaW9uIGlzIG5vdCBleHBsaWNpdGx5IHNldCwgZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCB1c2UgY29tcHJlc3Npb25cclxuICAgIHZhciBmaWx0ZXIgPSB0aGlzLmludGVybmFsLmdldEZpbHRlcnMoKTtcclxuICAgIGlmIChjb21wcmVzc2lvbiA9PT0gdW5kZWZpbmVkICYmIGZpbHRlci5pbmRleE9mKFwiRmxhdGVFbmNvZGVcIikgIT09IC0xKSB7XHJcbiAgICAgIGNvbXByZXNzaW9uID0gXCJTTE9XXCI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIGpzUERGLmFkZEltYWdlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxuXHJcbiAgICB2YXIgaW1hZ2UgPSBwcm9jZXNzSW1hZ2VEYXRhLmNhbGwoXHJcbiAgICAgIHRoaXMsXHJcbiAgICAgIGltYWdlRGF0YSxcclxuICAgICAgZm9ybWF0LFxyXG4gICAgICBhbGlhcyxcclxuICAgICAgY29tcHJlc3Npb25cclxuICAgICk7XHJcblxyXG4gICAgd3JpdGVJbWFnZVRvUERGLmNhbGwodGhpcywgeCwgeSwgdywgaCwgaW1hZ2UsIHJvdGF0aW9uKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICB2YXIgcHJvY2Vzc0ltYWdlRGF0YSA9IGZ1bmN0aW9uKGltYWdlRGF0YSwgZm9ybWF0LCBhbGlhcywgY29tcHJlc3Npb24pIHtcclxuICAgIHZhciByZXN1bHQsIGRhdGFBc0JpbmFyeVN0cmluZztcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGVvZiBpbWFnZURhdGEgPT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgZ2V0SW1hZ2VGaWxlVHlwZUJ5SW1hZ2VEYXRhKGltYWdlRGF0YSkgPT09IFVOS05PV05cclxuICAgICkge1xyXG4gICAgICBpbWFnZURhdGEgPSB1bmVzY2FwZShpbWFnZURhdGEpO1xyXG4gICAgICB2YXIgdG1wSW1hZ2VEYXRhID0gY29udmVydEJhc2U2NFRvQmluYXJ5U3RyaW5nKGltYWdlRGF0YSwgZmFsc2UpO1xyXG5cclxuICAgICAgaWYgKHRtcEltYWdlRGF0YSAhPT0gXCJcIikge1xyXG4gICAgICAgIGltYWdlRGF0YSA9IHRtcEltYWdlRGF0YTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0bXBJbWFnZURhdGEgPSBqc1BERkFQSS5sb2FkRmlsZShpbWFnZURhdGEsIHRydWUpO1xyXG4gICAgICAgIGlmICh0bXBJbWFnZURhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgaW1hZ2VEYXRhID0gdG1wSW1hZ2VEYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0RPTUVsZW1lbnQoaW1hZ2VEYXRhKSkge1xyXG4gICAgICBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGFGcm9tRWxlbWVudChpbWFnZURhdGEsIGZvcm1hdCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0ID0gZ2V0SW1hZ2VGaWxlVHlwZUJ5SW1hZ2VEYXRhKGltYWdlRGF0YSwgZm9ybWF0KTtcclxuICAgIGlmICghaXNJbWFnZVR5cGVTdXBwb3J0ZWQoZm9ybWF0KSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgXCJhZGRJbWFnZSBkb2VzIG5vdCBzdXBwb3J0IGZpbGVzIG9mIHR5cGUgJ1wiICtcclxuICAgICAgICAgIGZvcm1hdCArXHJcbiAgICAgICAgICBcIicsIHBsZWFzZSBlbnN1cmUgdGhhdCBhIHBsdWdpbiBmb3IgJ1wiICtcclxuICAgICAgICAgIGZvcm1hdCArXHJcbiAgICAgICAgICBcIicgc3VwcG9ydCBpcyBhZGRlZC5cIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG5vdyBkbyB0aGUgaGVhdnkgbGlmdGluZ1xyXG5cclxuICAgIGlmIChub3REZWZpbmVkKGFsaWFzKSkge1xyXG4gICAgICBhbGlhcyA9IGdlbmVyYXRlQWxpYXNGcm9tSW1hZ2VEYXRhKGltYWdlRGF0YSk7XHJcbiAgICB9XHJcbiAgICByZXN1bHQgPSBjaGVja0ltYWdlc0ZvckFsaWFzLmNhbGwodGhpcywgYWxpYXMpO1xyXG5cclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIGlmIChzdXBwb3J0c0FycmF5QnVmZmVyKCkpIHtcclxuICAgICAgICAvLyBubyBuZWVkIHRvIGNvbnZlcnQgaWYgaW1hZ2VEYXRhIGlzIGFscmVhZHkgdWludDhhcnJheVxyXG4gICAgICAgIGlmICghKGltYWdlRGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpICYmIGZvcm1hdCAhPT0gXCJSR0JBXCIpIHtcclxuICAgICAgICAgIGRhdGFBc0JpbmFyeVN0cmluZyA9IGltYWdlRGF0YTtcclxuICAgICAgICAgIGltYWdlRGF0YSA9IGJpbmFyeVN0cmluZ1RvVWludDhBcnJheShpbWFnZURhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmVzdWx0ID0gdGhpc1tcInByb2Nlc3NcIiArIGZvcm1hdC50b1VwcGVyQ2FzZSgpXShcclxuICAgICAgICBpbWFnZURhdGEsXHJcbiAgICAgICAgZ2V0SW1hZ2VJbmRleC5jYWxsKHRoaXMpLFxyXG4gICAgICAgIGFsaWFzLFxyXG4gICAgICAgIGNoZWNrQ29tcHJlc3NWYWx1ZShjb21wcmVzc2lvbiksXHJcbiAgICAgICAgZGF0YUFzQmluYXJ5U3RyaW5nXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCB3aGlsc3QgcHJvY2Vzc2luZyB0aGUgaW1hZ2UuXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBjb252ZXJ0QmFzZTY0VG9CaW5hcnlTdHJpbmdcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nRGF0YVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGJpbmFyeSBzdHJpbmdcclxuICAgKi9cclxuICB2YXIgY29udmVydEJhc2U2NFRvQmluYXJ5U3RyaW5nID0gKGpzUERGQVBJLl9fYWRkaW1hZ2VfXy5jb252ZXJ0QmFzZTY0VG9CaW5hcnlTdHJpbmcgPSBmdW5jdGlvbihcclxuICAgIHN0cmluZ0RhdGEsXHJcbiAgICB0aHJvd0Vycm9yXHJcbiAgKSB7XHJcbiAgICB0aHJvd0Vycm9yID0gdHlwZW9mIHRocm93RXJyb3IgPT09IFwiYm9vbGVhblwiID8gdGhyb3dFcnJvciA6IHRydWU7XHJcbiAgICB2YXIgaW1hZ2VEYXRhID0gXCJcIjtcclxuICAgIHZhciByYXdEYXRhO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygc3RyaW5nRGF0YSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICByYXdEYXRhID0gZXh0cmFjdEltYWdlRnJvbURhdGFVcmwoc3RyaW5nRGF0YSkgPz8gc3RyaW5nRGF0YTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaW1hZ2VEYXRhID0gYXRvYihyYXdEYXRhKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmICh0aHJvd0Vycm9yKSB7XHJcbiAgICAgICAgICBpZiAoIXZhbGlkYXRlU3RyaW5nQXNCYXNlNjQocmF3RGF0YSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgIFwiU3VwcGxpZWQgRGF0YSBpcyBub3QgYSB2YWxpZCBiYXNlNjQtU3RyaW5nIGpzUERGLmNvbnZlcnRCYXNlNjRUb0JpbmFyeVN0cmluZyBcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICAgIFwiYXRvYi1FcnJvciBpbiBqc1BERi5jb252ZXJ0QmFzZTY0VG9CaW5hcnlTdHJpbmcgXCIgKyBlLm1lc3NhZ2VcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbWFnZURhdGE7XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIGdldEltYWdlUHJvcGVydGllc1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbWFnZURhdGFcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGpzUERGQVBJLmdldEltYWdlUHJvcGVydGllcyA9IGZ1bmN0aW9uKGltYWdlRGF0YSkge1xyXG4gICAgdmFyIGltYWdlO1xyXG4gICAgdmFyIHRtcEltYWdlRGF0YSA9IFwiXCI7XHJcbiAgICB2YXIgZm9ybWF0O1xyXG5cclxuICAgIGlmIChpc0RPTUVsZW1lbnQoaW1hZ2VEYXRhKSkge1xyXG4gICAgICBpbWFnZURhdGEgPSBnZXRJbWFnZURhdGFGcm9tRWxlbWVudChpbWFnZURhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgdHlwZW9mIGltYWdlRGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxyXG4gICAgICBnZXRJbWFnZUZpbGVUeXBlQnlJbWFnZURhdGEoaW1hZ2VEYXRhKSA9PT0gVU5LTk9XTlxyXG4gICAgKSB7XHJcbiAgICAgIHRtcEltYWdlRGF0YSA9IGNvbnZlcnRCYXNlNjRUb0JpbmFyeVN0cmluZyhpbWFnZURhdGEsIGZhbHNlKTtcclxuXHJcbiAgICAgIGlmICh0bXBJbWFnZURhdGEgPT09IFwiXCIpIHtcclxuICAgICAgICB0bXBJbWFnZURhdGEgPSBqc1BERkFQSS5sb2FkRmlsZShpbWFnZURhdGEpIHx8IFwiXCI7XHJcbiAgICAgIH1cclxuICAgICAgaW1hZ2VEYXRhID0gdG1wSW1hZ2VEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdCA9IGdldEltYWdlRmlsZVR5cGVCeUltYWdlRGF0YShpbWFnZURhdGEpO1xyXG4gICAgaWYgKCFpc0ltYWdlVHlwZVN1cHBvcnRlZChmb3JtYXQpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBcImFkZEltYWdlIGRvZXMgbm90IHN1cHBvcnQgZmlsZXMgb2YgdHlwZSAnXCIgK1xyXG4gICAgICAgICAgZm9ybWF0ICtcclxuICAgICAgICAgIFwiJywgcGxlYXNlIGVuc3VyZSB0aGF0IGEgcGx1Z2luIGZvciAnXCIgK1xyXG4gICAgICAgICAgZm9ybWF0ICtcclxuICAgICAgICAgIFwiJyBzdXBwb3J0IGlzIGFkZGVkLlwiXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN1cHBvcnRzQXJyYXlCdWZmZXIoKSAmJiAhKGltYWdlRGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XHJcbiAgICAgIGltYWdlRGF0YSA9IGJpbmFyeVN0cmluZ1RvVWludDhBcnJheShpbWFnZURhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGltYWdlID0gdGhpc1tcInByb2Nlc3NcIiArIGZvcm1hdC50b1VwcGVyQ2FzZSgpXShpbWFnZURhdGEpO1xyXG5cclxuICAgIGlmICghaW1hZ2UpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCB3aGlsc3QgcHJvY2Vzc2luZyB0aGUgaW1hZ2VcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaW1hZ2UuZmlsZVR5cGUgPSBmb3JtYXQ7XHJcblxyXG4gICAgcmV0dXJuIGltYWdlO1xyXG4gIH07XHJcbn0pKGpzUERGLkFQSSk7XHJcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNCBTdGV2ZW4gU3B1bmdpbiAoVHdlbHZlVG9uZSBMTEMpICBzdGV2ZW5AdHdlbHZldG9uZS50dlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5cbi8qKlxuICoganNQREYgQW5ub3RhdGlvbnMgUGx1Z0luXG4gKlxuICogVGhlcmUgYXJlIG1hbnkgdHlwZXMgb2YgYW5ub3RhdGlvbnMgaW4gYSBQREYgZG9jdW1lbnQuIEFubm90YXRpb25zIGFyZSBwbGFjZWRcbiAqIG9uIGEgcGFnZSBhdCBhIHBhcnRpY3VsYXIgbG9jYXRpb24uIFRoZXkgYXJlIG5vdCAnYXR0YWNoZWQnIHRvIGFuIG9iamVjdC5cbiAqIDxiciAvPlxuICogVGhpcyBwbHVnaW4gY3VycmVudCBzdXBwb3J0cyA8YnIgLz5cbiAqIDxsaT4gR290byBQYWdlIChzZXQgcGFnZU51bWJlciBhbmQgdG9wIGluIG9wdGlvbnMpXG4gKiA8bGk+IEdvdG8gTmFtZSAoc2V0IG5hbWUgYW5kIHRvcCBpbiBvcHRpb25zKVxuICogPGxpPiBHb3RvIFVSTCAoc2V0IHVybCBpbiBvcHRpb25zKVxuICogPHA+XG4gKiBcdFRoZSBkZXN0aW5hdGlvbiBtYWduaWZpY2F0aW9uIGZhY3RvciBjYW4gYWxzbyBiZSBzcGVjaWZpZWQgd2hlbiBnb3RvIGlzIGEgcGFnZSBudW1iZXIgb3IgYSBuYW1lZCBkZXN0aW5hdGlvbi4gKHNlZSBkb2N1bWVudGF0aW9uIGJlbG93KVxuICogIChzZXQgbWFnRmFjdG9yIGluIG9wdGlvbnMpLiAgWFlaIGlzIHRoZSBkZWZhdWx0LlxuICogPC9wPlxuICogPHA+XG4gKiAgTGlua3MsIFRleHQsIFBvcHVwLCBhbmQgRnJlZVRleHQgYXJlIHN1cHBvcnRlZC5cbiAqIDwvcD5cbiAqIDxwPlxuICogT3B0aW9ucyBJbiBQREYgc3BlYyBOb3QgSW1wbGVtZW50ZWQgWWV0XG4gKiA8bGk+IGxpbmsgYm9yZGVyXG4gKiA8bGk+IG5hbWVkIHRhcmdldFxuICogPGxpPiBwYWdlIGNvb3JkaW5hdGVzXG4gKiA8bGk+IGRlc3RpbmF0aW9uIHBhZ2Ugc2NhbGluZyBhbmQgbGF5b3V0XG4gKiA8bGk+IGFjdGlvbnMgb3RoZXIgdGhhbiBVUkwgYW5kIEdvdG9QYWdlXG4gKiA8bGk+IGJhY2tncm91bmQgLyBob3ZlciBhY3Rpb25zXG4gKiA8L3A+XG4gKiBAbmFtZSBhbm5vdGF0aW9uc1xuICogQG1vZHVsZVxuICovXG5cbi8qXG4gICAgRGVzdGluYXRpb24gTWFnbmlmaWNhdGlvbiBGYWN0b3JzXG4gICAgU2VlIFBERiAxLjMgUGFnZSAzODYgZm9yIG1lYW5pbmdzIGFuZCBvcHRpb25zXG5cbiAgICBbc3VwcG9ydGVkXVxuXHRYWVogKG9wdGlvbnM7IGxlZnQgdG9wIHpvb20pXG5cdEZpdCAobm8gb3B0aW9ucylcblx0Rml0SCAob3B0aW9uczogdG9wKVxuXHRGaXRWIChvcHRpb25zOiBsZWZ0KVxuXG5cdFtub3Qgc3VwcG9ydGVkXVxuXHRGaXRSXG5cdEZpdEJcblx0Rml0Qkhcblx0Rml0QlZcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIG5vdEVtcHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogIT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKG9iaiAhPSBcIlwiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBqc1BERi5BUEkuZXZlbnRzLnB1c2goW1xuICAgIFwiYWRkUGFnZVwiLFxuICAgIGZ1bmN0aW9uKGFkZFBhZ2VEYXRhKSB7XG4gICAgICB2YXIgcGFnZUluZm8gPSB0aGlzLmludGVybmFsLmdldFBhZ2VJbmZvKGFkZFBhZ2VEYXRhLnBhZ2VOdW1iZXIpO1xuICAgICAgcGFnZUluZm8ucGFnZUNvbnRleHQuYW5ub3RhdGlvbnMgPSBbXTtcbiAgICB9XG4gIF0pO1xuXG4gIGpzUERGQVBJLmV2ZW50cy5wdXNoKFtcbiAgICBcInB1dFBhZ2VcIixcbiAgICBmdW5jdGlvbihwdXRQYWdlRGF0YSkge1xuICAgICAgdmFyIGdldEhvcml6b250YWxDb29yZGluYXRlU3RyaW5nID0gdGhpcy5pbnRlcm5hbC5nZXRDb29yZGluYXRlU3RyaW5nO1xuICAgICAgdmFyIGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyA9IHRoaXMuaW50ZXJuYWxcbiAgICAgICAgLmdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZztcbiAgICAgIHZhciBwYWdlSW5mbyA9IHRoaXMuaW50ZXJuYWwuZ2V0UGFnZUluZm9CeU9iaklkKHB1dFBhZ2VEYXRhLm9iaklkKTtcbiAgICAgIHZhciBwYWdlQW5ub3MgPSBwdXRQYWdlRGF0YS5wYWdlQ29udGV4dC5hbm5vdGF0aW9ucztcblxuICAgICAgdmFyIGFubm8sIHJlY3QsIGxpbmU7XG4gICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgcGFnZUFubm9zLmxlbmd0aCAmJiAhZm91bmQ7IGErKykge1xuICAgICAgICBhbm5vID0gcGFnZUFubm9zW2FdO1xuICAgICAgICBzd2l0Y2ggKGFubm8udHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG5vdEVtcHR5KGFubm8ub3B0aW9ucy51cmwpIHx8XG4gICAgICAgICAgICAgIG5vdEVtcHR5KGFubm8ub3B0aW9ucy5wYWdlTnVtYmVyKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJyZWZlcmVuY2VcIjpcbiAgICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIGNhc2UgXCJmcmVldGV4dFwiOlxuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCA9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXCIvQW5ub3RzIFtcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VBbm5vcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhbm5vID0gcGFnZUFubm9zW2ldO1xuICAgICAgICB2YXIgZXNjYXBlID0gdGhpcy5pbnRlcm5hbC5wZGZFc2NhcGU7XG4gICAgICAgIHZhciBlbmNyeXB0b3IgPSB0aGlzLmludGVybmFsLmdldEVuY3J5cHRvcihwdXRQYWdlRGF0YS5vYmpJZCk7XG5cbiAgICAgICAgc3dpdGNoIChhbm5vLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwicmVmZXJlbmNlXCI6XG4gICAgICAgICAgICAvLyBSZWZlcmVuY2VzIHRvIFdpZGdldCBBbm5vdGF0aW9ucyAoZm9yIEFjcm9Gb3JtIEZpZWxkcylcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXCIgXCIgKyBhbm5vLm9iamVjdC5vYmpJZCArIFwiIDAgUiBcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYW4gb2JqZWN0IGZvciBib3RoIHRoZSB0ZXh0IGFuZCB0aGUgcG9wdXBcbiAgICAgICAgICAgIHZhciBvYmpUZXh0ID0gdGhpcy5pbnRlcm5hbC5uZXdBZGRpdGlvbmFsT2JqZWN0KCk7XG4gICAgICAgICAgICB2YXIgb2JqUG9wdXAgPSB0aGlzLmludGVybmFsLm5ld0FkZGl0aW9uYWxPYmplY3QoKTtcbiAgICAgICAgICAgIHZhciBlbmNyeXB0b3JUZXh0ID0gdGhpcy5pbnRlcm5hbC5nZXRFbmNyeXB0b3Iob2JqVGV4dC5vYmpJZCk7XG5cbiAgICAgICAgICAgIHZhciB0aXRsZSA9IGFubm8udGl0bGUgfHwgXCJOb3RlXCI7XG4gICAgICAgICAgICByZWN0ID1cbiAgICAgICAgICAgICAgXCIvUmVjdCBbXCIgK1xuICAgICAgICAgICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyhhbm5vLmJvdW5kcy54KSArXG4gICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nKGFubm8uYm91bmRzLnkgKyBhbm5vLmJvdW5kcy5oKSArXG4gICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGVTdHJpbmcoYW5uby5ib3VuZHMueCArIGFubm8uYm91bmRzLncpICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICBnZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcoYW5uby5ib3VuZHMueSkgK1xuICAgICAgICAgICAgICBcIl0gXCI7XG5cbiAgICAgICAgICAgIGxpbmUgPVxuICAgICAgICAgICAgICBcIjw8L1R5cGUgL0Fubm90IC9TdWJ0eXBlIC9cIiArXG4gICAgICAgICAgICAgIFwiVGV4dFwiICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICByZWN0ICtcbiAgICAgICAgICAgICAgXCIvQ29udGVudHMgKFwiICtcbiAgICAgICAgICAgICAgZXNjYXBlKGVuY3J5cHRvclRleHQoYW5uby5jb250ZW50cykpICtcbiAgICAgICAgICAgICAgXCIpXCI7XG4gICAgICAgICAgICBsaW5lICs9IFwiIC9Qb3B1cCBcIiArIG9ialBvcHVwLm9iaklkICsgXCIgMCBSXCI7XG4gICAgICAgICAgICBsaW5lICs9IFwiIC9QIFwiICsgcGFnZUluZm8ub2JqSWQgKyBcIiAwIFJcIjtcbiAgICAgICAgICAgIGxpbmUgKz0gXCIgL1QgKFwiICsgZXNjYXBlKGVuY3J5cHRvclRleHQodGl0bGUpKSArIFwiKSA+PlwiO1xuICAgICAgICAgICAgb2JqVGV4dC5jb250ZW50ID0gbGluZTtcblxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IG9ialRleHQub2JqSWQgKyBcIiAwIFJcIjtcbiAgICAgICAgICAgIHZhciBwb3BvZmYgPSAzMDtcbiAgICAgICAgICAgIHJlY3QgPVxuICAgICAgICAgICAgICBcIi9SZWN0IFtcIiArXG4gICAgICAgICAgICAgIGdldEhvcml6b250YWxDb29yZGluYXRlU3RyaW5nKGFubm8uYm91bmRzLnggKyBwb3BvZmYpICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICBnZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcoYW5uby5ib3VuZHMueSArIGFubm8uYm91bmRzLmgpICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyhcbiAgICAgICAgICAgICAgICBhbm5vLmJvdW5kcy54ICsgYW5uby5ib3VuZHMudyArIHBvcG9mZlxuICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICBnZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcoYW5uby5ib3VuZHMueSkgK1xuICAgICAgICAgICAgICBcIl0gXCI7XG4gICAgICAgICAgICBsaW5lID1cbiAgICAgICAgICAgICAgXCI8PC9UeXBlIC9Bbm5vdCAvU3VidHlwZSAvXCIgK1xuICAgICAgICAgICAgICBcIlBvcHVwXCIgK1xuICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgIHJlY3QgK1xuICAgICAgICAgICAgICBcIiAvUGFyZW50IFwiICtcbiAgICAgICAgICAgICAgcGFyZW50O1xuICAgICAgICAgICAgaWYgKGFubm8ub3Blbikge1xuICAgICAgICAgICAgICBsaW5lICs9IFwiIC9PcGVuIHRydWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUgKz0gXCIgPj5cIjtcbiAgICAgICAgICAgIG9ialBvcHVwLmNvbnRlbnQgPSBsaW5lO1xuXG4gICAgICAgICAgICB0aGlzLmludGVybmFsLndyaXRlKG9ialRleHQub2JqSWQsIFwiMCBSXCIsIG9ialBvcHVwLm9iaklkLCBcIjAgUlwiKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImZyZWV0ZXh0XCI6XG4gICAgICAgICAgICByZWN0ID1cbiAgICAgICAgICAgICAgXCIvUmVjdCBbXCIgK1xuICAgICAgICAgICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyhhbm5vLmJvdW5kcy54KSArXG4gICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nKGFubm8uYm91bmRzLnkpICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyhhbm5vLmJvdW5kcy54ICsgYW5uby5ib3VuZHMudykgK1xuICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgIGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyhhbm5vLmJvdW5kcy55ICsgYW5uby5ib3VuZHMuaCkgK1xuICAgICAgICAgICAgICBcIl0gXCI7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBhbm5vLmNvbG9yIHx8IFwiIzAwMDAwMFwiO1xuICAgICAgICAgICAgbGluZSA9XG4gICAgICAgICAgICAgIFwiPDwvVHlwZSAvQW5ub3QgL1N1YnR5cGUgL1wiICtcbiAgICAgICAgICAgICAgXCJGcmVlVGV4dFwiICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICByZWN0ICtcbiAgICAgICAgICAgICAgXCIvQ29udGVudHMgKFwiICtcbiAgICAgICAgICAgICAgZXNjYXBlKGVuY3J5cHRvcihhbm5vLmNvbnRlbnRzKSkgK1xuICAgICAgICAgICAgICBcIilcIjtcbiAgICAgICAgICAgIGxpbmUgKz1cbiAgICAgICAgICAgICAgXCIgL0RTKGZvbnQ6IEhlbHZldGljYSxzYW5zLXNlcmlmIDEyLjBwdDsgdGV4dC1hbGlnbjpsZWZ0OyBjb2xvcjojXCIgK1xuICAgICAgICAgICAgICBjb2xvciArXG4gICAgICAgICAgICAgIFwiKVwiO1xuICAgICAgICAgICAgbGluZSArPSBcIiAvQm9yZGVyIFswIDAgMF1cIjtcbiAgICAgICAgICAgIGxpbmUgKz0gXCIgPj5cIjtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUobGluZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgaWYgKGFubm8ub3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICAgIHZhciBsb2MgPSB0aGlzLmFubm90YXRpb25zLl9uYW1lTWFwW2Fubm8ub3B0aW9ucy5uYW1lXTtcbiAgICAgICAgICAgICAgYW5uby5vcHRpb25zLnBhZ2VOdW1iZXIgPSBsb2MucGFnZTtcbiAgICAgICAgICAgICAgYW5uby5vcHRpb25zLnRvcCA9IGxvYy55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFhbm5vLm9wdGlvbnMudG9wKSB7XG4gICAgICAgICAgICAgICAgYW5uby5vcHRpb25zLnRvcCA9IDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9XG4gICAgICAgICAgICAgIFwiL1JlY3QgW1wiICtcbiAgICAgICAgICAgICAgYW5uby5maW5hbEJvdW5kcy54ICtcbiAgICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgICBhbm5vLmZpbmFsQm91bmRzLnkgK1xuICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgIGFubm8uZmluYWxCb3VuZHMudyArXG4gICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgYW5uby5maW5hbEJvdW5kcy5oICtcbiAgICAgICAgICAgICAgXCJdIFwiO1xuXG4gICAgICAgICAgICBsaW5lID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChhbm5vLm9wdGlvbnMudXJsKSB7XG4gICAgICAgICAgICAgIGxpbmUgPVxuICAgICAgICAgICAgICAgIFwiPDwvVHlwZSAvQW5ub3QgL1N1YnR5cGUgL0xpbmsgXCIgK1xuICAgICAgICAgICAgICAgIHJlY3QgK1xuICAgICAgICAgICAgICAgIFwiL0JvcmRlciBbMCAwIDBdIC9BIDw8L1MgL1VSSSAvVVJJIChcIiArXG4gICAgICAgICAgICAgICAgZXNjYXBlKGVuY3J5cHRvcihhbm5vLm9wdGlvbnMudXJsKSkgK1xuICAgICAgICAgICAgICAgIFwiKSA+PlwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhbm5vLm9wdGlvbnMucGFnZU51bWJlcikge1xuICAgICAgICAgICAgICAvLyBmaXJzdCBwYWdlIGlzIDBcbiAgICAgICAgICAgICAgdmFyIGluZm8gPSB0aGlzLmludGVybmFsLmdldFBhZ2VJbmZvKGFubm8ub3B0aW9ucy5wYWdlTnVtYmVyKTtcbiAgICAgICAgICAgICAgbGluZSA9XG4gICAgICAgICAgICAgICAgXCI8PC9UeXBlIC9Bbm5vdCAvU3VidHlwZSAvTGluayBcIiArXG4gICAgICAgICAgICAgICAgcmVjdCArXG4gICAgICAgICAgICAgICAgXCIvQm9yZGVyIFswIDAgMF0gL0Rlc3QgW1wiICtcbiAgICAgICAgICAgICAgICBpbmZvLm9iaklkICtcbiAgICAgICAgICAgICAgICBcIiAwIFJcIjtcbiAgICAgICAgICAgICAgYW5uby5vcHRpb25zLm1hZ0ZhY3RvciA9IGFubm8ub3B0aW9ucy5tYWdGYWN0b3IgfHwgXCJYWVpcIjtcbiAgICAgICAgICAgICAgc3dpdGNoIChhbm5vLm9wdGlvbnMubWFnRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkZpdFwiOlxuICAgICAgICAgICAgICAgICAgbGluZSArPSBcIiAvRml0XVwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIkZpdEhcIjpcbiAgICAgICAgICAgICAgICAgIGxpbmUgKz0gXCIgL0ZpdEggXCIgKyBhbm5vLm9wdGlvbnMudG9wICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiRml0VlwiOlxuICAgICAgICAgICAgICAgICAgYW5uby5vcHRpb25zLmxlZnQgPSBhbm5vLm9wdGlvbnMubGVmdCB8fCAwO1xuICAgICAgICAgICAgICAgICAgbGluZSArPSBcIiAvRml0ViBcIiArIGFubm8ub3B0aW9ucy5sZWZ0ICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiWFlaXCI6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHZhciB0b3AgPSBnZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcoYW5uby5vcHRpb25zLnRvcCk7XG4gICAgICAgICAgICAgICAgICBhbm5vLm9wdGlvbnMubGVmdCA9IGFubm8ub3B0aW9ucy5sZWZ0IHx8IDA7XG4gICAgICAgICAgICAgICAgICAvLyAwIG9yIG51bGwgem9vbSB3aWxsIG5vdCBjaGFuZ2Ugem9vbSBmYWN0b3JcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYW5uby5vcHRpb25zLnpvb20gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5uby5vcHRpb25zLnpvb20gPSAwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbGluZSArPVxuICAgICAgICAgICAgICAgICAgICBcIiAvWFlaIFwiICtcbiAgICAgICAgICAgICAgICAgICAgYW5uby5vcHRpb25zLmxlZnQgK1xuICAgICAgICAgICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRvcCArXG4gICAgICAgICAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgICAgICAgICAgYW5uby5vcHRpb25zLnpvb20gK1xuICAgICAgICAgICAgICAgICAgICBcIl1cIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsaW5lICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgbGluZSArPSBcIiA+PlwiO1xuICAgICAgICAgICAgICB0aGlzLmludGVybmFsLndyaXRlKGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXCJdXCIpO1xuICAgIH1cbiAgXSk7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGNyZWF0ZUFubm90YXRpb25cbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBqc1BERkFQSS5jcmVhdGVBbm5vdGF0aW9uID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciBwYWdlSW5mbyA9IHRoaXMuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCk7XG4gICAgc3dpdGNoIChvcHRpb25zLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgIHRoaXMubGluayhcbiAgICAgICAgICBvcHRpb25zLmJvdW5kcy54LFxuICAgICAgICAgIG9wdGlvbnMuYm91bmRzLnksXG4gICAgICAgICAgb3B0aW9ucy5ib3VuZHMudyxcbiAgICAgICAgICBvcHRpb25zLmJvdW5kcy5oLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgY2FzZSBcImZyZWV0ZXh0XCI6XG4gICAgICAgIHBhZ2VJbmZvLnBhZ2VDb250ZXh0LmFubm90YXRpb25zLnB1c2gob3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbGlua1xuICAgKlxuICAgKiB2YWxpZCBvcHRpb25zXG4gICAqIDxsaT4gcGFnZU51bWJlciBvciB1cmwgW3JlcXVpcmVkXVxuICAgKiA8cD5JZiBwYWdlTnVtYmVyIGlzIHNwZWNpZmllZCwgdG9wIGFuZCB6b29tIG1heSBhbHNvIGJlIHNwZWNpZmllZDwvcD5cbiAgICogQG5hbWUgbGlua1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHdcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGpzUERGQVBJLmxpbmsgPSBmdW5jdGlvbih4LCB5LCB3LCBoLCBvcHRpb25zKSB7XG4gICAgdmFyIHBhZ2VJbmZvID0gdGhpcy5pbnRlcm5hbC5nZXRDdXJyZW50UGFnZUluZm8oKTtcbiAgICB2YXIgZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGVTdHJpbmcgPSB0aGlzLmludGVybmFsLmdldENvb3JkaW5hdGVTdHJpbmc7XG4gICAgdmFyIGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyA9IHRoaXMuaW50ZXJuYWwuZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nO1xuXG4gICAgcGFnZUluZm8ucGFnZUNvbnRleHQuYW5ub3RhdGlvbnMucHVzaCh7XG4gICAgICBmaW5hbEJvdW5kczoge1xuICAgICAgICB4OiBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyh4KSxcbiAgICAgICAgeTogZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nKHkpLFxuICAgICAgICB3OiBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyh4ICsgdyksXG4gICAgICAgIGg6IGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyh5ICsgaClcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgdHlwZTogXCJsaW5rXCJcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICogUmV0dXJucyB0aGUgd2lkdGggb2YgdGhlIHRleHQvbGlua1xuICAgKlxuICAgKiBAbmFtZSB0ZXh0V2l0aExpbmtcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IHdpZHRoIHRoZSB3aWR0aCBvZiB0aGUgdGV4dC9saW5rXG4gICAqL1xuICBqc1BERkFQSS50ZXh0V2l0aExpbmsgPSBmdW5jdGlvbih0ZXh0LCB4LCB5LCBvcHRpb25zKSB7XG4gICAgdmFyIHRvdGFsTGluZVdpZHRoID0gdGhpcy5nZXRUZXh0V2lkdGgodGV4dCk7XG4gICAgdmFyIGxpbmVIZWlnaHQgPSB0aGlzLmludGVybmFsLmdldExpbmVIZWlnaHQoKSAvIHRoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3I7XG4gICAgdmFyIGxpbmtIZWlnaHQsIGxpbmtXaWR0aDtcblxuICAgIC8vIENoZWNraW5nIGlmIG1heFdpZHRoIG9wdGlvbiBpcyBwYXNzZWQgdG8gZGV0ZXJtaW5lIGxpbmVXaWR0aCBhbmQgbnVtYmVyIG9mIGxpbmVzIGZvciBlYWNoIGxpbmVcbiAgICBpZiAob3B0aW9ucy5tYXhXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgeyBtYXhXaWR0aCB9ID0gb3B0aW9ucztcbiAgICAgIGxpbmtXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgdmFyIG51bU9mTGluZXMgPSB0aGlzLnNwbGl0VGV4dFRvU2l6ZSh0ZXh0LCBsaW5rV2lkdGgpLmxlbmd0aDtcbiAgICAgIGxpbmtIZWlnaHQgPSBNYXRoLmNlaWwobGluZUhlaWdodCAqIG51bU9mTGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5rV2lkdGggPSB0b3RhbExpbmVXaWR0aDtcbiAgICAgIGxpbmtIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgIH1cblxuICAgIHRoaXMudGV4dCh0ZXh0LCB4LCB5LCBvcHRpb25zKTtcblxuICAgIC8vVE9ETyBXZSByZWFsbHkgbmVlZCB0aGUgdGV4dCBiYXNlbGluZSBoZWlnaHQgdG8gZG8gdGhpcyBjb3JyZWN0bHkuXG4gICAgLy8gT3IgYWJpbGl0eSB0byBkcmF3IHRleHQgb24gdG9wLCBib3R0b20sIGNlbnRlciwgb3IgYmFzZWxpbmUuXG4gICAgeSArPSBsaW5lSGVpZ2h0ICogMC4yO1xuICAgIC8vaGFuZGxlIHggcG9zaXRpb24gYmFzZWQgb24gdGhlIGFsaWduIG9wdGlvblxuICAgIGlmIChvcHRpb25zLmFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICB4ID0geCAtIHRvdGFsTGluZVdpZHRoIC8gMjsgLy9zaW5jZSBzdGFydGluZyBmcm9tIGNlbnRlciBtb3ZlIHRoZSB4IHBvc2l0aW9uIGJ5IGhhbGYgb2YgdGV4dCB3aWR0aFxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICB4ID0geCAtIHRvdGFsTGluZVdpZHRoO1xuICAgIH1cbiAgICB0aGlzLmxpbmsoeCwgeSAtIGxpbmVIZWlnaHQsIGxpbmtXaWR0aCwgbGlua0hlaWdodCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHRvdGFsTGluZVdpZHRoO1xuICB9O1xuXG4gIC8vVE9ETyBtb3ZlIGludG8gZXh0ZXJuYWwgbGlicmFyeVxuICAvKipcbiAgICogQG5hbWUgZ2V0VGV4dFdpZHRoXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0eHRXaWR0aFxuICAgKi9cbiAganNQREZBUEkuZ2V0VGV4dFdpZHRoID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBmb250U2l6ZSA9IHRoaXMuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKTtcbiAgICB2YXIgdHh0V2lkdGggPVxuICAgICAgKHRoaXMuZ2V0U3RyaW5nVW5pdFdpZHRoKHRleHQpICogZm9udFNpemUpIC8gdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvcjtcbiAgICByZXR1cm4gdHh0V2lkdGg7XG4gIH07XG5cbiAgcmV0dXJuIHRoaXM7XG59KShqc1BERi5BUEkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IEFyYXMgQWJiYXNpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cblxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcblxuLyoqXG4gKiBqc1BERiBhcmFiaWMgcGFyc2VyIFBsdWdJblxuICpcbiAqIEBuYW1lIGFyYWJpY1xuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEFyYWJpYyBzaGFwZSBzdWJzdGl0dXRpb25zOiBjaGFyIGNvZGUgPT4gKGlzb2xhdGVkLCBmaW5hbCwgaW5pdGlhbCwgbWVkaWFsKS5cbiAgICogQXJhYmljIFN1YnN0aXRpb24gQVxuICAgKi9cbiAgdmFyIGFyYWJpY1N1YnN0aXRpb25BID0ge1xuICAgIDB4MDYyMTogWzB4ZmU4MF0sIC8vIEFSQUJJQyBMRVRURVIgSEFNWkFcbiAgICAweDA2MjI6IFsweGZlODEsIDB4ZmU4Ml0sIC8vIEFSQUJJQyBMRVRURVIgQUxFRiBXSVRIIE1BRERBIEFCT1ZFXG4gICAgMHgwNjIzOiBbMHhmZTgzLCAweGZlODRdLCAvLyBBUkFCSUMgTEVUVEVSIEFMRUYgV0lUSCBIQU1aQSBBQk9WRVxuICAgIDB4MDYyNDogWzB4ZmU4NSwgMHhmZTg2XSwgLy8gQVJBQklDIExFVFRFUiBXQVcgV0lUSCBIQU1aQSBBQk9WRVxuICAgIDB4MDYyNTogWzB4ZmU4NywgMHhmZTg4XSwgLy8gQVJBQklDIExFVFRFUiBBTEVGIFdJVEggSEFNWkEgQkVMT1dcbiAgICAweDA2MjY6IFsweGZlODksIDB4ZmU4YSwgMHhmZThiLCAweGZlOGNdLCAvLyBBUkFCSUMgTEVUVEVSIFlFSCBXSVRIIEhBTVpBIEFCT1ZFXG4gICAgMHgwNjI3OiBbMHhmZThkLCAweGZlOGVdLCAvLyBBUkFCSUMgTEVUVEVSIEFMRUZcbiAgICAweDA2Mjg6IFsweGZlOGYsIDB4ZmU5MCwgMHhmZTkxLCAweGZlOTJdLCAvLyBBUkFCSUMgTEVUVEVSIEJFSFxuICAgIDB4MDYyOTogWzB4ZmU5MywgMHhmZTk0XSwgLy8gQVJBQklDIExFVFRFUiBURUggTUFSQlVUQVxuICAgIDB4MDYyYTogWzB4ZmU5NSwgMHhmZTk2LCAweGZlOTcsIDB4ZmU5OF0sIC8vIEFSQUJJQyBMRVRURVIgVEVIXG4gICAgMHgwNjJiOiBbMHhmZTk5LCAweGZlOWEsIDB4ZmU5YiwgMHhmZTljXSwgLy8gQVJBQklDIExFVFRFUiBUSEVIXG4gICAgMHgwNjJjOiBbMHhmZTlkLCAweGZlOWUsIDB4ZmU5ZiwgMHhmZWEwXSwgLy8gQVJBQklDIExFVFRFUiBKRUVNXG4gICAgMHgwNjJkOiBbMHhmZWExLCAweGZlYTIsIDB4ZmVhMywgMHhmZWE0XSwgLy8gQVJBQklDIExFVFRFUiBIQUhcbiAgICAweDA2MmU6IFsweGZlYTUsIDB4ZmVhNiwgMHhmZWE3LCAweGZlYThdLCAvLyBBUkFCSUMgTEVUVEVSIEtIQUhcbiAgICAweDA2MmY6IFsweGZlYTksIDB4ZmVhYV0sIC8vIEFSQUJJQyBMRVRURVIgREFMXG4gICAgMHgwNjMwOiBbMHhmZWFiLCAweGZlYWNdLCAvLyBBUkFCSUMgTEVUVEVSIFRIQUxcbiAgICAweDA2MzE6IFsweGZlYWQsIDB4ZmVhZV0sIC8vIEFSQUJJQyBMRVRURVIgUkVIXG4gICAgMHgwNjMyOiBbMHhmZWFmLCAweGZlYjBdLCAvLyBBUkFCSUMgTEVUVEVSIFpBSU5cbiAgICAweDA2MzM6IFsweGZlYjEsIDB4ZmViMiwgMHhmZWIzLCAweGZlYjRdLCAvLyBBUkFCSUMgTEVUVEVSIFNFRU5cbiAgICAweDA2MzQ6IFsweGZlYjUsIDB4ZmViNiwgMHhmZWI3LCAweGZlYjhdLCAvLyBBUkFCSUMgTEVUVEVSIFNIRUVOXG4gICAgMHgwNjM1OiBbMHhmZWI5LCAweGZlYmEsIDB4ZmViYiwgMHhmZWJjXSwgLy8gQVJBQklDIExFVFRFUiBTQURcbiAgICAweDA2MzY6IFsweGZlYmQsIDB4ZmViZSwgMHhmZWJmLCAweGZlYzBdLCAvLyBBUkFCSUMgTEVUVEVSIERBRFxuICAgIDB4MDYzNzogWzB4ZmVjMSwgMHhmZWMyLCAweGZlYzMsIDB4ZmVjNF0sIC8vIEFSQUJJQyBMRVRURVIgVEFIXG4gICAgMHgwNjM4OiBbMHhmZWM1LCAweGZlYzYsIDB4ZmVjNywgMHhmZWM4XSwgLy8gQVJBQklDIExFVFRFUiBaQUhcbiAgICAweDA2Mzk6IFsweGZlYzksIDB4ZmVjYSwgMHhmZWNiLCAweGZlY2NdLCAvLyBBUkFCSUMgTEVUVEVSIEFJTlxuICAgIDB4MDYzYTogWzB4ZmVjZCwgMHhmZWNlLCAweGZlY2YsIDB4ZmVkMF0sIC8vIEFSQUJJQyBMRVRURVIgR0hBSU5cbiAgICAweDA2NDE6IFsweGZlZDEsIDB4ZmVkMiwgMHhmZWQzLCAweGZlZDRdLCAvLyBBUkFCSUMgTEVUVEVSIEZFSFxuICAgIDB4MDY0MjogWzB4ZmVkNSwgMHhmZWQ2LCAweGZlZDcsIDB4ZmVkOF0sIC8vIEFSQUJJQyBMRVRURVIgUUFGXG4gICAgMHgwNjQzOiBbMHhmZWQ5LCAweGZlZGEsIDB4ZmVkYiwgMHhmZWRjXSwgLy8gQVJBQklDIExFVFRFUiBLQUZcbiAgICAweDA2NDQ6IFsweGZlZGQsIDB4ZmVkZSwgMHhmZWRmLCAweGZlZTBdLCAvLyBBUkFCSUMgTEVUVEVSIExBTVxuICAgIDB4MDY0NTogWzB4ZmVlMSwgMHhmZWUyLCAweGZlZTMsIDB4ZmVlNF0sIC8vIEFSQUJJQyBMRVRURVIgTUVFTVxuICAgIDB4MDY0NjogWzB4ZmVlNSwgMHhmZWU2LCAweGZlZTcsIDB4ZmVlOF0sIC8vIEFSQUJJQyBMRVRURVIgTk9PTlxuICAgIDB4MDY0NzogWzB4ZmVlOSwgMHhmZWVhLCAweGZlZWIsIDB4ZmVlY10sIC8vIEFSQUJJQyBMRVRURVIgSEVIXG4gICAgMHgwNjQ4OiBbMHhmZWVkLCAweGZlZWVdLCAvLyBBUkFCSUMgTEVUVEVSIFdBV1xuICAgIDB4MDY0OTogWzB4ZmVlZiwgMHhmZWYwLCA2NDQ4OCwgNjQ0ODldLCAvLyBBUkFCSUMgTEVUVEVSIEFMRUYgTUFLU1VSQVxuICAgIDB4MDY0YTogWzB4ZmVmMSwgMHhmZWYyLCAweGZlZjMsIDB4ZmVmNF0sIC8vIEFSQUJJQyBMRVRURVIgWUVIXG4gICAgMHgwNjcxOiBbMHhmYjUwLCAweGZiNTFdLCAvLyBBUkFCSUMgTEVUVEVSIEFMRUYgV0FTTEFcbiAgICAweDA2Nzc6IFsweGZiZGRdLCAvLyBBUkFCSUMgTEVUVEVSIFUgV0lUSCBIQU1aQSBBQk9WRVxuICAgIDB4MDY3OTogWzB4ZmI2NiwgMHhmYjY3LCAweGZiNjgsIDB4ZmI2OV0sIC8vIEFSQUJJQyBMRVRURVIgVFRFSFxuICAgIDB4MDY3YTogWzB4ZmI1ZSwgMHhmYjVmLCAweGZiNjAsIDB4ZmI2MV0sIC8vIEFSQUJJQyBMRVRURVIgVFRFSEVIXG4gICAgMHgwNjdiOiBbMHhmYjUyLCAweGZiNTMsIDB4ZmI1NCwgMHhmYjU1XSwgLy8gQVJBQklDIExFVFRFUiBCRUVIXG4gICAgMHgwNjdlOiBbMHhmYjU2LCAweGZiNTcsIDB4ZmI1OCwgMHhmYjU5XSwgLy8gQVJBQklDIExFVFRFUiBQRUhcbiAgICAweDA2N2Y6IFsweGZiNjIsIDB4ZmI2MywgMHhmYjY0LCAweGZiNjVdLCAvLyBBUkFCSUMgTEVUVEVSIFRFSEVIXG4gICAgMHgwNjgwOiBbMHhmYjVhLCAweGZiNWIsIDB4ZmI1YywgMHhmYjVkXSwgLy8gQVJBQklDIExFVFRFUiBCRUhFSFxuICAgIDB4MDY4MzogWzB4ZmI3NiwgMHhmYjc3LCAweGZiNzgsIDB4ZmI3OV0sIC8vIEFSQUJJQyBMRVRURVIgTllFSFxuICAgIDB4MDY4NDogWzB4ZmI3MiwgMHhmYjczLCAweGZiNzQsIDB4ZmI3NV0sIC8vIEFSQUJJQyBMRVRURVIgRFlFSFxuICAgIDB4MDY4NjogWzB4ZmI3YSwgMHhmYjdiLCAweGZiN2MsIDB4ZmI3ZF0sIC8vIEFSQUJJQyBMRVRURVIgVENIRUhcbiAgICAweDA2ODc6IFsweGZiN2UsIDB4ZmI3ZiwgMHhmYjgwLCAweGZiODFdLCAvLyBBUkFCSUMgTEVUVEVSIFRDSEVIRUhcbiAgICAweDA2ODg6IFsweGZiODgsIDB4ZmI4OV0sIC8vIEFSQUJJQyBMRVRURVIgRERBTFxuICAgIDB4MDY4YzogWzB4ZmI4NCwgMHhmYjg1XSwgLy8gQVJBQklDIExFVFRFUiBEQUhBTFxuICAgIDB4MDY4ZDogWzB4ZmI4MiwgMHhmYjgzXSwgLy8gQVJBQklDIExFVFRFUiBEREFIQUxcbiAgICAweDA2OGU6IFsweGZiODYsIDB4ZmI4N10sIC8vIEFSQUJJQyBMRVRURVIgRFVMXG4gICAgMHgwNjkxOiBbMHhmYjhjLCAweGZiOGRdLCAvLyBBUkFCSUMgTEVUVEVSIFJSRUhcbiAgICAweDA2OTg6IFsweGZiOGEsIDB4ZmI4Yl0sIC8vIEFSQUJJQyBMRVRURVIgSkVIXG4gICAgMHgwNmE0OiBbMHhmYjZhLCAweGZiNmIsIDB4ZmI2YywgMHhmYjZkXSwgLy8gQVJBQklDIExFVFRFUiBWRUhcbiAgICAweDA2YTY6IFsweGZiNmUsIDB4ZmI2ZiwgMHhmYjcwLCAweGZiNzFdLCAvLyBBUkFCSUMgTEVUVEVSIFBFSEVIXG4gICAgMHgwNmE5OiBbMHhmYjhlLCAweGZiOGYsIDB4ZmI5MCwgMHhmYjkxXSwgLy8gQVJBQklDIExFVFRFUiBLRUhFSFxuICAgIDB4MDZhZDogWzB4ZmJkMywgMHhmYmQ0LCAweGZiZDUsIDB4ZmJkNl0sIC8vIEFSQUJJQyBMRVRURVIgTkdcbiAgICAweDA2YWY6IFsweGZiOTIsIDB4ZmI5MywgMHhmYjk0LCAweGZiOTVdLCAvLyBBUkFCSUMgTEVUVEVSIEdBRlxuICAgIDB4MDZiMTogWzB4ZmI5YSwgMHhmYjliLCAweGZiOWMsIDB4ZmI5ZF0sIC8vIEFSQUJJQyBMRVRURVIgTkdPRUhcbiAgICAweDA2YjM6IFsweGZiOTYsIDB4ZmI5NywgMHhmYjk4LCAweGZiOTldLCAvLyBBUkFCSUMgTEVUVEVSIEdVRUhcbiAgICAweDA2YmE6IFsweGZiOWUsIDB4ZmI5Zl0sIC8vIEFSQUJJQyBMRVRURVIgTk9PTiBHSFVOTkFcbiAgICAweDA2YmI6IFsweGZiYTAsIDB4ZmJhMSwgMHhmYmEyLCAweGZiYTNdLCAvLyBBUkFCSUMgTEVUVEVSIFJOT09OXG4gICAgMHgwNmJlOiBbMHhmYmFhLCAweGZiYWIsIDB4ZmJhYywgMHhmYmFkXSwgLy8gQVJBQklDIExFVFRFUiBIRUggRE9BQ0hBU0hNRUVcbiAgICAweDA2YzA6IFsweGZiYTQsIDB4ZmJhNV0sIC8vIEFSQUJJQyBMRVRURVIgSEVIIFdJVEggWUVIIEFCT1ZFXG4gICAgMHgwNmMxOiBbMHhmYmE2LCAweGZiYTcsIDB4ZmJhOCwgMHhmYmE5XSwgLy8gQVJBQklDIExFVFRFUiBIRUggR09BTFxuICAgIDB4MDZjNTogWzB4ZmJlMCwgMHhmYmUxXSwgLy8gQVJBQklDIExFVFRFUiBLSVJHSElaIE9FXG4gICAgMHgwNmM2OiBbMHhmYmQ5LCAweGZiZGFdLCAvLyBBUkFCSUMgTEVUVEVSIE9FXG4gICAgMHgwNmM3OiBbMHhmYmQ3LCAweGZiZDhdLCAvLyBBUkFCSUMgTEVUVEVSIFVcbiAgICAweDA2Yzg6IFsweGZiZGIsIDB4ZmJkY10sIC8vIEFSQUJJQyBMRVRURVIgWVVcbiAgICAweDA2Yzk6IFsweGZiZTIsIDB4ZmJlM10sIC8vIEFSQUJJQyBMRVRURVIgS0lSR0hJWiBZVVxuICAgIDB4MDZjYjogWzB4ZmJkZSwgMHhmYmRmXSwgLy8gQVJBQklDIExFVFRFUiBWRVxuICAgIDB4MDZjYzogWzB4ZmJmYywgMHhmYmZkLCAweGZiZmUsIDB4ZmJmZl0sIC8vIEFSQUJJQyBMRVRURVIgRkFSU0kgWUVIXG4gICAgMHgwNmQwOiBbMHhmYmU0LCAweGZiZTUsIDB4ZmJlNiwgMHhmYmU3XSwgLy9BUkFCSUMgTEVUVEVSIEVcbiAgICAweDA2ZDI6IFsweGZiYWUsIDB4ZmJhZl0sIC8vIEFSQUJJQyBMRVRURVIgWUVIIEJBUlJFRVxuICAgIDB4MDZkMzogWzB4ZmJiMCwgMHhmYmIxXSAvLyBBUkFCSUMgTEVUVEVSIFlFSCBCQVJSRUUgV0lUSCBIQU1aQSBBQk9WRVxuICB9O1xuXG4gIC8qXG4gICAgdmFyIGxpZ2F0dXJlc1N1YnN0aXR1dGlvbkEgPSB7XG4gICAgICAgIDB4RkJFQTogW10vLyBBUkFCSUMgTElHQVRVUkUgWUVIIFdJVEggSEFNWkEgQUJPVkUgV0lUSCBBTEVGIElTT0xBVEVEIEZPUk1cbiAgICB9O1xuICAgICovXG5cbiAgdmFyIGxpZ2F0dXJlcyA9IHtcbiAgICAweGZlZGY6IHtcbiAgICAgIDB4ZmU4MjogMHhmZWY1LCAvLyBBUkFCSUMgTElHQVRVUkUgTEFNIFdJVEggQUxFRiBXSVRIIE1BRERBIEFCT1ZFIElTT0xBVEVEIEZPUk1cbiAgICAgIDB4ZmU4NDogMHhmZWY3LCAvLyBBUkFCSUMgTElHQVRVUkUgTEFNIFdJVEggQUxFRiBXSVRIIEhBTVpBIEFCT1ZFIElTT0xBVEVEIEZPUk1cbiAgICAgIDB4ZmU4ODogMHhmZWY5LCAvLyBBUkFCSUMgTElHQVRVUkUgTEFNIFdJVEggQUxFRiBXSVRIIEhBTVpBIEJFTE9XIElTT0xBVEVEIEZPUk1cbiAgICAgIDB4ZmU4ZTogMHhmZWZiIC8vIEFSQUJJQyBMSUdBVFVSRSBMQU0gV0lUSCBBTEVGIElTT0xBVEVEIEZPUk1cbiAgICB9LFxuICAgIDB4ZmVlMDoge1xuICAgICAgMHhmZTgyOiAweGZlZjYsIC8vIEFSQUJJQyBMSUdBVFVSRSBMQU0gV0lUSCBBTEVGIFdJVEggTUFEREEgQUJPVkUgRklOQUwgRk9STVxuICAgICAgMHhmZTg0OiAweGZlZjgsIC8vIEFSQUJJQyBMSUdBVFVSRSBMQU0gV0lUSCBBTEVGIFdJVEggSEFNWkEgQUJPVkUgRklOQUwgRk9STVxuICAgICAgMHhmZTg4OiAweGZlZmEsIC8vIEFSQUJJQyBMSUdBVFVSRSBMQU0gV0lUSCBBTEVGIFdJVEggSEFNWkEgQkVMT1cgRklOQUwgRk9STVxuICAgICAgMHhmZThlOiAweGZlZmMgLy8gQVJBQklDIExJR0FUVVJFIExBTSBXSVRIIEFMRUYgRklOQUwgRk9STVxuICAgIH0sXG4gICAgMHhmZThkOiB7IDB4ZmVkZjogeyAweGZlZTA6IHsgMHhmZWVhOiAweGZkZjIgfSB9IH0sIC8vIEFMTEFIXG4gICAgMHgwNjUxOiB7XG4gICAgICAweDA2NGM6IDB4ZmM1ZSwgLy8gU2hhZGRhICsgRGFtbWF0YW5cbiAgICAgIDB4MDY0ZDogMHhmYzVmLCAvLyBTaGFkZGEgKyBLYXNyYXRhblxuICAgICAgMHgwNjRlOiAweGZjNjAsIC8vIFNoYWRkYSArIEZhdGhhXG4gICAgICAweDA2NGY6IDB4ZmM2MSwgLy8gU2hhZGRhICsgRGFtbWFcbiAgICAgIDB4MDY1MDogMHhmYzYyIC8vIFNoYWRkYSArIEthc3JhXG4gICAgfVxuICB9O1xuXG4gIHZhciBhcmFiaWNfZGlhY3JpdGljcyA9IHtcbiAgICAxNjEyOiA2NDYwNiwgLy8gU2hhZGRhICsgRGFtbWF0YW5cbiAgICAxNjEzOiA2NDYwNywgLy8gU2hhZGRhICsgS2FzcmF0YW5cbiAgICAxNjE0OiA2NDYwOCwgLy8gU2hhZGRhICsgRmF0aGFcbiAgICAxNjE1OiA2NDYwOSwgLy8gU2hhZGRhICsgRGFtbWFcbiAgICAxNjE2OiA2NDYxMCAvLyBTaGFkZGEgKyBLYXNyYVxuICB9O1xuXG4gIHZhciBhbGZsZXR0ZXIgPSBbMTU3MCwgMTU3MSwgMTU3MywgMTU3NV07XG5cbiAgdmFyIG5vQ2hhbmdlSW5Gb3JtID0gLTE7XG4gIHZhciBpc29sYXRlZEZvcm0gPSAwO1xuICB2YXIgZmluYWxGb3JtID0gMTtcbiAgdmFyIGluaXRpYWxGb3JtID0gMjtcbiAgdmFyIG1lZGlhbEZvcm0gPSAzO1xuXG4gIGpzUERGQVBJLl9fYXJhYmljUGFyc2VyX18gPSB7fTtcblxuICAvL3ByaXZhdGVcbiAgdmFyIGlzSW5BcmFiaWNTdWJzdGl0dXRpb25BID0gKGpzUERGQVBJLl9fYXJhYmljUGFyc2VyX18uaXNJbkFyYWJpY1N1YnN0aXR1dGlvbkEgPSBmdW5jdGlvbihcbiAgICBsZXR0ZXJcbiAgKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhcmFiaWNTdWJzdGl0aW9uQVtsZXR0ZXIuY2hhckNvZGVBdCgwKV0gIT09IFwidW5kZWZpbmVkXCI7XG4gIH0pO1xuXG4gIHZhciBpc0FyYWJpY0xldHRlciA9IChqc1BERkFQSS5fX2FyYWJpY1BhcnNlcl9fLmlzQXJhYmljTGV0dGVyID0gZnVuY3Rpb24oXG4gICAgbGV0dGVyXG4gICkge1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlb2YgbGV0dGVyID09PSBcInN0cmluZ1wiICYmXG4gICAgICAvXltcXHUwNjAwLVxcdTA2RkZcXHUwNzUwLVxcdTA3N0ZcXHUwOEEwLVxcdTA4RkZcXHVGQjUwLVxcdUZERkZcXHVGRTcwLVxcdUZFRkZdKyQvLnRlc3QoXG4gICAgICAgIGxldHRlclxuICAgICAgKVxuICAgICk7XG4gIH0pO1xuXG4gIHZhciBpc0FyYWJpY0VuZExldHRlciA9IChqc1BERkFQSS5fX2FyYWJpY1BhcnNlcl9fLmlzQXJhYmljRW5kTGV0dGVyID0gZnVuY3Rpb24oXG4gICAgbGV0dGVyXG4gICkge1xuICAgIHJldHVybiAoXG4gICAgICBpc0FyYWJpY0xldHRlcihsZXR0ZXIpICYmXG4gICAgICBpc0luQXJhYmljU3Vic3RpdHV0aW9uQShsZXR0ZXIpICYmXG4gICAgICBhcmFiaWNTdWJzdGl0aW9uQVtsZXR0ZXIuY2hhckNvZGVBdCgwKV0ubGVuZ3RoIDw9IDJcbiAgICApO1xuICB9KTtcblxuICB2YXIgaXNBcmFiaWNBbGZMZXR0ZXIgPSAoanNQREZBUEkuX19hcmFiaWNQYXJzZXJfXy5pc0FyYWJpY0FsZkxldHRlciA9IGZ1bmN0aW9uKFxuICAgIGxldHRlclxuICApIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNBcmFiaWNMZXR0ZXIobGV0dGVyKSAmJiBhbGZsZXR0ZXIuaW5kZXhPZihsZXR0ZXIuY2hhckNvZGVBdCgwKSkgPj0gMFxuICAgICk7XG4gIH0pO1xuXG4gIGpzUERGQVBJLl9fYXJhYmljUGFyc2VyX18uYXJhYmljTGV0dGVySGFzSXNvbGF0ZWRGb3JtID0gZnVuY3Rpb24obGV0dGVyKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGlzQXJhYmljTGV0dGVyKGxldHRlcikgJiZcbiAgICAgIGlzSW5BcmFiaWNTdWJzdGl0dXRpb25BKGxldHRlcikgJiZcbiAgICAgIGFyYWJpY1N1YnN0aXRpb25BW2xldHRlci5jaGFyQ29kZUF0KDApXS5sZW5ndGggPj0gMVxuICAgICk7XG4gIH07XG5cbiAgdmFyIGFyYWJpY0xldHRlckhhc0ZpbmFsRm9ybSA9IChqc1BERkFQSS5fX2FyYWJpY1BhcnNlcl9fLmFyYWJpY0xldHRlckhhc0ZpbmFsRm9ybSA9IGZ1bmN0aW9uKFxuICAgIGxldHRlclxuICApIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNBcmFiaWNMZXR0ZXIobGV0dGVyKSAmJlxuICAgICAgaXNJbkFyYWJpY1N1YnN0aXR1dGlvbkEobGV0dGVyKSAmJlxuICAgICAgYXJhYmljU3Vic3RpdGlvbkFbbGV0dGVyLmNoYXJDb2RlQXQoMCldLmxlbmd0aCA+PSAyXG4gICAgKTtcbiAgfSk7XG5cbiAganNQREZBUEkuX19hcmFiaWNQYXJzZXJfXy5hcmFiaWNMZXR0ZXJIYXNJbml0aWFsRm9ybSA9IGZ1bmN0aW9uKGxldHRlcikge1xuICAgIHJldHVybiAoXG4gICAgICBpc0FyYWJpY0xldHRlcihsZXR0ZXIpICYmXG4gICAgICBpc0luQXJhYmljU3Vic3RpdHV0aW9uQShsZXR0ZXIpICYmXG4gICAgICBhcmFiaWNTdWJzdGl0aW9uQVtsZXR0ZXIuY2hhckNvZGVBdCgwKV0ubGVuZ3RoID49IDNcbiAgICApO1xuICB9O1xuXG4gIHZhciBhcmFiaWNMZXR0ZXJIYXNNZWRpYWxGb3JtID0gKGpzUERGQVBJLl9fYXJhYmljUGFyc2VyX18uYXJhYmljTGV0dGVySGFzTWVkaWFsRm9ybSA9IGZ1bmN0aW9uKFxuICAgIGxldHRlclxuICApIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNBcmFiaWNMZXR0ZXIobGV0dGVyKSAmJlxuICAgICAgaXNJbkFyYWJpY1N1YnN0aXR1dGlvbkEobGV0dGVyKSAmJlxuICAgICAgYXJhYmljU3Vic3RpdGlvbkFbbGV0dGVyLmNoYXJDb2RlQXQoMCldLmxlbmd0aCA9PSA0XG4gICAgKTtcbiAgfSk7XG5cbiAgdmFyIHJlc29sdmVMaWdhdHVyZXMgPSAoanNQREZBUEkuX19hcmFiaWNQYXJzZXJfXy5yZXNvbHZlTGlnYXR1cmVzID0gZnVuY3Rpb24oXG4gICAgbGV0dGVyc1xuICApIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHRtcExpZ2F0dXJlcyA9IGxpZ2F0dXJlcztcbiAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICB2YXIgZWZmZWN0ZWRMZXR0ZXJzID0gMDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZXR0ZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAodHlwZW9mIHRtcExpZ2F0dXJlc1tsZXR0ZXJzLmNoYXJDb2RlQXQoaSldICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGVmZmVjdGVkTGV0dGVycysrO1xuICAgICAgICB0bXBMaWdhdHVyZXMgPSB0bXBMaWdhdHVyZXNbbGV0dGVycy5jaGFyQ29kZUF0KGkpXTtcblxuICAgICAgICBpZiAodHlwZW9mIHRtcExpZ2F0dXJlcyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRtcExpZ2F0dXJlcyk7XG4gICAgICAgICAgdG1wTGlnYXR1cmVzID0gbGlnYXR1cmVzO1xuICAgICAgICAgIGVmZmVjdGVkTGV0dGVycyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IGxldHRlcnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHRtcExpZ2F0dXJlcyA9IGxpZ2F0dXJlcztcbiAgICAgICAgICByZXN1bHQgKz0gbGV0dGVycy5jaGFyQXQoaSAtIChlZmZlY3RlZExldHRlcnMgLSAxKSk7XG4gICAgICAgICAgaSA9IGkgLSAoZWZmZWN0ZWRMZXR0ZXJzIC0gMSk7XG4gICAgICAgICAgZWZmZWN0ZWRMZXR0ZXJzID0gMDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG1wTGlnYXR1cmVzID0gbGlnYXR1cmVzO1xuICAgICAgICByZXN1bHQgKz0gbGV0dGVycy5jaGFyQXQoaSAtIGVmZmVjdGVkTGV0dGVycyk7XG4gICAgICAgIGkgPSBpIC0gZWZmZWN0ZWRMZXR0ZXJzO1xuICAgICAgICBlZmZlY3RlZExldHRlcnMgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pO1xuXG4gIGpzUERGQVBJLl9fYXJhYmljUGFyc2VyX18uaXNBcmFiaWNEaWFjcml0aWMgPSBmdW5jdGlvbihsZXR0ZXIpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbGV0dGVyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGFyYWJpY19kaWFjcml0aWNzW2xldHRlci5jaGFyQ29kZUF0KDApXSAhPT0gdW5kZWZpbmVkXG4gICAgKTtcbiAgfTtcblxuICB2YXIgZ2V0Q29ycmVjdEZvcm0gPSAoanNQREZBUEkuX19hcmFiaWNQYXJzZXJfXy5nZXRDb3JyZWN0Rm9ybSA9IGZ1bmN0aW9uKFxuICAgIGN1cnJlbnRDaGFyLFxuICAgIGJlZm9yZUNoYXIsXG4gICAgbmV4dENoYXJcbiAgKSB7XG4gICAgaWYgKCFpc0FyYWJpY0xldHRlcihjdXJyZW50Q2hhcikpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoaXNJbkFyYWJpY1N1YnN0aXR1dGlvbkEoY3VycmVudENoYXIpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG5vQ2hhbmdlSW5Gb3JtO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhYXJhYmljTGV0dGVySGFzRmluYWxGb3JtKGN1cnJlbnRDaGFyKSB8fFxuICAgICAgKCFpc0FyYWJpY0xldHRlcihiZWZvcmVDaGFyKSAmJiAhaXNBcmFiaWNMZXR0ZXIobmV4dENoYXIpKSB8fFxuICAgICAgKCFpc0FyYWJpY0xldHRlcihuZXh0Q2hhcikgJiYgaXNBcmFiaWNFbmRMZXR0ZXIoYmVmb3JlQ2hhcikpIHx8XG4gICAgICAoaXNBcmFiaWNFbmRMZXR0ZXIoY3VycmVudENoYXIpICYmICFpc0FyYWJpY0xldHRlcihiZWZvcmVDaGFyKSkgfHxcbiAgICAgIChpc0FyYWJpY0VuZExldHRlcihjdXJyZW50Q2hhcikgJiYgaXNBcmFiaWNBbGZMZXR0ZXIoYmVmb3JlQ2hhcikpIHx8XG4gICAgICAoaXNBcmFiaWNFbmRMZXR0ZXIoY3VycmVudENoYXIpICYmIGlzQXJhYmljRW5kTGV0dGVyKGJlZm9yZUNoYXIpKVxuICAgICkge1xuICAgICAgcmV0dXJuIGlzb2xhdGVkRm9ybTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBhcmFiaWNMZXR0ZXJIYXNNZWRpYWxGb3JtKGN1cnJlbnRDaGFyKSAmJlxuICAgICAgaXNBcmFiaWNMZXR0ZXIoYmVmb3JlQ2hhcikgJiZcbiAgICAgICFpc0FyYWJpY0VuZExldHRlcihiZWZvcmVDaGFyKSAmJlxuICAgICAgaXNBcmFiaWNMZXR0ZXIobmV4dENoYXIpICYmXG4gICAgICBhcmFiaWNMZXR0ZXJIYXNGaW5hbEZvcm0obmV4dENoYXIpXG4gICAgKSB7XG4gICAgICByZXR1cm4gbWVkaWFsRm9ybTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcmFiaWNFbmRMZXR0ZXIoY3VycmVudENoYXIpIHx8ICFpc0FyYWJpY0xldHRlcihuZXh0Q2hhcikpIHtcbiAgICAgIHJldHVybiBmaW5hbEZvcm07XG4gICAgfVxuICAgIHJldHVybiBpbml0aWFsRm9ybTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBuYW1lIHByb2Nlc3NBcmFiaWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB2YXIgcGFyc2VBcmFiaWMgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGV4dCA9IHRleHQgfHwgXCJcIjtcblxuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgaiA9IDA7XG4gICAgdmFyIHBvc2l0aW9uID0gMDtcbiAgICB2YXIgY3VycmVudExldHRlciA9IFwiXCI7XG4gICAgdmFyIHByZXZMZXR0ZXIgPSBcIlwiO1xuICAgIHZhciBuZXh0TGV0dGVyID0gXCJcIjtcblxuICAgIHZhciB3b3JkcyA9IHRleHQuc3BsaXQoXCJcXFxccytcIik7XG4gICAgdmFyIG5ld1dvcmRzID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBuZXdXb3Jkcy5wdXNoKFwiXCIpO1xuICAgICAgZm9yIChqID0gMDsgaiA8IHdvcmRzW2ldLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGN1cnJlbnRMZXR0ZXIgPSB3b3Jkc1tpXVtqXTtcbiAgICAgICAgcHJldkxldHRlciA9IHdvcmRzW2ldW2ogLSAxXTtcbiAgICAgICAgbmV4dExldHRlciA9IHdvcmRzW2ldW2ogKyAxXTtcbiAgICAgICAgaWYgKGlzQXJhYmljTGV0dGVyKGN1cnJlbnRMZXR0ZXIpKSB7XG4gICAgICAgICAgcG9zaXRpb24gPSBnZXRDb3JyZWN0Rm9ybShjdXJyZW50TGV0dGVyLCBwcmV2TGV0dGVyLCBuZXh0TGV0dGVyKTtcbiAgICAgICAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICBuZXdXb3Jkc1tpXSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFxuICAgICAgICAgICAgICBhcmFiaWNTdWJzdGl0aW9uQVtjdXJyZW50TGV0dGVyLmNoYXJDb2RlQXQoMCldW3Bvc2l0aW9uXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3V29yZHNbaV0gKz0gY3VycmVudExldHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3V29yZHNbaV0gKz0gY3VycmVudExldHRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBuZXdXb3Jkc1tpXSA9IHJlc29sdmVMaWdhdHVyZXMobmV3V29yZHNbaV0pO1xuICAgIH1cbiAgICByZXN1bHQgPSBuZXdXb3Jkcy5qb2luKFwiIFwiKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHByb2Nlc3NBcmFiaWMgPSAoanNQREZBUEkuX19hcmFiaWNQYXJzZXJfXy5wcm9jZXNzQXJhYmljID0ganNQREZBUEkucHJvY2Vzc0FyYWJpYyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXh0ID1cbiAgICAgIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwic3RyaW5nXCIgPyBhcmd1bWVudHNbMF0gOiBhcmd1bWVudHNbMF0udGV4dDtcbiAgICB2YXIgdG1wVGV4dCA9IFtdO1xuICAgIHZhciByZXN1bHQ7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdG1wVGV4dCA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGV4dFtpXSkpIHtcbiAgICAgICAgICB0bXBUZXh0LnB1c2goW3BhcnNlQXJhYmljKHRleHRbaV1bMF0pLCB0ZXh0W2ldWzFdLCB0ZXh0W2ldWzJdXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG1wVGV4dC5wdXNoKFtwYXJzZUFyYWJpYyh0ZXh0W2ldKV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB0bXBUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBwYXJzZUFyYWJpYyh0ZXh0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3VtZW50c1swXS50ZXh0ID0gcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICB9XG4gIH0pO1xuXG4gIGpzUERGQVBJLmV2ZW50cy5wdXNoKFtcInByZVByb2Nlc3NUZXh0XCIsIHByb2Nlc3NBcmFiaWNdKTtcbn0pKGpzUERGLkFQSSk7XG4iLCIvKiogQGxpY2Vuc2VcbiAqIGpzUERGIEF1dG9wcmludCBQbHVnaW5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIGF1dG9wcmludFxuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIE1ha2VzIHRoZSBQREYgYXV0b21hdGljYWxseSBvcGVuIHRoZSBwcmludC1EaWFsb2cgd2hlbiBvcGVuZWQgaW4gYSBQREYtdmlld2VyLlxuICAgKlxuICAgKiBAbmFtZSBhdXRvUHJpbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIChvcHRpb25hbCkgU2V0IHRoZSBhdHRyaWJ1dGUgdmFyaWFudCB0byAnbm9uLWNvbmZvcm0nIChkZWZhdWx0KSBvciAnamF2YXNjcmlwdCcgdG8gYWN0aXZhdGUgZGlmZmVyZW50IG1ldGhvZHMgb2YgYXV0b21hdGljIHByaW50aW5nIHdoZW4gb3BlbmluZyBpbiBhIFBERi12aWV3ZXIgLlxuICAgKiBAcmV0dXJucyB7anNQREZ9XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBkb2MgPSBuZXcganNQREYoKTtcbiAgICogZG9jLnRleHQoMTAsIDEwLCAnVGhpcyBpcyBhIHRlc3QnKTtcbiAgICogZG9jLmF1dG9QcmludCh7dmFyaWFudDogJ25vbi1jb25mb3JtJ30pO1xuICAgKiBkb2Muc2F2ZSgnYXV0b3ByaW50LnBkZicpO1xuICAgKi9cbiAganNQREZBUEkuYXV0b1ByaW50ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciByZWZBdXRvUHJpbnRUYWc7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy52YXJpYW50ID0gb3B0aW9ucy52YXJpYW50IHx8IFwibm9uLWNvbmZvcm1cIjtcblxuICAgIHN3aXRjaCAob3B0aW9ucy52YXJpYW50KSB7XG4gICAgICBjYXNlIFwiamF2YXNjcmlwdFwiOlxuICAgICAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9Sb2ItLVcvcGRmLmpzL2NvbW1pdC9jNjc2ZWNiNWEwZjU0Njc3YjlmMzM0MGMzZWYyY2Y0MjIyNTQ1M2JiXG4gICAgICAgIHRoaXMuYWRkSlMoXCJwcmludCh7fSk7XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJub24tY29uZm9ybVwiOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicG9zdFB1dFJlc291cmNlc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZWZBdXRvUHJpbnRUYWcgPSB0aGlzLmludGVybmFsLm5ld09iamVjdCgpO1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWwub3V0KFwiPDxcIik7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCIvUyAvTmFtZWRcIik7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCIvVHlwZSAvQWN0aW9uXCIpO1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWwub3V0KFwiL04gL1ByaW50XCIpO1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWwub3V0KFwiPj5cIik7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCJlbmRvYmpcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInB1dENhdGFsb2dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCIvT3BlbkFjdGlvbiBcIiArIHJlZkF1dG9QcmludFRhZyArIFwiIDAgUlwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0pKGpzUERGLkFQSSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgU3RldmVuIFNwdW5naW4gKFR3ZWx2ZVRvbmUgTExDKSAgc3RldmVuQHR3ZWx2ZXRvbmUudHZcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIGpzUERGIENhbnZhcyBQbHVnSW5cbiAqIFRoaXMgcGx1Z2luIG1pbWljcyB0aGUgSFRNTDUgQ2FudmFzXG4gKlxuICogVGhlIGdvYWwgaXMgdG8gcHJvdmlkZSBhIHdheSBmb3IgY3VycmVudCBjYW52YXMgdXNlcnMgdG8gcHJpbnQgZGlyZWN0bHkgdG8gYSBQREYuXG4gKiBAbmFtZSBjYW52YXNcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qKlxuICAgKiBAY2xhc3MgQ2FudmFzXG4gICAqIEBjbGFzc2Rlc2MgQSBDYW52YXMgV3JhcHBlciBmb3IganNQREZcbiAgICovXG4gIHZhciBDYW52YXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIganNQZGZJbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwZGZcIiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGpzUGRmSW5zdGFuY2U7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBqc1BkZkluc3RhbmNlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgX3dpZHRoID0gMTUwO1xuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgcHJvcGVydHkgaXMgYSBwb3NpdGl2ZSBpbnRlZ2VyIHJlZmxlY3RpbmcgdGhlIGhlaWdodCBIVE1MIGF0dHJpYnV0ZSBvZiB0aGUgPGNhbnZhcz4gZWxlbWVudCBpbnRlcnByZXRlZCBpbiBDU1MgcGl4ZWxzLiBXaGVuIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNwZWNpZmllZCwgb3IgaWYgaXQgaXMgc2V0IHRvIGFuIGludmFsaWQgdmFsdWUsIGxpa2UgYSBuZWdhdGl2ZSwgdGhlIGRlZmF1bHQgdmFsdWUgb2YgMTUwIGlzIHVzZWQuXG4gICAgICogVGhpcyBpcyBvbmUgb2YgdGhlIHR3byBwcm9wZXJ0aWVzLCB0aGUgb3RoZXIgYmVpbmcgd2lkdGgsIHRoYXQgY29udHJvbHMgdGhlIHNpemUgb2YgdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIEBuYW1lIHdpZHRoXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF93aWR0aDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChpc05hTih2YWx1ZSkgfHwgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkgPT09IGZhbHNlIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICAgIF93aWR0aCA9IDE1MDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRDb250ZXh0KFwiMmRcIikucGFnZVdyYXBYRW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZ2V0Q29udGV4dChcIjJkXCIpLnBhZ2VXcmFwWCA9IF93aWR0aCArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBfaGVpZ2h0ID0gMzAwO1xuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBwcm9wZXJ0eSBpcyBhIHBvc2l0aXZlIGludGVnZXIgcmVmbGVjdGluZyB0aGUgd2lkdGggSFRNTCBhdHRyaWJ1dGUgb2YgdGhlIDxjYW52YXM+IGVsZW1lbnQgaW50ZXJwcmV0ZWQgaW4gQ1NTIHBpeGVscy4gV2hlbiB0aGUgYXR0cmlidXRlIGlzIG5vdCBzcGVjaWZpZWQsIG9yIGlmIGl0IGlzIHNldCB0byBhbiBpbnZhbGlkIHZhbHVlLCBsaWtlIGEgbmVnYXRpdmUsIHRoZSBkZWZhdWx0IHZhbHVlIG9mIDMwMCBpcyB1c2VkLlxuICAgICAqIFRoaXMgaXMgb25lIG9mIHRoZSB0d28gcHJvcGVydGllcywgdGhlIG90aGVyIGJlaW5nIGhlaWdodCwgdGhhdCBjb250cm9scyB0aGUgc2l6ZSBvZiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogQG5hbWUgaGVpZ2h0XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfaGVpZ2h0O1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSB8fCBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSA9PT0gZmFsc2UgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgICAgX2hlaWdodCA9IDMwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfaGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0Q29udGV4dChcIjJkXCIpLnBhZ2VXcmFwWUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmdldENvbnRleHQoXCIyZFwiKS5wYWdlV3JhcFkgPSBfaGVpZ2h0ICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIF9jaGlsZE5vZGVzID0gW107XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2hpbGROb2Rlc1wiLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gX2NoaWxkTm9kZXM7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBfY2hpbGROb2RlcyA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIF9zdHlsZSA9IHt9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0eWxlXCIsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfc3R5bGU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBfc3R5bGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhcmVudE5vZGVcIiwge30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgZ2V0Q29udGV4dCgpIG1ldGhvZCByZXR1cm5zIGEgZHJhd2luZyBjb250ZXh0IG9uIHRoZSBjYW52YXMsIG9yIG51bGwgaWYgdGhlIGNvbnRleHQgaWRlbnRpZmllciBpcyBub3Qgc3VwcG9ydGVkLlxuICAgKlxuICAgKiBAbmFtZSBnZXRDb250ZXh0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dFR5cGUgSXMgYSBTdHJpbmcgY29udGFpbmluZyB0aGUgY29udGV4dCBpZGVudGlmaWVyIGRlZmluaW5nIHRoZSBkcmF3aW5nIGNvbnRleHQgYXNzb2NpYXRlZCB0byB0aGUgY2FudmFzLiBQb3NzaWJsZSB2YWx1ZSBpcyBcIjJkXCIsIGxlYWRpbmcgdG8gdGhlIGNyZWF0aW9uIG9mIGEgQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0QXR0cmlidXRlc1xuICAgKi9cbiAgQ2FudmFzLnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24oY29udGV4dFR5cGUsIGNvbnRleHRBdHRyaWJ1dGVzKSB7XG4gICAgY29udGV4dFR5cGUgPSBjb250ZXh0VHlwZSB8fCBcIjJkXCI7XG4gICAgdmFyIGtleTtcblxuICAgIGlmIChjb250ZXh0VHlwZSAhPT0gXCIyZFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gY29udGV4dEF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmICh0aGlzLnBkZi5jb250ZXh0MmQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0aGlzLnBkZi5jb250ZXh0MmRba2V5XSA9IGNvbnRleHRBdHRyaWJ1dGVzW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucGRmLmNvbnRleHQyZC5fY2FudmFzID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5wZGYuY29udGV4dDJkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgdG9EYXRhVVJMKCkgbWV0aG9kIGlzIGp1c3QgYSBzdHViIHRvIHRocm93IGFuIGVycm9yIGlmIGFjY2lkZW50bHkgY2FsbGVkLlxuICAgKlxuICAgKiBAbmFtZSB0b0RhdGFVUkxcbiAgICogQGZ1bmN0aW9uXG4gICAqL1xuICBDYW52YXMucHJvdG90eXBlLnRvRGF0YVVSTCA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInRvRGF0YVVSTCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9O1xuXG4gIGpzUERGQVBJLmV2ZW50cy5wdXNoKFtcbiAgICBcImluaXRpYWxpemVkXCIsXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoKTtcbiAgICAgIHRoaXMuY2FudmFzLnBkZiA9IHRoaXM7XG4gICAgfVxuICBdKTtcblxuICByZXR1cm4gdGhpcztcbn0pKGpzUERGLkFQSSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IChjKSAyMDEzIFlvdXNzZWYgQmVkZGFkLCB5b3Vzc2VmLmJlZGRhZEBnbWFpbC5jb21cbiAqICAgICAgICAgICAgICAgMjAxMyBFZHVhcmRvIE1lbmV6ZXMgZGUgTW9yYWlzLCBlZHVhcmRvLm1vcmFpc0B1c3AuYnJcbiAqICAgICAgICAgICAgICAgMjAxMyBMZWUgRHJpc2NvbGwsIGh0dHBzOi8vZ2l0aHViLmNvbS9sc2RyaXNjb2xsXG4gKiAgICAgICAgICAgICAgIDIwMTQgSnVhbiBQYWJsbyBHYXZpcmlhLCBodHRwczovL2dpdGh1Yi5jb20vanVhbnBnYXZpcmlhXG4gKiAgICAgICAgICAgICAgIDIwMTQgSmFtZXMgSGFsbCwgamFtZXNAcGFyYWxsLmF4XG4gKiAgICAgICAgICAgICAgIDIwMTQgRGllZ28gQ2Fzb3JyYW4sIGh0dHBzOi8vZ2l0aHViLmNvbS9kaWVnb2NyXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT05cbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuICogV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbi8qKlxuICogQG5hbWUgY2VsbFxuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE5PX01BUkdJTlMgPSB7IGxlZnQ6IDAsIHRvcDogMCwgYm90dG9tOiAwLCByaWdodDogMCB9O1xuXG4gIHZhciBweDJwdCA9ICgwLjI2NDU4MyAqIDcyKSAvIDI1LjQ7XG4gIHZhciBwcmludGluZ0hlYWRlclJvdyA9IGZhbHNlO1xuXG4gIHZhciBfaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXyA9IHt9O1xuICAgICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wYWRkaW5nID0gMztcbiAgICAgIHRoaXMuaW50ZXJuYWwuX19jZWxsX18uaGVhZGVyRnVuY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLm1hcmdpbnMgPSBPYmplY3QuYXNzaWduKHt9LCBOT19NQVJHSU5TKTtcbiAgICAgIHRoaXMuaW50ZXJuYWwuX19jZWxsX18ubWFyZ2lucy53aWR0aCA9IHRoaXMuZ2V0UGFnZVdpZHRoKCk7XG4gICAgICBfcmVzZXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIF9yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW50ZXJuYWwuX19jZWxsX18ubGFzdENlbGwgPSBuZXcgQ2VsbCgpO1xuICAgIHRoaXMuaW50ZXJuYWwuX19jZWxsX18ucGFnZXMgPSAxO1xuICB9O1xuXG4gIHZhciBDZWxsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF94ID0gYXJndW1lbnRzWzBdO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInhcIiwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfeDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF94ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIF95ID0gYXJndW1lbnRzWzFdO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInlcIiwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfeTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF95ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIF93aWR0aCA9IGFyZ3VtZW50c1syXTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aWR0aFwiLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF93aWR0aDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF93aWR0aCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBfaGVpZ2h0ID0gYXJndW1lbnRzWzNdO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlaWdodFwiLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9oZWlnaHQ7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBfaGVpZ2h0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIF90ZXh0ID0gYXJndW1lbnRzWzRdO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRcIiwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfdGV4dDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF90ZXh0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIF9saW5lTnVtYmVyID0gYXJndW1lbnRzWzVdO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmVOdW1iZXJcIiwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfbGluZU51bWJlcjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF9saW5lTnVtYmVyID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIF9hbGlnbiA9IGFyZ3VtZW50c1s2XTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhbGlnblwiLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9hbGlnbjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIF9hbGlnbiA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQ2VsbC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IENlbGwoXG4gICAgICB0aGlzLngsXG4gICAgICB0aGlzLnksXG4gICAgICB0aGlzLndpZHRoLFxuICAgICAgdGhpcy5oZWlnaHQsXG4gICAgICB0aGlzLnRleHQsXG4gICAgICB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICB0aGlzLmFsaWduXG4gICAgKTtcbiAgfTtcblxuICBDZWxsLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHRoaXMueCxcbiAgICAgIHRoaXMueSxcbiAgICAgIHRoaXMud2lkdGgsXG4gICAgICB0aGlzLmhlaWdodCxcbiAgICAgIHRoaXMudGV4dCxcbiAgICAgIHRoaXMubGluZU51bWJlcixcbiAgICAgIHRoaXMuYWxpZ25cbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBzZXRIZWFkZXJGdW5jdGlvblxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY1xuICAgKi9cbiAganNQREZBUEkuc2V0SGVhZGVyRnVuY3Rpb24gPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgX2luaXRpYWxpemUuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLmhlYWRlckZ1bmN0aW9uID1cbiAgICAgIHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIgPyBmdW5jIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBnZXRUZXh0RGltZW5zaW9uc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHR4dFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBkaW1lbnNpb25zXG4gICAqL1xuICBqc1BERkFQSS5nZXRUZXh0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgICBfaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBmb250U2l6ZSA9IG9wdGlvbnMuZm9udFNpemUgfHwgdGhpcy5nZXRGb250U2l6ZSgpO1xuICAgIHZhciBmb250ID0gb3B0aW9ucy5mb250IHx8IHRoaXMuZ2V0Rm9udCgpO1xuICAgIHZhciBzY2FsZUZhY3RvciA9IG9wdGlvbnMuc2NhbGVGYWN0b3IgfHwgdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvcjtcbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIHZhciBhbW91bnRPZkxpbmVzID0gMDtcbiAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICB2YXIgdGVtcFdpZHRoID0gMDtcbiAgICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRleHQpICYmIHR5cGVvZiB0ZXh0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAodHlwZW9mIHRleHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcImdldFRleHREaW1lbnNpb25zIGV4cGVjdHMgdGV4dC1wYXJhbWV0ZXIgdG8gYmUgb2YgdHlwZSBTdHJpbmcgb3IgdHlwZSBOdW1iZXIgb3IgYW4gQXJyYXkgb2YgU3RyaW5ncy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG1heFdpZHRoID0gb3B0aW9ucy5tYXhXaWR0aDtcbiAgICBpZiAobWF4V2lkdGggPiAwKSB7XG4gICAgICBpZiAodHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGV4dCA9IHRoaXMuc3BsaXRUZXh0VG9TaXplKHRleHQsIG1heFdpZHRoKTtcbiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRleHQpID09PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICAgICAgdGV4dCA9IHRleHQucmVkdWNlKGZ1bmN0aW9uKGFjYywgdGV4dExpbmUpIHtcbiAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChzY29wZS5zcGxpdFRleHRUb1NpemUodGV4dExpbmUsIG1heFdpZHRoKSk7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2l0aG91dCB0aGUgZWxzZSBjbGF1c2UsIGl0IHdpbGwgbm90IHdvcmsgaWYgeW91IGRvIG5vdCBwYXNzIGFsb25nIG1heFdpZHRoXG4gICAgICB0ZXh0ID0gQXJyYXkuaXNBcnJheSh0ZXh0KSA/IHRleHQgOiBbdGV4dF07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZW1wV2lkdGggPSB0aGlzLmdldFN0cmluZ1VuaXRXaWR0aCh0ZXh0W2ldLCB7IGZvbnQ6IGZvbnQgfSkgKiBmb250U2l6ZTtcbiAgICAgIGlmICh3aWR0aCA8IHRlbXBXaWR0aCkge1xuICAgICAgICB3aWR0aCA9IHRlbXBXaWR0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAod2lkdGggIT09IDApIHtcbiAgICAgIGFtb3VudE9mTGluZXMgPSB0ZXh0Lmxlbmd0aDtcbiAgICB9XG5cbiAgICB3aWR0aCA9IHdpZHRoIC8gc2NhbGVGYWN0b3I7XG4gICAgaGVpZ2h0ID0gTWF0aC5tYXgoXG4gICAgICAoYW1vdW50T2ZMaW5lcyAqIGZvbnRTaXplICogdGhpcy5nZXRMaW5lSGVpZ2h0RmFjdG9yKCkgLVxuICAgICAgICBmb250U2l6ZSAqICh0aGlzLmdldExpbmVIZWlnaHRGYWN0b3IoKSAtIDEpKSAvXG4gICAgICAgIHNjYWxlRmFjdG9yLFxuICAgICAgMFxuICAgICk7XG4gICAgcmV0dXJuIHsgdzogd2lkdGgsIGg6IGhlaWdodCB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBjZWxsQWRkUGFnZVxuICAgKiBAZnVuY3Rpb25cbiAgICovXG4gIGpzUERGQVBJLmNlbGxBZGRQYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgX2luaXRpYWxpemUuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMuYWRkUGFnZSgpO1xuXG4gICAgdmFyIG1hcmdpbnMgPSB0aGlzLmludGVybmFsLl9fY2VsbF9fLm1hcmdpbnMgfHwgTk9fTUFSR0lOUztcbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLmxhc3RDZWxsID0gbmV3IENlbGwoXG4gICAgICBtYXJnaW5zLmxlZnQsXG4gICAgICBtYXJnaW5zLnRvcCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZFxuICAgICk7XG4gICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wYWdlcyArPSAxO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIGNlbGxcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lTnVtYmVyIGxpbmVOdW1iZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFsaWduXG4gICAqIEByZXR1cm4ge2pzUERGfSBqc1BERi1pbnN0YW5jZVxuICAgKi9cbiAgdmFyIGNlbGwgPSAoanNQREZBUEkuY2VsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50Q2VsbDtcblxuICAgIGlmIChhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBDZWxsKSB7XG4gICAgICBjdXJyZW50Q2VsbCA9IGFyZ3VtZW50c1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudENlbGwgPSBuZXcgQ2VsbChcbiAgICAgICAgYXJndW1lbnRzWzBdLFxuICAgICAgICBhcmd1bWVudHNbMV0sXG4gICAgICAgIGFyZ3VtZW50c1syXSxcbiAgICAgICAgYXJndW1lbnRzWzNdLFxuICAgICAgICBhcmd1bWVudHNbNF0sXG4gICAgICAgIGFyZ3VtZW50c1s1XVxuICAgICAgKTtcbiAgICB9XG4gICAgX2luaXRpYWxpemUuY2FsbCh0aGlzKTtcbiAgICB2YXIgbGFzdENlbGwgPSB0aGlzLmludGVybmFsLl9fY2VsbF9fLmxhc3RDZWxsO1xuICAgIHZhciBwYWRkaW5nID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wYWRkaW5nO1xuICAgIHZhciBtYXJnaW5zID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5tYXJnaW5zIHx8IE5PX01BUkdJTlM7XG4gICAgdmFyIHRhYmxlSGVhZGVyUm93ID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy50YWJsZUhlYWRlclJvdztcbiAgICB2YXIgcHJpbnRIZWFkZXJzID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wcmludEhlYWRlcnM7XG4gICAgLy8gSWYgdGhpcyBpcyBub3QgdGhlIGZpcnN0IGNlbGwsIHdlIG11c3QgY2hhbmdlIGl0cyBwb3NpdGlvblxuICAgIGlmICh0eXBlb2YgbGFzdENlbGwubGluZU51bWJlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKGxhc3RDZWxsLmxpbmVOdW1iZXIgPT09IGN1cnJlbnRDZWxsLmxpbmVOdW1iZXIpIHtcbiAgICAgICAgLy9TYW1lIGxpbmVcbiAgICAgICAgY3VycmVudENlbGwueCA9IChsYXN0Q2VsbC54IHx8IDApICsgKGxhc3RDZWxsLndpZHRoIHx8IDApO1xuICAgICAgICBjdXJyZW50Q2VsbC55ID0gbGFzdENlbGwueSB8fCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9OZXcgbGluZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgbGFzdENlbGwueSArIGxhc3RDZWxsLmhlaWdodCArIGN1cnJlbnRDZWxsLmhlaWdodCArIG1hcmdpbnMuYm90dG9tID5cbiAgICAgICAgICB0aGlzLmdldFBhZ2VIZWlnaHQoKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmNlbGxBZGRQYWdlKCk7XG4gICAgICAgICAgY3VycmVudENlbGwueSA9IG1hcmdpbnMudG9wO1xuICAgICAgICAgIGlmIChwcmludEhlYWRlcnMgJiYgdGFibGVIZWFkZXJSb3cpIHtcbiAgICAgICAgICAgIHRoaXMucHJpbnRIZWFkZXJSb3coY3VycmVudENlbGwubGluZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICBjdXJyZW50Q2VsbC55ICs9IHRhYmxlSGVhZGVyUm93WzBdLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudENlbGwueSA9IGxhc3RDZWxsLnkgKyBsYXN0Q2VsbC5oZWlnaHQgfHwgY3VycmVudENlbGwueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY3VycmVudENlbGwudGV4dFswXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5yZWN0KFxuICAgICAgICBjdXJyZW50Q2VsbC54LFxuICAgICAgICBjdXJyZW50Q2VsbC55LFxuICAgICAgICBjdXJyZW50Q2VsbC53aWR0aCxcbiAgICAgICAgY3VycmVudENlbGwuaGVpZ2h0LFxuICAgICAgICBwcmludGluZ0hlYWRlclJvdyA9PT0gdHJ1ZSA/IFwiRkRcIiA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIGlmIChjdXJyZW50Q2VsbC5hbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgIHRoaXMudGV4dChcbiAgICAgICAgICBjdXJyZW50Q2VsbC50ZXh0LFxuICAgICAgICAgIGN1cnJlbnRDZWxsLnggKyBjdXJyZW50Q2VsbC53aWR0aCAtIHBhZGRpbmcsXG4gICAgICAgICAgY3VycmVudENlbGwueSArIHBhZGRpbmcsXG4gICAgICAgICAgeyBhbGlnbjogXCJyaWdodFwiLCBiYXNlbGluZTogXCJ0b3BcIiB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDZWxsLmFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgIHRoaXMudGV4dChcbiAgICAgICAgICBjdXJyZW50Q2VsbC50ZXh0LFxuICAgICAgICAgIGN1cnJlbnRDZWxsLnggKyBjdXJyZW50Q2VsbC53aWR0aCAvIDIsXG4gICAgICAgICAgY3VycmVudENlbGwueSArIHBhZGRpbmcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBiYXNlbGluZTogXCJ0b3BcIixcbiAgICAgICAgICAgIG1heFdpZHRoOiBjdXJyZW50Q2VsbC53aWR0aCAtIHBhZGRpbmcgLSBwYWRkaW5nXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50ZXh0KFxuICAgICAgICAgIGN1cnJlbnRDZWxsLnRleHQsXG4gICAgICAgICAgY3VycmVudENlbGwueCArIHBhZGRpbmcsXG4gICAgICAgICAgY3VycmVudENlbGwueSArIHBhZGRpbmcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWxpZ246IFwibGVmdFwiLFxuICAgICAgICAgICAgYmFzZWxpbmU6IFwidG9wXCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogY3VycmVudENlbGwud2lkdGggLSBwYWRkaW5nIC0gcGFkZGluZ1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5sYXN0Q2VsbCA9IGN1cnJlbnRDZWxsO1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICAvKipcbiAgICAgKiBDcmVhdGUgYSB0YWJsZSBmcm9tIGEgc2V0IG9mIGRhdGEuXG4gICAgICogQG5hbWUgdGFibGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IFt4XSA6IGxlZnQtcG9zaXRpb24gZm9yIHRvcC1sZWZ0IGNvcm5lciBvZiB0YWJsZVxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gW3ldIHRvcC1wb3NpdGlvbiBmb3IgdG9wLWxlZnQgY29ybmVyIG9mIHRhYmxlXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gW2RhdGFdIEFuIGFycmF5IG9mIG9iamVjdHMgY29udGFpbmluZyBrZXktdmFsdWUgcGFpcnMgY29ycmVzcG9uZGluZyB0byBhIHJvdyBvZiBkYXRhLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IFtoZWFkZXJzXSBPbWl0IG9yIG51bGwgdG8gYXV0by1nZW5lcmF0ZSBoZWFkZXJzIGF0IGEgcGVyZm9ybWFuY2UgY29zdFxuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcucHJpbnRIZWFkZXJzXSBUcnVlIHRvIHByaW50IGNvbHVtbiBoZWFkZXJzIGF0IHRoZSB0b3Agb2YgZXZlcnkgcGFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLmF1dG9TaXplXSBUcnVlIHRvIGR5bmFtaWNhbGx5IHNldCB0aGUgY29sdW1uIHdpZHRocyB0byBtYXRjaCB0aGUgd2lkZXN0IGNlbGwgdmFsdWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5tYXJnaW5zXSBtYXJnaW4gdmFsdWVzIGZvciBsZWZ0LCB0b3AsIGJvdHRvbSwgYW5kIHdpZHRoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuZm9udFNpemVdIEludGVnZXIgZm9udFNpemUgdG8gdXNlIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5wYWRkaW5nXSBjZWxsLXBhZGRpbmcgaW4gcHQgdG8gdXNlIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5oZWFkZXJCYWNrZ3JvdW5kQ29sb3JdIGRlZmF1bHQgaXMgI2M4YzhjOCAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjb25maWcuaGVhZGVyVGV4dENvbG9yXSBkZWZhdWx0IGlzICMwMDAgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLnJvd1N0YXJ0XSBjYWxsYmFjayB0byBoYW5kbGUgYmVmb3JlIHByaW50IGVhY2ggcm93IChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5jZWxsU3RhcnRdIGNhbGxiYWNrIHRvIGhhbmRsZSBiZWZvcmUgcHJpbnQgZWFjaCBjZWxsIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7anNQREZ9IGpzUERGLWluc3RhbmNlXG4gICAgICovXG5cbiAganNQREZBUEkudGFibGUgPSBmdW5jdGlvbih4LCB5LCBkYXRhLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICBfaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xuICAgIGlmICghZGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGF0YSBmb3IgUERGIHRhYmxlLlwiKTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBjb25maWcgfHwge307XG5cbiAgICB2YXIgaGVhZGVyTmFtZXMgPSBbXSxcbiAgICAgIGhlYWRlckxhYmVscyA9IFtdLFxuICAgICAgaGVhZGVyQWxpZ25zID0gW10sXG4gICAgICBpLFxuICAgICAgY29sdW1uTWF0cml4ID0ge30sXG4gICAgICBjb2x1bW5XaWR0aHMgPSB7fSxcbiAgICAgIGNvbHVtbixcbiAgICAgIGNvbHVtbk1pbldpZHRocyA9IFtdLFxuICAgICAgaixcbiAgICAgIHRhYmxlSGVhZGVyQ29uZmlncyA9IFtdLFxuICAgICAgLy9zZXQgdXAgZGVmYXVsdHMuIElmIGEgdmFsdWUgaXMgcHJvdmlkZWQgaW4gY29uZmlnLCBkZWZhdWx0cyB3aWxsIGJlIG92ZXJ3cml0dGVuOlxuICAgICAgYXV0b1NpemUgPSBjb25maWcuYXV0b1NpemUgfHwgZmFsc2UsXG4gICAgICBwcmludEhlYWRlcnMgPSBjb25maWcucHJpbnRIZWFkZXJzID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgIGZvbnRTaXplID1cbiAgICAgICAgY29uZmlnLmNzcyAmJiB0eXBlb2YgY29uZmlnLmNzc1tcImZvbnQtc2l6ZVwiXSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgID8gY29uZmlnLmNzc1tcImZvbnQtc2l6ZVwiXSAqIDE2XG4gICAgICAgICAgOiBjb25maWcuZm9udFNpemUgfHwgMTIsXG4gICAgICBtYXJnaW5zID1cbiAgICAgICAgY29uZmlnLm1hcmdpbnMgfHxcbiAgICAgICAgT2JqZWN0LmFzc2lnbih7IHdpZHRoOiB0aGlzLmdldFBhZ2VXaWR0aCgpIH0sIE5PX01BUkdJTlMpLFxuICAgICAgcGFkZGluZyA9IHR5cGVvZiBjb25maWcucGFkZGluZyA9PT0gXCJudW1iZXJcIiA/IGNvbmZpZy5wYWRkaW5nIDogMyxcbiAgICAgIGhlYWRlckJhY2tncm91bmRDb2xvciA9IGNvbmZpZy5oZWFkZXJCYWNrZ3JvdW5kQ29sb3IgfHwgXCIjYzhjOGM4XCIsXG4gICAgICBoZWFkZXJUZXh0Q29sb3IgPSBjb25maWcuaGVhZGVyVGV4dENvbG9yIHx8IFwiIzAwMFwiO1xuXG4gICAgX3Jlc2V0LmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLnByaW50SGVhZGVycyA9IHByaW50SGVhZGVycztcbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLm1hcmdpbnMgPSBtYXJnaW5zO1xuICAgIHRoaXMuaW50ZXJuYWwuX19jZWxsX18udGFibGVfZm9udF9zaXplID0gZm9udFNpemU7XG4gICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wYWRkaW5nID0gcGFkZGluZztcbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLmhlYWRlckJhY2tncm91bmRDb2xvciA9IGhlYWRlckJhY2tncm91bmRDb2xvcjtcbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLmhlYWRlclRleHRDb2xvciA9IGhlYWRlclRleHRDb2xvcjtcbiAgICB0aGlzLnNldEZvbnRTaXplKGZvbnRTaXplKTtcblxuICAgIC8vIFNldCBoZWFkZXIgdmFsdWVzXG4gICAgaWYgKGhlYWRlcnMgPT09IHVuZGVmaW5lZCB8fCBoZWFkZXJzID09PSBudWxsKSB7XG4gICAgICAvLyBObyBoZWFkZXJzIGRlZmluZWQgc28gd2UgZGVyaXZlIGZyb20gZGF0YVxuICAgICAgaGVhZGVyTmFtZXMgPSBPYmplY3Qua2V5cyhkYXRhWzBdKTtcbiAgICAgIGhlYWRlckxhYmVscyA9IGhlYWRlck5hbWVzO1xuICAgICAgaGVhZGVyQWxpZ25zID0gaGVhZGVyTmFtZXMubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gXCJsZWZ0XCI7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykgJiYgdHlwZW9mIGhlYWRlcnNbMF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGhlYWRlck5hbWVzID0gaGVhZGVycy5tYXAoZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXIubmFtZTtcbiAgICAgIH0pO1xuICAgICAgaGVhZGVyTGFiZWxzID0gaGVhZGVycy5tYXAoZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXIucHJvbXB0IHx8IGhlYWRlci5uYW1lIHx8IFwiXCI7XG4gICAgICB9KTtcbiAgICAgIGhlYWRlckFsaWducyA9IGhlYWRlcnMubWFwKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICByZXR1cm4gaGVhZGVyLmFsaWduIHx8IFwibGVmdFwiO1xuICAgICAgfSk7XG4gICAgICAvLyBTcGxpdCBoZWFkZXIgY29uZmlncyBpbnRvIG5hbWVzIGFuZCBwcm9tcHRzXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb2x1bW5XaWR0aHNbaGVhZGVyc1tpXS5uYW1lXSA9IGhlYWRlcnNbaV0ud2lkdGggKiBweDJwdDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykgJiYgdHlwZW9mIGhlYWRlcnNbMF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGhlYWRlck5hbWVzID0gaGVhZGVycztcbiAgICAgIGhlYWRlckxhYmVscyA9IGhlYWRlck5hbWVzO1xuICAgICAgaGVhZGVyQWxpZ25zID0gaGVhZGVyTmFtZXMubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gXCJsZWZ0XCI7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBhdXRvU2l6ZSB8fFxuICAgICAgKEFycmF5LmlzQXJyYXkoaGVhZGVycykgJiYgdHlwZW9mIGhlYWRlcnNbMF0gPT09IFwic3RyaW5nXCIpXG4gICAgKSB7XG4gICAgICB2YXIgaGVhZGVyTmFtZTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBoZWFkZXJOYW1lcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBoZWFkZXJOYW1lID0gaGVhZGVyTmFtZXNbaV07XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgbWF0cml4IG9mIGNvbHVtbnMgZS5nLiwge2NvbHVtbl90aXRsZTogW3JvdzFfUmVjb3JkLCByb3cyX1JlY29yZF19XG5cbiAgICAgICAgY29sdW1uTWF0cml4W2hlYWRlck5hbWVdID0gZGF0YS5tYXAoZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgcmV0dXJuIHJlY1toZWFkZXJOYW1lXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZ2V0IGhlYWRlciB3aWR0aFxuICAgICAgICB0aGlzLnNldEZvbnQodW5kZWZpbmVkLCBcImJvbGRcIik7XG4gICAgICAgIGNvbHVtbk1pbldpZHRocy5wdXNoKFxuICAgICAgICAgIHRoaXMuZ2V0VGV4dERpbWVuc2lvbnMoaGVhZGVyTGFiZWxzW2ldLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy50YWJsZV9mb250X3NpemUsXG4gICAgICAgICAgICBzY2FsZUZhY3RvcjogdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvclxuICAgICAgICAgIH0pLndcbiAgICAgICAgKTtcbiAgICAgICAgY29sdW1uID0gY29sdW1uTWF0cml4W2hlYWRlck5hbWVdO1xuXG4gICAgICAgIC8vIGdldCBjZWxsIHdpZHRoc1xuICAgICAgICB0aGlzLnNldEZvbnQodW5kZWZpbmVkLCBcIm5vcm1hbFwiKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbHVtbi5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgIGNvbHVtbk1pbldpZHRocy5wdXNoKFxuICAgICAgICAgICAgdGhpcy5nZXRUZXh0RGltZW5zaW9ucyhjb2x1bW5bal0sIHtcbiAgICAgICAgICAgICAgZm9udFNpemU6IHRoaXMuaW50ZXJuYWwuX19jZWxsX18udGFibGVfZm9udF9zaXplLFxuICAgICAgICAgICAgICBzY2FsZUZhY3RvcjogdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvclxuICAgICAgICAgICAgfSkud1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgZmluYWwgY29sdW1uIHdpZHRoXG4gICAgICAgIGNvbHVtbldpZHRoc1toZWFkZXJOYW1lXSA9XG4gICAgICAgICAgTWF0aC5tYXguYXBwbHkobnVsbCwgY29sdW1uTWluV2lkdGhzKSArIHBhZGRpbmcgKyBwYWRkaW5nO1xuXG4gICAgICAgIC8vaGF2ZSB0byByZXNldFxuICAgICAgICBjb2x1bW5NaW5XaWR0aHMgPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLSBDb25zdHJ1Y3QgdGhlIHRhYmxlXG5cbiAgICBpZiAocHJpbnRIZWFkZXJzKSB7XG4gICAgICB2YXIgcm93ID0ge307XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaGVhZGVyTmFtZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcm93W2hlYWRlck5hbWVzW2ldXSA9IHt9O1xuICAgICAgICByb3dbaGVhZGVyTmFtZXNbaV1dLnRleHQgPSBoZWFkZXJMYWJlbHNbaV07XG4gICAgICAgIHJvd1toZWFkZXJOYW1lc1tpXV0uYWxpZ24gPSBoZWFkZXJBbGlnbnNbaV07XG4gICAgICB9XG5cbiAgICAgIHZhciByb3dIZWlnaHQgPSBjYWxjdWxhdGVMaW5lSGVpZ2h0LmNhbGwodGhpcywgcm93LCBjb2x1bW5XaWR0aHMpO1xuXG4gICAgICAvLyBDb25zdHJ1Y3QgdGhlIGhlYWRlciByb3dcbiAgICAgIHRhYmxlSGVhZGVyQ29uZmlncyA9IGhlYWRlck5hbWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IENlbGwoXG4gICAgICAgICAgeCxcbiAgICAgICAgICB5LFxuICAgICAgICAgIGNvbHVtbldpZHRoc1t2YWx1ZV0sXG4gICAgICAgICAgcm93SGVpZ2h0LFxuICAgICAgICAgIHJvd1t2YWx1ZV0udGV4dCxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgcm93W3ZhbHVlXS5hbGlnblxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSB0YWJsZSBoZWFkZXIgY29uZmlnXG4gICAgICB0aGlzLnNldFRhYmxlSGVhZGVyUm93KHRhYmxlSGVhZGVyQ29uZmlncyk7XG5cbiAgICAgIC8vIFByaW50IHRoZSBoZWFkZXIgZm9yIHRoZSBzdGFydCBvZiB0aGUgdGFibGVcbiAgICAgIHRoaXMucHJpbnRIZWFkZXJSb3coMSwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIENvbnN0cnVjdCB0aGUgZGF0YSByb3dzXG5cbiAgICB2YXIgYWxpZ24gPSBoZWFkZXJzLnJlZHVjZShmdW5jdGlvbihwdiwgY3YpIHtcbiAgICAgIHB2W2N2Lm5hbWVdID0gY3YuYWxpZ247XG4gICAgICByZXR1cm4gcHY7XG4gICAgfSwge30pO1xuICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoXCJyb3dTdGFydFwiIGluIGNvbmZpZyAmJiBjb25maWcucm93U3RhcnQgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICBjb25maWcucm93U3RhcnQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm93OiBpLFxuICAgICAgICAgICAgZGF0YTogZGF0YVtpXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGhpc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdmFyIGxpbmVIZWlnaHQgPSBjYWxjdWxhdGVMaW5lSGVpZ2h0LmNhbGwodGhpcywgZGF0YVtpXSwgY29sdW1uV2lkdGhzKTtcblxuICAgICAgZm9yIChqID0gMDsgaiA8IGhlYWRlck5hbWVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHZhciBjZWxsRGF0YSA9IGRhdGFbaV1baGVhZGVyTmFtZXNbal1dO1xuICAgICAgICBpZiAoXCJjZWxsU3RhcnRcIiBpbiBjb25maWcgJiYgY29uZmlnLmNlbGxTdGFydCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgY29uZmlnLmNlbGxTdGFydChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm93OiBpLFxuICAgICAgICAgICAgICBjb2w6IGosXG4gICAgICAgICAgICAgIGRhdGE6IGNlbGxEYXRhXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY2VsbC5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgbmV3IENlbGwoXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoc1toZWFkZXJOYW1lc1tqXV0sXG4gICAgICAgICAgICBsaW5lSGVpZ2h0LFxuICAgICAgICAgICAgY2VsbERhdGEsXG4gICAgICAgICAgICBpICsgMixcbiAgICAgICAgICAgIGFsaWduW2hlYWRlck5hbWVzW2pdXVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy50YWJsZV94ID0geDtcbiAgICB0aGlzLmludGVybmFsLl9fY2VsbF9fLnRhYmxlX3kgPSB5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGhlaWdodCBmb3IgY29udGFpbmluZyB0aGUgaGlnaGVzdCBjb2x1bW5cbiAgICpcbiAgICogQG5hbWUgY2FsY3VsYXRlTGluZUhlaWdodFxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtPYmplY3RbXX0gbW9kZWwgaXMgdGhlIGxpbmUgb2YgZGF0YSB3ZSB3YW50IHRvIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mXG4gICAqIEBwYXJhbSB7SW50ZWdlcltdfSBjb2x1bW5XaWR0aHMgaXMgc2l6ZSBvZiBlYWNoIGNvbHVtblxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBsaW5lSGVpZ2h0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB2YXIgY2FsY3VsYXRlTGluZUhlaWdodCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxpbmVIZWlnaHQobW9kZWwsIGNvbHVtbldpZHRocykge1xuICAgIHZhciBwYWRkaW5nID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wYWRkaW5nO1xuICAgIHZhciBmb250U2l6ZSA9IHRoaXMuaW50ZXJuYWwuX19jZWxsX18udGFibGVfZm9udF9zaXplO1xuICAgIHZhciBzY2FsZUZhY3RvciA9IHRoaXMuaW50ZXJuYWwuc2NhbGVGYWN0b3I7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMobW9kZWwpXG4gICAgICAubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBtb2RlbFtrZXldO1xuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdFRleHRUb1NpemUoXG4gICAgICAgICAgdmFsdWUuaGFzT3duUHJvcGVydHkoXCJ0ZXh0XCIpID8gdmFsdWUudGV4dCA6IHZhbHVlLFxuICAgICAgICAgIGNvbHVtbldpZHRoc1trZXldIC0gcGFkZGluZyAtIHBhZGRpbmdcbiAgICAgICAgKTtcbiAgICAgIH0sIHRoaXMpXG4gICAgICAubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKHRoaXMuZ2V0TGluZUhlaWdodEZhY3RvcigpICogdmFsdWUubGVuZ3RoICogZm9udFNpemUpIC8gc2NhbGVGYWN0b3IgK1xuICAgICAgICAgIHBhZGRpbmcgK1xuICAgICAgICAgIHBhZGRpbmdcbiAgICAgICAgKTtcbiAgICAgIH0sIHRoaXMpXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uKHB2LCBjdikge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgocHYsIGN2KTtcbiAgICAgIH0sIDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9yZSB0aGUgY29uZmlnIGZvciBvdXRwdXR0aW5nIGEgdGFibGUgaGVhZGVyXG4gICAqXG4gICAqIEBuYW1lIHNldFRhYmxlSGVhZGVyUm93XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdFtdfSBjb25maWdcbiAgICogQW4gYXJyYXkgb2YgY2VsbCBjb25maWdzIHRoYXQgd291bGQgZGVmaW5lIGEgaGVhZGVyIHJvdzogRWFjaCBjb25maWcgbWF0Y2hlcyB0aGUgY29uZmlnIHVzZWQgYnkganNQREZBUEkuY2VsbFxuICAgKiBleGNlcHQgdGhlIGxpbmVOdW1iZXIgcGFyYW1ldGVyIGlzIGV4Y2x1ZGVkXG4gICAqL1xuICBqc1BERkFQSS5zZXRUYWJsZUhlYWRlclJvdyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgIF9pbml0aWFsaXplLmNhbGwodGhpcyk7XG4gICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy50YWJsZUhlYWRlclJvdyA9IGNvbmZpZztcbiAgfTtcblxuICAvKipcbiAgICogT3V0cHV0IHRoZSBzdG9yZSBoZWFkZXIgcm93XG4gICAqXG4gICAqIEBuYW1lIHByaW50SGVhZGVyUm93XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gbGluZU51bWJlciBUaGUgbGluZSBudW1iZXIgdG8gb3V0cHV0IHRoZSBoZWFkZXIgYXRcbiAgICogQHBhcmFtIHtib29sZWFufSBuZXdfcGFnZVxuICAgKi9cbiAganNQREZBUEkucHJpbnRIZWFkZXJSb3cgPSBmdW5jdGlvbihsaW5lTnVtYmVyLCBuZXdfcGFnZSkge1xuICAgIF9pbml0aWFsaXplLmNhbGwodGhpcyk7XG4gICAgaWYgKCF0aGlzLmludGVybmFsLl9fY2VsbF9fLnRhYmxlSGVhZGVyUm93KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9wZXJ0eSB0YWJsZUhlYWRlclJvdyBkb2VzIG5vdCBleGlzdC5cIik7XG4gICAgfVxuXG4gICAgdmFyIHRhYmxlSGVhZGVyQ2VsbDtcblxuICAgIHByaW50aW5nSGVhZGVyUm93ID0gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIHRoaXMuaW50ZXJuYWwuX19jZWxsX18uaGVhZGVyRnVuY3Rpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5oZWFkZXJGdW5jdGlvbihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5wYWdlc1xuICAgICAgKTtcbiAgICAgIHRoaXMuaW50ZXJuYWwuX19jZWxsX18ubGFzdENlbGwgPSBuZXcgQ2VsbChcbiAgICAgICAgcG9zaXRpb25bMF0sXG4gICAgICAgIHBvc2l0aW9uWzFdLFxuICAgICAgICBwb3NpdGlvblsyXSxcbiAgICAgICAgcG9zaXRpb25bM10sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgLTFcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuc2V0Rm9udCh1bmRlZmluZWQsIFwiYm9sZFwiKTtcblxuICAgIHZhciB0ZW1wSGVhZGVyQ29uZiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy50YWJsZUhlYWRlclJvdy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgdGFibGVIZWFkZXJDZWxsID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy50YWJsZUhlYWRlclJvd1tpXS5jbG9uZSgpO1xuICAgICAgaWYgKG5ld19wYWdlKSB7XG4gICAgICAgIHRhYmxlSGVhZGVyQ2VsbC55ID0gdGhpcy5pbnRlcm5hbC5fX2NlbGxfXy5tYXJnaW5zLnRvcCB8fCAwO1xuICAgICAgICB0ZW1wSGVhZGVyQ29uZi5wdXNoKHRhYmxlSGVhZGVyQ2VsbCk7XG4gICAgICB9XG4gICAgICB0YWJsZUhlYWRlckNlbGwubGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICB2YXIgY3VycmVudFRleHRDb2xvciA9IHRoaXMuZ2V0VGV4dENvbG9yKCk7XG4gICAgICB0aGlzLnNldFRleHRDb2xvcih0aGlzLmludGVybmFsLl9fY2VsbF9fLmhlYWRlclRleHRDb2xvcik7XG4gICAgICB0aGlzLnNldEZpbGxDb2xvcih0aGlzLmludGVybmFsLl9fY2VsbF9fLmhlYWRlckJhY2tncm91bmRDb2xvcik7XG4gICAgICBjZWxsLmNhbGwodGhpcywgdGFibGVIZWFkZXJDZWxsKTtcbiAgICAgIHRoaXMuc2V0VGV4dENvbG9yKGN1cnJlbnRUZXh0Q29sb3IpO1xuICAgIH1cbiAgICBpZiAodGVtcEhlYWRlckNvbmYubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5zZXRUYWJsZUhlYWRlclJvdyh0ZW1wSGVhZGVyQ29uZik7XG4gICAgfVxuICAgIHRoaXMuc2V0Rm9udCh1bmRlZmluZWQsIFwibm9ybWFsXCIpO1xuICAgIHByaW50aW5nSGVhZGVyUm93ID0gZmFsc2U7XG4gIH07XG59KShqc1BERi5BUEkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAoYykgMjAxMyBZb3Vzc2VmIEJlZGRhZCwgeW91c3NlZi5iZWRkYWRAZ21haWwuY29tXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT05cbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuICogV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbi8qKlxuICoganNQREYgSmF2YVNjcmlwdCBwbHVnaW5cbiAqXG4gKiBAbmFtZSBqYXZhc2NyaXB0XG4gKiBAbW9kdWxlXG4gKi9cbihmdW5jdGlvbihqc1BERkFQSSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIGpzTmFtZXNPYmosIGpzSnNPYmosIHRleHQ7XG4gIC8qKlxuICAgKiBAbmFtZSBhZGRKU1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGphdmFzY3JpcHQgVGhlIGphdmFzY3JpcHQgdG8gYmUgZW1iZWRkZWQgaW50byB0aGUgUERGLWZpbGUuXG4gICAqIEByZXR1cm5zIHtqc1BERn1cbiAgICovXG4gIGpzUERGQVBJLmFkZEpTID0gZnVuY3Rpb24oamF2YXNjcmlwdCkge1xuICAgIHRleHQgPSBqYXZhc2NyaXB0O1xuICAgIHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInBvc3RQdXRSZXNvdXJjZXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBqc05hbWVzT2JqID0gdGhpcy5pbnRlcm5hbC5uZXdPYmplY3QoKTtcbiAgICAgIHRoaXMuaW50ZXJuYWwub3V0KFwiPDxcIik7XG4gICAgICB0aGlzLmludGVybmFsLm91dChcIi9OYW1lcyBbKEVtYmVkZGVkSlMpIFwiICsgKGpzTmFtZXNPYmogKyAxKSArIFwiIDAgUl1cIik7XG4gICAgICB0aGlzLmludGVybmFsLm91dChcIj4+XCIpO1xuICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCJlbmRvYmpcIik7XG5cbiAgICAgIGpzSnNPYmogPSB0aGlzLmludGVybmFsLm5ld09iamVjdCgpO1xuICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCI8PFwiKTtcbiAgICAgIHRoaXMuaW50ZXJuYWwub3V0KFwiL1MgL0phdmFTY3JpcHRcIik7XG4gICAgICB0aGlzLmludGVybmFsLm91dChcIi9KUyAoXCIgKyB0ZXh0ICsgXCIpXCIpO1xuICAgICAgdGhpcy5pbnRlcm5hbC5vdXQoXCI+PlwiKTtcbiAgICAgIHRoaXMuaW50ZXJuYWwub3V0KFwiZW5kb2JqXCIpO1xuICAgIH0pO1xuICAgIHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInB1dENhdGFsb2dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoanNOYW1lc09iaiAhPT0gdW5kZWZpbmVkICYmIGpzSnNPYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmludGVybmFsLm91dChcIi9OYW1lcyA8PC9KYXZhU2NyaXB0IFwiICsganNOYW1lc09iaiArIFwiIDAgUj4+XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSkoanNQREYuQVBJKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWZhbGx0aHJvdWdoICovXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cclxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIGpzUERGIENvbnRleHQyRCBQbHVnSW4gQ29weXJpZ2h0IChjKSAyMDE0IFN0ZXZlbiBTcHVuZ2luIChUd2VsdmVUb25lIExMQykgc3RldmVuQHR3ZWx2ZXRvbmUudHZcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcclxuICovXHJcblxyXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xyXG5pbXBvcnQgeyBSR0JDb2xvciB9IGZyb20gXCIuLi9saWJzL3JnYmNvbG9yLmpzXCI7XHJcbmltcG9ydCB7IGNvbnNvbGUgfSBmcm9tIFwiLi4vbGlicy9jb25zb2xlLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgYnVpbGRGb250RmFjZU1hcCxcclxuICBwYXJzZUZvbnRGYW1pbHksXHJcbiAgcmVzb2x2ZUZvbnRGYWNlXHJcbn0gZnJvbSBcIi4uL2xpYnMvZm9udEZhY2UuanNcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHBsdWdpbiBtaW1pY3MgdGhlIEhUTUw1IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5cclxuICpcclxuICogVGhlIGdvYWwgaXMgdG8gcHJvdmlkZSBhIHdheSBmb3IgY3VycmVudCBjYW52YXMgaW1wbGVtZW50YXRpb25zIHRvIHByaW50IGRpcmVjdGx5IHRvIGEgUERGLlxyXG4gKlxyXG4gKiBAbmFtZSBjb250ZXh0MmRcclxuICogQG1vZHVsZVxyXG4gKi9cclxuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XHJcbiAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgdmFyIENvbnRleHRMYXllciA9IGZ1bmN0aW9uKGN0eCkge1xyXG4gICAgY3R4ID0gY3R4IHx8IHt9O1xyXG4gICAgdGhpcy5pc1N0cm9rZVRyYW5zcGFyZW50ID0gY3R4LmlzU3Ryb2tlVHJhbnNwYXJlbnQgfHwgZmFsc2U7XHJcbiAgICB0aGlzLnN0cm9rZU9wYWNpdHkgPSBjdHguc3Ryb2tlT3BhY2l0eSB8fCAxO1xyXG4gICAgdGhpcy5zdHJva2VTdHlsZSA9IGN0eC5zdHJva2VTdHlsZSB8fCBcIiMwMDAwMDBcIjtcclxuICAgIHRoaXMuZmlsbFN0eWxlID0gY3R4LmZpbGxTdHlsZSB8fCBcIiMwMDAwMDBcIjtcclxuICAgIHRoaXMuaXNGaWxsVHJhbnNwYXJlbnQgPSBjdHguaXNGaWxsVHJhbnNwYXJlbnQgfHwgZmFsc2U7XHJcbiAgICB0aGlzLmZpbGxPcGFjaXR5ID0gY3R4LmZpbGxPcGFjaXR5IHx8IDE7XHJcbiAgICB0aGlzLmZvbnQgPSBjdHguZm9udCB8fCBcIjEwcHggc2Fucy1zZXJpZlwiO1xyXG4gICAgdGhpcy50ZXh0QmFzZWxpbmUgPSBjdHgudGV4dEJhc2VsaW5lIHx8IFwiYWxwaGFiZXRpY1wiO1xyXG4gICAgdGhpcy50ZXh0QWxpZ24gPSBjdHgudGV4dEFsaWduIHx8IFwibGVmdFwiO1xyXG4gICAgdGhpcy5saW5lV2lkdGggPSBjdHgubGluZVdpZHRoIHx8IDE7XHJcbiAgICB0aGlzLmxpbmVKb2luID0gY3R4LmxpbmVKb2luIHx8IFwibWl0ZXJcIjtcclxuICAgIHRoaXMubGluZUNhcCA9IGN0eC5saW5lQ2FwIHx8IFwiYnV0dFwiO1xyXG4gICAgdGhpcy5wYXRoID0gY3R4LnBhdGggfHwgW107XHJcbiAgICB0aGlzLnRyYW5zZm9ybSA9XHJcbiAgICAgIHR5cGVvZiBjdHgudHJhbnNmb3JtICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgPyBjdHgudHJhbnNmb3JtLmNsb25lKClcclxuICAgICAgICA6IG5ldyBNYXRyaXgoKTtcclxuICAgIHRoaXMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiB8fCBcIm5vcm1hbFwiO1xyXG4gICAgdGhpcy5nbG9iYWxBbHBoYSA9IGN0eC5nbG9iYWxBbHBoYSB8fCAxLjA7XHJcbiAgICB0aGlzLmNsaXBfcGF0aCA9IGN0eC5jbGlwX3BhdGggfHwgW107XHJcbiAgICB0aGlzLmN1cnJlbnRQb2ludCA9IGN0eC5jdXJyZW50UG9pbnQgfHwgbmV3IFBvaW50KCk7XHJcbiAgICB0aGlzLm1pdGVyTGltaXQgPSBjdHgubWl0ZXJMaW1pdCB8fCAxMC4wO1xyXG4gICAgdGhpcy5sYXN0UG9pbnQgPSBjdHgubGFzdFBvaW50IHx8IG5ldyBQb2ludCgpO1xyXG4gICAgdGhpcy5saW5lRGFzaE9mZnNldCA9IGN0eC5saW5lRGFzaE9mZnNldCB8fCAwLjA7XHJcbiAgICB0aGlzLmxpbmVEYXNoID0gY3R4LmxpbmVEYXNoIHx8IFtdO1xyXG4gICAgdGhpcy5tYXJnaW4gPSBjdHgubWFyZ2luIHx8IFswLCAwLCAwLCAwXTtcclxuICAgIHRoaXMucHJldlBhZ2VMYXN0RWxlbU9mZnNldCA9IGN0eC5wcmV2UGFnZUxhc3RFbGVtT2Zmc2V0IHx8IDA7XHJcblxyXG4gICAgdGhpcy5pZ25vcmVDbGVhclJlY3QgPVxyXG4gICAgICB0eXBlb2YgY3R4Lmlnbm9yZUNsZWFyUmVjdCA9PT0gXCJib29sZWFuXCIgPyBjdHguaWdub3JlQ2xlYXJSZWN0IDogdHJ1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcblxyXG4gIC8vc3R1YlxyXG4gIHZhciBmMixcclxuICAgIGdldEhvcml6b250YWxDb29yZGluYXRlU3RyaW5nLFxyXG4gICAgZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nLFxyXG4gICAgZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUsXHJcbiAgICBnZXRWZXJ0aWNhbENvb3JkaW5hdGUsXHJcbiAgICBQb2ludCxcclxuICAgIFJlY3RhbmdsZSxcclxuICAgIE1hdHJpeCxcclxuICAgIF9jdHg7XHJcbiAganNQREZBUEkuZXZlbnRzLnB1c2goW1xyXG4gICAgXCJpbml0aWFsaXplZFwiLFxyXG4gICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuY29udGV4dDJkID0gbmV3IENvbnRleHQyRCh0aGlzKTtcclxuXHJcbiAgICAgIGYyID0gdGhpcy5pbnRlcm5hbC5mMjtcclxuICAgICAgZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGVTdHJpbmcgPSB0aGlzLmludGVybmFsLmdldENvb3JkaW5hdGVTdHJpbmc7XHJcbiAgICAgIGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyA9IHRoaXMuaW50ZXJuYWwuZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nO1xyXG4gICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZSA9IHRoaXMuaW50ZXJuYWwuZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGU7XHJcbiAgICAgIGdldFZlcnRpY2FsQ29vcmRpbmF0ZSA9IHRoaXMuaW50ZXJuYWwuZ2V0VmVydGljYWxDb29yZGluYXRlO1xyXG4gICAgICBQb2ludCA9IHRoaXMuaW50ZXJuYWwuUG9pbnQ7XHJcbiAgICAgIFJlY3RhbmdsZSA9IHRoaXMuaW50ZXJuYWwuUmVjdGFuZ2xlO1xyXG4gICAgICBNYXRyaXggPSB0aGlzLmludGVybmFsLk1hdHJpeDtcclxuICAgICAgX2N0eCA9IG5ldyBDb250ZXh0TGF5ZXIoKTtcclxuICAgIH1cclxuICBdKTtcclxuXHJcbiAgdmFyIENvbnRleHQyRCA9IGZ1bmN0aW9uKHBkZikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FudmFzXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4geyBwYXJlbnROb2RlOiBmYWxzZSwgc3R5bGU6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfcGRmID0gcGRmO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGRmXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3BkZjtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIF9wYWdlV3JhcFhFbmFibGVkID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lIHBhZ2VXcmFwWEVuYWJsZWRcclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGFnZVdyYXBYRW5hYmxlZFwiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9wYWdlV3JhcFhFbmFibGVkO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgX3BhZ2VXcmFwWEVuYWJsZWQgPSBCb29sZWFuKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIF9wYWdlV3JhcFlFbmFibGVkID0gZmFsc2U7XHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lIHBhZ2VXcmFwWUVuYWJsZWRcclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYWdlV3JhcFlFbmFibGVkXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3BhZ2VXcmFwWUVuYWJsZWQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBfcGFnZVdyYXBZRW5hYmxlZCA9IEJvb2xlYW4odmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgX3Bvc1ggPSAwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSBwb3NYXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICogQGRlZmF1bHQgMFxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb3NYXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX3Bvc1g7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgX3Bvc1ggPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfcG9zWSA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lIHBvc1lcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAZGVmYXVsdCAwXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBvc1lcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBfcG9zWTtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICBfcG9zWSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIHBhZ2UgbWFyZ2luIHdoZW4gdXNpbmcgYXV0byBwYWdpbmcuIEhhcyBubyBlZmZlY3Qgd2hlbiB7QGxpbmsgYXV0b1BhZ2luZ30gaXMgb2ZmLlxyXG4gICAgICogQG5hbWUgbWFyZ2luXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfG51bWJlcltdfVxyXG4gICAgICogQGRlZmF1bHQgWzAsIDAsIDAsIDBdXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1hcmdpblwiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9jdHgubWFyZ2luO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIG1hcmdpbjtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICBtYXJnaW4gPSBbdmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtYXJnaW4gPSBuZXcgQXJyYXkoNCk7XHJcbiAgICAgICAgICBtYXJnaW5bMF0gPSB2YWx1ZVswXTtcclxuICAgICAgICAgIG1hcmdpblsxXSA9IHZhbHVlLmxlbmd0aCA+PSAyID8gdmFsdWVbMV0gOiBtYXJnaW5bMF07XHJcbiAgICAgICAgICBtYXJnaW5bMl0gPSB2YWx1ZS5sZW5ndGggPj0gMyA/IHZhbHVlWzJdIDogbWFyZ2luWzBdO1xyXG4gICAgICAgICAgbWFyZ2luWzNdID0gdmFsdWUubGVuZ3RoID49IDQgPyB2YWx1ZVszXSA6IG1hcmdpblsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX2N0eC5tYXJnaW4gPSBtYXJnaW47XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfYXV0b1BhZ2luZyA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGF1dG8gcGFnaW5nIG1vZGUuIFdoZW4gYXV0byBwYWdpbmcgaXMgZW5hYmxlZCwgdGhlIGNvbnRleHQyZCB3aWxsIGF1dG9tYXRpY2FsbHkgZHJhdyBvbiB0aGVcclxuICAgICAqIG5leHQgcGFnZSBpZiBhIHNoYXBlIG9yIHRleHQgY2h1bmsgZG9lc24ndCBmaXQgZW50aXJlbHkgb24gdGhlIGN1cnJlbnQgcGFnZS4gVGhlIGNvbnRleHQyZCB3aWxsIGNyZWF0ZSBuZXdcclxuICAgICAqIHBhZ2VzIGlmIHJlcXVpcmVkLlxyXG4gICAgICpcclxuICAgICAqIENvbnRleHQyZCBzdXBwb3J0cyBkaWZmZXJlbnQgbW9kZXM6XHJcbiAgICAgKiA8dWw+XHJcbiAgICAgKiA8bGk+XHJcbiAgICAgKiAgIDxjb2RlPmZhbHNlPC9jb2RlPjogQXV0byBwYWdpbmcgaXMgZGlzYWJsZWQuXHJcbiAgICAgKiA8L2xpPlxyXG4gICAgICogPGxpPlxyXG4gICAgICogICA8Y29kZT50cnVlPC9jb2RlPiBvciA8Y29kZT4nc2xpY2UnPC9jb2RlPjogV2lsbCBjdXQgc2hhcGVzIG9yIHRleHQgY2h1bmtzIGFjcm9zcyBwYWdlIGJyZWFrcy4gV2lsbCBwb3NzaWJseVxyXG4gICAgICogICBzbGljZSB0ZXh0IGluIGhhbGYsIG1ha2luZyBpdCBkaWZmaWN1bHQgdG8gcmVhZC5cclxuICAgICAqIDwvbGk+XHJcbiAgICAgKiA8bGk+XHJcbiAgICAgKiAgIDxjb2RlPid0ZXh0JzwvY29kZT46IFRyeXMgbm90IHRvIGN1dCB0ZXh0IGluIGhhbGYgYWNyb3NzIHBhZ2UgYnJlYWtzLiBXb3JrcyBiZXN0IGZvciBkb2N1bWVudHMgY29uc2lzdGluZ1xyXG4gICAgICogICBtb3N0bHkgb2YgYSBzaW5nbGUgY29sdW1uIG9mIHRleHQuXHJcbiAgICAgKiA8L2xpPlxyXG4gICAgICogPC91bD5cclxuICAgICAqIEBuYW1lIENvbnRleHQyRCNhdXRvUGFnaW5nXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbnxcInNsaWNlXCJ8XCJ0ZXh0XCJ9XHJcbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJhdXRvUGFnaW5nXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2F1dG9QYWdpbmc7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBfYXV0b1BhZ2luZyA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgbGFzdEJyZWFrID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogQG5hbWUgbGFzdEJyZWFrXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICogQGRlZmF1bHQgMFxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXN0QnJlYWtcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBsYXN0QnJlYWs7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBsYXN0QnJlYWsgPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHBhZ2VCcmVha3MgPSBbXTtcclxuICAgIC8qKlxyXG4gICAgICogWSBQb3NpdGlvbiBvZiBwYWdlIGJyZWFrcy5cclxuICAgICAqIEBuYW1lIHBhZ2VCcmVha3NcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAZGVmYXVsdCAwXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhZ2VCcmVha3NcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBwYWdlQnJlYWtzO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcGFnZUJyZWFrcyA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lIGN0eFxyXG4gICAgICogQHR5cGUge29iamVjdH1cclxuICAgICAqIEBkZWZhdWx0IHt9XHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN0eFwiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9jdHg7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBDb250ZXh0TGF5ZXIpIHtcclxuICAgICAgICAgIF9jdHggPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5hbWUgcGF0aFxyXG4gICAgICogQHR5cGUge2FycmF5fVxyXG4gICAgICogQGRlZmF1bHQgW11cclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicGF0aFwiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9jdHgucGF0aDtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIF9jdHgucGF0aCA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lIGN0eFN0YWNrXHJcbiAgICAgKiBAdHlwZSB7YXJyYXl9XHJcbiAgICAgKiBAZGVmYXVsdCBbXVxyXG4gICAgICovXHJcbiAgICB2YXIgX2N0eFN0YWNrID0gW107XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJjdHhTdGFja1wiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF9jdHhTdGFjaztcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIF9jdHhTdGFjayA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgb3IgcmV0dXJucyB0aGUgY29sb3IsIGdyYWRpZW50LCBvciBwYXR0ZXJuIHVzZWQgdG8gZmlsbCB0aGUgZHJhd2luZ1xyXG4gICAgICpcclxuICAgICAqIEBuYW1lIGZpbGxTdHlsZVxyXG4gICAgICogQGRlZmF1bHQgIzAwMDAwMFxyXG4gICAgICogQHByb3BlcnR5IHsoY29sb3J8Z3JhZGllbnR8cGF0dGVybil9IHZhbHVlIFRoZSBjb2xvciBvZiB0aGUgZHJhd2luZy4gRGVmYXVsdCB2YWx1ZSBpcyAjMDAwMDAwPGJyIC8+XHJcbiAgICAgKiBBIGdyYWRpZW50IG9iamVjdCAobGluZWFyIG9yIHJhZGlhbCkgdXNlZCB0byBmaWxsIHRoZSBkcmF3aW5nIChub3Qgc3VwcG9ydGVkIGJ5IGNvbnRleHQyZCk8YnIgLz5cclxuICAgICAqIEEgcGF0dGVybiBvYmplY3QgdG8gdXNlIHRvIGZpbGwgdGhlIGRyYXdpbmcgKG5vdCBzdXBwb3J0ZWQgYnkgY29udGV4dDJkKVxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmaWxsU3R5bGVcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5maWxsU3R5bGU7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB2YXIgcmdiYTtcclxuICAgICAgICByZ2JhID0gZ2V0UkdCQSh2YWx1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHJnYmEuc3R5bGU7XHJcbiAgICAgICAgdGhpcy5jdHguaXNGaWxsVHJhbnNwYXJlbnQgPSByZ2JhLmEgPT09IDA7XHJcbiAgICAgICAgdGhpcy5jdHguZmlsbE9wYWNpdHkgPSByZ2JhLmE7XHJcblxyXG4gICAgICAgIHRoaXMucGRmLnNldEZpbGxDb2xvcihyZ2JhLnIsIHJnYmEuZywgcmdiYS5iLCB7IGE6IHJnYmEuYSB9KTtcclxuICAgICAgICB0aGlzLnBkZi5zZXRUZXh0Q29sb3IocmdiYS5yLCByZ2JhLmcsIHJnYmEuYiwgeyBhOiByZ2JhLmEgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBvciByZXR1cm5zIHRoZSBjb2xvciwgZ3JhZGllbnQsIG9yIHBhdHRlcm4gdXNlZCBmb3Igc3Ryb2tlc1xyXG4gICAgICpcclxuICAgICAqIEBuYW1lIHN0cm9rZVN0eWxlXHJcbiAgICAgKiBAZGVmYXVsdCAjMDAwMDAwXHJcbiAgICAgKiBAcHJvcGVydHkge2NvbG9yfSBjb2xvciBBIENTUyBjb2xvciB2YWx1ZSB0aGF0IGluZGljYXRlcyB0aGUgc3Ryb2tlIGNvbG9yIG9mIHRoZSBkcmF3aW5nLiBEZWZhdWx0IHZhbHVlIGlzICMwMDAwMDAgKG5vdCBzdXBwb3J0ZWQgYnkgY29udGV4dDJkKVxyXG4gICAgICogQHByb3BlcnR5IHtncmFkaWVudH0gZ3JhZGllbnQgQSBncmFkaWVudCBvYmplY3QgKGxpbmVhciBvciByYWRpYWwpIHVzZWQgdG8gY3JlYXRlIGEgZ3JhZGllbnQgc3Ryb2tlIChub3Qgc3VwcG9ydGVkIGJ5IGNvbnRleHQyZClcclxuICAgICAqIEBwcm9wZXJ0eSB7cGF0dGVybn0gcGF0dGVybiBBIHBhdHRlcm4gb2JqZWN0IHVzZWQgdG8gY3JlYXRlIGEgcGF0dGVybiBzdHJva2UgKG5vdCBzdXBwb3J0ZWQgYnkgY29udGV4dDJkKVxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdHJva2VTdHlsZVwiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4LnN0cm9rZVN0eWxlO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHJnYmEgPSBnZXRSR0JBKHZhbHVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSByZ2JhLnN0eWxlO1xyXG4gICAgICAgIHRoaXMuY3R4LmlzU3Ryb2tlVHJhbnNwYXJlbnQgPSByZ2JhLmEgPT09IDA7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlT3BhY2l0eSA9IHJnYmEuYTtcclxuXHJcbiAgICAgICAgaWYgKHJnYmEuYSA9PT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5wZGYuc2V0RHJhd0NvbG9yKDI1NSwgMjU1LCAyNTUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocmdiYS5hID09PSAxKSB7XHJcbiAgICAgICAgICB0aGlzLnBkZi5zZXREcmF3Q29sb3IocmdiYS5yLCByZ2JhLmcsIHJnYmEuYik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucGRmLnNldERyYXdDb2xvcihyZ2JhLnIsIHJnYmEuZywgcmdiYS5iKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBvciByZXR1cm5zIHRoZSBzdHlsZSBvZiB0aGUgZW5kIGNhcHMgZm9yIGEgbGluZVxyXG4gICAgICpcclxuICAgICAqIEBuYW1lIGxpbmVDYXBcclxuICAgICAqIEBkZWZhdWx0IGJ1dHRcclxuICAgICAqIEBwcm9wZXJ0eSB7KGJ1dHR8cm91bmR8c3F1YXJlKX0gbGluZUNhcCBidXR0IEEgZmxhdCBlZGdlIGlzIGFkZGVkIHRvIGVhY2ggZW5kIG9mIHRoZSBsaW5lIDxici8+XHJcbiAgICAgKiByb3VuZCBBIHJvdW5kZWQgZW5kIGNhcCBpcyBhZGRlZCB0byBlYWNoIGVuZCBvZiB0aGUgbGluZTxici8+XHJcbiAgICAgKiBzcXVhcmUgQSBzcXVhcmUgZW5kIGNhcCBpcyBhZGRlZCB0byBlYWNoIGVuZCBvZiB0aGUgbGluZTxici8+XHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmVDYXBcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5saW5lQ2FwO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKFtcImJ1dHRcIiwgXCJyb3VuZFwiLCBcInNxdWFyZVwiXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMuY3R4LmxpbmVDYXAgPSB2YWx1ZTtcclxuICAgICAgICAgIHRoaXMucGRmLnNldExpbmVDYXAodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIG9yIHJldHVybnMgdGhlIGN1cnJlbnQgbGluZSB3aWR0aFxyXG4gICAgICpcclxuICAgICAqIEBuYW1lIGxpbmVXaWR0aFxyXG4gICAgICogQGRlZmF1bHQgMVxyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVXaWR0aCBUaGUgY3VycmVudCBsaW5lIHdpZHRoLCBpbiBwaXhlbHNcclxuICAgICAqL1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGluZVdpZHRoXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdHgubGluZVdpZHRoO1xyXG4gICAgICB9LFxyXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgIHRoaXMuY3R4LmxpbmVXaWR0aCA9IHZhbHVlO1xyXG4gICAgICAgICAgdGhpcy5wZGYuc2V0TGluZVdpZHRoKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBvciByZXR1cm5zIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCB3aGVuIHR3byBsaW5lcyBtZWV0XHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmVKb2luXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdHgubGluZUpvaW47XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAoW1wiYmV2ZWxcIiwgXCJyb3VuZFwiLCBcIm1pdGVyXCJdLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xyXG4gICAgICAgICAgdGhpcy5jdHgubGluZUpvaW4gPSB2YWx1ZTtcclxuICAgICAgICAgIHRoaXMucGRmLnNldExpbmVKb2luKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBudW1iZXIgc3BlY2lmeWluZyB0aGUgbWl0ZXIgbGltaXQgcmF0aW8gaW4gY29vcmRpbmF0ZSBzcGFjZSB1bml0cy4gWmVybywgbmVnYXRpdmUsIEluZmluaXR5LCBhbmQgTmFOIHZhbHVlcyBhcmUgaWdub3JlZC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgMTAuMC5cclxuICAgICAqXHJcbiAgICAgKiBAbmFtZSBtaXRlckxpbWl0XHJcbiAgICAgKiBAZGVmYXVsdCAxMFxyXG4gICAgICovXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtaXRlckxpbWl0XCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdHgubWl0ZXJMaW1pdDtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XHJcbiAgICAgICAgICB0aGlzLmN0eC5taXRlckxpbWl0ID0gdmFsdWU7XHJcbiAgICAgICAgICB0aGlzLnBkZi5zZXRNaXRlckxpbWl0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRleHRCYXNlbGluZVwiLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4LnRleHRCYXNlbGluZTtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0ZXh0QWxpZ25cIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC50ZXh0QWxpZ247XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBpZiAoW1wicmlnaHRcIiwgXCJlbmRcIiwgXCJjZW50ZXJcIiwgXCJsZWZ0XCIsIFwic3RhcnRcIl0uaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBfZm9udEZhY2VNYXAgPSBudWxsO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEZvbnRGYWNlTWFwKHBkZiwgZm9udEZhY2VzKSB7XHJcbiAgICAgIGlmIChfZm9udEZhY2VNYXAgPT09IG51bGwpIHtcclxuICAgICAgICB2YXIgZm9udE1hcCA9IHBkZi5nZXRGb250TGlzdCgpO1xyXG5cclxuICAgICAgICB2YXIgY29udmVydGVkRm9udEZhY2VzID0gY29udmVydFRvRm9udEZhY2VzKGZvbnRNYXApO1xyXG5cclxuICAgICAgICBfZm9udEZhY2VNYXAgPSBidWlsZEZvbnRGYWNlTWFwKGNvbnZlcnRlZEZvbnRGYWNlcy5jb25jYXQoZm9udEZhY2VzKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBfZm9udEZhY2VNYXA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydFRvRm9udEZhY2VzKGZvbnRNYXApIHtcclxuICAgICAgdmFyIGZvbnRGYWNlcyA9IFtdO1xyXG5cclxuICAgICAgT2JqZWN0LmtleXMoZm9udE1hcCkuZm9yRWFjaChmdW5jdGlvbihmYW1pbHkpIHtcclxuICAgICAgICB2YXIgc3R5bGVzID0gZm9udE1hcFtmYW1pbHldO1xyXG5cclxuICAgICAgICBzdHlsZXMuZm9yRWFjaChmdW5jdGlvbihzdHlsZSkge1xyXG4gICAgICAgICAgdmFyIGZvbnRGYWNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICBzd2l0Y2ggKHN0eWxlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJib2xkXCI6XHJcbiAgICAgICAgICAgICAgZm9udEZhY2UgPSB7XHJcbiAgICAgICAgICAgICAgICBmYW1pbHk6IGZhbWlseSxcclxuICAgICAgICAgICAgICAgIHdlaWdodDogXCJib2xkXCJcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIml0YWxpY1wiOlxyXG4gICAgICAgICAgICAgIGZvbnRGYWNlID0ge1xyXG4gICAgICAgICAgICAgICAgZmFtaWx5OiBmYW1pbHksXHJcbiAgICAgICAgICAgICAgICBzdHlsZTogXCJpdGFsaWNcIlxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiYm9sZGl0YWxpY1wiOlxyXG4gICAgICAgICAgICAgIGZvbnRGYWNlID0ge1xyXG4gICAgICAgICAgICAgICAgZmFtaWx5OiBmYW1pbHksXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IFwiYm9sZFwiLFxyXG4gICAgICAgICAgICAgICAgc3R5bGU6IFwiaXRhbGljXCJcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIlwiOlxyXG4gICAgICAgICAgICBjYXNlIFwibm9ybWFsXCI6XHJcbiAgICAgICAgICAgICAgZm9udEZhY2UgPSB7XHJcbiAgICAgICAgICAgICAgICBmYW1pbHk6IGZhbWlseVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSWYgZm9udC1mYWNlIGlzIHN0aWxsIG51bGwgaGVyZSwgaXQgaXMgYSBmb250IHdpdGggc29tZSBzdHlsaW5nIHdlIGRvbid0IHJlY29nbml6ZSBhbmRcclxuICAgICAgICAgIC8vIGNhbm5vdCBtYXAgb3IgaXQgaXMgYSBmb250IGFkZGVkIHZpYSB0aGUgZm9udEZhY2VzIG9wdGlvbiBvZiAuaHRtbCgpLlxyXG4gICAgICAgICAgaWYgKGZvbnRGYWNlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGZvbnRGYWNlLnJlZiA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiBmYW1pbHksXHJcbiAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmb250RmFjZXMucHVzaChmb250RmFjZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIGZvbnRGYWNlcztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgX2ZvbnRGYWNlcyA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEEgbWFwIG9mIGF2YWlsYWJsZSBmb250LWZhY2VzLCBhcyBwYXNzZWQgaW4gdGhlIG9wdGlvbnMgb2ZcclxuICAgICAqIC5odG1sKCkuIElmIHNldCBhIGxpbWl0ZWQgaW1wbGVtZW50YXRpb24gb2YgdGhlIGZvbnQgc3R5bGUgbWF0Y2hpbmdcclxuICAgICAqIGFsZ29yaXRobSBkZWZpbmVkIGJ5IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtZm9udHMtMy8jZm9udC1tYXRjaGluZy1hbGdvcml0aG1cclxuICAgICAqIHdpbGwgYmUgdXNlZC4gSWYgbm90IHNldCBpdCB3aWxsIGZhbGxiYWNrIHRvIHByZXZpb3VzIGJlaGF2aW9yLlxyXG4gICAgICovXHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZm9udEZhY2VzXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gX2ZvbnRGYWNlcztcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIF9mb250RmFjZU1hcCA9IG51bGw7XHJcbiAgICAgICAgX2ZvbnRGYWNlcyA9IHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb250XCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdHguZm9udDtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY3R4LmZvbnQgPSB2YWx1ZTtcclxuICAgICAgICB2YXIgcngsIG1hdGNoZXM7XHJcblxyXG4gICAgICAgIC8vc291cmNlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTAxMzYwNDFcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgICAgICByeCA9IC9eXFxzKig/PSg/Oig/OlstYS16XStcXHMqKXswLDJ9KGl0YWxpY3xvYmxpcXVlKSk/KSg/PSg/Oig/OlstYS16XStcXHMqKXswLDJ9KHNtYWxsLWNhcHMpKT8pKD89KD86KD86Wy1hLXpdK1xccyopezAsMn0oYm9sZCg/OmVyKT98bGlnaHRlcnxbMS05XTAwKSk/KSg/Oig/Om5vcm1hbHxcXDF8XFwyfFxcMylcXHMqKXswLDN9KCg/Onh4Py0pPyg/OnNtYWxsfGxhcmdlKXxtZWRpdW18c21hbGxlcnxsYXJnZXJ8Wy5cXGRdKyg/OlxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSkoPzpcXHMqXFwvXFxzKihub3JtYWx8Wy5cXGRdKyg/OlxcJXxpbnxbY2VtXW18ZXh8cFtjdHhdKSkpP1xccyooWy1fLFxcXCJcXCdcXHNhLXpdKz8pXFxzKiQvaTtcclxuICAgICAgICBtYXRjaGVzID0gcnguZXhlYyh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMgIT09IG51bGwpIHtcclxuICAgICAgICAgIHZhciBmb250U3R5bGUgPSBtYXRjaGVzWzFdO1xyXG4gICAgICAgICAgdmFyIGZvbnRWYXJpYW50ID0gbWF0Y2hlc1syXTtcclxuICAgICAgICAgIHZhciBmb250V2VpZ2h0ID0gbWF0Y2hlc1szXTtcclxuICAgICAgICAgIHZhciBmb250U2l6ZSA9IG1hdGNoZXNbNF07XHJcbiAgICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1hdGNoZXNbNV07XHJcbiAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IG1hdGNoZXNbNl07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJ4Rm9udFNpemUgPSAvXihbLlxcZF0rKSgoPzolfGlufFtjZW1dbXxleHxwW2N0eF0pKSQvaTtcclxuICAgICAgICB2YXIgZm9udFNpemVVbml0ID0gcnhGb250U2l6ZS5leGVjKGZvbnRTaXplKVsyXTtcclxuXHJcbiAgICAgICAgaWYgKFwicHhcIiA9PT0gZm9udFNpemVVbml0KSB7XHJcbiAgICAgICAgICBmb250U2l6ZSA9IE1hdGguZmxvb3IoXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQoZm9udFNpemUpICogdGhpcy5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3JcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcImVtXCIgPT09IGZvbnRTaXplVW5pdCkge1xyXG4gICAgICAgICAgZm9udFNpemUgPSBNYXRoLmZsb29yKHBhcnNlRmxvYXQoZm9udFNpemUpICogdGhpcy5wZGYuZ2V0Rm9udFNpemUoKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGZvbnRTaXplID0gTWF0aC5mbG9vcihcclxuICAgICAgICAgICAgcGFyc2VGbG9hdChmb250U2l6ZSkgKiB0aGlzLnBkZi5pbnRlcm5hbC5zY2FsZUZhY3RvclxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGRmLnNldEZvbnRTaXplKGZvbnRTaXplKTtcclxuICAgICAgICB2YXIgcGFydHMgPSBwYXJzZUZvbnRGYW1pbHkoZm9udEZhbWlseSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmZvbnRGYWNlcykge1xyXG4gICAgICAgICAgdmFyIGZvbnRGYWNlTWFwID0gZ2V0Rm9udEZhY2VNYXAodGhpcy5wZGYsIHRoaXMuZm9udEZhY2VzKTtcclxuXHJcbiAgICAgICAgICB2YXIgcnVsZXMgPSBwYXJ0cy5tYXAoZnVuY3Rpb24oZmYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBmYW1pbHk6IGZmLFxyXG4gICAgICAgICAgICAgIHN0cmV0Y2g6IFwibm9ybWFsXCIsIC8vIFRPRE86IEV4dHJhY3QgZm9udC1zdHJldGNoIGZyb20gZm9udCBydWxlIChwZXJoYXBzIHdyaXRlIHByb3BlciBwYXJzZXIgZm9yIGl0PylcclxuICAgICAgICAgICAgICB3ZWlnaHQ6IGZvbnRXZWlnaHQsXHJcbiAgICAgICAgICAgICAgc3R5bGU6IGZvbnRTdHlsZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdmFyIGZvbnQgPSByZXNvbHZlRm9udEZhY2UoZm9udEZhY2VNYXAsIHJ1bGVzKTtcclxuICAgICAgICAgIHRoaXMucGRmLnNldEZvbnQoZm9udC5yZWYubmFtZSwgZm9udC5yZWYuc3R5bGUpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHN0eWxlID0gXCJcIjtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBmb250V2VpZ2h0ID09PSBcImJvbGRcIiB8fFxyXG4gICAgICAgICAgcGFyc2VJbnQoZm9udFdlaWdodCwgMTApID49IDcwMCB8fFxyXG4gICAgICAgICAgZm9udFN0eWxlID09PSBcImJvbGRcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgc3R5bGUgPSBcImJvbGRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmb250U3R5bGUgPT09IFwiaXRhbGljXCIpIHtcclxuICAgICAgICAgIHN0eWxlICs9IFwiaXRhbGljXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3R5bGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBzdHlsZSA9IFwibm9ybWFsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBqc1BkZkZvbnROYW1lID0gXCJcIjtcclxuXHJcbiAgICAgICAgdmFyIGZhbGxiYWNrRm9udHMgPSB7XHJcbiAgICAgICAgICBhcmlhbDogXCJIZWx2ZXRpY2FcIixcclxuICAgICAgICAgIEFyaWFsOiBcIkhlbHZldGljYVwiLFxyXG4gICAgICAgICAgdmVyZGFuYTogXCJIZWx2ZXRpY2FcIixcclxuICAgICAgICAgIFZlcmRhbmE6IFwiSGVsdmV0aWNhXCIsXHJcbiAgICAgICAgICBoZWx2ZXRpY2E6IFwiSGVsdmV0aWNhXCIsXHJcbiAgICAgICAgICBIZWx2ZXRpY2E6IFwiSGVsdmV0aWNhXCIsXHJcbiAgICAgICAgICBcInNhbnMtc2VyaWZcIjogXCJIZWx2ZXRpY2FcIixcclxuICAgICAgICAgIGZpeGVkOiBcIkNvdXJpZXJcIixcclxuICAgICAgICAgIG1vbm9zcGFjZTogXCJDb3VyaWVyXCIsXHJcbiAgICAgICAgICB0ZXJtaW5hbDogXCJDb3VyaWVyXCIsXHJcbiAgICAgICAgICBjdXJzaXZlOiBcIlRpbWVzXCIsXHJcbiAgICAgICAgICBmYW50YXN5OiBcIlRpbWVzXCIsXHJcbiAgICAgICAgICBzZXJpZjogXCJUaW1lc1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnBkZi5pbnRlcm5hbC5nZXRGb250KHBhcnRzW2ldLCBzdHlsZSwge1xyXG4gICAgICAgICAgICAgIG5vRmFsbGJhY2s6IHRydWUsXHJcbiAgICAgICAgICAgICAgZGlzYWJsZVdhcm5pbmc6IHRydWVcclxuICAgICAgICAgICAgfSkgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGpzUGRmRm9udE5hbWUgPSBwYXJ0c1tpXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICBzdHlsZSA9PT0gXCJib2xkaXRhbGljXCIgJiZcclxuICAgICAgICAgICAgdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udChwYXJ0c1tpXSwgXCJib2xkXCIsIHtcclxuICAgICAgICAgICAgICBub0ZhbGxiYWNrOiB0cnVlLFxyXG4gICAgICAgICAgICAgIGRpc2FibGVXYXJuaW5nOiB0cnVlXHJcbiAgICAgICAgICAgIH0pICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBqc1BkZkZvbnROYW1lID0gcGFydHNbaV07XHJcbiAgICAgICAgICAgIHN0eWxlID0gXCJib2xkXCI7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLnBkZi5pbnRlcm5hbC5nZXRGb250KHBhcnRzW2ldLCBcIm5vcm1hbFwiLCB7XHJcbiAgICAgICAgICAgICAgbm9GYWxsYmFjazogdHJ1ZSxcclxuICAgICAgICAgICAgICBkaXNhYmxlV2FybmluZzogdHJ1ZVxyXG4gICAgICAgICAgICB9KSAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAganNQZGZGb250TmFtZSA9IHBhcnRzW2ldO1xyXG4gICAgICAgICAgICBzdHlsZSA9IFwibm9ybWFsXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoanNQZGZGb250TmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoZmFsbGJhY2tGb250c1twYXJ0c1tqXV0pIHtcclxuICAgICAgICAgICAgICBqc1BkZkZvbnROYW1lID0gZmFsbGJhY2tGb250c1twYXJ0c1tqXV07XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAganNQZGZGb250TmFtZSA9IGpzUGRmRm9udE5hbWUgPT09IFwiXCIgPyBcIlRpbWVzXCIgOiBqc1BkZkZvbnROYW1lO1xyXG4gICAgICAgIHRoaXMucGRmLnNldEZvbnQoanNQZGZGb250TmFtZSwgc3R5bGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb25cIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2xvYmFsQWxwaGFcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5nbG9iYWxBbHBoYTtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBmbG9hdCBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgdGhlIGxpbmUgZGFzaCBvZmZzZXQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIDAuMC5cclxuICAgICAqXHJcbiAgICAgKiBAbmFtZSBsaW5lRGFzaE9mZnNldFxyXG4gICAgICogQGRlZmF1bHQgMC4wXHJcbiAgICAgKi9cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpbmVEYXNoT2Zmc2V0XCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdHgubGluZURhc2hPZmZzZXQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmN0eC5saW5lRGFzaE9mZnNldCA9IHZhbHVlO1xyXG4gICAgICAgIHNldExpbmVEYXNoLmNhbGwodGhpcyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE5vdCBIVE1MIEFQSVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibGluZURhc2hcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5saW5lRGFzaDtcclxuICAgICAgfSxcclxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVEYXNoID0gdmFsdWU7XHJcbiAgICAgICAgc2V0TGluZURhc2guY2FsbCh0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gTm90IEhUTUwgQVBJXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpZ25vcmVDbGVhclJlY3RcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN0eC5pZ25vcmVDbGVhclJlY3Q7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB0aGlzLmN0eC5pZ25vcmVDbGVhclJlY3QgPSBCb29sZWFuKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgbGluZSBkYXNoIHBhdHRlcm4gdXNlZCB3aGVuIHN0cm9raW5nIGxpbmVzLlxyXG4gICAqIEBuYW1lIHNldExpbmVEYXNoXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGRlc2NyaXB0aW9uIEl0IHVzZXMgYW4gYXJyYXkgb2YgdmFsdWVzIHRoYXQgc3BlY2lmeSBhbHRlcm5hdGluZyBsZW5ndGhzIG9mIGxpbmVzIGFuZCBnYXBzIHdoaWNoIGRlc2NyaWJlIHRoZSBwYXR0ZXJuLlxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUuc2V0TGluZURhc2ggPSBmdW5jdGlvbihkYXNoQXJyYXkpIHtcclxuICAgIHRoaXMubGluZURhc2ggPSBkYXNoQXJyYXk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0cyB0aGUgY3VycmVudCBsaW5lIGRhc2ggcGF0dGVybi5cclxuICAgKiBAbmFtZSBnZXRMaW5lRGFzaFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEByZXR1cm5zIHtBcnJheX0gQW4gQXJyYXkgb2YgbnVtYmVycyB0aGF0IHNwZWNpZnkgZGlzdGFuY2VzIHRvIGFsdGVybmF0ZWx5IGRyYXcgYSBsaW5lIGFuZCBhIGdhcCAoaW4gY29vcmRpbmF0ZSBzcGFjZSB1bml0cykuIElmIHRoZSBudW1iZXIsIHdoZW4gc2V0dGluZyB0aGUgZWxlbWVudHMsIGlzIG9kZCwgdGhlIGVsZW1lbnRzIG9mIHRoZSBhcnJheSBnZXQgY29waWVkIGFuZCBjb25jYXRlbmF0ZWQuIEZvciBleGFtcGxlLCBzZXR0aW5nIHRoZSBsaW5lIGRhc2ggdG8gWzUsIDE1LCAyNV0gd2lsbCByZXN1bHQgaW4gZ2V0dGluZyBiYWNrIFs1LCAxNSwgMjUsIDUsIDE1LCAyNV0uXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5nZXRMaW5lRGFzaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMubGluZURhc2gubGVuZ3RoICUgMikge1xyXG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2dldExpbmVEYXNoI3JldHVybl92YWx1ZVxyXG4gICAgICByZXR1cm4gdGhpcy5saW5lRGFzaC5jb25jYXQodGhpcy5saW5lRGFzaCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBUaGUgY29waWVkIHZhbHVlIGlzIHJldHVybmVkIHRvIHByZXZlbnQgY29udGFtaW5hdGlvbiBmcm9tIG91dHNpZGUuXHJcbiAgICAgIHJldHVybiB0aGlzLmxpbmVEYXNoLnNsaWNlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICBwYXRoUHJlUHJvY2Vzcy5jYWxsKHRoaXMsIFwiZmlsbFwiLCBmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQWN0dWFsbHkgZHJhd3MgdGhlIHBhdGggeW91IGhhdmUgZGVmaW5lZFxyXG4gICAqXHJcbiAgICogQG5hbWUgc3Ryb2tlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBzdHJva2UoKSBtZXRob2QgYWN0dWFsbHkgZHJhd3MgdGhlIHBhdGggeW91IGhhdmUgZGVmaW5lZCB3aXRoIGFsbCB0aG9zZSBtb3ZlVG8oKSBhbmQgbGluZVRvKCkgbWV0aG9kcy4gVGhlIGRlZmF1bHQgY29sb3IgaXMgYmxhY2suXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5zdHJva2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHBhdGhQcmVQcm9jZXNzLmNhbGwodGhpcywgXCJzdHJva2VcIiwgZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEJlZ2lucyBhIHBhdGgsIG9yIHJlc2V0cyB0aGUgY3VycmVudFxyXG4gICAqXHJcbiAgICogQG5hbWUgYmVnaW5QYXRoXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBiZWdpblBhdGgoKSBtZXRob2QgYmVnaW5zIGEgcGF0aCwgb3IgcmVzZXRzIHRoZSBjdXJyZW50IHBhdGguXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5iZWdpblBhdGggPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucGF0aCA9IFtcclxuICAgICAge1xyXG4gICAgICAgIHR5cGU6IFwiYmVnaW5cIlxyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmVzIHRoZSBwYXRoIHRvIHRoZSBzcGVjaWZpZWQgcG9pbnQgaW4gdGhlIGNhbnZhcywgd2l0aG91dCBjcmVhdGluZyBhIGxpbmVcclxuICAgKlxyXG4gICAqIEBuYW1lIG1vdmVUb1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB4IHtOdW1iZXJ9IFRoZSB4LWNvb3JkaW5hdGUgb2Ygd2hlcmUgdG8gbW92ZSB0aGUgcGF0aCB0b1xyXG4gICAqIEBwYXJhbSB5IHtOdW1iZXJ9IFRoZSB5LWNvb3JkaW5hdGUgb2Ygd2hlcmUgdG8gbW92ZSB0aGUgcGF0aCB0b1xyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUubW92ZVRvID0gZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQubW92ZVRvOiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLm1vdmVUb1wiKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHQgPSB0aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBQb2ludCh4LCB5KSk7XHJcblxyXG4gICAgdGhpcy5wYXRoLnB1c2goe1xyXG4gICAgICB0eXBlOiBcIm10XCIsXHJcbiAgICAgIHg6IHB0LngsXHJcbiAgICAgIHk6IHB0LnlcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jdHgubGFzdFBvaW50ID0gbmV3IFBvaW50KHgsIHkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBwYXRoIGZyb20gdGhlIGN1cnJlbnQgcG9pbnQgYmFjayB0byB0aGUgc3RhcnRpbmcgcG9pbnRcclxuICAgKlxyXG4gICAqIEBuYW1lIGNsb3NlUGF0aFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgY2xvc2VQYXRoKCkgbWV0aG9kIGNyZWF0ZXMgYSBwYXRoIGZyb20gdGhlIGN1cnJlbnQgcG9pbnQgYmFjayB0byB0aGUgc3RhcnRpbmcgcG9pbnQuXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5jbG9zZVBhdGggPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwYXRoQmVnaW4gPSBuZXcgUG9pbnQoMCwgMCk7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKGkgPSB0aGlzLnBhdGgubGVuZ3RoIC0gMTsgaSAhPT0gLTE7IGktLSkge1xyXG4gICAgICBpZiAodGhpcy5wYXRoW2ldLnR5cGUgPT09IFwiYmVnaW5cIikge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHR5cGVvZiB0aGlzLnBhdGhbaSArIDFdID09PSBcIm9iamVjdFwiICYmXHJcbiAgICAgICAgICB0eXBlb2YgdGhpcy5wYXRoW2kgKyAxXS54ID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBwYXRoQmVnaW4gPSBuZXcgUG9pbnQodGhpcy5wYXRoW2kgKyAxXS54LCB0aGlzLnBhdGhbaSArIDFdLnkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnBhdGgucHVzaCh7XHJcbiAgICAgIHR5cGU6IFwiY2xvc2VcIlxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmN0eC5sYXN0UG9pbnQgPSBuZXcgUG9pbnQocGF0aEJlZ2luLngsIHBhdGhCZWdpbi55KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGEgbmV3IHBvaW50IGFuZCBjcmVhdGVzIGEgbGluZSB0byB0aGF0IHBvaW50IGZyb20gdGhlIGxhc3Qgc3BlY2lmaWVkIHBvaW50IGluIHRoZSBjYW52YXNcclxuICAgKlxyXG4gICAqIEBuYW1lIGxpbmVUb1xyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB4IFRoZSB4LWNvb3JkaW5hdGUgb2Ygd2hlcmUgdG8gY3JlYXRlIHRoZSBsaW5lIHRvXHJcbiAgICogQHBhcmFtIHkgVGhlIHktY29vcmRpbmF0ZSBvZiB3aGVyZSB0byBjcmVhdGUgdGhlIGxpbmUgdG9cclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGxpbmVUbygpIG1ldGhvZCBhZGRzIGEgbmV3IHBvaW50IGFuZCBjcmVhdGVzIGEgbGluZSBUTyB0aGF0IHBvaW50IEZST00gdGhlIGxhc3Qgc3BlY2lmaWVkIHBvaW50IGluIHRoZSBjYW52YXMgKHRoaXMgbWV0aG9kIGRvZXMgbm90IGRyYXcgdGhlIGxpbmUpLlxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQubGluZVRvOiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmxpbmVUb1wiKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHQgPSB0aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBQb2ludCh4LCB5KSk7XHJcblxyXG4gICAgdGhpcy5wYXRoLnB1c2goe1xyXG4gICAgICB0eXBlOiBcImx0XCIsXHJcbiAgICAgIHg6IHB0LngsXHJcbiAgICAgIHk6IHB0LnlcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jdHgubGFzdFBvaW50ID0gbmV3IFBvaW50KHB0LngsIHB0LnkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENsaXBzIGEgcmVnaW9uIG9mIGFueSBzaGFwZSBhbmQgc2l6ZSBmcm9tIHRoZSBvcmlnaW5hbCBjYW52YXNcclxuICAgKlxyXG4gICAqIEBuYW1lIGNsaXBcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGNsaXAoKSBtZXRob2QgY2xpcHMgYSByZWdpb24gb2YgYW55IHNoYXBlIGFuZCBzaXplIGZyb20gdGhlIG9yaWdpbmFsIGNhbnZhcy5cclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuY3R4LmNsaXBfcGF0aCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXRoKSk7XHJcbiAgICBwYXRoUHJlUHJvY2Vzcy5jYWxsKHRoaXMsIG51bGwsIHRydWUpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBjdWJpYyBCw6l6aWVyIGN1cnZlXHJcbiAgICpcclxuICAgKiBAbmFtZSBxdWFkcmF0aWNDdXJ2ZVRvXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIGNweCB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBCw6l6aWVyIGNvbnRyb2wgcG9pbnRcclxuICAgKiBAcGFyYW0gY3B5IHtOdW1iZXJ9IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIELDqXppZXIgY29udHJvbCBwb2ludFxyXG4gICAqIEBwYXJhbSB4IHtOdW1iZXJ9IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZGluZyBwb2ludFxyXG4gICAqIEBwYXJhbSB5IHtOdW1iZXJ9IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZGluZyBwb2ludFxyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgcXVhZHJhdGljQ3VydmVUbygpIG1ldGhvZCBhZGRzIGEgcG9pbnQgdG8gdGhlIGN1cnJlbnQgcGF0aCBieSB1c2luZyB0aGUgc3BlY2lmaWVkIGNvbnRyb2wgcG9pbnRzIHRoYXQgcmVwcmVzZW50IGEgcXVhZHJhdGljIELDqXppZXIgY3VydmUuPGJyIC8+PGJyIC8+IEEgcXVhZHJhdGljIELDqXppZXIgY3VydmUgcmVxdWlyZXMgdHdvIHBvaW50cy4gVGhlIGZpcnN0IHBvaW50IGlzIGEgY29udHJvbCBwb2ludCB0aGF0IGlzIHVzZWQgaW4gdGhlIHF1YWRyYXRpYyBCw6l6aWVyIGNhbGN1bGF0aW9uIGFuZCB0aGUgc2Vjb25kIHBvaW50IGlzIHRoZSBlbmRpbmcgcG9pbnQgZm9yIHRoZSBjdXJ2ZS4gVGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgY3VydmUgaXMgdGhlIGxhc3QgcG9pbnQgaW4gdGhlIGN1cnJlbnQgcGF0aC4gSWYgYSBwYXRoIGRvZXMgbm90IGV4aXN0LCB1c2UgdGhlIGJlZ2luUGF0aCgpIGFuZCBtb3ZlVG8oKSBtZXRob2RzIHRvIGRlZmluZSBhIHN0YXJ0aW5nIHBvaW50LlxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbyA9IGZ1bmN0aW9uKGNweCwgY3B5LCB4LCB5KSB7XHJcbiAgICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkgfHwgaXNOYU4oY3B4KSB8fCBpc05hTihjcHkpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJqc1BERi5jb250ZXh0MmQucXVhZHJhdGljQ3VydmVUbzogSW52YWxpZCBhcmd1bWVudHNcIixcclxuICAgICAgICBhcmd1bWVudHNcclxuICAgICAgKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC5xdWFkcmF0aWNDdXJ2ZVRvXCJcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHQwID0gdGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5VG9Qb2ludChuZXcgUG9pbnQoeCwgeSkpO1xyXG4gICAgdmFyIHB0MSA9IHRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IFBvaW50KGNweCwgY3B5KSk7XHJcblxyXG4gICAgdGhpcy5wYXRoLnB1c2goe1xyXG4gICAgICB0eXBlOiBcInFjdFwiLFxyXG4gICAgICB4MTogcHQxLngsXHJcbiAgICAgIHkxOiBwdDEueSxcclxuICAgICAgeDogcHQwLngsXHJcbiAgICAgIHk6IHB0MC55XHJcbiAgICB9KTtcclxuICAgIHRoaXMuY3R4Lmxhc3RQb2ludCA9IG5ldyBQb2ludChwdDAueCwgcHQwLnkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBjdWJpYyBCw6l6aWVyIGN1cnZlXHJcbiAgICpcclxuICAgKiBAbmFtZSBiZXppZXJDdXJ2ZVRvXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIGNwMXgge051bWJlcn0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgQsOpemllciBjb250cm9sIHBvaW50XHJcbiAgICogQHBhcmFtIGNwMXkge051bWJlcn0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgQsOpemllciBjb250cm9sIHBvaW50XHJcbiAgICogQHBhcmFtIGNwMngge051bWJlcn0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgc2Vjb25kIELDqXppZXIgY29udHJvbCBwb2ludFxyXG4gICAqIEBwYXJhbSBjcDJ5IHtOdW1iZXJ9IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBCw6l6aWVyIGNvbnRyb2wgcG9pbnRcclxuICAgKiBAcGFyYW0geCB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmRpbmcgcG9pbnRcclxuICAgKiBAcGFyYW0geSB7TnVtYmVyfSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmRpbmcgcG9pbnRcclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGJlemllckN1cnZlVG8oKSBtZXRob2QgYWRkcyBhIHBvaW50IHRvIHRoZSBjdXJyZW50IHBhdGggYnkgdXNpbmcgdGhlIHNwZWNpZmllZCBjb250cm9sIHBvaW50cyB0aGF0IHJlcHJlc2VudCBhIGN1YmljIELDqXppZXIgY3VydmUuIDxiciAvPjxiciAvPkEgY3ViaWMgYmV6aWVyIGN1cnZlIHJlcXVpcmVzIHRocmVlIHBvaW50cy4gVGhlIGZpcnN0IHR3byBwb2ludHMgYXJlIGNvbnRyb2wgcG9pbnRzIHRoYXQgYXJlIHVzZWQgaW4gdGhlIGN1YmljIELDqXppZXIgY2FsY3VsYXRpb24gYW5kIHRoZSBsYXN0IHBvaW50IGlzIHRoZSBlbmRpbmcgcG9pbnQgZm9yIHRoZSBjdXJ2ZS4gIFRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIGN1cnZlIGlzIHRoZSBsYXN0IHBvaW50IGluIHRoZSBjdXJyZW50IHBhdGguIElmIGEgcGF0aCBkb2VzIG5vdCBleGlzdCwgdXNlIHRoZSBiZWdpblBhdGgoKSBhbmQgbW92ZVRvKCkgbWV0aG9kcyB0byBkZWZpbmUgYSBzdGFydGluZyBwb2ludC5cclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbihjcDF4LCBjcDF5LCBjcDJ4LCBjcDJ5LCB4LCB5KSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIGlzTmFOKHgpIHx8XHJcbiAgICAgIGlzTmFOKHkpIHx8XHJcbiAgICAgIGlzTmFOKGNwMXgpIHx8XHJcbiAgICAgIGlzTmFOKGNwMXkpIHx8XHJcbiAgICAgIGlzTmFOKGNwMngpIHx8XHJcbiAgICAgIGlzTmFOKGNwMnkpXHJcbiAgICApIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICBcImpzUERGLmNvbnRleHQyZC5iZXppZXJDdXJ2ZVRvOiBJbnZhbGlkIGFyZ3VtZW50c1wiLFxyXG4gICAgICAgIGFyZ3VtZW50c1xyXG4gICAgICApO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmJlemllckN1cnZlVG9cIlxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgdmFyIHB0MCA9IHRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IFBvaW50KHgsIHkpKTtcclxuICAgIHZhciBwdDEgPSB0aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBQb2ludChjcDF4LCBjcDF5KSk7XHJcbiAgICB2YXIgcHQyID0gdGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5VG9Qb2ludChuZXcgUG9pbnQoY3AyeCwgY3AyeSkpO1xyXG5cclxuICAgIHRoaXMucGF0aC5wdXNoKHtcclxuICAgICAgdHlwZTogXCJiY3RcIixcclxuICAgICAgeDE6IHB0MS54LFxyXG4gICAgICB5MTogcHQxLnksXHJcbiAgICAgIHgyOiBwdDIueCxcclxuICAgICAgeTI6IHB0Mi55LFxyXG4gICAgICB4OiBwdDAueCxcclxuICAgICAgeTogcHQwLnlcclxuICAgIH0pO1xyXG4gICAgdGhpcy5jdHgubGFzdFBvaW50ID0gbmV3IFBvaW50KHB0MC54LCBwdDAueSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpXHJcbiAgICpcclxuICAgKiBAbmFtZSBhcmNcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0geCB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxyXG4gICAqIEBwYXJhbSB5IHtOdW1iZXJ9IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXHJcbiAgICogQHBhcmFtIHJhZGl1cyB7TnVtYmVyfSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcclxuICAgKiBAcGFyYW0gc3RhcnRBbmdsZSB7TnVtYmVyfSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvbiBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxyXG4gICAqIEBwYXJhbSBlbmRBbmdsZSB7TnVtYmVyfSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXHJcbiAgICogQHBhcmFtIGNvdW50ZXJjbG9ja3dpc2Uge0Jvb2xlYW59IE9wdGlvbmFsLiBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmUgY291bnRlcmNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIGFyYygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbihcclxuICAgIHgsXHJcbiAgICB5LFxyXG4gICAgcmFkaXVzLFxyXG4gICAgc3RhcnRBbmdsZSxcclxuICAgIGVuZEFuZ2xlLFxyXG4gICAgY291bnRlcmNsb2Nrd2lzZVxyXG4gICkge1xyXG4gICAgaWYgKFxyXG4gICAgICBpc05hTih4KSB8fFxyXG4gICAgICBpc05hTih5KSB8fFxyXG4gICAgICBpc05hTihyYWRpdXMpIHx8XHJcbiAgICAgIGlzTmFOKHN0YXJ0QW5nbGUpIHx8XHJcbiAgICAgIGlzTmFOKGVuZEFuZ2xlKVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQuYXJjOiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmFyY1wiKTtcclxuICAgIH1cclxuICAgIGNvdW50ZXJjbG9ja3dpc2UgPSBCb29sZWFuKGNvdW50ZXJjbG9ja3dpc2UpO1xyXG5cclxuICAgIGlmICghdGhpcy5jdHgudHJhbnNmb3JtLmlzSWRlbnRpdHkpIHtcclxuICAgICAgdmFyIHhwdCA9IHRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IFBvaW50KHgsIHkpKTtcclxuICAgICAgeCA9IHhwdC54O1xyXG4gICAgICB5ID0geHB0Lnk7XHJcblxyXG4gICAgICB2YXIgeF9yYWRQdCA9IHRoaXMuY3R4LnRyYW5zZm9ybS5hcHBseVRvUG9pbnQobmV3IFBvaW50KDAsIHJhZGl1cykpO1xyXG4gICAgICB2YXIgeF9yYWRQdDAgPSB0aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1BvaW50KG5ldyBQb2ludCgwLCAwKSk7XHJcbiAgICAgIHJhZGl1cyA9IE1hdGguc3FydChcclxuICAgICAgICBNYXRoLnBvdyh4X3JhZFB0LnggLSB4X3JhZFB0MC54LCAyKSArXHJcbiAgICAgICAgICBNYXRoLnBvdyh4X3JhZFB0LnkgLSB4X3JhZFB0MC55LCAyKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgaWYgKE1hdGguYWJzKGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSkgPj0gMiAqIE1hdGguUEkpIHtcclxuICAgICAgc3RhcnRBbmdsZSA9IDA7XHJcbiAgICAgIGVuZEFuZ2xlID0gMiAqIE1hdGguUEk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wYXRoLnB1c2goe1xyXG4gICAgICB0eXBlOiBcImFyY1wiLFxyXG4gICAgICB4OiB4LFxyXG4gICAgICB5OiB5LFxyXG4gICAgICByYWRpdXM6IHJhZGl1cyxcclxuICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcclxuICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxyXG4gICAgICBjb3VudGVyY2xvY2t3aXNlOiBjb3VudGVyY2xvY2t3aXNlXHJcbiAgICB9KTtcclxuICAgIC8vIHRoaXMuY3R4Lmxhc3RQb2ludChuZXcgUG9pbnQocHQueCxwdC55KSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHNcclxuICAgKlxyXG4gICAqIEBuYW1lIGFyY1RvXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHgxIHtOdW1iZXJ9IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGZpcnN0IHRhbmdlbnRcclxuICAgKiBAcGFyYW0geTEge051bWJlcn0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudFxyXG4gICAqIEBwYXJhbSB4MiB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgdGFuZ2VudFxyXG4gICAqIEBwYXJhbSB5MiB7TnVtYmVyfSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgdGFuZ2VudFxyXG4gICAqIEBwYXJhbSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgYXJjXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxyXG4gICAqL1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcmNUbyBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSByZWN0YW5nbGVcclxuICAgKlxyXG4gICAqIEBuYW1lIHJlY3RcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0geCB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXHJcbiAgICogQHBhcmFtIHkge051bWJlcn0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxyXG4gICAqIEBwYXJhbSB3IHtOdW1iZXJ9IFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLCBpbiBwaXhlbHNcclxuICAgKiBAcGFyYW0gaCB7TnVtYmVyfSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUsIGluIHBpeGVsc1xyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgcmVjdCgpIG1ldGhvZCBjcmVhdGVzIGEgcmVjdGFuZ2xlLlxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUucmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcclxuICAgIGlmIChpc05hTih4KSB8fCBpc05hTih5KSB8fCBpc05hTih3KSB8fCBpc05hTihoKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLnJlY3Q6IEludmFsaWQgYXJndW1lbnRzXCIsIGFyZ3VtZW50cyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5jb250ZXh0MmQucmVjdFwiKTtcclxuICAgIH1cclxuICAgIHRoaXMubW92ZVRvKHgsIHkpO1xyXG4gICAgdGhpcy5saW5lVG8oeCArIHcsIHkpO1xyXG4gICAgdGhpcy5saW5lVG8oeCArIHcsIHkgKyBoKTtcclxuICAgIHRoaXMubGluZVRvKHgsIHkgKyBoKTtcclxuICAgIHRoaXMubGluZVRvKHgsIHkpO1xyXG4gICAgdGhpcy5saW5lVG8oeCArIHcsIHkpO1xyXG4gICAgdGhpcy5saW5lVG8oeCwgeSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSBcImZpbGxlZFwiIHJlY3RhbmdsZVxyXG4gICAqXHJcbiAgICogQG5hbWUgZmlsbFJlY3RcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0geCB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXHJcbiAgICogQHBhcmFtIHkge051bWJlcn0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxyXG4gICAqIEBwYXJhbSB3IHtOdW1iZXJ9IFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLCBpbiBwaXhlbHNcclxuICAgKiBAcGFyYW0gaCB7TnVtYmVyfSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUsIGluIHBpeGVsc1xyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgZmlsbFJlY3QoKSBtZXRob2QgZHJhd3MgYSBcImZpbGxlZFwiIHJlY3RhbmdsZS4gVGhlIGRlZmF1bHQgY29sb3Igb2YgdGhlIGZpbGwgaXMgYmxhY2suXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5maWxsUmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcclxuICAgIGlmIChpc05hTih4KSB8fCBpc05hTih5KSB8fCBpc05hTih3KSB8fCBpc05hTihoKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLmZpbGxSZWN0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmZpbGxSZWN0XCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzRmlsbFRyYW5zcGFyZW50LmNhbGwodGhpcykpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHRtcCA9IHt9O1xyXG4gICAgaWYgKHRoaXMubGluZUNhcCAhPT0gXCJidXR0XCIpIHtcclxuICAgICAgdG1wLmxpbmVDYXAgPSB0aGlzLmxpbmVDYXA7XHJcbiAgICAgIHRoaXMubGluZUNhcCA9IFwiYnV0dFwiO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMubGluZUpvaW4gIT09IFwibWl0ZXJcIikge1xyXG4gICAgICB0bXAubGluZUpvaW4gPSB0aGlzLmxpbmVKb2luO1xyXG4gICAgICB0aGlzLmxpbmVKb2luID0gXCJtaXRlclwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYmVnaW5QYXRoKCk7XHJcbiAgICB0aGlzLnJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICB0aGlzLmZpbGwoKTtcclxuXHJcbiAgICBpZiAodG1wLmhhc093blByb3BlcnR5KFwibGluZUNhcFwiKSkge1xyXG4gICAgICB0aGlzLmxpbmVDYXAgPSB0bXAubGluZUNhcDtcclxuICAgIH1cclxuICAgIGlmICh0bXAuaGFzT3duUHJvcGVydHkoXCJsaW5lSm9pblwiKSkge1xyXG4gICAgICB0aGlzLmxpbmVKb2luID0gdG1wLmxpbmVKb2luO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqICAgICBEcmF3cyBhIHJlY3RhbmdsZSAobm8gZmlsbClcclxuICAgKlxyXG4gICAqIEBuYW1lIHN0cm9rZVJlY3RcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0geCB7TnVtYmVyfSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXHJcbiAgICogQHBhcmFtIHkge051bWJlcn0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxyXG4gICAqIEBwYXJhbSB3IHtOdW1iZXJ9IFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlLCBpbiBwaXhlbHNcclxuICAgKiBAcGFyYW0gaCB7TnVtYmVyfSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUsIGluIHBpeGVsc1xyXG4gICAqIEBkZXNjcmlwdGlvbiBUaGUgc3Ryb2tlUmVjdCgpIG1ldGhvZCBkcmF3cyBhIHJlY3RhbmdsZSAobm8gZmlsbCkuIFRoZSBkZWZhdWx0IGNvbG9yIG9mIHRoZSBzdHJva2UgaXMgYmxhY2suXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5zdHJva2VSZWN0ID0gZnVuY3Rpb24gc3Ryb2tlUmVjdCh4LCB5LCB3LCBoKSB7XHJcbiAgICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkgfHwgaXNOYU4odykgfHwgaXNOYU4oaCkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcImpzUERGLmNvbnRleHQyZC5zdHJva2VSZWN0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnN0cm9rZVJlY3RcIik7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdHJva2VUcmFuc3BhcmVudC5jYWxsKHRoaXMpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuYmVnaW5QYXRoKCk7XHJcbiAgICB0aGlzLnJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICB0aGlzLnN0cm9rZSgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENsZWFycyB0aGUgc3BlY2lmaWVkIHBpeGVscyB3aXRoaW4gYSBnaXZlbiByZWN0YW5nbGVcclxuICAgKlxyXG4gICAqIEBuYW1lIGNsZWFyUmVjdFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB4IHtOdW1iZXJ9IFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcclxuICAgKiBAcGFyYW0geSB7TnVtYmVyfSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSB1cHBlci1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlXHJcbiAgICogQHBhcmFtIHcge051bWJlcn0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY2xlYXIsIGluIHBpeGVsc1xyXG4gICAqIEBwYXJhbSBoIHtOdW1iZXJ9IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjbGVhciwgaW4gcGl4ZWxzXHJcbiAgICogQGRlc2NyaXB0aW9uIFdlIGNhbm5vdCBjbGVhciBQREYgY29tbWFuZHMgdGhhdCB3ZXJlIGFscmVhZHkgd3JpdHRlbiB0byBQREYsIHNvIHdlIHVzZSB3aGl0ZSBpbnN0ZWFkLiA8YnIgLz5cclxuICAgKiBBcyBhIHNwZWNpYWwgY2FzZSwgcmVhZCBhIHNwZWNpYWwgZmxhZyAoaWdub3JlQ2xlYXJSZWN0KSBhbmQgZG8gbm90aGluZyBpZiBpdCBpcyBzZXQuXHJcbiAgICogVGhpcyByZXN1bHRzIGluIGFsbCBjYWxscyB0byBjbGVhclJlY3QoKSB0byBkbyBub3RoaW5nLCBhbmQga2VlcCB0aGUgY2FudmFzIHRyYW5zcGFyZW50LlxyXG4gICAqIFRoaXMgZmxhZyBpcyBzdG9yZWQgaW4gdGhlIHNhdmUvcmVzdG9yZSBjb250ZXh0IGFuZCBpcyBtYW5hZ2VkIHRoZSBzYW1lIHdheSBhcyBvdGhlciBkcmF3aW5nIHN0YXRlcy5cclxuICAgKlxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUuY2xlYXJSZWN0ID0gZnVuY3Rpb24oeCwgeSwgdywgaCkge1xyXG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpIHx8IGlzTmFOKHcpIHx8IGlzTmFOKGgpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQuY2xlYXJSZWN0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmNsZWFyUmVjdFwiKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmlnbm9yZUNsZWFyUmVjdCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcclxuICAgIHRoaXMuZmlsbFJlY3QoeCwgeSwgdywgaCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZXMgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNvbnRleHRcclxuICAgKlxyXG4gICAqIEBuYW1lIHNhdmVcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbihkb1N0YWNrUHVzaCkge1xyXG4gICAgZG9TdGFja1B1c2ggPSB0eXBlb2YgZG9TdGFja1B1c2ggPT09IFwiYm9vbGVhblwiID8gZG9TdGFja1B1c2ggOiB0cnVlO1xyXG4gICAgdmFyIHRtcFBhZ2VOdW1iZXIgPSB0aGlzLnBkZi5pbnRlcm5hbC5nZXRDdXJyZW50UGFnZUluZm8oKS5wYWdlTnVtYmVyO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBkZi5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCk7IGkrKykge1xyXG4gICAgICB0aGlzLnBkZi5zZXRQYWdlKGkgKyAxKTtcclxuICAgICAgdGhpcy5wZGYuaW50ZXJuYWwub3V0KFwicVwiKTtcclxuICAgIH1cclxuICAgIHRoaXMucGRmLnNldFBhZ2UodG1wUGFnZU51bWJlcik7XHJcblxyXG4gICAgaWYgKGRvU3RhY2tQdXNoKSB7XHJcbiAgICAgIHRoaXMuY3R4LmZvbnRTaXplID0gdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKTtcclxuICAgICAgdmFyIGN0eCA9IG5ldyBDb250ZXh0TGF5ZXIodGhpcy5jdHgpO1xyXG4gICAgICB0aGlzLmN0eFN0YWNrLnB1c2godGhpcy5jdHgpO1xyXG4gICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHByZXZpb3VzbHkgc2F2ZWQgcGF0aCBzdGF0ZSBhbmQgYXR0cmlidXRlc1xyXG4gICAqXHJcbiAgICogQG5hbWUgcmVzdG9yZVxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uKGRvU3RhY2tQb3ApIHtcclxuICAgIGRvU3RhY2tQb3AgPSB0eXBlb2YgZG9TdGFja1BvcCA9PT0gXCJib29sZWFuXCIgPyBkb1N0YWNrUG9wIDogdHJ1ZTtcclxuICAgIHZhciB0bXBQYWdlTnVtYmVyID0gdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCkucGFnZU51bWJlcjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wZGYuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpOyBpKyspIHtcclxuICAgICAgdGhpcy5wZGYuc2V0UGFnZShpICsgMSk7XHJcbiAgICAgIHRoaXMucGRmLmludGVybmFsLm91dChcIlFcIik7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBkZi5zZXRQYWdlKHRtcFBhZ2VOdW1iZXIpO1xyXG5cclxuICAgIGlmIChkb1N0YWNrUG9wICYmIHRoaXMuY3R4U3RhY2subGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgIHRoaXMuY3R4ID0gdGhpcy5jdHhTdGFjay5wb3AoKTtcclxuICAgICAgdGhpcy5maWxsU3R5bGUgPSB0aGlzLmN0eC5maWxsU3R5bGU7XHJcbiAgICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSB0aGlzLmN0eC5zdHJva2VTdHlsZTtcclxuICAgICAgdGhpcy5mb250ID0gdGhpcy5jdHguZm9udDtcclxuICAgICAgdGhpcy5saW5lQ2FwID0gdGhpcy5jdHgubGluZUNhcDtcclxuICAgICAgdGhpcy5saW5lV2lkdGggPSB0aGlzLmN0eC5saW5lV2lkdGg7XHJcbiAgICAgIHRoaXMubGluZUpvaW4gPSB0aGlzLmN0eC5saW5lSm9pbjtcclxuICAgICAgdGhpcy5saW5lRGFzaCA9IHRoaXMuY3R4LmxpbmVEYXNoO1xyXG4gICAgICB0aGlzLmxpbmVEYXNoT2Zmc2V0ID0gdGhpcy5jdHgubGluZURhc2hPZmZzZXQ7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgdG9EYXRhVVJMXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS50b0RhdGFVUkwgPSBmdW5jdGlvbigpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcInRvRGF0YVVybCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gIH07XHJcblxyXG4gIC8vaGVscGVyIGZ1bmN0aW9uc1xyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGRlY2ltYWwgdmFsdWVzIG9mIHIsIGcsIGIgYW5kIGFcclxuICAgKlxyXG4gICAqIEBuYW1lIGdldFJHQkFcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBpZ25vcmVcclxuICAgKi9cclxuICB2YXIgZ2V0UkdCQSA9IGZ1bmN0aW9uKHN0eWxlKSB7XHJcbiAgICB2YXIgcnhSZ2IgPSAvcmdiXFxzKlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpLztcclxuICAgIHZhciByeFJnYmEgPSAvcmdiYVxccypcXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFtcXGQuXSspXFxzKlxcKS87XHJcbiAgICB2YXIgcnhUcmFuc3BhcmVudCA9IC90cmFuc3BhcmVudHxyZ2JhXFxzKlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyowK1xccypcXCkvO1xyXG5cclxuICAgIHZhciByLCBnLCBiLCBhO1xyXG5cclxuICAgIGlmIChzdHlsZS5pc0NhbnZhc0dyYWRpZW50ID09PSB0cnVlKSB7XHJcbiAgICAgIHN0eWxlID0gc3R5bGUuZ2V0Q29sb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXN0eWxlKSB7XHJcbiAgICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAsIHN0eWxlOiBzdHlsZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyeFRyYW5zcGFyZW50LnRlc3Qoc3R5bGUpKSB7XHJcbiAgICAgIHIgPSAwO1xyXG4gICAgICBnID0gMDtcclxuICAgICAgYiA9IDA7XHJcbiAgICAgIGEgPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIG1hdGNoZXMgPSByeFJnYi5leGVjKHN0eWxlKTtcclxuICAgICAgaWYgKG1hdGNoZXMgIT09IG51bGwpIHtcclxuICAgICAgICByID0gcGFyc2VJbnQobWF0Y2hlc1sxXSk7XHJcbiAgICAgICAgZyA9IHBhcnNlSW50KG1hdGNoZXNbMl0pO1xyXG4gICAgICAgIGIgPSBwYXJzZUludChtYXRjaGVzWzNdKTtcclxuICAgICAgICBhID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBtYXRjaGVzID0gcnhSZ2JhLmV4ZWMoc3R5bGUpO1xyXG4gICAgICAgIGlmIChtYXRjaGVzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICByID0gcGFyc2VJbnQobWF0Y2hlc1sxXSk7XHJcbiAgICAgICAgICBnID0gcGFyc2VJbnQobWF0Y2hlc1syXSk7XHJcbiAgICAgICAgICBiID0gcGFyc2VJbnQobWF0Y2hlc1szXSk7XHJcbiAgICAgICAgICBhID0gcGFyc2VGbG9hdChtYXRjaGVzWzRdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYSA9IDE7XHJcblxyXG4gICAgICAgICAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gXCJzdHJpbmdcIiAmJiBzdHlsZS5jaGFyQXQoMCkgIT09IFwiI1wiKSB7XHJcbiAgICAgICAgICAgIHZhciByZ2JDb2xvciA9IG5ldyBSR0JDb2xvcihzdHlsZSk7XHJcbiAgICAgICAgICAgIGlmIChyZ2JDb2xvci5vaykge1xyXG4gICAgICAgICAgICAgIHN0eWxlID0gcmdiQ29sb3IudG9IZXgoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzdHlsZSA9IFwiIzAwMDAwMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHN0eWxlLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICByID0gc3R5bGUuc3Vic3RyaW5nKDEsIDIpO1xyXG4gICAgICAgICAgICByICs9IHI7XHJcbiAgICAgICAgICAgIGcgPSBzdHlsZS5zdWJzdHJpbmcoMiwgMyk7XHJcbiAgICAgICAgICAgIGcgKz0gZztcclxuICAgICAgICAgICAgYiA9IHN0eWxlLnN1YnN0cmluZygzLCA0KTtcclxuICAgICAgICAgICAgYiArPSBiO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgciA9IHN0eWxlLnN1YnN0cmluZygxLCAzKTtcclxuICAgICAgICAgICAgZyA9IHN0eWxlLnN1YnN0cmluZygzLCA1KTtcclxuICAgICAgICAgICAgYiA9IHN0eWxlLnN1YnN0cmluZyg1LCA3KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHIgPSBwYXJzZUludChyLCAxNik7XHJcbiAgICAgICAgICBnID0gcGFyc2VJbnQoZywgMTYpO1xyXG4gICAgICAgICAgYiA9IHBhcnNlSW50KGIsIDE2KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIsIGE6IGEsIHN0eWxlOiBzdHlsZSB9O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIGlzRmlsbFRyYW5zcGFyZW50XHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAaWdub3JlXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgdmFyIGlzRmlsbFRyYW5zcGFyZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdHguaXNGaWxsVHJhbnNwYXJlbnQgfHwgdGhpcy5nbG9iYWxBbHBoYSA9PSAwO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lIGlzU3Ryb2tlVHJhbnNwYXJlbnRcclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBpZ25vcmVcclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuICB2YXIgaXNTdHJva2VUcmFuc3BhcmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5jdHguaXNTdHJva2VUcmFuc3BhcmVudCB8fCB0aGlzLmdsb2JhbEFscGhhID09IDApO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIFwiZmlsbGVkXCIgdGV4dCBvbiB0aGUgY2FudmFzXHJcbiAgICpcclxuICAgKiBAbmFtZSBmaWxsVGV4dFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB0ZXh0IHtTdHJpbmd9IFNwZWNpZmllcyB0aGUgdGV4dCB0aGF0IHdpbGwgYmUgd3JpdHRlbiBvbiB0aGUgY2FudmFzXHJcbiAgICogQHBhcmFtIHgge051bWJlcn0gVGhlIHggY29vcmRpbmF0ZSB3aGVyZSB0byBzdGFydCBwYWludGluZyB0aGUgdGV4dCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcylcclxuICAgKiBAcGFyYW0geSB7TnVtYmVyfSBUaGUgeSBjb29yZGluYXRlIHdoZXJlIHRvIHN0YXJ0IHBhaW50aW5nIHRoZSB0ZXh0IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKVxyXG4gICAqIEBwYXJhbSBtYXhXaWR0aCB7TnVtYmVyfSBPcHRpb25hbC4gVGhlIG1heGltdW0gYWxsb3dlZCB3aWR0aCBvZiB0aGUgdGV4dCwgaW4gcGl4ZWxzXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBmaWxsVGV4dCgpIG1ldGhvZCBkcmF3cyBmaWxsZWQgdGV4dCBvbiB0aGUgY2FudmFzLiBUaGUgZGVmYXVsdCBjb2xvciBvZiB0aGUgdGV4dCBpcyBibGFjay5cclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLmZpbGxUZXh0ID0gZnVuY3Rpb24odGV4dCwgeCwgeSwgbWF4V2lkdGgpIHtcclxuICAgIGlmIChpc05hTih4KSB8fCBpc05hTih5KSB8fCB0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLmZpbGxUZXh0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLmZpbGxUZXh0XCIpO1xyXG4gICAgfVxyXG4gICAgbWF4V2lkdGggPSBpc05hTihtYXhXaWR0aCkgPyB1bmRlZmluZWQgOiBtYXhXaWR0aDtcclxuICAgIGlmIChpc0ZpbGxUcmFuc3BhcmVudC5jYWxsKHRoaXMpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGVncyA9IHJhZDJkZWcodGhpcy5jdHgudHJhbnNmb3JtLnJvdGF0aW9uKTtcclxuXHJcbiAgICAvLyBXZSBvbmx5IHVzZSBYIGF4aXMgYXMgc2NhbGUgaGludFxyXG4gICAgdmFyIHNjYWxlID0gdGhpcy5jdHgudHJhbnNmb3JtLnNjYWxlWDtcclxuXHJcbiAgICBwdXRUZXh0LmNhbGwodGhpcywge1xyXG4gICAgICB0ZXh0OiB0ZXh0LFxyXG4gICAgICB4OiB4LFxyXG4gICAgICB5OiB5LFxyXG4gICAgICBzY2FsZTogc2NhbGUsXHJcbiAgICAgIGFuZ2xlOiBkZWdzLFxyXG4gICAgICBhbGlnbjogdGhpcy50ZXh0QWxpZ24sXHJcbiAgICAgIG1heFdpZHRoOiBtYXhXaWR0aFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgdGV4dCBvbiB0aGUgY2FudmFzIChubyBmaWxsKVxyXG4gICAqXHJcbiAgICogQG5hbWUgc3Ryb2tlVGV4dFxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSB0ZXh0IHtTdHJpbmd9IFNwZWNpZmllcyB0aGUgdGV4dCB0aGF0IHdpbGwgYmUgd3JpdHRlbiBvbiB0aGUgY2FudmFzXHJcbiAgICogQHBhcmFtIHgge051bWJlcn0gVGhlIHggY29vcmRpbmF0ZSB3aGVyZSB0byBzdGFydCBwYWludGluZyB0aGUgdGV4dCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcylcclxuICAgKiBAcGFyYW0geSB7TnVtYmVyfSBUaGUgeSBjb29yZGluYXRlIHdoZXJlIHRvIHN0YXJ0IHBhaW50aW5nIHRoZSB0ZXh0IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKVxyXG4gICAqIEBwYXJhbSBtYXhXaWR0aCB7TnVtYmVyfSBPcHRpb25hbC4gVGhlIG1heGltdW0gYWxsb3dlZCB3aWR0aCBvZiB0aGUgdGV4dCwgaW4gcGl4ZWxzXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBzdHJva2VUZXh0KCkgbWV0aG9kIGRyYXdzIHRleHQgKHdpdGggbm8gZmlsbCkgb24gdGhlIGNhbnZhcy4gVGhlIGRlZmF1bHQgY29sb3Igb2YgdGhlIHRleHQgaXMgYmxhY2suXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5zdHJva2VUZXh0ID0gZnVuY3Rpb24odGV4dCwgeCwgeSwgbWF4V2lkdGgpIHtcclxuICAgIGlmIChpc05hTih4KSB8fCBpc05hTih5KSB8fCB0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLnN0cm9rZVRleHQ6IEludmFsaWQgYXJndW1lbnRzXCIsIGFyZ3VtZW50cyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5jb250ZXh0MmQuc3Ryb2tlVGV4dFwiKTtcclxuICAgIH1cclxuICAgIGlmIChpc1N0cm9rZVRyYW5zcGFyZW50LmNhbGwodGhpcykpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIG1heFdpZHRoID0gaXNOYU4obWF4V2lkdGgpID8gdW5kZWZpbmVkIDogbWF4V2lkdGg7XHJcblxyXG4gICAgdmFyIGRlZ3MgPSByYWQyZGVnKHRoaXMuY3R4LnRyYW5zZm9ybS5yb3RhdGlvbik7XHJcbiAgICB2YXIgc2NhbGUgPSB0aGlzLmN0eC50cmFuc2Zvcm0uc2NhbGVYO1xyXG5cclxuICAgIHB1dFRleHQuY2FsbCh0aGlzLCB7XHJcbiAgICAgIHRleHQ6IHRleHQsXHJcbiAgICAgIHg6IHgsXHJcbiAgICAgIHk6IHksXHJcbiAgICAgIHNjYWxlOiBzY2FsZSxcclxuICAgICAgcmVuZGVyaW5nTW9kZTogXCJzdHJva2VcIixcclxuICAgICAgYW5nbGU6IGRlZ3MsXHJcbiAgICAgIGFsaWduOiB0aGlzLnRleHRBbGlnbixcclxuICAgICAgbWF4V2lkdGg6IG1heFdpZHRoXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSB3aWR0aCBvZiB0aGUgc3BlY2lmaWVkIHRleHRcclxuICAgKlxyXG4gICAqIEBuYW1lIG1lYXN1cmVUZXh0XHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHRleHQge1N0cmluZ30gVGhlIHRleHQgdG8gYmUgbWVhc3VyZWRcclxuICAgKiBAZGVzY3JpcHRpb24gVGhlIG1lYXN1cmVUZXh0KCkgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHdpZHRoIG9mIHRoZSBzcGVjaWZpZWQgdGV4dCwgaW4gcGl4ZWxzLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwianNQREYuY29udGV4dDJkLm1lYXN1cmVUZXh0OiBJbnZhbGlkIGFyZ3VtZW50c1wiLFxyXG4gICAgICAgIGFyZ3VtZW50c1xyXG4gICAgICApO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLm1lYXN1cmVUZXh0XCJcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIHZhciBwZGYgPSB0aGlzLnBkZjtcclxuICAgIHZhciBrID0gdGhpcy5wZGYuaW50ZXJuYWwuc2NhbGVGYWN0b3I7XHJcblxyXG4gICAgdmFyIGZvbnRTaXplID0gcGRmLmludGVybmFsLmdldEZvbnRTaXplKCk7XHJcbiAgICB2YXIgdHh0V2lkdGggPVxyXG4gICAgICAocGRmLmdldFN0cmluZ1VuaXRXaWR0aCh0ZXh0KSAqIGZvbnRTaXplKSAvIHBkZi5pbnRlcm5hbC5zY2FsZUZhY3RvcjtcclxuICAgIHR4dFdpZHRoICo9IE1hdGgucm91bmQoKChrICogOTYpIC8gNzIpICogMTAwMDApIC8gMTAwMDA7XHJcblxyXG4gICAgdmFyIFRleHRNZXRyaWNzID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgdmFyIF93aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgMDtcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwid2lkdGhcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gX3dpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3MoeyB3aWR0aDogdHh0V2lkdGggfSk7XHJcbiAgfTtcclxuXHJcbiAgLy9UcmFuc2Zvcm1hdGlvbnNcclxuXHJcbiAgLyoqXHJcbiAgICogU2NhbGVzIHRoZSBjdXJyZW50IGRyYXdpbmcgYmlnZ2VyIG9yIHNtYWxsZXJcclxuICAgKlxyXG4gICAqIEBuYW1lIHNjYWxlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHNjYWxld2lkdGgge051bWJlcn0gU2NhbGVzIHRoZSB3aWR0aCBvZiB0aGUgY3VycmVudCBkcmF3aW5nICgxPTEwMCUsIDAuNT01MCUsIDI9MjAwJSwgZXRjLilcclxuICAgKiBAcGFyYW0gc2NhbGVoZWlnaHQge051bWJlcn0gU2NhbGVzIHRoZSBoZWlnaHQgb2YgdGhlIGN1cnJlbnQgZHJhd2luZyAoMT0xMDAlLCAwLjU9NTAlLCAyPTIwMCUsIGV0Yy4pXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSBzY2FsZSgpIG1ldGhvZCBzY2FsZXMgdGhlIGN1cnJlbnQgZHJhd2luZywgYmlnZ2VyIG9yIHNtYWxsZXIuXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uKHNjYWxld2lkdGgsIHNjYWxlaGVpZ2h0KSB7XHJcbiAgICBpZiAoaXNOYU4oc2NhbGV3aWR0aCkgfHwgaXNOYU4oc2NhbGVoZWlnaHQpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQuc2NhbGU6IEludmFsaWQgYXJndW1lbnRzXCIsIGFyZ3VtZW50cyk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHBhc3NlZCB0byBqc1BERi5jb250ZXh0MmQuc2NhbGVcIik7XHJcbiAgICB9XHJcbiAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeChzY2FsZXdpZHRoLCAwLjAsIDAuMCwgc2NhbGVoZWlnaHQsIDAuMCwgMC4wKTtcclxuICAgIHRoaXMuY3R4LnRyYW5zZm9ybSA9IHRoaXMuY3R4LnRyYW5zZm9ybS5tdWx0aXBseShtYXRyaXgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJvdGF0ZXMgdGhlIGN1cnJlbnQgZHJhd2luZ1xyXG4gICAqXHJcbiAgICogQG5hbWUgcm90YXRlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIGFuZ2xlIHtOdW1iZXJ9IFRoZSByb3RhdGlvbiBhbmdsZSwgaW4gcmFkaWFucy5cclxuICAgKiBAZGVzY3JpcHRpb24gVG8gY2FsY3VsYXRlIGZyb20gZGVncmVlcyB0byByYWRpYW5zOiBkZWdyZWVzKk1hdGguUEkvMTgwLiA8YnIgLz5cclxuICAgKiBFeGFtcGxlOiB0byByb3RhdGUgNSBkZWdyZWVzLCBzcGVjaWZ5IHRoZSBmb2xsb3dpbmc6IDUqTWF0aC5QSS8xODBcclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XHJcbiAgICBpZiAoaXNOYU4oYW5nbGUpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQucm90YXRlOiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnJvdGF0ZVwiKTtcclxuICAgIH1cclxuICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KFxyXG4gICAgICBNYXRoLmNvcyhhbmdsZSksXHJcbiAgICAgIE1hdGguc2luKGFuZ2xlKSxcclxuICAgICAgLU1hdGguc2luKGFuZ2xlKSxcclxuICAgICAgTWF0aC5jb3MoYW5nbGUpLFxyXG4gICAgICAwLjAsXHJcbiAgICAgIDAuMFxyXG4gICAgKTtcclxuICAgIHRoaXMuY3R4LnRyYW5zZm9ybSA9IHRoaXMuY3R4LnRyYW5zZm9ybS5tdWx0aXBseShtYXRyaXgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbWFwcyB0aGUgKDAsMCkgcG9zaXRpb24gb24gdGhlIGNhbnZhc1xyXG4gICAqXHJcbiAgICogQG5hbWUgdHJhbnNsYXRlXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHgge051bWJlcn0gVGhlIHZhbHVlIHRvIGFkZCB0byBob3Jpem9udGFsICh4KSBjb29yZGluYXRlc1xyXG4gICAqIEBwYXJhbSB5IHtOdW1iZXJ9IFRoZSB2YWx1ZSB0byBhZGQgdG8gdmVydGljYWwgKHkpIGNvb3JkaW5hdGVzXHJcbiAgICogQGRlc2NyaXB0aW9uIFRoZSB0cmFuc2xhdGUoKSBtZXRob2QgcmVtYXBzIHRoZSAoMCwwKSBwb3NpdGlvbiBvbiB0aGUgY2FudmFzLlxyXG4gICAqL1xyXG4gIENvbnRleHQyRC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5jb250ZXh0MmQudHJhbnNsYXRlOiBJbnZhbGlkIGFyZ3VtZW50c1wiLCBhcmd1bWVudHMpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyBwYXNzZWQgdG8ganNQREYuY29udGV4dDJkLnRyYW5zbGF0ZVwiKTtcclxuICAgIH1cclxuICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KDEuMCwgMC4wLCAwLjAsIDEuMCwgeCwgeSk7XHJcbiAgICB0aGlzLmN0eC50cmFuc2Zvcm0gPSB0aGlzLmN0eC50cmFuc2Zvcm0ubXVsdGlwbHkobWF0cml4KTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBSZXBsYWNlcyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggZm9yIHRoZSBkcmF3aW5nXHJcbiAgICpcclxuICAgKiBAbmFtZSB0cmFuc2Zvcm1cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0gYSB7TnVtYmVyfSBIb3Jpem9udGFsIHNjYWxpbmdcclxuICAgKiBAcGFyYW0gYiB7TnVtYmVyfSBIb3Jpem9udGFsIHNrZXdpbmdcclxuICAgKiBAcGFyYW0gYyB7TnVtYmVyfSBWZXJ0aWNhbCBza2V3aW5nXHJcbiAgICogQHBhcmFtIGQge051bWJlcn0gVmVydGljYWwgc2NhbGluZ1xyXG4gICAqIEBwYXJhbSBlIHtOdW1iZXJ9IEhvcml6b250YWwgbW92aW5nXHJcbiAgICogQHBhcmFtIGYge051bWJlcn0gVmVydGljYWwgbW92aW5nXHJcbiAgICogQGRlc2NyaXB0aW9uIEVhY2ggb2JqZWN0IG9uIHRoZSBjYW52YXMgaGFzIGEgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguPGJyIC8+PGJyIC8+VGhlIHRyYW5zZm9ybSgpIG1ldGhvZCByZXBsYWNlcyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIEl0IG11bHRpcGxpZXMgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGggdGhlIG1hdHJpeCBkZXNjcmliZWQgYnk6PGJyIC8+PGJyIC8+PGJyIC8+PGJyIC8+YSAgICBjICAgIGU8YnIgLz48YnIgLz5iICAgIGQgICAgZjxiciAvPjxiciAvPjAgICAgMCAgICAxPGJyIC8+PGJyIC8+SW4gb3RoZXIgd29yZHMsIHRoZSB0cmFuc2Zvcm0oKSBtZXRob2QgbGV0cyB5b3Ugc2NhbGUsIHJvdGF0ZSwgbW92ZSwgYW5kIHNrZXcgdGhlIGN1cnJlbnQgY29udGV4dC5cclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYpIHtcclxuICAgIGlmIChpc05hTihhKSB8fCBpc05hTihiKSB8fCBpc05hTihjKSB8fCBpc05hTihkKSB8fCBpc05hTihlKSB8fCBpc05hTihmKSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwianNQREYuY29udGV4dDJkLnRyYW5zZm9ybTogSW52YWxpZCBhcmd1bWVudHNcIiwgYXJndW1lbnRzKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgcGFzc2VkIHRvIGpzUERGLmNvbnRleHQyZC50cmFuc2Zvcm1cIik7XHJcbiAgICB9XHJcbiAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeChhLCBiLCBjLCBkLCBlLCBmKTtcclxuICAgIHRoaXMuY3R4LnRyYW5zZm9ybSA9IHRoaXMuY3R4LnRyYW5zZm9ybS5tdWx0aXBseShtYXRyaXgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0cyB0aGUgY3VycmVudCB0cmFuc2Zvcm0gdG8gdGhlIGlkZW50aXR5IG1hdHJpeC4gVGhlbiBydW5zIHRyYW5zZm9ybSgpXHJcbiAgICpcclxuICAgKiBAbmFtZSBzZXRUcmFuc2Zvcm1cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcGFyYW0gYSB7TnVtYmVyfSBIb3Jpem9udGFsIHNjYWxpbmdcclxuICAgKiBAcGFyYW0gYiB7TnVtYmVyfSBIb3Jpem9udGFsIHNrZXdpbmdcclxuICAgKiBAcGFyYW0gYyB7TnVtYmVyfSBWZXJ0aWNhbCBza2V3aW5nXHJcbiAgICogQHBhcmFtIGQge051bWJlcn0gVmVydGljYWwgc2NhbGluZ1xyXG4gICAqIEBwYXJhbSBlIHtOdW1iZXJ9IEhvcml6b250YWwgbW92aW5nXHJcbiAgICogQHBhcmFtIGYge051bWJlcn0gVmVydGljYWwgbW92aW5nXHJcbiAgICogQGRlc2NyaXB0aW9uIEVhY2ggb2JqZWN0IG9uIHRoZSBjYW52YXMgaGFzIGEgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIDxiciAvPjxiciAvPlRoZSBzZXRUcmFuc2Zvcm0oKSBtZXRob2QgcmVzZXRzIHRoZSBjdXJyZW50IHRyYW5zZm9ybSB0byB0aGUgaWRlbnRpdHkgbWF0cml4LCBhbmQgdGhlbiBydW5zIHRyYW5zZm9ybSgpIHdpdGggdGhlIHNhbWUgYXJndW1lbnRzLjxiciAvPjxiciAvPkluIG90aGVyIHdvcmRzLCB0aGUgc2V0VHJhbnNmb3JtKCkgbWV0aG9kIGxldHMgeW91IHNjYWxlLCByb3RhdGUsIG1vdmUsIGFuZCBza2V3IHRoZSBjdXJyZW50IGNvbnRleHQuXHJcbiAgICovXHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmKSB7XHJcbiAgICBhID0gaXNOYU4oYSkgPyAxIDogYTtcclxuICAgIGIgPSBpc05hTihiKSA/IDAgOiBiO1xyXG4gICAgYyA9IGlzTmFOKGMpID8gMCA6IGM7XHJcbiAgICBkID0gaXNOYU4oZCkgPyAxIDogZDtcclxuICAgIGUgPSBpc05hTihlKSA/IDAgOiBlO1xyXG4gICAgZiA9IGlzTmFOKGYpID8gMCA6IGY7XHJcbiAgICB0aGlzLmN0eC50cmFuc2Zvcm0gPSBuZXcgTWF0cml4KGEsIGIsIGMsIGQsIGUsIGYpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFNob3VsZCBvbmx5IGJlIHVzZWQgaWYgcGFnZVdyYXBZRW5hYmxlZCBpcyB0cnVlXHJcbiAgICpcclxuICAgKiBAbmFtZSBzZXRQYWdlQnlZUG9zaXRpb25cclxuICAgKiBAZnVuY3Rpb25cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBpZ25vcmVcclxuICAgKiBAcmV0dXJucyBPbmUtYmFzZWQgUGFnZSBOdW1iZXJcclxuICAgKi9cclxuICB2YXIgc2V0UGFnZUJ5WVBvc2l0aW9uID0gZnVuY3Rpb24oeSkge1xyXG4gICAgaWYgKHRoaXMucGFnZVdyYXBZRW5hYmxlZCkge1xyXG4gICAgICB0aGlzLmxhc3RCcmVhayA9IDA7XHJcbiAgICAgIHZhciBtYW51YWxCcmVha3MgPSAwO1xyXG4gICAgICB2YXIgYXV0b0JyZWFrcyA9IDA7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYWdlQnJlYWtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHkgPj0gdGhpcy5wYWdlQnJlYWtzW2ldKSB7XHJcbiAgICAgICAgICBtYW51YWxCcmVha3MrKztcclxuICAgICAgICAgIGlmICh0aGlzLmxhc3RCcmVhayA9PT0gMCkge1xyXG4gICAgICAgICAgICBhdXRvQnJlYWtzKys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgc3BhY2VCZXR3ZWVuTGFzdEJyZWFrID0gdGhpcy5wYWdlQnJlYWtzW2ldIC0gdGhpcy5sYXN0QnJlYWs7XHJcbiAgICAgICAgICB0aGlzLmxhc3RCcmVhayA9IHRoaXMucGFnZUJyZWFrc1tpXTtcclxuICAgICAgICAgIHZhciBwYWdlc1NpbmNlTGFzdEJyZWFrID0gTWF0aC5mbG9vcihcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuTGFzdEJyZWFrIC8gdGhpcy5wYWdlV3JhcFlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhdXRvQnJlYWtzICs9IHBhZ2VzU2luY2VMYXN0QnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmxhc3RCcmVhayA9PT0gMCkge1xyXG4gICAgICAgIHZhciBwYWdlc1NpbmNlTGFzdEJyZWFrID0gTWF0aC5mbG9vcih5IC8gdGhpcy5wYWdlV3JhcFkpICsgMTtcclxuICAgICAgICBhdXRvQnJlYWtzICs9IHBhZ2VzU2luY2VMYXN0QnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGF1dG9CcmVha3MgKyBtYW51YWxCcmVha3M7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Q3VycmVudFBhZ2VJbmZvKCkucGFnZU51bWJlcjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgaGFzTWFyZ2lucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgdGhpcy5tYXJnaW5bMF0gPiAwIHx8XHJcbiAgICAgIHRoaXMubWFyZ2luWzFdID4gMCB8fFxyXG4gICAgICB0aGlzLm1hcmdpblsyXSA+IDAgfHxcclxuICAgICAgdGhpcy5tYXJnaW5bM10gPiAwXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGFuIGltYWdlLCBjYW52YXMsIG9yIHZpZGVvIG9udG8gdGhlIGNhbnZhc1xyXG4gICAqXHJcbiAgICogQGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIGltZyB7fSBTcGVjaWZpZXMgdGhlIGltYWdlLCBjYW52YXMsIG9yIHZpZGVvIGVsZW1lbnQgdG8gdXNlXHJcbiAgICogQHBhcmFtIHN4IHtOdW1iZXJ9IE9wdGlvbmFsLiBUaGUgeCBjb29yZGluYXRlIHdoZXJlIHRvIHN0YXJ0IGNsaXBwaW5nXHJcbiAgICogQHBhcmFtIHN5IHtOdW1iZXJ9IE9wdGlvbmFsLiBUaGUgeSBjb29yZGluYXRlIHdoZXJlIHRvIHN0YXJ0IGNsaXBwaW5nXHJcbiAgICogQHBhcmFtIHN3aWR0aCB7TnVtYmVyfSBPcHRpb25hbC4gVGhlIHdpZHRoIG9mIHRoZSBjbGlwcGVkIGltYWdlXHJcbiAgICogQHBhcmFtIHNoZWlnaHQge051bWJlcn0gT3B0aW9uYWwuIFRoZSBoZWlnaHQgb2YgdGhlIGNsaXBwZWQgaW1hZ2VcclxuICAgKiBAcGFyYW0geCB7TnVtYmVyfSBUaGUgeCBjb29yZGluYXRlIHdoZXJlIHRvIHBsYWNlIHRoZSBpbWFnZSBvbiB0aGUgY2FudmFzXHJcbiAgICogQHBhcmFtIHkge051bWJlcn0gVGhlIHkgY29vcmRpbmF0ZSB3aGVyZSB0byBwbGFjZSB0aGUgaW1hZ2Ugb24gdGhlIGNhbnZhc1xyXG4gICAqIEBwYXJhbSB3aWR0aCB7TnVtYmVyfSBPcHRpb25hbC4gVGhlIHdpZHRoIG9mIHRoZSBpbWFnZSB0byB1c2UgKHN0cmV0Y2ggb3IgcmVkdWNlIHRoZSBpbWFnZSlcclxuICAgKiBAcGFyYW0gaGVpZ2h0IHtOdW1iZXJ9IE9wdGlvbmFsLiBUaGUgaGVpZ2h0IG9mIHRoZSBpbWFnZSB0byB1c2UgKHN0cmV0Y2ggb3IgcmVkdWNlIHRoZSBpbWFnZSlcclxuICAgKi9cclxuICBDb250ZXh0MkQucHJvdG90eXBlLmRyYXdJbWFnZSA9IGZ1bmN0aW9uKFxyXG4gICAgaW1nLFxyXG4gICAgc3gsXHJcbiAgICBzeSxcclxuICAgIHN3aWR0aCxcclxuICAgIHNoZWlnaHQsXHJcbiAgICB4LFxyXG4gICAgeSxcclxuICAgIHdpZHRoLFxyXG4gICAgaGVpZ2h0XHJcbiAgKSB7XHJcbiAgICB2YXIgaW1hZ2VQcm9wZXJ0aWVzID0gdGhpcy5wZGYuZ2V0SW1hZ2VQcm9wZXJ0aWVzKGltZyk7XHJcbiAgICB2YXIgZmFjdG9yWCA9IDE7XHJcbiAgICB2YXIgZmFjdG9yWSA9IDE7XHJcbiAgICB2YXIgaXNDbGlwO1xyXG5cclxuICAgIHZhciBjbGlwRmFjdG9yWCA9IDE7XHJcbiAgICB2YXIgY2xpcEZhY3RvclkgPSAxO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygc3dpZHRoICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aWR0aCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICBpc0NsaXAgPSB0cnVlO1xyXG4gICAgICBjbGlwRmFjdG9yWCA9IHdpZHRoIC8gc3dpZHRoO1xyXG4gICAgICBjbGlwRmFjdG9yWSA9IGhlaWdodCAvIHNoZWlnaHQ7XHJcbiAgICAgIGZhY3RvclggPSAoKGltYWdlUHJvcGVydGllcy53aWR0aCAvIHN3aWR0aCkgKiB3aWR0aCkgLyBzd2lkdGg7XHJcbiAgICAgIGZhY3RvclkgPSAoKGltYWdlUHJvcGVydGllcy5oZWlnaHQgLyBzaGVpZ2h0KSAqIGhlaWdodCkgLyBzaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vaXMgc3ggYW5kIHN5IGFyZSBzZXQgYW5kIHggYW5kIHkgbm90LCBzZXQgeCBhbmQgeSB3aXRoIHZhbHVlcyBvZiBzeCBhbmQgc3lcclxuICAgIGlmICh0eXBlb2YgeCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICB4ID0gc3g7XHJcbiAgICAgIHkgPSBzeTtcclxuICAgICAgc3ggPSAwO1xyXG4gICAgICBzeSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBzd2lkdGggIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpZHRoID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHdpZHRoID0gc3dpZHRoO1xyXG4gICAgICBoZWlnaHQgPSBzaGVpZ2h0O1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBzd2lkdGggPT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpZHRoID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgIHdpZHRoID0gaW1hZ2VQcm9wZXJ0aWVzLndpZHRoO1xyXG4gICAgICBoZWlnaHQgPSBpbWFnZVByb3BlcnRpZXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkZWNvbXBvc2VkVHJhbnNmb3JtYXRpb25NYXRyaXggPSB0aGlzLmN0eC50cmFuc2Zvcm0uZGVjb21wb3NlKCk7XHJcbiAgICB2YXIgYW5nbGUgPSByYWQyZGVnKGRlY29tcG9zZWRUcmFuc2Zvcm1hdGlvbk1hdHJpeC5yb3RhdGUuc2h4KTtcclxuICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XHJcbiAgICBtYXRyaXggPSBtYXRyaXgubXVsdGlwbHkoZGVjb21wb3NlZFRyYW5zZm9ybWF0aW9uTWF0cml4LnRyYW5zbGF0ZSk7XHJcbiAgICBtYXRyaXggPSBtYXRyaXgubXVsdGlwbHkoZGVjb21wb3NlZFRyYW5zZm9ybWF0aW9uTWF0cml4LnNrZXcpO1xyXG4gICAgbWF0cml4ID0gbWF0cml4Lm11bHRpcGx5KGRlY29tcG9zZWRUcmFuc2Zvcm1hdGlvbk1hdHJpeC5zY2FsZSk7XHJcbiAgICB2YXIgeFJlY3QgPSBtYXRyaXguYXBwbHlUb1JlY3RhbmdsZShcclxuICAgICAgbmV3IFJlY3RhbmdsZShcclxuICAgICAgICB4IC0gc3ggKiBjbGlwRmFjdG9yWCxcclxuICAgICAgICB5IC0gc3kgKiBjbGlwRmFjdG9yWSxcclxuICAgICAgICBzd2lkdGggKiBmYWN0b3JYLFxyXG4gICAgICAgIHNoZWlnaHQgKiBmYWN0b3JZXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgICB2YXIgcGFnZUFycmF5ID0gZ2V0UGFnZXNCeVBhdGguY2FsbCh0aGlzLCB4UmVjdCk7XHJcbiAgICB2YXIgcGFnZXMgPSBbXTtcclxuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBwYWdlQXJyYXkubGVuZ3RoOyBpaSArPSAxKSB7XHJcbiAgICAgIGlmIChwYWdlcy5pbmRleE9mKHBhZ2VBcnJheVtpaV0pID09PSAtMSkge1xyXG4gICAgICAgIHBhZ2VzLnB1c2gocGFnZUFycmF5W2lpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzb3J0UGFnZXMocGFnZXMpO1xyXG5cclxuICAgIHZhciBjbGlwUGF0aDtcclxuICAgIGlmICh0aGlzLmF1dG9QYWdpbmcpIHtcclxuICAgICAgdmFyIG1pbiA9IHBhZ2VzWzBdO1xyXG4gICAgICB2YXIgbWF4ID0gcGFnZXNbcGFnZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgIGZvciAodmFyIGkgPSBtaW47IGkgPCBtYXggKyAxOyBpKyspIHtcclxuICAgICAgICB0aGlzLnBkZi5zZXRQYWdlKGkpO1xyXG5cclxuICAgICAgICB2YXIgcGFnZVdpZHRoTWludXNNYXJnaW5zID1cclxuICAgICAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC0gdGhpcy5tYXJnaW5bM10gLSB0aGlzLm1hcmdpblsxXTtcclxuICAgICAgICB2YXIgdG9wTWFyZ2luID0gaSA9PT0gMSA/IHRoaXMucG9zWSArIHRoaXMubWFyZ2luWzBdIDogdGhpcy5tYXJnaW5bMF07XHJcbiAgICAgICAgdmFyIGZpcnN0UGFnZUhlaWdodCA9XHJcbiAgICAgICAgICB0aGlzLnBkZi5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQgLVxyXG4gICAgICAgICAgdGhpcy5wb3NZIC1cclxuICAgICAgICAgIHRoaXMubWFyZ2luWzBdIC1cclxuICAgICAgICAgIHRoaXMubWFyZ2luWzJdO1xyXG4gICAgICAgIHZhciBwYWdlSGVpZ2h0TWludXNNYXJnaW5zID1cclxuICAgICAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCAtIHRoaXMubWFyZ2luWzBdIC0gdGhpcy5tYXJnaW5bMl07XHJcbiAgICAgICAgdmFyIHByZXZpb3VzUGFnZUhlaWdodFN1bSA9XHJcbiAgICAgICAgICBpID09PSAxID8gMCA6IGZpcnN0UGFnZUhlaWdodCArIChpIC0gMikgKiBwYWdlSGVpZ2h0TWludXNNYXJnaW5zO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdHguY2xpcF9wYXRoLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgdmFyIHRtcFBhdGhzID0gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgY2xpcFBhdGggPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY3R4LmNsaXBfcGF0aCkpO1xyXG4gICAgICAgICAgdGhpcy5wYXRoID0gcGF0aFBvc2l0aW9uUmVkbyhcclxuICAgICAgICAgICAgY2xpcFBhdGgsXHJcbiAgICAgICAgICAgIHRoaXMucG9zWCArIHRoaXMubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAtcHJldmlvdXNQYWdlSGVpZ2h0U3VtICsgdG9wTWFyZ2luICsgdGhpcy5jdHgucHJldlBhZ2VMYXN0RWxlbU9mZnNldFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGRyYXdQYXRocy5jYWxsKHRoaXMsIFwiZmlsbFwiLCB0cnVlKTtcclxuICAgICAgICAgIHRoaXMucGF0aCA9IHRtcFBhdGhzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG1wUmVjdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoeFJlY3QpKTtcclxuICAgICAgICB0bXBSZWN0ID0gcGF0aFBvc2l0aW9uUmVkbyhcclxuICAgICAgICAgIFt0bXBSZWN0XSxcclxuICAgICAgICAgIHRoaXMucG9zWCArIHRoaXMubWFyZ2luWzNdLFxyXG4gICAgICAgICAgLXByZXZpb3VzUGFnZUhlaWdodFN1bSArIHRvcE1hcmdpbiArIHRoaXMuY3R4LnByZXZQYWdlTGFzdEVsZW1PZmZzZXRcclxuICAgICAgICApWzBdO1xyXG5cclxuICAgICAgICBjb25zdCBuZWVkc0NsaXBwaW5nID0gKGkgPiBtaW4gfHwgaSA8IG1heCkgJiYgaGFzTWFyZ2lucy5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAobmVlZHNDbGlwcGluZykge1xyXG4gICAgICAgICAgdGhpcy5wZGYuc2F2ZUdyYXBoaWNzU3RhdGUoKTtcclxuICAgICAgICAgIHRoaXMucGRmXHJcbiAgICAgICAgICAgIC5yZWN0KFxyXG4gICAgICAgICAgICAgIHRoaXMubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgIHRoaXMubWFyZ2luWzBdLFxyXG4gICAgICAgICAgICAgIHBhZ2VXaWR0aE1pbnVzTWFyZ2lucyxcclxuICAgICAgICAgICAgICBwYWdlSGVpZ2h0TWludXNNYXJnaW5zLFxyXG4gICAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuY2xpcCgpXHJcbiAgICAgICAgICAgIC5kaXNjYXJkUGF0aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBkZi5hZGRJbWFnZShcclxuICAgICAgICAgIGltZyxcclxuICAgICAgICAgIFwiSlBFR1wiLFxyXG4gICAgICAgICAgdG1wUmVjdC54LFxyXG4gICAgICAgICAgdG1wUmVjdC55LFxyXG4gICAgICAgICAgdG1wUmVjdC53LFxyXG4gICAgICAgICAgdG1wUmVjdC5oLFxyXG4gICAgICAgICAgbnVsbCxcclxuICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICBhbmdsZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKG5lZWRzQ2xpcHBpbmcpIHtcclxuICAgICAgICAgIHRoaXMucGRmLnJlc3RvcmVHcmFwaGljc1N0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBkZi5hZGRJbWFnZShcclxuICAgICAgICBpbWcsXHJcbiAgICAgICAgXCJKUEVHXCIsXHJcbiAgICAgICAgeFJlY3QueCxcclxuICAgICAgICB4UmVjdC55LFxyXG4gICAgICAgIHhSZWN0LncsXHJcbiAgICAgICAgeFJlY3QuaCxcclxuICAgICAgICBudWxsLFxyXG4gICAgICAgIG51bGwsXHJcbiAgICAgICAgYW5nbGVcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgZ2V0UGFnZXNCeVBhdGggPSBmdW5jdGlvbihwYXRoLCBwYWdlV3JhcFgsIHBhZ2VXcmFwWSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgcGFnZVdyYXBYID0gcGFnZVdyYXBYIHx8IHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoO1xyXG4gICAgcGFnZVdyYXBZID1cclxuICAgICAgcGFnZVdyYXBZIHx8XHJcbiAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCAtIHRoaXMubWFyZ2luWzBdIC0gdGhpcy5tYXJnaW5bMl07XHJcbiAgICB2YXIgeU9mZnNldCA9IHRoaXMucG9zWSArIHRoaXMuY3R4LnByZXZQYWdlTGFzdEVsZW1PZmZzZXQ7XHJcblxyXG4gICAgc3dpdGNoIChwYXRoLnR5cGUpIHtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgY2FzZSBcIm10XCI6XHJcbiAgICAgIGNhc2UgXCJsdFwiOlxyXG4gICAgICAgIHJlc3VsdC5wdXNoKE1hdGguZmxvb3IoKHBhdGgueSArIHlPZmZzZXQpIC8gcGFnZVdyYXBZKSArIDEpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiYXJjXCI6XHJcbiAgICAgICAgcmVzdWx0LnB1c2goXHJcbiAgICAgICAgICBNYXRoLmZsb29yKChwYXRoLnkgKyB5T2Zmc2V0IC0gcGF0aC5yYWRpdXMpIC8gcGFnZVdyYXBZKSArIDFcclxuICAgICAgICApO1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKFxyXG4gICAgICAgICAgTWF0aC5mbG9vcigocGF0aC55ICsgeU9mZnNldCArIHBhdGgucmFkaXVzKSAvIHBhZ2VXcmFwWSkgKyAxXHJcbiAgICAgICAgKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcInFjdFwiOlxyXG4gICAgICAgIHZhciByZWN0T2ZRdWFkcmF0aWNDdXJ2ZSA9IGdldFF1YWRyYXRpY0N1cnZlQm91bmRhcnkoXHJcbiAgICAgICAgICB0aGlzLmN0eC5sYXN0UG9pbnQueCxcclxuICAgICAgICAgIHRoaXMuY3R4Lmxhc3RQb2ludC55LFxyXG4gICAgICAgICAgcGF0aC54MSxcclxuICAgICAgICAgIHBhdGgueTEsXHJcbiAgICAgICAgICBwYXRoLngsXHJcbiAgICAgICAgICBwYXRoLnlcclxuICAgICAgICApO1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKFxyXG4gICAgICAgICAgTWF0aC5mbG9vcigocmVjdE9mUXVhZHJhdGljQ3VydmUueSArIHlPZmZzZXQpIC8gcGFnZVdyYXBZKSArIDFcclxuICAgICAgICApO1xyXG4gICAgICAgIHJlc3VsdC5wdXNoKFxyXG4gICAgICAgICAgTWF0aC5mbG9vcihcclxuICAgICAgICAgICAgKHJlY3RPZlF1YWRyYXRpY0N1cnZlLnkgKyByZWN0T2ZRdWFkcmF0aWNDdXJ2ZS5oICsgeU9mZnNldCkgL1xyXG4gICAgICAgICAgICAgIHBhZ2VXcmFwWVxyXG4gICAgICAgICAgKSArIDFcclxuICAgICAgICApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiYmN0XCI6XHJcbiAgICAgICAgdmFyIHJlY3RPZkJlemllckN1cnZlID0gZ2V0QmV6aWVyQ3VydmVCb3VuZGFyeShcclxuICAgICAgICAgIHRoaXMuY3R4Lmxhc3RQb2ludC54LFxyXG4gICAgICAgICAgdGhpcy5jdHgubGFzdFBvaW50LnksXHJcbiAgICAgICAgICBwYXRoLngxLFxyXG4gICAgICAgICAgcGF0aC55MSxcclxuICAgICAgICAgIHBhdGgueDIsXHJcbiAgICAgICAgICBwYXRoLnkyLFxyXG4gICAgICAgICAgcGF0aC54LFxyXG4gICAgICAgICAgcGF0aC55XHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXN1bHQucHVzaChcclxuICAgICAgICAgIE1hdGguZmxvb3IoKHJlY3RPZkJlemllckN1cnZlLnkgKyB5T2Zmc2V0KSAvIHBhZ2VXcmFwWSkgKyAxXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXN1bHQucHVzaChcclxuICAgICAgICAgIE1hdGguZmxvb3IoXHJcbiAgICAgICAgICAgIChyZWN0T2ZCZXppZXJDdXJ2ZS55ICsgcmVjdE9mQmV6aWVyQ3VydmUuaCArIHlPZmZzZXQpIC8gcGFnZVdyYXBZXHJcbiAgICAgICAgICApICsgMVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJyZWN0XCI6XHJcbiAgICAgICAgcmVzdWx0LnB1c2goTWF0aC5mbG9vcigocGF0aC55ICsgeU9mZnNldCkgLyBwYWdlV3JhcFkpICsgMSk7XHJcbiAgICAgICAgcmVzdWx0LnB1c2goTWF0aC5mbG9vcigocGF0aC55ICsgcGF0aC5oICsgeU9mZnNldCkgLyBwYWdlV3JhcFkpICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgd2hpbGUgKHRoaXMucGRmLmludGVybmFsLmdldE51bWJlck9mUGFnZXMoKSA8IHJlc3VsdFtpXSkge1xyXG4gICAgICAgIGFkZFBhZ2UuY2FsbCh0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9O1xyXG5cclxuICB2YXIgYWRkUGFnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xyXG4gICAgdmFyIHN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcclxuICAgIHZhciBmb250ID0gdGhpcy5mb250O1xyXG4gICAgdmFyIGxpbmVDYXAgPSB0aGlzLmxpbmVDYXA7XHJcbiAgICB2YXIgbGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XHJcbiAgICB2YXIgbGluZUpvaW4gPSB0aGlzLmxpbmVKb2luO1xyXG4gICAgdGhpcy5wZGYuYWRkUGFnZSgpO1xyXG4gICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XHJcbiAgICB0aGlzLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XHJcbiAgICB0aGlzLmZvbnQgPSBmb250O1xyXG4gICAgdGhpcy5saW5lQ2FwID0gbGluZUNhcDtcclxuICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xyXG4gICAgdGhpcy5saW5lSm9pbiA9IGxpbmVKb2luO1xyXG4gIH07XHJcblxyXG4gIHZhciBwYXRoUG9zaXRpb25SZWRvID0gZnVuY3Rpb24ocGF0aHMsIHgsIHkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgc3dpdGNoIChwYXRoc1tpXS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBcImJjdFwiOlxyXG4gICAgICAgICAgcGF0aHNbaV0ueDIgKz0geDtcclxuICAgICAgICAgIHBhdGhzW2ldLnkyICs9IHk7XHJcbiAgICAgICAgY2FzZSBcInFjdFwiOlxyXG4gICAgICAgICAgcGF0aHNbaV0ueDEgKz0geDtcclxuICAgICAgICAgIHBhdGhzW2ldLnkxICs9IHk7XHJcbiAgICAgICAgY2FzZSBcIm10XCI6XHJcbiAgICAgICAgY2FzZSBcImx0XCI6XHJcbiAgICAgICAgY2FzZSBcImFyY1wiOlxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBwYXRoc1tpXS54ICs9IHg7XHJcbiAgICAgICAgICBwYXRoc1tpXS55ICs9IHk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwYXRocztcclxuICB9O1xyXG5cclxuICB2YXIgc29ydFBhZ2VzID0gZnVuY3Rpb24ocGFnZXMpIHtcclxuICAgIHJldHVybiBwYWdlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgcmV0dXJuIGEgLSBiO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHBhdGhQcmVQcm9jZXNzID0gZnVuY3Rpb24ocnVsZSwgaXNDbGlwKSB7XHJcbiAgICB2YXIgZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XHJcbiAgICB2YXIgc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xyXG4gICAgdmFyIGxpbmVDYXAgPSB0aGlzLmxpbmVDYXA7XHJcbiAgICB2YXIgb2xkTGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XHJcbiAgICB2YXIgbGluZVdpZHRoID0gTWF0aC5hYnMob2xkTGluZVdpZHRoICogdGhpcy5jdHgudHJhbnNmb3JtLnNjYWxlWCk7XHJcbiAgICB2YXIgbGluZUpvaW4gPSB0aGlzLmxpbmVKb2luO1xyXG5cclxuICAgIHZhciBvcmlnUGF0aCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5wYXRoKSk7XHJcbiAgICB2YXIgeFBhdGggPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGF0aCkpO1xyXG4gICAgdmFyIGNsaXBQYXRoO1xyXG4gICAgdmFyIHRtcFBhdGg7XHJcbiAgICB2YXIgcGFnZXMgPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhQYXRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgeFBhdGhbaV0ueCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHZhciBwYWdlID0gZ2V0UGFnZXNCeVBhdGguY2FsbCh0aGlzLCB4UGF0aFtpXSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBwYWdlLmxlbmd0aDsgaWkgKz0gMSkge1xyXG4gICAgICAgICAgaWYgKHBhZ2VzLmluZGV4T2YocGFnZVtpaV0pID09PSAtMSkge1xyXG4gICAgICAgICAgICBwYWdlcy5wdXNoKHBhZ2VbaWldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhZ2VzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIHdoaWxlICh0aGlzLnBkZi5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCkgPCBwYWdlc1tqXSkge1xyXG4gICAgICAgIGFkZFBhZ2UuY2FsbCh0aGlzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgc29ydFBhZ2VzKHBhZ2VzKTtcclxuXHJcbiAgICBpZiAodGhpcy5hdXRvUGFnaW5nKSB7XHJcbiAgICAgIHZhciBtaW4gPSBwYWdlc1swXTtcclxuICAgICAgdmFyIG1heCA9IHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgICBmb3IgKHZhciBrID0gbWluOyBrIDwgbWF4ICsgMTsgaysrKSB7XHJcbiAgICAgICAgdGhpcy5wZGYuc2V0UGFnZShrKTtcclxuXHJcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XHJcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xyXG4gICAgICAgIHRoaXMubGluZUNhcCA9IGxpbmVDYXA7XHJcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XHJcbiAgICAgICAgdGhpcy5saW5lSm9pbiA9IGxpbmVKb2luO1xyXG5cclxuICAgICAgICB2YXIgcGFnZVdpZHRoTWludXNNYXJnaW5zID1cclxuICAgICAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC0gdGhpcy5tYXJnaW5bM10gLSB0aGlzLm1hcmdpblsxXTtcclxuICAgICAgICB2YXIgdG9wTWFyZ2luID0gayA9PT0gMSA/IHRoaXMucG9zWSArIHRoaXMubWFyZ2luWzBdIDogdGhpcy5tYXJnaW5bMF07XHJcbiAgICAgICAgdmFyIGZpcnN0UGFnZUhlaWdodCA9XHJcbiAgICAgICAgICB0aGlzLnBkZi5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHQgLVxyXG4gICAgICAgICAgdGhpcy5wb3NZIC1cclxuICAgICAgICAgIHRoaXMubWFyZ2luWzBdIC1cclxuICAgICAgICAgIHRoaXMubWFyZ2luWzJdO1xyXG4gICAgICAgIHZhciBwYWdlSGVpZ2h0TWludXNNYXJnaW5zID1cclxuICAgICAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCAtIHRoaXMubWFyZ2luWzBdIC0gdGhpcy5tYXJnaW5bMl07XHJcbiAgICAgICAgdmFyIHByZXZpb3VzUGFnZUhlaWdodFN1bSA9XHJcbiAgICAgICAgICBrID09PSAxID8gMCA6IGZpcnN0UGFnZUhlaWdodCArIChrIC0gMikgKiBwYWdlSGVpZ2h0TWludXNNYXJnaW5zO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdHguY2xpcF9wYXRoLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgdmFyIHRtcFBhdGhzID0gdGhpcy5wYXRoO1xyXG4gICAgICAgICAgY2xpcFBhdGggPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY3R4LmNsaXBfcGF0aCkpO1xyXG4gICAgICAgICAgdGhpcy5wYXRoID0gcGF0aFBvc2l0aW9uUmVkbyhcclxuICAgICAgICAgICAgY2xpcFBhdGgsXHJcbiAgICAgICAgICAgIHRoaXMucG9zWCArIHRoaXMubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAtcHJldmlvdXNQYWdlSGVpZ2h0U3VtICsgdG9wTWFyZ2luICsgdGhpcy5jdHgucHJldlBhZ2VMYXN0RWxlbU9mZnNldFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGRyYXdQYXRocy5jYWxsKHRoaXMsIHJ1bGUsIHRydWUpO1xyXG4gICAgICAgICAgdGhpcy5wYXRoID0gdG1wUGF0aHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRtcFBhdGggPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9yaWdQYXRoKSk7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aFBvc2l0aW9uUmVkbyhcclxuICAgICAgICAgIHRtcFBhdGgsXHJcbiAgICAgICAgICB0aGlzLnBvc1ggKyB0aGlzLm1hcmdpblszXSxcclxuICAgICAgICAgIC1wcmV2aW91c1BhZ2VIZWlnaHRTdW0gKyB0b3BNYXJnaW4gKyB0aGlzLmN0eC5wcmV2UGFnZUxhc3RFbGVtT2Zmc2V0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoaXNDbGlwID09PSBmYWxzZSB8fCBrID09PSAwKSB7XHJcbiAgICAgICAgICBjb25zdCBuZWVkc0NsaXBwaW5nID0gKGsgPiBtaW4gfHwgayA8IG1heCkgJiYgaGFzTWFyZ2lucy5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgaWYgKG5lZWRzQ2xpcHBpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5wZGYuc2F2ZUdyYXBoaWNzU3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5wZGZcclxuICAgICAgICAgICAgICAucmVjdChcclxuICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJnaW5bMF0sXHJcbiAgICAgICAgICAgICAgICBwYWdlV2lkdGhNaW51c01hcmdpbnMsXHJcbiAgICAgICAgICAgICAgICBwYWdlSGVpZ2h0TWludXNNYXJnaW5zLFxyXG4gICAgICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAuY2xpcCgpXHJcbiAgICAgICAgICAgICAgLmRpc2NhcmRQYXRoKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkcmF3UGF0aHMuY2FsbCh0aGlzLCBydWxlLCBpc0NsaXApO1xyXG4gICAgICAgICAgaWYgKG5lZWRzQ2xpcHBpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5wZGYucmVzdG9yZUdyYXBoaWNzU3RhdGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBvbGRMaW5lV2lkdGg7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xyXG4gICAgICBkcmF3UGF0aHMuY2FsbCh0aGlzLCBydWxlLCBpc0NsaXApO1xyXG4gICAgICB0aGlzLmxpbmVXaWR0aCA9IG9sZExpbmVXaWR0aDtcclxuICAgIH1cclxuICAgIHRoaXMucGF0aCA9IG9yaWdQYXRoO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb2Nlc3NlcyB0aGUgcGF0aHNcclxuICAgKlxyXG4gICAqIEBmdW5jdGlvblxyXG4gICAqIEBwYXJhbSBydWxlIHtTdHJpbmd9XHJcbiAgICogQHBhcmFtIGlzQ2xpcCB7Qm9vbGVhbn1cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBpZ25vcmVcclxuICAgKi9cclxuICB2YXIgZHJhd1BhdGhzID0gZnVuY3Rpb24ocnVsZSwgaXNDbGlwKSB7XHJcbiAgICBpZiAocnVsZSA9PT0gXCJzdHJva2VcIiAmJiAhaXNDbGlwICYmIGlzU3Ryb2tlVHJhbnNwYXJlbnQuY2FsbCh0aGlzKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJ1bGUgIT09IFwic3Ryb2tlXCIgJiYgIWlzQ2xpcCAmJiBpc0ZpbGxUcmFuc3BhcmVudC5jYWxsKHRoaXMpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbW92ZXMgPSBbXTtcclxuXHJcbiAgICAvL3ZhciBhbHBoYSA9ICh0aGlzLmN0eC5maWxsT3BhY2l0eSA8IDEpID8gdGhpcy5jdHguZmlsbE9wYWNpdHkgOiB0aGlzLmN0eC5nbG9iYWxBbHBoYTtcclxuICAgIHZhciBkZWx0YTtcclxuICAgIHZhciB4UGF0aCA9IHRoaXMucGF0aDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeFBhdGgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHB0ID0geFBhdGhbaV07XHJcblxyXG4gICAgICBzd2l0Y2ggKHB0LnR5cGUpIHtcclxuICAgICAgICBjYXNlIFwiYmVnaW5cIjpcclxuICAgICAgICAgIG1vdmVzLnB1c2goe1xyXG4gICAgICAgICAgICBiZWdpbjogdHJ1ZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImNsb3NlXCI6XHJcbiAgICAgICAgICBtb3Zlcy5wdXNoKHtcclxuICAgICAgICAgICAgY2xvc2U6IHRydWVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJtdFwiOlxyXG4gICAgICAgICAgbW92ZXMucHVzaCh7XHJcbiAgICAgICAgICAgIHN0YXJ0OiBwdCxcclxuICAgICAgICAgICAgZGVsdGFzOiBbXSxcclxuICAgICAgICAgICAgYWJzOiBbXVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImx0XCI6XHJcbiAgICAgICAgICB2YXIgaWlpID0gbW92ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgaWYgKHhQYXRoW2kgLSAxXSAmJiAhaXNOYU4oeFBhdGhbaSAtIDFdLngpKSB7XHJcbiAgICAgICAgICAgIGRlbHRhID0gW3B0LnggLSB4UGF0aFtpIC0gMV0ueCwgcHQueSAtIHhQYXRoW2kgLSAxXS55XTtcclxuICAgICAgICAgICAgaWYgKGlpaSA+IDApIHtcclxuICAgICAgICAgICAgICBmb3IgKGlpaTsgaWlpID49IDA7IGlpaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgIG1vdmVzW2lpaSAtIDFdLmNsb3NlICE9PSB0cnVlICYmXHJcbiAgICAgICAgICAgICAgICAgIG1vdmVzW2lpaSAtIDFdLmJlZ2luICE9PSB0cnVlXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgbW92ZXNbaWlpIC0gMV0uZGVsdGFzLnB1c2goZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgICBtb3Zlc1tpaWkgLSAxXS5hYnMucHVzaChwdCk7XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJiY3RcIjpcclxuICAgICAgICAgIGRlbHRhID0gW1xyXG4gICAgICAgICAgICBwdC54MSAtIHhQYXRoW2kgLSAxXS54LFxyXG4gICAgICAgICAgICBwdC55MSAtIHhQYXRoW2kgLSAxXS55LFxyXG4gICAgICAgICAgICBwdC54MiAtIHhQYXRoW2kgLSAxXS54LFxyXG4gICAgICAgICAgICBwdC55MiAtIHhQYXRoW2kgLSAxXS55LFxyXG4gICAgICAgICAgICBwdC54IC0geFBhdGhbaSAtIDFdLngsXHJcbiAgICAgICAgICAgIHB0LnkgLSB4UGF0aFtpIC0gMV0ueVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIG1vdmVzW21vdmVzLmxlbmd0aCAtIDFdLmRlbHRhcy5wdXNoKGRlbHRhKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwicWN0XCI6XHJcbiAgICAgICAgICB2YXIgeDEgPSB4UGF0aFtpIC0gMV0ueCArICgyLjAgLyAzLjApICogKHB0LngxIC0geFBhdGhbaSAtIDFdLngpO1xyXG4gICAgICAgICAgdmFyIHkxID0geFBhdGhbaSAtIDFdLnkgKyAoMi4wIC8gMy4wKSAqIChwdC55MSAtIHhQYXRoW2kgLSAxXS55KTtcclxuICAgICAgICAgIHZhciB4MiA9IHB0LnggKyAoMi4wIC8gMy4wKSAqIChwdC54MSAtIHB0LngpO1xyXG4gICAgICAgICAgdmFyIHkyID0gcHQueSArICgyLjAgLyAzLjApICogKHB0LnkxIC0gcHQueSk7XHJcbiAgICAgICAgICB2YXIgeDMgPSBwdC54O1xyXG4gICAgICAgICAgdmFyIHkzID0gcHQueTtcclxuICAgICAgICAgIGRlbHRhID0gW1xyXG4gICAgICAgICAgICB4MSAtIHhQYXRoW2kgLSAxXS54LFxyXG4gICAgICAgICAgICB5MSAtIHhQYXRoW2kgLSAxXS55LFxyXG4gICAgICAgICAgICB4MiAtIHhQYXRoW2kgLSAxXS54LFxyXG4gICAgICAgICAgICB5MiAtIHhQYXRoW2kgLSAxXS55LFxyXG4gICAgICAgICAgICB4MyAtIHhQYXRoW2kgLSAxXS54LFxyXG4gICAgICAgICAgICB5MyAtIHhQYXRoW2kgLSAxXS55XHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgICAgbW92ZXNbbW92ZXMubGVuZ3RoIC0gMV0uZGVsdGFzLnB1c2goZGVsdGEpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJhcmNcIjpcclxuICAgICAgICAgIG1vdmVzLnB1c2goe1xyXG4gICAgICAgICAgICBkZWx0YXM6IFtdLFxyXG4gICAgICAgICAgICBhYnM6IFtdLFxyXG4gICAgICAgICAgICBhcmM6IHRydWVcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1vdmVzW21vdmVzLmxlbmd0aCAtIDFdLmFicykpIHtcclxuICAgICAgICAgICAgbW92ZXNbbW92ZXMubGVuZ3RoIC0gMV0uYWJzLnB1c2gocHQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBzdHlsZTtcclxuICAgIGlmICghaXNDbGlwKSB7XHJcbiAgICAgIGlmIChydWxlID09PSBcInN0cm9rZVwiKSB7XHJcbiAgICAgICAgc3R5bGUgPSBcInN0cm9rZVwiO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0eWxlID0gXCJmaWxsXCI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0eWxlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYmVnYW4gPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbW92ZXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgaWYgKG1vdmVzW2tdLmFyYykge1xyXG4gICAgICAgIHZhciBhcmNzID0gbW92ZXNba10uYWJzO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgYXJjcy5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgICAgIHZhciBhcmMgPSBhcmNzW2lpXTtcclxuXHJcbiAgICAgICAgICBpZiAoYXJjLnR5cGUgPT09IFwiYXJjXCIpIHtcclxuICAgICAgICAgICAgZHJhd0FyYy5jYWxsKFxyXG4gICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgYXJjLngsXHJcbiAgICAgICAgICAgICAgYXJjLnksXHJcbiAgICAgICAgICAgICAgYXJjLnJhZGl1cyxcclxuICAgICAgICAgICAgICBhcmMuc3RhcnRBbmdsZSxcclxuICAgICAgICAgICAgICBhcmMuZW5kQW5nbGUsXHJcbiAgICAgICAgICAgICAgYXJjLmNvdW50ZXJjbG9ja3dpc2UsXHJcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgIGlzQ2xpcCxcclxuICAgICAgICAgICAgICAhYmVnYW5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRyYXdMaW5lLmNhbGwodGhpcywgYXJjLngsIGFyYy55KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJlZ2FuID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAobW92ZXNba10uY2xvc2UgPT09IHRydWUpIHtcclxuICAgICAgICB0aGlzLnBkZi5pbnRlcm5hbC5vdXQoXCJoXCIpO1xyXG4gICAgICAgIGJlZ2FuID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAobW92ZXNba10uYmVnaW4gIT09IHRydWUpIHtcclxuICAgICAgICB2YXIgeCA9IG1vdmVzW2tdLnN0YXJ0Lng7XHJcbiAgICAgICAgdmFyIHkgPSBtb3Zlc1trXS5zdGFydC55O1xyXG4gICAgICAgIGRyYXdMaW5lcy5jYWxsKHRoaXMsIG1vdmVzW2tdLmRlbHRhcywgeCwgeSk7XHJcbiAgICAgICAgYmVnYW4gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0eWxlKSB7XHJcbiAgICAgIHB1dFN0eWxlLmNhbGwodGhpcywgc3R5bGUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQ2xpcCkge1xyXG4gICAgICBkb0NsaXAuY2FsbCh0aGlzKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgZ2V0QmFzZWxpbmUgPSBmdW5jdGlvbih5KSB7XHJcbiAgICB2YXIgaGVpZ2h0ID1cclxuICAgICAgdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKSAvIHRoaXMucGRmLmludGVybmFsLnNjYWxlRmFjdG9yO1xyXG4gICAgdmFyIGRlc2NlbnQgPSBoZWlnaHQgKiAodGhpcy5wZGYuaW50ZXJuYWwuZ2V0TGluZUhlaWdodEZhY3RvcigpIC0gMSk7XHJcbiAgICBzd2l0Y2ggKHRoaXMuY3R4LnRleHRCYXNlbGluZSkge1xyXG4gICAgICBjYXNlIFwiYm90dG9tXCI6XHJcbiAgICAgICAgcmV0dXJuIHkgLSBkZXNjZW50O1xyXG4gICAgICBjYXNlIFwidG9wXCI6XHJcbiAgICAgICAgcmV0dXJuIHkgKyBoZWlnaHQgLSBkZXNjZW50O1xyXG4gICAgICBjYXNlIFwiaGFuZ2luZ1wiOlxyXG4gICAgICAgIHJldHVybiB5ICsgaGVpZ2h0IC0gMiAqIGRlc2NlbnQ7XHJcbiAgICAgIGNhc2UgXCJtaWRkbGVcIjpcclxuICAgICAgICByZXR1cm4geSArIGhlaWdodCAvIDIgLSBkZXNjZW50O1xyXG4gICAgICBjYXNlIFwiaWRlb2dyYXBoaWNcIjpcclxuICAgICAgICAvLyBUT0RPIG5vdCBpbXBsZW1lbnRlZFxyXG4gICAgICAgIHJldHVybiB5O1xyXG4gICAgICBjYXNlIFwiYWxwaGFiZXRpY1wiOlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBnZXRUZXh0Qm90dG9tID0gZnVuY3Rpb24oeUJhc2VMaW5lKSB7XHJcbiAgICB2YXIgaGVpZ2h0ID1cclxuICAgICAgdGhpcy5wZGYuaW50ZXJuYWwuZ2V0Rm9udFNpemUoKSAvIHRoaXMucGRmLmludGVybmFsLnNjYWxlRmFjdG9yO1xyXG4gICAgdmFyIGRlc2NlbnQgPSBoZWlnaHQgKiAodGhpcy5wZGYuaW50ZXJuYWwuZ2V0TGluZUhlaWdodEZhY3RvcigpIC0gMSk7XHJcbiAgICByZXR1cm4geUJhc2VMaW5lICsgZGVzY2VudDtcclxuICB9O1xyXG5cclxuICBDb250ZXh0MkQucHJvdG90eXBlLmNyZWF0ZUxpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gY3JlYXRlTGluZWFyR3JhZGllbnQoKSB7XHJcbiAgICB2YXIgY2FudmFzR3JhZGllbnQgPSBmdW5jdGlvbiBjYW52YXNHcmFkaWVudCgpIHt9O1xyXG5cclxuICAgIGNhbnZhc0dyYWRpZW50LmNvbG9yU3RvcHMgPSBbXTtcclxuICAgIGNhbnZhc0dyYWRpZW50LmFkZENvbG9yU3RvcCA9IGZ1bmN0aW9uKG9mZnNldCwgY29sb3IpIHtcclxuICAgICAgdGhpcy5jb2xvclN0b3BzLnB1c2goW29mZnNldCwgY29sb3JdKTtcclxuICAgIH07XHJcblxyXG4gICAgY2FudmFzR3JhZGllbnQuZ2V0Q29sb3IgPSBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuY29sb3JTdG9wcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gXCIjMDAwMDAwXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmNvbG9yU3RvcHNbMF1bMV07XHJcbiAgICB9O1xyXG5cclxuICAgIGNhbnZhc0dyYWRpZW50LmlzQ2FudmFzR3JhZGllbnQgPSB0cnVlO1xyXG4gICAgcmV0dXJuIGNhbnZhc0dyYWRpZW50O1xyXG4gIH07XHJcbiAgQ29udGV4dDJELnByb3RvdHlwZS5jcmVhdGVQYXR0ZXJuID0gZnVuY3Rpb24gY3JlYXRlUGF0dGVybigpIHtcclxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUxpbmVhckdyYWRpZW50KCk7XHJcbiAgfTtcclxuICBDb250ZXh0MkQucHJvdG90eXBlLmNyZWF0ZVJhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gY3JlYXRlUmFkaWFsR3JhZGllbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVMaW5lYXJHcmFkaWVudCgpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHggRWRnZSBwb2ludCBYXHJcbiAgICogQHBhcmFtIHkgRWRnZSBwb2ludCBZXHJcbiAgICogQHBhcmFtIHIgUmFkaXVzXHJcbiAgICogQHBhcmFtIGExIHN0YXJ0IGFuZ2xlXHJcbiAgICogQHBhcmFtIGEyIGVuZCBhbmdsZVxyXG4gICAqIEBwYXJhbSBjb3VudGVyY2xvY2t3aXNlXHJcbiAgICogQHBhcmFtIHN0eWxlXHJcbiAgICogQHBhcmFtIGlzQ2xpcFxyXG4gICAqL1xyXG4gIHZhciBkcmF3QXJjID0gZnVuY3Rpb24oXHJcbiAgICB4LFxyXG4gICAgeSxcclxuICAgIHIsXHJcbiAgICBhMSxcclxuICAgIGEyLFxyXG4gICAgY291bnRlcmNsb2Nrd2lzZSxcclxuICAgIHN0eWxlLFxyXG4gICAgaXNDbGlwLFxyXG4gICAgaW5jbHVkZU1vdmVcclxuICApIHtcclxuICAgIC8vIGh0dHA6Ly9oYW5zbXVsbGVyLWZsZXguYmxvZ3Nwb3QuY29tLzIwMTEvMTAvbW9yZS1hYm91dC1hcHByb3hpbWF0aW5nLWNpcmN1bGFyLWFyY3MuaHRtbFxyXG4gICAgdmFyIGN1cnZlcyA9IGNyZWF0ZUFyYy5jYWxsKHRoaXMsIHIsIGExLCBhMiwgY291bnRlcmNsb2Nrd2lzZSk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJ2ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGN1cnZlID0gY3VydmVzW2ldO1xyXG4gICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgIGlmIChpbmNsdWRlTW92ZSkge1xyXG4gICAgICAgICAgZG9Nb3ZlLmNhbGwodGhpcywgY3VydmUueDEgKyB4LCBjdXJ2ZS55MSArIHkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkcmF3TGluZS5jYWxsKHRoaXMsIGN1cnZlLngxICsgeCwgY3VydmUueTEgKyB5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZHJhd0N1cnZlLmNhbGwoXHJcbiAgICAgICAgdGhpcyxcclxuICAgICAgICB4LFxyXG4gICAgICAgIHksXHJcbiAgICAgICAgY3VydmUueDIsXHJcbiAgICAgICAgY3VydmUueTIsXHJcbiAgICAgICAgY3VydmUueDMsXHJcbiAgICAgICAgY3VydmUueTMsXHJcbiAgICAgICAgY3VydmUueDQsXHJcbiAgICAgICAgY3VydmUueTRcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzQ2xpcCkge1xyXG4gICAgICBwdXRTdHlsZS5jYWxsKHRoaXMsIHN0eWxlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvQ2xpcC5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBwdXRTdHlsZSA9IGZ1bmN0aW9uKHN0eWxlKSB7XHJcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XHJcbiAgICAgIGNhc2UgXCJzdHJva2VcIjpcclxuICAgICAgICB0aGlzLnBkZi5pbnRlcm5hbC5vdXQoXCJTXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZmlsbFwiOlxyXG4gICAgICAgIHRoaXMucGRmLmludGVybmFsLm91dChcImZcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGRvQ2xpcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5wZGYuY2xpcCgpO1xyXG4gICAgdGhpcy5wZGYuZGlzY2FyZFBhdGgoKTtcclxuICB9O1xyXG5cclxuICB2YXIgZG9Nb3ZlID0gZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgdGhpcy5wZGYuaW50ZXJuYWwub3V0KFxyXG4gICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyh4KSArXHJcbiAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgIGdldFZlcnRpY2FsQ29vcmRpbmF0ZVN0cmluZyh5KSArXHJcbiAgICAgICAgXCIgbVwiXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHZhciBwdXRUZXh0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgdmFyIHRleHRBbGlnbjtcclxuICAgIHN3aXRjaCAob3B0aW9ucy5hbGlnbikge1xyXG4gICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgY2FzZSBcImVuZFwiOlxyXG4gICAgICAgIHRleHRBbGlnbiA9IFwicmlnaHRcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImNlbnRlclwiOlxyXG4gICAgICAgIHRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJsZWZ0XCI6XHJcbiAgICAgIGNhc2UgXCJzdGFydFwiOlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0ZXh0RGltZW5zaW9ucyA9IHRoaXMucGRmLmdldFRleHREaW1lbnNpb25zKG9wdGlvbnMudGV4dCk7XHJcbiAgICB2YXIgeUJhc2VMaW5lID0gZ2V0QmFzZWxpbmUuY2FsbCh0aGlzLCBvcHRpb25zLnkpO1xyXG4gICAgdmFyIHlCb3R0b20gPSBnZXRUZXh0Qm90dG9tLmNhbGwodGhpcywgeUJhc2VMaW5lKTtcclxuICAgIHZhciB5VG9wID0geUJvdHRvbSAtIHRleHREaW1lbnNpb25zLmg7XHJcblxyXG4gICAgdmFyIHB0ID0gdGhpcy5jdHgudHJhbnNmb3JtLmFwcGx5VG9Qb2ludChuZXcgUG9pbnQob3B0aW9ucy54LCB5QmFzZUxpbmUpKTtcclxuICAgIHZhciBkZWNvbXBvc2VkVHJhbnNmb3JtYXRpb25NYXRyaXggPSB0aGlzLmN0eC50cmFuc2Zvcm0uZGVjb21wb3NlKCk7XHJcbiAgICB2YXIgbWF0cml4ID0gbmV3IE1hdHJpeCgpO1xyXG4gICAgbWF0cml4ID0gbWF0cml4Lm11bHRpcGx5KGRlY29tcG9zZWRUcmFuc2Zvcm1hdGlvbk1hdHJpeC50cmFuc2xhdGUpO1xyXG4gICAgbWF0cml4ID0gbWF0cml4Lm11bHRpcGx5KGRlY29tcG9zZWRUcmFuc2Zvcm1hdGlvbk1hdHJpeC5za2V3KTtcclxuICAgIG1hdHJpeCA9IG1hdHJpeC5tdWx0aXBseShkZWNvbXBvc2VkVHJhbnNmb3JtYXRpb25NYXRyaXguc2NhbGUpO1xyXG5cclxuICAgIHZhciBiYXNlbGluZVJlY3QgPSB0aGlzLmN0eC50cmFuc2Zvcm0uYXBwbHlUb1JlY3RhbmdsZShcclxuICAgICAgbmV3IFJlY3RhbmdsZShvcHRpb25zLngsIHlCYXNlTGluZSwgdGV4dERpbWVuc2lvbnMudywgdGV4dERpbWVuc2lvbnMuaClcclxuICAgICk7XHJcbiAgICB2YXIgdGV4dEJvdW5kcyA9IG1hdHJpeC5hcHBseVRvUmVjdGFuZ2xlKFxyXG4gICAgICBuZXcgUmVjdGFuZ2xlKG9wdGlvbnMueCwgeVRvcCwgdGV4dERpbWVuc2lvbnMudywgdGV4dERpbWVuc2lvbnMuaClcclxuICAgICk7XHJcbiAgICB2YXIgcGFnZUFycmF5ID0gZ2V0UGFnZXNCeVBhdGguY2FsbCh0aGlzLCB0ZXh0Qm91bmRzKTtcclxuICAgIHZhciBwYWdlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHBhZ2VBcnJheS5sZW5ndGg7IGlpICs9IDEpIHtcclxuICAgICAgaWYgKHBhZ2VzLmluZGV4T2YocGFnZUFycmF5W2lpXSkgPT09IC0xKSB7XHJcbiAgICAgICAgcGFnZXMucHVzaChwYWdlQXJyYXlbaWldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNvcnRQYWdlcyhwYWdlcyk7XHJcblxyXG4gICAgdmFyIGNsaXBQYXRoLCBvbGRTaXplLCBvbGRMaW5lV2lkdGg7XHJcbiAgICBpZiAodGhpcy5hdXRvUGFnaW5nKSB7XHJcbiAgICAgIHZhciBtaW4gPSBwYWdlc1swXTtcclxuICAgICAgdmFyIG1heCA9IHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgICBmb3IgKHZhciBpID0gbWluOyBpIDwgbWF4ICsgMTsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5wZGYuc2V0UGFnZShpKTtcclxuXHJcbiAgICAgICAgdmFyIHRvcE1hcmdpbiA9IGkgPT09IDEgPyB0aGlzLnBvc1kgKyB0aGlzLm1hcmdpblswXSA6IHRoaXMubWFyZ2luWzBdO1xyXG4gICAgICAgIHZhciBmaXJzdFBhZ2VIZWlnaHQgPVxyXG4gICAgICAgICAgdGhpcy5wZGYuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0IC1cclxuICAgICAgICAgIHRoaXMucG9zWSAtXHJcbiAgICAgICAgICB0aGlzLm1hcmdpblswXSAtXHJcbiAgICAgICAgICB0aGlzLm1hcmdpblsyXTtcclxuICAgICAgICB2YXIgcGFnZUhlaWdodE1pbnVzQm90dG9tTWFyZ2luID1cclxuICAgICAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLmhlaWdodCAtIHRoaXMubWFyZ2luWzJdO1xyXG4gICAgICAgIHZhciBwYWdlSGVpZ2h0TWludXNNYXJnaW5zID1cclxuICAgICAgICAgIHBhZ2VIZWlnaHRNaW51c0JvdHRvbU1hcmdpbiAtIHRoaXMubWFyZ2luWzBdO1xyXG4gICAgICAgIHZhciBwYWdlV2lkdGhNaW51c1JpZ2h0TWFyZ2luID1cclxuICAgICAgICAgIHRoaXMucGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC0gdGhpcy5tYXJnaW5bMV07XHJcbiAgICAgICAgdmFyIHBhZ2VXaWR0aE1pbnVzTWFyZ2lucyA9IHBhZ2VXaWR0aE1pbnVzUmlnaHRNYXJnaW4gLSB0aGlzLm1hcmdpblszXTtcclxuICAgICAgICB2YXIgcHJldmlvdXNQYWdlSGVpZ2h0U3VtID1cclxuICAgICAgICAgIGkgPT09IDEgPyAwIDogZmlyc3RQYWdlSGVpZ2h0ICsgKGkgLSAyKSAqIHBhZ2VIZWlnaHRNaW51c01hcmdpbnM7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN0eC5jbGlwX3BhdGgubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICB2YXIgdG1wUGF0aHMgPSB0aGlzLnBhdGg7XHJcbiAgICAgICAgICBjbGlwUGF0aCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jdHguY2xpcF9wYXRoKSk7XHJcbiAgICAgICAgICB0aGlzLnBhdGggPSBwYXRoUG9zaXRpb25SZWRvKFxyXG4gICAgICAgICAgICBjbGlwUGF0aCxcclxuICAgICAgICAgICAgdGhpcy5wb3NYICsgdGhpcy5tYXJnaW5bM10sXHJcbiAgICAgICAgICAgIC0xICogcHJldmlvdXNQYWdlSGVpZ2h0U3VtICsgdG9wTWFyZ2luXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgZHJhd1BhdGhzLmNhbGwodGhpcywgXCJmaWxsXCIsIHRydWUpO1xyXG4gICAgICAgICAgdGhpcy5wYXRoID0gdG1wUGF0aHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ZXh0Qm91bmRzT25QYWdlID0gcGF0aFBvc2l0aW9uUmVkbyhcclxuICAgICAgICAgIFtKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRleHRCb3VuZHMpKV0sXHJcbiAgICAgICAgICB0aGlzLnBvc1ggKyB0aGlzLm1hcmdpblszXSxcclxuICAgICAgICAgIC1wcmV2aW91c1BhZ2VIZWlnaHRTdW0gKyB0b3BNYXJnaW4gKyB0aGlzLmN0eC5wcmV2UGFnZUxhc3RFbGVtT2Zmc2V0XHJcbiAgICAgICAgKVswXTtcclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGUgPj0gMC4wMSkge1xyXG4gICAgICAgICAgb2xkU2l6ZSA9IHRoaXMucGRmLmludGVybmFsLmdldEZvbnRTaXplKCk7XHJcbiAgICAgICAgICB0aGlzLnBkZi5zZXRGb250U2l6ZShvbGRTaXplICogb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICBvbGRMaW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcclxuICAgICAgICAgIHRoaXMubGluZVdpZHRoID0gb2xkTGluZVdpZHRoICogb3B0aW9ucy5zY2FsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkb1NsaWNlID0gdGhpcy5hdXRvUGFnaW5nICE9PSBcInRleHRcIjtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgZG9TbGljZSB8fFxyXG4gICAgICAgICAgdGV4dEJvdW5kc09uUGFnZS55ICsgdGV4dEJvdW5kc09uUGFnZS5oIDw9IHBhZ2VIZWlnaHRNaW51c0JvdHRvbU1hcmdpblxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBkb1NsaWNlIHx8XHJcbiAgICAgICAgICAgICh0ZXh0Qm91bmRzT25QYWdlLnkgPj0gdG9wTWFyZ2luICYmXHJcbiAgICAgICAgICAgICAgdGV4dEJvdW5kc09uUGFnZS54IDw9IHBhZ2VXaWR0aE1pbnVzUmlnaHRNYXJnaW4pXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgdmFyIGNyb3BwZWRUZXh0ID0gZG9TbGljZVxyXG4gICAgICAgICAgICAgID8gb3B0aW9ucy50ZXh0XHJcbiAgICAgICAgICAgICAgOiB0aGlzLnBkZi5zcGxpdFRleHRUb1NpemUoXHJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnMudGV4dCxcclxuICAgICAgICAgICAgICAgICAgb3B0aW9ucy5tYXhXaWR0aCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VXaWR0aE1pbnVzUmlnaHRNYXJnaW4gLSB0ZXh0Qm91bmRzT25QYWdlLnhcclxuICAgICAgICAgICAgICAgIClbMF07XHJcbiAgICAgICAgICAgIHZhciBiYXNlTGluZVJlY3RPblBhZ2UgPSBwYXRoUG9zaXRpb25SZWRvKFxyXG4gICAgICAgICAgICAgIFtKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJhc2VsaW5lUmVjdCkpXSxcclxuICAgICAgICAgICAgICB0aGlzLnBvc1ggKyB0aGlzLm1hcmdpblszXSxcclxuICAgICAgICAgICAgICAtcHJldmlvdXNQYWdlSGVpZ2h0U3VtICtcclxuICAgICAgICAgICAgICAgIHRvcE1hcmdpbiArXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5wcmV2UGFnZUxhc3RFbGVtT2Zmc2V0XHJcbiAgICAgICAgICAgIClbMF07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuZWVkc0NsaXBwaW5nID1cclxuICAgICAgICAgICAgICBkb1NsaWNlICYmIChpID4gbWluIHx8IGkgPCBtYXgpICYmIGhhc01hcmdpbnMuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuZWVkc0NsaXBwaW5nKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wZGYuc2F2ZUdyYXBoaWNzU3RhdGUoKTtcclxuICAgICAgICAgICAgICB0aGlzLnBkZlxyXG4gICAgICAgICAgICAgICAgLnJlY3QoXHJcbiAgICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luWzNdLFxyXG4gICAgICAgICAgICAgICAgICB0aGlzLm1hcmdpblswXSxcclxuICAgICAgICAgICAgICAgICAgcGFnZVdpZHRoTWludXNNYXJnaW5zLFxyXG4gICAgICAgICAgICAgICAgICBwYWdlSGVpZ2h0TWludXNNYXJnaW5zLFxyXG4gICAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuY2xpcCgpXHJcbiAgICAgICAgICAgICAgICAuZGlzY2FyZFBhdGgoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wZGYudGV4dChcclxuICAgICAgICAgICAgICBjcm9wcGVkVGV4dCxcclxuICAgICAgICAgICAgICBiYXNlTGluZVJlY3RPblBhZ2UueCxcclxuICAgICAgICAgICAgICBiYXNlTGluZVJlY3RPblBhZ2UueSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhbmdsZTogb3B0aW9ucy5hbmdsZSxcclxuICAgICAgICAgICAgICAgIGFsaWduOiB0ZXh0QWxpZ24sXHJcbiAgICAgICAgICAgICAgICByZW5kZXJpbmdNb2RlOiBvcHRpb25zLnJlbmRlcmluZ01vZGVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmVlZHNDbGlwcGluZykge1xyXG4gICAgICAgICAgICAgIHRoaXMucGRmLnJlc3RvcmVHcmFwaGljc1N0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gVGhpcyB0ZXh0IGlzIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIHBhZ2UsIGJ1dCBpdCBnb3QgY3V0IG9mZiBkdWUgdG8gdGhlIG1hcmdpblxyXG4gICAgICAgICAgLy8gc28gd2UgcmVuZGVyIGl0IGluIHRoZSBuZXh0IHBhZ2VcclxuXHJcbiAgICAgICAgICBpZiAodGV4dEJvdW5kc09uUGFnZS55IDwgcGFnZUhlaWdodE1pbnVzQm90dG9tTWFyZ2luKSB7XHJcbiAgICAgICAgICAgIC8vIEFzIGEgcmVzdWx0LCBhbGwgb3RoZXIgZWxlbWVudHMgaGF2ZSB0aGVpciB5IG9mZnNldCBpbmNyZWFzZWRcclxuICAgICAgICAgICAgdGhpcy5jdHgucHJldlBhZ2VMYXN0RWxlbU9mZnNldCArPVxyXG4gICAgICAgICAgICAgIHBhZ2VIZWlnaHRNaW51c0JvdHRvbU1hcmdpbiAtIHRleHRCb3VuZHNPblBhZ2UueTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLnNjYWxlID49IDAuMDEpIHtcclxuICAgICAgICAgIHRoaXMucGRmLnNldEZvbnRTaXplKG9sZFNpemUpO1xyXG4gICAgICAgICAgdGhpcy5saW5lV2lkdGggPSBvbGRMaW5lV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAob3B0aW9ucy5zY2FsZSA+PSAwLjAxKSB7XHJcbiAgICAgICAgb2xkU2l6ZSA9IHRoaXMucGRmLmludGVybmFsLmdldEZvbnRTaXplKCk7XHJcbiAgICAgICAgdGhpcy5wZGYuc2V0Rm9udFNpemUob2xkU2l6ZSAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgIG9sZExpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xyXG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gb2xkTGluZVdpZHRoICogb3B0aW9ucy5zY2FsZTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnBkZi50ZXh0KG9wdGlvbnMudGV4dCwgcHQueCArIHRoaXMucG9zWCwgcHQueSArIHRoaXMucG9zWSwge1xyXG4gICAgICAgIGFuZ2xlOiBvcHRpb25zLmFuZ2xlLFxyXG4gICAgICAgIGFsaWduOiB0ZXh0QWxpZ24sXHJcbiAgICAgICAgcmVuZGVyaW5nTW9kZTogb3B0aW9ucy5yZW5kZXJpbmdNb2RlLFxyXG4gICAgICAgIG1heFdpZHRoOiBvcHRpb25zLm1heFdpZHRoXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKG9wdGlvbnMuc2NhbGUgPj0gMC4wMSkge1xyXG4gICAgICAgIHRoaXMucGRmLnNldEZvbnRTaXplKG9sZFNpemUpO1xyXG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gb2xkTGluZVdpZHRoO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGRyYXdMaW5lID0gZnVuY3Rpb24oeCwgeSwgcHJldlgsIHByZXZZKSB7XHJcbiAgICBwcmV2WCA9IHByZXZYIHx8IDA7XHJcbiAgICBwcmV2WSA9IHByZXZZIHx8IDA7XHJcblxyXG4gICAgdGhpcy5wZGYuaW50ZXJuYWwub3V0KFxyXG4gICAgICBnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZVN0cmluZyh4ICsgcHJldlgpICtcclxuICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nKHkgKyBwcmV2WSkgK1xyXG4gICAgICAgIFwiIGxcIlxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICB2YXIgZHJhd0xpbmVzID0gZnVuY3Rpb24obGluZXMsIHgsIHkpIHtcclxuICAgIHJldHVybiB0aGlzLnBkZi5saW5lcyhsaW5lcywgeCwgeSwgbnVsbCwgbnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGRyYXdDdXJ2ZSA9IGZ1bmN0aW9uKHgsIHksIHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcclxuICAgIHRoaXMucGRmLmludGVybmFsLm91dChcclxuICAgICAgW1xyXG4gICAgICAgIGYyKGdldEhvcml6b250YWxDb29yZGluYXRlKHgxICsgeCkpLFxyXG4gICAgICAgIGYyKGdldFZlcnRpY2FsQ29vcmRpbmF0ZSh5MSArIHkpKSxcclxuICAgICAgICBmMihnZXRIb3Jpem9udGFsQ29vcmRpbmF0ZSh4MiArIHgpKSxcclxuICAgICAgICBmMihnZXRWZXJ0aWNhbENvb3JkaW5hdGUoeTIgKyB5KSksXHJcbiAgICAgICAgZjIoZ2V0SG9yaXpvbnRhbENvb3JkaW5hdGUoeDMgKyB4KSksXHJcbiAgICAgICAgZjIoZ2V0VmVydGljYWxDb29yZGluYXRlKHkzICsgeSkpLFxyXG4gICAgICAgIFwiY1wiXHJcbiAgICAgIF0uam9pbihcIiBcIilcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIGEgYXJyYXkgb2Ygb2JqZWN0cyB0aGF0IHJlcHJlc2VudCBiZXppZXIgY3VydmVzIHdoaWNoIGFwcHJveGltYXRlIHRoZSBjaXJjdWxhciBhcmMgY2VudGVyZWQgYXQgdGhlIG9yaWdpbiwgZnJvbSBzdGFydEFuZ2xlIHRvIGVuZEFuZ2xlIChyYWRpYW5zKSB3aXRoIHRoZSBzcGVjaWZpZWQgcmFkaXVzLlxyXG4gICAqXHJcbiAgICogRWFjaCBiZXppZXIgY3VydmUgaXMgYW4gb2JqZWN0IHdpdGggZm91ciBwb2ludHMsIHdoZXJlIHgxLHkxIGFuZCB4NCx5NCBhcmUgdGhlIGFyYydzIGVuZCBwb2ludHMgYW5kIHgyLHkyIGFuZCB4Myx5MyBhcmUgdGhlIGN1YmljIGJlemllcidzIGNvbnRyb2wgcG9pbnRzLlxyXG4gICAqIEBmdW5jdGlvbiBjcmVhdGVBcmNcclxuICAgKi9cclxuICB2YXIgY3JlYXRlQXJjID0gZnVuY3Rpb24ocmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSkge1xyXG4gICAgdmFyIEVQU0lMT04gPSAwLjAwMDAxOyAvLyBSb3VnaGx5IDEvMTAwMHRoIG9mIGEgZGVncmVlLCBzZWUgYmVsb3dcclxuICAgIHZhciB0d29QaSA9IE1hdGguUEkgKiAyO1xyXG4gICAgdmFyIGhhbGZQaSA9IE1hdGguUEkgLyAyLjA7XHJcblxyXG4gICAgd2hpbGUgKHN0YXJ0QW5nbGUgPiBlbmRBbmdsZSkge1xyXG4gICAgICBzdGFydEFuZ2xlID0gc3RhcnRBbmdsZSAtIHR3b1BpO1xyXG4gICAgfVxyXG4gICAgdmFyIHRvdGFsQW5nbGUgPSBNYXRoLmFicyhlbmRBbmdsZSAtIHN0YXJ0QW5nbGUpO1xyXG4gICAgaWYgKHRvdGFsQW5nbGUgPCB0d29QaSkge1xyXG4gICAgICBpZiAoYW50aWNsb2Nrd2lzZSkge1xyXG4gICAgICAgIHRvdGFsQW5nbGUgPSB0d29QaSAtIHRvdGFsQW5nbGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wdXRlIHRoZSBzZXF1ZW5jZSBvZiBhcmMgY3VydmVzLCB1cCB0byBQSS8yIGF0IGEgdGltZS5cclxuICAgIHZhciBjdXJ2ZXMgPSBbXTtcclxuXHJcbiAgICAvLyBjbG9ja3dpc2Ugb3IgY291bnRlcmNsb2Nrd2lzZVxyXG4gICAgdmFyIHNnbiA9IGFudGljbG9ja3dpc2UgPyAtMSA6ICsxO1xyXG5cclxuICAgIHZhciBhMSA9IHN0YXJ0QW5nbGU7XHJcbiAgICBmb3IgKDsgdG90YWxBbmdsZSA+IEVQU0lMT047ICkge1xyXG4gICAgICB2YXIgcmVtYWluID0gc2duICogTWF0aC5taW4odG90YWxBbmdsZSwgaGFsZlBpKTtcclxuICAgICAgdmFyIGEyID0gYTEgKyByZW1haW47XHJcbiAgICAgIGN1cnZlcy5wdXNoKGNyZWF0ZVNtYWxsQXJjLmNhbGwodGhpcywgcmFkaXVzLCBhMSwgYTIpKTtcclxuICAgICAgdG90YWxBbmdsZSAtPSBNYXRoLmFicyhhMiAtIGExKTtcclxuICAgICAgYTEgPSBhMjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY3VydmVzO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEN1YmljIGJlemllciBhcHByb3hpbWF0aW9uIG9mIGEgY2lyY3VsYXIgYXJjIGNlbnRlcmVkIGF0IHRoZSBvcmlnaW4sIGZyb20gKHJhZGlhbnMpIGExIHRvIGEyLCB3aGVyZSBhMi1hMSA8IHBpLzIuIFRoZSBhcmMncyByYWRpdXMgaXMgci5cclxuICAgKlxyXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggZm91ciBwb2ludHMsIHdoZXJlIHgxLHkxIGFuZCB4NCx5NCBhcmUgdGhlIGFyYydzIGVuZCBwb2ludHMgYW5kIHgyLHkyIGFuZCB4Myx5MyBhcmUgdGhlIGN1YmljIGJlemllcidzIGNvbnRyb2wgcG9pbnRzLlxyXG4gICAqXHJcbiAgICogVGhpcyBhbGdvcml0aG0gaXMgYmFzZWQgb24gdGhlIGFwcHJvYWNoIGRlc2NyaWJlZCBpbjogQS4gUmnFoWt1cywgXCJBcHByb3hpbWF0aW9uIG9mIGEgQ3ViaWMgQmV6aWVyIEN1cnZlIGJ5IENpcmN1bGFyIEFyY3MgYW5kIFZpY2UgVmVyc2EsXCIgSW5mb3JtYXRpb24gVGVjaG5vbG9neSBhbmQgQ29udHJvbCwgMzUoNCksIDIwMDYgcHAuIDM3MS0zNzguXHJcbiAgICovXHJcbiAgdmFyIGNyZWF0ZVNtYWxsQXJjID0gZnVuY3Rpb24ociwgYTEsIGEyKSB7XHJcbiAgICB2YXIgYSA9IChhMiAtIGExKSAvIDIuMDtcclxuXHJcbiAgICB2YXIgeDQgPSByICogTWF0aC5jb3MoYSk7XHJcbiAgICB2YXIgeTQgPSByICogTWF0aC5zaW4oYSk7XHJcbiAgICB2YXIgeDEgPSB4NDtcclxuICAgIHZhciB5MSA9IC15NDtcclxuXHJcbiAgICB2YXIgcTEgPSB4MSAqIHgxICsgeTEgKiB5MTtcclxuICAgIHZhciBxMiA9IHExICsgeDEgKiB4NCArIHkxICogeTQ7XHJcbiAgICB2YXIgazIgPSAoKDQgLyAzKSAqIChNYXRoLnNxcnQoMiAqIHExICogcTIpIC0gcTIpKSAvICh4MSAqIHk0IC0geTEgKiB4NCk7XHJcblxyXG4gICAgdmFyIHgyID0geDEgLSBrMiAqIHkxO1xyXG4gICAgdmFyIHkyID0geTEgKyBrMiAqIHgxO1xyXG4gICAgdmFyIHgzID0geDI7XHJcbiAgICB2YXIgeTMgPSAteTI7XHJcblxyXG4gICAgdmFyIGFyID0gYSArIGExO1xyXG4gICAgdmFyIGNvc19hciA9IE1hdGguY29zKGFyKTtcclxuICAgIHZhciBzaW5fYXIgPSBNYXRoLnNpbihhcik7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDE6IHIgKiBNYXRoLmNvcyhhMSksXHJcbiAgICAgIHkxOiByICogTWF0aC5zaW4oYTEpLFxyXG4gICAgICB4MjogeDIgKiBjb3NfYXIgLSB5MiAqIHNpbl9hcixcclxuICAgICAgeTI6IHgyICogc2luX2FyICsgeTIgKiBjb3NfYXIsXHJcbiAgICAgIHgzOiB4MyAqIGNvc19hciAtIHkzICogc2luX2FyLFxyXG4gICAgICB5MzogeDMgKiBzaW5fYXIgKyB5MyAqIGNvc19hcixcclxuICAgICAgeDQ6IHIgKiBNYXRoLmNvcyhhMiksXHJcbiAgICAgIHk0OiByICogTWF0aC5zaW4oYTIpXHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIHZhciByYWQyZGVnID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiAodmFsdWUgKiAxODApIC8gTWF0aC5QSTtcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0UXVhZHJhdGljQ3VydmVCb3VuZGFyeSA9IGZ1bmN0aW9uKHN4LCBzeSwgY3B4LCBjcHksIGV4LCBleSkge1xyXG4gICAgdmFyIG1pZFgxID0gc3ggKyAoY3B4IC0gc3gpICogMC41O1xyXG4gICAgdmFyIG1pZFkxID0gc3kgKyAoY3B5IC0gc3kpICogMC41O1xyXG4gICAgdmFyIG1pZFgyID0gZXggKyAoY3B4IC0gZXgpICogMC41O1xyXG4gICAgdmFyIG1pZFkyID0gZXkgKyAoY3B5IC0gZXkpICogMC41O1xyXG4gICAgdmFyIHJlc3VsdFgxID0gTWF0aC5taW4oc3gsIGV4LCBtaWRYMSwgbWlkWDIpO1xyXG4gICAgdmFyIHJlc3VsdFgyID0gTWF0aC5tYXgoc3gsIGV4LCBtaWRYMSwgbWlkWDIpO1xyXG4gICAgdmFyIHJlc3VsdFkxID0gTWF0aC5taW4oc3ksIGV5LCBtaWRZMSwgbWlkWTIpO1xyXG4gICAgdmFyIHJlc3VsdFkyID0gTWF0aC5tYXgoc3ksIGV5LCBtaWRZMSwgbWlkWTIpO1xyXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoXHJcbiAgICAgIHJlc3VsdFgxLFxyXG4gICAgICByZXN1bHRZMSxcclxuICAgICAgcmVzdWx0WDIgLSByZXN1bHRYMSxcclxuICAgICAgcmVzdWx0WTIgLSByZXN1bHRZMVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICAvL0RlIENhc3RlbGphdSBhbGdvcml0aG1cclxuICB2YXIgZ2V0QmV6aWVyQ3VydmVCb3VuZGFyeSA9IGZ1bmN0aW9uKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIGR4LCBkeSkge1xyXG4gICAgdmFyIHRvYnggPSBieCAtIGF4O1xyXG4gICAgdmFyIHRvYnkgPSBieSAtIGF5O1xyXG4gICAgdmFyIHRvY3ggPSBjeCAtIGJ4O1xyXG4gICAgdmFyIHRvY3kgPSBjeSAtIGJ5O1xyXG4gICAgdmFyIHRvZHggPSBkeCAtIGN4O1xyXG4gICAgdmFyIHRvZHkgPSBkeSAtIGN5O1xyXG4gICAgdmFyIHByZWNpc2lvbiA9IDQwO1xyXG4gICAgdmFyIGQsXHJcbiAgICAgIGksXHJcbiAgICAgIHB4LFxyXG4gICAgICBweSxcclxuICAgICAgcXgsXHJcbiAgICAgIHF5LFxyXG4gICAgICByeCxcclxuICAgICAgcnksXHJcbiAgICAgIHR4LFxyXG4gICAgICB0eSxcclxuICAgICAgc3gsXHJcbiAgICAgIHN5LFxyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICBtaW54LFxyXG4gICAgICBtaW55LFxyXG4gICAgICBtYXh4LFxyXG4gICAgICBtYXh5LFxyXG4gICAgICB0b3F4LFxyXG4gICAgICB0b3F5LFxyXG4gICAgICB0b3J4LFxyXG4gICAgICB0b3J5LFxyXG4gICAgICB0b3R4LFxyXG4gICAgICB0b3R5O1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHByZWNpc2lvbiArIDE7IGkrKykge1xyXG4gICAgICBkID0gaSAvIHByZWNpc2lvbjtcclxuICAgICAgcHggPSBheCArIGQgKiB0b2J4O1xyXG4gICAgICBweSA9IGF5ICsgZCAqIHRvYnk7XHJcbiAgICAgIHF4ID0gYnggKyBkICogdG9jeDtcclxuICAgICAgcXkgPSBieSArIGQgKiB0b2N5O1xyXG4gICAgICByeCA9IGN4ICsgZCAqIHRvZHg7XHJcbiAgICAgIHJ5ID0gY3kgKyBkICogdG9keTtcclxuICAgICAgdG9xeCA9IHF4IC0gcHg7XHJcbiAgICAgIHRvcXkgPSBxeSAtIHB5O1xyXG4gICAgICB0b3J4ID0gcnggLSBxeDtcclxuICAgICAgdG9yeSA9IHJ5IC0gcXk7XHJcblxyXG4gICAgICBzeCA9IHB4ICsgZCAqIHRvcXg7XHJcbiAgICAgIHN5ID0gcHkgKyBkICogdG9xeTtcclxuICAgICAgdHggPSBxeCArIGQgKiB0b3J4O1xyXG4gICAgICB0eSA9IHF5ICsgZCAqIHRvcnk7XHJcbiAgICAgIHRvdHggPSB0eCAtIHN4O1xyXG4gICAgICB0b3R5ID0gdHkgLSBzeTtcclxuXHJcbiAgICAgIHggPSBzeCArIGQgKiB0b3R4O1xyXG4gICAgICB5ID0gc3kgKyBkICogdG90eTtcclxuICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgIG1pbnggPSB4O1xyXG4gICAgICAgIG1pbnkgPSB5O1xyXG4gICAgICAgIG1heHggPSB4O1xyXG4gICAgICAgIG1heHkgPSB5O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1pbnggPSBNYXRoLm1pbihtaW54LCB4KTtcclxuICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSwgeSk7XHJcbiAgICAgICAgbWF4eCA9IE1hdGgubWF4KG1heHgsIHgpO1xyXG4gICAgICAgIG1heHkgPSBNYXRoLm1heChtYXh5LCB5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoXHJcbiAgICAgIE1hdGgucm91bmQobWlueCksXHJcbiAgICAgIE1hdGgucm91bmQobWlueSksXHJcbiAgICAgIE1hdGgucm91bmQobWF4eCAtIG1pbngpLFxyXG4gICAgICBNYXRoLnJvdW5kKG1heHkgLSBtaW55KVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICB2YXIgZ2V0UHJldkxpbmVEYXNoVmFsdWUgPSBmdW5jdGlvbihsaW5lRGFzaCwgbGluZURhc2hPZmZzZXQpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIGxpbmVEYXNoOiBsaW5lRGFzaCxcclxuICAgICAgbGluZURhc2hPZmZzZXQ6IGxpbmVEYXNoT2Zmc2V0XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB2YXIgc2V0TGluZURhc2ggPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IGxpbmUgZGFzaCBkZWNsYXJhdGlvbnMuXHJcbiAgICBpZiAoXHJcbiAgICAgICF0aGlzLnByZXZMaW5lRGFzaCAmJlxyXG4gICAgICAhdGhpcy5jdHgubGluZURhc2gubGVuZ3RoICYmXHJcbiAgICAgICF0aGlzLmN0eC5saW5lRGFzaE9mZnNldFxyXG4gICAgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBsaW5lIGRhc2ggZGVjbGFyYXRpb25zLlxyXG4gICAgY29uc3QgbmV4dExpbmVEYXNoID0gZ2V0UHJldkxpbmVEYXNoVmFsdWUoXHJcbiAgICAgIHRoaXMuY3R4LmxpbmVEYXNoLFxyXG4gICAgICB0aGlzLmN0eC5saW5lRGFzaE9mZnNldFxyXG4gICAgKTtcclxuICAgIGlmICh0aGlzLnByZXZMaW5lRGFzaCAhPT0gbmV4dExpbmVEYXNoKSB7XHJcbiAgICAgIHRoaXMucGRmLnNldExpbmVEYXNoKHRoaXMuY3R4LmxpbmVEYXNoLCB0aGlzLmN0eC5saW5lRGFzaE9mZnNldCk7XHJcbiAgICAgIHRoaXMucHJldkxpbmVEYXNoID0gbmV4dExpbmVEYXNoO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pKGpzUERGLkFQSSk7XHJcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIGpzUERGIGZpbHRlcnMgUGx1Z0luXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgQXJhcyBBYmJhc2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuaW1wb3J0IHsgemxpYlN5bmMgfSBmcm9tIFwiLi4vbGlicy9mZmxhdGUuanNcIjtcblxuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBBU0NJSTg1RW5jb2RlID0gZnVuY3Rpb24oYSkge1xuICAgIHZhciBiLCBjLCBkLCBlLCBmLCBnLCBoLCBpLCBqLCBrO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG4gICAgZm9yIChcbiAgICAgICEvW15cXHgwMC1cXHhGRl0vLnRlc3QoYSksXG4gICAgICAgIGIgPSBcIlxceDAwXFx4MDBcXHgwMFxceDAwXCIuc2xpY2UoYS5sZW5ndGggJSA0IHx8IDQpLFxuICAgICAgICBhICs9IGIsXG4gICAgICAgIGMgPSBbXSxcbiAgICAgICAgZCA9IDAsXG4gICAgICAgIGUgPSBhLmxlbmd0aDtcbiAgICAgIGUgPiBkO1xuICAgICAgZCArPSA0XG4gICAgKVxuICAgICAgKGYgPVxuICAgICAgICAoYS5jaGFyQ29kZUF0KGQpIDw8IDI0KSArXG4gICAgICAgIChhLmNoYXJDb2RlQXQoZCArIDEpIDw8IDE2KSArXG4gICAgICAgIChhLmNoYXJDb2RlQXQoZCArIDIpIDw8IDgpICtcbiAgICAgICAgYS5jaGFyQ29kZUF0KGQgKyAzKSksXG4gICAgICAgIDAgIT09IGZcbiAgICAgICAgICA/ICgoayA9IGYgJSA4NSksXG4gICAgICAgICAgICAoZiA9IChmIC0gaykgLyA4NSksXG4gICAgICAgICAgICAoaiA9IGYgJSA4NSksXG4gICAgICAgICAgICAoZiA9IChmIC0gaikgLyA4NSksXG4gICAgICAgICAgICAoaSA9IGYgJSA4NSksXG4gICAgICAgICAgICAoZiA9IChmIC0gaSkgLyA4NSksXG4gICAgICAgICAgICAoaCA9IGYgJSA4NSksXG4gICAgICAgICAgICAoZiA9IChmIC0gaCkgLyA4NSksXG4gICAgICAgICAgICAoZyA9IGYgJSA4NSksXG4gICAgICAgICAgICBjLnB1c2goZyArIDMzLCBoICsgMzMsIGkgKyAzMywgaiArIDMzLCBrICsgMzMpKVxuICAgICAgICAgIDogYy5wdXNoKDEyMik7XG4gICAgcmV0dXJuIChcbiAgICAgIChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGZvciAodmFyIGMgPSBiOyBjID4gMDsgYy0tKSBhLnBvcCgpO1xuICAgICAgfSkoYywgYi5sZW5ndGgpLFxuICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGMpICsgXCJ+PlwiXG4gICAgKTtcbiAgfTtcblxuICB2YXIgQVNDSUk4NURlY29kZSA9IGZ1bmN0aW9uKGEpIHtcbiAgICB2YXIgYyxcbiAgICAgIGQsXG4gICAgICBlLFxuICAgICAgZixcbiAgICAgIGcsXG4gICAgICBoID0gU3RyaW5nLFxuICAgICAgbCA9IFwibGVuZ3RoXCIsXG4gICAgICB3ID0gMjU1LFxuICAgICAgeCA9IFwiY2hhckNvZGVBdFwiLFxuICAgICAgeSA9IFwic2xpY2VcIixcbiAgICAgIHogPSBcInJlcGxhY2VcIjtcbiAgICBmb3IgKFxuICAgICAgXCJ+PlwiID09PSBhW3ldKC0yKSxcbiAgICAgICAgYSA9IGFbeV0oMCwgLTIpXG4gICAgICAgICAgW3pdKC9cXHMvZywgXCJcIilcbiAgICAgICAgICBbel0oXCJ6XCIsIFwiISEhISFcIiksXG4gICAgICAgIGMgPSBcInV1dXV1XCJbeV0oYVtsXSAlIDUgfHwgNSksXG4gICAgICAgIGEgKz0gYyxcbiAgICAgICAgZSA9IFtdLFxuICAgICAgICBmID0gMCxcbiAgICAgICAgZyA9IGFbbF07XG4gICAgICBnID4gZjtcbiAgICAgIGYgKz0gNVxuICAgIClcbiAgICAgIChkID1cbiAgICAgICAgNTIyMDA2MjUgKiAoYVt4XShmKSAtIDMzKSArXG4gICAgICAgIDYxNDEyNSAqIChhW3hdKGYgKyAxKSAtIDMzKSArXG4gICAgICAgIDcyMjUgKiAoYVt4XShmICsgMikgLSAzMykgK1xuICAgICAgICA4NSAqIChhW3hdKGYgKyAzKSAtIDMzKSArXG4gICAgICAgIChhW3hdKGYgKyA0KSAtIDMzKSksXG4gICAgICAgIGUucHVzaCh3ICYgKGQgPj4gMjQpLCB3ICYgKGQgPj4gMTYpLCB3ICYgKGQgPj4gOCksIHcgJiBkKTtcbiAgICByZXR1cm4gKFxuICAgICAgKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgYyA9IGI7IGMgPiAwOyBjLS0pIGEucG9wKCk7XG4gICAgICB9KShlLCBjW2xdKSxcbiAgICAgIGguZnJvbUNoYXJDb2RlLmFwcGx5KGgsIGUpXG4gICAgKTtcbiAgfTtcblxuICB2YXIgQVNDSUlIZXhFbmNvZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAoXG4gICAgICB2YWx1ZVxuICAgICAgICAuc3BsaXQoXCJcIilcbiAgICAgICAgLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAoXCIwXCIgKyB2YWx1ZS5jaGFyQ29kZUF0KCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiXCIpICsgXCI+XCJcbiAgICApO1xuICB9O1xuXG4gIHZhciBBU0NJSUhleERlY29kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHJlZ2V4Q2hlY2tJZkhleCA9IG5ldyBSZWdFeHAoL14oWzAtOUEtRmEtZl17Mn0pKyQvKTtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xccy9nLCBcIlwiKTtcbiAgICBpZiAodmFsdWUuaW5kZXhPZihcIj5cIikgIT09IC0xKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigwLCB2YWx1ZS5pbmRleE9mKFwiPlwiKSk7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5sZW5ndGggJSAyKSB7XG4gICAgICB2YWx1ZSArPSBcIjBcIjtcbiAgICB9XG4gICAgaWYgKHJlZ2V4Q2hlY2tJZkhleC50ZXN0KHZhbHVlKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShcIjB4XCIgKyAodmFsdWVbaV0gKyB2YWx1ZVtpICsgMV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgLypcbiAgdmFyIEZsYXRlUHJlZGljdG9ycyA9IHtcbiAgICAgIE5vbmU6IDEsXG4gICAgICBUSUZGOiAyLFxuICAgICAgUE5HX05vbmU6IDEwLFxuICAgICAgUE5HX1N1YjogMTEsXG4gICAgICBQTkdfVXA6IDEyLFxuICAgICAgUE5HX0F2ZXJhZ2U6IDEzLFxuICAgICAgUE5HX1BhZXRoOiAxNCxcbiAgICAgIFBOR19PcHRpbXVtOiAxNVxuICB9O1xuICAqL1xuXG4gIHZhciBGbGF0ZUVuY29kZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgIHZhciBpID0gZGF0YS5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgYXJyW2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICBhcnIgPSB6bGliU3luYyhhcnIpO1xuICAgIGRhdGEgPSBhcnIucmVkdWNlKGZ1bmN0aW9uKGRhdGEsIGJ5dGUpIHtcbiAgICAgIHJldHVybiBkYXRhICsgU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTtcbiAgICB9LCBcIlwiKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBqc1BERkFQSS5wcm9jZXNzRGF0YUJ5RmlsdGVycyA9IGZ1bmN0aW9uKG9yaWdEYXRhLCBmaWx0ZXJDaGFpbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgZGF0YSA9IG9yaWdEYXRhIHx8IFwiXCI7XG4gICAgdmFyIHJldmVyc2VDaGFpbiA9IFtdO1xuICAgIGZpbHRlckNoYWluID0gZmlsdGVyQ2hhaW4gfHwgW107XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlckNoYWluID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBmaWx0ZXJDaGFpbiA9IFtmaWx0ZXJDaGFpbl07XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGZpbHRlckNoYWluLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBzd2l0Y2ggKGZpbHRlckNoYWluW2ldKSB7XG4gICAgICAgIGNhc2UgXCJBU0NJSTg1RGVjb2RlXCI6XG4gICAgICAgIGNhc2UgXCIvQVNDSUk4NURlY29kZVwiOlxuICAgICAgICAgIGRhdGEgPSBBU0NJSTg1RGVjb2RlKGRhdGEpO1xuICAgICAgICAgIHJldmVyc2VDaGFpbi5wdXNoKFwiL0FTQ0lJODVFbmNvZGVcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBU0NJSTg1RW5jb2RlXCI6XG4gICAgICAgIGNhc2UgXCIvQVNDSUk4NUVuY29kZVwiOlxuICAgICAgICAgIGRhdGEgPSBBU0NJSTg1RW5jb2RlKGRhdGEpO1xuICAgICAgICAgIHJldmVyc2VDaGFpbi5wdXNoKFwiL0FTQ0lJODVEZWNvZGVcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJBU0NJSUhleERlY29kZVwiOlxuICAgICAgICBjYXNlIFwiL0FTQ0lJSGV4RGVjb2RlXCI6XG4gICAgICAgICAgZGF0YSA9IEFTQ0lJSGV4RGVjb2RlKGRhdGEpO1xuICAgICAgICAgIHJldmVyc2VDaGFpbi5wdXNoKFwiL0FTQ0lJSGV4RW5jb2RlXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQVNDSUlIZXhFbmNvZGVcIjpcbiAgICAgICAgY2FzZSBcIi9BU0NJSUhleEVuY29kZVwiOlxuICAgICAgICAgIGRhdGEgPSBBU0NJSUhleEVuY29kZShkYXRhKTtcbiAgICAgICAgICByZXZlcnNlQ2hhaW4ucHVzaChcIi9BU0NJSUhleERlY29kZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkZsYXRlRW5jb2RlXCI6XG4gICAgICAgIGNhc2UgXCIvRmxhdGVFbmNvZGVcIjpcbiAgICAgICAgICBkYXRhID0gRmxhdGVFbmNvZGUoZGF0YSk7XG4gICAgICAgICAgcmV2ZXJzZUNoYWluLnB1c2goXCIvRmxhdGVEZWNvZGVcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1RoZSBmaWx0ZXI6IFwiJyArIGZpbHRlckNoYWluW2ldICsgJ1wiIGlzIG5vdCBpbXBsZW1lbnRlZCdcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGRhdGE6IGRhdGEsIHJldmVyc2VDaGFpbjogcmV2ZXJzZUNoYWluLnJldmVyc2UoKS5qb2luKFwiIFwiKSB9O1xuICB9O1xufSkoanNQREYuQVBJKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIGpzUERGIGZpbGVsb2FkaW5nIFBsdWdJblxuICogQ29weXJpZ2h0IChjKSAyMDE4IEFyYXMgQWJiYXNpIChhcmFzLmFiYmFzaUBnbWFpbC5jb20pXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cblxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcblxuLyoqXG4gKiBAbmFtZSBmaWxlbG9hZGluZ1xuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGxvYWRGaWxlXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3luY1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gcmVzdWx0XG4gICAqL1xuICBqc1BERkFQSS5sb2FkRmlsZSA9IGZ1bmN0aW9uKHVybCwgc3luYywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gYnJvd3NlclJlcXVlc3QodXJsLCBzeW5jLCBjYWxsYmFjayk7XG5cbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgbG9hZEltYWdlRmlsZVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAgICogQHBhcmFtIHtib29sZWFufSBzeW5jXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBqc1BERkFQSS5sb2FkSW1hZ2VGaWxlID0ganNQREZBUEkubG9hZEZpbGU7XG5cbiAgZnVuY3Rpb24gYnJvd3NlclJlcXVlc3QodXJsLCBzeW5jLCBjYWxsYmFjaykge1xuICAgIHN5bmMgPSBzeW5jID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICBjYWxsYmFjayA9IHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiID8gY2FsbGJhY2sgOiBmdW5jdGlvbigpIHt9O1xuICAgIHZhciByZXN1bHQgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgeGhyID0gZnVuY3Rpb24odXJsLCBzeW5jLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgdmFyIHNhbml0aXplVW5pY29kZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGNoYXJBcnJheSA9IFtdO1xuICAgICAgICB2YXIgU3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuICAgICAgICAvL1RyYW5zZm9ybSBVbmljb2RlIHRvIEFTQ0lJXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkYXRhTGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICBjaGFyQXJyYXkucHVzaChTdHJpbmdGcm9tQ2hhckNvZGUoZGF0YS5jaGFyQ29kZUF0KGkpICYgMHhmZikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFyQXJyYXkuam9pbihcIlwiKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB1cmwsICFzeW5jKTtcbiAgICAgIC8vIFhIUiBiaW5hcnkgY2hhcnNldCBvcHQgYnkgTWFyY3VzIEdyYW5hZG8gMjAwNiBbaHR0cDovL21ncmFuLmJsb2dzcG90LmNvbV1cbiAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIik7XG5cbiAgICAgIGlmIChzeW5jID09PSBmYWxzZSkge1xuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhzYW5pdGl6ZVVuaWNvZGUodGhpcy5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sodW5kZWZpbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXF1ZXN0LnNlbmQobnVsbCk7XG5cbiAgICAgIGlmIChzeW5jICYmIHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplVW5pY29kZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0geGhyKHVybCwgc3luYywgY2FsbGJhY2spO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbm9kZVJlYWRGaWxlKHVybCwgc3luYywgY2FsbGJhY2spIHtcbiAgICBzeW5jID0gc3luYyA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgdmFyIHJlc3VsdCA9IHVuZGVmaW5lZDtcblxuICAgIHZhciBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbiAgICB2YXIgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG4gICAgdXJsID0gcGF0aC5yZXNvbHZlKHVybCk7XG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGZzLnJlYWRGaWxlU3luYyh1cmwsIHsgZW5jb2Rpbmc6IFwibGF0aW4xXCIgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZzLnJlYWRGaWxlKHVybCwgeyBlbmNvZGluZzogXCJsYXRpbjFcIiB9LCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgY2FsbGJhY2sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn0pKGpzUERGLkFQSSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggRXJpayBLb29wbWFuc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5pbXBvcnQgeyBub3JtYWxpemVGb250RmFjZSB9IGZyb20gXCIuLi9saWJzL2ZvbnRGYWNlLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxPYmplY3QgfSBmcm9tIFwiLi4vbGlicy9nbG9iYWxPYmplY3QuanNcIjtcblxuLyoqXG4gKiBqc1BERiBodG1sIFBsdWdJblxuICpcbiAqIEBuYW1lIGh0bWxcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGZ1bmN0aW9uIGxvYWRIdG1sMkNhbnZhcygpIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGdsb2JhbE9iamVjdFtcImh0bWwyY2FudmFzXCJdKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2xvYmFsT2JqZWN0W1wiaHRtbDJjYW52YXNcIl0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW1wb3J0KFwiaHRtbDJjYW52YXNcIik7XG5cbiAgICB9KSgpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgaHRtbDJjYW52YXM6IFwiICsgZSkpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGh0bWwyY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBodG1sMmNhbnZhcy5kZWZhdWx0ID8gaHRtbDJjYW52YXMuZGVmYXVsdCA6IGh0bWwyY2FudmFzO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkRG9tUHVyaWZ5KCkge1xuICAgIHJldHVybiAoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZ2xvYmFsT2JqZWN0W1wiRE9NUHVyaWZ5XCJdKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2xvYmFsT2JqZWN0W1wiRE9NUHVyaWZ5XCJdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGltcG9ydChcImRvbXB1cmlmeVwiKTtcblxuICAgIH0pKClcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJDb3VsZCBub3QgbG9hZCBkb21wdXJpZnk6IFwiICsgZSkpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRvbXB1cmlmeSkge1xuICAgICAgICByZXR1cm4gZG9tcHVyaWZ5LmRlZmF1bHQgPyBkb21wdXJpZnkuZGVmYXVsdCA6IGRvbXB1cmlmeTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSB0aGUgdHlwZSBvZiBhIHZhcmlhYmxlL29iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdmFyIG9ialR5cGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgaWYgKHR5cGUgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwic3RyaW5nXCIgfHwgb2JqIGluc3RhbmNlb2YgU3RyaW5nKSByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICBlbHNlIGlmICh0eXBlID09PSBcIm51bWJlclwiIHx8IG9iaiBpbnN0YW5jZW9mIE51bWJlcikgcmV0dXJuIFwibnVtYmVyXCI7XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IG9iaiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSByZXR1cm4gXCJmdW5jdGlvblwiO1xuICAgIGVsc2UgaWYgKCEhb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHJldHVybiBcImFycmF5XCI7XG4gICAgZWxzZSBpZiAob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSkgcmV0dXJuIFwiZWxlbWVudFwiO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHJldHVybiBcIm9iamVjdFwiO1xuICAgIGVsc2UgcmV0dXJuIFwidW5rbm93blwiO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gSFRNTCBlbGVtZW50IHdpdGggb3B0aW9uYWwgY2xhc3NOYW1lLCBpbm5lckhUTUwsIGFuZCBzdHlsZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lLCBvcHQpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGlmIChvcHQuY2xhc3NOYW1lKSBlbC5jbGFzc05hbWUgPSBvcHQuY2xhc3NOYW1lO1xuICAgIGlmIChvcHQuaW5uZXJIVE1MICYmIG9wdC5kb21wdXJpZnkpIHtcbiAgICAgIGVsLmlubmVySFRNTCA9IG9wdC5kb21wdXJpZnkuc2FuaXRpemUob3B0LmlubmVySFRNTCk7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBvcHQuc3R5bGUpIHtcbiAgICAgIGVsLnN0eWxlW2tleV0gPSBvcHQuc3R5bGVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZWVwLWNsb25lIGEgbm9kZSBhbmQgcHJlc2VydmUgY29udGVudHMvcHJvcGVydGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgdmFyIGNsb25lTm9kZSA9IGZ1bmN0aW9uKG5vZGUsIGphdmFzY3JpcHRFbmFibGVkKSB7XG4gICAgLy8gUmVjdXJzaXZlbHkgY2xvbmUgdGhlIG5vZGUuXG4gICAgdmFyIGNsb25lID1cbiAgICAgIG5vZGUubm9kZVR5cGUgPT09IDNcbiAgICAgICAgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLm5vZGVWYWx1ZSlcbiAgICAgICAgOiBub2RlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgZm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGphdmFzY3JpcHRFbmFibGVkID09PSB0cnVlIHx8XG4gICAgICAgIGNoaWxkLm5vZGVUeXBlICE9PSAxIHx8XG4gICAgICAgIGNoaWxkLm5vZGVOYW1lICE9PSBcIlNDUklQVFwiXG4gICAgICApIHtcbiAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKGNoaWxkLCBqYXZhc2NyaXB0RW5hYmxlZCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAvLyBQcmVzZXJ2ZSBjb250ZW50cy9wcm9wZXJ0aWVzIG9mIHNwZWNpYWwgbm9kZXMuXG4gICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gXCJDQU5WQVNcIikge1xuICAgICAgICBjbG9uZS53aWR0aCA9IG5vZGUud2lkdGg7XG4gICAgICAgIGNsb25lLmhlaWdodCA9IG5vZGUuaGVpZ2h0O1xuICAgICAgICBjbG9uZS5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKG5vZGUsIDAsIDApO1xuICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVOYW1lID09PSBcIlRFWFRBUkVBXCIgfHwgbm9kZS5ub2RlTmFtZSA9PT0gXCJTRUxFQ1RcIikge1xuICAgICAgICBjbG9uZS52YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXNlcnZlIHRoZSBub2RlJ3Mgc2Nyb2xsIHBvc2l0aW9uIHdoZW4gaXQgbG9hZHMuXG4gICAgICBjbG9uZS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImxvYWRcIixcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY2xvbmUuc2Nyb2xsVG9wID0gbm9kZS5zY3JvbGxUb3A7XG4gICAgICAgICAgY2xvbmUuc2Nyb2xsTGVmdCA9IG5vZGUuc2Nyb2xsTGVmdDtcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdGhlIGNsb25lZCBub2RlLlxuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKiAtLS0tLSBDT05TVFJVQ1RPUiAtLS0tLSAqL1xuXG4gIHZhciBXb3JrZXIgPSBmdW5jdGlvbiBXb3JrZXIob3B0KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSByb290IHBhcmVudCBmb3IgdGhlIHByb3RvIGNoYWluLCBhbmQgdGhlIHN0YXJ0aW5nIFdvcmtlci5cbiAgICB2YXIgcm9vdCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICBXb3JrZXIuY29udmVydChQcm9taXNlLnJlc29sdmUoKSksXG4gICAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFdvcmtlci50ZW1wbGF0ZSkpXG4gICAgKTtcbiAgICB2YXIgc2VsZiA9IFdvcmtlci5jb252ZXJ0KFByb21pc2UucmVzb2x2ZSgpLCByb290KTtcblxuICAgIC8vIFNldCBwcm9ncmVzcywgb3B0aW9uYWwgc2V0dGluZ3MsIGFuZCByZXR1cm4uXG4gICAgc2VsZiA9IHNlbGYuc2V0UHJvZ3Jlc3MoMSwgV29ya2VyLCAxLCBbV29ya2VyXSk7XG4gICAgc2VsZiA9IHNlbGYuc2V0KG9wdCk7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLy8gQm9pbGVycGxhdGUgZm9yIHN1YmNsYXNzaW5nIFByb21pc2UuXG4gIFdvcmtlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByb21pc2UucHJvdG90eXBlKTtcbiAgV29ya2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFdvcmtlcjtcblxuICAvLyBDb252ZXJ0cy9jYXN0cyBwcm9taXNlcyBpbnRvIFdvcmtlcnMuXG4gIFdvcmtlci5jb252ZXJ0ID0gZnVuY3Rpb24gY29udmVydChwcm9taXNlLCBpbmhlcml0KSB7XG4gICAgLy8gVXNlcyBwcm90b3R5cGFsIGluaGVyaXRhbmNlIHRvIHJlY2VpdmUgY2hhbmdlcyBtYWRlIHRvIGFuY2VzdG9ycycgcHJvcGVydGllcy5cbiAgICBwcm9taXNlLl9fcHJvdG9fXyA9IGluaGVyaXQgfHwgV29ya2VyLnByb3RvdHlwZTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICBXb3JrZXIudGVtcGxhdGUgPSB7XG4gICAgcHJvcDoge1xuICAgICAgc3JjOiBudWxsLFxuICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgb3ZlcmxheTogbnVsbCxcbiAgICAgIGNhbnZhczogbnVsbCxcbiAgICAgIGltZzogbnVsbCxcbiAgICAgIHBkZjogbnVsbCxcbiAgICAgIHBhZ2VTaXplOiBudWxsLFxuICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCkge31cbiAgICB9LFxuICAgIHByb2dyZXNzOiB7XG4gICAgICB2YWw6IDAsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICAgIG46IDAsXG4gICAgICBzdGFjazogW11cbiAgICB9LFxuICAgIG9wdDoge1xuICAgICAgZmlsZW5hbWU6IFwiZmlsZS5wZGZcIixcbiAgICAgIG1hcmdpbjogWzAsIDAsIDAsIDBdLFxuICAgICAgZW5hYmxlTGlua3M6IHRydWUsXG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIGh0bWwyY2FudmFzOiB7fSxcbiAgICAgIGpzUERGOiB7fSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgfVxuICB9O1xuXG4gIC8qIC0tLS0tIEZST00gLyBUTyAtLS0tLSAqL1xuXG4gIFdvcmtlci5wcm90b3R5cGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20oc3JjLCB0eXBlKSB7XG4gICAgZnVuY3Rpb24gZ2V0VHlwZShzcmMpIHtcbiAgICAgIHN3aXRjaCAob2JqVHlwZShzcmMpKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgICByZXR1cm4gc3JjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiY2FudmFzXCIgPyBcImNhbnZhc1wiIDogXCJlbGVtZW50XCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFwidW5rbm93blwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gZnJvbV9tYWluKCkge1xuICAgICAgdHlwZSA9IHR5cGUgfHwgZ2V0VHlwZShzcmMpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKGxvYWREb21QdXJpZnkpLnRoZW4oZnVuY3Rpb24oZG9tcHVyaWZ5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoe1xuICAgICAgICAgICAgICBzcmM6IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgIGlubmVySFRNTDogc3JjLFxuICAgICAgICAgICAgICAgIGRvbXB1cmlmeTogZG9tcHVyaWZ5XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcImVsZW1lbnRcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoeyBzcmM6IHNyYyB9KTtcbiAgICAgICAgY2FzZSBcImNhbnZhc1wiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnNldCh7IGNhbnZhczogc3JjIH0pO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHsgaW1nOiBzcmMgfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoXCJVbmtub3duIHNvdXJjZSB0eXBlLlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBXb3JrZXIucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gdG8odGFyZ2V0KSB7XG4gICAgLy8gUm91dGUgdGhlICd0bycgcmVxdWVzdCB0byB0aGUgYXBwcm9wcmlhdGUgbWV0aG9kLlxuICAgIHN3aXRjaCAodGFyZ2V0KSB7XG4gICAgICBjYXNlIFwiY29udGFpbmVyXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvQ29udGFpbmVyKCk7XG4gICAgICBjYXNlIFwiY2FudmFzXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvQ2FudmFzKCk7XG4gICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvSW1nKCk7XG4gICAgICBjYXNlIFwicGRmXCI6XG4gICAgICAgIHJldHVybiB0aGlzLnRvUGRmKCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5lcnJvcihcIkludmFsaWQgdGFyZ2V0LlwiKTtcbiAgICB9XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS50b0NvbnRhaW5lciA9IGZ1bmN0aW9uIHRvQ29udGFpbmVyKCkge1xuICAgIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICAgIHZhciBwcmVyZXFzID0gW1xuICAgICAgZnVuY3Rpb24gY2hlY2tTcmMoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdGhpcy5wcm9wLnNyYyB8fCB0aGlzLmVycm9yKFwiQ2Fubm90IGR1cGxpY2F0ZSAtIG5vIHNvdXJjZSBIVE1MLlwiKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIGNoZWNrUGFnZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3AucGFnZVNpemUgfHwgdGhpcy5zZXRQYWdlU2l6ZSgpO1xuICAgICAgfVxuICAgIF07XG4gICAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcykudGhlbihmdW5jdGlvbiB0b0NvbnRhaW5lcl9tYWluKCkge1xuICAgICAgLy8gRGVmaW5lIHRoZSBDU1Mgc3R5bGVzIGZvciB0aGUgY29udGFpbmVyIGFuZCBpdHMgb3ZlcmxheSBwYXJlbnQuXG4gICAgICB2YXIgb3ZlcmxheUNTUyA9IHtcbiAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgICAgbGVmdDogXCItMTAwMDAwcHhcIixcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgdG9wOiAwXG4gICAgICB9O1xuICAgICAgdmFyIGNvbnRhaW5lckNTUyA9IHtcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgd2lkdGg6XG4gICAgICAgICAgKHR5cGVvZiB0aGlzLm9wdC53aWR0aCA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICFpc05hTih0aGlzLm9wdC53aWR0aCkgJiZcbiAgICAgICAgICB0eXBlb2YgdGhpcy5vcHQud2luZG93V2lkdGggPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAhaXNOYU4odGhpcy5vcHQud2luZG93V2lkdGgpXG4gICAgICAgICAgICA/IHRoaXMub3B0LndpbmRvd1dpZHRoXG4gICAgICAgICAgICA6IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgIHRoaXMucHJvcC5zcmMuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wLnNyYy5zY3JvbGxXaWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3Auc3JjLm9mZnNldFdpZHRoXG4gICAgICAgICAgICAgICkpICsgXCJweFwiLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBtYXJnaW46IFwiYXV0b1wiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMub3B0LmJhY2tncm91bmRDb2xvclxuICAgICAgfTsgLy8gU2V0IHRoZSBvdmVybGF5IHRvIGhpZGRlbiAoY291bGQgYmUgY2hhbmdlZCBpbiB0aGUgZnV0dXJlIHRvIHByb3ZpZGUgYSBwcmludCBwcmV2aWV3KS5cblxuICAgICAgdmFyIHNvdXJjZSA9IGNsb25lTm9kZShcbiAgICAgICAgdGhpcy5wcm9wLnNyYyxcbiAgICAgICAgdGhpcy5vcHQuaHRtbDJjYW52YXMuamF2YXNjcmlwdEVuYWJsZWRcbiAgICAgICk7XG5cbiAgICAgIGlmIChzb3VyY2UudGFnTmFtZSA9PT0gXCJCT0RZXCIpIHtcbiAgICAgICAgY29udGFpbmVyQ1NTLmhlaWdodCA9XG4gICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCxcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgKSArIFwicHhcIjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wLm92ZXJsYXkgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImh0bWwycGRmX19vdmVybGF5XCIsXG4gICAgICAgIHN0eWxlOiBvdmVybGF5Q1NTXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvcC5jb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImh0bWwycGRmX19jb250YWluZXJcIixcbiAgICAgICAgc3R5bGU6IGNvbnRhaW5lckNTU1xuICAgICAgfSk7XG4gICAgICB0aGlzLnByb3AuY29udGFpbmVyLmFwcGVuZENoaWxkKHNvdXJjZSk7XG4gICAgICB0aGlzLnByb3AuY29udGFpbmVyLmZpcnN0Q2hpbGQuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBjbGVhcjogXCJib3RoXCIsXG4gICAgICAgICAgICBib3JkZXI6IFwiMCBub25lIHRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICBtYXJnaW46IDAsXG4gICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXMucHJvcC5jb250YWluZXIuc3R5bGUuZmxvYXQgPSBcIm5vbmVcIjtcbiAgICAgIHRoaXMucHJvcC5vdmVybGF5LmFwcGVuZENoaWxkKHRoaXMucHJvcC5jb250YWluZXIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnByb3Aub3ZlcmxheSk7XG4gICAgICB0aGlzLnByb3AuY29udGFpbmVyLmZpcnN0Q2hpbGQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICB0aGlzLnByb3AuY29udGFpbmVyLmhlaWdodCA9XG4gICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgIHRoaXMucHJvcC5jb250YWluZXIuZmlyc3RDaGlsZC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgdGhpcy5wcm9wLmNvbnRhaW5lci5maXJzdENoaWxkLnNjcm9sbEhlaWdodCxcbiAgICAgICAgICB0aGlzLnByb3AuY29udGFpbmVyLmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0XG4gICAgICAgICkgKyBcInB4XCI7XG4gICAgfSk7XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS50b0NhbnZhcyA9IGZ1bmN0aW9uIHRvQ2FudmFzKCkge1xuICAgIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICAgIHZhciBwcmVyZXFzID0gW1xuICAgICAgZnVuY3Rpb24gY2hlY2tDb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnByb3AuY29udGFpbmVyKSB8fCB0aGlzLnRvQ29udGFpbmVyKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gRnVsZmlsbCBwcmVyZXFzIHRoZW4gY3JlYXRlIHRoZSBjYW52YXMuXG4gICAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcylcbiAgICAgIC50aGVuKGxvYWRIdG1sMkNhbnZhcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHRvQ2FudmFzX21haW4oaHRtbDJjYW52YXMpIHtcbiAgICAgICAgLy8gSGFuZGxlIG9sZC1mYXNoaW9uZWQgJ29ucmVuZGVyZWQnIGFyZ3VtZW50LlxuICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0Lmh0bWwyY2FudmFzKTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMub25yZW5kZXJlZDtcblxuICAgICAgICByZXR1cm4gaHRtbDJjYW52YXModGhpcy5wcm9wLmNvbnRhaW5lciwgb3B0aW9ucyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24gdG9DYW52YXNfcG9zdChjYW52YXMpIHtcbiAgICAgICAgLy8gSGFuZGxlIG9sZC1mYXNoaW9uZWQgJ29ucmVuZGVyZWQnIGFyZ3VtZW50LlxuICAgICAgICB2YXIgb25SZW5kZXJlZCA9IHRoaXMub3B0Lmh0bWwyY2FudmFzLm9ucmVuZGVyZWQgfHwgZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgb25SZW5kZXJlZChjYW52YXMpO1xuXG4gICAgICAgIHRoaXMucHJvcC5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5wcm9wLm92ZXJsYXkpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS50b0NvbnRleHQyZCA9IGZ1bmN0aW9uIHRvQ29udGV4dDJkKCkge1xuICAgIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICAgIHZhciBwcmVyZXFzID0gW1xuICAgICAgZnVuY3Rpb24gY2hlY2tDb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jb250YWlucyh0aGlzLnByb3AuY29udGFpbmVyKSB8fCB0aGlzLnRvQ29udGFpbmVyKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gRnVsZmlsbCBwcmVyZXFzIHRoZW4gY3JlYXRlIHRoZSBjYW52YXMuXG4gICAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcylcbiAgICAgIC50aGVuKGxvYWRIdG1sMkNhbnZhcylcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHRvQ29udGV4dDJkX21haW4oaHRtbDJjYW52YXMpIHtcbiAgICAgICAgLy8gSGFuZGxlIG9sZC1mYXNoaW9uZWQgJ29ucmVuZGVyZWQnIGFyZ3VtZW50LlxuXG4gICAgICAgIHZhciBwZGYgPSB0aGlzLm9wdC5qc1BERjtcbiAgICAgICAgdmFyIGZvbnRGYWNlcyA9IHRoaXMub3B0LmZvbnRGYWNlcztcblxuICAgICAgICB2YXIgc2NhbGUgPVxuICAgICAgICAgIHR5cGVvZiB0aGlzLm9wdC53aWR0aCA9PT0gXCJudW1iZXJcIiAmJlxuICAgICAgICAgICFpc05hTih0aGlzLm9wdC53aWR0aCkgJiZcbiAgICAgICAgICB0eXBlb2YgdGhpcy5vcHQud2luZG93V2lkdGggPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAhaXNOYU4odGhpcy5vcHQud2luZG93V2lkdGgpXG4gICAgICAgICAgICA/IHRoaXMub3B0LndpZHRoIC8gdGhpcy5vcHQud2luZG93V2lkdGhcbiAgICAgICAgICAgIDogMTtcblxuICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICBhbGxvd1RhaW50OiB0cnVlLFxuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgc2Nyb2xsWDogdGhpcy5vcHQuc2Nyb2xsWCB8fCAwLFxuICAgICAgICAgICAgc2Nyb2xsWTogdGhpcy5vcHQuc2Nyb2xsWSB8fCAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIGltYWdlVGltZW91dDogMTUwMDAsXG4gICAgICAgICAgICBsb2dnaW5nOiB0cnVlLFxuICAgICAgICAgICAgcHJveHk6IG51bGwsXG4gICAgICAgICAgICByZW1vdmVDb250YWluZXI6IHRydWUsXG4gICAgICAgICAgICBmb3JlaWduT2JqZWN0UmVuZGVyaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZUNPUlM6IGZhbHNlXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aGlzLm9wdC5odG1sMmNhbnZhc1xuICAgICAgICApO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5vbnJlbmRlcmVkO1xuXG4gICAgICAgIHBkZi5jb250ZXh0MmQuYXV0b1BhZ2luZyA9XG4gICAgICAgICAgdHlwZW9mIHRoaXMub3B0LmF1dG9QYWdpbmcgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgOiB0aGlzLm9wdC5hdXRvUGFnaW5nO1xuICAgICAgICBwZGYuY29udGV4dDJkLnBvc1ggPSB0aGlzLm9wdC54O1xuICAgICAgICBwZGYuY29udGV4dDJkLnBvc1kgPSB0aGlzLm9wdC55O1xuICAgICAgICBwZGYuY29udGV4dDJkLm1hcmdpbiA9IHRoaXMub3B0Lm1hcmdpbjtcbiAgICAgICAgcGRmLmNvbnRleHQyZC5mb250RmFjZXMgPSBmb250RmFjZXM7XG5cbiAgICAgICAgaWYgKGZvbnRGYWNlcykge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9udEZhY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZm9udCA9IGZvbnRGYWNlc1tpXTtcbiAgICAgICAgICAgIHZhciBzcmMgPSBmb250LnNyYy5maW5kKGZ1bmN0aW9uKHNyYykge1xuICAgICAgICAgICAgICByZXR1cm4gc3JjLmZvcm1hdCA9PT0gXCJ0cnVldHlwZVwiO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgICAgcGRmLmFkZEZvbnQoc3JjLnVybCwgZm9udC5yZWYubmFtZSwgZm9udC5yZWYuc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMud2luZG93SGVpZ2h0ID0gb3B0aW9ucy53aW5kb3dIZWlnaHQgfHwgMDtcbiAgICAgICAgb3B0aW9ucy53aW5kb3dIZWlnaHQgPVxuICAgICAgICAgIG9wdGlvbnMud2luZG93SGVpZ2h0ID09IDBcbiAgICAgICAgICAgID8gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wLmNvbnRhaW5lci5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wLmNvbnRhaW5lci5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBvcHRpb25zLndpbmRvd0hlaWdodDtcblxuICAgICAgICBwZGYuY29udGV4dDJkLnNhdmUodHJ1ZSk7XG4gICAgICAgIHJldHVybiBodG1sMmNhbnZhcyh0aGlzLnByb3AuY29udGFpbmVyLCBvcHRpb25zKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbiB0b0NvbnRleHQyZF9wb3N0KGNhbnZhcykge1xuICAgICAgICB0aGlzLm9wdC5qc1BERi5jb250ZXh0MmQucmVzdG9yZSh0cnVlKTtcblxuICAgICAgICAvLyBIYW5kbGUgb2xkLWZhc2hpb25lZCAnb25yZW5kZXJlZCcgYXJndW1lbnQuXG4gICAgICAgIHZhciBvblJlbmRlcmVkID0gdGhpcy5vcHQuaHRtbDJjYW52YXMub25yZW5kZXJlZCB8fCBmdW5jdGlvbigpIHt9O1xuICAgICAgICBvblJlbmRlcmVkKGNhbnZhcyk7XG5cbiAgICAgICAgdGhpcy5wcm9wLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnByb3Aub3ZlcmxheSk7XG4gICAgICB9KTtcbiAgfTtcblxuICBXb3JrZXIucHJvdG90eXBlLnRvSW1nID0gZnVuY3Rpb24gdG9JbWcoKSB7XG4gICAgLy8gU2V0IHVwIGZ1bmN0aW9uIHByZXJlcXVpc2l0ZXMuXG4gICAgdmFyIHByZXJlcXMgPSBbXG4gICAgICBmdW5jdGlvbiBjaGVja0NhbnZhcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcC5jYW52YXMgfHwgdGhpcy50b0NhbnZhcygpO1xuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBGdWxmaWxsIHByZXJlcXMgdGhlbiBjcmVhdGUgdGhlIGltYWdlLlxuICAgIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gdG9JbWdfbWFpbigpIHtcbiAgICAgIHZhciBpbWdEYXRhID0gdGhpcy5wcm9wLmNhbnZhcy50b0RhdGFVUkwoXG4gICAgICAgIFwiaW1hZ2UvXCIgKyB0aGlzLm9wdC5pbWFnZS50eXBlLFxuICAgICAgICB0aGlzLm9wdC5pbWFnZS5xdWFsaXR5XG4gICAgICApO1xuICAgICAgdGhpcy5wcm9wLmltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICB0aGlzLnByb3AuaW1nLnNyYyA9IGltZ0RhdGE7XG4gICAgfSk7XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS50b1BkZiA9IGZ1bmN0aW9uIHRvUGRmKCkge1xuICAgIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICAgIHZhciBwcmVyZXFzID0gW1xuICAgICAgZnVuY3Rpb24gY2hlY2tDb250ZXh0MmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQ29udGV4dDJkKCk7XG4gICAgICB9XG4gICAgICAvL2Z1bmN0aW9uIGNoZWNrQ2FudmFzKCkgeyByZXR1cm4gdGhpcy5wcm9wLmNhbnZhcyB8fCB0aGlzLnRvQ2FudmFzKCk7IH1cbiAgICBdO1xuXG4gICAgLy8gRnVsZmlsbCBwcmVyZXFzIHRoZW4gY3JlYXRlIHRoZSBpbWFnZS5cbiAgICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIHRvUGRmX21haW4oKSB7XG4gICAgICAvLyBDcmVhdGUgbG9jYWwgY29waWVzIG9mIGZyZXF1ZW50bHkgdXNlZCBwcm9wZXJ0aWVzLlxuICAgICAgdGhpcy5wcm9wLnBkZiA9IHRoaXMucHJvcC5wZGYgfHwgdGhpcy5vcHQuanNQREY7XG4gICAgfSk7XG4gIH07XG5cbiAgLyogLS0tLS0gT1VUUFVUIC8gU0FWRSAtLS0tLSAqL1xuXG4gIFdvcmtlci5wcm90b3R5cGUub3V0cHV0ID0gZnVuY3Rpb24gb3V0cHV0KHR5cGUsIG9wdGlvbnMsIHNyYykge1xuICAgIC8vIFJlZGlyZWN0IHJlcXVlc3RzIHRvIHRoZSBjb3JyZWN0IGZ1bmN0aW9uIChvdXRwdXRQZGYgLyBvdXRwdXRJbWcpLlxuICAgIHNyYyA9IHNyYyB8fCBcInBkZlwiO1xuICAgIGlmIChzcmMudG9Mb3dlckNhc2UoKSA9PT0gXCJpbWdcIiB8fCBzcmMudG9Mb3dlckNhc2UoKSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5vdXRwdXRJbWcodHlwZSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm91dHB1dFBkZih0eXBlLCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS5vdXRwdXRQZGYgPSBmdW5jdGlvbiBvdXRwdXRQZGYodHlwZSwgb3B0aW9ucykge1xuICAgIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICAgIHZhciBwcmVyZXFzID0gW1xuICAgICAgZnVuY3Rpb24gY2hlY2tQZGYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3AucGRmIHx8IHRoaXMudG9QZGYoKTtcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gRnVsZmlsbCBwcmVyZXFzIHRoZW4gcGVyZm9ybSB0aGUgYXBwcm9wcmlhdGUgb3V0cHV0LlxuICAgIHJldHVybiB0aGlzLnRoZW5MaXN0KHByZXJlcXMpLnRoZW4oZnVuY3Rpb24gb3V0cHV0UGRmX21haW4oKSB7XG4gICAgICAvKiBDdXJyZW50bHkgaW1wbGVtZW50ZWQgb3V0cHV0IHR5cGVzOlxuICAgICAgICogICAgaHR0cHM6Ly9yYXdnaXQuY29tL01yUmlvL2pzUERGL21hc3Rlci9kb2NzL2pzcGRmLmpzLmh0bWwjbGluZTk5MlxuICAgICAgICogIHNhdmUob3B0aW9ucyksIGFycmF5YnVmZmVyLCBibG9iLCBibG9idXJpL2Jsb2J1cmwsXG4gICAgICAgKiAgZGF0YXVyaXN0cmluZy9kYXRhdXJsc3RyaW5nLCBkYXRhdXJsbmV3d2luZG93LCBkYXRhdXJpL2RhdGF1cmxcbiAgICAgICAqL1xuICAgICAgcmV0dXJuIHRoaXMucHJvcC5wZGYub3V0cHV0KHR5cGUsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUub3V0cHV0SW1nID0gZnVuY3Rpb24gb3V0cHV0SW1nKHR5cGUpIHtcbiAgICAvLyBTZXQgdXAgZnVuY3Rpb24gcHJlcmVxdWlzaXRlcy5cbiAgICB2YXIgcHJlcmVxcyA9IFtcbiAgICAgIGZ1bmN0aW9uIGNoZWNrSW1nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wLmltZyB8fCB0aGlzLnRvSW1nKCk7XG4gICAgICB9XG4gICAgXTtcblxuICAgIC8vIEZ1bGZpbGwgcHJlcmVxcyB0aGVuIHBlcmZvcm0gdGhlIGFwcHJvcHJpYXRlIG91dHB1dC5cbiAgICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIG91dHB1dEltZ19tYWluKCkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHJvcC5pbWc7XG4gICAgICAgIGNhc2UgXCJkYXRhdXJpc3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJkYXRhdXJsc3RyaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHJvcC5pbWcuc3JjO1xuICAgICAgICBjYXNlIFwiZGF0YXVyaVwiOlxuICAgICAgICBjYXNlIFwiZGF0YXVybFwiOlxuICAgICAgICAgIHJldHVybiAoZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IHRoaXMucHJvcC5pbWcuc3JjKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyAnSW1hZ2Ugb3V0cHV0IHR5cGUgXCInICsgdHlwZSArICdcIiBpcyBub3Qgc3VwcG9ydGVkLic7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gc2F2ZShmaWxlbmFtZSkge1xuICAgIC8vIFNldCB1cCBmdW5jdGlvbiBwcmVyZXF1aXNpdGVzLlxuICAgIHZhciBwcmVyZXFzID0gW1xuICAgICAgZnVuY3Rpb24gY2hlY2tQZGYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3AucGRmIHx8IHRoaXMudG9QZGYoKTtcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgLy8gRnVsZmlsbCBwcmVyZXFzLCB1cGRhdGUgdGhlIGZpbGVuYW1lIChpZiBwcm92aWRlZCksIGFuZCBzYXZlIHRoZSBQREYuXG4gICAgcmV0dXJuIHRoaXMudGhlbkxpc3QocHJlcmVxcylcbiAgICAgIC5zZXQoZmlsZW5hbWUgPyB7IGZpbGVuYW1lOiBmaWxlbmFtZSB9IDogbnVsbClcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHNhdmVfbWFpbigpIHtcbiAgICAgICAgdGhpcy5wcm9wLnBkZi5zYXZlKHRoaXMub3B0LmZpbGVuYW1lKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUuZG9DYWxsYmFjayA9IGZ1bmN0aW9uIGRvQ2FsbGJhY2soKSB7XG4gICAgLy8gU2V0IHVwIGZ1bmN0aW9uIHByZXJlcXVpc2l0ZXMuXG4gICAgdmFyIHByZXJlcXMgPSBbXG4gICAgICBmdW5jdGlvbiBjaGVja1BkZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcC5wZGYgfHwgdGhpcy50b1BkZigpO1xuICAgICAgfVxuICAgIF07XG5cbiAgICAvLyBGdWxmaWxsIHByZXJlcXMsIHVwZGF0ZSB0aGUgZmlsZW5hbWUgKGlmIHByb3ZpZGVkKSwgYW5kIHNhdmUgdGhlIFBERi5cbiAgICByZXR1cm4gdGhpcy50aGVuTGlzdChwcmVyZXFzKS50aGVuKGZ1bmN0aW9uIGRvQ2FsbGJhY2tfbWFpbigpIHtcbiAgICAgIHRoaXMucHJvcC5jYWxsYmFjayh0aGlzLnByb3AucGRmKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKiAtLS0tLSBTRVQgLyBHRVQgLS0tLS0gKi9cblxuICBXb3JrZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldChvcHQpIHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgb3JkZXJlZCBwYWlycz9cblxuICAgIC8vIFNpbGVudGx5IGlnbm9yZSBpbnZhbGlkIG9yIGVtcHR5IGlucHV0LlxuICAgIGlmIChvYmpUeXBlKG9wdCkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEJ1aWxkIGFuIGFycmF5IG9mIHNldHRlciBmdW5jdGlvbnMgdG8gcXVldWUuXG4gICAgdmFyIGZucyA9IE9iamVjdC5rZXlzKG9wdCB8fCB7fSkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBXb3JrZXIudGVtcGxhdGUucHJvcCkge1xuICAgICAgICAvLyBTZXQgcHJlLWRlZmluZWQgcHJvcGVydGllcy5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9wcm9wKCkge1xuICAgICAgICAgIHRoaXMucHJvcFtrZXldID0gb3B0W2tleV07XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgXCJtYXJnaW5cIjpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldE1hcmdpbi5iaW5kKHRoaXMsIG9wdC5tYXJnaW4pO1xuICAgICAgICAgIGNhc2UgXCJqc1BERlwiOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9qc1BERigpIHtcbiAgICAgICAgICAgICAgdGhpcy5vcHQuanNQREYgPSBvcHQuanNQREY7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFBhZ2VTaXplKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIGNhc2UgXCJwYWdlU2l6ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0UGFnZVNpemUuYmluZCh0aGlzLCBvcHQucGFnZVNpemUpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBTZXQgYW55IG90aGVyIHByb3BlcnRpZXMgaW4gb3B0LlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHNldF9vcHQoKSB7XG4gICAgICAgICAgICAgIHRoaXMub3B0W2tleV0gPSBvcHRba2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIFNldCBwcm9wZXJ0aWVzIHdpdGhpbiB0aGUgcHJvbWlzZSBjaGFpbi5cbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIHNldF9tYWluKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbkxpc3QoZm5zKTtcbiAgICB9KTtcbiAgfTtcblxuICBXb3JrZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldChrZXksIGNiaykge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gZ2V0X21haW4oKSB7XG4gICAgICAvLyBGZXRjaCB0aGUgcmVxdWVzdGVkIHByb3BlcnR5LCBlaXRoZXIgYXMgYSBwcmVkZWZpbmVkIHByb3Agb3IgaW4gb3B0LlxuICAgICAgdmFyIHZhbCA9IGtleSBpbiBXb3JrZXIudGVtcGxhdGUucHJvcCA/IHRoaXMucHJvcFtrZXldIDogdGhpcy5vcHRba2V5XTtcbiAgICAgIHJldHVybiBjYmsgPyBjYmsodmFsKSA6IHZhbDtcbiAgICB9KTtcbiAgfTtcblxuICBXb3JrZXIucHJvdG90eXBlLnNldE1hcmdpbiA9IGZ1bmN0aW9uIHNldE1hcmdpbihtYXJnaW4pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIHNldE1hcmdpbl9tYWluKCkge1xuICAgICAgLy8gUGFyc2UgdGhlIG1hcmdpbiBwcm9wZXJ0eS5cbiAgICAgIHN3aXRjaCAob2JqVHlwZShtYXJnaW4pKSB7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICBtYXJnaW4gPSBbbWFyZ2luLCBtYXJnaW4sIG1hcmdpbiwgbWFyZ2luXTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgIGlmIChtYXJnaW4ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBtYXJnaW4gPSBbbWFyZ2luWzBdLCBtYXJnaW5bMV0sIG1hcmdpblswXSwgbWFyZ2luWzFdXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1hcmdpbi5sZW5ndGggPT09IDQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoXCJJbnZhbGlkIG1hcmdpbiBhcnJheS5cIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgbWFyZ2luIHByb3BlcnR5LCB0aGVuIHVwZGF0ZSBwYWdlU2l6ZS5cbiAgICAgIHRoaXMub3B0Lm1hcmdpbiA9IG1hcmdpbjtcbiAgICB9KS50aGVuKHRoaXMuc2V0UGFnZVNpemUpO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiBzZXRQYWdlU2l6ZShwYWdlU2l6ZSkge1xuICAgIGZ1bmN0aW9uIHRvUHgodmFsLCBrKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigoKHZhbCAqIGspIC8gNzIpICogOTYpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gc2V0UGFnZVNpemVfbWFpbigpIHtcbiAgICAgIC8vIFJldHJpZXZlIHBhZ2Utc2l6ZSBiYXNlZCBvbiBqc1BERiBzZXR0aW5ncywgaWYgbm90IGV4cGxpY2l0bHkgcHJvdmlkZWQuXG4gICAgICBwYWdlU2l6ZSA9IHBhZ2VTaXplIHx8IGpzUERGLmdldFBhZ2VTaXplKHRoaXMub3B0LmpzUERGKTtcblxuICAgICAgLy8gQWRkICdpbm5lcicgZmllbGQgaWYgbm90IHByZXNlbnQuXG4gICAgICBpZiAoIXBhZ2VTaXplLmhhc093blByb3BlcnR5KFwiaW5uZXJcIikpIHtcbiAgICAgICAgcGFnZVNpemUuaW5uZXIgPSB7XG4gICAgICAgICAgd2lkdGg6IHBhZ2VTaXplLndpZHRoIC0gdGhpcy5vcHQubWFyZ2luWzFdIC0gdGhpcy5vcHQubWFyZ2luWzNdLFxuICAgICAgICAgIGhlaWdodDogcGFnZVNpemUuaGVpZ2h0IC0gdGhpcy5vcHQubWFyZ2luWzBdIC0gdGhpcy5vcHQubWFyZ2luWzJdXG4gICAgICAgIH07XG4gICAgICAgIHBhZ2VTaXplLmlubmVyLnB4ID0ge1xuICAgICAgICAgIHdpZHRoOiB0b1B4KHBhZ2VTaXplLmlubmVyLndpZHRoLCBwYWdlU2l6ZS5rKSxcbiAgICAgICAgICBoZWlnaHQ6IHRvUHgocGFnZVNpemUuaW5uZXIuaGVpZ2h0LCBwYWdlU2l6ZS5rKVxuICAgICAgICB9O1xuICAgICAgICBwYWdlU2l6ZS5pbm5lci5yYXRpbyA9IHBhZ2VTaXplLmlubmVyLmhlaWdodCAvIHBhZ2VTaXplLmlubmVyLndpZHRoO1xuICAgICAgfVxuXG4gICAgICAvLyBBdHRhY2ggcGFnZVNpemUgdG8gdGhpcy5cbiAgICAgIHRoaXMucHJvcC5wYWdlU2l6ZSA9IHBhZ2VTaXplO1xuICAgIH0pO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUuc2V0UHJvZ3Jlc3MgPSBmdW5jdGlvbiBzZXRQcm9ncmVzcyh2YWwsIHN0YXRlLCBuLCBzdGFjaykge1xuICAgIC8vIEltbWVkaWF0ZWx5IHVwZGF0ZSBhbGwgcHJvZ3Jlc3MgdmFsdWVzLlxuICAgIGlmICh2YWwgIT0gbnVsbCkgdGhpcy5wcm9ncmVzcy52YWwgPSB2YWw7XG4gICAgaWYgKHN0YXRlICE9IG51bGwpIHRoaXMucHJvZ3Jlc3Muc3RhdGUgPSBzdGF0ZTtcbiAgICBpZiAobiAhPSBudWxsKSB0aGlzLnByb2dyZXNzLm4gPSBuO1xuICAgIGlmIChzdGFjayAhPSBudWxsKSB0aGlzLnByb2dyZXNzLnN0YWNrID0gc3RhY2s7XG4gICAgdGhpcy5wcm9ncmVzcy5yYXRpbyA9IHRoaXMucHJvZ3Jlc3MudmFsIC8gdGhpcy5wcm9ncmVzcy5zdGF0ZTtcblxuICAgIC8vIFJldHVybiB0aGlzIGZvciBjb21tYW5kIGNoYWluaW5nLlxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUudXBkYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhcbiAgICB2YWwsXG4gICAgc3RhdGUsXG4gICAgbixcbiAgICBzdGFja1xuICApIHtcbiAgICAvLyBJbW1lZGlhdGVseSB1cGRhdGUgYWxsIHByb2dyZXNzIHZhbHVlcywgdXNpbmcgc2V0UHJvZ3Jlc3MuXG4gICAgcmV0dXJuIHRoaXMuc2V0UHJvZ3Jlc3MoXG4gICAgICB2YWwgPyB0aGlzLnByb2dyZXNzLnZhbCArIHZhbCA6IG51bGwsXG4gICAgICBzdGF0ZSA/IHN0YXRlIDogbnVsbCxcbiAgICAgIG4gPyB0aGlzLnByb2dyZXNzLm4gKyBuIDogbnVsbCxcbiAgICAgIHN0YWNrID8gdGhpcy5wcm9ncmVzcy5zdGFjay5jb25jYXQoc3RhY2spIDogbnVsbFxuICAgICk7XG4gIH07XG5cbiAgLyogLS0tLS0gUFJPTUlTRSBNQVBQSU5HIC0tLS0tICovXG5cbiAgV29ya2VyLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIC8vIFdyYXAgYHRoaXNgIGZvciBlbmNhcHN1bGF0aW9uLlxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHJldHVybiB0aGlzLnRoZW5Db3JlKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBmdW5jdGlvbiB0aGVuX21haW4oXG4gICAgICBvbkZ1bGZpbGxlZCxcbiAgICAgIG9uUmVqZWN0ZWRcbiAgICApIHtcbiAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyB3aGlsZSBxdWV1aW5nLCBjYWxsaW5nLCBhbmQgcmVzb2x2aW5nIGB0aGVuYC5cbiAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MobnVsbCwgbnVsbCwgMSwgW29uRnVsZmlsbGVkXSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5wcm90b3R5cGUudGhlblxuICAgICAgICAuY2FsbCh0aGlzLCBmdW5jdGlvbiB0aGVuX3ByZSh2YWwpIHtcbiAgICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzKG51bGwsIG9uRnVsZmlsbGVkKTtcbiAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gdGhlbl9wb3N0KHZhbCkge1xuICAgICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MoMSk7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgV29ya2VyLnByb3RvdHlwZS50aGVuQ29yZSA9IGZ1bmN0aW9uIHRoZW5Db3JlKFxuICAgIG9uRnVsZmlsbGVkLFxuICAgIG9uUmVqZWN0ZWQsXG4gICAgdGhlbkJhc2VcbiAgKSB7XG4gICAgLy8gSGFuZGxlIG9wdGlvbmFsIHRoZW5CYXNlIHBhcmFtZXRlci5cbiAgICB0aGVuQmFzZSA9IHRoZW5CYXNlIHx8IFByb21pc2UucHJvdG90eXBlLnRoZW47XG5cbiAgICAvLyBXcmFwIGB0aGlzYCBmb3IgZW5jYXBzdWxhdGlvbiBhbmQgYmluZCBpdCB0byB0aGUgcHJvbWlzZSBoYW5kbGVycy5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKG9uRnVsZmlsbGVkKSB7XG4gICAgICBvbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkLmJpbmQoc2VsZik7XG4gICAgfVxuICAgIGlmIChvblJlamVjdGVkKSB7XG4gICAgICBvblJlamVjdGVkID0gb25SZWplY3RlZC5iaW5kKHNlbGYpO1xuICAgIH1cblxuICAgIC8vIENhc3Qgc2VsZiBpbnRvIGEgUHJvbWlzZSB0byBhdm9pZCBwb2x5ZmlsbHMgcmVjdXJzaXZlbHkgZGVmaW5pbmcgYHRoZW5gLlxuICAgIHZhciBpc05hdGl2ZSA9XG4gICAgICBQcm9taXNlLnRvU3RyaW5nKCkuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xICYmXG4gICAgICBQcm9taXNlLm5hbWUgPT09IFwiUHJvbWlzZVwiO1xuICAgIHZhciBzZWxmUHJvbWlzZSA9IGlzTmF0aXZlXG4gICAgICA/IHNlbGZcbiAgICAgIDogV29ya2VyLmNvbnZlcnQoT2JqZWN0LmFzc2lnbih7fSwgc2VsZiksIFByb21pc2UucHJvdG90eXBlKTtcblxuICAgIC8vIFJldHVybiB0aGUgcHJvbWlzZSwgYWZ0ZXIgY2FzdGluZyBpdCBpbnRvIGEgV29ya2VyIGFuZCBwcmVzZXJ2aW5nIHByb3BzLlxuICAgIHZhciByZXR1cm5WYWwgPSB0aGVuQmFzZS5jYWxsKHNlbGZQcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgcmV0dXJuIFdvcmtlci5jb252ZXJ0KHJldHVyblZhbCwgc2VsZi5fX3Byb3RvX18pO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUudGhlbkV4dGVybmFsID0gZnVuY3Rpb24gdGhlbkV4dGVybmFsKFxuICAgIG9uRnVsZmlsbGVkLFxuICAgIG9uUmVqZWN0ZWRcbiAgKSB7XG4gICAgLy8gQ2FsbCBgdGhlbmAgYW5kIHJldHVybiBhIHN0YW5kYXJkIHByb21pc2UgKGV4aXRzIHRoZSBXb3JrZXIgY2hhaW4pLlxuICAgIHJldHVybiBQcm9taXNlLnByb3RvdHlwZS50aGVuLmNhbGwodGhpcywgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUudGhlbkxpc3QgPSBmdW5jdGlvbiB0aGVuTGlzdChmbnMpIHtcbiAgICAvLyBRdWV1ZSBhIHNlcmllcyBvZiBwcm9taXNlICdmYWN0b3JpZXMnIGludG8gdGhlIHByb21pc2UgY2hhaW4uXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGZucy5mb3JFYWNoKGZ1bmN0aW9uIHRoZW5MaXN0X2ZvckVhY2goZm4pIHtcbiAgICAgIHNlbGYgPSBzZWxmLnRoZW5Db3JlKGZuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICBXb3JrZXIucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbihvblJlamVjdGVkKSB7XG4gICAgLy8gQmluZCBgdGhpc2AgdG8gdGhlIHByb21pc2UgaGFuZGxlciwgY2FsbCBgY2F0Y2hgLCBhbmQgcmV0dXJuIGEgV29ya2VyLlxuICAgIGlmIChvblJlamVjdGVkKSB7XG4gICAgICBvblJlamVjdGVkID0gb25SZWplY3RlZC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICB2YXIgcmV0dXJuVmFsID0gUHJvbWlzZS5wcm90b3R5cGVbXCJjYXRjaFwiXS5jYWxsKHRoaXMsIG9uUmVqZWN0ZWQpO1xuICAgIHJldHVybiBXb3JrZXIuY29udmVydChyZXR1cm5WYWwsIHRoaXMpO1xuICB9O1xuXG4gIFdvcmtlci5wcm90b3R5cGUuY2F0Y2hFeHRlcm5hbCA9IGZ1bmN0aW9uIGNhdGNoRXh0ZXJuYWwob25SZWplY3RlZCkge1xuICAgIC8vIENhbGwgYGNhdGNoYCBhbmQgcmV0dXJuIGEgc3RhbmRhcmQgcHJvbWlzZSAoZXhpdHMgdGhlIFdvcmtlciBjaGFpbikuXG4gICAgcmV0dXJuIFByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0uY2FsbCh0aGlzLCBvblJlamVjdGVkKTtcbiAgfTtcblxuICBXb3JrZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gICAgLy8gVGhyb3cgdGhlIGVycm9yIGluIHRoZSBQcm9taXNlIGNoYWluLlxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gZXJyb3JfbWFpbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qIC0tLS0tIEFMSUFTRVMgLS0tLS0gKi9cblxuICBXb3JrZXIucHJvdG90eXBlLnVzaW5nID0gV29ya2VyLnByb3RvdHlwZS5zZXQ7XG4gIFdvcmtlci5wcm90b3R5cGUuc2F2ZUFzID0gV29ya2VyLnByb3RvdHlwZS5zYXZlO1xuICBXb3JrZXIucHJvdG90eXBlLmV4cG9ydCA9IFdvcmtlci5wcm90b3R5cGUub3V0cHV0O1xuICBXb3JrZXIucHJvdG90eXBlLnJ1biA9IFdvcmtlci5wcm90b3R5cGUudGhlbjtcblxuICAvLyBHZXQgZGltZW5zaW9ucyBvZiBhIFBERiBwYWdlLCBhcyBkZXRlcm1pbmVkIGJ5IGpzUERGLlxuICBqc1BERi5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uKG9yaWVudGF0aW9uLCB1bml0LCBmb3JtYXQpIHtcbiAgICAvLyBEZWNvZGUgb3B0aW9ucyBvYmplY3RcbiAgICBpZiAodHlwZW9mIG9yaWVudGF0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IG9yaWVudGF0aW9uO1xuICAgICAgb3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uO1xuICAgICAgdW5pdCA9IG9wdGlvbnMudW5pdCB8fCB1bml0O1xuICAgICAgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQgfHwgZm9ybWF0O1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgIHVuaXQgPSB1bml0IHx8IFwibW1cIjtcbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgXCJhNFwiO1xuICAgIG9yaWVudGF0aW9uID0gKFwiXCIgKyAob3JpZW50YXRpb24gfHwgXCJQXCIpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBmb3JtYXRfYXNfc3RyaW5nID0gKFwiXCIgKyBmb3JtYXQpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBTaXplIGluIHB0IG9mIHZhcmlvdXMgcGFwZXIgZm9ybWF0c1xuICAgIHZhciBwYWdlRm9ybWF0cyA9IHtcbiAgICAgIGEwOiBbMjM4My45NCwgMzM3MC4zOV0sXG4gICAgICBhMTogWzE2ODMuNzgsIDIzODMuOTRdLFxuICAgICAgYTI6IFsxMTkwLjU1LCAxNjgzLjc4XSxcbiAgICAgIGEzOiBbODQxLjg5LCAxMTkwLjU1XSxcbiAgICAgIGE0OiBbNTk1LjI4LCA4NDEuODldLFxuICAgICAgYTU6IFs0MTkuNTMsIDU5NS4yOF0sXG4gICAgICBhNjogWzI5Ny42NCwgNDE5LjUzXSxcbiAgICAgIGE3OiBbMjA5Ljc2LCAyOTcuNjRdLFxuICAgICAgYTg6IFsxNDcuNCwgMjA5Ljc2XSxcbiAgICAgIGE5OiBbMTA0Ljg4LCAxNDcuNF0sXG4gICAgICBhMTA6IFs3My43LCAxMDQuODhdLFxuICAgICAgYjA6IFsyODM0LjY1LCA0MDA4LjE5XSxcbiAgICAgIGIxOiBbMjAwNC4wOSwgMjgzNC42NV0sXG4gICAgICBiMjogWzE0MTcuMzIsIDIwMDQuMDldLFxuICAgICAgYjM6IFsxMDAwLjYzLCAxNDE3LjMyXSxcbiAgICAgIGI0OiBbNzA4LjY2LCAxMDAwLjYzXSxcbiAgICAgIGI1OiBbNDk4LjksIDcwOC42Nl0sXG4gICAgICBiNjogWzM1NC4zMywgNDk4LjldLFxuICAgICAgYjc6IFsyNDkuNDUsIDM1NC4zM10sXG4gICAgICBiODogWzE3NS43NSwgMjQ5LjQ1XSxcbiAgICAgIGI5OiBbMTI0LjcyLCAxNzUuNzVdLFxuICAgICAgYjEwOiBbODcuODcsIDEyNC43Ml0sXG4gICAgICBjMDogWzI1OTkuMzcsIDM2NzYuNTRdLFxuICAgICAgYzE6IFsxODM2Ljg1LCAyNTk5LjM3XSxcbiAgICAgIGMyOiBbMTI5OC4yNywgMTgzNi44NV0sXG4gICAgICBjMzogWzkxOC40MywgMTI5OC4yN10sXG4gICAgICBjNDogWzY0OS4xMywgOTE4LjQzXSxcbiAgICAgIGM1OiBbNDU5LjIxLCA2NDkuMTNdLFxuICAgICAgYzY6IFszMjMuMTUsIDQ1OS4yMV0sXG4gICAgICBjNzogWzIyOS42MSwgMzIzLjE1XSxcbiAgICAgIGM4OiBbMTYxLjU3LCAyMjkuNjFdLFxuICAgICAgYzk6IFsxMTMuMzksIDE2MS41N10sXG4gICAgICBjMTA6IFs3OS4zNywgMTEzLjM5XSxcbiAgICAgIGRsOiBbMzExLjgxLCA2MjMuNjJdLFxuICAgICAgbGV0dGVyOiBbNjEyLCA3OTJdLFxuICAgICAgXCJnb3Zlcm5tZW50LWxldHRlclwiOiBbNTc2LCA3NTZdLFxuICAgICAgbGVnYWw6IFs2MTIsIDEwMDhdLFxuICAgICAgXCJqdW5pb3ItbGVnYWxcIjogWzU3NiwgMzYwXSxcbiAgICAgIGxlZGdlcjogWzEyMjQsIDc5Ml0sXG4gICAgICB0YWJsb2lkOiBbNzkyLCAxMjI0XSxcbiAgICAgIFwiY3JlZGl0LWNhcmRcIjogWzE1MywgMjQzXVxuICAgIH07XG5cbiAgICB2YXIgaztcbiAgICAvLyBVbml0IGNvbnZlcnNpb25cbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgIGNhc2UgXCJwdFwiOlxuICAgICAgICBrID0gMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibW1cIjpcbiAgICAgICAgayA9IDcyIC8gMjUuNDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY21cIjpcbiAgICAgICAgayA9IDcyIC8gMi41NDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiaW5cIjpcbiAgICAgICAgayA9IDcyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJweFwiOlxuICAgICAgICBrID0gNzIgLyA5NjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGNcIjpcbiAgICAgICAgayA9IDEyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJlbVwiOlxuICAgICAgICBrID0gMTI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImV4XCI6XG4gICAgICAgIGsgPSA2O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IFwiSW52YWxpZCB1bml0OiBcIiArIHVuaXQ7XG4gICAgfVxuICAgIHZhciBwYWdlSGVpZ2h0ID0gMDtcbiAgICB2YXIgcGFnZVdpZHRoID0gMDtcblxuICAgIC8vIERpbWVuc2lvbnMgYXJlIHN0b3JlZCBhcyB1c2VyIHVuaXRzIGFuZCBjb252ZXJ0ZWQgdG8gcG9pbnRzIG9uIG91dHB1dFxuICAgIGlmIChwYWdlRm9ybWF0cy5oYXNPd25Qcm9wZXJ0eShmb3JtYXRfYXNfc3RyaW5nKSkge1xuICAgICAgcGFnZUhlaWdodCA9IHBhZ2VGb3JtYXRzW2Zvcm1hdF9hc19zdHJpbmddWzFdIC8gaztcbiAgICAgIHBhZ2VXaWR0aCA9IHBhZ2VGb3JtYXRzW2Zvcm1hdF9hc19zdHJpbmddWzBdIC8gaztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFnZUhlaWdodCA9IGZvcm1hdFsxXTtcbiAgICAgICAgcGFnZVdpZHRoID0gZm9ybWF0WzBdO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm9ybWF0OiBcIiArIGZvcm1hdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRtcDtcbiAgICAvLyBIYW5kbGUgcGFnZSBvcmllbnRhdGlvblxuICAgIGlmIChvcmllbnRhdGlvbiA9PT0gXCJwXCIgfHwgb3JpZW50YXRpb24gPT09IFwicG9ydHJhaXRcIikge1xuICAgICAgb3JpZW50YXRpb24gPSBcInBcIjtcbiAgICAgIGlmIChwYWdlV2lkdGggPiBwYWdlSGVpZ2h0KSB7XG4gICAgICAgIHRtcCA9IHBhZ2VXaWR0aDtcbiAgICAgICAgcGFnZVdpZHRoID0gcGFnZUhlaWdodDtcbiAgICAgICAgcGFnZUhlaWdodCA9IHRtcDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9yaWVudGF0aW9uID09PSBcImxcIiB8fCBvcmllbnRhdGlvbiA9PT0gXCJsYW5kc2NhcGVcIikge1xuICAgICAgb3JpZW50YXRpb24gPSBcImxcIjtcbiAgICAgIGlmIChwYWdlSGVpZ2h0ID4gcGFnZVdpZHRoKSB7XG4gICAgICAgIHRtcCA9IHBhZ2VXaWR0aDtcbiAgICAgICAgcGFnZVdpZHRoID0gcGFnZUhlaWdodDtcbiAgICAgICAgcGFnZUhlaWdodCA9IHRtcDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJJbnZhbGlkIG9yaWVudGF0aW9uOiBcIiArIG9yaWVudGF0aW9uO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBpbmZvcm1hdGlvbiAoayBpcyB0aGUgdW5pdCBjb252ZXJzaW9uIHJhdGlvIGZyb20gcHRzKVxuICAgIHZhciBpbmZvID0ge1xuICAgICAgd2lkdGg6IHBhZ2VXaWR0aCxcbiAgICAgIGhlaWdodDogcGFnZUhlaWdodCxcbiAgICAgIHVuaXQ6IHVuaXQsXG4gICAgICBrOiBrLFxuICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uXG4gICAgfTtcbiAgICByZXR1cm4gaW5mbztcbiAgfTtcblxuICAvKipcbiAgICogQHR5cGVkZWYgRm9udEZhY2VcbiAgICpcbiAgICogVGhlIGZvbnQtZmFjZSB0eXBlIGltcGxlbWVudHMgYW4gaW50ZXJmYWNlIHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgZm9udC1mYWNlIENTUyBydWxlLFxuICAgKiBhbmQgaXMgdXNlZCBieSBqc1BERiB0byBtYXRjaCBmb250cyB3aGVuIHRoZSBmb250IHByb3BlcnR5IG9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxuICAgKiBpcyB1cGRhdGVkLlxuICAgKlxuICAgKiBBbGwgcHJvcGVydGllcyBleHBlY3QgdmFsdWVzIHNpbWlsYXIgdG8gdGhvc2UgaW4gdGhlIGZvbnQtZmFjZSBDU1MgcnVsZS4gQSBkaWZmZXJlbmNlXG4gICAqIGlzIHRoZSBmb250LWZhbWlseSwgd2hpY2ggZG8gbm90IG5lZWQgdG8gYmUgZW5jbG9zZWQgaW4gZG91YmxlLXF1b3RlcyB3aGVuIGNvbnRhaW5pbmdcbiAgICogc3BhY2VzIGxpa2UgaW4gQ1NTLlxuICAgKlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gZmFtaWx5IFRoZSBuYW1lIG9mIHRoZSBmb250LWZhbWlseS5cbiAgICogQHByb3BlcnR5IHtzdHJpbmd8dW5kZWZpbmVkfSBzdHlsZSBUaGUgc3R5bGUgdGhhdCB0aGlzIGZvbnQtZmFjZSBkZWZpbmVzLCBlLmcuICdpdGFsaWMnLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xudW1iZXJ8dW5kZWZpbmVkfSB3ZWlnaHQgVGhlIHdlaWdodCBvZiB0aGUgZm9udCwgZWl0aGVyIGFzIGEgc3RyaW5nIG9yIGEgbnVtYmVyICg0MDAsIDUwMCwgNjAwLCBlLmcuKVxuICAgKiBAcHJvcGVydHkge3N0cmluZ3x1bmRlZmluZWR9IHN0cmV0Y2ggVGhlIHN0cmV0Y2ggb2YgdGhlIGZvbnQsIGUuZy4gY29uZGVuc2VkLCBub3JtYWwsIGV4cGFuZGVkLlxuICAgKiBAcHJvcGVydHkge09iamVjdFtdfSBzcmMgQSBsaXN0IG9mIFVSTHMgZnJvbSB3aGVyZSBmb250cyBvZiB2YXJpb3VzIGZvcm1hdHMgY2FuIGJlIGZldGNoZWQuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc3JjXSB1cmwgQSBVUkwgdG8gYSBmb250IG9mIGEgc3BlY2lmaWMgZm9ybWF0LlxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3NyY10gZm9ybWF0IEZvcm1hdCBvZiB0aGUgZm9udCByZWZlcmVuY2VkIGJ5IHRoZSBVUkwuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIFBERiBmcm9tIGFuIEhUTUwgZWxlbWVudCBvciBzdHJpbmcgdXNpbmcuXG4gICAqXG4gICAqIEBuYW1lIGh0bWxcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSBIVE1MRWxlbWVudCBvciBhIHN0cmluZyBjb250YWluaW5nIEhUTUwuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQ29sbGVjdGlvbiBvZiBzZXR0aW5nc1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5jYWxsYmFja10gVGhlIG1hbmRhdG9yeSBjYWxsYmFjay1mdW5jdGlvbiBnZXRzIGFzIGZpcnN0IHBhcmFtZXRlciB0aGUgY3VycmVudCBqc1BERiBpbnN0YW5jZVxuICAgKiBAcGFyYW0geyhudW1iZXJ8bnVtYmVyW10pPX0gW29wdGlvbnMubWFyZ2luXSBQYWdlIG1hcmdpbnMgW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF0uIERlZmF1bHQgaXMgMC5cbiAgICogQHBhcmFtIHsoYm9vbGVhbnwnc2xpY2UnfCd0ZXh0Jyk9fSBbb3B0aW9ucy5hdXRvUGFnaW5nXSBUaGUgYXV0byBwYWdpbmcgbW9kZS5cbiAgICogPHVsPlxuICAgKiA8bGk+XG4gICAqICAgPGNvZGU+ZmFsc2U8L2NvZGU+OiBBdXRvIHBhZ2luZyBpcyBkaXNhYmxlZC5cbiAgICogPC9saT5cbiAgICogPGxpPlxuICAgKiAgIDxjb2RlPnRydWU8L2NvZGU+IG9yIDxjb2RlPidzbGljZSc8L2NvZGU+OiBXaWxsIGN1dCBzaGFwZXMgb3IgdGV4dCBjaHVua3MgYWNyb3NzIHBhZ2UgYnJlYWtzLiBXaWxsIHBvc3NpYmx5XG4gICAqICAgc2xpY2UgdGV4dCBpbiBoYWxmLCBtYWtpbmcgaXQgZGlmZmljdWx0IHRvIHJlYWQuXG4gICAqIDwvbGk+XG4gICAqIDxsaT5cbiAgICogICA8Y29kZT4ndGV4dCc8L2NvZGU+OiBUcnlzIG5vdCB0byBjdXQgdGV4dCBpbiBoYWxmIGFjcm9zcyBwYWdlIGJyZWFrcy4gV29ya3MgYmVzdCBmb3IgZG9jdW1lbnRzIGNvbnNpc3RpbmdcbiAgICogICBtb3N0bHkgb2YgYSBzaW5nbGUgY29sdW1uIG9mIHRleHQuXG4gICAqIDwvbGk+XG4gICAqIDwvdWw+XG4gICAqIERlZmF1bHQgaXMgPGNvZGU+dHJ1ZTwvY29kZT4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5maWxlbmFtZV0gbmFtZSBvZiB0aGUgZmlsZVxuICAgKiBAcGFyYW0ge0hUTUxPcHRpb25JbWFnZX0gW29wdGlvbnMuaW1hZ2VdIGltYWdlIHNldHRpbmdzIHdoZW4gY29udmVydGluZyBIVE1MIHRvIGltYWdlXG4gICAqIEBwYXJhbSB7SHRtbDJDYW52YXNPcHRpb25zfSBbb3B0aW9ucy5odG1sMmNhbnZhc10gaHRtbDJjYW52YXMgb3B0aW9uc1xuICAgKiBAcGFyYW0ge0ZvbnRGYWNlW119IFtvcHRpb25zLmZvbnRGYWNlc10gQSBsaXN0IG9mIGZvbnQtZmFjZXMgdG8gbWF0Y2ggd2hlbiByZXNvbHZpbmcgZm9udHMuIEZvbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIFBERiBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIFVSTC4gSWYgb21pdHRlZCwgdGhlIGZvbnQgbWF0Y2ggYWxnb3JpdGhtIGZhbGxzIGJhY2sgdG8gb2xkIGFsZ29yaXRobS5cbiAgICogQHBhcmFtIHtqc1BERn0gW29wdGlvbnMuanNQREZdIGpzUERGIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gW29wdGlvbnMueF0geCBwb3NpdGlvbiBvbiB0aGUgUERGIGRvY3VtZW50IGluIGpzUERGIHVuaXRzLlxuICAgKiBAcGFyYW0ge251bWJlcj19IFtvcHRpb25zLnldIHkgcG9zaXRpb24gb24gdGhlIFBERiBkb2N1bWVudCBpbiBqc1BERiB1bml0cy5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBbb3B0aW9ucy53aWR0aF0gVGhlIHRhcmdldCB3aWR0aCBpbiB0aGUgUERGIGRvY3VtZW50IGluIGpzUERGIHVuaXRzLiBUaGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIGJlXG4gICAqIHNjYWxlZCBzdWNoIHRoYXQgaXQgZml0cyBpbnRvIHRoZSBzcGVjaWZpZWQgd2lkdGguIEhhcyBubyBlZmZlY3QgaWYgZWl0aGVyIHRoZSA8Y29kZT5odG1sMmNhbnZhcy5zY2FsZTxjb2RlPiBpc1xuICAgKiBzcGVjaWZpZWQgb3IgdGhlIDxjb2RlPndpbmRvd1dpZHRoPC9jb2RlPiBvcHRpb24gaXMgTk9UIHNwZWNpZmllZC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBbb3B0aW9ucy53aW5kb3dXaWR0aF0gVGhlIHdpbmRvdyB3aWR0aCBpbiBDU1MgcGl4ZWxzLiBJbiBjb250cmFzdCB0byB0aGVcbiAgICogPGNvZGU+aHRtbDJjYW52YXMud2luZG93V2lkdGg8L2NvZGU+IG9wdGlvbiwgdGhpcyBvcHRpb24gYWZmZWN0cyB0aGUgYWN0dWFsIGNvbnRhaW5lciBzaXplIHdoaWxlIHJlbmRlcmluZyBhbmRcbiAgICogZG9lcyBOT1QgYWZmZWN0IENTUyBtZWRpYSBxdWVyaWVzLiBUaGlzIG9wdGlvbiBvbmx5IGhhcyBhbiBlZmZlY3QsIGlmIHRoZSA8Y29kZT53aWR0aDxjb2RlPiBvcHRpb24gaXMgYWxzbyBzcGVjaWZpZWQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBkb2MgPSBuZXcganNQREYoKTtcbiAgICpcbiAgICogZG9jLmh0bWwoZG9jdW1lbnQuYm9keSwge1xuICAgKiAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRvYykge1xuICAgKiAgICAgIGRvYy5zYXZlKCk7XG4gICAqICAgIH0sXG4gICAqICAgIHg6IDEwLFxuICAgKiAgICB5OiAxMFxuICAgKiB9KTtcbiAgICovXG4gIGpzUERGQVBJLmh0bWwgPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuY2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gICAgb3B0aW9ucy5odG1sMmNhbnZhcyA9IG9wdGlvbnMuaHRtbDJjYW52YXMgfHwge307XG4gICAgb3B0aW9ucy5odG1sMmNhbnZhcy5jYW52YXMgPSBvcHRpb25zLmh0bWwyY2FudmFzLmNhbnZhcyB8fCB0aGlzLmNhbnZhcztcbiAgICBvcHRpb25zLmpzUERGID0gb3B0aW9ucy5qc1BERiB8fCB0aGlzO1xuICAgIG9wdGlvbnMuZm9udEZhY2VzID0gb3B0aW9ucy5mb250RmFjZXNcbiAgICAgID8gb3B0aW9ucy5mb250RmFjZXMubWFwKG5vcm1hbGl6ZUZvbnRGYWNlKVxuICAgICAgOiBudWxsO1xuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IHdvcmtlciB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKG9wdGlvbnMpO1xuXG4gICAgaWYgKCFvcHRpb25zLndvcmtlcikge1xuICAgICAgLy8gSWYgd29ya2VyIGlzIG5vdCBzZXQgdG8gdHJ1ZSwgcGVyZm9ybSB0aGUgdHJhZGl0aW9uYWwgJ3NpbXBsZScgb3BlcmF0aW9uLlxuICAgICAgcmV0dXJuIHdvcmtlci5mcm9tKHNyYykuZG9DYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UsIHJldHVybiB0aGUgd29ya2VyIGZvciBuZXcgUHJvbWlzZS1iYXNlZCBvcGVyYXRpb24uXG4gICAgICByZXR1cm4gd29ya2VyO1xuICAgIH1cbiAgfTtcbn0pKGpzUERGLkFQSSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgU3RldmVuIFNwdW5naW4gKFR3ZWx2ZVRvbmUgTExDKSAgc3RldmVuQHR3ZWx2ZXRvbmUudHZcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIGpzUERGIE91dGxpbmUgUGx1Z0luXG4gKlxuICogR2VuZXJhdGVzIGEgUERGIE91dGxpbmVcbiAqIEBuYW1lIG91dGxpbmVcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBuYW1lc09pZDtcbiAgLy92YXIgZGVzdHNHb3RvID0gW107XG5cbiAganNQREZBUEkuZXZlbnRzLnB1c2goW1xuICAgIFwicG9zdFB1dFJlc291cmNlc1wiLFxuICAgIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBkZiA9IHRoaXM7XG4gICAgICB2YXIgcnggPSAvXihcXGQrKSAwIG9iaiQvO1xuXG4gICAgICAvLyBXcml0ZSBhY3Rpb24gZ290byBvYmplY3RzIGZvciBlYWNoIHBhZ2VcbiAgICAgIC8vIHRoaXMub3V0bGluZS5kZXN0c0dvdG8gPSBbXTtcbiAgICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxQYWdlczsgaSsrKSB7XG4gICAgICAvLyB2YXIgaWQgPSBwZGYuaW50ZXJuYWwubmV3T2JqZWN0KCk7XG4gICAgICAvLyB0aGlzLm91dGxpbmUuZGVzdHNHb3RvLnB1c2goaWQpO1xuICAgICAgLy8gcGRmLmludGVybmFsLndyaXRlKFwiPDwvRFtcIiArIChpICogMiArIDMpICsgXCIgMCBSIC9YWVogbnVsbFxuICAgICAgLy8gbnVsbCBudWxsXS9TL0dvVG8+PiBlbmRvYmpcIik7XG4gICAgICAvLyB9XG4gICAgICAvL1xuICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBkZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gcGRmLmludGVybmFsLndyaXRlKFwiKHBhZ2VfXCIgKyAoaSArIDEpICsgXCIpXCIgKyBkZXN0c1tpXSArIFwiIDBcbiAgICAgIC8vIFJcIik7XG4gICAgICAvLyB9XG4gICAgICAvL1xuICAgICAgaWYgKHRoaXMub3V0bGluZS5yb290LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGxpbmVzID0gcGRmLm91dGxpbmUucmVuZGVyKCkuc3BsaXQoL1xcclxcbi8pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGxpbmUgPSBsaW5lc1tpXTtcbiAgICAgICAgICB2YXIgbSA9IHJ4LmV4ZWMobGluZSk7XG4gICAgICAgICAgaWYgKG0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG9pZCA9IG1bMV07XG4gICAgICAgICAgICBwZGYuaW50ZXJuYWwubmV3T2JqZWN0RGVmZXJyZWRCZWdpbihvaWQsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGRmLmludGVybmFsLndyaXRlKGxpbmUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoaXMgY29kZSB3aWxsIHdyaXRlIG5hbWVkIGRlc3RpbmF0aW9uIGZvciBlYWNoIHBhZ2UgcmVmZXJlbmNlXG4gICAgICAvLyAocGFnZV8xLCBldGMpXG4gICAgICBpZiAodGhpcy5vdXRsaW5lLmNyZWF0ZU5hbWVkRGVzdGluYXRpb25zKSB7XG4gICAgICAgIHZhciB0b3RhbFBhZ2VzID0gdGhpcy5pbnRlcm5hbC5wYWdlcy5sZW5ndGg7XG4gICAgICAgIC8vIFdBUk5JTkc6IHRoaXMgYXNzdW1lcyBqc1BERiBzdGFydHMgb24gcGFnZSAzIGFuZCBwYWdlSURzXG4gICAgICAgIC8vIGZvbGxvdyA1LCA3LCA5LCBldGNcbiAgICAgICAgLy8gV3JpdGUgZGVzdGluYXRpb24gb2JqZWN0cyBmb3IgZWFjaCBwYWdlXG4gICAgICAgIHZhciBkZXN0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsUGFnZXM7IGkrKykge1xuICAgICAgICAgIHZhciBpZCA9IHBkZi5pbnRlcm5hbC5uZXdPYmplY3QoKTtcbiAgICAgICAgICBkZXN0cy5wdXNoKGlkKTtcbiAgICAgICAgICB2YXIgaW5mbyA9IHBkZi5pbnRlcm5hbC5nZXRQYWdlSW5mbyhpICsgMSk7XG4gICAgICAgICAgcGRmLmludGVybmFsLndyaXRlKFxuICAgICAgICAgICAgXCI8PCAvRFtcIiArIGluZm8ub2JqSWQgKyBcIiAwIFIgL1hZWiBudWxsIG51bGwgbnVsbF0+PiBlbmRvYmpcIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhc3NpZ24gYSBuYW1lIGZvciBlYWNoIGRlc3RpbmF0aW9uXG4gICAgICAgIHZhciBuYW1lczJPaWQgPSBwZGYuaW50ZXJuYWwubmV3T2JqZWN0KCk7XG4gICAgICAgIHBkZi5pbnRlcm5hbC53cml0ZShcIjw8IC9OYW1lcyBbIFwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHBkZi5pbnRlcm5hbC53cml0ZShcIihwYWdlX1wiICsgKGkgKyAxKSArIFwiKVwiICsgZGVzdHNbaV0gKyBcIiAwIFJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcGRmLmludGVybmFsLndyaXRlKFwiIF0gPj5cIiwgXCJlbmRvYmpcIik7XG5cbiAgICAgICAgLy8gdmFyIGtpZHMgPSBwZGYuaW50ZXJuYWwubmV3T2JqZWN0KCk7XG4gICAgICAgIC8vIHBkZi5pbnRlcm5hbC53cml0ZSgnPDwgL0tpZHMgWyAnICsgbmFtZXMyT2lkICsgJyAwIFInKTtcbiAgICAgICAgLy8gcGRmLmludGVybmFsLndyaXRlKCcgXSA+PicsICdlbmRvYmonKTtcblxuICAgICAgICBuYW1lc09pZCA9IHBkZi5pbnRlcm5hbC5uZXdPYmplY3QoKTtcbiAgICAgICAgcGRmLmludGVybmFsLndyaXRlKFwiPDwgL0Rlc3RzIFwiICsgbmFtZXMyT2lkICsgXCIgMCBSXCIpO1xuICAgICAgICBwZGYuaW50ZXJuYWwud3JpdGUoXCI+PlwiLCBcImVuZG9ialwiKTtcbiAgICAgIH1cbiAgICB9XG4gIF0pO1xuXG4gIGpzUERGQVBJLmV2ZW50cy5wdXNoKFtcbiAgICBcInB1dENhdGFsb2dcIixcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwZGYgPSB0aGlzO1xuICAgICAgaWYgKHBkZi5vdXRsaW5lLnJvb3QuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICBwZGYuaW50ZXJuYWwud3JpdGUoXG4gICAgICAgICAgXCIvT3V0bGluZXNcIixcbiAgICAgICAgICB0aGlzLm91dGxpbmUubWFrZVJlZih0aGlzLm91dGxpbmUucm9vdClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMub3V0bGluZS5jcmVhdGVOYW1lZERlc3RpbmF0aW9ucykge1xuICAgICAgICAgIHBkZi5pbnRlcm5hbC53cml0ZShcIi9OYW1lcyBcIiArIG5hbWVzT2lkICsgXCIgMCBSXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9wZW4gd2l0aCBCb29rbWFya3Mgc2hvd2luZ1xuICAgICAgICAvLyBwZGYuaW50ZXJuYWwud3JpdGUoXCIvUGFnZU1vZGUgL1VzZU91dGxpbmVzXCIpO1xuICAgICAgfVxuICAgIH1cbiAgXSk7XG5cbiAganNQREZBUEkuZXZlbnRzLnB1c2goW1xuICAgIFwiaW5pdGlhbGl6ZWRcIixcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwZGYgPSB0aGlzO1xuXG4gICAgICBwZGYub3V0bGluZSA9IHtcbiAgICAgICAgY3JlYXRlTmFtZWREZXN0aW5hdGlvbnM6IGZhbHNlLFxuICAgICAgICByb290OiB7XG4gICAgICAgICAgY2hpbGRyZW46IFtdXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogT3B0aW9uczogcGFnZU51bWJlclxuICAgICAgICovXG4gICAgICBwZGYub3V0bGluZS5hZGQgPSBmdW5jdGlvbihwYXJlbnQsIHRpdGxlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgICB9O1xuICAgICAgICBpZiAocGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzLnJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2goaXRlbSk7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfTtcblxuICAgICAgcGRmLm91dGxpbmUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY3R4ID0ge307XG4gICAgICAgIHRoaXMuY3R4LnZhbCA9IFwiXCI7XG4gICAgICAgIHRoaXMuY3R4LnBkZiA9IHBkZjtcblxuICAgICAgICB0aGlzLmdlbklkc19yKHRoaXMucm9vdCk7XG4gICAgICAgIHRoaXMucmVuZGVyUm9vdCh0aGlzLnJvb3QpO1xuICAgICAgICB0aGlzLnJlbmRlckl0ZW1zKHRoaXMucm9vdCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3R4LnZhbDtcbiAgICAgIH07XG5cbiAgICAgIHBkZi5vdXRsaW5lLmdlbklkc19yID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICBub2RlLmlkID0gcGRmLmludGVybmFsLm5ld09iamVjdERlZmVycmVkKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuZ2VuSWRzX3Iobm9kZS5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBkZi5vdXRsaW5lLnJlbmRlclJvb3QgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHRoaXMub2JqU3RhcnQobm9kZSk7XG4gICAgICAgIHRoaXMubGluZShcIi9UeXBlIC9PdXRsaW5lc1wiKTtcbiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMubGluZShcIi9GaXJzdCBcIiArIHRoaXMubWFrZVJlZihub2RlLmNoaWxkcmVuWzBdKSk7XG4gICAgICAgICAgdGhpcy5saW5lKFxuICAgICAgICAgICAgXCIvTGFzdCBcIiArIHRoaXMubWFrZVJlZihub2RlLmNoaWxkcmVuW25vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbmUoXG4gICAgICAgICAgXCIvQ291bnQgXCIgK1xuICAgICAgICAgICAgdGhpcy5jb3VudF9yKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY291bnQ6IDBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbm9kZVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLm9iakVuZCgpO1xuICAgICAgfTtcblxuICAgICAgcGRmLm91dGxpbmUucmVuZGVySXRlbXMgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIHZhciBnZXRWZXJ0aWNhbENvb3JkaW5hdGVTdHJpbmcgPSB0aGlzLmN0eC5wZGYuaW50ZXJuYWxcbiAgICAgICAgICAuZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgdGhpcy5vYmpTdGFydChpdGVtKTtcblxuICAgICAgICAgIHRoaXMubGluZShcIi9UaXRsZSBcIiArIHRoaXMubWFrZVN0cmluZyhpdGVtLnRpdGxlKSk7XG5cbiAgICAgICAgICB0aGlzLmxpbmUoXCIvUGFyZW50IFwiICsgdGhpcy5tYWtlUmVmKG5vZGUpKTtcbiAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGluZShcIi9QcmV2IFwiICsgdGhpcy5tYWtlUmVmKG5vZGUuY2hpbGRyZW5baSAtIDFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUoXCIvTmV4dCBcIiArIHRoaXMubWFrZVJlZihub2RlLmNoaWxkcmVuW2kgKyAxXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUoXCIvRmlyc3QgXCIgKyB0aGlzLm1ha2VSZWYoaXRlbS5jaGlsZHJlblswXSkpO1xuICAgICAgICAgICAgdGhpcy5saW5lKFxuICAgICAgICAgICAgICBcIi9MYXN0IFwiICsgdGhpcy5tYWtlUmVmKGl0ZW0uY2hpbGRyZW5baXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGNvdW50ID0gKHRoaXMuY291bnQgPSB0aGlzLmNvdW50X3IoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXRlbVxuICAgICAgICAgICkpO1xuICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGluZShcIi9Db3VudCBcIiArIGNvdW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXRlbS5vcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5vcHRpb25zLnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgICAgLy8gRXhwbGljaXQgRGVzdGluYXRpb25cbiAgICAgICAgICAgICAgLy9XQVJOSU5HIHRoaXMgYXNzdW1lcyBwYWdlIGlkcyBhcmUgMyw1LDcsIGV0Yy5cbiAgICAgICAgICAgICAgdmFyIGluZm8gPSBwZGYuaW50ZXJuYWwuZ2V0UGFnZUluZm8oaXRlbS5vcHRpb25zLnBhZ2VOdW1iZXIpO1xuICAgICAgICAgICAgICB0aGlzLmxpbmUoXG4gICAgICAgICAgICAgICAgXCIvRGVzdCBcIiArXG4gICAgICAgICAgICAgICAgICBcIltcIiArXG4gICAgICAgICAgICAgICAgICBpbmZvLm9iaklkICtcbiAgICAgICAgICAgICAgICAgIFwiIDAgUiAvWFlaIDAgXCIgK1xuICAgICAgICAgICAgICAgICAgZ2V0VmVydGljYWxDb29yZGluYXRlU3RyaW5nKDApICtcbiAgICAgICAgICAgICAgICAgIFwiIDBdXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgLy8gdGhpcyBsaW5lIGRvZXMgbm90IHdvcmsgb24gYWxsIGNsaWVudHMgKHBhZ2VOdW1iZXIgaW5zdGVhZCBvZiBwYWdlIHJlZilcbiAgICAgICAgICAgICAgLy90aGlzLmxpbmUoJy9EZXN0ICcgKyAnWycgKyAoaXRlbS5vcHRpb25zLnBhZ2VOdW1iZXIgLSAxKSArICcgL1hZWiAwICcgKyB0aGlzLmN0eC5wZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCkgKyAnIDBdJyk7XG5cbiAgICAgICAgICAgICAgLy8gTmFtZWQgRGVzdGluYXRpb25cbiAgICAgICAgICAgICAgLy8gdGhpcy5saW5lKCcvRGVzdCAocGFnZV8nICsgKGl0ZW0ub3B0aW9ucy5wYWdlTnVtYmVyKSArICcpJyk7XG5cbiAgICAgICAgICAgICAgLy8gQWN0aW9uIERlc3RpbmF0aW9uXG4gICAgICAgICAgICAgIC8vIHZhciBpZCA9IHBkZi5pbnRlcm5hbC5uZXdPYmplY3QoKTtcbiAgICAgICAgICAgICAgLy8gcGRmLmludGVybmFsLndyaXRlKCc8PC9EWycgKyAoaXRlbS5vcHRpb25zLnBhZ2VOdW1iZXIgLSAxKSArICcgL1hZWiBudWxsIG51bGwgbnVsbF0vUy9Hb1RvPj4gZW5kb2JqJyk7XG4gICAgICAgICAgICAgIC8vIHRoaXMubGluZSgnL0EgJyArIGlkICsgJyAwIFInICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub2JqRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgeiA9IDA7IHogPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgeisrKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJJdGVtcyhub2RlLmNoaWxkcmVuW3pdKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcGRmLm91dGxpbmUubGluZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdGhpcy5jdHgudmFsICs9IHRleHQgKyBcIlxcclxcblwiO1xuICAgICAgfTtcblxuICAgICAgcGRmLm91dGxpbmUubWFrZVJlZiA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuaWQgKyBcIiAwIFJcIjtcbiAgICAgIH07XG5cbiAgICAgIHBkZi5vdXRsaW5lLm1ha2VTdHJpbmcgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgcmV0dXJuIFwiKFwiICsgcGRmLmludGVybmFsLnBkZkVzY2FwZSh2YWwpICsgXCIpXCI7XG4gICAgICB9O1xuXG4gICAgICBwZGYub3V0bGluZS5vYmpTdGFydCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgdGhpcy5jdHgudmFsICs9IFwiXFxyXFxuXCIgKyBub2RlLmlkICsgXCIgMCBvYmpcIiArIFwiXFxyXFxuPDxcXHJcXG5cIjtcbiAgICAgIH07XG5cbiAgICAgIHBkZi5vdXRsaW5lLm9iakVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmN0eC52YWwgKz0gXCI+PiBcXHJcXG5cIiArIFwiZW5kb2JqXCIgKyBcIlxcclxcblwiO1xuICAgICAgfTtcblxuICAgICAgcGRmLm91dGxpbmUuY291bnRfciA9IGZ1bmN0aW9uKGN0eCwgbm9kZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjdHguY291bnQrKztcbiAgICAgICAgICB0aGlzLmNvdW50X3IoY3R4LCBub2RlLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3R4LmNvdW50O1xuICAgICAgfTtcbiAgICB9XG4gIF0pO1xuXG4gIHJldHVybiB0aGlzO1xufSkoanNQREYuQVBJKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIGpzUERGIGpwZWcgU3VwcG9ydCBQbHVnSW5cbiAqXG4gKiBAbmFtZSBqcGVnX3N1cHBvcnRcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8qKlxuICAgKiAweGMwIChTT0YpIEh1ZmZtYW4gIC0gQmFzZWxpbmUgRENUXG4gICAqIDB4YzEgKFNPRikgSHVmZm1hbiAgLSBFeHRlbmRlZCBzZXF1ZW50aWFsIERDVFxuICAgKiAweGMyIFByb2dyZXNzaXZlIERDVCAoU09GMilcbiAgICogMHhjMyBTcGF0aWFsIChzZXF1ZW50aWFsKSBsb3NzbGVzcyAoU09GMylcbiAgICogMHhjNCBEaWZmZXJlbnRpYWwgc2VxdWVudGlhbCBEQ1QgKFNPRjUpXG4gICAqIDB4YzUgRGlmZmVyZW50aWFsIHByb2dyZXNzaXZlIERDVCAoU09GNilcbiAgICogMHhjNiBEaWZmZXJlbnRpYWwgc3BhdGlhbCAoU09GNylcbiAgICogMHhjN1xuICAgKi9cbiAgdmFyIG1hcmtlcnMgPSBbMHhjMCwgMHhjMSwgMHhjMiwgMHhjMywgMHhjNCwgMHhjNSwgMHhjNiwgMHhjN107XG5cbiAgLy90YWtlcyBhIHN0cmluZyBpbWdEYXRhIGNvbnRhaW5pbmcgdGhlIHJhdyBieXRlcyBvZlxuICAvL2EganBlZyBpbWFnZSBhbmQgcmV0dXJucyBbd2lkdGgsIGhlaWdodF1cbiAgLy9BbGdvcml0aG0gZnJvbTogaHR0cDovL3d3dy42NGxpbmVzLmNvbS9qcGVnLXdpZHRoLWhlaWdodFxuICB2YXIgZ2V0SnBlZ0luZm8gPSBmdW5jdGlvbihpbWdEYXRhKSB7XG4gICAgdmFyIHdpZHRoLCBoZWlnaHQsIG51bWNvbXBvbmVudHM7XG4gICAgdmFyIGJsb2NrTGVuZ3RoID0gaW1nRGF0YS5jaGFyQ29kZUF0KDQpICogMjU2ICsgaW1nRGF0YS5jaGFyQ29kZUF0KDUpO1xuICAgIHZhciBsZW4gPSBpbWdEYXRhLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwLCBudW1jb21wb25lbnRzOiAxIH07XG4gICAgZm9yICh2YXIgaSA9IDQ7IGkgPCBsZW47IGkgKz0gMikge1xuICAgICAgaSArPSBibG9ja0xlbmd0aDtcbiAgICAgIGlmIChtYXJrZXJzLmluZGV4T2YoaW1nRGF0YS5jaGFyQ29kZUF0KGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgIGhlaWdodCA9IGltZ0RhdGEuY2hhckNvZGVBdChpICsgNSkgKiAyNTYgKyBpbWdEYXRhLmNoYXJDb2RlQXQoaSArIDYpO1xuICAgICAgICB3aWR0aCA9IGltZ0RhdGEuY2hhckNvZGVBdChpICsgNykgKiAyNTYgKyBpbWdEYXRhLmNoYXJDb2RlQXQoaSArIDgpO1xuICAgICAgICBudW1jb21wb25lbnRzID0gaW1nRGF0YS5jaGFyQ29kZUF0KGkgKyA5KTtcbiAgICAgICAgcmVzdWx0ID0geyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBudW1jb21wb25lbnRzOiBudW1jb21wb25lbnRzIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmxvY2tMZW5ndGggPVxuICAgICAgICAgIGltZ0RhdGEuY2hhckNvZGVBdChpICsgMikgKiAyNTYgKyBpbWdEYXRhLmNoYXJDb2RlQXQoaSArIDMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBqc1BERkFQSS5wcm9jZXNzSlBFRyA9IGZ1bmN0aW9uKFxuICAgIGRhdGEsXG4gICAgaW5kZXgsXG4gICAgYWxpYXMsXG4gICAgY29tcHJlc3Npb24sXG4gICAgZGF0YUFzQmluYXJ5U3RyaW5nLFxuICAgIGNvbG9yU3BhY2VcbiAgKSB7XG4gICAgdmFyIGZpbHRlciA9IHRoaXMuZGVjb2RlLkRDVF9ERUNPREUsXG4gICAgICBicGMgPSA4LFxuICAgICAgZGltcyxcbiAgICAgIHJlc3VsdCA9IG51bGw7XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgdGhpcy5fX2FkZGltYWdlX18uaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdGhpcy5fX2FkZGltYWdlX18uaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSlcbiAgICApIHtcbiAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHN0b3JlZCBiaW5hcnkgc3RyaW5nIHJlcCB1c2UgdGhhdFxuICAgICAgZGF0YSA9IGRhdGFBc0JpbmFyeVN0cmluZyB8fCBkYXRhO1xuICAgICAgZGF0YSA9IHRoaXMuX19hZGRpbWFnZV9fLmlzQXJyYXlCdWZmZXIoZGF0YSlcbiAgICAgICAgPyBuZXcgVWludDhBcnJheShkYXRhKVxuICAgICAgICA6IGRhdGE7XG4gICAgICBkYXRhID0gdGhpcy5fX2FkZGltYWdlX18uaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSlcbiAgICAgICAgPyB0aGlzLl9fYWRkaW1hZ2VfXy5hcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKGRhdGEpXG4gICAgICAgIDogZGF0YTtcblxuICAgICAgZGltcyA9IGdldEpwZWdJbmZvKGRhdGEpO1xuICAgICAgc3dpdGNoIChkaW1zLm51bWNvbXBvbmVudHMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNvbG9yU3BhY2UgPSB0aGlzLmNvbG9yX3NwYWNlcy5ERVZJQ0VfR1JBWTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGNvbG9yU3BhY2UgPSB0aGlzLmNvbG9yX3NwYWNlcy5ERVZJQ0VfQ01ZSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGNvbG9yU3BhY2UgPSB0aGlzLmNvbG9yX3NwYWNlcy5ERVZJQ0VfUkdCO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIHdpZHRoOiBkaW1zLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGRpbXMuaGVpZ2h0LFxuICAgICAgICBjb2xvclNwYWNlOiBjb2xvclNwYWNlLFxuICAgICAgICBiaXRzUGVyQ29tcG9uZW50OiBicGMsXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGFsaWFzOiBhbGlhc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0pKGpzUERGLkFQSSk7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuNC4wXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIFBORy5qc1xuICogQ29weXJpZ2h0IChjKSAyMDExIERldm9uIEdvdmV0dFxuICogTUlUIExJQ0VOU0VcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXNcbiAqIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZVxuICogd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29uc1xuICogdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yXG4gKiBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkdcbiAqIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbiAqIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG5cbmltcG9ydCB7IHVuemxpYlN5bmMgfSBmcm9tIFwiLi9mZmxhdGUuanNcIjtcbmltcG9ydCB7IGdsb2JhbE9iamVjdCB9IGZyb20gXCIuL2dsb2JhbE9iamVjdC5qc1wiO1xuXG52YXIgUE5HID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgQVBOR19CTEVORF9PUF9PVkVSLFxuICAgIEFQTkdfQkxFTkRfT1BfU09VUkNFLFxuICAgIEFQTkdfRElTUE9TRV9PUF9CQUNLR1JPVU5ELFxuICAgIEFQTkdfRElTUE9TRV9PUF9OT05FLFxuICAgIEFQTkdfRElTUE9TRV9PUF9QUkVWSU9VUyxcbiAgICBtYWtlSW1hZ2UsXG4gICAgc2NyYXRjaENhbnZhcyxcbiAgICBzY3JhdGNoQ3R4O1xuXG4gIEFQTkdfRElTUE9TRV9PUF9OT05FID0gMDtcblxuICBBUE5HX0RJU1BPU0VfT1BfQkFDS0dST1VORCA9IDE7XG5cbiAgQVBOR19ESVNQT1NFX09QX1BSRVZJT1VTID0gMjtcblxuICBBUE5HX0JMRU5EX09QX1NPVVJDRSA9IDA7XG5cbiAgQVBOR19CTEVORF9PUF9PVkVSID0gMTtcblxuICBmdW5jdGlvbiBQTkcoZGF0YSkge1xuICAgIHZhciBjaHVua1NpemUsXG4gICAgICBjb2xvcnMsXG4gICAgICBwYWxMZW4sXG4gICAgICBkZWxheURlbixcbiAgICAgIGRlbGF5TnVtLFxuICAgICAgZnJhbWUsXG4gICAgICBpLFxuICAgICAgaW5kZXgsXG4gICAgICBrZXksXG4gICAgICBzZWN0aW9uLFxuICAgICAgcGFsU2hvcnQsXG4gICAgICB0ZXh0LFxuICAgICAgX2ksXG4gICAgICBfaixcbiAgICAgIF9yZWY7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLnBvcyA9IDg7XG4gICAgdGhpcy5wYWxldHRlID0gW107XG4gICAgdGhpcy5pbWdEYXRhID0gW107XG4gICAgdGhpcy50cmFuc3BhcmVuY3kgPSB7fTtcbiAgICB0aGlzLmFuaW1hdGlvbiA9IG51bGw7XG4gICAgdGhpcy50ZXh0ID0ge307XG4gICAgZnJhbWUgPSBudWxsO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjaHVua1NpemUgPSB0aGlzLnJlYWRVSW50MzIoKTtcbiAgICAgIHNlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9pLCBfcmVzdWx0cztcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDQ7IGkgPSArK19pKSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZGF0YVt0aGlzLnBvcysrXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH1cbiAgICAgICAgLmNhbGwodGhpcylcbiAgICAgICAgLmpvaW4oXCJcIik7XG4gICAgICBzd2l0Y2ggKHNlY3Rpb24pIHtcbiAgICAgICAgY2FzZSBcIklIRFJcIjpcbiAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5yZWFkVUludDMyKCk7XG4gICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnJlYWRVSW50MzIoKTtcbiAgICAgICAgICB0aGlzLmJpdHMgPSB0aGlzLmRhdGFbdGhpcy5wb3MrK107XG4gICAgICAgICAgdGhpcy5jb2xvclR5cGUgPSB0aGlzLmRhdGFbdGhpcy5wb3MrK107XG4gICAgICAgICAgdGhpcy5jb21wcmVzc2lvbk1ldGhvZCA9IHRoaXMuZGF0YVt0aGlzLnBvcysrXTtcbiAgICAgICAgICB0aGlzLmZpbHRlck1ldGhvZCA9IHRoaXMuZGF0YVt0aGlzLnBvcysrXTtcbiAgICAgICAgICB0aGlzLmludGVybGFjZU1ldGhvZCA9IHRoaXMuZGF0YVt0aGlzLnBvcysrXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFjVExcIjpcbiAgICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IHtcbiAgICAgICAgICAgIG51bUZyYW1lczogdGhpcy5yZWFkVUludDMyKCksXG4gICAgICAgICAgICBudW1QbGF5czogdGhpcy5yZWFkVUludDMyKCkgfHwgSW5maW5pdHksXG4gICAgICAgICAgICBmcmFtZXM6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlBMVEVcIjpcbiAgICAgICAgICB0aGlzLnBhbGV0dGUgPSB0aGlzLnJlYWQoY2h1bmtTaXplKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZjVExcIjpcbiAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgICAgICBmcmFtZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnJlYWRVSW50MzIoKSxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5yZWFkVUludDMyKCksXG4gICAgICAgICAgICB4T2Zmc2V0OiB0aGlzLnJlYWRVSW50MzIoKSxcbiAgICAgICAgICAgIHlPZmZzZXQ6IHRoaXMucmVhZFVJbnQzMigpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBkZWxheU51bSA9IHRoaXMucmVhZFVJbnQxNigpO1xuICAgICAgICAgIGRlbGF5RGVuID0gdGhpcy5yZWFkVUludDE2KCkgfHwgMTAwO1xuICAgICAgICAgIGZyYW1lLmRlbGF5ID0gKDEwMDAgKiBkZWxheU51bSkgLyBkZWxheURlbjtcbiAgICAgICAgICBmcmFtZS5kaXNwb3NlT3AgPSB0aGlzLmRhdGFbdGhpcy5wb3MrK107XG4gICAgICAgICAgZnJhbWUuYmxlbmRPcCA9IHRoaXMuZGF0YVt0aGlzLnBvcysrXTtcbiAgICAgICAgICBmcmFtZS5kYXRhID0gW107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJJREFUXCI6XG4gICAgICAgIGNhc2UgXCJmZEFUXCI6XG4gICAgICAgICAgaWYgKHNlY3Rpb24gPT09IFwiZmRBVFwiKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyArPSA0O1xuICAgICAgICAgICAgY2h1bmtTaXplIC09IDQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEgPSAoZnJhbWUgIT0gbnVsbCA/IGZyYW1lLmRhdGEgOiB2b2lkIDApIHx8IHRoaXMuaW1nRGF0YTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgaSA9IF9pID0gMDtcbiAgICAgICAgICAgIDAgPD0gY2h1bmtTaXplID8gX2kgPCBjaHVua1NpemUgOiBfaSA+IGNodW5rU2l6ZTtcbiAgICAgICAgICAgIGkgPSAwIDw9IGNodW5rU2l6ZSA/ICsrX2kgOiAtLV9pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkYXRhLnB1c2godGhpcy5kYXRhW3RoaXMucG9zKytdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0Uk5TXCI6XG4gICAgICAgICAgdGhpcy50cmFuc3BhcmVuY3kgPSB7fTtcbiAgICAgICAgICBzd2l0Y2ggKHRoaXMuY29sb3JUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIHBhbExlbiA9IHRoaXMucGFsZXR0ZS5sZW5ndGggLyAzO1xuICAgICAgICAgICAgICB0aGlzLnRyYW5zcGFyZW5jeS5pbmRleGVkID0gdGhpcy5yZWFkKGNodW5rU2l6ZSk7XG4gICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcGFyZW5jeS5pbmRleGVkLmxlbmd0aCA+IHBhbExlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNb3JlIHRyYW5zcGFyZW50IGNvbG9ycyB0aGFuIHBhbGV0dGUgc2l6ZVwiKTtcbiAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICogQWNjb3JkaW5nIHRvIHRoZSBQTkcgc3BlYyB0cm5zIHNob3VsZCBiZSBpbmNyZWFzZWQgdG8gdGhlIHNhbWUgc2l6ZSBhcyBwYWxldHRlIGlmIHNob3J0ZXJcbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIC8vcGFsU2hvcnQgPSAyNTUgLSB0aGlzLnRyYW5zcGFyZW5jeS5pbmRleGVkLmxlbmd0aDtcbiAgICAgICAgICAgICAgcGFsU2hvcnQgPSBwYWxMZW4gLSB0aGlzLnRyYW5zcGFyZW5jeS5pbmRleGVkLmxlbmd0aDtcbiAgICAgICAgICAgICAgaWYgKHBhbFNob3J0ID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBpID0gX2ogPSAwO1xuICAgICAgICAgICAgICAgICAgMCA8PSBwYWxTaG9ydCA/IF9qIDwgcGFsU2hvcnQgOiBfaiA+IHBhbFNob3J0O1xuICAgICAgICAgICAgICAgICAgaSA9IDAgPD0gcGFsU2hvcnQgPyArK19qIDogLS1falxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BhcmVuY3kuaW5kZXhlZC5wdXNoKDI1NSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICB0aGlzLnRyYW5zcGFyZW5jeS5ncmF5c2NhbGUgPSB0aGlzLnJlYWQoY2h1bmtTaXplKVswXTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbmN5LnJnYiA9IHRoaXMucmVhZChjaHVua1NpemUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRFWHRcIjpcbiAgICAgICAgICB0ZXh0ID0gdGhpcy5yZWFkKGNodW5rU2l6ZSk7XG4gICAgICAgICAgaW5kZXggPSB0ZXh0LmluZGV4T2YoMCk7XG4gICAgICAgICAga2V5ID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIHRleHQuc2xpY2UoMCwgaW5kZXgpKTtcbiAgICAgICAgICB0aGlzLnRleHRba2V5XSA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICAgICAgICBTdHJpbmcsXG4gICAgICAgICAgICB0ZXh0LnNsaWNlKGluZGV4ICsgMSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiSUVORFwiOlxuICAgICAgICAgIGlmIChmcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmNvbG9ycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNvbG9yVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmNhbGwodGhpcyk7XG4gICAgICAgICAgdGhpcy5oYXNBbHBoYUNoYW5uZWwgPSAoX3JlZiA9IHRoaXMuY29sb3JUeXBlKSA9PT0gNCB8fCBfcmVmID09PSA2O1xuICAgICAgICAgIGNvbG9ycyA9IHRoaXMuY29sb3JzICsgKHRoaXMuaGFzQWxwaGFDaGFubmVsID8gMSA6IDApO1xuICAgICAgICAgIHRoaXMucGl4ZWxCaXRsZW5ndGggPSB0aGlzLmJpdHMgKiBjb2xvcnM7XG4gICAgICAgICAgdGhpcy5jb2xvclNwYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuY29sb3JzKSB7XG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJEZXZpY2VHcmF5XCI7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJEZXZpY2VSR0JcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmNhbGwodGhpcyk7XG4gICAgICAgICAgdGhpcy5pbWdEYXRhID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5pbWdEYXRhKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5wb3MgKz0gY2h1bmtTaXplO1xuICAgICAgfVxuICAgICAgdGhpcy5wb3MgKz0gNDtcbiAgICAgIGlmICh0aGlzLnBvcyA+IHRoaXMuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb21wbGV0ZSBvciBjb3JydXB0IFBORyBmaWxlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIFBORy5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgdmFyIGksIF9pLCBfcmVzdWx0cztcbiAgICBfcmVzdWx0cyA9IFtdO1xuICAgIGZvciAoXG4gICAgICBpID0gX2kgPSAwO1xuICAgICAgMCA8PSBieXRlcyA/IF9pIDwgYnl0ZXMgOiBfaSA+IGJ5dGVzO1xuICAgICAgaSA9IDAgPD0gYnl0ZXMgPyArK19pIDogLS1faVxuICAgICkge1xuICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLmRhdGFbdGhpcy5wb3MrK10pO1xuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHM7XG4gIH07XG5cbiAgUE5HLnByb3RvdHlwZS5yZWFkVUludDMyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGIxLCBiMiwgYjMsIGI0O1xuICAgIGIxID0gdGhpcy5kYXRhW3RoaXMucG9zKytdIDw8IDI0O1xuICAgIGIyID0gdGhpcy5kYXRhW3RoaXMucG9zKytdIDw8IDE2O1xuICAgIGIzID0gdGhpcy5kYXRhW3RoaXMucG9zKytdIDw8IDg7XG4gICAgYjQgPSB0aGlzLmRhdGFbdGhpcy5wb3MrK107XG4gICAgcmV0dXJuIGIxIHwgYjIgfCBiMyB8IGI0O1xuICB9O1xuXG4gIFBORy5wcm90b3R5cGUucmVhZFVJbnQxNiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiMSwgYjI7XG4gICAgYjEgPSB0aGlzLmRhdGFbdGhpcy5wb3MrK10gPDwgODtcbiAgICBiMiA9IHRoaXMuZGF0YVt0aGlzLnBvcysrXTtcbiAgICByZXR1cm4gYjEgfCBiMjtcbiAgfTtcblxuICBQTkcucHJvdG90eXBlLmRlY29kZVBpeGVscyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgcGl4ZWxCeXRlcyA9IHRoaXMucGl4ZWxCaXRsZW5ndGggLyA4O1xuICAgIHZhciBmdWxsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0ICogcGl4ZWxCeXRlcyk7XG4gICAgdmFyIHBvcyA9IDA7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChkYXRhID09IG51bGwpIHtcbiAgICAgIGRhdGEgPSB0aGlzLmltZ0RhdGE7XG4gICAgfVxuICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuICAgIH1cblxuICAgIGRhdGEgPSB1bnpsaWJTeW5jKGRhdGEpO1xuICAgIGZ1bmN0aW9uIHBhc3MoeDAsIHkwLCBkeCwgZHkpIHtcbiAgICAgIHZhciBhYnl0ZSxcbiAgICAgICAgYyxcbiAgICAgICAgY29sLFxuICAgICAgICBpLFxuICAgICAgICBsZWZ0LFxuICAgICAgICBsZW5ndGgsXG4gICAgICAgIHAsXG4gICAgICAgIHBhLFxuICAgICAgICBwYWV0aCxcbiAgICAgICAgcGIsXG4gICAgICAgIHBjLFxuICAgICAgICBwaXhlbHMsXG4gICAgICAgIHJvdyxcbiAgICAgICAgc2NhbmxpbmVMZW5ndGgsXG4gICAgICAgIHVwcGVyLFxuICAgICAgICB1cHBlckxlZnQsXG4gICAgICAgIF9pLFxuICAgICAgICBfaixcbiAgICAgICAgX2ssXG4gICAgICAgIF9sLFxuICAgICAgICBfbTtcbiAgICAgIHZhciB3ID0gTWF0aC5jZWlsKChfdGhpcy53aWR0aCAtIHgwKSAvIGR4KSxcbiAgICAgICAgaCA9IE1hdGguY2VpbCgoX3RoaXMuaGVpZ2h0IC0geTApIC8gZHkpO1xuICAgICAgdmFyIGlzRnVsbCA9IF90aGlzLndpZHRoID09IHcgJiYgX3RoaXMuaGVpZ2h0ID09IGg7XG4gICAgICBzY2FubGluZUxlbmd0aCA9IHBpeGVsQnl0ZXMgKiB3O1xuICAgICAgcGl4ZWxzID0gaXNGdWxsID8gZnVsbFBpeGVscyA6IG5ldyBVaW50OEFycmF5KHNjYW5saW5lTGVuZ3RoICogaCk7XG4gICAgICBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICAgIHJvdyA9IDA7XG4gICAgICBjID0gMDtcbiAgICAgIHdoaWxlIChyb3cgPCBoICYmIHBvcyA8IGxlbmd0aCkge1xuICAgICAgICBzd2l0Y2ggKGRhdGFbcG9zKytdKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IHNjYW5saW5lTGVuZ3RoOyBpID0gX2kgKz0gMSkge1xuICAgICAgICAgICAgICBwaXhlbHNbYysrXSA9IGRhdGFbcG9zKytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgZm9yIChpID0gX2ogPSAwOyBfaiA8IHNjYW5saW5lTGVuZ3RoOyBpID0gX2ogKz0gMSkge1xuICAgICAgICAgICAgICBhYnl0ZSA9IGRhdGFbcG9zKytdO1xuICAgICAgICAgICAgICBsZWZ0ID0gaSA8IHBpeGVsQnl0ZXMgPyAwIDogcGl4ZWxzW2MgLSBwaXhlbEJ5dGVzXTtcbiAgICAgICAgICAgICAgcGl4ZWxzW2MrK10gPSAoYWJ5dGUgKyBsZWZ0KSAlIDI1NjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGZvciAoaSA9IF9rID0gMDsgX2sgPCBzY2FubGluZUxlbmd0aDsgaSA9IF9rICs9IDEpIHtcbiAgICAgICAgICAgICAgYWJ5dGUgPSBkYXRhW3BvcysrXTtcbiAgICAgICAgICAgICAgY29sID0gKGkgLSAoaSAlIHBpeGVsQnl0ZXMpKSAvIHBpeGVsQnl0ZXM7XG4gICAgICAgICAgICAgIHVwcGVyID1cbiAgICAgICAgICAgICAgICByb3cgJiZcbiAgICAgICAgICAgICAgICBwaXhlbHNbXG4gICAgICAgICAgICAgICAgICAocm93IC0gMSkgKiBzY2FubGluZUxlbmd0aCArXG4gICAgICAgICAgICAgICAgICAgIGNvbCAqIHBpeGVsQnl0ZXMgK1xuICAgICAgICAgICAgICAgICAgICAoaSAlIHBpeGVsQnl0ZXMpXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgcGl4ZWxzW2MrK10gPSAodXBwZXIgKyBhYnl0ZSkgJSAyNTY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBmb3IgKGkgPSBfbCA9IDA7IF9sIDwgc2NhbmxpbmVMZW5ndGg7IGkgPSBfbCArPSAxKSB7XG4gICAgICAgICAgICAgIGFieXRlID0gZGF0YVtwb3MrK107XG4gICAgICAgICAgICAgIGNvbCA9IChpIC0gKGkgJSBwaXhlbEJ5dGVzKSkgLyBwaXhlbEJ5dGVzO1xuICAgICAgICAgICAgICBsZWZ0ID0gaSA8IHBpeGVsQnl0ZXMgPyAwIDogcGl4ZWxzW2MgLSBwaXhlbEJ5dGVzXTtcbiAgICAgICAgICAgICAgdXBwZXIgPVxuICAgICAgICAgICAgICAgIHJvdyAmJlxuICAgICAgICAgICAgICAgIHBpeGVsc1tcbiAgICAgICAgICAgICAgICAgIChyb3cgLSAxKSAqIHNjYW5saW5lTGVuZ3RoICtcbiAgICAgICAgICAgICAgICAgICAgY29sICogcGl4ZWxCeXRlcyArXG4gICAgICAgICAgICAgICAgICAgIChpICUgcGl4ZWxCeXRlcylcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBwaXhlbHNbYysrXSA9IChhYnl0ZSArIE1hdGguZmxvb3IoKGxlZnQgKyB1cHBlcikgLyAyKSkgJSAyNTY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBmb3IgKGkgPSBfbSA9IDA7IF9tIDwgc2NhbmxpbmVMZW5ndGg7IGkgPSBfbSArPSAxKSB7XG4gICAgICAgICAgICAgIGFieXRlID0gZGF0YVtwb3MrK107XG4gICAgICAgICAgICAgIGNvbCA9IChpIC0gKGkgJSBwaXhlbEJ5dGVzKSkgLyBwaXhlbEJ5dGVzO1xuICAgICAgICAgICAgICBsZWZ0ID0gaSA8IHBpeGVsQnl0ZXMgPyAwIDogcGl4ZWxzW2MgLSBwaXhlbEJ5dGVzXTtcbiAgICAgICAgICAgICAgaWYgKHJvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVwcGVyID0gdXBwZXJMZWZ0ID0gMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cHBlciA9XG4gICAgICAgICAgICAgICAgICBwaXhlbHNbXG4gICAgICAgICAgICAgICAgICAgIChyb3cgLSAxKSAqIHNjYW5saW5lTGVuZ3RoICtcbiAgICAgICAgICAgICAgICAgICAgICBjb2wgKiBwaXhlbEJ5dGVzICtcbiAgICAgICAgICAgICAgICAgICAgICAoaSAlIHBpeGVsQnl0ZXMpXG4gICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHVwcGVyTGVmdCA9XG4gICAgICAgICAgICAgICAgICBjb2wgJiZcbiAgICAgICAgICAgICAgICAgIHBpeGVsc1tcbiAgICAgICAgICAgICAgICAgICAgKHJvdyAtIDEpICogc2NhbmxpbmVMZW5ndGggK1xuICAgICAgICAgICAgICAgICAgICAgIChjb2wgLSAxKSAqIHBpeGVsQnl0ZXMgK1xuICAgICAgICAgICAgICAgICAgICAgIChpICUgcGl4ZWxCeXRlcylcbiAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcCA9IGxlZnQgKyB1cHBlciAtIHVwcGVyTGVmdDtcbiAgICAgICAgICAgICAgcGEgPSBNYXRoLmFicyhwIC0gbGVmdCk7XG4gICAgICAgICAgICAgIHBiID0gTWF0aC5hYnMocCAtIHVwcGVyKTtcbiAgICAgICAgICAgICAgcGMgPSBNYXRoLmFicyhwIC0gdXBwZXJMZWZ0KTtcbiAgICAgICAgICAgICAgaWYgKHBhIDw9IHBiICYmIHBhIDw9IHBjKSB7XG4gICAgICAgICAgICAgICAgcGFldGggPSBsZWZ0O1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBiIDw9IHBjKSB7XG4gICAgICAgICAgICAgICAgcGFldGggPSB1cHBlcjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYWV0aCA9IHVwcGVyTGVmdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwaXhlbHNbYysrXSA9IChhYnl0ZSArIHBhZXRoKSAlIDI1NjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpbHRlciBhbGdvcml0aG06IFwiICsgZGF0YVtwb3MgLSAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0Z1bGwpIHtcbiAgICAgICAgICB2YXIgZnVsbFBvcyA9ICgoeTAgKyByb3cgKiBkeSkgKiBfdGhpcy53aWR0aCArIHgwKSAqIHBpeGVsQnl0ZXM7XG4gICAgICAgICAgdmFyIHBhcnRQb3MgPSByb3cgKiBzY2FubGluZUxlbmd0aDtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdzsgaSArPSAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBpeGVsQnl0ZXM7IGogKz0gMSlcbiAgICAgICAgICAgICAgZnVsbFBpeGVsc1tmdWxsUG9zKytdID0gcGl4ZWxzW3BhcnRQb3MrK107XG4gICAgICAgICAgICBmdWxsUG9zICs9IChkeCAtIDEpICogcGl4ZWxCeXRlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcm93Kys7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChfdGhpcy5pbnRlcmxhY2VNZXRob2QgPT0gMSkge1xuICAgICAgLypcbiAgICAgICAgICAxIDYgNCA2IDIgNiA0IDZcbiAgICAgICAgICA3IDcgNyA3IDcgNyA3IDdcbiAgICAgICAgICA1IDYgNSA2IDUgNiA1IDZcbiAgICAgICAgICA3IDcgNyA3IDcgNyA3IDdcbiAgICAgICAgICAzIDYgNCA2IDMgNiA0IDZcbiAgICAgICAgICA3IDcgNyA3IDcgNyA3IDdcbiAgICAgICAgICA1IDYgNSA2IDUgNiA1IDZcbiAgICAgICAgICA3IDcgNyA3IDcgNyA3IDdcbiAgICAgICAgKi9cbiAgICAgIHBhc3MoMCwgMCwgOCwgOCk7IC8vIDFcbiAgICAgIC8qIE5PVEUgdGhlc2Ugc2VlbSB0byBmb2xsb3cgdGhlIHBhdHRlcm46XG4gICAgICAgKiBwYXNzKHgsIDAsIDIqeCwgMip4KTtcbiAgICAgICAqIHBhc3MoMCwgeCwgICB4LCAyKngpO1xuICAgICAgICogd2l0aCB4IGJlaW5nIDQsIDIsIDEuXG4gICAgICAgKi9cbiAgICAgIHBhc3MoNCwgMCwgOCwgOCk7IC8vIDJcbiAgICAgIHBhc3MoMCwgNCwgNCwgOCk7IC8vIDNcblxuICAgICAgcGFzcygyLCAwLCA0LCA0KTsgLy8gNFxuICAgICAgcGFzcygwLCAyLCAyLCA0KTsgLy8gNVxuXG4gICAgICBwYXNzKDEsIDAsIDIsIDIpOyAvLyA2XG4gICAgICBwYXNzKDAsIDEsIDEsIDIpOyAvLyA3XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhc3MoMCwgMCwgMSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBmdWxsUGl4ZWxzO1xuICB9O1xuXG4gIFBORy5wcm90b3R5cGUuZGVjb2RlUGFsZXR0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjLCBpLCBsZW5ndGgsIHBhbGV0dGUsIHBvcywgcmV0LCB0cmFuc3BhcmVuY3ksIF9pLCBfcmVmLCBfcmVmMTtcbiAgICBwYWxldHRlID0gdGhpcy5wYWxldHRlO1xuICAgIHRyYW5zcGFyZW5jeSA9IHRoaXMudHJhbnNwYXJlbmN5LmluZGV4ZWQgfHwgW107XG4gICAgcmV0ID0gbmV3IFVpbnQ4QXJyYXkoKHRyYW5zcGFyZW5jeS5sZW5ndGggfHwgMCkgKyBwYWxldHRlLmxlbmd0aCk7XG4gICAgcG9zID0gMDtcbiAgICBsZW5ndGggPSBwYWxldHRlLmxlbmd0aDtcbiAgICBjID0gMDtcbiAgICBmb3IgKGkgPSBfaSA9IDAsIF9yZWYgPSBsZW5ndGg7IF9pIDwgX3JlZjsgaSA9IF9pICs9IDMpIHtcbiAgICAgIHJldFtwb3MrK10gPSBwYWxldHRlW2ldO1xuICAgICAgcmV0W3BvcysrXSA9IHBhbGV0dGVbaSArIDFdO1xuICAgICAgcmV0W3BvcysrXSA9IHBhbGV0dGVbaSArIDJdO1xuICAgICAgcmV0W3BvcysrXSA9IChfcmVmMSA9IHRyYW5zcGFyZW5jeVtjKytdKSAhPSBudWxsID8gX3JlZjEgOiAyNTU7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgUE5HLnByb3RvdHlwZS5jb3B5VG9JbWFnZURhdGEgPSBmdW5jdGlvbihpbWFnZURhdGEsIHBpeGVscykge1xuICAgIHZhciBhbHBoYSwgY29sb3JzLCBkYXRhLCBpLCBpbnB1dCwgaiwgaywgbGVuZ3RoLCBwYWxldHRlLCB2LCBfcmVmO1xuICAgIGNvbG9ycyA9IHRoaXMuY29sb3JzO1xuICAgIHBhbGV0dGUgPSBudWxsO1xuICAgIGFscGhhID0gdGhpcy5oYXNBbHBoYUNoYW5uZWw7XG4gICAgaWYgKHRoaXMucGFsZXR0ZS5sZW5ndGgpIHtcbiAgICAgIHBhbGV0dGUgPVxuICAgICAgICAoX3JlZiA9IHRoaXMuX2RlY29kZWRQYWxldHRlKSAhPSBudWxsXG4gICAgICAgICAgPyBfcmVmXG4gICAgICAgICAgOiAodGhpcy5fZGVjb2RlZFBhbGV0dGUgPSB0aGlzLmRlY29kZVBhbGV0dGUoKSk7XG4gICAgICBjb2xvcnMgPSA0O1xuICAgICAgYWxwaGEgPSB0cnVlO1xuICAgIH1cbiAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEgfHwgaW1hZ2VEYXRhO1xuICAgIGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgIGlucHV0ID0gcGFsZXR0ZSB8fCBwaXhlbHM7XG4gICAgaSA9IGogPSAwO1xuICAgIGlmIChjb2xvcnMgPT09IDEpIHtcbiAgICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgIGsgPSBwYWxldHRlID8gcGl4ZWxzW2kgLyA0XSAqIDQgOiBqO1xuICAgICAgICB2ID0gaW5wdXRbaysrXTtcbiAgICAgICAgZGF0YVtpKytdID0gdjtcbiAgICAgICAgZGF0YVtpKytdID0gdjtcbiAgICAgICAgZGF0YVtpKytdID0gdjtcbiAgICAgICAgZGF0YVtpKytdID0gYWxwaGEgPyBpbnB1dFtrKytdIDogMjU1O1xuICAgICAgICBqID0gaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgayA9IHBhbGV0dGUgPyBwaXhlbHNbaSAvIDRdICogNCA6IGo7XG4gICAgICAgIGRhdGFbaSsrXSA9IGlucHV0W2srK107XG4gICAgICAgIGRhdGFbaSsrXSA9IGlucHV0W2srK107XG4gICAgICAgIGRhdGFbaSsrXSA9IGlucHV0W2srK107XG4gICAgICAgIGRhdGFbaSsrXSA9IGFscGhhID8gaW5wdXRbaysrXSA6IDI1NTtcbiAgICAgICAgaiA9IGs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIFBORy5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJldDtcbiAgICByZXQgPSBuZXcgVWludDhBcnJheSh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQgKiA0KTtcbiAgICB0aGlzLmNvcHlUb0ltYWdlRGF0YShyZXQsIHRoaXMuZGVjb2RlUGl4ZWxzKCkpO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgdmFyIGhhc0Jyb3dzZXJDYW52YXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGdsb2JhbE9iamVjdCkgPT09IFwiW29iamVjdCBXaW5kb3ddXCIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNjcmF0Y2hDYW52YXMgPSBnbG9iYWxPYmplY3QuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgc2NyYXRjaEN0eCA9IHNjcmF0Y2hDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGhhc0Jyb3dzZXJDYW52YXMoKTtcblxuICBtYWtlSW1hZ2UgPSBmdW5jdGlvbihpbWFnZURhdGEpIHtcbiAgICBpZiAoaGFzQnJvd3NlckNhbnZhcygpID09PSB0cnVlKSB7XG4gICAgICB2YXIgaW1nO1xuICAgICAgc2NyYXRjaEN0eC53aWR0aCA9IGltYWdlRGF0YS53aWR0aDtcbiAgICAgIHNjcmF0Y2hDdHguaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcbiAgICAgIHNjcmF0Y2hDdHguY2xlYXJSZWN0KDAsIDAsIGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XG4gICAgICBzY3JhdGNoQ3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgICAgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcuc3JjID0gc2NyYXRjaENhbnZhcy50b0RhdGFVUkwoKTtcbiAgICAgIHJldHVybiBpbWc7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIHJlcXVpcmVzIGEgQnJvd3NlciB3aXRoIENhbnZhcy1jYXBhYmlsaXR5LlwiKTtcbiAgfTtcblxuICBQTkcucHJvdG90eXBlLmRlY29kZUZyYW1lcyA9IGZ1bmN0aW9uKGN0eCkge1xuICAgIHZhciBmcmFtZSwgaSwgaW1hZ2VEYXRhLCBwaXhlbHMsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0cztcbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9yZWYgPSB0aGlzLmFuaW1hdGlvbi5mcmFtZXM7XG4gICAgX3Jlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGkgPSBfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBpID0gKytfaSkge1xuICAgICAgZnJhbWUgPSBfcmVmW2ldO1xuICAgICAgaW1hZ2VEYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YShmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgIHBpeGVscyA9IHRoaXMuZGVjb2RlUGl4ZWxzKG5ldyBVaW50OEFycmF5KGZyYW1lLmRhdGEpKTtcbiAgICAgIHRoaXMuY29weVRvSW1hZ2VEYXRhKGltYWdlRGF0YSwgcGl4ZWxzKTtcbiAgICAgIGZyYW1lLmltYWdlRGF0YSA9IGltYWdlRGF0YTtcbiAgICAgIF9yZXN1bHRzLnB1c2goKGZyYW1lLmltYWdlID0gbWFrZUltYWdlKGltYWdlRGF0YSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZXN1bHRzO1xuICB9O1xuXG4gIFBORy5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbihjdHgsIG51bWJlcikge1xuICAgIHZhciBmcmFtZSwgZnJhbWVzLCBwcmV2O1xuICAgIGZyYW1lcyA9IHRoaXMuYW5pbWF0aW9uLmZyYW1lcztcbiAgICBmcmFtZSA9IGZyYW1lc1tudW1iZXJdO1xuICAgIHByZXYgPSBmcmFtZXNbbnVtYmVyIC0gMV07XG4gICAgaWYgKG51bWJlciA9PT0gMCkge1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIChwcmV2ICE9IG51bGwgPyBwcmV2LmRpc3Bvc2VPcCA6IHZvaWQgMCkgPT09IEFQTkdfRElTUE9TRV9PUF9CQUNLR1JPVU5EXG4gICAgKSB7XG4gICAgICBjdHguY2xlYXJSZWN0KHByZXYueE9mZnNldCwgcHJldi55T2Zmc2V0LCBwcmV2LndpZHRoLCBwcmV2LmhlaWdodCk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIChwcmV2ICE9IG51bGwgPyBwcmV2LmRpc3Bvc2VPcCA6IHZvaWQgMCkgPT09IEFQTkdfRElTUE9TRV9PUF9QUkVWSU9VU1xuICAgICkge1xuICAgICAgY3R4LnB1dEltYWdlRGF0YShwcmV2LmltYWdlRGF0YSwgcHJldi54T2Zmc2V0LCBwcmV2LnlPZmZzZXQpO1xuICAgIH1cbiAgICBpZiAoZnJhbWUuYmxlbmRPcCA9PT0gQVBOR19CTEVORF9PUF9TT1VSQ0UpIHtcbiAgICAgIGN0eC5jbGVhclJlY3QoZnJhbWUueE9mZnNldCwgZnJhbWUueU9mZnNldCwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgfVxuICAgIHJldHVybiBjdHguZHJhd0ltYWdlKGZyYW1lLmltYWdlLCBmcmFtZS54T2Zmc2V0LCBmcmFtZS55T2Zmc2V0KTtcbiAgfTtcblxuICBQTkcucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbihjdHgpIHtcbiAgICB2YXIgZG9GcmFtZSxcbiAgICAgIGZyYW1lTnVtYmVyLFxuICAgICAgZnJhbWVzLFxuICAgICAgbnVtRnJhbWVzLFxuICAgICAgbnVtUGxheXMsXG4gICAgICBfcmVmLFxuICAgICAgX3RoaXMgPSB0aGlzO1xuICAgIGZyYW1lTnVtYmVyID0gMDtcbiAgICAoX3JlZiA9IHRoaXMuYW5pbWF0aW9uKSxcbiAgICAgIChudW1GcmFtZXMgPSBfcmVmLm51bUZyYW1lcyksXG4gICAgICAoZnJhbWVzID0gX3JlZi5mcmFtZXMpLFxuICAgICAgKG51bVBsYXlzID0gX3JlZi5udW1QbGF5cyk7XG4gICAgcmV0dXJuIChkb0ZyYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZiwgZnJhbWU7XG4gICAgICBmID0gZnJhbWVOdW1iZXIrKyAlIG51bUZyYW1lcztcbiAgICAgIGZyYW1lID0gZnJhbWVzW2ZdO1xuICAgICAgX3RoaXMucmVuZGVyRnJhbWUoY3R4LCBmKTtcbiAgICAgIGlmIChudW1GcmFtZXMgPiAxICYmIGZyYW1lTnVtYmVyIC8gbnVtRnJhbWVzIDwgbnVtUGxheXMpIHtcbiAgICAgICAgcmV0dXJuIChfdGhpcy5hbmltYXRpb24uX3RpbWVvdXQgPSBzZXRUaW1lb3V0KGRvRnJhbWUsIGZyYW1lLmRlbGF5KSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfTtcblxuICBQTkcucHJvdG90eXBlLnN0b3BBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3JlZjtcbiAgICByZXR1cm4gY2xlYXJUaW1lb3V0KFxuICAgICAgKF9yZWYgPSB0aGlzLmFuaW1hdGlvbikgIT0gbnVsbCA/IF9yZWYuX3RpbWVvdXQgOiB2b2lkIDBcbiAgICApO1xuICB9O1xuXG4gIFBORy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgdmFyIGN0eCwgZGF0YTtcbiAgICBpZiAoY2FudmFzLl9wbmcpIHtcbiAgICAgIGNhbnZhcy5fcG5nLnN0b3BBbmltYXRpb24oKTtcbiAgICB9XG4gICAgY2FudmFzLl9wbmcgPSB0aGlzO1xuICAgIGNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLmRlY29kZUZyYW1lcyhjdHgpO1xuICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0ZShjdHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICB0aGlzLmNvcHlUb0ltYWdlRGF0YShkYXRhLCB0aGlzLmRlY29kZVBpeGVscygpKTtcbiAgICAgIHJldHVybiBjdHgucHV0SW1hZ2VEYXRhKGRhdGEsIDAsIDApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUE5HO1xufSkoKTtcblxuZXhwb3J0IHsgUE5HIH07XG4iLCIvKiogQGxpY2Vuc2VcbiAqIE1JVCBsaWNlbnNlLlxuICogQ29weXJpZ2h0IChjKSAyMDEyIFdpbGxvdyBTeXN0ZW1zIENvcnBvcmF0aW9uLCBodHRwczovL2dpdGh1Yi5jb20vd2lsbG93c3lzdGVtc1xuICogICAgICAgICAgICAgICAyMDE0IERpZWdvIENhc29ycmFuLCBodHRwczovL2dpdGh1Yi5jb20vZGllZ29jclxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4gKiBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gKiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFXG4gKiBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OXG4gKiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbiAqIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIGpzUERGIHNwbGl0X3RleHRfdG9fc2l6ZSBwbHVnaW5cbiAqXG4gKiBAbmFtZSBzcGxpdF90ZXh0X3RvX3NpemVcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKEFQSSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbGVuZ3RoIG1hdGNoaW5nIGxlbmd0aCBvZiB0aGUgJ3dvcmQnIHN0cmluZywgd2l0aCBlYWNoXG4gICAqIGNlbGwgb2NjdXBpZWQgYnkgdGhlIHdpZHRoIG9mIHRoZSBjaGFyIGluIHRoYXQgcG9zaXRpb24uXG4gICAqXG4gICAqIEBuYW1lIGdldENoYXJXaWR0aHNBcnJheVxuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgdmFyIGdldENoYXJXaWR0aHNBcnJheSA9IChBUEkuZ2V0Q2hhcldpZHRoc0FycmF5ID0gZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdmFyIGFjdGl2ZUZvbnQgPSBvcHRpb25zLmZvbnQgfHwgdGhpcy5pbnRlcm5hbC5nZXRGb250KCk7XG4gICAgdmFyIGZvbnRTaXplID0gb3B0aW9ucy5mb250U2l6ZSB8fCB0aGlzLmludGVybmFsLmdldEZvbnRTaXplKCk7XG4gICAgdmFyIGNoYXJTcGFjZSA9IG9wdGlvbnMuY2hhclNwYWNlIHx8IHRoaXMuaW50ZXJuYWwuZ2V0Q2hhclNwYWNlKCk7XG5cbiAgICB2YXIgd2lkdGhzID0gb3B0aW9ucy53aWR0aHNcbiAgICAgID8gb3B0aW9ucy53aWR0aHNcbiAgICAgIDogYWN0aXZlRm9udC5tZXRhZGF0YS5Vbmljb2RlLndpZHRocztcbiAgICB2YXIgd2lkdGhzRnJhY3Rpb25PZiA9IHdpZHRocy5mb2YgPyB3aWR0aHMuZm9mIDogMTtcbiAgICB2YXIga2VybmluZyA9IG9wdGlvbnMua2VybmluZ1xuICAgICAgPyBvcHRpb25zLmtlcm5pbmdcbiAgICAgIDogYWN0aXZlRm9udC5tZXRhZGF0YS5Vbmljb2RlLmtlcm5pbmc7XG4gICAgdmFyIGtlcm5pbmdGcmFjdGlvbk9mID0ga2VybmluZy5mb2YgPyBrZXJuaW5nLmZvZiA6IDE7XG4gICAgdmFyIGRvS2VybmluZyA9IG9wdGlvbnMuZG9LZXJuaW5nID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICB2YXIga2VybmluZ1ZhbHVlID0gMDtcblxuICAgIHZhciBpO1xuICAgIHZhciBsZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICB2YXIgY2hhcl9jb2RlO1xuICAgIHZhciBwcmlvcl9jaGFyX2NvZGUgPSAwOyAvL2ZvciBrZXJuaW5nXG4gICAgdmFyIGRlZmF1bHRfY2hhcl93aWR0aCA9IHdpZHRoc1swXSB8fCB3aWR0aHNGcmFjdGlvbk9mO1xuICAgIHZhciBvdXRwdXQgPSBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY2hhcl9jb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICBpZiAodHlwZW9mIGFjdGl2ZUZvbnQubWV0YWRhdGEud2lkdGhPZlN0cmluZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG91dHB1dC5wdXNoKFxuICAgICAgICAgIChhY3RpdmVGb250Lm1ldGFkYXRhLndpZHRoT2ZHbHlwaChcbiAgICAgICAgICAgIGFjdGl2ZUZvbnQubWV0YWRhdGEuY2hhcmFjdGVyVG9HbHlwaChjaGFyX2NvZGUpXG4gICAgICAgICAgKSArXG4gICAgICAgICAgICBjaGFyU3BhY2UgKiAoMTAwMCAvIGZvbnRTaXplKSB8fCAwKSAvIDEwMDBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBkb0tlcm5pbmcgJiZcbiAgICAgICAgICB0eXBlb2Yga2VybmluZ1tjaGFyX2NvZGVdID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgIWlzTmFOKHBhcnNlSW50KGtlcm5pbmdbY2hhcl9jb2RlXVtwcmlvcl9jaGFyX2NvZGVdLCAxMCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGtlcm5pbmdWYWx1ZSA9XG4gICAgICAgICAgICBrZXJuaW5nW2NoYXJfY29kZV1bcHJpb3JfY2hhcl9jb2RlXSAvIGtlcm5pbmdGcmFjdGlvbk9mO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGtlcm5pbmdWYWx1ZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgb3V0cHV0LnB1c2goXG4gICAgICAgICAgKHdpZHRoc1tjaGFyX2NvZGVdIHx8IGRlZmF1bHRfY2hhcl93aWR0aCkgLyB3aWR0aHNGcmFjdGlvbk9mICtcbiAgICAgICAgICAgIGtlcm5pbmdWYWx1ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcHJpb3JfY2hhcl9jb2RlID0gY2hhcl9jb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgd2lkdGhzIG9mIHN0cmluZyBpbiBhIGdpdmVuIGZvbnQsIGlmIHRoZSBmb250IHNpemUgaXMgc2V0IGFzIDEgcG9pbnQuXG4gICAqXG4gICAqIEluIG90aGVyIHdvcmRzLCB0aGlzIGlzIFwicHJvcG9ydGlvbmFsXCIgdmFsdWUuIEZvciAxIHVuaXQgb2YgZm9udCBzaXplLCB0aGUgbGVuZ3RoXG4gICAqIG9mIHRoZSBzdHJpbmcgd2lsbCBiZSB0aGF0IG11Y2guXG4gICAqXG4gICAqIE11bHRpcGx5IGJ5IGZvbnQgc2l6ZSB0byBnZXQgYWN0dWFsIHdpZHRoIGluICpwb2ludHMqXG4gICAqIFRoZW4gZGl2aWRlIGJ5IDcyIHRvIGdldCBpbmNoZXMgb3IgZGl2aWRlIGJ5ICg3Mi8yNS42KSB0byBnZXQgJ21tJyBldGMuXG4gICAqXG4gICAqIEBuYW1lIGdldFN0cmluZ1VuaXRXaWR0aFxuICAgKiBAcHVibGljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfSByZXN1bHRcbiAgICovXG4gIHZhciBnZXRTdHJpbmdVbml0V2lkdGggPSAoQVBJLmdldFN0cmluZ1VuaXRXaWR0aCA9IGZ1bmN0aW9uKHRleHQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHZhciBmb250U2l6ZSA9IG9wdGlvbnMuZm9udFNpemUgfHwgdGhpcy5pbnRlcm5hbC5nZXRGb250U2l6ZSgpO1xuICAgIHZhciBmb250ID0gb3B0aW9ucy5mb250IHx8IHRoaXMuaW50ZXJuYWwuZ2V0Rm9udCgpO1xuICAgIHZhciBjaGFyU3BhY2UgPSBvcHRpb25zLmNoYXJTcGFjZSB8fCB0aGlzLmludGVybmFsLmdldENoYXJTcGFjZSgpO1xuICAgIHZhciByZXN1bHQgPSAwO1xuXG4gICAgaWYgKEFQSS5wcm9jZXNzQXJhYmljKSB7XG4gICAgICB0ZXh0ID0gQVBJLnByb2Nlc3NBcmFiaWModGV4dCk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmb250Lm1ldGFkYXRhLndpZHRoT2ZTdHJpbmcgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmVzdWx0ID1cbiAgICAgICAgZm9udC5tZXRhZGF0YS53aWR0aE9mU3RyaW5nKHRleHQsIGZvbnRTaXplLCBjaGFyU3BhY2UpIC8gZm9udFNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGdldENoYXJXaWR0aHNBcnJheVxuICAgICAgICAuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKHB2LCBjdikge1xuICAgICAgICAgIHJldHVybiBwdiArIGN2O1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG5cbiAgLyoqXG4gIHJldHVybnMgYXJyYXkgb2YgbGluZXNcbiAgKi9cbiAgdmFyIHNwbGl0TG9uZ1dvcmQgPSBmdW5jdGlvbih3b3JkLCB3aWR0aHNfYXJyYXksIGZpcnN0TGluZU1heExlbiwgbWF4TGVuKSB7XG4gICAgdmFyIGFuc3dlciA9IFtdO1xuXG4gICAgLy8gMXN0LCBjaG9wIG9mZiB0aGUgcGllY2UgdGhhdCBjYW4gZml0IG9uIHRoZSBoYW5naW5nIGxpbmUuXG4gICAgdmFyIGkgPSAwLFxuICAgICAgbCA9IHdvcmQubGVuZ3RoLFxuICAgICAgd29ya2luZ0xlbiA9IDA7XG4gICAgd2hpbGUgKGkgIT09IGwgJiYgd29ya2luZ0xlbiArIHdpZHRoc19hcnJheVtpXSA8IGZpcnN0TGluZU1heExlbikge1xuICAgICAgd29ya2luZ0xlbiArPSB3aWR0aHNfYXJyYXlbaV07XG4gICAgICBpKys7XG4gICAgfVxuICAgIC8vIHRoaXMgaXMgZmlyc3QgbGluZS5cbiAgICBhbnN3ZXIucHVzaCh3b3JkLnNsaWNlKDAsIGkpKTtcblxuICAgIC8vIDJuZC4gU3BsaXQgdGhlIHJlc3QgaW50byBtYXhMZW4gcGllY2VzLlxuICAgIHZhciBzdGFydE9mTGluZSA9IGk7XG4gICAgd29ya2luZ0xlbiA9IDA7XG4gICAgd2hpbGUgKGkgIT09IGwpIHtcbiAgICAgIGlmICh3b3JraW5nTGVuICsgd2lkdGhzX2FycmF5W2ldID4gbWF4TGVuKSB7XG4gICAgICAgIGFuc3dlci5wdXNoKHdvcmQuc2xpY2Uoc3RhcnRPZkxpbmUsIGkpKTtcbiAgICAgICAgd29ya2luZ0xlbiA9IDA7XG4gICAgICAgIHN0YXJ0T2ZMaW5lID0gaTtcbiAgICAgIH1cbiAgICAgIHdvcmtpbmdMZW4gKz0gd2lkdGhzX2FycmF5W2ldO1xuICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoc3RhcnRPZkxpbmUgIT09IGkpIHtcbiAgICAgIGFuc3dlci5wdXNoKHdvcmQuc2xpY2Uoc3RhcnRPZkxpbmUsIGkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYW5zd2VyO1xuICB9O1xuXG4gIC8vIE5vdGUsIGFsbCBzaXppbmcgaW5wdXRzIGZvciB0aGlzIGZ1bmN0aW9uIG11c3QgYmUgaW4gXCJmb250IG1lYXN1cmVtZW50IHVuaXRzXCJcbiAgLy8gQnkgZGVmYXVsdCwgZm9yIFBERiwgaXQncyBcInBvaW50XCIuXG4gIHZhciBzcGxpdFBhcmFncmFwaEludG9MaW5lcyA9IGZ1bmN0aW9uKHRleHQsIG1heGxlbiwgb3B0aW9ucykge1xuICAgIC8vIGF0IHRoaXMgdGltZSB3b3JrcyBvbmx5IG9uIFdlc3Rlcm4gc2NyaXB0cywgb25lcyB3aXRoIHNwYWNlIGNoYXJcbiAgICAvLyBzZXBhcmF0aW5nIHRoZSB3b3Jkcy4gRmVlbCBmcmVlIHRvIGV4cGFuZC5cblxuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBsaW5lID0gW10sXG4gICAgICBsaW5lcyA9IFtsaW5lXSxcbiAgICAgIGxpbmVfbGVuZ3RoID0gb3B0aW9ucy50ZXh0SW5kZW50IHx8IDAsXG4gICAgICBzZXBhcmF0b3JfbGVuZ3RoID0gMCxcbiAgICAgIGN1cnJlbnRfd29yZF9sZW5ndGggPSAwLFxuICAgICAgd29yZCxcbiAgICAgIHdpZHRoc19hcnJheSxcbiAgICAgIHdvcmRzID0gdGV4dC5zcGxpdChcIiBcIiksXG4gICAgICBzcGFjZUNoYXJXaWR0aCA9IGdldENoYXJXaWR0aHNBcnJheS5hcHBseSh0aGlzLCBbXCIgXCIsIG9wdGlvbnNdKVswXSxcbiAgICAgIGksXG4gICAgICBsLFxuICAgICAgdG1wLFxuICAgICAgbGluZUluZGVudDtcblxuICAgIGlmIChvcHRpb25zLmxpbmVJbmRlbnQgPT09IC0xKSB7XG4gICAgICBsaW5lSW5kZW50ID0gd29yZHNbMF0ubGVuZ3RoICsgMjtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZUluZGVudCA9IG9wdGlvbnMubGluZUluZGVudCB8fCAwO1xuICAgIH1cbiAgICBpZiAobGluZUluZGVudCkge1xuICAgICAgdmFyIHBhZCA9IEFycmF5KGxpbmVJbmRlbnQpLmpvaW4oXCIgXCIpLFxuICAgICAgICB3cmRzID0gW107XG4gICAgICB3b3Jkcy5tYXAoZnVuY3Rpb24od3JkKSB7XG4gICAgICAgIHdyZCA9IHdyZC5zcGxpdCgvXFxzKlxcbi8pO1xuICAgICAgICBpZiAod3JkLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICB3cmRzID0gd3Jkcy5jb25jYXQoXG4gICAgICAgICAgICB3cmQubWFwKGZ1bmN0aW9uKHdyZCwgaWR4KSB7XG4gICAgICAgICAgICAgIHJldHVybiAoaWR4ICYmIHdyZC5sZW5ndGggPyBcIlxcblwiIDogXCJcIikgKyB3cmQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3Jkcy5wdXNoKHdyZFswXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgd29yZHMgPSB3cmRzO1xuICAgICAgbGluZUluZGVudCA9IGdldFN0cmluZ1VuaXRXaWR0aC5hcHBseSh0aGlzLCBbcGFkLCBvcHRpb25zXSk7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMCwgbCA9IHdvcmRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGZvcmNlID0gMDtcblxuICAgICAgd29yZCA9IHdvcmRzW2ldO1xuICAgICAgaWYgKGxpbmVJbmRlbnQgJiYgd29yZFswXSA9PSBcIlxcblwiKSB7XG4gICAgICAgIHdvcmQgPSB3b3JkLnN1YnN0cigxKTtcbiAgICAgICAgZm9yY2UgPSAxO1xuICAgICAgfVxuICAgICAgd2lkdGhzX2FycmF5ID0gZ2V0Q2hhcldpZHRoc0FycmF5LmFwcGx5KHRoaXMsIFt3b3JkLCBvcHRpb25zXSk7XG4gICAgICBjdXJyZW50X3dvcmRfbGVuZ3RoID0gd2lkdGhzX2FycmF5LnJlZHVjZShmdW5jdGlvbihwdiwgY3YpIHtcbiAgICAgICAgcmV0dXJuIHB2ICsgY3Y7XG4gICAgICB9LCAwKTtcblxuICAgICAgaWYgKFxuICAgICAgICBsaW5lX2xlbmd0aCArIHNlcGFyYXRvcl9sZW5ndGggKyBjdXJyZW50X3dvcmRfbGVuZ3RoID4gbWF4bGVuIHx8XG4gICAgICAgIGZvcmNlXG4gICAgICApIHtcbiAgICAgICAgaWYgKGN1cnJlbnRfd29yZF9sZW5ndGggPiBtYXhsZW4pIHtcbiAgICAgICAgICAvLyB0aGlzIGhhcHBlbnMgd2hlbiB5b3UgaGF2ZSBzcGFjZS1sZXNzIGxvbmcgVVJMcyBmb3IgZXhhbXBsZS5cbiAgICAgICAgICAvLyB3ZSBqdXN0IGNob3AgdGhlc2UgdG8gc2l6ZS4gV2UgZG8gTk9UIGluc2VydCBoaXBoZW5zXG4gICAgICAgICAgdG1wID0gc3BsaXRMb25nV29yZC5hcHBseSh0aGlzLCBbXG4gICAgICAgICAgICB3b3JkLFxuICAgICAgICAgICAgd2lkdGhzX2FycmF5LFxuICAgICAgICAgICAgbWF4bGVuIC0gKGxpbmVfbGVuZ3RoICsgc2VwYXJhdG9yX2xlbmd0aCksXG4gICAgICAgICAgICBtYXhsZW5cbiAgICAgICAgICBdKTtcbiAgICAgICAgICAvLyBmaXJzdCBsaW5lIHdlIGFkZCB0byBleGlzdGluZyBsaW5lIG9iamVjdFxuICAgICAgICAgIGxpbmUucHVzaCh0bXAuc2hpZnQoKSk7IC8vIGl0J3Mgb2sgdG8gaGF2ZSBleHRyYSBzcGFjZSBpbmRpY2F0b3IgdGhlcmVcbiAgICAgICAgICAvLyBsYXN0IGxpbmUgd2UgbWFrZSBpbnRvIG5ldyBsaW5lIG9iamVjdFxuICAgICAgICAgIGxpbmUgPSBbdG1wLnBvcCgpXTtcbiAgICAgICAgICAvLyBsaW5lcyBpbiB0aGUgbWlkZGxlIHdlIGFwcGVkIHRvIGxpbmVzIG9iamVjdCBhcyB3aG9sZSBsaW5lc1xuICAgICAgICAgIHdoaWxlICh0bXAubGVuZ3RoKSB7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKFt0bXAuc2hpZnQoKV0pOyAvLyBzaW5nbGUgZnJhZ21lbnQgb2NjdXBpZXMgd2hvbGUgbGluZVxuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50X3dvcmRfbGVuZ3RoID0gd2lkdGhzX2FycmF5XG4gICAgICAgICAgICAuc2xpY2Uod29yZC5sZW5ndGggLSAobGluZVswXSA/IGxpbmVbMF0ubGVuZ3RoIDogMCkpXG4gICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKHB2LCBjdikge1xuICAgICAgICAgICAgICByZXR1cm4gcHYgKyBjdjtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGp1c3QgcHV0IGl0IG9uIGEgbmV3IGxpbmVcbiAgICAgICAgICBsaW5lID0gW3dvcmRdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IHdlIGF0dGFjaCBuZXcgbGluZSB0byBsaW5lc1xuICAgICAgICBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICBsaW5lX2xlbmd0aCA9IGN1cnJlbnRfd29yZF9sZW5ndGggKyBsaW5lSW5kZW50O1xuICAgICAgICBzZXBhcmF0b3JfbGVuZ3RoID0gc3BhY2VDaGFyV2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lLnB1c2god29yZCk7XG5cbiAgICAgICAgbGluZV9sZW5ndGggKz0gc2VwYXJhdG9yX2xlbmd0aCArIGN1cnJlbnRfd29yZF9sZW5ndGg7XG4gICAgICAgIHNlcGFyYXRvcl9sZW5ndGggPSBzcGFjZUNoYXJXaWR0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcG9zdFByb2Nlc3M7XG4gICAgaWYgKGxpbmVJbmRlbnQpIHtcbiAgICAgIHBvc3RQcm9jZXNzID0gZnVuY3Rpb24obG4sIGlkeCkge1xuICAgICAgICByZXR1cm4gKGlkeCA/IHBhZCA6IFwiXCIpICsgbG4uam9pbihcIiBcIik7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3N0UHJvY2VzcyA9IGZ1bmN0aW9uKGxuKSB7XG4gICAgICAgIHJldHVybiBsbi5qb2luKFwiIFwiKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbmVzLm1hcChwb3N0UHJvY2Vzcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIGdpdmVuIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIHN0cmluZ3MuIFVzZXMgJ3NpemUnIHZhbHVlXG4gICAqIChpbiBtZWFzdXJlbWVudCB1bml0cyBkZWNsYXJlZCBhcyBkZWZhdWx0IGZvciB0aGUganNQREYgaW5zdGFuY2UpXG4gICAqIGFuZCB0aGUgZm9udCdzIFwid2lkdGhzXCIgYW5kIFwiS2VybmluZ1wiIHRhYmxlcywgd2hlcmUgYXZhaWxhYmxlLCB0b1xuICAgKiBkZXRlcm1pbmUgZGlzcGxheSBsZW5ndGggb2YgYSBnaXZlbiBzdHJpbmcgZm9yIGEgZ2l2ZW4gZm9udC5cbiAgICpcbiAgICogV2UgdXNlIGNoYXJhY3RlcidzIDEwMCUgb2YgdW5pdCBzaXplIChoZWlnaHQpIGFzIHdpZHRoIHdoZW4gV2lkdGhcbiAgICogdGFibGUgb3Igb3RoZXIgZGVmYXVsdCB3aWR0aCBpcyBub3QgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBAbmFtZSBzcGxpdFRleHRUb1NpemVcbiAgICogQHB1YmxpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVW5lbmNvZGVkLCByZWd1bGFyIEphdmFTY3JpcHQgKFVuaWNvZGUsIFVURi0xNiAvIFVDUy0yKSBzdHJpbmcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIE5vbWluYWwgbnVtYmVyLCBtZWFzdXJlZCBpbiB1bml0cyBkZWZhdWx0IHRvIHRoaXMgaW5zdGFuY2Ugb2YganNQREYuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbmFsIGZsYWdzIG5lZWRlZCBmb3IgY2hvcHBlciB0byBkbyB0aGUgcmlnaHQgdGhpbmcuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gYXJyYXkgQXJyYXkgd2l0aCBzdHJpbmdzIGNob3BwZWQgdG8gc2l6ZS5cbiAgICovXG4gIEFQSS5zcGxpdFRleHRUb1NpemUgPSBmdW5jdGlvbih0ZXh0LCBtYXhsZW4sIG9wdGlvbnMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdmFyIGZzaXplID0gb3B0aW9ucy5mb250U2l6ZSB8fCB0aGlzLmludGVybmFsLmdldEZvbnRTaXplKCksXG4gICAgICBuZXdPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgd2lkdGhzID0ge1xuICAgICAgICAgICAgMDogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2VybmluZyA9IHt9O1xuXG4gICAgICAgIGlmICghb3B0aW9ucy53aWR0aHMgfHwgIW9wdGlvbnMua2VybmluZykge1xuICAgICAgICAgIHZhciBmID0gdGhpcy5pbnRlcm5hbC5nZXRGb250KG9wdGlvbnMuZm9udE5hbWUsIG9wdGlvbnMuZm9udFN0eWxlKSxcbiAgICAgICAgICAgIGVuY29kaW5nID0gXCJVbmljb2RlXCI7XG4gICAgICAgICAgLy8gTk9UIFVURjgsIE5PVCBVVEYxNkJFL0xFLCBOT1QgVUNTMkJFL0xFXG4gICAgICAgICAgLy8gQWN0dWFsIEphdmFTY3JpcHQtbmF0aXZlIFN0cmluZydzIDE2Yml0IGNoYXIgY29kZXMgdXNlZC5cbiAgICAgICAgICAvLyBubyBtdWx0aS1ieXRlIGxvZ2ljIGhlcmVcblxuICAgICAgICAgIGlmIChmLm1ldGFkYXRhW2VuY29kaW5nXSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgd2lkdGhzOiBmLm1ldGFkYXRhW2VuY29kaW5nXS53aWR0aHMgfHwgd2lkdGhzLFxuICAgICAgICAgICAgICBrZXJuaW5nOiBmLm1ldGFkYXRhW2VuY29kaW5nXS5rZXJuaW5nIHx8IGtlcm5pbmdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGZvbnQ6IGYubWV0YWRhdGEsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiB0aGlzLmludGVybmFsLmdldEZvbnRTaXplKCksXG4gICAgICAgICAgICAgIGNoYXJTcGFjZTogdGhpcy5pbnRlcm5hbC5nZXRDaGFyU3BhY2UoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoczogb3B0aW9ucy53aWR0aHMsXG4gICAgICAgICAgICBrZXJuaW5nOiBvcHRpb25zLmtlcm5pbmdcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAvLyBmaXJzdCB3ZSBzcGxpdCBvbiBlbmQtb2YtbGluZSBjaGFyc1xuICAgIHZhciBwYXJhZ3JhcGhzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRleHQpKSB7XG4gICAgICBwYXJhZ3JhcGhzID0gdGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYWdyYXBocyA9IFN0cmluZyh0ZXh0KS5zcGxpdCgvXFxyP1xcbi8pO1xuICAgIH1cblxuICAgIC8vIG5vdyB3ZSBjb252ZXJ0IHNpemUgKG1heCBsZW5ndGggb2YgbGluZSkgaW50byBcImZvbnQgc2l6ZSB1bml0c1wiXG4gICAgLy8gYXQgcHJlc2VudCB0aW1lLCB0aGUgXCJmb250IHNpemUgdW5pdFwiIGlzIGFsd2F5cyAncG9pbnQnXG4gICAgLy8gJ3Byb3BvcnRpb25hbCcgbWVhbnMsIFwiaW4gcHJvcG9ydGlvbiB0byBmb250IHNpemVcIlxuICAgIHZhciBmb250VW5pdF9tYXhMZW4gPSAoMS4wICogdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvciAqIG1heGxlbikgLyBmc2l6ZTtcbiAgICAvLyBhdCB0aGlzIHRpbWUsIGZzaXplIGlzIGFsd2F5cyBpbiBcInBvaW50c1wiIHJlZ2FyZGxlc3Mgb2YgdGhlIGRlZmF1bHQgbWVhc3VyZW1lbnQgdW5pdCBvZiB0aGUgZG9jLlxuICAgIC8vIHRoaXMgbWF5IGNoYW5nZSBpbiB0aGUgZnV0dXJlP1xuICAgIC8vIHVudGlsIHRoZW4sIHByb3BvcnRpb25hbF9tYXhsZW4gaXMgbGlrZWx5IHRvIGJlIGluICdwb2ludHMnXG5cbiAgICAvLyBJZiBmaXJzdCBsaW5lIGlzIHRvIGJlIGluZGVudGVkIChzaG9ydGVyIG9yIGxvbmdlcikgdGhhbiBtYXhMZW5cbiAgICAvLyB3ZSBpbmRpY2F0ZSB0aGF0IGJ5IHVzaW5nIENTUy1zdHlsZSBcInRleHQtaW5kZW50XCIgb3B0aW9uLlxuICAgIC8vIGhlcmUgaXQncyBpbiBmb250IHVuaXRzIHRvbyAod2hpY2ggaXMgbGlrZWx5ICdwb2ludHMnKVxuICAgIC8vIGl0IGNhbiBiZSBuZWdhdGl2ZSAod2hpY2ggbWFrZXMgdGhlIGZpcnN0IGxpbmUgbG9uZ2VyIHRoYW4gbWF4TGVuKVxuICAgIG5ld09wdGlvbnMudGV4dEluZGVudCA9IG9wdGlvbnMudGV4dEluZGVudFxuICAgICAgPyAob3B0aW9ucy50ZXh0SW5kZW50ICogMS4wICogdGhpcy5pbnRlcm5hbC5zY2FsZUZhY3RvcikgLyBmc2l6ZVxuICAgICAgOiAwO1xuICAgIG5ld09wdGlvbnMubGluZUluZGVudCA9IG9wdGlvbnMubGluZUluZGVudDtcblxuICAgIHZhciBpLFxuICAgICAgbCxcbiAgICAgIG91dHB1dCA9IFtdO1xuICAgIGZvciAoaSA9IDAsIGwgPSBwYXJhZ3JhcGhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgb3V0cHV0ID0gb3V0cHV0LmNvbmNhdChcbiAgICAgICAgc3BsaXRQYXJhZ3JhcGhJbnRvTGluZXMuYXBwbHkodGhpcywgW1xuICAgICAgICAgIHBhcmFncmFwaHNbaV0sXG4gICAgICAgICAgZm9udFVuaXRfbWF4TGVuLFxuICAgICAgICAgIG5ld09wdGlvbnNcbiAgICAgICAgXSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcbn0pKGpzUERGLkFQSSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiAoYykgRGVhbiBNY05hbWVlIDxkZWFuQGdtYWlsLmNvbT4sIDIwMTMuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2RlYW5tL29tZ2dpZlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvXG4gKiBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZVxuICogcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4gKiBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gKiBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTXG4gKiBJTiBUSEUgU09GVFdBUkUuXG4gKlxuICogb21nZ2lmIGlzIGEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiBhIEdJRiA4OWEgZW5jb2RlciBhbmQgZGVjb2RlcixcbiAqIGluY2x1ZGluZyBhbmltYXRpb24gYW5kIGNvbXByZXNzaW9uLiAgSXQgZG9lcyBub3QgcmVseSBvbiBhbnkgc3BlY2lmaWNcbiAqIHVuZGVybHlpbmcgc3lzdGVtLCBzbyBzaG91bGQgcnVuIGluIHRoZSBicm93c2VyLCBOb2RlLCBvciBQbGFzay5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgY29uc29sZSB9IGZyb20gXCIuL2NvbnNvbGUuanNcIjtcblxuZnVuY3Rpb24gR2lmV3JpdGVyKGJ1Ziwgd2lkdGgsIGhlaWdodCwgZ29wdHMpIHtcbiAgdmFyIHAgPSAwO1xuXG4gIHZhciBnb3B0cyA9IGdvcHRzID09PSB1bmRlZmluZWQgPyB7fSA6IGdvcHRzO1xuICB2YXIgbG9vcF9jb3VudCA9IGdvcHRzLmxvb3AgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBnb3B0cy5sb29wO1xuICB2YXIgZ2xvYmFsX3BhbGV0dGUgPSBnb3B0cy5wYWxldHRlID09PSB1bmRlZmluZWQgPyBudWxsIDogZ29wdHMucGFsZXR0ZTtcblxuICBpZiAod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMCB8fCB3aWR0aCA+IDY1NTM1IHx8IGhlaWdodCA+IDY1NTM1KVxuICAgIHRocm93IG5ldyBFcnJvcihcIldpZHRoL0hlaWdodCBpbnZhbGlkLlwiKTtcblxuICBmdW5jdGlvbiBjaGVja19wYWxldHRlX2FuZF9udW1fY29sb3JzKHBhbGV0dGUpIHtcbiAgICB2YXIgbnVtX2NvbG9ycyA9IHBhbGV0dGUubGVuZ3RoO1xuICAgIGlmIChudW1fY29sb3JzIDwgMiB8fCBudW1fY29sb3JzID4gMjU2IHx8IG51bV9jb2xvcnMgJiAobnVtX2NvbG9ycyAtIDEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiSW52YWxpZCBjb2RlL2NvbG9yIGxlbmd0aCwgbXVzdCBiZSBwb3dlciBvZiAyIGFuZCAyIC4uIDI1Ni5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bV9jb2xvcnM7XG4gIH1cblxuICAvLyAtIEhlYWRlci5cbiAgYnVmW3ArK10gPSAweDQ3O1xuICBidWZbcCsrXSA9IDB4NDk7XG4gIGJ1ZltwKytdID0gMHg0NjsgLy8gR0lGXG4gIGJ1ZltwKytdID0gMHgzODtcbiAgYnVmW3ArK10gPSAweDM5O1xuICBidWZbcCsrXSA9IDB4NjE7IC8vIDg5YVxuXG4gIC8vIEhhbmRsaW5nIG9mIEdsb2JhbCBDb2xvciBUYWJsZSAocGFsZXR0ZSkgYW5kIGJhY2tncm91bmQgaW5kZXguXG4gIHZhciBncF9udW1fY29sb3JzX3BvdzIgPSAwO1xuICB2YXIgYmFja2dyb3VuZCA9IDA7XG4gIGlmIChnbG9iYWxfcGFsZXR0ZSAhPT0gbnVsbCkge1xuICAgIHZhciBncF9udW1fY29sb3JzID0gY2hlY2tfcGFsZXR0ZV9hbmRfbnVtX2NvbG9ycyhnbG9iYWxfcGFsZXR0ZSk7XG4gICAgd2hpbGUgKChncF9udW1fY29sb3JzID4+PSAxKSkgKytncF9udW1fY29sb3JzX3BvdzI7XG4gICAgZ3BfbnVtX2NvbG9ycyA9IDEgPDwgZ3BfbnVtX2NvbG9yc19wb3cyO1xuICAgIC0tZ3BfbnVtX2NvbG9yc19wb3cyO1xuICAgIGlmIChnb3B0cy5iYWNrZ3JvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGJhY2tncm91bmQgPSBnb3B0cy5iYWNrZ3JvdW5kO1xuICAgICAgaWYgKGJhY2tncm91bmQgPj0gZ3BfbnVtX2NvbG9ycylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmFja2dyb3VuZCBpbmRleCBvdXQgb2YgcmFuZ2UuXCIpO1xuICAgICAgLy8gVGhlIEdJRiBzcGVjIHN0YXRlcyB0aGF0IGEgYmFja2dyb3VuZCBpbmRleCBvZiAwIHNob3VsZCBiZSBpZ25vcmVkLCBzb1xuICAgICAgLy8gdGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgYW5kIHlvdSByZWFsbHkgd2FudCB0byBzZXQgaXQgdG8gYW5vdGhlclxuICAgICAgLy8gc2xvdCBpbiB0aGUgcGFsZXR0ZS4gIEJ1dCBhY3R1YWxseSBpbiB0aGUgZW5kIG1vc3QgYnJvd3NlcnMsIGV0YyBlbmRcbiAgICAgIC8vIHVwIGlnbm9yaW5nIHRoaXMgYWxtb3N0IGNvbXBsZXRlbHkgKGluY2x1ZGluZyBmb3IgZGlzcG9zZSBiYWNrZ3JvdW5kKS5cbiAgICAgIGlmIChiYWNrZ3JvdW5kID09PSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYWNrZ3JvdW5kIGluZGV4IGV4cGxpY2l0bHkgcGFzc2VkIGFzIDAuXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0gTG9naWNhbCBTY3JlZW4gRGVzY3JpcHRvci5cbiAgLy8gTk9URShkZWFubSk6IHcvaCBhcHBhcmVudGx5IGlnbm9yZWQgYnkgaW1wbGVtZW50YXRpb25zLCBidXQgc2V0IGFueXdheS5cbiAgYnVmW3ArK10gPSB3aWR0aCAmIDB4ZmY7XG4gIGJ1ZltwKytdID0gKHdpZHRoID4+IDgpICYgMHhmZjtcbiAgYnVmW3ArK10gPSBoZWlnaHQgJiAweGZmO1xuICBidWZbcCsrXSA9IChoZWlnaHQgPj4gOCkgJiAweGZmO1xuICAvLyBOT1RFOiBJbmRpY2F0ZXMgMC1icHAgb3JpZ2luYWwgY29sb3IgcmVzb2x1dGlvbiAodW51c2VkPykuXG4gIGJ1ZltwKytdID0gKGdsb2JhbF9wYWxldHRlICE9PSBudWxsID8gMHg4MCA6IDApIHwgZ3BfbnVtX2NvbG9yc19wb3cyOyAvLyBHbG9iYWwgQ29sb3IgVGFibGUgRmxhZy4gLy8gTk9URTogTm8gc29ydCBmbGFnICh1bnVzZWQ/KS5cbiAgYnVmW3ArK10gPSBiYWNrZ3JvdW5kOyAvLyBCYWNrZ3JvdW5kIENvbG9yIEluZGV4LlxuICBidWZbcCsrXSA9IDA7IC8vIFBpeGVsIGFzcGVjdCByYXRpbyAodW51c2VkPykuXG5cbiAgLy8gLSBHbG9iYWwgQ29sb3IgVGFibGVcbiAgaWYgKGdsb2JhbF9wYWxldHRlICE9PSBudWxsKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gZ2xvYmFsX3BhbGV0dGUubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgICAgdmFyIHJnYiA9IGdsb2JhbF9wYWxldHRlW2ldO1xuICAgICAgYnVmW3ArK10gPSAocmdiID4+IDE2KSAmIDB4ZmY7XG4gICAgICBidWZbcCsrXSA9IChyZ2IgPj4gOCkgJiAweGZmO1xuICAgICAgYnVmW3ArK10gPSByZ2IgJiAweGZmO1xuICAgIH1cbiAgfVxuXG4gIGlmIChsb29wX2NvdW50ICE9PSBudWxsKSB7XG4gICAgLy8gTmV0c2NhcGUgYmxvY2sgZm9yIGxvb3BpbmcuXG4gICAgaWYgKGxvb3BfY291bnQgPCAwIHx8IGxvb3BfY291bnQgPiA2NTUzNSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvb3AgY291bnQgaW52YWxpZC5cIik7XG4gICAgLy8gRXh0ZW5zaW9uIGNvZGUsIGxhYmVsLCBhbmQgbGVuZ3RoLlxuICAgIGJ1ZltwKytdID0gMHgyMTtcbiAgICBidWZbcCsrXSA9IDB4ZmY7XG4gICAgYnVmW3ArK10gPSAweDBiO1xuICAgIC8vIE5FVFNDQVBFMi4wXG4gICAgYnVmW3ArK10gPSAweDRlO1xuICAgIGJ1ZltwKytdID0gMHg0NTtcbiAgICBidWZbcCsrXSA9IDB4NTQ7XG4gICAgYnVmW3ArK10gPSAweDUzO1xuICAgIGJ1ZltwKytdID0gMHg0MztcbiAgICBidWZbcCsrXSA9IDB4NDE7XG4gICAgYnVmW3ArK10gPSAweDUwO1xuICAgIGJ1ZltwKytdID0gMHg0NTtcbiAgICBidWZbcCsrXSA9IDB4MzI7XG4gICAgYnVmW3ArK10gPSAweDJlO1xuICAgIGJ1ZltwKytdID0gMHgzMDtcbiAgICAvLyBTdWItYmxvY2tcbiAgICBidWZbcCsrXSA9IDB4MDM7XG4gICAgYnVmW3ArK10gPSAweDAxO1xuICAgIGJ1ZltwKytdID0gbG9vcF9jb3VudCAmIDB4ZmY7XG4gICAgYnVmW3ArK10gPSAobG9vcF9jb3VudCA+PiA4KSAmIDB4ZmY7XG4gICAgYnVmW3ArK10gPSAweDAwOyAvLyBUZXJtaW5hdG9yLlxuICB9XG5cbiAgdmFyIGVuZGVkID0gZmFsc2U7XG5cbiAgdGhpcy5hZGRGcmFtZSA9IGZ1bmN0aW9uKHgsIHksIHcsIGgsIGluZGV4ZWRfcGl4ZWxzLCBvcHRzKSB7XG4gICAgaWYgKGVuZGVkID09PSB0cnVlKSB7XG4gICAgICAtLXA7XG4gICAgICBlbmRlZCA9IGZhbHNlO1xuICAgIH0gLy8gVW4tZW5kLlxuXG4gICAgb3B0cyA9IG9wdHMgPT09IHVuZGVmaW5lZCA/IHt9IDogb3B0cztcblxuICAgIC8vIFRPRE8oZGVhbm0pOiBCb3VuZHMgY2hlY2sgeCwgeS4gIERvIHRoZXkgbmVlZCB0byBiZSB3aXRoaW4gdGhlIHZpcnR1YWxcbiAgICAvLyBjYW52YXMgd2lkdGgvaGVpZ2h0LCBJIGltYWdpbmU/XG4gICAgaWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPiA2NTUzNSB8fCB5ID4gNjU1MzUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ4L3kgaW52YWxpZC5cIik7XG5cbiAgICBpZiAodyA8PSAwIHx8IGggPD0gMCB8fCB3ID4gNjU1MzUgfHwgaCA+IDY1NTM1KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2lkdGgvSGVpZ2h0IGludmFsaWQuXCIpO1xuXG4gICAgaWYgKGluZGV4ZWRfcGl4ZWxzLmxlbmd0aCA8IHcgKiBoKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBwaXhlbHMgZm9yIHRoZSBmcmFtZSBzaXplLlwiKTtcblxuICAgIHZhciB1c2luZ19sb2NhbF9wYWxldHRlID0gdHJ1ZTtcbiAgICB2YXIgcGFsZXR0ZSA9IG9wdHMucGFsZXR0ZTtcbiAgICBpZiAocGFsZXR0ZSA9PT0gdW5kZWZpbmVkIHx8IHBhbGV0dGUgPT09IG51bGwpIHtcbiAgICAgIHVzaW5nX2xvY2FsX3BhbGV0dGUgPSBmYWxzZTtcbiAgICAgIHBhbGV0dGUgPSBnbG9iYWxfcGFsZXR0ZTtcbiAgICB9XG5cbiAgICBpZiAocGFsZXR0ZSA9PT0gdW5kZWZpbmVkIHx8IHBhbGV0dGUgPT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHN1cHBseSBlaXRoZXIgYSBsb2NhbCBvciBnbG9iYWwgcGFsZXR0ZS5cIik7XG5cbiAgICB2YXIgbnVtX2NvbG9ycyA9IGNoZWNrX3BhbGV0dGVfYW5kX251bV9jb2xvcnMocGFsZXR0ZSk7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBtaW5fY29kZV9zaXplIChwb3dlciBvZiAyKSwgZGVzdHJveWluZyBudW1fY29sb3JzLlxuICAgIHZhciBtaW5fY29kZV9zaXplID0gMDtcbiAgICB3aGlsZSAoKG51bV9jb2xvcnMgPj49IDEpKSArK21pbl9jb2RlX3NpemU7XG4gICAgbnVtX2NvbG9ycyA9IDEgPDwgbWluX2NvZGVfc2l6ZTsgLy8gTm93IHdlIGNhbiBlYXNpbHkgZ2V0IGl0IGJhY2suXG5cbiAgICB2YXIgZGVsYXkgPSBvcHRzLmRlbGF5ID09PSB1bmRlZmluZWQgPyAwIDogb3B0cy5kZWxheTtcblxuICAgIC8vIEZyb20gdGhlIHNwZWM6XG4gICAgLy8gICAgIDAgLSAgIE5vIGRpc3Bvc2FsIHNwZWNpZmllZC4gVGhlIGRlY29kZXIgaXNcbiAgICAvLyAgICAgICAgICAgbm90IHJlcXVpcmVkIHRvIHRha2UgYW55IGFjdGlvbi5cbiAgICAvLyAgICAgMSAtICAgRG8gbm90IGRpc3Bvc2UuIFRoZSBncmFwaGljIGlzIHRvIGJlIGxlZnRcbiAgICAvLyAgICAgICAgICAgaW4gcGxhY2UuXG4gICAgLy8gICAgIDIgLSAgIFJlc3RvcmUgdG8gYmFja2dyb3VuZCBjb2xvci4gVGhlIGFyZWEgdXNlZCBieSB0aGVcbiAgICAvLyAgICAgICAgICAgZ3JhcGhpYyBtdXN0IGJlIHJlc3RvcmVkIHRvIHRoZSBiYWNrZ3JvdW5kIGNvbG9yLlxuICAgIC8vICAgICAzIC0gICBSZXN0b3JlIHRvIHByZXZpb3VzLiBUaGUgZGVjb2RlciBpcyByZXF1aXJlZCB0b1xuICAgIC8vICAgICAgICAgICByZXN0b3JlIHRoZSBhcmVhIG92ZXJ3cml0dGVuIGJ5IHRoZSBncmFwaGljIHdpdGhcbiAgICAvLyAgICAgICAgICAgd2hhdCB3YXMgdGhlcmUgcHJpb3IgdG8gcmVuZGVyaW5nIHRoZSBncmFwaGljLlxuICAgIC8vICA0LTcgLSAgICBUbyBiZSBkZWZpbmVkLlxuICAgIC8vIE5PVEUoZGVhbm0pOiBEaXNwb3NlIGJhY2tncm91bmQgZG9lc24ndCByZWFsbHkgd29yaywgYXBwYXJlbnRseSBtb3N0XG4gICAgLy8gYnJvd3NlcnMgaWdub3JlIHRoZSBiYWNrZ3JvdW5kIHBhbGV0dGUgaW5kZXggYW5kIGNsZWFyIHRvIHRyYW5zcGFyZW5jeS5cbiAgICB2YXIgZGlzcG9zYWwgPSBvcHRzLmRpc3Bvc2FsID09PSB1bmRlZmluZWQgPyAwIDogb3B0cy5kaXNwb3NhbDtcbiAgICBpZiAoZGlzcG9zYWwgPCAwIHx8IGRpc3Bvc2FsID4gMylcbiAgICAgIC8vIDQtNyBpcyByZXNlcnZlZC5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpc3Bvc2FsIG91dCBvZiByYW5nZS5cIik7XG5cbiAgICB2YXIgdXNlX3RyYW5zcGFyZW5jeSA9IGZhbHNlO1xuICAgIHZhciB0cmFuc3BhcmVudF9pbmRleCA9IDA7XG4gICAgaWYgKG9wdHMudHJhbnNwYXJlbnQgIT09IHVuZGVmaW5lZCAmJiBvcHRzLnRyYW5zcGFyZW50ICE9PSBudWxsKSB7XG4gICAgICB1c2VfdHJhbnNwYXJlbmN5ID0gdHJ1ZTtcbiAgICAgIHRyYW5zcGFyZW50X2luZGV4ID0gb3B0cy50cmFuc3BhcmVudDtcbiAgICAgIGlmICh0cmFuc3BhcmVudF9pbmRleCA8IDAgfHwgdHJhbnNwYXJlbnRfaW5kZXggPj0gbnVtX2NvbG9ycylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNwYXJlbnQgY29sb3IgaW5kZXguXCIpO1xuICAgIH1cblxuICAgIGlmIChkaXNwb3NhbCAhPT0gMCB8fCB1c2VfdHJhbnNwYXJlbmN5IHx8IGRlbGF5ICE9PSAwKSB7XG4gICAgICAvLyAtIEdyYXBoaWNzIENvbnRyb2wgRXh0ZW5zaW9uXG4gICAgICBidWZbcCsrXSA9IDB4MjE7XG4gICAgICBidWZbcCsrXSA9IDB4Zjk7IC8vIEV4dGVuc2lvbiAvIExhYmVsLlxuICAgICAgYnVmW3ArK10gPSA0OyAvLyBCeXRlIHNpemUuXG5cbiAgICAgIGJ1ZltwKytdID0gKGRpc3Bvc2FsIDw8IDIpIHwgKHVzZV90cmFuc3BhcmVuY3kgPT09IHRydWUgPyAxIDogMCk7XG4gICAgICBidWZbcCsrXSA9IGRlbGF5ICYgMHhmZjtcbiAgICAgIGJ1ZltwKytdID0gKGRlbGF5ID4+IDgpICYgMHhmZjtcbiAgICAgIGJ1ZltwKytdID0gdHJhbnNwYXJlbnRfaW5kZXg7IC8vIFRyYW5zcGFyZW50IGNvbG9yIGluZGV4LlxuICAgICAgYnVmW3ArK10gPSAwOyAvLyBCbG9jayBUZXJtaW5hdG9yLlxuICAgIH1cblxuICAgIC8vIC0gSW1hZ2UgRGVzY3JpcHRvclxuICAgIGJ1ZltwKytdID0gMHgyYzsgLy8gSW1hZ2UgU2VwZXJhdG9yLlxuICAgIGJ1ZltwKytdID0geCAmIDB4ZmY7XG4gICAgYnVmW3ArK10gPSAoeCA+PiA4KSAmIDB4ZmY7IC8vIExlZnQuXG4gICAgYnVmW3ArK10gPSB5ICYgMHhmZjtcbiAgICBidWZbcCsrXSA9ICh5ID4+IDgpICYgMHhmZjsgLy8gVG9wLlxuICAgIGJ1ZltwKytdID0gdyAmIDB4ZmY7XG4gICAgYnVmW3ArK10gPSAodyA+PiA4KSAmIDB4ZmY7XG4gICAgYnVmW3ArK10gPSBoICYgMHhmZjtcbiAgICBidWZbcCsrXSA9IChoID4+IDgpICYgMHhmZjtcbiAgICAvLyBOT1RFOiBObyBzb3J0IGZsYWcgKHVudXNlZD8pLlxuICAgIC8vIFRPRE8oZGVhbm0pOiBTdXBwb3J0IGludGVybGFjZS5cbiAgICBidWZbcCsrXSA9IHVzaW5nX2xvY2FsX3BhbGV0dGUgPT09IHRydWUgPyAweDgwIHwgKG1pbl9jb2RlX3NpemUgLSAxKSA6IDA7XG5cbiAgICAvLyAtIExvY2FsIENvbG9yIFRhYmxlXG4gICAgaWYgKHVzaW5nX2xvY2FsX3BhbGV0dGUgPT09IHRydWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHBhbGV0dGUubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgICAgICB2YXIgcmdiID0gcGFsZXR0ZVtpXTtcbiAgICAgICAgYnVmW3ArK10gPSAocmdiID4+IDE2KSAmIDB4ZmY7XG4gICAgICAgIGJ1ZltwKytdID0gKHJnYiA+PiA4KSAmIDB4ZmY7XG4gICAgICAgIGJ1ZltwKytdID0gcmdiICYgMHhmZjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwID0gR2lmV3JpdGVyT3V0cHV0TFpXQ29kZVN0cmVhbShcbiAgICAgIGJ1ZixcbiAgICAgIHAsXG4gICAgICBtaW5fY29kZV9zaXplIDwgMiA/IDIgOiBtaW5fY29kZV9zaXplLFxuICAgICAgaW5kZXhlZF9waXhlbHNcbiAgICApO1xuXG4gICAgcmV0dXJuIHA7XG4gIH07XG5cbiAgdGhpcy5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoZW5kZWQgPT09IGZhbHNlKSB7XG4gICAgICBidWZbcCsrXSA9IDB4M2I7IC8vIFRyYWlsZXIuXG4gICAgICBlbmRlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBwO1xuICB9O1xuXG4gIHRoaXMuZ2V0T3V0cHV0QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfTtcbiAgdGhpcy5zZXRPdXRwdXRCdWZmZXIgPSBmdW5jdGlvbih2KSB7XG4gICAgYnVmID0gdjtcbiAgfTtcbiAgdGhpcy5nZXRPdXRwdXRCdWZmZXJQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwO1xuICB9O1xuICB0aGlzLnNldE91dHB1dEJ1ZmZlclBvc2l0aW9uID0gZnVuY3Rpb24odikge1xuICAgIHAgPSB2O1xuICB9O1xufVxuXG4vLyBNYWluIGNvbXByZXNzaW9uIHJvdXRpbmUsIHBhbGV0dGUgaW5kZXhlcyAtPiBMWlcgY29kZSBzdHJlYW0uXG4vLyB8aW5kZXhfc3RyZWFtfCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGVudHJ5LlxuZnVuY3Rpb24gR2lmV3JpdGVyT3V0cHV0TFpXQ29kZVN0cmVhbShidWYsIHAsIG1pbl9jb2RlX3NpemUsIGluZGV4X3N0cmVhbSkge1xuICBidWZbcCsrXSA9IG1pbl9jb2RlX3NpemU7XG4gIHZhciBjdXJfc3ViYmxvY2sgPSBwKys7IC8vIFBvaW50aW5nIGF0IHRoZSBsZW5ndGggZmllbGQuXG5cbiAgdmFyIGNsZWFyX2NvZGUgPSAxIDw8IG1pbl9jb2RlX3NpemU7XG4gIHZhciBjb2RlX21hc2sgPSBjbGVhcl9jb2RlIC0gMTtcbiAgdmFyIGVvaV9jb2RlID0gY2xlYXJfY29kZSArIDE7XG4gIHZhciBuZXh0X2NvZGUgPSBlb2lfY29kZSArIDE7XG5cbiAgdmFyIGN1cl9jb2RlX3NpemUgPSBtaW5fY29kZV9zaXplICsgMTsgLy8gTnVtYmVyIG9mIGJpdHMgcGVyIGNvZGUuXG4gIHZhciBjdXJfc2hpZnQgPSAwO1xuICAvLyBXZSBoYXZlIGF0IG1vc3QgMTItYml0IGNvZGVzLCBzbyB3ZSBzaG91bGQgaGF2ZSB0byBob2xkIGEgbWF4IG9mIDE5XG4gIC8vIGJpdHMgaGVyZSAoYW5kIHRoZW4gd2Ugd291bGQgd3JpdGUgb3V0KS5cbiAgdmFyIGN1ciA9IDA7XG5cbiAgZnVuY3Rpb24gZW1pdF9ieXRlc190b19idWZmZXIoYml0X2Jsb2NrX3NpemUpIHtcbiAgICB3aGlsZSAoY3VyX3NoaWZ0ID49IGJpdF9ibG9ja19zaXplKSB7XG4gICAgICBidWZbcCsrXSA9IGN1ciAmIDB4ZmY7XG4gICAgICBjdXIgPj49IDg7XG4gICAgICBjdXJfc2hpZnQgLT0gODtcbiAgICAgIGlmIChwID09PSBjdXJfc3ViYmxvY2sgKyAyNTYpIHtcbiAgICAgICAgLy8gRmluaXNoZWQgYSBzdWJibG9jay5cbiAgICAgICAgYnVmW2N1cl9zdWJibG9ja10gPSAyNTU7XG4gICAgICAgIGN1cl9zdWJibG9jayA9IHArKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbWl0X2NvZGUoYykge1xuICAgIGN1ciB8PSBjIDw8IGN1cl9zaGlmdDtcbiAgICBjdXJfc2hpZnQgKz0gY3VyX2NvZGVfc2l6ZTtcbiAgICBlbWl0X2J5dGVzX3RvX2J1ZmZlcig4KTtcbiAgfVxuXG4gIC8vIEkgYW0gbm90IGFuIGV4cGVydCBvbiB0aGUgdG9waWMsIGFuZCBJIGRvbid0IHdhbnQgdG8gd3JpdGUgYSB0aGVzaXMuXG4gIC8vIEhvd2V2ZXIsIGl0IGlzIGdvb2QgdG8gb3V0bGluZSBoZXJlIHRoZSBiYXNpYyBhbGdvcml0aG0gYW5kIHRoZSBmZXcgZGF0YVxuICAvLyBzdHJ1Y3R1cmVzIGFuZCBvcHRpbWl6YXRpb25zIGhlcmUgdGhhdCBtYWtlIHRoaXMgaW1wbGVtZW50YXRpb24gZmFzdC5cbiAgLy8gVGhlIGJhc2ljIGlkZWEgYmVoaW5kIExaVyBpcyB0byBidWlsZCBhIHRhYmxlIG9mIHByZXZpb3VzbHkgc2VlbiBydW5zXG4gIC8vIGFkZHJlc3NlZCBieSBhIHNob3J0IGlkIChoZXJlaW4gY2FsbGVkIG91dHB1dCBjb2RlKS4gIEFsbCBkYXRhIGlzXG4gIC8vIHJlZmVyZW5jZWQgYnkgYSBjb2RlLCB3aGljaCByZXByZXNlbnRzIG9uZSBvciBtb3JlIHZhbHVlcyBmcm9tIHRoZVxuICAvLyBvcmlnaW5hbCBpbnB1dCBzdHJlYW0uICBBbGwgaW5wdXQgYnl0ZXMgY2FuIGJlIHJlZmVyZW5jZWQgYXMgdGhlIHNhbWVcbiAgLy8gdmFsdWUgYXMgYW4gb3V0cHV0IGNvZGUuICBTbyBpZiB5b3UgZGlkbid0IHdhbnQgYW55IGNvbXByZXNzaW9uLCB5b3VcbiAgLy8gY291bGQgbW9yZSBvciBsZXNzIGp1c3Qgb3V0cHV0IHRoZSBvcmlnaW5hbCBieXRlcyBhcyBjb2RlcyAodGhlcmUgYXJlXG4gIC8vIHNvbWUgZGV0YWlscyB0byB0aGlzLCBidXQgaXQgaXMgdGhlIGlkZWEpLiAgSW4gb3JkZXIgdG8gYWNoaWV2ZVxuICAvLyBjb21wcmVzc2lvbiwgdmFsdWVzIGdyZWF0ZXIgdGhlbiB0aGUgaW5wdXQgcmFuZ2UgKGNvZGVzIGNhbiBiZSB1cCB0b1xuICAvLyAxMi1iaXQgd2hpbGUgaW5wdXQgb25seSA4LWJpdCkgcmVwcmVzZW50IGEgc2VxdWVuY2Ugb2YgcHJldmlvdXNseSBzZWVuXG4gIC8vIGlucHV0cy4gIFRoZSBkZWNvbXByZXNzb3IgaXMgYWJsZSB0byBidWlsZCB0aGUgc2FtZSBtYXBwaW5nIHdoaWxlXG4gIC8vIGRlY29kaW5nLCBzbyB0aGVyZSBpcyBhbHdheXMgYSBzaGFyZWQgY29tbW9uIGtub3dsZWRnZSBiZXR3ZWVuIHRoZVxuICAvLyBlbmNvZGluZyBhbmQgZGVjb2Rlciwgd2hpY2ggaXMgYWxzbyBpbXBvcnRhbnQgZm9yIFwidGltaW5nXCIgYXNwZWN0cyBsaWtlXG4gIC8vIGhvdyB0byBoYW5kbGUgdmFyaWFibGUgYml0IHdpZHRoIGNvZGUgZW5jb2RpbmcuXG4gIC8vXG4gIC8vIE9uZSBvYnZpb3VzIGJ1dCB2ZXJ5IGltcG9ydGFudCBjb25zZXF1ZW5jZSBvZiB0aGUgdGFibGUgc3lzdGVtIGlzIHRoZXJlXG4gIC8vIGlzIGFsd2F5cyBhIHVuaXF1ZSBpZCAoYXQgbW9zdCAxMi1iaXRzKSB0byBtYXAgdGhlIHJ1bnMuICAnQScgbWlnaHQgYmVcbiAgLy8gNCwgdGhlbiAnQUEnIG1pZ2h0IGJlIDEwLCAnQUFBJyAxMSwgJ0FBQUEnIDEyLCBldGMuICBUaGlzIHJlbGF0aW9uc2hpcFxuICAvLyBjYW4gYmUgdXNlZCBmb3IgYW4gZWZmZWNpZW50IGxvb2t1cCBzdHJhdGVneSBmb3IgdGhlIGNvZGUgbWFwcGluZy4gIFdlXG4gIC8vIG5lZWQgdG8ga25vdyBpZiBhIHJ1biBoYXMgYmVlbiBzZWVuIGJlZm9yZSwgYW5kIGJlIGFibGUgdG8gbWFwIHRoYXQgcnVuXG4gIC8vIHRvIHRoZSBvdXRwdXQgY29kZS4gIFNpbmNlIHdlIHN0YXJ0IHdpdGgga25vd24gdW5pcXVlIGlkcyAoaW5wdXQgYnl0ZXMpLFxuICAvLyBhbmQgdGhlbiBmcm9tIHRob3NlIGJ1aWxkIG1vcmUgdW5pcXVlIGlkcyAodGFibGUgZW50cmllcyksIHdlIGNhblxuICAvLyBjb250aW51ZSB0aGlzIGNoYWluIChhbG1vc3QgbGlrZSBhIGxpbmtlZCBsaXN0KSB0byBhbHdheXMgaGF2ZSBzbWFsbFxuICAvLyBpbnRlZ2VyIHZhbHVlcyB0aGF0IHJlcHJlc2VudCB0aGUgY3VycmVudCBieXRlIGNoYWlucyBpbiB0aGUgZW5jb2Rlci5cbiAgLy8gVGhpcyBtZWFucyBpbnN0ZWFkIG9mIHRyYWNraW5nIHRoZSBpbnB1dCBieXRlcyAoQUFBQUJDRCkgdG8ga25vdyBvdXJcbiAgLy8gY3VycmVudCBzdGF0ZSwgd2UgY2FuIHRyYWNrIHRoZSB0YWJsZSBlbnRyeSBmb3IgQUFBQUJDIChpdCBpcyBndWFyYW50ZWVkXG4gIC8vIHRvIGV4aXN0IGJ5IHRoZSBuYXR1cmUgb2YgdGhlIGFsZ29yaXRobSkgYW5kIHRoZSBuZXh0IGNoYXJhY3RlciBELlxuICAvLyBUaGVyZWZvciB0aGUgdHVwbGUgb2YgKHRhYmxlX2VudHJ5LCBieXRlKSBpcyBndWFyYW50ZWVkIHRvIGFsc28gYmVcbiAgLy8gdW5pcXVlLiAgVGhpcyBhbGxvd3MgdXMgdG8gY3JlYXRlIGEgc2ltcGxlIGxvb2t1cCBrZXkgZm9yIG1hcHBpbmcgaW5wdXRcbiAgLy8gc2VxdWVuY2VzIHRvIGNvZGVzICh0YWJsZSBpbmRpY2VzKSB3aXRob3V0IGhhdmluZyB0byBzdG9yZSBvciBzZWFyY2hcbiAgLy8gYW55IG9mIHRoZSBjb2RlIHNlcXVlbmNlcy4gIFNvIGlmICdBQUFBJyBoYXMgYSB0YWJsZSBlbnRyeSBvZiAxMiwgdGhlXG4gIC8vIHR1cGxlIG9mICgnQUFBQScsIEspIGZvciBhbnkgaW5wdXQgYnl0ZSBLIHdpbGwgYmUgdW5pcXVlLCBhbmQgY2FuIGJlIG91clxuICAvLyBrZXkuICBUaGlzIGxlYWRzIHRvIGEgaW50ZWdlciB2YWx1ZSBhdCBtb3N0IDIwLWJpdHMsIHdoaWNoIGNhbiBhbHdheXNcbiAgLy8gZml0IGluIGFuIFNNSSB2YWx1ZSBhbmQgYmUgdXNlZCBhcyBhIGZhc3Qgc3BhcnNlIGFycmF5IC8gb2JqZWN0IGtleS5cblxuICAvLyBPdXRwdXQgY29kZSBmb3IgdGhlIGN1cnJlbnQgY29udGVudHMgb2YgdGhlIGluZGV4IGJ1ZmZlci5cbiAgdmFyIGliX2NvZGUgPSBpbmRleF9zdHJlYW1bMF0gJiBjb2RlX21hc2s7IC8vIExvYWQgZmlyc3QgaW5wdXQgaW5kZXguXG4gIHZhciBjb2RlX3RhYmxlID0ge307IC8vIEtleSdkIG9uIG91ciAyMC1iaXQgXCJ0dXBsZVwiLlxuXG4gIGVtaXRfY29kZShjbGVhcl9jb2RlKTsgLy8gU3BlYyBzYXlzIGZpcnN0IGNvZGUgc2hvdWxkIGJlIGEgY2xlYXIgY29kZS5cblxuICAvLyBGaXJzdCBpbmRleCBhbHJlYWR5IGxvYWRlZCwgcHJvY2VzcyB0aGUgcmVzdCBvZiB0aGUgc3RyZWFtLlxuICBmb3IgKHZhciBpID0gMSwgaWwgPSBpbmRleF9zdHJlYW0ubGVuZ3RoOyBpIDwgaWw7ICsraSkge1xuICAgIHZhciBrID0gaW5kZXhfc3RyZWFtW2ldICYgY29kZV9tYXNrO1xuICAgIHZhciBjdXJfa2V5ID0gKGliX2NvZGUgPDwgOCkgfCBrOyAvLyAocHJldiwgaykgdW5pcXVlIHR1cGxlLlxuICAgIHZhciBjdXJfY29kZSA9IGNvZGVfdGFibGVbY3VyX2tleV07IC8vIGJ1ZmZlciArIGsuXG5cbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHRvIGNyZWF0ZSBhIG5ldyBjb2RlIHRhYmxlIGVudHJ5LlxuICAgIGlmIChjdXJfY29kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBXZSBkb24ndCBoYXZlIGJ1ZmZlciArIGsuXG4gICAgICAvLyBFbWl0IGluZGV4IGJ1ZmZlciAod2l0aG91dCBrKS5cbiAgICAgIC8vIFRoaXMgaXMgYW4gaW5saW5lIHZlcnNpb24gb2YgZW1pdF9jb2RlLCBiZWNhdXNlIHRoaXMgaXMgdGhlIGNvcmVcbiAgICAgIC8vIHdyaXRpbmcgcm91dGluZSBvZiB0aGUgY29tcHJlc3NvciAoYW5kIFY4IGNhbm5vdCBpbmxpbmUgZW1pdF9jb2RlXG4gICAgICAvLyBiZWNhdXNlIGl0IGlzIGEgY2xvc3VyZSBoZXJlIGluIGEgZGlmZmVyZW50IGNvbnRleHQpLiAgQWRkaXRpb25hbGx5XG4gICAgICAvLyB3ZSBjYW4gY2FsbCBlbWl0X2J5dGVfdG9fYnVmZmVyIGxlc3Mgb2Z0ZW4sIGJlY2F1c2Ugd2UgY2FuIGhhdmVcbiAgICAgIC8vIDMwLWJpdHMgKGZyb20gb3VyIDMxLWJpdCBzaWduZWQgU01JKSwgYW5kIHdlIGtub3cgb3VyIGNvZGVzIHdpbGwgb25seVxuICAgICAgLy8gYmUgMTItYml0cywgc28gY2FuIHNhZmVseSBoYXZlIDE4LWJpdHMgdGhlcmUgd2l0aG91dCBvdmVyZmxvdy5cbiAgICAgIC8vIGVtaXRfY29kZShpYl9jb2RlKTtcbiAgICAgIGN1ciB8PSBpYl9jb2RlIDw8IGN1cl9zaGlmdDtcbiAgICAgIGN1cl9zaGlmdCArPSBjdXJfY29kZV9zaXplO1xuICAgICAgd2hpbGUgKGN1cl9zaGlmdCA+PSA4KSB7XG4gICAgICAgIGJ1ZltwKytdID0gY3VyICYgMHhmZjtcbiAgICAgICAgY3VyID4+PSA4O1xuICAgICAgICBjdXJfc2hpZnQgLT0gODtcbiAgICAgICAgaWYgKHAgPT09IGN1cl9zdWJibG9jayArIDI1Nikge1xuICAgICAgICAgIC8vIEZpbmlzaGVkIGEgc3ViYmxvY2suXG4gICAgICAgICAgYnVmW2N1cl9zdWJibG9ja10gPSAyNTU7XG4gICAgICAgICAgY3VyX3N1YmJsb2NrID0gcCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXh0X2NvZGUgPT09IDQwOTYpIHtcbiAgICAgICAgLy8gVGFibGUgZnVsbCwgbmVlZCBhIGNsZWFyLlxuICAgICAgICBlbWl0X2NvZGUoY2xlYXJfY29kZSk7XG4gICAgICAgIG5leHRfY29kZSA9IGVvaV9jb2RlICsgMTtcbiAgICAgICAgY3VyX2NvZGVfc2l6ZSA9IG1pbl9jb2RlX3NpemUgKyAxO1xuICAgICAgICBjb2RlX3RhYmxlID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUYWJsZSBub3QgZnVsbCwgaW5zZXJ0IGEgbmV3IGVudHJ5LlxuICAgICAgICAvLyBJbmNyZWFzZSBvdXIgdmFyaWFibGUgYml0IGNvZGUgc2l6ZXMgaWYgbmVjZXNzYXJ5LiAgVGhpcyBpcyBhIGJpdFxuICAgICAgICAvLyB0cmlja3kgYXMgaXQgaXMgYmFzZWQgb24gXCJ0aW1pbmdcIiBiZXR3ZWVuIHRoZSBlbmNvZGluZyBhbmRcbiAgICAgICAgLy8gZGVjb2Rlci4gIEZyb20gdGhlIGVuY29kZXJzIHBlcnNwZWN0aXZlIHRoaXMgc2hvdWxkIGhhcHBlbiBhZnRlclxuICAgICAgICAvLyB3ZSd2ZSBhbHJlYWR5IGVtaXR0ZWQgdGhlIGluZGV4IGJ1ZmZlciBhbmQgYXJlIGFib3V0IHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgLy8gZmlyc3QgdGFibGUgZW50cnkgdGhhdCB3b3VsZCBvdmVyZmxvdyBvdXIgY3VycmVudCBjb2RlIGJpdCBzaXplLlxuICAgICAgICBpZiAobmV4dF9jb2RlID49IDEgPDwgY3VyX2NvZGVfc2l6ZSkgKytjdXJfY29kZV9zaXplO1xuICAgICAgICBjb2RlX3RhYmxlW2N1cl9rZXldID0gbmV4dF9jb2RlKys7IC8vIEluc2VydCBpbnRvIGNvZGUgdGFibGUuXG4gICAgICB9XG5cbiAgICAgIGliX2NvZGUgPSBrOyAvLyBJbmRleCBidWZmZXIgdG8gc2luZ2xlIGlucHV0IGsuXG4gICAgfSBlbHNlIHtcbiAgICAgIGliX2NvZGUgPSBjdXJfY29kZTsgLy8gSW5kZXggYnVmZmVyIHRvIHNlcXVlbmNlIGluIGNvZGUgdGFibGUuXG4gICAgfVxuICB9XG5cbiAgZW1pdF9jb2RlKGliX2NvZGUpOyAvLyBUaGVyZSB3aWxsIHN0aWxsIGJlIHNvbWV0aGluZyBpbiB0aGUgaW5kZXggYnVmZmVyLlxuICBlbWl0X2NvZGUoZW9pX2NvZGUpOyAvLyBFbmQgT2YgSW5mb3JtYXRpb24uXG5cbiAgLy8gRmx1c2ggLyBmaW5hbGl6ZSB0aGUgc3ViLWJsb2NrcyBzdHJlYW0gdG8gdGhlIGJ1ZmZlci5cbiAgZW1pdF9ieXRlc190b19idWZmZXIoMSk7XG5cbiAgLy8gRmluaXNoIHRoZSBzdWItYmxvY2tzLCB3cml0aW5nIG91dCBhbnkgdW5maW5pc2hlZCBsZW5ndGhzIGFuZFxuICAvLyB0ZXJtaW5hdGluZyB3aXRoIGEgc3ViLWJsb2NrIG9mIGxlbmd0aCAwLiAgSWYgd2UgaGF2ZSBhbHJlYWR5IHN0YXJ0ZWRcbiAgLy8gYnV0IG5vdCB5ZXQgdXNlZCBhIHN1Yi1ibG9jayBpdCBjYW4ganVzdCBiZWNvbWUgdGhlIHRlcm1pbmF0b3IuXG4gIGlmIChjdXJfc3ViYmxvY2sgKyAxID09PSBwKSB7XG4gICAgLy8gU3RhcnRlZCBidXQgdW51c2VkLlxuICAgIGJ1ZltjdXJfc3ViYmxvY2tdID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdGFydGVkIGFuZCB1c2VkLCB3cml0ZSBsZW5ndGggYW5kIGFkZGl0aW9uYWwgdGVybWluYXRvciBibG9jay5cbiAgICBidWZbY3VyX3N1YmJsb2NrXSA9IHAgLSBjdXJfc3ViYmxvY2sgLSAxO1xuICAgIGJ1ZltwKytdID0gMDtcbiAgfVxuICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gR2lmUmVhZGVyKGJ1Zikge1xuICB2YXIgcCA9IDA7XG5cbiAgLy8gLSBIZWFkZXIgKEdJRjg3YSBvciBHSUY4OWEpLlxuICBpZiAoXG4gICAgYnVmW3ArK10gIT09IDB4NDcgfHxcbiAgICBidWZbcCsrXSAhPT0gMHg0OSB8fFxuICAgIGJ1ZltwKytdICE9PSAweDQ2IHx8XG4gICAgYnVmW3ArK10gIT09IDB4MzggfHxcbiAgICAoKGJ1ZltwKytdICsgMSkgJiAweGZkKSAhPT0gMHgzOCB8fFxuICAgIGJ1ZltwKytdICE9PSAweDYxXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgR0lGIDg3YS84OWEgaGVhZGVyLlwiKTtcbiAgfVxuXG4gIC8vIC0gTG9naWNhbCBTY3JlZW4gRGVzY3JpcHRvci5cbiAgdmFyIHdpZHRoID0gYnVmW3ArK10gfCAoYnVmW3ArK10gPDwgOCk7XG4gIHZhciBoZWlnaHQgPSBidWZbcCsrXSB8IChidWZbcCsrXSA8PCA4KTtcbiAgdmFyIHBmMCA9IGJ1ZltwKytdOyAvLyA8UGFja2VkIEZpZWxkcz4uXG4gIHZhciBnbG9iYWxfcGFsZXR0ZV9mbGFnID0gcGYwID4+IDc7XG4gIHZhciBudW1fZ2xvYmFsX2NvbG9yc19wb3cyID0gcGYwICYgMHg3O1xuICB2YXIgbnVtX2dsb2JhbF9jb2xvcnMgPSAxIDw8IChudW1fZ2xvYmFsX2NvbG9yc19wb3cyICsgMSk7XG4gIHZhciBiYWNrZ3JvdW5kID0gYnVmW3ArK107XG4gIGJ1ZltwKytdOyAvLyBQaXhlbCBhc3BlY3QgcmF0aW8gKHVudXNlZD8pLlxuXG4gIHZhciBnbG9iYWxfcGFsZXR0ZV9vZmZzZXQgPSBudWxsO1xuICB2YXIgZ2xvYmFsX3BhbGV0dGVfc2l6ZSA9IG51bGw7XG5cbiAgaWYgKGdsb2JhbF9wYWxldHRlX2ZsYWcpIHtcbiAgICBnbG9iYWxfcGFsZXR0ZV9vZmZzZXQgPSBwO1xuICAgIGdsb2JhbF9wYWxldHRlX3NpemUgPSBudW1fZ2xvYmFsX2NvbG9ycztcbiAgICBwICs9IG51bV9nbG9iYWxfY29sb3JzICogMzsgLy8gU2VlayBwYXN0IHBhbGV0dGUuXG4gIH1cblxuICB2YXIgbm9fZW9mID0gdHJ1ZTtcblxuICB2YXIgZnJhbWVzID0gW107XG5cbiAgdmFyIGRlbGF5ID0gMDtcbiAgdmFyIHRyYW5zcGFyZW50X2luZGV4ID0gbnVsbDtcbiAgdmFyIGRpc3Bvc2FsID0gMDsgLy8gMCAtIE5vIGRpc3Bvc2FsIHNwZWNpZmllZC5cbiAgdmFyIGxvb3BfY291bnQgPSBudWxsO1xuXG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgd2hpbGUgKG5vX2VvZiAmJiBwIDwgYnVmLmxlbmd0aCkge1xuICAgIHN3aXRjaCAoYnVmW3ArK10pIHtcbiAgICAgIGNhc2UgMHgyMTogLy8gR3JhcGhpY3MgQ29udHJvbCBFeHRlbnNpb24gQmxvY2tcbiAgICAgICAgc3dpdGNoIChidWZbcCsrXSkge1xuICAgICAgICAgIGNhc2UgMHhmZjogLy8gQXBwbGljYXRpb24gc3BlY2lmaWMgYmxvY2tcbiAgICAgICAgICAgIC8vIFRyeSBpZiBpdCdzIGEgTmV0c2NhcGUgYmxvY2sgKHdpdGggYW5pbWF0aW9uIGxvb3AgY291bnRlcikuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGJ1ZltwXSAhPT0gMHgwYiB8fCAvLyAyMSBGRiBhbHJlYWR5IHJlYWQsIGNoZWNrIGJsb2NrIHNpemUuXG4gICAgICAgICAgICAgIC8vIE5FVFNDQVBFMi4wXG4gICAgICAgICAgICAgIChidWZbcCArIDFdID09IDB4NGUgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDJdID09IDB4NDUgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDNdID09IDB4NTQgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDRdID09IDB4NTMgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDVdID09IDB4NDMgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDZdID09IDB4NDEgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDddID09IDB4NTAgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDhdID09IDB4NDUgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDldID09IDB4MzIgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDEwXSA9PSAweDJlICYmXG4gICAgICAgICAgICAgICAgYnVmW3AgKyAxMV0gPT0gMHgzMCAmJlxuICAgICAgICAgICAgICAgIC8vIFN1Yi1ibG9ja1xuICAgICAgICAgICAgICAgIGJ1ZltwICsgMTJdID09IDB4MDMgJiZcbiAgICAgICAgICAgICAgICBidWZbcCArIDEzXSA9PSAweDAxICYmXG4gICAgICAgICAgICAgICAgYnVmW3AgKyAxNl0gPT0gMClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBwICs9IDE0O1xuICAgICAgICAgICAgICBsb29wX2NvdW50ID0gYnVmW3ArK10gfCAoYnVmW3ArK10gPDwgOCk7XG4gICAgICAgICAgICAgIHArKzsgLy8gU2tpcCB0ZXJtaW5hdG9yLlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qga25vdyB3aGF0IGl0IGlzLCBqdXN0IHRyeSB0byBnZXQgcGFzdCBpdC5cbiAgICAgICAgICAgICAgcCArPSAxMjtcbiAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWVrIHRocm91Z2ggc3ViYmxvY2tzLlxuICAgICAgICAgICAgICAgIHZhciBibG9ja19zaXplID0gYnVmW3ArK107XG4gICAgICAgICAgICAgICAgLy8gQmFkIGJsb2NrIHNpemUgKGV4OiB1bmRlZmluZWQgZnJvbSBhbiBvdXQgb2YgYm91bmRzIHJlYWQpLlxuICAgICAgICAgICAgICAgIGlmICghKGJsb2NrX3NpemUgPj0gMCkpIHRocm93IEVycm9yKFwiSW52YWxpZCBibG9jayBzaXplXCIpO1xuICAgICAgICAgICAgICAgIGlmIChibG9ja19zaXplID09PSAwKSBicmVhazsgLy8gMCBzaXplIGlzIHRlcm1pbmF0b3JcbiAgICAgICAgICAgICAgICBwICs9IGJsb2NrX3NpemU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAweGY5OiAvLyBHcmFwaGljcyBDb250cm9sIEV4dGVuc2lvblxuICAgICAgICAgICAgaWYgKGJ1ZltwKytdICE9PSAweDQgfHwgYnVmW3AgKyA0XSAhPT0gMClcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBncmFwaGljcyBleHRlbnNpb24gYmxvY2suXCIpO1xuICAgICAgICAgICAgdmFyIHBmMSA9IGJ1ZltwKytdO1xuICAgICAgICAgICAgZGVsYXkgPSBidWZbcCsrXSB8IChidWZbcCsrXSA8PCA4KTtcbiAgICAgICAgICAgIHRyYW5zcGFyZW50X2luZGV4ID0gYnVmW3ArK107XG4gICAgICAgICAgICBpZiAoKHBmMSAmIDEpID09PSAwKSB0cmFuc3BhcmVudF9pbmRleCA9IG51bGw7XG4gICAgICAgICAgICBkaXNwb3NhbCA9IChwZjEgPj4gMikgJiAweDc7XG4gICAgICAgICAgICBwKys7IC8vIFNraXAgdGVybWluYXRvci5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAweGZlOiAvLyBDb21tZW50IEV4dGVuc2lvbi5cbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgIC8vIFNlZWsgdGhyb3VnaCBzdWJibG9ja3MuXG4gICAgICAgICAgICAgIHZhciBibG9ja19zaXplID0gYnVmW3ArK107XG4gICAgICAgICAgICAgIC8vIEJhZCBibG9jayBzaXplIChleDogdW5kZWZpbmVkIGZyb20gYW4gb3V0IG9mIGJvdW5kcyByZWFkKS5cbiAgICAgICAgICAgICAgaWYgKCEoYmxvY2tfc2l6ZSA+PSAwKSkgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJsb2NrIHNpemVcIik7XG4gICAgICAgICAgICAgIGlmIChibG9ja19zaXplID09PSAwKSBicmVhazsgLy8gMCBzaXplIGlzIHRlcm1pbmF0b3JcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYnVmLnNsaWNlKHAsIHArYmxvY2tfc2l6ZSkudG9TdHJpbmcoJ2FzY2lpJykpO1xuICAgICAgICAgICAgICBwICs9IGJsb2NrX3NpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiVW5rbm93biBncmFwaGljIGNvbnRyb2wgbGFiZWw6IDB4XCIgKyBidWZbcCAtIDFdLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAweDJjOiAvLyBJbWFnZSBEZXNjcmlwdG9yLlxuICAgICAgICB2YXIgeCA9IGJ1ZltwKytdIHwgKGJ1ZltwKytdIDw8IDgpO1xuICAgICAgICB2YXIgeSA9IGJ1ZltwKytdIHwgKGJ1ZltwKytdIDw8IDgpO1xuICAgICAgICB2YXIgdyA9IGJ1ZltwKytdIHwgKGJ1ZltwKytdIDw8IDgpO1xuICAgICAgICB2YXIgaCA9IGJ1ZltwKytdIHwgKGJ1ZltwKytdIDw8IDgpO1xuICAgICAgICB2YXIgcGYyID0gYnVmW3ArK107XG4gICAgICAgIHZhciBsb2NhbF9wYWxldHRlX2ZsYWcgPSBwZjIgPj4gNztcbiAgICAgICAgdmFyIGludGVybGFjZV9mbGFnID0gKHBmMiA+PiA2KSAmIDE7XG4gICAgICAgIHZhciBudW1fbG9jYWxfY29sb3JzX3BvdzIgPSBwZjIgJiAweDc7XG4gICAgICAgIHZhciBudW1fbG9jYWxfY29sb3JzID0gMSA8PCAobnVtX2xvY2FsX2NvbG9yc19wb3cyICsgMSk7XG4gICAgICAgIHZhciBwYWxldHRlX29mZnNldCA9IGdsb2JhbF9wYWxldHRlX29mZnNldDtcbiAgICAgICAgdmFyIHBhbGV0dGVfc2l6ZSA9IGdsb2JhbF9wYWxldHRlX3NpemU7XG4gICAgICAgIHZhciBoYXNfbG9jYWxfcGFsZXR0ZSA9IGZhbHNlO1xuICAgICAgICBpZiAobG9jYWxfcGFsZXR0ZV9mbGFnKSB7XG4gICAgICAgICAgdmFyIGhhc19sb2NhbF9wYWxldHRlID0gdHJ1ZTtcbiAgICAgICAgICBwYWxldHRlX29mZnNldCA9IHA7IC8vIE92ZXJyaWRlIHdpdGggbG9jYWwgcGFsZXR0ZS5cbiAgICAgICAgICBwYWxldHRlX3NpemUgPSBudW1fbG9jYWxfY29sb3JzO1xuICAgICAgICAgIHAgKz0gbnVtX2xvY2FsX2NvbG9ycyAqIDM7IC8vIFNlZWsgcGFzdCBwYWxldHRlLlxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGFfb2Zmc2V0ID0gcDtcblxuICAgICAgICBwKys7IC8vIGNvZGVzaXplXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGJsb2NrX3NpemUgPSBidWZbcCsrXTtcbiAgICAgICAgICAvLyBCYWQgYmxvY2sgc2l6ZSAoZXg6IHVuZGVmaW5lZCBmcm9tIGFuIG91dCBvZiBib3VuZHMgcmVhZCkuXG4gICAgICAgICAgaWYgKCEoYmxvY2tfc2l6ZSA+PSAwKSkgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJsb2NrIHNpemVcIik7XG4gICAgICAgICAgaWYgKGJsb2NrX3NpemUgPT09IDApIGJyZWFrOyAvLyAwIHNpemUgaXMgdGVybWluYXRvclxuICAgICAgICAgIHAgKz0gYmxvY2tfc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lcy5wdXNoKHtcbiAgICAgICAgICB4OiB4LFxuICAgICAgICAgIHk6IHksXG4gICAgICAgICAgd2lkdGg6IHcsXG4gICAgICAgICAgaGVpZ2h0OiBoLFxuICAgICAgICAgIGhhc19sb2NhbF9wYWxldHRlOiBoYXNfbG9jYWxfcGFsZXR0ZSxcbiAgICAgICAgICBwYWxldHRlX29mZnNldDogcGFsZXR0ZV9vZmZzZXQsXG4gICAgICAgICAgcGFsZXR0ZV9zaXplOiBwYWxldHRlX3NpemUsXG4gICAgICAgICAgZGF0YV9vZmZzZXQ6IGRhdGFfb2Zmc2V0LFxuICAgICAgICAgIGRhdGFfbGVuZ3RoOiBwIC0gZGF0YV9vZmZzZXQsXG4gICAgICAgICAgdHJhbnNwYXJlbnRfaW5kZXg6IHRyYW5zcGFyZW50X2luZGV4LFxuICAgICAgICAgIGludGVybGFjZWQ6ICEhaW50ZXJsYWNlX2ZsYWcsXG4gICAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICAgIGRpc3Bvc2FsOiBkaXNwb3NhbFxuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMHgzYjogLy8gVHJhaWxlciBNYXJrZXIgKGVuZCBvZiBmaWxlKS5cbiAgICAgICAgbm9fZW9mID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGdpZiBibG9jazogMHhcIiArIGJ1ZltwIC0gMV0udG9TdHJpbmcoMTYpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5udW1GcmFtZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnJhbWVzLmxlbmd0aDtcbiAgfTtcblxuICB0aGlzLmxvb3BDb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBsb29wX2NvdW50O1xuICB9O1xuXG4gIHRoaXMuZnJhbWVJbmZvID0gZnVuY3Rpb24oZnJhbWVfbnVtKSB7XG4gICAgaWYgKGZyYW1lX251bSA8IDAgfHwgZnJhbWVfbnVtID49IGZyYW1lcy5sZW5ndGgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGcmFtZSBpbmRleCBvdXQgb2YgcmFuZ2UuXCIpO1xuICAgIHJldHVybiBmcmFtZXNbZnJhbWVfbnVtXTtcbiAgfTtcblxuICB0aGlzLmRlY29kZUFuZEJsaXRGcmFtZUJHUkEgPSBmdW5jdGlvbihmcmFtZV9udW0sIHBpeGVscykge1xuICAgIHZhciBmcmFtZSA9IHRoaXMuZnJhbWVJbmZvKGZyYW1lX251bSk7XG4gICAgdmFyIG51bV9waXhlbHMgPSBmcmFtZS53aWR0aCAqIGZyYW1lLmhlaWdodDtcbiAgICB2YXIgaW5kZXhfc3RyZWFtID0gbmV3IFVpbnQ4QXJyYXkobnVtX3BpeGVscyk7IC8vIEF0IG1vc3QgOC1iaXQgaW5kaWNlcy5cbiAgICBHaWZSZWFkZXJMWldPdXRwdXRJbmRleFN0cmVhbShcbiAgICAgIGJ1ZixcbiAgICAgIGZyYW1lLmRhdGFfb2Zmc2V0LFxuICAgICAgaW5kZXhfc3RyZWFtLFxuICAgICAgbnVtX3BpeGVsc1xuICAgICk7XG4gICAgdmFyIHBhbGV0dGVfb2Zmc2V0ID0gZnJhbWUucGFsZXR0ZV9vZmZzZXQ7XG5cbiAgICAvLyBOT1RFKGRlYW5tKTogSXQgc2VlbXMgdG8gYmUgbXVjaCBmYXN0ZXIgdG8gY29tcGFyZSBpbmRleCB0byAyNTYgdGhhblxuICAgIC8vIHRvID09PSBudWxsLiAgTm90IHN1cmUgd2h5LCBidXQgQ29tcGFyZVN0dWJfRVFfU1RSSUNUIHNob3dzIHVwIGhpZ2ggaW5cbiAgICAvLyB0aGUgcHJvZmlsZSwgbm90IHN1cmUgaWYgaXQncyByZWxhdGVkIHRvIHVzaW5nIGEgVWludDhBcnJheS5cbiAgICB2YXIgdHJhbnMgPSBmcmFtZS50cmFuc3BhcmVudF9pbmRleDtcbiAgICBpZiAodHJhbnMgPT09IG51bGwpIHRyYW5zID0gMjU2O1xuXG4gICAgLy8gV2UgYXJlIHBvc3NpYmx5IGp1c3QgYmxpdHRpbmcgdG8gYSBwb3J0aW9uIG9mIHRoZSBlbnRpcmUgZnJhbWUuXG4gICAgLy8gVGhhdCBpcyBhIHN1YnJlY3Qgd2l0aGluIHRoZSBmcmFtZXJlY3QsIHNvIHRoZSBhZGRpdGlvbmFsIHBpeGVsc1xuICAgIC8vIG11c3QgYmUgc2tpcHBlZCBvdmVyIGFmdGVyIHdlIGZpbmlzaGVkIGEgc2NhbmxpbmUuXG4gICAgdmFyIGZyYW1ld2lkdGggPSBmcmFtZS53aWR0aDtcbiAgICB2YXIgZnJhbWVzdHJpZGUgPSB3aWR0aCAtIGZyYW1ld2lkdGg7XG4gICAgdmFyIHhsZWZ0ID0gZnJhbWV3aWR0aDsgLy8gTnVtYmVyIG9mIHN1YnJlY3QgcGl4ZWxzIGxlZnQgaW4gc2NhbmxpbmUuXG5cbiAgICAvLyBPdXRwdXQgaW5kaWNlcyBvZiB0aGUgdG9wIGxlZnQgYW5kIGJvdHRvbSByaWdodCBjb3JuZXJzIG9mIHRoZSBzdWJyZWN0LlxuICAgIHZhciBvcGJlZyA9IChmcmFtZS55ICogd2lkdGggKyBmcmFtZS54KSAqIDQ7XG4gICAgdmFyIG9wZW5kID0gKChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAqIHdpZHRoICsgZnJhbWUueCkgKiA0O1xuICAgIHZhciBvcCA9IG9wYmVnO1xuXG4gICAgdmFyIHNjYW5zdHJpZGUgPSBmcmFtZXN0cmlkZSAqIDQ7XG5cbiAgICAvLyBVc2Ugc2NhbnN0cmlkZSB0byBza2lwIHBhc3QgdGhlIHJvd3Mgd2hlbiBpbnRlcmxhY2luZy4gIFRoaXMgaXMgc2tpcHBpbmdcbiAgICAvLyA3IHJvd3MgZm9yIHRoZSBmaXJzdCB0d28gcGFzc2VzLCB0aGVuIDMgdGhlbiAxLlxuICAgIGlmIChmcmFtZS5pbnRlcmxhY2VkID09PSB0cnVlKSB7XG4gICAgICBzY2Fuc3RyaWRlICs9IHdpZHRoICogNCAqIDc7IC8vIFBhc3MgMS5cbiAgICB9XG5cbiAgICB2YXIgaW50ZXJsYWNlc2tpcCA9IDg7IC8vIFRyYWNraW5nIHRoZSByb3cgaW50ZXJ2YWwgaW4gdGhlIGN1cnJlbnQgcGFzcy5cblxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IGluZGV4X3N0cmVhbS5sZW5ndGg7IGkgPCBpbDsgKytpKSB7XG4gICAgICB2YXIgaW5kZXggPSBpbmRleF9zdHJlYW1baV07XG5cbiAgICAgIGlmICh4bGVmdCA9PT0gMCkge1xuICAgICAgICAvLyBCZWdpbm5pbmcgb2YgbmV3IHNjYW4gbGluZVxuICAgICAgICBvcCArPSBzY2Fuc3RyaWRlO1xuICAgICAgICB4bGVmdCA9IGZyYW1ld2lkdGg7XG4gICAgICAgIGlmIChvcCA+PSBvcGVuZCkge1xuICAgICAgICAgIC8vIENhdGNoIHRoZSB3cmFwIHRvIHN3aXRjaCBwYXNzZXMgd2hlbiBpbnRlcmxhY2luZy5cbiAgICAgICAgICBzY2Fuc3RyaWRlID0gZnJhbWVzdHJpZGUgKiA0ICsgd2lkdGggKiA0ICogKGludGVybGFjZXNraXAgLSAxKTtcbiAgICAgICAgICAvLyBpbnRlcmxhY2Vza2lwIC8gMiAqIDQgaXMgaW50ZXJsYWNlc2tpcCA8PCAxLlxuICAgICAgICAgIG9wID0gb3BiZWcgKyAoZnJhbWV3aWR0aCArIGZyYW1lc3RyaWRlKSAqIChpbnRlcmxhY2Vza2lwIDw8IDEpO1xuICAgICAgICAgIGludGVybGFjZXNraXAgPj49IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4ID09PSB0cmFucykge1xuICAgICAgICBvcCArPSA0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHIgPSBidWZbcGFsZXR0ZV9vZmZzZXQgKyBpbmRleCAqIDNdO1xuICAgICAgICB2YXIgZyA9IGJ1ZltwYWxldHRlX29mZnNldCArIGluZGV4ICogMyArIDFdO1xuICAgICAgICB2YXIgYiA9IGJ1ZltwYWxldHRlX29mZnNldCArIGluZGV4ICogMyArIDJdO1xuICAgICAgICBwaXhlbHNbb3ArK10gPSBiO1xuICAgICAgICBwaXhlbHNbb3ArK10gPSBnO1xuICAgICAgICBwaXhlbHNbb3ArK10gPSByO1xuICAgICAgICBwaXhlbHNbb3ArK10gPSAyNTU7XG4gICAgICB9XG4gICAgICAtLXhsZWZ0O1xuICAgIH1cbiAgfTtcblxuICAvLyBJIHdpbGwgZ28gdG8gY29weSBhbmQgcGFzdGUgaGVsbCBvbmUgZGF5Li4uXG4gIHRoaXMuZGVjb2RlQW5kQmxpdEZyYW1lUkdCQSA9IGZ1bmN0aW9uKGZyYW1lX251bSwgcGl4ZWxzKSB7XG4gICAgdmFyIGZyYW1lID0gdGhpcy5mcmFtZUluZm8oZnJhbWVfbnVtKTtcbiAgICB2YXIgbnVtX3BpeGVscyA9IGZyYW1lLndpZHRoICogZnJhbWUuaGVpZ2h0O1xuICAgIHZhciBpbmRleF9zdHJlYW0gPSBuZXcgVWludDhBcnJheShudW1fcGl4ZWxzKTsgLy8gQXQgbW9zdCA4LWJpdCBpbmRpY2VzLlxuICAgIEdpZlJlYWRlckxaV091dHB1dEluZGV4U3RyZWFtKFxuICAgICAgYnVmLFxuICAgICAgZnJhbWUuZGF0YV9vZmZzZXQsXG4gICAgICBpbmRleF9zdHJlYW0sXG4gICAgICBudW1fcGl4ZWxzXG4gICAgKTtcbiAgICB2YXIgcGFsZXR0ZV9vZmZzZXQgPSBmcmFtZS5wYWxldHRlX29mZnNldDtcblxuICAgIC8vIE5PVEUoZGVhbm0pOiBJdCBzZWVtcyB0byBiZSBtdWNoIGZhc3RlciB0byBjb21wYXJlIGluZGV4IHRvIDI1NiB0aGFuXG4gICAgLy8gdG8gPT09IG51bGwuICBOb3Qgc3VyZSB3aHksIGJ1dCBDb21wYXJlU3R1Yl9FUV9TVFJJQ1Qgc2hvd3MgdXAgaGlnaCBpblxuICAgIC8vIHRoZSBwcm9maWxlLCBub3Qgc3VyZSBpZiBpdCdzIHJlbGF0ZWQgdG8gdXNpbmcgYSBVaW50OEFycmF5LlxuICAgIHZhciB0cmFucyA9IGZyYW1lLnRyYW5zcGFyZW50X2luZGV4O1xuICAgIGlmICh0cmFucyA9PT0gbnVsbCkgdHJhbnMgPSAyNTY7XG5cbiAgICAvLyBXZSBhcmUgcG9zc2libHkganVzdCBibGl0dGluZyB0byBhIHBvcnRpb24gb2YgdGhlIGVudGlyZSBmcmFtZS5cbiAgICAvLyBUaGF0IGlzIGEgc3VicmVjdCB3aXRoaW4gdGhlIGZyYW1lcmVjdCwgc28gdGhlIGFkZGl0aW9uYWwgcGl4ZWxzXG4gICAgLy8gbXVzdCBiZSBza2lwcGVkIG92ZXIgYWZ0ZXIgd2UgZmluaXNoZWQgYSBzY2FubGluZS5cbiAgICB2YXIgZnJhbWV3aWR0aCA9IGZyYW1lLndpZHRoO1xuICAgIHZhciBmcmFtZXN0cmlkZSA9IHdpZHRoIC0gZnJhbWV3aWR0aDtcbiAgICB2YXIgeGxlZnQgPSBmcmFtZXdpZHRoOyAvLyBOdW1iZXIgb2Ygc3VicmVjdCBwaXhlbHMgbGVmdCBpbiBzY2FubGluZS5cblxuICAgIC8vIE91dHB1dCBpbmRpY2VzIG9mIHRoZSB0b3AgbGVmdCBhbmQgYm90dG9tIHJpZ2h0IGNvcm5lcnMgb2YgdGhlIHN1YnJlY3QuXG4gICAgdmFyIG9wYmVnID0gKGZyYW1lLnkgKiB3aWR0aCArIGZyYW1lLngpICogNDtcbiAgICB2YXIgb3BlbmQgPSAoKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpICogd2lkdGggKyBmcmFtZS54KSAqIDQ7XG4gICAgdmFyIG9wID0gb3BiZWc7XG5cbiAgICB2YXIgc2NhbnN0cmlkZSA9IGZyYW1lc3RyaWRlICogNDtcblxuICAgIC8vIFVzZSBzY2Fuc3RyaWRlIHRvIHNraXAgcGFzdCB0aGUgcm93cyB3aGVuIGludGVybGFjaW5nLiAgVGhpcyBpcyBza2lwcGluZ1xuICAgIC8vIDcgcm93cyBmb3IgdGhlIGZpcnN0IHR3byBwYXNzZXMsIHRoZW4gMyB0aGVuIDEuXG4gICAgaWYgKGZyYW1lLmludGVybGFjZWQgPT09IHRydWUpIHtcbiAgICAgIHNjYW5zdHJpZGUgKz0gd2lkdGggKiA0ICogNzsgLy8gUGFzcyAxLlxuICAgIH1cblxuICAgIHZhciBpbnRlcmxhY2Vza2lwID0gODsgLy8gVHJhY2tpbmcgdGhlIHJvdyBpbnRlcnZhbCBpbiB0aGUgY3VycmVudCBwYXNzLlxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gaW5kZXhfc3RyZWFtLmxlbmd0aDsgaSA8IGlsOyArK2kpIHtcbiAgICAgIHZhciBpbmRleCA9IGluZGV4X3N0cmVhbVtpXTtcblxuICAgICAgaWYgKHhsZWZ0ID09PSAwKSB7XG4gICAgICAgIC8vIEJlZ2lubmluZyBvZiBuZXcgc2NhbiBsaW5lXG4gICAgICAgIG9wICs9IHNjYW5zdHJpZGU7XG4gICAgICAgIHhsZWZ0ID0gZnJhbWV3aWR0aDtcbiAgICAgICAgaWYgKG9wID49IG9wZW5kKSB7XG4gICAgICAgICAgLy8gQ2F0Y2ggdGhlIHdyYXAgdG8gc3dpdGNoIHBhc3NlcyB3aGVuIGludGVybGFjaW5nLlxuICAgICAgICAgIHNjYW5zdHJpZGUgPSBmcmFtZXN0cmlkZSAqIDQgKyB3aWR0aCAqIDQgKiAoaW50ZXJsYWNlc2tpcCAtIDEpO1xuICAgICAgICAgIC8vIGludGVybGFjZXNraXAgLyAyICogNCBpcyBpbnRlcmxhY2Vza2lwIDw8IDEuXG4gICAgICAgICAgb3AgPSBvcGJlZyArIChmcmFtZXdpZHRoICsgZnJhbWVzdHJpZGUpICogKGludGVybGFjZXNraXAgPDwgMSk7XG4gICAgICAgICAgaW50ZXJsYWNlc2tpcCA+Pj0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaW5kZXggPT09IHRyYW5zKSB7XG4gICAgICAgIG9wICs9IDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgciA9IGJ1ZltwYWxldHRlX29mZnNldCArIGluZGV4ICogM107XG4gICAgICAgIHZhciBnID0gYnVmW3BhbGV0dGVfb2Zmc2V0ICsgaW5kZXggKiAzICsgMV07XG4gICAgICAgIHZhciBiID0gYnVmW3BhbGV0dGVfb2Zmc2V0ICsgaW5kZXggKiAzICsgMl07XG4gICAgICAgIHBpeGVsc1tvcCsrXSA9IHI7XG4gICAgICAgIHBpeGVsc1tvcCsrXSA9IGc7XG4gICAgICAgIHBpeGVsc1tvcCsrXSA9IGI7XG4gICAgICAgIHBpeGVsc1tvcCsrXSA9IDI1NTtcbiAgICAgIH1cbiAgICAgIC0teGxlZnQ7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBHaWZSZWFkZXJMWldPdXRwdXRJbmRleFN0cmVhbShjb2RlX3N0cmVhbSwgcCwgb3V0cHV0LCBvdXRwdXRfbGVuZ3RoKSB7XG4gIHZhciBtaW5fY29kZV9zaXplID0gY29kZV9zdHJlYW1bcCsrXTtcblxuICB2YXIgY2xlYXJfY29kZSA9IDEgPDwgbWluX2NvZGVfc2l6ZTtcbiAgdmFyIGVvaV9jb2RlID0gY2xlYXJfY29kZSArIDE7XG4gIHZhciBuZXh0X2NvZGUgPSBlb2lfY29kZSArIDE7XG5cbiAgdmFyIGN1cl9jb2RlX3NpemUgPSBtaW5fY29kZV9zaXplICsgMTsgLy8gTnVtYmVyIG9mIGJpdHMgcGVyIGNvZGUuXG4gIC8vIE5PVEU6IFRoaXMgc2hhcmVzIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGVuY29kZXIsIGJ1dCBoYXMgYSBkaWZmZXJlbnRcbiAgLy8gbWVhbmluZyBoZXJlLiAgSGVyZSB0aGlzIG1hc2tzIGVhY2ggY29kZSBjb21pbmcgZnJvbSB0aGUgY29kZSBzdHJlYW0uXG4gIHZhciBjb2RlX21hc2sgPSAoMSA8PCBjdXJfY29kZV9zaXplKSAtIDE7XG4gIHZhciBjdXJfc2hpZnQgPSAwO1xuICB2YXIgY3VyID0gMDtcblxuICB2YXIgb3AgPSAwOyAvLyBPdXRwdXQgcG9pbnRlci5cblxuICB2YXIgc3ViYmxvY2tfc2l6ZSA9IGNvZGVfc3RyZWFtW3ArK107XG5cbiAgLy8gVE9ETyhkZWFubSk6IFdvdWxkIHVzaW5nIGEgVHlwZWRBcnJheSBiZSBhbnkgZmFzdGVyPyAgQXQgbGVhc3QgaXQgd291bGRcbiAgLy8gc29sdmUgdGhlIGZhc3QgbW9kZSAvIGJhY2tpbmcgc3RvcmUgdW5jZXJ0YWludHkuXG4gIC8vIHZhciBjb2RlX3RhYmxlID0gQXJyYXkoNDA5Nik7XG4gIHZhciBjb2RlX3RhYmxlID0gbmV3IEludDMyQXJyYXkoNDA5Nik7IC8vIENhbiBiZSBzaWduZWQsIHdlIG9ubHkgdXNlIDIwIGJpdHMuXG5cbiAgdmFyIHByZXZfY29kZSA9IG51bGw7IC8vIFRyYWNrIGNvZGUtMS5cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIC8vIFJlYWQgdXAgdG8gdHdvIGJ5dGVzLCBtYWtpbmcgc3VyZSB3ZSBhbHdheXMgMTItYml0cyBmb3IgbWF4IHNpemVkIGNvZGUuXG4gICAgd2hpbGUgKGN1cl9zaGlmdCA8IDE2KSB7XG4gICAgICBpZiAoc3ViYmxvY2tfc2l6ZSA9PT0gMCkgYnJlYWs7IC8vIE5vIG1vcmUgZGF0YSB0byBiZSByZWFkLlxuXG4gICAgICBjdXIgfD0gY29kZV9zdHJlYW1bcCsrXSA8PCBjdXJfc2hpZnQ7XG4gICAgICBjdXJfc2hpZnQgKz0gODtcblxuICAgICAgaWYgKHN1YmJsb2NrX3NpemUgPT09IDEpIHtcbiAgICAgICAgLy8gTmV2ZXIgbGV0IGl0IGdldCB0byAwIHRvIGhvbGQgbG9naWMgYWJvdmUuXG4gICAgICAgIHN1YmJsb2NrX3NpemUgPSBjb2RlX3N0cmVhbVtwKytdOyAvLyBOZXh0IHN1YmJsb2NrLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLS1zdWJibG9ja19zaXplO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8oZGVhbm0pOiBXZSBzaG91bGQgbmV2ZXIgcmVhbGx5IGdldCBoZXJlLCB3ZSBzaG91bGQgaGF2ZSByZWNlaXZlZFxuICAgIC8vIGFuZCBFT0kuXG4gICAgaWYgKGN1cl9zaGlmdCA8IGN1cl9jb2RlX3NpemUpIGJyZWFrO1xuXG4gICAgdmFyIGNvZGUgPSBjdXIgJiBjb2RlX21hc2s7XG4gICAgY3VyID4+PSBjdXJfY29kZV9zaXplO1xuICAgIGN1cl9zaGlmdCAtPSBjdXJfY29kZV9zaXplO1xuXG4gICAgLy8gVE9ETyhkZWFubSk6IE1heWJlIHNob3VsZCBjaGVjayB0aGF0IHRoZSBmaXJzdCBjb2RlIHdhcyBhIGNsZWFyIGNvZGUsXG4gICAgLy8gYXQgbGVhc3QgdGhpcyBpcyB3aGF0IHlvdSdyZSBzdXBwb3NlZCB0byBkby4gIEJ1dCBhY3R1YWxseSBvdXIgZW5jb2RlclxuICAgIC8vIG5vdyBkb2Vzbid0IGVtaXQgYSBjbGVhciBjb2RlIGZpcnN0IGFueXdheS5cbiAgICBpZiAoY29kZSA9PT0gY2xlYXJfY29kZSkge1xuICAgICAgLy8gV2UgZG9uJ3QgYWN0dWFsbHkgaGF2ZSB0byBjbGVhciB0aGUgdGFibGUuICBUaGlzIGNvdWxkIGJlIGEgZ29vZCBpZGVhXG4gICAgICAvLyBmb3IgZ3JlYXRlciBlcnJvciBjaGVja2luZywgYnV0IHdlIGRvbid0IHJlYWxseSBkbyBhbnkgYW55d2F5LiAgV2VcbiAgICAgIC8vIHdpbGwganVzdCB0cmFjayBpdCB3aXRoIG5leHRfY29kZSBhbmQgb3ZlcndyaXRlIG9sZCBlbnRyaWVzLlxuXG4gICAgICBuZXh0X2NvZGUgPSBlb2lfY29kZSArIDE7XG4gICAgICBjdXJfY29kZV9zaXplID0gbWluX2NvZGVfc2l6ZSArIDE7XG4gICAgICBjb2RlX21hc2sgPSAoMSA8PCBjdXJfY29kZV9zaXplKSAtIDE7XG5cbiAgICAgIC8vIERvbid0IHVwZGF0ZSBwcmV2X2NvZGUgP1xuICAgICAgcHJldl9jb2RlID0gbnVsbDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gZW9pX2NvZGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIFdlIGhhdmUgYSBzaW1pbGFyIHNpdHVhdGlvbiBhcyB0aGUgZGVjb2Rlciwgd2hlcmUgd2Ugd2FudCB0byBzdG9yZVxuICAgIC8vIHZhcmlhYmxlIGxlbmd0aCBlbnRyaWVzIChjb2RlIHRhYmxlIGVudHJpZXMpLCBidXQgd2Ugd2FudCB0byBkbyBpbiBhXG4gICAgLy8gZmFzdGVyIG1hbm5lciB0aGFuIGFuIGFycmF5IG9mIGFycmF5cy4gIFRoZSBjb2RlIGJlbG93IHN0b3JlcyBzb3J0IG9mIGFcbiAgICAvLyBsaW5rZWQgbGlzdCB3aXRoaW4gdGhlIGNvZGUgdGFibGUsIGFuZCB0aGVuIFwiY2hhc2VzXCIgdGhyb3VnaCBpdCB0b1xuICAgIC8vIGNvbnN0cnVjdCB0aGUgZGljdGlvbmFyeSBlbnRyaWVzLiAgV2hlbiBhIG5ldyBlbnRyeSBpcyBjcmVhdGVkLCBqdXN0IHRoZVxuICAgIC8vIGxhc3QgYnl0ZSBpcyBzdG9yZWQsIGFuZCB0aGUgcmVzdCAocHJlZml4KSBvZiB0aGUgZW50cnkgaXMgb25seVxuICAgIC8vIHJlZmVyZW5jZWQgYnkgaXRzIHRhYmxlIGVudHJ5LiAgVGhlbiB0aGUgY29kZSBjaGFzZXMgdGhyb3VnaCB0aGVcbiAgICAvLyBwcmVmaXhlcyB1bnRpbCBpdCByZWFjaGVzIGEgc2luZ2xlIGJ5dGUgY29kZS4gIFdlIGhhdmUgdG8gY2hhc2UgdHdpY2UsXG4gICAgLy8gZmlyc3QgdG8gY29tcHV0ZSB0aGUgbGVuZ3RoLCBhbmQgdGhlbiB0byBhY3R1YWxseSBjb3B5IHRoZSBkYXRhIHRvIHRoZVxuICAgIC8vIG91dHB1dCAoYmFja3dhcmRzLCBzaW5jZSB3ZSBrbm93IHRoZSBsZW5ndGgpLiAgVGhlIGFsdGVybmF0aXZlIHdvdWxkIGJlXG4gICAgLy8gc3RvcmluZyBzb21ldGhpbmcgaW4gYW4gaW50ZXJtZWRpYXRlIHN0YWNrLCBidXQgdGhhdCBkb2Vzbid0IG1ha2UgYW55XG4gICAgLy8gbW9yZSBzZW5zZS4gIEkgaW1wbGVtZW50ZWQgYW4gYXBwcm9hY2ggd2hlcmUgaXQgYWxzbyBzdG9yZWQgdGhlIGxlbmd0aFxuICAgIC8vIGluIHRoZSBjb2RlIHRhYmxlLCBhbHRob3VnaCBpdCdzIGEgYml0IHRyaWNreSBiZWNhdXNlIHlvdSBydW4gb3V0IG9mXG4gICAgLy8gYml0cyAoMTIgKyAxMiArIDgpLCBidXQgSSBkaWRuJ3QgbWVhc3VyZSBtdWNoIGltcHJvdmVtZW50cyAodGhlIHRhYmxlXG4gICAgLy8gZW50cmllcyBhcmUgZ2VuZXJhbGx5IG5vdCB0aGUgbG9uZykuICBFdmVuIHdoZW4gSSBjcmVhdGVkIGJlbmNobWFya3MgZm9yXG4gICAgLy8gdmVyeSBsb25nIHRhYmxlIGVudHJpZXMgdGhlIGNvbXBsZXhpdHkgZGlkIG5vdCBzZWVtIHdvcnRoIGl0LlxuICAgIC8vIFRoZSBjb2RlIHRhYmxlIHN0b3JlcyB0aGUgcHJlZml4IGVudHJ5IGluIDEyIGJpdHMgYW5kIHRoZW4gdGhlIHN1ZmZpeFxuICAgIC8vIGJ5dGUgaW4gOCBiaXRzLCBzbyBlYWNoIGVudHJ5IGlzIDIwIGJpdHMuXG5cbiAgICB2YXIgY2hhc2VfY29kZSA9IGNvZGUgPCBuZXh0X2NvZGUgPyBjb2RlIDogcHJldl9jb2RlO1xuXG4gICAgLy8gQ2hhc2Ugd2hhdCB3ZSB3aWxsIG91dHB1dCwgZWl0aGVyIHtDT0RFfSBvciB7Q09ERS0xfS5cbiAgICB2YXIgY2hhc2VfbGVuZ3RoID0gMDtcbiAgICB2YXIgY2hhc2UgPSBjaGFzZV9jb2RlO1xuICAgIHdoaWxlIChjaGFzZSA+IGNsZWFyX2NvZGUpIHtcbiAgICAgIGNoYXNlID0gY29kZV90YWJsZVtjaGFzZV0gPj4gODtcbiAgICAgICsrY2hhc2VfbGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBrID0gY2hhc2U7XG5cbiAgICB2YXIgb3BfZW5kID0gb3AgKyBjaGFzZV9sZW5ndGggKyAoY2hhc2VfY29kZSAhPT0gY29kZSA/IDEgOiAwKTtcbiAgICBpZiAob3BfZW5kID4gb3V0cHV0X2xlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coXCJXYXJuaW5nLCBnaWYgc3RyZWFtIGxvbmdlciB0aGFuIGV4cGVjdGVkLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBbHJlYWR5IGhhdmUgdGhlIGZpcnN0IGJ5dGUgZnJvbSB0aGUgY2hhc2UsIG1pZ2h0IGFzIHdlbGwgd3JpdGUgaXQgZmFzdC5cbiAgICBvdXRwdXRbb3ArK10gPSBrO1xuXG4gICAgb3AgKz0gY2hhc2VfbGVuZ3RoO1xuICAgIHZhciBiID0gb3A7IC8vIFRyYWNrIHBvaW50ZXIsIHdyaXRpbmcgYmFja3dhcmRzLlxuXG4gICAgaWYgKGNoYXNlX2NvZGUgIT09IGNvZGUpXG4gICAgICAvLyBUaGUgY2FzZSBvZiBlbWl0dGluZyB7Q09ERS0xfSArIGsuXG4gICAgICBvdXRwdXRbb3ArK10gPSBrO1xuXG4gICAgY2hhc2UgPSBjaGFzZV9jb2RlO1xuICAgIHdoaWxlIChjaGFzZV9sZW5ndGgtLSkge1xuICAgICAgY2hhc2UgPSBjb2RlX3RhYmxlW2NoYXNlXTtcbiAgICAgIG91dHB1dFstLWJdID0gY2hhc2UgJiAweGZmOyAvLyBXcml0ZSBiYWNrd2FyZHMuXG4gICAgICBjaGFzZSA+Pj0gODsgLy8gUHVsbCBkb3duIHRvIHRoZSBwcmVmaXggY29kZS5cbiAgICB9XG5cbiAgICBpZiAocHJldl9jb2RlICE9PSBudWxsICYmIG5leHRfY29kZSA8IDQwOTYpIHtcbiAgICAgIGNvZGVfdGFibGVbbmV4dF9jb2RlKytdID0gKHByZXZfY29kZSA8PCA4KSB8IGs7XG4gICAgICAvLyBUT0RPKGRlYW5tKTogRmlndXJlIG91dCB0aGlzIGNsZWFyaW5nIHZzIGNvZGUgZ3Jvd3RoIGxvZ2ljIGJldHRlci4gIElcbiAgICAgIC8vIGhhdmUgYW4gZmVlbGluZyB0aGF0IGl0IHNob3VsZCBqdXN0IGhhcHBlbiBzb21ld2hlcmUgZWxzZSwgZm9yIG5vdyBpdFxuICAgICAgLy8gaXMgYXdrd2FyZCBiZXR3ZWVuIHdoZW4gd2UgZ3JvdyBwYXN0IHRoZSBtYXggYW5kIHRoZW4gaGl0IGEgY2xlYXIgY29kZS5cbiAgICAgIC8vIEZvciBub3cganVzdCBjaGVjayBpZiB3ZSBoaXQgdGhlIG1heCAxMi1iaXRzICh0aGVuIGEgY2xlYXIgY29kZSBzaG91bGRcbiAgICAgIC8vIGZvbGxvdywgYWxzbyBvZiBjb3Vyc2UgZW5jb2RlZCBpbiAxMi1iaXRzKS5cbiAgICAgIGlmIChuZXh0X2NvZGUgPj0gY29kZV9tYXNrICsgMSAmJiBjdXJfY29kZV9zaXplIDwgMTIpIHtcbiAgICAgICAgKytjdXJfY29kZV9zaXplO1xuICAgICAgICBjb2RlX21hc2sgPSAoY29kZV9tYXNrIDw8IDEpIHwgMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmV2X2NvZGUgPSBjb2RlO1xuICB9XG5cbiAgaWYgKG9wICE9PSBvdXRwdXRfbGVuZ3RoKSB7XG4gICAgY29uc29sZS5sb2coXCJXYXJuaW5nLCBnaWYgc3RyZWFtIHNob3J0ZXIgdGhhbiBleHBlY3RlZC5cIik7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5leHBvcnQgeyBHaWZSZWFkZXIsIEdpZldyaXRlciB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICBDb3B5cmlnaHQgKGMpIDIwMDgsIEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkXG4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cbiAgUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IFxuICBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gIG1ldDpcblxuICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgXG4gICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgXG4gICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIFxuICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gIFxuICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQgbm9yIHRoZSBuYW1lcyBvZiBpdHMgXG4gICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gXG4gICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cblxuICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVNcbiAgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTyxcbiAgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUlxuICBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIFxuICBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCxcbiAgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4qL1xuLypcbkpQRUcgZW5jb2RlciBwb3J0ZWQgdG8gSmF2YVNjcmlwdCBhbmQgb3B0aW1pemVkIGJ5IEFuZHJlYXMgUml0dGVyLCB3d3cuYnl0ZXN0cm9tLmV1LCAxMS8yMDA5XG5cbkJhc2ljIEdVSSBibG9ja2luZyBqcGVnIGVuY29kZXJcbiovXG5cbmZ1bmN0aW9uIEpQRUdFbmNvZGVyKHF1YWxpdHkpIHtcbiAgdmFyIGZmbG9vciA9IE1hdGguZmxvb3I7XG4gIHZhciBZVGFibGUgPSBuZXcgQXJyYXkoNjQpO1xuICB2YXIgVVZUYWJsZSA9IG5ldyBBcnJheSg2NCk7XG4gIHZhciBmZHRibF9ZID0gbmV3IEFycmF5KDY0KTtcbiAgdmFyIGZkdGJsX1VWID0gbmV3IEFycmF5KDY0KTtcbiAgdmFyIFlEQ19IVDtcbiAgdmFyIFVWRENfSFQ7XG4gIHZhciBZQUNfSFQ7XG4gIHZhciBVVkFDX0hUO1xuXG4gIHZhciBiaXRjb2RlID0gbmV3IEFycmF5KDY1NTM1KTtcbiAgdmFyIGNhdGVnb3J5ID0gbmV3IEFycmF5KDY1NTM1KTtcbiAgdmFyIG91dHB1dGZEQ1RRdWFudCA9IG5ldyBBcnJheSg2NCk7XG4gIHZhciBEVSA9IG5ldyBBcnJheSg2NCk7XG4gIHZhciBieXRlb3V0ID0gW107XG4gIHZhciBieXRlbmV3ID0gMDtcbiAgdmFyIGJ5dGVwb3MgPSA3O1xuXG4gIHZhciBZRFUgPSBuZXcgQXJyYXkoNjQpO1xuICB2YXIgVURVID0gbmV3IEFycmF5KDY0KTtcbiAgdmFyIFZEVSA9IG5ldyBBcnJheSg2NCk7XG4gIHZhciBjbHQgPSBuZXcgQXJyYXkoMjU2KTtcbiAgdmFyIFJHQl9ZVVZfVEFCTEUgPSBuZXcgQXJyYXkoMjA0OCk7XG4gIHZhciBjdXJyZW50UXVhbGl0eTtcblxuICB2YXIgWmlnWmFnID0gW1xuICAgIDAsXG4gICAgMSxcbiAgICA1LFxuICAgIDYsXG4gICAgMTQsXG4gICAgMTUsXG4gICAgMjcsXG4gICAgMjgsXG4gICAgMixcbiAgICA0LFxuICAgIDcsXG4gICAgMTMsXG4gICAgMTYsXG4gICAgMjYsXG4gICAgMjksXG4gICAgNDIsXG4gICAgMyxcbiAgICA4LFxuICAgIDEyLFxuICAgIDE3LFxuICAgIDI1LFxuICAgIDMwLFxuICAgIDQxLFxuICAgIDQzLFxuICAgIDksXG4gICAgMTEsXG4gICAgMTgsXG4gICAgMjQsXG4gICAgMzEsXG4gICAgNDAsXG4gICAgNDQsXG4gICAgNTMsXG4gICAgMTAsXG4gICAgMTksXG4gICAgMjMsXG4gICAgMzIsXG4gICAgMzksXG4gICAgNDUsXG4gICAgNTIsXG4gICAgNTQsXG4gICAgMjAsXG4gICAgMjIsXG4gICAgMzMsXG4gICAgMzgsXG4gICAgNDYsXG4gICAgNTEsXG4gICAgNTUsXG4gICAgNjAsXG4gICAgMjEsXG4gICAgMzQsXG4gICAgMzcsXG4gICAgNDcsXG4gICAgNTAsXG4gICAgNTYsXG4gICAgNTksXG4gICAgNjEsXG4gICAgMzUsXG4gICAgMzYsXG4gICAgNDgsXG4gICAgNDksXG4gICAgNTcsXG4gICAgNTgsXG4gICAgNjIsXG4gICAgNjNcbiAgXTtcblxuICB2YXIgc3RkX2RjX2x1bWluYW5jZV9ucmNvZGVzID0gW1xuICAgIDAsXG4gICAgMCxcbiAgICAxLFxuICAgIDUsXG4gICAgMSxcbiAgICAxLFxuICAgIDEsXG4gICAgMSxcbiAgICAxLFxuICAgIDEsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMFxuICBdO1xuICB2YXIgc3RkX2RjX2x1bWluYW5jZV92YWx1ZXMgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExXTtcbiAgdmFyIHN0ZF9hY19sdW1pbmFuY2VfbnJjb2RlcyA9IFtcbiAgICAwLFxuICAgIDAsXG4gICAgMixcbiAgICAxLFxuICAgIDMsXG4gICAgMyxcbiAgICAyLFxuICAgIDQsXG4gICAgMyxcbiAgICA1LFxuICAgIDUsXG4gICAgNCxcbiAgICA0LFxuICAgIDAsXG4gICAgMCxcbiAgICAxLFxuICAgIDB4N2RcbiAgXTtcbiAgdmFyIHN0ZF9hY19sdW1pbmFuY2VfdmFsdWVzID0gW1xuICAgIDB4MDEsXG4gICAgMHgwMixcbiAgICAweDAzLFxuICAgIDB4MDAsXG4gICAgMHgwNCxcbiAgICAweDExLFxuICAgIDB4MDUsXG4gICAgMHgxMixcbiAgICAweDIxLFxuICAgIDB4MzEsXG4gICAgMHg0MSxcbiAgICAweDA2LFxuICAgIDB4MTMsXG4gICAgMHg1MSxcbiAgICAweDYxLFxuICAgIDB4MDcsXG4gICAgMHgyMixcbiAgICAweDcxLFxuICAgIDB4MTQsXG4gICAgMHgzMixcbiAgICAweDgxLFxuICAgIDB4OTEsXG4gICAgMHhhMSxcbiAgICAweDA4LFxuICAgIDB4MjMsXG4gICAgMHg0MixcbiAgICAweGIxLFxuICAgIDB4YzEsXG4gICAgMHgxNSxcbiAgICAweDUyLFxuICAgIDB4ZDEsXG4gICAgMHhmMCxcbiAgICAweDI0LFxuICAgIDB4MzMsXG4gICAgMHg2MixcbiAgICAweDcyLFxuICAgIDB4ODIsXG4gICAgMHgwOSxcbiAgICAweDBhLFxuICAgIDB4MTYsXG4gICAgMHgxNyxcbiAgICAweDE4LFxuICAgIDB4MTksXG4gICAgMHgxYSxcbiAgICAweDI1LFxuICAgIDB4MjYsXG4gICAgMHgyNyxcbiAgICAweDI4LFxuICAgIDB4MjksXG4gICAgMHgyYSxcbiAgICAweDM0LFxuICAgIDB4MzUsXG4gICAgMHgzNixcbiAgICAweDM3LFxuICAgIDB4MzgsXG4gICAgMHgzOSxcbiAgICAweDNhLFxuICAgIDB4NDMsXG4gICAgMHg0NCxcbiAgICAweDQ1LFxuICAgIDB4NDYsXG4gICAgMHg0NyxcbiAgICAweDQ4LFxuICAgIDB4NDksXG4gICAgMHg0YSxcbiAgICAweDUzLFxuICAgIDB4NTQsXG4gICAgMHg1NSxcbiAgICAweDU2LFxuICAgIDB4NTcsXG4gICAgMHg1OCxcbiAgICAweDU5LFxuICAgIDB4NWEsXG4gICAgMHg2MyxcbiAgICAweDY0LFxuICAgIDB4NjUsXG4gICAgMHg2NixcbiAgICAweDY3LFxuICAgIDB4NjgsXG4gICAgMHg2OSxcbiAgICAweDZhLFxuICAgIDB4NzMsXG4gICAgMHg3NCxcbiAgICAweDc1LFxuICAgIDB4NzYsXG4gICAgMHg3NyxcbiAgICAweDc4LFxuICAgIDB4NzksXG4gICAgMHg3YSxcbiAgICAweDgzLFxuICAgIDB4ODQsXG4gICAgMHg4NSxcbiAgICAweDg2LFxuICAgIDB4ODcsXG4gICAgMHg4OCxcbiAgICAweDg5LFxuICAgIDB4OGEsXG4gICAgMHg5MixcbiAgICAweDkzLFxuICAgIDB4OTQsXG4gICAgMHg5NSxcbiAgICAweDk2LFxuICAgIDB4OTcsXG4gICAgMHg5OCxcbiAgICAweDk5LFxuICAgIDB4OWEsXG4gICAgMHhhMixcbiAgICAweGEzLFxuICAgIDB4YTQsXG4gICAgMHhhNSxcbiAgICAweGE2LFxuICAgIDB4YTcsXG4gICAgMHhhOCxcbiAgICAweGE5LFxuICAgIDB4YWEsXG4gICAgMHhiMixcbiAgICAweGIzLFxuICAgIDB4YjQsXG4gICAgMHhiNSxcbiAgICAweGI2LFxuICAgIDB4YjcsXG4gICAgMHhiOCxcbiAgICAweGI5LFxuICAgIDB4YmEsXG4gICAgMHhjMixcbiAgICAweGMzLFxuICAgIDB4YzQsXG4gICAgMHhjNSxcbiAgICAweGM2LFxuICAgIDB4YzcsXG4gICAgMHhjOCxcbiAgICAweGM5LFxuICAgIDB4Y2EsXG4gICAgMHhkMixcbiAgICAweGQzLFxuICAgIDB4ZDQsXG4gICAgMHhkNSxcbiAgICAweGQ2LFxuICAgIDB4ZDcsXG4gICAgMHhkOCxcbiAgICAweGQ5LFxuICAgIDB4ZGEsXG4gICAgMHhlMSxcbiAgICAweGUyLFxuICAgIDB4ZTMsXG4gICAgMHhlNCxcbiAgICAweGU1LFxuICAgIDB4ZTYsXG4gICAgMHhlNyxcbiAgICAweGU4LFxuICAgIDB4ZTksXG4gICAgMHhlYSxcbiAgICAweGYxLFxuICAgIDB4ZjIsXG4gICAgMHhmMyxcbiAgICAweGY0LFxuICAgIDB4ZjUsXG4gICAgMHhmNixcbiAgICAweGY3LFxuICAgIDB4ZjgsXG4gICAgMHhmOSxcbiAgICAweGZhXG4gIF07XG5cbiAgdmFyIHN0ZF9kY19jaHJvbWluYW5jZV9ucmNvZGVzID0gW1xuICAgIDAsXG4gICAgMCxcbiAgICAzLFxuICAgIDEsXG4gICAgMSxcbiAgICAxLFxuICAgIDEsXG4gICAgMSxcbiAgICAxLFxuICAgIDEsXG4gICAgMSxcbiAgICAxLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMFxuICBdO1xuICB2YXIgc3RkX2RjX2Nocm9taW5hbmNlX3ZhbHVlcyA9IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTFdO1xuICB2YXIgc3RkX2FjX2Nocm9taW5hbmNlX25yY29kZXMgPSBbXG4gICAgMCxcbiAgICAwLFxuICAgIDIsXG4gICAgMSxcbiAgICAyLFxuICAgIDQsXG4gICAgNCxcbiAgICAzLFxuICAgIDQsXG4gICAgNyxcbiAgICA1LFxuICAgIDQsXG4gICAgNCxcbiAgICAwLFxuICAgIDEsXG4gICAgMixcbiAgICAweDc3XG4gIF07XG4gIHZhciBzdGRfYWNfY2hyb21pbmFuY2VfdmFsdWVzID0gW1xuICAgIDB4MDAsXG4gICAgMHgwMSxcbiAgICAweDAyLFxuICAgIDB4MDMsXG4gICAgMHgxMSxcbiAgICAweDA0LFxuICAgIDB4MDUsXG4gICAgMHgyMSxcbiAgICAweDMxLFxuICAgIDB4MDYsXG4gICAgMHgxMixcbiAgICAweDQxLFxuICAgIDB4NTEsXG4gICAgMHgwNyxcbiAgICAweDYxLFxuICAgIDB4NzEsXG4gICAgMHgxMyxcbiAgICAweDIyLFxuICAgIDB4MzIsXG4gICAgMHg4MSxcbiAgICAweDA4LFxuICAgIDB4MTQsXG4gICAgMHg0MixcbiAgICAweDkxLFxuICAgIDB4YTEsXG4gICAgMHhiMSxcbiAgICAweGMxLFxuICAgIDB4MDksXG4gICAgMHgyMyxcbiAgICAweDMzLFxuICAgIDB4NTIsXG4gICAgMHhmMCxcbiAgICAweDE1LFxuICAgIDB4NjIsXG4gICAgMHg3MixcbiAgICAweGQxLFxuICAgIDB4MGEsXG4gICAgMHgxNixcbiAgICAweDI0LFxuICAgIDB4MzQsXG4gICAgMHhlMSxcbiAgICAweDI1LFxuICAgIDB4ZjEsXG4gICAgMHgxNyxcbiAgICAweDE4LFxuICAgIDB4MTksXG4gICAgMHgxYSxcbiAgICAweDI2LFxuICAgIDB4MjcsXG4gICAgMHgyOCxcbiAgICAweDI5LFxuICAgIDB4MmEsXG4gICAgMHgzNSxcbiAgICAweDM2LFxuICAgIDB4MzcsXG4gICAgMHgzOCxcbiAgICAweDM5LFxuICAgIDB4M2EsXG4gICAgMHg0MyxcbiAgICAweDQ0LFxuICAgIDB4NDUsXG4gICAgMHg0NixcbiAgICAweDQ3LFxuICAgIDB4NDgsXG4gICAgMHg0OSxcbiAgICAweDRhLFxuICAgIDB4NTMsXG4gICAgMHg1NCxcbiAgICAweDU1LFxuICAgIDB4NTYsXG4gICAgMHg1NyxcbiAgICAweDU4LFxuICAgIDB4NTksXG4gICAgMHg1YSxcbiAgICAweDYzLFxuICAgIDB4NjQsXG4gICAgMHg2NSxcbiAgICAweDY2LFxuICAgIDB4NjcsXG4gICAgMHg2OCxcbiAgICAweDY5LFxuICAgIDB4NmEsXG4gICAgMHg3MyxcbiAgICAweDc0LFxuICAgIDB4NzUsXG4gICAgMHg3NixcbiAgICAweDc3LFxuICAgIDB4NzgsXG4gICAgMHg3OSxcbiAgICAweDdhLFxuICAgIDB4ODIsXG4gICAgMHg4MyxcbiAgICAweDg0LFxuICAgIDB4ODUsXG4gICAgMHg4NixcbiAgICAweDg3LFxuICAgIDB4ODgsXG4gICAgMHg4OSxcbiAgICAweDhhLFxuICAgIDB4OTIsXG4gICAgMHg5MyxcbiAgICAweDk0LFxuICAgIDB4OTUsXG4gICAgMHg5NixcbiAgICAweDk3LFxuICAgIDB4OTgsXG4gICAgMHg5OSxcbiAgICAweDlhLFxuICAgIDB4YTIsXG4gICAgMHhhMyxcbiAgICAweGE0LFxuICAgIDB4YTUsXG4gICAgMHhhNixcbiAgICAweGE3LFxuICAgIDB4YTgsXG4gICAgMHhhOSxcbiAgICAweGFhLFxuICAgIDB4YjIsXG4gICAgMHhiMyxcbiAgICAweGI0LFxuICAgIDB4YjUsXG4gICAgMHhiNixcbiAgICAweGI3LFxuICAgIDB4YjgsXG4gICAgMHhiOSxcbiAgICAweGJhLFxuICAgIDB4YzIsXG4gICAgMHhjMyxcbiAgICAweGM0LFxuICAgIDB4YzUsXG4gICAgMHhjNixcbiAgICAweGM3LFxuICAgIDB4YzgsXG4gICAgMHhjOSxcbiAgICAweGNhLFxuICAgIDB4ZDIsXG4gICAgMHhkMyxcbiAgICAweGQ0LFxuICAgIDB4ZDUsXG4gICAgMHhkNixcbiAgICAweGQ3LFxuICAgIDB4ZDgsXG4gICAgMHhkOSxcbiAgICAweGRhLFxuICAgIDB4ZTIsXG4gICAgMHhlMyxcbiAgICAweGU0LFxuICAgIDB4ZTUsXG4gICAgMHhlNixcbiAgICAweGU3LFxuICAgIDB4ZTgsXG4gICAgMHhlOSxcbiAgICAweGVhLFxuICAgIDB4ZjIsXG4gICAgMHhmMyxcbiAgICAweGY0LFxuICAgIDB4ZjUsXG4gICAgMHhmNixcbiAgICAweGY3LFxuICAgIDB4ZjgsXG4gICAgMHhmOSxcbiAgICAweGZhXG4gIF07XG5cbiAgZnVuY3Rpb24gaW5pdFF1YW50VGFibGVzKHNmKSB7XG4gICAgdmFyIFlRVCA9IFtcbiAgICAgIDE2LFxuICAgICAgMTEsXG4gICAgICAxMCxcbiAgICAgIDE2LFxuICAgICAgMjQsXG4gICAgICA0MCxcbiAgICAgIDUxLFxuICAgICAgNjEsXG4gICAgICAxMixcbiAgICAgIDEyLFxuICAgICAgMTQsXG4gICAgICAxOSxcbiAgICAgIDI2LFxuICAgICAgNTgsXG4gICAgICA2MCxcbiAgICAgIDU1LFxuICAgICAgMTQsXG4gICAgICAxMyxcbiAgICAgIDE2LFxuICAgICAgMjQsXG4gICAgICA0MCxcbiAgICAgIDU3LFxuICAgICAgNjksXG4gICAgICA1NixcbiAgICAgIDE0LFxuICAgICAgMTcsXG4gICAgICAyMixcbiAgICAgIDI5LFxuICAgICAgNTEsXG4gICAgICA4NyxcbiAgICAgIDgwLFxuICAgICAgNjIsXG4gICAgICAxOCxcbiAgICAgIDIyLFxuICAgICAgMzcsXG4gICAgICA1NixcbiAgICAgIDY4LFxuICAgICAgMTA5LFxuICAgICAgMTAzLFxuICAgICAgNzcsXG4gICAgICAyNCxcbiAgICAgIDM1LFxuICAgICAgNTUsXG4gICAgICA2NCxcbiAgICAgIDgxLFxuICAgICAgMTA0LFxuICAgICAgMTEzLFxuICAgICAgOTIsXG4gICAgICA0OSxcbiAgICAgIDY0LFxuICAgICAgNzgsXG4gICAgICA4NyxcbiAgICAgIDEwMyxcbiAgICAgIDEyMSxcbiAgICAgIDEyMCxcbiAgICAgIDEwMSxcbiAgICAgIDcyLFxuICAgICAgOTIsXG4gICAgICA5NSxcbiAgICAgIDk4LFxuICAgICAgMTEyLFxuICAgICAgMTAwLFxuICAgICAgMTAzLFxuICAgICAgOTlcbiAgICBdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgICB2YXIgdCA9IGZmbG9vcigoWVFUW2ldICogc2YgKyA1MCkgLyAxMDApO1xuICAgICAgdCA9IE1hdGgubWluKE1hdGgubWF4KHQsIDEpLCAyNTUpO1xuICAgICAgWVRhYmxlW1ppZ1phZ1tpXV0gPSB0O1xuICAgIH1cbiAgICB2YXIgVVZRVCA9IFtcbiAgICAgIDE3LFxuICAgICAgMTgsXG4gICAgICAyNCxcbiAgICAgIDQ3LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICAxOCxcbiAgICAgIDIxLFxuICAgICAgMjYsXG4gICAgICA2NixcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgMjQsXG4gICAgICAyNixcbiAgICAgIDU2LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDQ3LFxuICAgICAgNjYsXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5LFxuICAgICAgOTksXG4gICAgICA5OSxcbiAgICAgIDk5XG4gICAgXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgIHZhciB1ID0gZmZsb29yKChVVlFUW2pdICogc2YgKyA1MCkgLyAxMDApO1xuICAgICAgdSA9IE1hdGgubWluKE1hdGgubWF4KHUsIDEpLCAyNTUpO1xuICAgICAgVVZUYWJsZVtaaWdaYWdbal1dID0gdTtcbiAgICB9XG4gICAgdmFyIGFhc2YgPSBbXG4gICAgICAxLjAsXG4gICAgICAxLjM4NzAzOTg0NSxcbiAgICAgIDEuMzA2NTYyOTY1LFxuICAgICAgMS4xNzU4NzU2MDIsXG4gICAgICAxLjAsXG4gICAgICAwLjc4NTY5NDk1OCxcbiAgICAgIDAuNTQxMTk2MSxcbiAgICAgIDAuMjc1ODk5Mzc5XG4gICAgXTtcbiAgICB2YXIgayA9IDA7XG4gICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgODsgcm93KyspIHtcbiAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IDg7IGNvbCsrKSB7XG4gICAgICAgIGZkdGJsX1lba10gPSAxLjAgLyAoWVRhYmxlW1ppZ1phZ1trXV0gKiBhYXNmW3Jvd10gKiBhYXNmW2NvbF0gKiA4LjApO1xuICAgICAgICBmZHRibF9VVltrXSA9IDEuMCAvIChVVlRhYmxlW1ppZ1phZ1trXV0gKiBhYXNmW3Jvd10gKiBhYXNmW2NvbF0gKiA4LjApO1xuICAgICAgICBrKys7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZUh1ZmZtYW5UYmwobnJjb2Rlcywgc3RkX3RhYmxlKSB7XG4gICAgdmFyIGNvZGV2YWx1ZSA9IDA7XG4gICAgdmFyIHBvc19pbl90YWJsZSA9IDA7XG4gICAgdmFyIEhUID0gbmV3IEFycmF5KCk7XG4gICAgZm9yICh2YXIgayA9IDE7IGsgPD0gMTY7IGsrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gbnJjb2Rlc1trXTsgaisrKSB7XG4gICAgICAgIEhUW3N0ZF90YWJsZVtwb3NfaW5fdGFibGVdXSA9IFtdO1xuICAgICAgICBIVFtzdGRfdGFibGVbcG9zX2luX3RhYmxlXV1bMF0gPSBjb2RldmFsdWU7XG4gICAgICAgIEhUW3N0ZF90YWJsZVtwb3NfaW5fdGFibGVdXVsxXSA9IGs7XG4gICAgICAgIHBvc19pbl90YWJsZSsrO1xuICAgICAgICBjb2RldmFsdWUrKztcbiAgICAgIH1cbiAgICAgIGNvZGV2YWx1ZSAqPSAyO1xuICAgIH1cbiAgICByZXR1cm4gSFQ7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0SHVmZm1hblRibCgpIHtcbiAgICBZRENfSFQgPSBjb21wdXRlSHVmZm1hblRibChcbiAgICAgIHN0ZF9kY19sdW1pbmFuY2VfbnJjb2RlcyxcbiAgICAgIHN0ZF9kY19sdW1pbmFuY2VfdmFsdWVzXG4gICAgKTtcbiAgICBVVkRDX0hUID0gY29tcHV0ZUh1ZmZtYW5UYmwoXG4gICAgICBzdGRfZGNfY2hyb21pbmFuY2VfbnJjb2RlcyxcbiAgICAgIHN0ZF9kY19jaHJvbWluYW5jZV92YWx1ZXNcbiAgICApO1xuICAgIFlBQ19IVCA9IGNvbXB1dGVIdWZmbWFuVGJsKFxuICAgICAgc3RkX2FjX2x1bWluYW5jZV9ucmNvZGVzLFxuICAgICAgc3RkX2FjX2x1bWluYW5jZV92YWx1ZXNcbiAgICApO1xuICAgIFVWQUNfSFQgPSBjb21wdXRlSHVmZm1hblRibChcbiAgICAgIHN0ZF9hY19jaHJvbWluYW5jZV9ucmNvZGVzLFxuICAgICAgc3RkX2FjX2Nocm9taW5hbmNlX3ZhbHVlc1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q2F0ZWdvcnlOdW1iZXIoKSB7XG4gICAgdmFyIG5ybG93ZXIgPSAxO1xuICAgIHZhciBucnVwcGVyID0gMjtcbiAgICBmb3IgKHZhciBjYXQgPSAxOyBjYXQgPD0gMTU7IGNhdCsrKSB7XG4gICAgICAvL1Bvc2l0aXZlIG51bWJlcnNcbiAgICAgIGZvciAodmFyIG5yID0gbnJsb3dlcjsgbnIgPCBucnVwcGVyOyBucisrKSB7XG4gICAgICAgIGNhdGVnb3J5WzMyNzY3ICsgbnJdID0gY2F0O1xuICAgICAgICBiaXRjb2RlWzMyNzY3ICsgbnJdID0gW107XG4gICAgICAgIGJpdGNvZGVbMzI3NjcgKyBucl1bMV0gPSBjYXQ7XG4gICAgICAgIGJpdGNvZGVbMzI3NjcgKyBucl1bMF0gPSBucjtcbiAgICAgIH1cbiAgICAgIC8vTmVnYXRpdmUgbnVtYmVyc1xuICAgICAgZm9yICh2YXIgbnJuZWcgPSAtKG5ydXBwZXIgLSAxKTsgbnJuZWcgPD0gLW5ybG93ZXI7IG5ybmVnKyspIHtcbiAgICAgICAgY2F0ZWdvcnlbMzI3NjcgKyBucm5lZ10gPSBjYXQ7XG4gICAgICAgIGJpdGNvZGVbMzI3NjcgKyBucm5lZ10gPSBbXTtcbiAgICAgICAgYml0Y29kZVszMjc2NyArIG5ybmVnXVsxXSA9IGNhdDtcbiAgICAgICAgYml0Y29kZVszMjc2NyArIG5ybmVnXVswXSA9IG5ydXBwZXIgLSAxICsgbnJuZWc7XG4gICAgICB9XG4gICAgICBucmxvd2VyIDw8PSAxO1xuICAgICAgbnJ1cHBlciA8PD0gMTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0UkdCWVVWVGFibGUoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgUkdCX1lVVl9UQUJMRVtpXSA9IDE5NTk1ICogaTtcbiAgICAgIFJHQl9ZVVZfVEFCTEVbKGkgKyAyNTYpID4+IDBdID0gMzg0NzAgKiBpO1xuICAgICAgUkdCX1lVVl9UQUJMRVsoaSArIDUxMikgPj4gMF0gPSA3NDcxICogaSArIDB4ODAwMDtcbiAgICAgIFJHQl9ZVVZfVEFCTEVbKGkgKyA3NjgpID4+IDBdID0gLTExMDU5ICogaTtcbiAgICAgIFJHQl9ZVVZfVEFCTEVbKGkgKyAxMDI0KSA+PiAwXSA9IC0yMTcwOSAqIGk7XG4gICAgICBSR0JfWVVWX1RBQkxFWyhpICsgMTI4MCkgPj4gMF0gPSAzMjc2OCAqIGkgKyAweDgwN2ZmZjtcbiAgICAgIFJHQl9ZVVZfVEFCTEVbKGkgKyAxNTM2KSA+PiAwXSA9IC0yNzQzOSAqIGk7XG4gICAgICBSR0JfWVVWX1RBQkxFWyhpICsgMTc5MikgPj4gMF0gPSAtNTMyOSAqIGk7XG4gICAgfVxuICB9XG5cbiAgLy8gSU8gZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIHdyaXRlQml0cyhicykge1xuICAgIHZhciB2YWx1ZSA9IGJzWzBdO1xuICAgIHZhciBwb3N2YWwgPSBic1sxXSAtIDE7XG4gICAgd2hpbGUgKHBvc3ZhbCA+PSAwKSB7XG4gICAgICBpZiAodmFsdWUgJiAoMSA8PCBwb3N2YWwpKSB7XG4gICAgICAgIGJ5dGVuZXcgfD0gMSA8PCBieXRlcG9zO1xuICAgICAgfVxuICAgICAgcG9zdmFsLS07XG4gICAgICBieXRlcG9zLS07XG4gICAgICBpZiAoYnl0ZXBvcyA8IDApIHtcbiAgICAgICAgaWYgKGJ5dGVuZXcgPT0gMHhmZikge1xuICAgICAgICAgIHdyaXRlQnl0ZSgweGZmKTtcbiAgICAgICAgICB3cml0ZUJ5dGUoMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3JpdGVCeXRlKGJ5dGVuZXcpO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVwb3MgPSA3O1xuICAgICAgICBieXRlbmV3ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZUJ5dGUodmFsdWUpIHtcbiAgICAvL2J5dGVvdXQucHVzaChjbHRbdmFsdWVdKTsgLy8gd3JpdGUgY2hhciBkaXJlY3RseSBpbnN0ZWFkIG9mIGNvbnZlcnRpbmcgbGF0ZXJcbiAgICBieXRlb3V0LnB1c2godmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVXb3JkKHZhbHVlKSB7XG4gICAgd3JpdGVCeXRlKCh2YWx1ZSA+PiA4KSAmIDB4ZmYpO1xuICAgIHdyaXRlQnl0ZSh2YWx1ZSAmIDB4ZmYpO1xuICB9XG5cbiAgLy8gRENUICYgcXVhbnRpemF0aW9uIGNvcmVcbiAgZnVuY3Rpb24gZkRDVFF1YW50KGRhdGEsIGZkdGJsKSB7XG4gICAgdmFyIGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2LCBkNztcbiAgICAvKiBQYXNzIDE6IHByb2Nlc3Mgcm93cy4gKi9cbiAgICB2YXIgZGF0YU9mZiA9IDA7XG4gICAgdmFyIGk7XG4gICAgdmFyIEk4ID0gODtcbiAgICB2YXIgSTY0ID0gNjQ7XG4gICAgZm9yIChpID0gMDsgaSA8IEk4OyArK2kpIHtcbiAgICAgIGQwID0gZGF0YVtkYXRhT2ZmXTtcbiAgICAgIGQxID0gZGF0YVtkYXRhT2ZmICsgMV07XG4gICAgICBkMiA9IGRhdGFbZGF0YU9mZiArIDJdO1xuICAgICAgZDMgPSBkYXRhW2RhdGFPZmYgKyAzXTtcbiAgICAgIGQ0ID0gZGF0YVtkYXRhT2ZmICsgNF07XG4gICAgICBkNSA9IGRhdGFbZGF0YU9mZiArIDVdO1xuICAgICAgZDYgPSBkYXRhW2RhdGFPZmYgKyA2XTtcbiAgICAgIGQ3ID0gZGF0YVtkYXRhT2ZmICsgN107XG5cbiAgICAgIHZhciB0bXAwID0gZDAgKyBkNztcbiAgICAgIHZhciB0bXA3ID0gZDAgLSBkNztcbiAgICAgIHZhciB0bXAxID0gZDEgKyBkNjtcbiAgICAgIHZhciB0bXA2ID0gZDEgLSBkNjtcbiAgICAgIHZhciB0bXAyID0gZDIgKyBkNTtcbiAgICAgIHZhciB0bXA1ID0gZDIgLSBkNTtcbiAgICAgIHZhciB0bXAzID0gZDMgKyBkNDtcbiAgICAgIHZhciB0bXA0ID0gZDMgLSBkNDtcblxuICAgICAgLyogRXZlbiBwYXJ0ICovXG4gICAgICB2YXIgdG1wMTAgPSB0bXAwICsgdG1wMzsgLyogcGhhc2UgMiAqL1xuICAgICAgdmFyIHRtcDEzID0gdG1wMCAtIHRtcDM7XG4gICAgICB2YXIgdG1wMTEgPSB0bXAxICsgdG1wMjtcbiAgICAgIHZhciB0bXAxMiA9IHRtcDEgLSB0bXAyO1xuXG4gICAgICBkYXRhW2RhdGFPZmZdID0gdG1wMTAgKyB0bXAxMTsgLyogcGhhc2UgMyAqL1xuICAgICAgZGF0YVtkYXRhT2ZmICsgNF0gPSB0bXAxMCAtIHRtcDExO1xuXG4gICAgICB2YXIgejEgPSAodG1wMTIgKyB0bXAxMykgKiAwLjcwNzEwNjc4MTsgLyogYzQgKi9cbiAgICAgIGRhdGFbZGF0YU9mZiArIDJdID0gdG1wMTMgKyB6MTsgLyogcGhhc2UgNSAqL1xuICAgICAgZGF0YVtkYXRhT2ZmICsgNl0gPSB0bXAxMyAtIHoxO1xuXG4gICAgICAvKiBPZGQgcGFydCAqL1xuICAgICAgdG1wMTAgPSB0bXA0ICsgdG1wNTsgLyogcGhhc2UgMiAqL1xuICAgICAgdG1wMTEgPSB0bXA1ICsgdG1wNjtcbiAgICAgIHRtcDEyID0gdG1wNiArIHRtcDc7XG5cbiAgICAgIC8qIFRoZSByb3RhdG9yIGlzIG1vZGlmaWVkIGZyb20gZmlnIDQtOCB0byBhdm9pZCBleHRyYSBuZWdhdGlvbnMuICovXG4gICAgICB2YXIgejUgPSAodG1wMTAgLSB0bXAxMikgKiAwLjM4MjY4MzQzMzsgLyogYzYgKi9cbiAgICAgIHZhciB6MiA9IDAuNTQxMTk2MSAqIHRtcDEwICsgejU7IC8qIGMyLWM2ICovXG4gICAgICB2YXIgejQgPSAxLjMwNjU2Mjk2NSAqIHRtcDEyICsgejU7IC8qIGMyK2M2ICovXG4gICAgICB2YXIgejMgPSB0bXAxMSAqIDAuNzA3MTA2NzgxOyAvKiBjNCAqL1xuXG4gICAgICB2YXIgejExID0gdG1wNyArIHozOyAvKiBwaGFzZSA1ICovXG4gICAgICB2YXIgejEzID0gdG1wNyAtIHozO1xuXG4gICAgICBkYXRhW2RhdGFPZmYgKyA1XSA9IHoxMyArIHoyOyAvKiBwaGFzZSA2ICovXG4gICAgICBkYXRhW2RhdGFPZmYgKyAzXSA9IHoxMyAtIHoyO1xuICAgICAgZGF0YVtkYXRhT2ZmICsgMV0gPSB6MTEgKyB6NDtcbiAgICAgIGRhdGFbZGF0YU9mZiArIDddID0gejExIC0gejQ7XG5cbiAgICAgIGRhdGFPZmYgKz0gODsgLyogYWR2YW5jZSBwb2ludGVyIHRvIG5leHQgcm93ICovXG4gICAgfVxuXG4gICAgLyogUGFzcyAyOiBwcm9jZXNzIGNvbHVtbnMuICovXG4gICAgZGF0YU9mZiA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IEk4OyArK2kpIHtcbiAgICAgIGQwID0gZGF0YVtkYXRhT2ZmXTtcbiAgICAgIGQxID0gZGF0YVtkYXRhT2ZmICsgOF07XG4gICAgICBkMiA9IGRhdGFbZGF0YU9mZiArIDE2XTtcbiAgICAgIGQzID0gZGF0YVtkYXRhT2ZmICsgMjRdO1xuICAgICAgZDQgPSBkYXRhW2RhdGFPZmYgKyAzMl07XG4gICAgICBkNSA9IGRhdGFbZGF0YU9mZiArIDQwXTtcbiAgICAgIGQ2ID0gZGF0YVtkYXRhT2ZmICsgNDhdO1xuICAgICAgZDcgPSBkYXRhW2RhdGFPZmYgKyA1Nl07XG5cbiAgICAgIHZhciB0bXAwcDIgPSBkMCArIGQ3O1xuICAgICAgdmFyIHRtcDdwMiA9IGQwIC0gZDc7XG4gICAgICB2YXIgdG1wMXAyID0gZDEgKyBkNjtcbiAgICAgIHZhciB0bXA2cDIgPSBkMSAtIGQ2O1xuICAgICAgdmFyIHRtcDJwMiA9IGQyICsgZDU7XG4gICAgICB2YXIgdG1wNXAyID0gZDIgLSBkNTtcbiAgICAgIHZhciB0bXAzcDIgPSBkMyArIGQ0O1xuICAgICAgdmFyIHRtcDRwMiA9IGQzIC0gZDQ7XG5cbiAgICAgIC8qIEV2ZW4gcGFydCAqL1xuICAgICAgdmFyIHRtcDEwcDIgPSB0bXAwcDIgKyB0bXAzcDI7IC8qIHBoYXNlIDIgKi9cbiAgICAgIHZhciB0bXAxM3AyID0gdG1wMHAyIC0gdG1wM3AyO1xuICAgICAgdmFyIHRtcDExcDIgPSB0bXAxcDIgKyB0bXAycDI7XG4gICAgICB2YXIgdG1wMTJwMiA9IHRtcDFwMiAtIHRtcDJwMjtcblxuICAgICAgZGF0YVtkYXRhT2ZmXSA9IHRtcDEwcDIgKyB0bXAxMXAyOyAvKiBwaGFzZSAzICovXG4gICAgICBkYXRhW2RhdGFPZmYgKyAzMl0gPSB0bXAxMHAyIC0gdG1wMTFwMjtcblxuICAgICAgdmFyIHoxcDIgPSAodG1wMTJwMiArIHRtcDEzcDIpICogMC43MDcxMDY3ODE7IC8qIGM0ICovXG4gICAgICBkYXRhW2RhdGFPZmYgKyAxNl0gPSB0bXAxM3AyICsgejFwMjsgLyogcGhhc2UgNSAqL1xuICAgICAgZGF0YVtkYXRhT2ZmICsgNDhdID0gdG1wMTNwMiAtIHoxcDI7XG5cbiAgICAgIC8qIE9kZCBwYXJ0ICovXG4gICAgICB0bXAxMHAyID0gdG1wNHAyICsgdG1wNXAyOyAvKiBwaGFzZSAyICovXG4gICAgICB0bXAxMXAyID0gdG1wNXAyICsgdG1wNnAyO1xuICAgICAgdG1wMTJwMiA9IHRtcDZwMiArIHRtcDdwMjtcblxuICAgICAgLyogVGhlIHJvdGF0b3IgaXMgbW9kaWZpZWQgZnJvbSBmaWcgNC04IHRvIGF2b2lkIGV4dHJhIG5lZ2F0aW9ucy4gKi9cbiAgICAgIHZhciB6NXAyID0gKHRtcDEwcDIgLSB0bXAxMnAyKSAqIDAuMzgyNjgzNDMzOyAvKiBjNiAqL1xuICAgICAgdmFyIHoycDIgPSAwLjU0MTE5NjEgKiB0bXAxMHAyICsgejVwMjsgLyogYzItYzYgKi9cbiAgICAgIHZhciB6NHAyID0gMS4zMDY1NjI5NjUgKiB0bXAxMnAyICsgejVwMjsgLyogYzIrYzYgKi9cbiAgICAgIHZhciB6M3AyID0gdG1wMTFwMiAqIDAuNzA3MTA2NzgxOyAvKiBjNCAqL1xuXG4gICAgICB2YXIgejExcDIgPSB0bXA3cDIgKyB6M3AyOyAvKiBwaGFzZSA1ICovXG4gICAgICB2YXIgejEzcDIgPSB0bXA3cDIgLSB6M3AyO1xuXG4gICAgICBkYXRhW2RhdGFPZmYgKyA0MF0gPSB6MTNwMiArIHoycDI7IC8qIHBoYXNlIDYgKi9cbiAgICAgIGRhdGFbZGF0YU9mZiArIDI0XSA9IHoxM3AyIC0gejJwMjtcbiAgICAgIGRhdGFbZGF0YU9mZiArIDhdID0gejExcDIgKyB6NHAyO1xuICAgICAgZGF0YVtkYXRhT2ZmICsgNTZdID0gejExcDIgLSB6NHAyO1xuXG4gICAgICBkYXRhT2ZmKys7IC8qIGFkdmFuY2UgcG9pbnRlciB0byBuZXh0IGNvbHVtbiAqL1xuICAgIH1cblxuICAgIC8vIFF1YW50aXplL2Rlc2NhbGUgdGhlIGNvZWZmaWNpZW50c1xuICAgIHZhciBmRENUUXVhbnQ7XG4gICAgZm9yIChpID0gMDsgaSA8IEk2NDsgKytpKSB7XG4gICAgICAvLyBBcHBseSB0aGUgcXVhbnRpemF0aW9uIGFuZCBzY2FsaW5nIGZhY3RvciAmIFJvdW5kIHRvIG5lYXJlc3QgaW50ZWdlclxuICAgICAgZkRDVFF1YW50ID0gZGF0YVtpXSAqIGZkdGJsW2ldO1xuICAgICAgb3V0cHV0ZkRDVFF1YW50W2ldID1cbiAgICAgICAgZkRDVFF1YW50ID4gMC4wID8gKGZEQ1RRdWFudCArIDAuNSkgfCAwIDogKGZEQ1RRdWFudCAtIDAuNSkgfCAwO1xuICAgICAgLy9vdXRwdXRmRENUUXVhbnRbaV0gPSBmcm91bmQoZkRDVFF1YW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dGZEQ1RRdWFudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlQVBQMCgpIHtcbiAgICB3cml0ZVdvcmQoMHhmZmUwKTsgLy8gbWFya2VyXG4gICAgd3JpdGVXb3JkKDE2KTsgLy8gbGVuZ3RoXG4gICAgd3JpdGVCeXRlKDB4NGEpOyAvLyBKXG4gICAgd3JpdGVCeXRlKDB4NDYpOyAvLyBGXG4gICAgd3JpdGVCeXRlKDB4NDkpOyAvLyBJXG4gICAgd3JpdGVCeXRlKDB4NDYpOyAvLyBGXG4gICAgd3JpdGVCeXRlKDApOyAvLyA9IFwiSkZJRlwiLCdcXDAnXG4gICAgd3JpdGVCeXRlKDEpOyAvLyB2ZXJzaW9uaGlcbiAgICB3cml0ZUJ5dGUoMSk7IC8vIHZlcnNpb25sb1xuICAgIHdyaXRlQnl0ZSgwKTsgLy8geHl1bml0c1xuICAgIHdyaXRlV29yZCgxKTsgLy8geGRlbnNpdHlcbiAgICB3cml0ZVdvcmQoMSk7IC8vIHlkZW5zaXR5XG4gICAgd3JpdGVCeXRlKDApOyAvLyB0aHVtYm53aWR0aFxuICAgIHdyaXRlQnl0ZSgwKTsgLy8gdGh1bWJuaGVpZ2h0XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZVNPRjAod2lkdGgsIGhlaWdodCkge1xuICAgIHdyaXRlV29yZCgweGZmYzApOyAvLyBtYXJrZXJcbiAgICB3cml0ZVdvcmQoMTcpOyAvLyBsZW5ndGgsIHRydWVjb2xvciBZVVYgSlBHXG4gICAgd3JpdGVCeXRlKDgpOyAvLyBwcmVjaXNpb25cbiAgICB3cml0ZVdvcmQoaGVpZ2h0KTtcbiAgICB3cml0ZVdvcmQod2lkdGgpO1xuICAgIHdyaXRlQnl0ZSgzKTsgLy8gbnJvZmNvbXBvbmVudHNcbiAgICB3cml0ZUJ5dGUoMSk7IC8vIElkWVxuICAgIHdyaXRlQnl0ZSgweDExKTsgLy8gSFZZXG4gICAgd3JpdGVCeXRlKDApOyAvLyBRVFlcbiAgICB3cml0ZUJ5dGUoMik7IC8vIElkVVxuICAgIHdyaXRlQnl0ZSgweDExKTsgLy8gSFZVXG4gICAgd3JpdGVCeXRlKDEpOyAvLyBRVFVcbiAgICB3cml0ZUJ5dGUoMyk7IC8vIElkVlxuICAgIHdyaXRlQnl0ZSgweDExKTsgLy8gSFZWXG4gICAgd3JpdGVCeXRlKDEpOyAvLyBRVFZcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRFFUKCkge1xuICAgIHdyaXRlV29yZCgweGZmZGIpOyAvLyBtYXJrZXJcbiAgICB3cml0ZVdvcmQoMTMyKTsgLy8gbGVuZ3RoXG4gICAgd3JpdGVCeXRlKDApO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgICAgd3JpdGVCeXRlKFlUYWJsZVtpXSk7XG4gICAgfVxuICAgIHdyaXRlQnl0ZSgxKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgIHdyaXRlQnl0ZShVVlRhYmxlW2pdKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURIVCgpIHtcbiAgICB3cml0ZVdvcmQoMHhmZmM0KTsgLy8gbWFya2VyXG4gICAgd3JpdGVXb3JkKDB4MDFhMik7IC8vIGxlbmd0aFxuXG4gICAgd3JpdGVCeXRlKDApOyAvLyBIVFlEQ2luZm9cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgIHdyaXRlQnl0ZShzdGRfZGNfbHVtaW5hbmNlX25yY29kZXNbaSArIDFdKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPD0gMTE7IGorKykge1xuICAgICAgd3JpdGVCeXRlKHN0ZF9kY19sdW1pbmFuY2VfdmFsdWVzW2pdKTtcbiAgICB9XG5cbiAgICB3cml0ZUJ5dGUoMHgxMCk7IC8vIEhUWUFDaW5mb1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMTY7IGsrKykge1xuICAgICAgd3JpdGVCeXRlKHN0ZF9hY19sdW1pbmFuY2VfbnJjb2Rlc1trICsgMV0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBsID0gMDsgbCA8PSAxNjE7IGwrKykge1xuICAgICAgd3JpdGVCeXRlKHN0ZF9hY19sdW1pbmFuY2VfdmFsdWVzW2xdKTtcbiAgICB9XG5cbiAgICB3cml0ZUJ5dGUoMSk7IC8vIEhUVURDaW5mb1xuICAgIGZvciAodmFyIG0gPSAwOyBtIDwgMTY7IG0rKykge1xuICAgICAgd3JpdGVCeXRlKHN0ZF9kY19jaHJvbWluYW5jZV9ucmNvZGVzW20gKyAxXSk7XG4gICAgfVxuICAgIGZvciAodmFyIG4gPSAwOyBuIDw9IDExOyBuKyspIHtcbiAgICAgIHdyaXRlQnl0ZShzdGRfZGNfY2hyb21pbmFuY2VfdmFsdWVzW25dKTtcbiAgICB9XG5cbiAgICB3cml0ZUJ5dGUoMHgxMSk7IC8vIEhUVUFDaW5mb1xuICAgIGZvciAodmFyIG8gPSAwOyBvIDwgMTY7IG8rKykge1xuICAgICAgd3JpdGVCeXRlKHN0ZF9hY19jaHJvbWluYW5jZV9ucmNvZGVzW28gKyAxXSk7XG4gICAgfVxuICAgIGZvciAodmFyIHAgPSAwOyBwIDw9IDE2MTsgcCsrKSB7XG4gICAgICB3cml0ZUJ5dGUoc3RkX2FjX2Nocm9taW5hbmNlX3ZhbHVlc1twXSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVTT1MoKSB7XG4gICAgd3JpdGVXb3JkKDB4ZmZkYSk7IC8vIG1hcmtlclxuICAgIHdyaXRlV29yZCgxMik7IC8vIGxlbmd0aFxuICAgIHdyaXRlQnl0ZSgzKTsgLy8gbnJvZmNvbXBvbmVudHNcbiAgICB3cml0ZUJ5dGUoMSk7IC8vIElkWVxuICAgIHdyaXRlQnl0ZSgwKTsgLy8gSFRZXG4gICAgd3JpdGVCeXRlKDIpOyAvLyBJZFVcbiAgICB3cml0ZUJ5dGUoMHgxMSk7IC8vIEhUVVxuICAgIHdyaXRlQnl0ZSgzKTsgLy8gSWRWXG4gICAgd3JpdGVCeXRlKDB4MTEpOyAvLyBIVFZcbiAgICB3cml0ZUJ5dGUoMCk7IC8vIFNzXG4gICAgd3JpdGVCeXRlKDB4M2YpOyAvLyBTZVxuICAgIHdyaXRlQnl0ZSgwKTsgLy8gQmZcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NEVShDRFUsIGZkdGJsLCBEQywgSFREQywgSFRBQykge1xuICAgIHZhciBFT0IgPSBIVEFDWzB4MDBdO1xuICAgIHZhciBNMTZ6ZXJvZXMgPSBIVEFDWzB4ZjBdO1xuICAgIHZhciBwb3M7XG4gICAgdmFyIEkxNiA9IDE2O1xuICAgIHZhciBJNjMgPSA2MztcbiAgICB2YXIgSTY0ID0gNjQ7XG4gICAgdmFyIERVX0RDVCA9IGZEQ1RRdWFudChDRFUsIGZkdGJsKTtcbiAgICAvL1ppZ1phZyByZW9yZGVyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBJNjQ7ICsraikge1xuICAgICAgRFVbWmlnWmFnW2pdXSA9IERVX0RDVFtqXTtcbiAgICB9XG4gICAgdmFyIERpZmYgPSBEVVswXSAtIERDO1xuICAgIERDID0gRFVbMF07XG4gICAgLy9FbmNvZGUgRENcbiAgICBpZiAoRGlmZiA9PSAwKSB7XG4gICAgICB3cml0ZUJpdHMoSFREQ1swXSk7IC8vIERpZmYgbWlnaHQgYmUgMFxuICAgIH0gZWxzZSB7XG4gICAgICBwb3MgPSAzMjc2NyArIERpZmY7XG4gICAgICB3cml0ZUJpdHMoSFREQ1tjYXRlZ29yeVtwb3NdXSk7XG4gICAgICB3cml0ZUJpdHMoYml0Y29kZVtwb3NdKTtcbiAgICB9XG4gICAgLy9FbmNvZGUgQUNzXG4gICAgdmFyIGVuZDBwb3MgPSA2MzsgLy8gd2FzIGNvbnN0Li4uIHdoaWNoIGlzIGNyYXp5XG4gICAgd2hpbGUgKGVuZDBwb3MgPiAwICYmIERVW2VuZDBwb3NdID09IDApIHtcbiAgICAgIGVuZDBwb3MtLTtcbiAgICB9XG4gICAgLy9lbmQwcG9zID0gZmlyc3QgZWxlbWVudCBpbiByZXZlcnNlIG9yZGVyICE9MFxuICAgIGlmIChlbmQwcG9zID09IDApIHtcbiAgICAgIHdyaXRlQml0cyhFT0IpO1xuICAgICAgcmV0dXJuIERDO1xuICAgIH1cbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIGxuZztcbiAgICB3aGlsZSAoaSA8PSBlbmQwcG9zKSB7XG4gICAgICB2YXIgc3RhcnRwb3MgPSBpO1xuICAgICAgd2hpbGUgKERVW2ldID09IDAgJiYgaSA8PSBlbmQwcG9zKSB7XG4gICAgICAgICsraTtcbiAgICAgIH1cbiAgICAgIHZhciBucnplcm9lcyA9IGkgLSBzdGFydHBvcztcbiAgICAgIGlmIChucnplcm9lcyA+PSBJMTYpIHtcbiAgICAgICAgbG5nID0gbnJ6ZXJvZXMgPj4gNDtcbiAgICAgICAgZm9yICh2YXIgbnJtYXJrZXIgPSAxOyBucm1hcmtlciA8PSBsbmc7ICsrbnJtYXJrZXIpXG4gICAgICAgICAgd3JpdGVCaXRzKE0xNnplcm9lcyk7XG4gICAgICAgIG5yemVyb2VzID0gbnJ6ZXJvZXMgJiAweGY7XG4gICAgICB9XG4gICAgICBwb3MgPSAzMjc2NyArIERVW2ldO1xuICAgICAgd3JpdGVCaXRzKEhUQUNbKG5yemVyb2VzIDw8IDQpICsgY2F0ZWdvcnlbcG9zXV0pO1xuICAgICAgd3JpdGVCaXRzKGJpdGNvZGVbcG9zXSk7XG4gICAgICBpKys7XG4gICAgfVxuICAgIGlmIChlbmQwcG9zICE9IEk2Mykge1xuICAgICAgd3JpdGVCaXRzKEVPQik7XG4gICAgfVxuICAgIHJldHVybiBEQztcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRDaGFyTG9va3VwVGFibGUoKSB7XG4gICAgdmFyIHNmY2MgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgIC8vLy8vIEFDSFRVTkcgLy8gMjU1XG4gICAgICBjbHRbaV0gPSBzZmNjKGkpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuZW5jb2RlID0gZnVuY3Rpb24oXG4gICAgaW1hZ2UsXG4gICAgcXVhbGl0eSAvLyBpbWFnZSBkYXRhIG9iamVjdFxuICApIHtcbiAgICBpZiAocXVhbGl0eSkgc2V0UXVhbGl0eShxdWFsaXR5KTtcblxuICAgIC8vIEluaXRpYWxpemUgYml0IHdyaXRlclxuICAgIGJ5dGVvdXQgPSBuZXcgQXJyYXkoKTtcbiAgICBieXRlbmV3ID0gMDtcbiAgICBieXRlcG9zID0gNztcblxuICAgIC8vIEFkZCBKUEVHIGhlYWRlcnNcbiAgICB3cml0ZVdvcmQoMHhmZmQ4KTsgLy8gU09JXG4gICAgd3JpdGVBUFAwKCk7XG4gICAgd3JpdGVEUVQoKTtcbiAgICB3cml0ZVNPRjAoaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCk7XG4gICAgd3JpdGVESFQoKTtcbiAgICB3cml0ZVNPUygpO1xuXG4gICAgLy8gRW5jb2RlIDh4OCBtYWNyb2Jsb2Nrc1xuICAgIHZhciBEQ1kgPSAwO1xuICAgIHZhciBEQ1UgPSAwO1xuICAgIHZhciBEQ1YgPSAwO1xuXG4gICAgYnl0ZW5ldyA9IDA7XG4gICAgYnl0ZXBvcyA9IDc7XG5cbiAgICB0aGlzLmVuY29kZS5kaXNwbGF5TmFtZSA9IFwiX2VuY29kZV9cIjtcblxuICAgIHZhciBpbWFnZURhdGEgPSBpbWFnZS5kYXRhO1xuICAgIHZhciB3aWR0aCA9IGltYWdlLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG5cbiAgICB2YXIgcXVhZFdpZHRoID0gd2lkdGggKiA0O1xuXG4gICAgdmFyIHgsXG4gICAgICB5ID0gMDtcbiAgICB2YXIgciwgZywgYjtcbiAgICB2YXIgc3RhcnQsIHAsIGNvbCwgcm93LCBwb3M7XG4gICAgd2hpbGUgKHkgPCBoZWlnaHQpIHtcbiAgICAgIHggPSAwO1xuICAgICAgd2hpbGUgKHggPCBxdWFkV2lkdGgpIHtcbiAgICAgICAgc3RhcnQgPSBxdWFkV2lkdGggKiB5ICsgeDtcbiAgICAgICAgY29sID0gLTE7XG4gICAgICAgIHJvdyA9IDA7XG5cbiAgICAgICAgZm9yIChwb3MgPSAwOyBwb3MgPCA2NDsgcG9zKyspIHtcbiAgICAgICAgICByb3cgPSBwb3MgPj4gMzsgLy8gLzhcbiAgICAgICAgICBjb2wgPSAocG9zICYgNykgKiA0OyAvLyAlOFxuICAgICAgICAgIHAgPSBzdGFydCArIHJvdyAqIHF1YWRXaWR0aCArIGNvbDtcblxuICAgICAgICAgIGlmICh5ICsgcm93ID49IGhlaWdodCkge1xuICAgICAgICAgICAgLy8gcGFkZGluZyBib3R0b21cbiAgICAgICAgICAgIHAgLT0gcXVhZFdpZHRoICogKHkgKyAxICsgcm93IC0gaGVpZ2h0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoeCArIGNvbCA+PSBxdWFkV2lkdGgpIHtcbiAgICAgICAgICAgIC8vIHBhZGRpbmcgcmlnaHRcbiAgICAgICAgICAgIHAgLT0geCArIGNvbCAtIHF1YWRXaWR0aCArIDQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgciA9IGltYWdlRGF0YVtwKytdO1xuICAgICAgICAgIGcgPSBpbWFnZURhdGFbcCsrXTtcbiAgICAgICAgICBiID0gaW1hZ2VEYXRhW3ArK107XG5cbiAgICAgICAgICAvKiAvLyBjYWxjdWxhdGUgWVVWIHZhbHVlcyBkeW5hbWljYWxseVxuXHRcdFx0XHRcdFlEVVtwb3NdPSgoKCAwLjI5OTAwKSpyKyggMC41ODcwMCkqZysoIDAuMTE0MDApKmIpKS0xMjg7IC8vLTB4ODBcblx0XHRcdFx0XHRVRFVbcG9zXT0oKCgtMC4xNjg3NCkqcisoLTAuMzMxMjYpKmcrKCAwLjUwMDAwKSpiKSk7XG5cdFx0XHRcdFx0VkRVW3Bvc109KCgoIDAuNTAwMDApKnIrKC0wLjQxODY5KSpnKygtMC4wODEzMSkqYikpO1xuXHRcdFx0XHRcdCovXG5cbiAgICAgICAgICAvLyB1c2UgbG9va3VwIHRhYmxlIChzbGlnaHRseSBmYXN0ZXIpXG4gICAgICAgICAgWURVW3Bvc10gPVxuICAgICAgICAgICAgKChSR0JfWVVWX1RBQkxFW3JdICtcbiAgICAgICAgICAgICAgUkdCX1lVVl9UQUJMRVsoZyArIDI1NikgPj4gMF0gK1xuICAgICAgICAgICAgICBSR0JfWVVWX1RBQkxFWyhiICsgNTEyKSA+PiAwXSkgPj5cbiAgICAgICAgICAgICAgMTYpIC1cbiAgICAgICAgICAgIDEyODtcbiAgICAgICAgICBVRFVbcG9zXSA9XG4gICAgICAgICAgICAoKFJHQl9ZVVZfVEFCTEVbKHIgKyA3NjgpID4+IDBdICtcbiAgICAgICAgICAgICAgUkdCX1lVVl9UQUJMRVsoZyArIDEwMjQpID4+IDBdICtcbiAgICAgICAgICAgICAgUkdCX1lVVl9UQUJMRVsoYiArIDEyODApID4+IDBdKSA+PlxuICAgICAgICAgICAgICAxNikgLVxuICAgICAgICAgICAgMTI4O1xuICAgICAgICAgIFZEVVtwb3NdID1cbiAgICAgICAgICAgICgoUkdCX1lVVl9UQUJMRVsociArIDEyODApID4+IDBdICtcbiAgICAgICAgICAgICAgUkdCX1lVVl9UQUJMRVsoZyArIDE1MzYpID4+IDBdICtcbiAgICAgICAgICAgICAgUkdCX1lVVl9UQUJMRVsoYiArIDE3OTIpID4+IDBdKSA+PlxuICAgICAgICAgICAgICAxNikgLVxuICAgICAgICAgICAgMTI4O1xuICAgICAgICB9XG5cbiAgICAgICAgRENZID0gcHJvY2Vzc0RVKFlEVSwgZmR0YmxfWSwgRENZLCBZRENfSFQsIFlBQ19IVCk7XG4gICAgICAgIERDVSA9IHByb2Nlc3NEVShVRFUsIGZkdGJsX1VWLCBEQ1UsIFVWRENfSFQsIFVWQUNfSFQpO1xuICAgICAgICBEQ1YgPSBwcm9jZXNzRFUoVkRVLCBmZHRibF9VViwgRENWLCBVVkRDX0hULCBVVkFDX0hUKTtcbiAgICAgICAgeCArPSAzMjtcbiAgICAgIH1cbiAgICAgIHkgKz0gODtcbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvLyBEbyB0aGUgYml0IGFsaWdubWVudCBvZiB0aGUgRU9JIG1hcmtlclxuICAgIGlmIChieXRlcG9zID49IDApIHtcbiAgICAgIHZhciBmaWxsYml0cyA9IFtdO1xuICAgICAgZmlsbGJpdHNbMV0gPSBieXRlcG9zICsgMTtcbiAgICAgIGZpbGxiaXRzWzBdID0gKDEgPDwgKGJ5dGVwb3MgKyAxKSkgLSAxO1xuICAgICAgd3JpdGVCaXRzKGZpbGxiaXRzKTtcbiAgICB9XG5cbiAgICB3cml0ZVdvcmQoMHhmZmQ5KTsgLy9FT0lcblxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShieXRlb3V0KTtcbiAgfTtcblxuICBmdW5jdGlvbiBzZXRRdWFsaXR5KHF1YWxpdHkpIHtcbiAgICBxdWFsaXR5ID0gTWF0aC5taW4oTWF0aC5tYXgocXVhbGl0eSwgMSksIDEwMCk7XG5cbiAgICBpZiAoY3VycmVudFF1YWxpdHkgPT0gcXVhbGl0eSkgcmV0dXJuOyAvLyBkb24ndCByZWNhbGMgaWYgdW5jaGFuZ2VkXG5cbiAgICB2YXIgc2YgPVxuICAgICAgcXVhbGl0eSA8IDUwID8gTWF0aC5mbG9vcig1MDAwIC8gcXVhbGl0eSkgOiBNYXRoLmZsb29yKDIwMCAtIHF1YWxpdHkgKiAyKTtcblxuICAgIGluaXRRdWFudFRhYmxlcyhzZik7XG4gICAgY3VycmVudFF1YWxpdHkgPSBxdWFsaXR5O1xuICAgIC8vY29uc29sZS5sb2coJ1F1YWxpdHkgc2V0IHRvOiAnK3F1YWxpdHkgKyclJyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHF1YWxpdHkgPSBxdWFsaXR5IHx8IDUwO1xuICAgIC8vIENyZWF0ZSB0YWJsZXNcbiAgICBpbml0Q2hhckxvb2t1cFRhYmxlKCk7XG4gICAgaW5pdEh1ZmZtYW5UYmwoKTtcbiAgICBpbml0Q2F0ZWdvcnlOdW1iZXIoKTtcbiAgICBpbml0UkdCWVVWVGFibGUoKTtcblxuICAgIHNldFF1YWxpdHkocXVhbGl0eSk7XG4gIH1cbiAgaW5pdCgpO1xufVxuXG5leHBvcnQgeyBKUEVHRW5jb2RlciB9O1xuIiwiLyoqXG4gKiBAYXV0aG9yIHNoYW96aWxlZVxuICpcbiAqIEJtcCBmb3JtYXQgZGVjb2RlcixzdXBwb3J0IDFiaXQgNGJpdCA4Yml0IDI0Yml0IGJtcFxuICpcbiAqL1xuXG5pbXBvcnQgeyBjb25zb2xlIH0gZnJvbSBcIi4vY29uc29sZS5qc1wiO1xuXG5mdW5jdGlvbiBCbXBEZWNvZGVyKGJ1ZmZlciwgaXNfd2l0aF9hbHBoYSkge1xuICB0aGlzLnBvcyA9IDA7XG4gIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICB0aGlzLmRhdGF2ID0gbmV3IERhdGFWaWV3KGJ1ZmZlci5idWZmZXIpO1xuICB0aGlzLmlzX3dpdGhfYWxwaGEgPSAhIWlzX3dpdGhfYWxwaGE7XG4gIHRoaXMuYm90dG9tX3VwID0gdHJ1ZTtcbiAgdGhpcy5mbGFnID1cbiAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuYnVmZmVyWzBdKSArIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5idWZmZXJbMV0pO1xuICB0aGlzLnBvcyArPSAyO1xuICBpZiAoW1wiQk1cIiwgXCJCQVwiLCBcIkNJXCIsIFwiQ1BcIiwgXCJJQ1wiLCBcIlBUXCJdLmluZGV4T2YodGhpcy5mbGFnKSA9PT0gLTEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBCTVAgRmlsZVwiKTtcbiAgdGhpcy5wYXJzZUhlYWRlcigpO1xuICB0aGlzLnBhcnNlQkdSKCk7XG59XG5cbkJtcERlY29kZXIucHJvdG90eXBlLnBhcnNlSGVhZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZmlsZVNpemUgPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMucmVzZXJ2ZWQgPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMub2Zmc2V0ID0gdGhpcy5kYXRhdi5nZXRVaW50MzIodGhpcy5wb3MsIHRydWUpO1xuICB0aGlzLnBvcyArPSA0O1xuICB0aGlzLmhlYWRlclNpemUgPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMud2lkdGggPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMuaGVpZ2h0ID0gdGhpcy5kYXRhdi5nZXRJbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMucGxhbmVzID0gdGhpcy5kYXRhdi5nZXRVaW50MTYodGhpcy5wb3MsIHRydWUpO1xuICB0aGlzLnBvcyArPSAyO1xuICB0aGlzLmJpdFBQID0gdGhpcy5kYXRhdi5nZXRVaW50MTYodGhpcy5wb3MsIHRydWUpO1xuICB0aGlzLnBvcyArPSAyO1xuICB0aGlzLmNvbXByZXNzID0gdGhpcy5kYXRhdi5nZXRVaW50MzIodGhpcy5wb3MsIHRydWUpO1xuICB0aGlzLnBvcyArPSA0O1xuICB0aGlzLnJhd1NpemUgPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMuaHIgPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMudnIgPSB0aGlzLmRhdGF2LmdldFVpbnQzMih0aGlzLnBvcywgdHJ1ZSk7XG4gIHRoaXMucG9zICs9IDQ7XG4gIHRoaXMuY29sb3JzID0gdGhpcy5kYXRhdi5nZXRVaW50MzIodGhpcy5wb3MsIHRydWUpO1xuICB0aGlzLnBvcyArPSA0O1xuICB0aGlzLmltcG9ydGFudENvbG9ycyA9IHRoaXMuZGF0YXYuZ2V0VWludDMyKHRoaXMucG9zLCB0cnVlKTtcbiAgdGhpcy5wb3MgKz0gNDtcblxuICBpZiAodGhpcy5iaXRQUCA9PT0gMTYgJiYgdGhpcy5pc193aXRoX2FscGhhKSB7XG4gICAgdGhpcy5iaXRQUCA9IDE1O1xuICB9XG4gIGlmICh0aGlzLmJpdFBQIDwgMTUpIHtcbiAgICB2YXIgbGVuID0gdGhpcy5jb2xvcnMgPT09IDAgPyAxIDw8IHRoaXMuYml0UFAgOiB0aGlzLmNvbG9ycztcbiAgICB0aGlzLnBhbGV0dGUgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgYmx1ZSA9IHRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywgdHJ1ZSk7XG4gICAgICB2YXIgZ3JlZW4gPSB0aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssIHRydWUpO1xuICAgICAgdmFyIHJlZCA9IHRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywgdHJ1ZSk7XG4gICAgICB2YXIgcXVhZCA9IHRoaXMuZGF0YXYuZ2V0VWludDgodGhpcy5wb3MrKywgdHJ1ZSk7XG4gICAgICB0aGlzLnBhbGV0dGVbaV0gPSB7XG4gICAgICAgIHJlZDogcmVkLFxuICAgICAgICBncmVlbjogZ3JlZW4sXG4gICAgICAgIGJsdWU6IGJsdWUsXG4gICAgICAgIHF1YWQ6IHF1YWRcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmICh0aGlzLmhlaWdodCA8IDApIHtcbiAgICB0aGlzLmhlaWdodCAqPSAtMTtcbiAgICB0aGlzLmJvdHRvbV91cCA9IGZhbHNlO1xuICB9XG59O1xuXG5CbXBEZWNvZGVyLnByb3RvdHlwZS5wYXJzZUJHUiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnBvcyA9IHRoaXMub2Zmc2V0O1xuICB0cnkge1xuICAgIHZhciBiaXRuID0gXCJiaXRcIiArIHRoaXMuYml0UFA7XG4gICAgdmFyIGxlbiA9IHRoaXMud2lkdGggKiB0aGlzLmhlaWdodCAqIDQ7XG4gICAgdGhpcy5kYXRhID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcblxuICAgIHRoaXNbYml0bl0oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKFwiYml0IGRlY29kZSBlcnJvcjpcIiArIGUpO1xuICB9XG59O1xuXG5CbXBEZWNvZGVyLnByb3RvdHlwZS5iaXQxID0gZnVuY3Rpb24oKSB7XG4gIHZhciB4bGVuID0gTWF0aC5jZWlsKHRoaXMud2lkdGggLyA4KTtcbiAgdmFyIG1vZGUgPSB4bGVuICUgNDtcbiAgdmFyIHk7XG4gIGZvciAoeSA9IHRoaXMuaGVpZ2h0IC0gMTsgeSA+PSAwOyB5LS0pIHtcbiAgICB2YXIgbGluZSA9IHRoaXMuYm90dG9tX3VwID8geSA6IHRoaXMuaGVpZ2h0IC0gMSAtIHk7XG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCB4bGVuOyB4KyspIHtcbiAgICAgIHZhciBiID0gdGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCB0cnVlKTtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGxpbmUgKiB0aGlzLndpZHRoICogNCArIHggKiA4ICogNDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgIGlmICh4ICogOCArIGkgPCB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgdmFyIHJnYiA9IHRoaXMucGFsZXR0ZVsoYiA+PiAoNyAtIGkpKSAmIDB4MV07XG4gICAgICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgaSAqIDRdID0gcmdiLmJsdWU7XG4gICAgICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgaSAqIDQgKyAxXSA9IHJnYi5ncmVlbjtcbiAgICAgICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyBpICogNCArIDJdID0gcmdiLnJlZDtcbiAgICAgICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyBpICogNCArIDNdID0gMHhmZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtb2RlICE9PSAwKSB7XG4gICAgICB0aGlzLnBvcyArPSA0IC0gbW9kZTtcbiAgICB9XG4gIH1cbn07XG5cbkJtcERlY29kZXIucHJvdG90eXBlLmJpdDQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHhsZW4gPSBNYXRoLmNlaWwodGhpcy53aWR0aCAvIDIpO1xuICB2YXIgbW9kZSA9IHhsZW4gJSA0O1xuICBmb3IgKHZhciB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgIHZhciBsaW5lID0gdGhpcy5ib3R0b21fdXAgPyB5IDogdGhpcy5oZWlnaHQgLSAxIC0geTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHhsZW47IHgrKykge1xuICAgICAgdmFyIGIgPSB0aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssIHRydWUpO1xuICAgICAgdmFyIGxvY2F0aW9uID0gbGluZSAqIHRoaXMud2lkdGggKiA0ICsgeCAqIDIgKiA0O1xuXG4gICAgICB2YXIgYmVmb3JlID0gYiA+PiA0O1xuICAgICAgdmFyIGFmdGVyID0gYiAmIDB4MGY7XG5cbiAgICAgIHZhciByZ2IgPSB0aGlzLnBhbGV0dGVbYmVmb3JlXTtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbl0gPSByZ2IuYmx1ZTtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDFdID0gcmdiLmdyZWVuO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgMl0gPSByZ2IucmVkO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgM10gPSAweGZmO1xuXG4gICAgICBpZiAoeCAqIDIgKyAxID49IHRoaXMud2lkdGgpIGJyZWFrO1xuXG4gICAgICByZ2IgPSB0aGlzLnBhbGV0dGVbYWZ0ZXJdO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgNF0gPSByZ2IuYmx1ZTtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDQgKyAxXSA9IHJnYi5ncmVlbjtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDQgKyAyXSA9IHJnYi5yZWQ7XG4gICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyA0ICsgM10gPSAweGZmO1xuICAgIH1cblxuICAgIGlmIChtb2RlICE9PSAwKSB7XG4gICAgICB0aGlzLnBvcyArPSA0IC0gbW9kZTtcbiAgICB9XG4gIH1cbn07XG5cbkJtcERlY29kZXIucHJvdG90eXBlLmJpdDggPSBmdW5jdGlvbigpIHtcbiAgdmFyIG1vZGUgPSB0aGlzLndpZHRoICUgNDtcbiAgZm9yICh2YXIgeSA9IHRoaXMuaGVpZ2h0IC0gMTsgeSA+PSAwOyB5LS0pIHtcbiAgICB2YXIgbGluZSA9IHRoaXMuYm90dG9tX3VwID8geSA6IHRoaXMuaGVpZ2h0IC0gMSAtIHk7XG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgIHZhciBiID0gdGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCB0cnVlKTtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGxpbmUgKiB0aGlzLndpZHRoICogNCArIHggKiA0O1xuICAgICAgaWYgKGIgPCB0aGlzLnBhbGV0dGUubGVuZ3RoKSB7XG4gICAgICAgIHZhciByZ2IgPSB0aGlzLnBhbGV0dGVbYl07XG4gICAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbl0gPSByZ2IucmVkO1xuICAgICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyAxXSA9IHJnYi5ncmVlbjtcbiAgICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgMl0gPSByZ2IuYmx1ZTtcbiAgICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgM10gPSAweGZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uXSA9IDB4ZmY7XG4gICAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDFdID0gMHhmZjtcbiAgICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgMl0gPSAweGZmO1xuICAgICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyAzXSA9IDB4ZmY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtb2RlICE9PSAwKSB7XG4gICAgICB0aGlzLnBvcyArPSA0IC0gbW9kZTtcbiAgICB9XG4gIH1cbn07XG5cbkJtcERlY29kZXIucHJvdG90eXBlLmJpdDE1ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkaWZfdyA9IHRoaXMud2lkdGggJSAzO1xuICB2YXIgXzExMTExID0gcGFyc2VJbnQoXCIxMTExMVwiLCAyKSxcbiAgICBfMV81ID0gXzExMTExO1xuICBmb3IgKHZhciB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgIHZhciBsaW5lID0gdGhpcy5ib3R0b21fdXAgPyB5IDogdGhpcy5oZWlnaHQgLSAxIC0geTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgdmFyIEIgPSB0aGlzLmRhdGF2LmdldFVpbnQxNih0aGlzLnBvcywgdHJ1ZSk7XG4gICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgdmFyIGJsdWUgPSAoKChCICYgXzFfNSkgLyBfMV81KSAqIDI1NSkgfCAwO1xuICAgICAgdmFyIGdyZWVuID0gKCgoKEIgPj4gNSkgJiBfMV81KSAvIF8xXzUpICogMjU1KSB8IDA7XG4gICAgICB2YXIgcmVkID0gKCgoKEIgPj4gMTApICYgXzFfNSkgLyBfMV81KSAqIDI1NSkgfCAwO1xuICAgICAgdmFyIGFscGhhID0gQiA+PiAxNSA/IDB4ZmYgOiAweDAwO1xuXG4gICAgICB2YXIgbG9jYXRpb24gPSBsaW5lICogdGhpcy53aWR0aCAqIDQgKyB4ICogNDtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbl0gPSByZWQ7XG4gICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyAxXSA9IGdyZWVuO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgMl0gPSBibHVlO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgM10gPSBhbHBoYTtcbiAgICB9XG4gICAgLy9za2lwIGV4dHJhIGJ5dGVzXG4gICAgdGhpcy5wb3MgKz0gZGlmX3c7XG4gIH1cbn07XG5cbkJtcERlY29kZXIucHJvdG90eXBlLmJpdDE2ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkaWZfdyA9IHRoaXMud2lkdGggJSAzO1xuICB2YXIgXzExMTExID0gcGFyc2VJbnQoXCIxMTExMVwiLCAyKSxcbiAgICBfMV81ID0gXzExMTExO1xuICB2YXIgXzExMTExMSA9IHBhcnNlSW50KFwiMTExMTExXCIsIDIpLFxuICAgIF8xXzYgPSBfMTExMTExO1xuICBmb3IgKHZhciB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgIHZhciBsaW5lID0gdGhpcy5ib3R0b21fdXAgPyB5IDogdGhpcy5oZWlnaHQgLSAxIC0geTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgdmFyIEIgPSB0aGlzLmRhdGF2LmdldFVpbnQxNih0aGlzLnBvcywgdHJ1ZSk7XG4gICAgICB0aGlzLnBvcyArPSAyO1xuICAgICAgdmFyIGFscGhhID0gMHhmZjtcbiAgICAgIHZhciBibHVlID0gKCgoQiAmIF8xXzUpIC8gXzFfNSkgKiAyNTUpIHwgMDtcbiAgICAgIHZhciBncmVlbiA9ICgoKChCID4+IDUpICYgXzFfNikgLyBfMV82KSAqIDI1NSkgfCAwO1xuICAgICAgdmFyIHJlZCA9ICgoKEIgPj4gMTEpIC8gXzFfNSkgKiAyNTUpIHwgMDtcblxuICAgICAgdmFyIGxvY2F0aW9uID0gbGluZSAqIHRoaXMud2lkdGggKiA0ICsgeCAqIDQ7XG4gICAgICB0aGlzLmRhdGFbbG9jYXRpb25dID0gcmVkO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgMV0gPSBncmVlbjtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDJdID0gYmx1ZTtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDNdID0gYWxwaGE7XG4gICAgfVxuICAgIC8vc2tpcCBleHRyYSBieXRlc1xuICAgIHRoaXMucG9zICs9IGRpZl93O1xuICB9XG59O1xuXG5CbXBEZWNvZGVyLnByb3RvdHlwZS5iaXQyNCA9IGZ1bmN0aW9uKCkge1xuICAvL3doZW4gaGVpZ2h0ID4gMFxuICBmb3IgKHZhciB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgIHZhciBsaW5lID0gdGhpcy5ib3R0b21fdXAgPyB5IDogdGhpcy5oZWlnaHQgLSAxIC0geTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgdmFyIGJsdWUgPSB0aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssIHRydWUpO1xuICAgICAgdmFyIGdyZWVuID0gdGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCB0cnVlKTtcbiAgICAgIHZhciByZWQgPSB0aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssIHRydWUpO1xuICAgICAgdmFyIGxvY2F0aW9uID0gbGluZSAqIHRoaXMud2lkdGggKiA0ICsgeCAqIDQ7XG4gICAgICB0aGlzLmRhdGFbbG9jYXRpb25dID0gcmVkO1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uICsgMV0gPSBncmVlbjtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDJdID0gYmx1ZTtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDNdID0gMHhmZjtcbiAgICB9XG4gICAgLy9za2lwIGV4dHJhIGJ5dGVzXG4gICAgdGhpcy5wb3MgKz0gdGhpcy53aWR0aCAlIDQ7XG4gIH1cbn07XG5cbi8qKlxuICogYWRkIDMyYml0IGRlY29kZSBmdW5jXG4gKiBAYXV0aG9yIHNvdWJva1xuICovXG5CbXBEZWNvZGVyLnByb3RvdHlwZS5iaXQzMiA9IGZ1bmN0aW9uKCkge1xuICAvL3doZW4gaGVpZ2h0ID4gMFxuICBmb3IgKHZhciB5ID0gdGhpcy5oZWlnaHQgLSAxOyB5ID49IDA7IHktLSkge1xuICAgIHZhciBsaW5lID0gdGhpcy5ib3R0b21fdXAgPyB5IDogdGhpcy5oZWlnaHQgLSAxIC0geTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgdmFyIGJsdWUgPSB0aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssIHRydWUpO1xuICAgICAgdmFyIGdyZWVuID0gdGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCB0cnVlKTtcbiAgICAgIHZhciByZWQgPSB0aGlzLmRhdGF2LmdldFVpbnQ4KHRoaXMucG9zKyssIHRydWUpO1xuICAgICAgdmFyIGFscGhhID0gdGhpcy5kYXRhdi5nZXRVaW50OCh0aGlzLnBvcysrLCB0cnVlKTtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGxpbmUgKiB0aGlzLndpZHRoICogNCArIHggKiA0O1xuICAgICAgdGhpcy5kYXRhW2xvY2F0aW9uXSA9IHJlZDtcbiAgICAgIHRoaXMuZGF0YVtsb2NhdGlvbiArIDFdID0gZ3JlZW47XG4gICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyAyXSA9IGJsdWU7XG4gICAgICB0aGlzLmRhdGFbbG9jYXRpb24gKyAzXSA9IGFscGhhO1xuICAgIH1cbiAgICAvL3NraXAgZXh0cmEgYnl0ZXNcbiAgICAvL3RoaXMucG9zICs9ICh0aGlzLndpZHRoICUgNCk7XG4gIH1cbn07XG5cbkJtcERlY29kZXIucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZGF0YTtcbn07XG5cbmV4cG9ydCB7IEJtcERlY29kZXIgfTtcbiIsImZ1bmN0aW9uIFdlYlBEZWNvZGVyKGltYWdlRGF0YSkge1xuICAvKiogQGxpY2Vuc2VcbiAgICogQ29weXJpZ2h0IDIwMTEgR29vZ2xlIEluYy5cbiAgICpcbiAgICogVGhpcyBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBzYW1lIHRlcm1zIGFzIFdlYk06XG4gICAqICBTb2Z0d2FyZSBMaWNlbnNlIEFncmVlbWVudDogIGh0dHA6Ly93d3cud2VibXByb2plY3Qub3JnL2xpY2Vuc2Uvc29mdHdhcmUvXG4gICAqICBBZGRpdGlvbmFsIElQIFJpZ2h0cyBHcmFudDogIGh0dHA6Ly93d3cud2VibXByb2plY3Qub3JnL2xpY2Vuc2UvYWRkaXRpb25hbC9cbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICpcbiAgICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG4gICAqIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gICAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAgICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAgICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gICAqIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4gICAqIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUllcbiAgICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAgICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLFxuICAgKiBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICAgKlxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKlxuICAgKiBDb3B5cmlnaHQgMjAxMS0yMDE3IERvbWluaWsgSG9tYmVyZ2VyXG4gICAqIExpYndlYnAgSmF2YXNjcmlwdCAvIGxpYndlYnBqcyAtIHRoZSBsaWJ3ZWJwIGltcGxlbWVudGF0aW9uIGluIGphdmFzY3JpcHQgKHYwLjYuMClcbiAgICpcbiAgICogQXV0aG9yOiBEb21pbmlrIEhvbWJlcmdlciAoZG9taW5pay5ob21iZXJnZXJAZ21haWwuY29tKVxuICAgKi9cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBVcHNhbXBsZVJnYkxpbmVQYWlyLFxuICAgIFVwc2FtcGxlQmdyTGluZVBhaXIsXG4gICAgVXBzYW1wbGVSZ2JhTGluZVBhaXIsXG4gICAgVXBzYW1wbGVCZ3JhTGluZVBhaXIsXG4gICAgVXBzYW1wbGVBcmdiTGluZVBhaXIsXG4gICAgVXBzYW1wbGVBcmdiTGluZVBhaXIsXG4gICAgVXBzYW1wbGVSZ2JhNDQ0NExpbmVQYWlyLFxuICAgIFVwc2FtcGxlUmdiNTY1TGluZVBhaXI7XG5cbiAgZnVuY3Rpb24geChGKSB7XG4gICAgaWYgKCFGKSB0aHJvdyBFcnJvcihcImFzc2VydCA6UFwiKTtcbiAgfVxuICBmdW5jdGlvbiBmYShGLCBMLCBKKSB7XG4gICAgZm9yICh2YXIgSCA9IDA7IDQgPiBIOyBIKyspIGlmIChGW0wgKyBIXSAhPSBKLmNoYXJDb2RlQXQoSCkpIHJldHVybiAhMDtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgZnVuY3Rpb24gSShGLCBMLCBKLCBILCBaKSB7XG4gICAgZm9yICh2YXIgTyA9IDA7IE8gPCBaOyBPKyspIEZbTCArIE9dID0gSltIICsgT107XG4gIH1cbiAgZnVuY3Rpb24gTShGLCBMLCBKLCBIKSB7XG4gICAgZm9yICh2YXIgWiA9IDA7IFogPCBIOyBaKyspIEZbTCArIFpdID0gSjtcbiAgfVxuICBmdW5jdGlvbiBWKEYpIHtcbiAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoRik7XG4gIH1cbiAgZnVuY3Rpb24gd2EoRiwgTCkge1xuICAgIGZvciAodmFyIEogPSBbXSwgSCA9IDA7IEggPCBGOyBIKyspIEoucHVzaChuZXcgTCgpKTtcbiAgICByZXR1cm4gSjtcbiAgfVxuICBmdW5jdGlvbiB3YigpIHtcbiAgICBmdW5jdGlvbiBGKEosIEgsIFopIHtcbiAgICAgIGZvciAodmFyIE8gPSBaW0hdLCBMID0gMDsgTCA8IE87IEwrKykge1xuICAgICAgICBKLnB1c2goWi5sZW5ndGggPiBIICsgMSA/IFtdIDogMCk7XG4gICAgICAgIGlmIChaLmxlbmd0aCA8IEggKyAxKSBicmVhaztcbiAgICAgICAgRihKW0xdLCBIICsgMSwgWik7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBMID0gW107XG4gICAgRihMLCAwLCBbMywgMTFdKTtcbiAgICByZXR1cm4gTDtcbiAgfVxuICBmdW5jdGlvbiBFZChGLCBMKSB7XG4gICAgZnVuY3Rpb24gSihILCBPLCBGKSB7XG4gICAgICBmb3IgKHZhciBaID0gRltPXSwgbWEgPSAwOyBtYSA8IFo7IG1hKyspIHtcbiAgICAgICAgSC5wdXNoKEYubGVuZ3RoID4gTyArIDEgPyBbXSA6IG5ldyBMKCkpO1xuICAgICAgICBpZiAoRi5sZW5ndGggPCBPICsgMSkgYnJlYWs7XG4gICAgICAgIEooSFttYV0sIE8gKyAxLCBGKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIEggPSBbXTtcbiAgICBKKEgsIDAsIEYpO1xuICAgIHJldHVybiBIO1xuICB9XG4gIHZhciBfV2ViUERlY29kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gRigpIHtcbiAgICAgIFYoNTUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBMKGEsIGIpIHtcbiAgICAgIGZvciAodmFyIGMgPSAoMSA8PCAoYiAtIDEpKSA+Pj4gMDsgYSAmIGM7ICkgYyA+Pj49IDE7XG4gICAgICByZXR1cm4gYyA/IChhICYgKGMgLSAxKSkgKyBjIDogYTtcbiAgICB9XG4gICAgZnVuY3Rpb24gSihhLCBiLCBjLCBkLCBlKSB7XG4gICAgICB4KCEoZCAlIGMpKTtcbiAgICAgIGRvIChkIC09IGMpLCAoYVtiICsgZF0gPSBlKTtcbiAgICAgIHdoaWxlICgwIDwgZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEgoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgdmFyIGcgPSBiLFxuICAgICAgICBoID0gMSA8PCBjLFxuICAgICAgICBrLFxuICAgICAgICBsLFxuICAgICAgICBtID0gVigxNiksXG4gICAgICAgIG4gPSBWKDE2KTtcbiAgICAgIHgoMCAhPSBlKTtcbiAgICAgIHgobnVsbCAhPSBkKTtcbiAgICAgIHgobnVsbCAhPSBhKTtcbiAgICAgIHgoMCA8IGMpO1xuICAgICAgZm9yIChsID0gMDsgbCA8IGU7ICsrbCkge1xuICAgICAgICBpZiAoMTUgPCBkW2xdKSByZXR1cm4gMDtcbiAgICAgICAgKyttW2RbbF1dO1xuICAgICAgfVxuICAgICAgaWYgKG1bMF0gPT0gZSkgcmV0dXJuIDA7XG4gICAgICBuWzFdID0gMDtcbiAgICAgIGZvciAoayA9IDE7IDE1ID4gazsgKytrKSB7XG4gICAgICAgIGlmIChtW2tdID4gMSA8PCBrKSByZXR1cm4gMDtcbiAgICAgICAgbltrICsgMV0gPSBuW2tdICsgbVtrXTtcbiAgICAgIH1cbiAgICAgIGZvciAobCA9IDA7IGwgPCBlOyArK2wpIChrID0gZFtsXSksIDAgPCBkW2xdICYmIChmW25ba10rK10gPSBsKTtcbiAgICAgIGlmICgxID09IG5bMTVdKVxuICAgICAgICByZXR1cm4gKGQgPSBuZXcgTygpKSwgKGQuZyA9IDApLCAoZC52YWx1ZSA9IGZbMF0pLCBKKGEsIGcsIDEsIGgsIGQpLCBoO1xuICAgICAgdmFyIHIgPSAtMSxcbiAgICAgICAgcSA9IGggLSAxLFxuICAgICAgICB0ID0gMCxcbiAgICAgICAgdiA9IDEsXG4gICAgICAgIHAgPSAxLFxuICAgICAgICB1LFxuICAgICAgICB3ID0gMSA8PCBjO1xuICAgICAgbCA9IDA7XG4gICAgICBrID0gMTtcbiAgICAgIGZvciAoZSA9IDI7IGsgPD0gYzsgKytrLCBlIDw8PSAxKSB7XG4gICAgICAgIHAgPDw9IDE7XG4gICAgICAgIHYgKz0gcDtcbiAgICAgICAgcCAtPSBtW2tdO1xuICAgICAgICBpZiAoMCA+IHApIHJldHVybiAwO1xuICAgICAgICBmb3IgKDsgMCA8IG1ba107IC0tbVtrXSlcbiAgICAgICAgICAoZCA9IG5ldyBPKCkpLFxuICAgICAgICAgICAgKGQuZyA9IGspLFxuICAgICAgICAgICAgKGQudmFsdWUgPSBmW2wrK10pLFxuICAgICAgICAgICAgSihhLCBnICsgdCwgZSwgdywgZCksXG4gICAgICAgICAgICAodCA9IEwodCwgaykpO1xuICAgICAgfVxuICAgICAgayA9IGMgKyAxO1xuICAgICAgZm9yIChlID0gMjsgMTUgPj0gazsgKytrLCBlIDw8PSAxKSB7XG4gICAgICAgIHAgPDw9IDE7XG4gICAgICAgIHYgKz0gcDtcbiAgICAgICAgcCAtPSBtW2tdO1xuICAgICAgICBpZiAoMCA+IHApIHJldHVybiAwO1xuICAgICAgICBmb3IgKDsgMCA8IG1ba107IC0tbVtrXSkge1xuICAgICAgICAgIGQgPSBuZXcgTygpO1xuICAgICAgICAgIGlmICgodCAmIHEpICE9IHIpIHtcbiAgICAgICAgICAgIGcgKz0gdztcbiAgICAgICAgICAgIHIgPSBrO1xuICAgICAgICAgICAgZm9yICh1ID0gMSA8PCAociAtIGMpOyAxNSA+IHI7ICkge1xuICAgICAgICAgICAgICB1IC09IG1bcl07XG4gICAgICAgICAgICAgIGlmICgwID49IHUpIGJyZWFrO1xuICAgICAgICAgICAgICArK3I7XG4gICAgICAgICAgICAgIHUgPDw9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1ID0gciAtIGM7XG4gICAgICAgICAgICB3ID0gMSA8PCB1O1xuICAgICAgICAgICAgaCArPSB3O1xuICAgICAgICAgICAgciA9IHQgJiBxO1xuICAgICAgICAgICAgYVtiICsgcl0uZyA9IHUgKyBjO1xuICAgICAgICAgICAgYVtiICsgcl0udmFsdWUgPSBnIC0gYiAtIHI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGQuZyA9IGsgLSBjO1xuICAgICAgICAgIGQudmFsdWUgPSBmW2wrK107XG4gICAgICAgICAgSihhLCBnICsgKHQgPj4gYyksIGUsIHcsIGQpO1xuICAgICAgICAgIHQgPSBMKHQsIGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdiAhPSAyICogblsxNV0gLSAxID8gMCA6IGg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFooYSwgYiwgYywgZCwgZSkge1xuICAgICAgeCgyMzI4ID49IGUpO1xuICAgICAgaWYgKDUxMiA+PSBlKSB2YXIgZiA9IFYoNTEyKTtcbiAgICAgIGVsc2UgaWYgKCgoZiA9IFYoZSkpLCBudWxsID09IGYpKSByZXR1cm4gMDtcbiAgICAgIHJldHVybiBIKGEsIGIsIGMsIGQsIGUsIGYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBPKCkge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZyA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEZkKCkge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZyA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFViKCkge1xuICAgICAgdGhpcy5HID0gd2EoNSwgTyk7XG4gICAgICB0aGlzLkggPSBWKDUpO1xuICAgICAgdGhpcy5qYyA9IHRoaXMuUWIgPSB0aGlzLnFiID0gdGhpcy5uZCA9IDA7XG4gICAgICB0aGlzLnBkID0gd2EoeGIsIEZkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWEoYSwgYiwgYywgZCkge1xuICAgICAgeChudWxsICE9IGEpO1xuICAgICAgeChudWxsICE9IGIpO1xuICAgICAgeCgyMTQ3NDgzNjQ4ID4gZCk7XG4gICAgICBhLkNhID0gMjU0O1xuICAgICAgYS5JID0gMDtcbiAgICAgIGEuYiA9IC04O1xuICAgICAgYS5LYSA9IDA7XG4gICAgICBhLm9hID0gYjtcbiAgICAgIGEucGEgPSBjO1xuICAgICAgYS5KZCA9IGI7XG4gICAgICBhLlljID0gYyArIGQ7XG4gICAgICBhLlpjID0gNCA8PSBkID8gYyArIGQgLSA0ICsgMSA6IGM7XG4gICAgICBRYShhKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmEoYSwgYikge1xuICAgICAgZm9yICh2YXIgYyA9IDA7IDAgPCBiLS07ICkgYyB8PSBLKGEsIDEyOCkgPDwgYjtcbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYShhLCBiKSB7XG4gICAgICB2YXIgYyA9IG5hKGEsIGIpO1xuICAgICAgcmV0dXJuIEcoYSkgPyAtYyA6IGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNiKGEsIGIsIGMsIGQpIHtcbiAgICAgIHZhciBlLFxuICAgICAgICBmID0gMDtcbiAgICAgIHgobnVsbCAhPSBhKTtcbiAgICAgIHgobnVsbCAhPSBiKTtcbiAgICAgIHgoNDI5NDk2NzI4OCA+IGQpO1xuICAgICAgYS5TYiA9IGQ7XG4gICAgICBhLlJhID0gMDtcbiAgICAgIGEudSA9IDA7XG4gICAgICBhLmggPSAwO1xuICAgICAgNCA8IGQgJiYgKGQgPSA0KTtcbiAgICAgIGZvciAoZSA9IDA7IGUgPCBkOyArK2UpIGYgKz0gYltjICsgZV0gPDwgKDggKiBlKTtcbiAgICAgIGEuUmEgPSBmO1xuICAgICAgYS5iYiA9IGQ7XG4gICAgICBhLm9hID0gYjtcbiAgICAgIGEucGEgPSBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBWYihhKSB7XG4gICAgICBmb3IgKDsgOCA8PSBhLnUgJiYgYS5iYiA8IGEuU2I7IClcbiAgICAgICAgKGEuUmEgPj4+PSA4KSxcbiAgICAgICAgICAoYS5SYSArPSAoYS5vYVthLnBhICsgYS5iYl0gPDwgKG9iIC0gOCkpID4+PiAwKSxcbiAgICAgICAgICArK2EuYmIsXG4gICAgICAgICAgKGEudSAtPSA4KTtcbiAgICAgIGRiKGEpICYmICgoYS5oID0gMSksIChhLnUgPSAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEQoYSwgYikge1xuICAgICAgeCgwIDw9IGIpO1xuICAgICAgaWYgKCFhLmggJiYgYiA8PSBHZCkge1xuICAgICAgICB2YXIgYyA9IHBiKGEpICYgSGRbYl07XG4gICAgICAgIGEudSArPSBiO1xuICAgICAgICBWYihhKTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgICBhLmggPSAxO1xuICAgICAgcmV0dXJuIChhLnUgPSAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gV2IoKSB7XG4gICAgICB0aGlzLmIgPSB0aGlzLkNhID0gdGhpcy5JID0gMDtcbiAgICAgIHRoaXMub2EgPSBbXTtcbiAgICAgIHRoaXMucGEgPSAwO1xuICAgICAgdGhpcy5KZCA9IFtdO1xuICAgICAgdGhpcy5ZYyA9IDA7XG4gICAgICB0aGlzLlpjID0gW107XG4gICAgICB0aGlzLkthID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmEoKSB7XG4gICAgICB0aGlzLlJhID0gMDtcbiAgICAgIHRoaXMub2EgPSBbXTtcbiAgICAgIHRoaXMuaCA9IHRoaXMudSA9IHRoaXMuYmIgPSB0aGlzLlNiID0gdGhpcy5wYSA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBiKGEpIHtcbiAgICAgIHJldHVybiAoYS5SYSA+Pj4gKGEudSAmIChvYiAtIDEpKSkgPj4+IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRiKGEpIHtcbiAgICAgIHgoYS5iYiA8PSBhLlNiKTtcbiAgICAgIHJldHVybiBhLmggfHwgKGEuYmIgPT0gYS5TYiAmJiBhLnUgPiBvYik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHFiKGEsIGIpIHtcbiAgICAgIGEudSA9IGI7XG4gICAgICBhLmggPSBkYihhKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gU2EoYSkge1xuICAgICAgYS51ID49IFhiICYmICh4KGEudSA+PSBYYiksIFZiKGEpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUWEoYSkge1xuICAgICAgeChudWxsICE9IGEgJiYgbnVsbCAhPSBhLm9hKTtcbiAgICAgIGEucGEgPCBhLlpjXG4gICAgICAgID8gKChhLkkgPSAoYS5vYVthLnBhKytdIHwgKGEuSSA8PCA4KSkgPj4+IDApLCAoYS5iICs9IDgpKVxuICAgICAgICA6ICh4KG51bGwgIT0gYSAmJiBudWxsICE9IGEub2EpLFxuICAgICAgICAgIGEucGEgPCBhLlljXG4gICAgICAgICAgICA/ICgoYS5iICs9IDgpLCAoYS5JID0gYS5vYVthLnBhKytdIHwgKGEuSSA8PCA4KSkpXG4gICAgICAgICAgICA6IGEuS2FcbiAgICAgICAgICAgID8gKGEuYiA9IDApXG4gICAgICAgICAgICA6ICgoYS5JIDw8PSA4KSwgKGEuYiArPSA4KSwgKGEuS2EgPSAxKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBHKGEpIHtcbiAgICAgIHJldHVybiBuYShhLCAxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gSyhhLCBiKSB7XG4gICAgICB2YXIgYyA9IGEuQ2E7XG4gICAgICAwID4gYS5iICYmIFFhKGEpO1xuICAgICAgdmFyIGQgPSBhLmIsXG4gICAgICAgIGUgPSAoYyAqIGIpID4+PiA4LFxuICAgICAgICBmID0gKGEuSSA+Pj4gZCA+IGUpICsgMDtcbiAgICAgIGYgPyAoKGMgLT0gZSksIChhLkkgLT0gKChlICsgMSkgPDwgZCkgPj4+IDApKSA6IChjID0gZSArIDEpO1xuICAgICAgZCA9IGM7XG4gICAgICBmb3IgKGUgPSAwOyAyNTYgPD0gZDsgKSAoZSArPSA4KSwgKGQgPj49IDgpO1xuICAgICAgZCA9IDcgXiAoZSArIElkW2RdKTtcbiAgICAgIGEuYiAtPSBkO1xuICAgICAgYS5DYSA9IChjIDw8IGQpIC0gMTtcbiAgICAgIHJldHVybiBmO1xuICAgIH1cbiAgICBmdW5jdGlvbiByYShhLCBiLCBjKSB7XG4gICAgICBhW2IgKyAwXSA9IChjID4+IDI0KSAmIDI1NTtcbiAgICAgIGFbYiArIDFdID0gKGMgPj4gMTYpICYgMjU1O1xuICAgICAgYVtiICsgMl0gPSAoYyA+PiA4KSAmIDI1NTtcbiAgICAgIGFbYiArIDNdID0gKGMgPj4gMCkgJiAyNTU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRhKGEsIGIpIHtcbiAgICAgIHJldHVybiAoYVtiICsgMF0gPDwgMCkgfCAoYVtiICsgMV0gPDwgOCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFliKGEsIGIpIHtcbiAgICAgIHJldHVybiBUYShhLCBiKSB8IChhW2IgKyAyXSA8PCAxNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhKGEsIGIpIHtcbiAgICAgIHJldHVybiBUYShhLCBiKSB8IChUYShhLCBiICsgMikgPDwgMTYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBaYihhLCBiKSB7XG4gICAgICB2YXIgYyA9IDEgPDwgYjtcbiAgICAgIHgobnVsbCAhPSBhKTtcbiAgICAgIHgoMCA8IGIpO1xuICAgICAgYS5YID0gVihjKTtcbiAgICAgIGlmIChudWxsID09IGEuWCkgcmV0dXJuIDA7XG4gICAgICBhLk1iID0gMzIgLSBiO1xuICAgICAgYS5YYSA9IGI7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gJGIoYSwgYikge1xuICAgICAgeChudWxsICE9IGEpO1xuICAgICAgeChudWxsICE9IGIpO1xuICAgICAgeChhLlhhID09IGIuWGEpO1xuICAgICAgSShiLlgsIDAsIGEuWCwgMCwgMSA8PCBiLlhhKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWMoKSB7XG4gICAgICB0aGlzLlggPSBbXTtcbiAgICAgIHRoaXMuWGEgPSB0aGlzLk1iID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmMoYSwgYiwgYywgZCkge1xuICAgICAgeChudWxsICE9IGMpO1xuICAgICAgeChudWxsICE9IGQpO1xuICAgICAgdmFyIGUgPSBjWzBdLFxuICAgICAgICBmID0gZFswXTtcbiAgICAgIDAgPT0gZSAmJiAoZSA9IChhICogZiArIGIgLyAyKSAvIGIpO1xuICAgICAgMCA9PSBmICYmIChmID0gKGIgKiBlICsgYSAvIDIpIC8gYSk7XG4gICAgICBpZiAoMCA+PSBlIHx8IDAgPj0gZikgcmV0dXJuIDA7XG4gICAgICBjWzBdID0gZTtcbiAgICAgIGRbMF0gPSBmO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHhhKGEsIGIpIHtcbiAgICAgIHJldHVybiAoYSArICgxIDw8IGIpIC0gMSkgPj4+IGI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHliKGEsIGIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICgoKCgoYSAmIDQyNzgyNTUzNjApICsgKGIgJiA0Mjc4MjU1MzYwKSkgPj4+IDApICYgNDI3ODI1NTM2MCkgK1xuICAgICAgICAgICgoKChhICYgMTY3MTE5MzUpICsgKGIgJiAxNjcxMTkzNSkpID4+PiAwKSAmIDE2NzExOTM1KSkgPj4+XG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFgoYSwgYikge1xuICAgICAgc2VsZltiXSA9IGZ1bmN0aW9uKGIsIGQsIGUsIGYsIGcsIGgsIGspIHtcbiAgICAgICAgdmFyIGM7XG4gICAgICAgIGZvciAoYyA9IDA7IGMgPCBnOyArK2MpIHtcbiAgICAgICAgICB2YXIgbSA9IHNlbGZbYV0oaFtrICsgYyAtIDFdLCBlLCBmICsgYyk7XG4gICAgICAgICAgaFtrICsgY10gPSB5YihiW2QgKyBjXSwgbSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIEpkKCkge1xuICAgICAgdGhpcy51ZCA9IHRoaXMuaGQgPSB0aGlzLmpkID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWEoYSwgYikge1xuICAgICAgcmV0dXJuICgoKChhIF4gYikgJiA0Mjc4MTI0Mjg2KSA+Pj4gMSkgKyAoYSAmIGIpKSA+Pj4gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2EoYSkge1xuICAgICAgaWYgKDAgPD0gYSAmJiAyNTYgPiBhKSByZXR1cm4gYTtcbiAgICAgIGlmICgwID4gYSkgcmV0dXJuIDA7XG4gICAgICBpZiAoMjU1IDwgYSkgcmV0dXJuIDI1NTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWIoYSwgYikge1xuICAgICAgcmV0dXJuIHNhKGEgKyAoKGEgLSBiICsgMC41KSA+PiAxKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIElhKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBNYXRoLmFicyhiIC0gYykgLSBNYXRoLmFicyhhIC0gYyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNjKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHtcbiAgICAgIGQgPSBmW2cgLSAxXTtcbiAgICAgIGZvciAoYyA9IDA7IGMgPCBlOyArK2MpIGZbZyArIGNdID0gZCA9IHliKGFbYiArIGNdLCBkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gS2QoYSwgYiwgYywgZCwgZSkge1xuICAgICAgdmFyIGY7XG4gICAgICBmb3IgKGYgPSAwOyBmIDwgYzsgKytmKSB7XG4gICAgICAgIHZhciBnID0gYVtiICsgZl0sXG4gICAgICAgICAgaCA9IChnID4+IDgpICYgMjU1LFxuICAgICAgICAgIGsgPSBnICYgMTY3MTE5MzUsXG4gICAgICAgICAgayA9IGsgKyAoKGggPDwgMTYpICsgaCksXG4gICAgICAgICAgayA9IGsgJiAxNjcxMTkzNTtcbiAgICAgICAgZFtlICsgZl0gPSAoKGcgJiA0Mjc4MjU1MzYwKSArIGspID4+PiAwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkYyhhLCBiKSB7XG4gICAgICBiLmpkID0gKGEgPj4gMCkgJiAyNTU7XG4gICAgICBiLmhkID0gKGEgPj4gOCkgJiAyNTU7XG4gICAgICBiLnVkID0gKGEgPj4gMTYpICYgMjU1O1xuICAgIH1cbiAgICBmdW5jdGlvbiBMZChhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICB2YXIgZztcbiAgICAgIGZvciAoZyA9IDA7IGcgPCBkOyArK2cpIHtcbiAgICAgICAgdmFyIGggPSBiW2MgKyBnXSxcbiAgICAgICAgICBrID0gaCA+Pj4gOCxcbiAgICAgICAgICBsID0gaCA+Pj4gMTYsXG4gICAgICAgICAgbSA9IGgsXG4gICAgICAgICAgbCA9IGwgKyAoKCgoYS5qZCA8PCAyNCkgPj4gMjQpICogKChrIDw8IDI0KSA+PiAyNCkpID4+PiA1KSxcbiAgICAgICAgICBsID0gbCAmIDI1NSxcbiAgICAgICAgICBtID0gbSArICgoKChhLmhkIDw8IDI0KSA+PiAyNCkgKiAoKGsgPDwgMjQpID4+IDI0KSkgPj4+IDUpLFxuICAgICAgICAgIG0gPSBtICsgKCgoKGEudWQgPDwgMjQpID4+IDI0KSAqICgobCA8PCAyNCkgPj4gMjQpKSA+Pj4gNSksXG4gICAgICAgICAgbSA9IG0gJiAyNTU7XG4gICAgICAgIGVbZiArIGddID0gKGggJiA0Mjc4MjU1MzYwKSArIChsIDw8IDE2KSArIG07XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVjKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHNlbGZbYl0gPSBmdW5jdGlvbihhLCBiLCBjLCBrLCBsLCBtLCBuLCByLCBxKSB7XG4gICAgICAgIGZvciAoayA9IG47IGsgPCByOyArK2spXG4gICAgICAgICAgZm9yIChuID0gMDsgbiA8IHE7ICsrbikgbFttKytdID0gZShjW2QoYVtiKytdKV0pO1xuICAgICAgfTtcbiAgICAgIHNlbGZbYV0gPSBmdW5jdGlvbihhLCBiLCBoLCBrLCBsLCBtLCBuKSB7XG4gICAgICAgIHZhciBmID0gOCA+PiBhLmIsXG4gICAgICAgICAgZyA9IGEuRWEsXG4gICAgICAgICAgdCA9IGEuS1swXSxcbiAgICAgICAgICB2ID0gYS53O1xuICAgICAgICBpZiAoOCA+IGYpXG4gICAgICAgICAgZm9yIChhID0gKDEgPDwgYS5iKSAtIDEsIHYgPSAoMSA8PCBmKSAtIDE7IGIgPCBoOyArK2IpIHtcbiAgICAgICAgICAgIHZhciBwID0gMCxcbiAgICAgICAgICAgICAgdTtcbiAgICAgICAgICAgIGZvciAodSA9IDA7IHUgPCBnOyArK3UpXG4gICAgICAgICAgICAgIHUgJiBhIHx8IChwID0gZChrW2wrK10pKSwgKG1bbisrXSA9IGUodFtwICYgdl0pKSwgKHAgPj49IGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBzZWxmW1wiVlA4TE1hcENvbG9yXCIgKyBjXShrLCBsLCB0LCB2LCBtLCBuLCBiLCBoLCBnKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1kKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGZvciAoYyA9IGIgKyBjOyBiIDwgYzsgKSB7XG4gICAgICAgIHZhciBmID0gYVtiKytdO1xuICAgICAgICBkW2UrK10gPSAoZiA+PiAxNikgJiAyNTU7XG4gICAgICAgIGRbZSsrXSA9IChmID4+IDgpICYgMjU1O1xuICAgICAgICBkW2UrK10gPSAoZiA+PiAwKSAmIDI1NTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gTmQoYSwgYiwgYywgZCwgZSkge1xuICAgICAgZm9yIChjID0gYiArIGM7IGIgPCBjOyApIHtcbiAgICAgICAgdmFyIGYgPSBhW2IrK107XG4gICAgICAgIGRbZSsrXSA9IChmID4+IDE2KSAmIDI1NTtcbiAgICAgICAgZFtlKytdID0gKGYgPj4gOCkgJiAyNTU7XG4gICAgICAgIGRbZSsrXSA9IChmID4+IDApICYgMjU1O1xuICAgICAgICBkW2UrK10gPSAoZiA+PiAyNCkgJiAyNTU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIE9kKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGZvciAoYyA9IGIgKyBjOyBiIDwgYzsgKSB7XG4gICAgICAgIHZhciBmID0gYVtiKytdLFxuICAgICAgICAgIGcgPSAoKGYgPj4gMTYpICYgMjQwKSB8ICgoZiA+PiAxMikgJiAxNSksXG4gICAgICAgICAgZiA9ICgoZiA+PiAwKSAmIDI0MCkgfCAoKGYgPj4gMjgpICYgMTUpO1xuICAgICAgICBkW2UrK10gPSBnO1xuICAgICAgICBkW2UrK10gPSBmO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBQZChhLCBiLCBjLCBkLCBlKSB7XG4gICAgICBmb3IgKGMgPSBiICsgYzsgYiA8IGM7ICkge1xuICAgICAgICB2YXIgZiA9IGFbYisrXSxcbiAgICAgICAgICBnID0gKChmID4+IDE2KSAmIDI0OCkgfCAoKGYgPj4gMTMpICYgNyksXG4gICAgICAgICAgZiA9ICgoZiA+PiA1KSAmIDIyNCkgfCAoKGYgPj4gMykgJiAzMSk7XG4gICAgICAgIGRbZSsrXSA9IGc7XG4gICAgICAgIGRbZSsrXSA9IGY7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFFkKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGZvciAoYyA9IGIgKyBjOyBiIDwgYzsgKSB7XG4gICAgICAgIHZhciBmID0gYVtiKytdO1xuICAgICAgICBkW2UrK10gPSAoZiA+PiAwKSAmIDI1NTtcbiAgICAgICAgZFtlKytdID0gKGYgPj4gOCkgJiAyNTU7XG4gICAgICAgIGRbZSsrXSA9IChmID4+IDE2KSAmIDI1NTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmIoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgaWYgKDAgPT0gZilcbiAgICAgICAgZm9yIChjID0gYiArIGM7IGIgPCBjOyApXG4gICAgICAgICAgKGYgPSBhW2IrK10pLFxuICAgICAgICAgICAgcmEoXG4gICAgICAgICAgICAgIGQsXG4gICAgICAgICAgICAgICgoZlswXSA+PiAyNCkgfFxuICAgICAgICAgICAgICAgICgoZlsxXSA+PiA4KSAmIDY1MjgwKSB8XG4gICAgICAgICAgICAgICAgKChmWzJdIDw8IDgpICYgMTY3MTE2ODApIHxcbiAgICAgICAgICAgICAgICAoZlszXSA8PCAyNCkpID4+PlxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZSArPSAzMik7XG4gICAgICBlbHNlIEkoZCwgZSwgYSwgYiwgYyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdiKGEsIGIpIHtcbiAgICAgIHNlbGZbYl1bMF0gPSBzZWxmW2EgKyBcIjBcIl07XG4gICAgICBzZWxmW2JdWzFdID0gc2VsZlthICsgXCIxXCJdO1xuICAgICAgc2VsZltiXVsyXSA9IHNlbGZbYSArIFwiMlwiXTtcbiAgICAgIHNlbGZbYl1bM10gPSBzZWxmW2EgKyBcIjNcIl07XG4gICAgICBzZWxmW2JdWzRdID0gc2VsZlthICsgXCI0XCJdO1xuICAgICAgc2VsZltiXVs1XSA9IHNlbGZbYSArIFwiNVwiXTtcbiAgICAgIHNlbGZbYl1bNl0gPSBzZWxmW2EgKyBcIjZcIl07XG4gICAgICBzZWxmW2JdWzddID0gc2VsZlthICsgXCI3XCJdO1xuICAgICAgc2VsZltiXVs4XSA9IHNlbGZbYSArIFwiOFwiXTtcbiAgICAgIHNlbGZbYl1bOV0gPSBzZWxmW2EgKyBcIjlcIl07XG4gICAgICBzZWxmW2JdWzEwXSA9IHNlbGZbYSArIFwiMTBcIl07XG4gICAgICBzZWxmW2JdWzExXSA9IHNlbGZbYSArIFwiMTFcIl07XG4gICAgICBzZWxmW2JdWzEyXSA9IHNlbGZbYSArIFwiMTJcIl07XG4gICAgICBzZWxmW2JdWzEzXSA9IHNlbGZbYSArIFwiMTNcIl07XG4gICAgICBzZWxmW2JdWzE0XSA9IHNlbGZbYSArIFwiMFwiXTtcbiAgICAgIHNlbGZbYl1bMTVdID0gc2VsZlthICsgXCIwXCJdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYihhKSB7XG4gICAgICByZXR1cm4gYSA9PSB6YiB8fCBhID09IEFiIHx8IGEgPT0gSmEgfHwgYSA9PSBCYjtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmQoKSB7XG4gICAgICB0aGlzLmViID0gW107XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLkEgPSB0aGlzLmZiID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gU2QoKSB7XG4gICAgICB0aGlzLnkgPSBbXTtcbiAgICAgIHRoaXMuZiA9IFtdO1xuICAgICAgdGhpcy5lYSA9IFtdO1xuICAgICAgdGhpcy5GID0gW107XG4gICAgICB0aGlzLlRjID0gdGhpcy5FZCA9IHRoaXMuQ2QgPSB0aGlzLkZkID0gdGhpcy5sYiA9IHRoaXMuRGIgPSB0aGlzLkFiID0gdGhpcy5mYSA9IHRoaXMuSiA9IHRoaXMuVyA9IHRoaXMuTiA9IHRoaXMuTyA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENiKCkge1xuICAgICAgdGhpcy5SZCA9IHRoaXMuaGVpZ2h0ID0gdGhpcy53aWR0aCA9IHRoaXMuUyA9IDA7XG4gICAgICB0aGlzLmYgPSB7fTtcbiAgICAgIHRoaXMuZi5SR0JBID0gbmV3IFJkKCk7XG4gICAgICB0aGlzLmYua2IgPSBuZXcgU2QoKTtcbiAgICAgIHRoaXMuc2QgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBUZCgpIHtcbiAgICAgIHRoaXMud2lkdGggPSBbMF07XG4gICAgICB0aGlzLmhlaWdodCA9IFswXTtcbiAgICAgIHRoaXMuUGQgPSBbMF07XG4gICAgICB0aGlzLlFkID0gWzBdO1xuICAgICAgdGhpcy5mb3JtYXQgPSBbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIFVkKCkge1xuICAgICAgdGhpcy5JZCA9IHRoaXMuZmQgPSB0aGlzLk1kID0gdGhpcy5oYiA9IHRoaXMuaWIgPSB0aGlzLmRhID0gdGhpcy5iZCA9IHRoaXMuY2QgPSB0aGlzLmogPSB0aGlzLnYgPSB0aGlzLkRhID0gdGhpcy5TZCA9IHRoaXMub2IgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBWZChhKSB7XG4gICAgICBhbGVydChcInRvZG86V2ViUFNhbXBsZXJQcm9jZXNzUGxhbmVcIik7XG4gICAgICByZXR1cm4gYS5UO1xuICAgIH1cbiAgICBmdW5jdGlvbiBXZChhLCBiKSB7XG4gICAgICB2YXIgYyA9IGEuVCxcbiAgICAgICAgZCA9IGIuYmEuZi5SR0JBLFxuICAgICAgICBlID0gZC5lYixcbiAgICAgICAgZiA9IGQuZmIgKyBhLmthICogZC5BLFxuICAgICAgICBnID0gUFtiLmJhLlNdLFxuICAgICAgICBoID0gYS55LFxuICAgICAgICBrID0gYS5PLFxuICAgICAgICBsID0gYS5mLFxuICAgICAgICBtID0gYS5OLFxuICAgICAgICBuID0gYS5lYSxcbiAgICAgICAgciA9IGEuVyxcbiAgICAgICAgcSA9IGIuY2MsXG4gICAgICAgIHQgPSBiLmRjLFxuICAgICAgICB2ID0gYi5NYyxcbiAgICAgICAgcCA9IGIuTmMsXG4gICAgICAgIHUgPSBhLmthLFxuICAgICAgICB3ID0gYS5rYSArIGEuVCxcbiAgICAgICAgeSA9IGEuVSxcbiAgICAgICAgQSA9ICh5ICsgMSkgPj4gMTtcbiAgICAgIDAgPT0gdVxuICAgICAgICA/IGcoaCwgaywgbnVsbCwgbnVsbCwgbCwgbSwgbiwgciwgbCwgbSwgbiwgciwgZSwgZiwgbnVsbCwgbnVsbCwgeSlcbiAgICAgICAgOiAoZyhiLmVjLCBiLmZjLCBoLCBrLCBxLCB0LCB2LCBwLCBsLCBtLCBuLCByLCBlLCBmIC0gZC5BLCBlLCBmLCB5KSxcbiAgICAgICAgICArK2MpO1xuICAgICAgZm9yICg7IHUgKyAyIDwgdzsgdSArPSAyKVxuICAgICAgICAocSA9IGwpLFxuICAgICAgICAgICh0ID0gbSksXG4gICAgICAgICAgKHYgPSBuKSxcbiAgICAgICAgICAocCA9IHIpLFxuICAgICAgICAgIChtICs9IGEuUmMpLFxuICAgICAgICAgIChyICs9IGEuUmMpLFxuICAgICAgICAgIChmICs9IDIgKiBkLkEpLFxuICAgICAgICAgIChrICs9IDIgKiBhLmZhKSxcbiAgICAgICAgICBnKGgsIGsgLSBhLmZhLCBoLCBrLCBxLCB0LCB2LCBwLCBsLCBtLCBuLCByLCBlLCBmIC0gZC5BLCBlLCBmLCB5KTtcbiAgICAgIGsgKz0gYS5mYTtcbiAgICAgIGEuaiArIHcgPCBhLm9cbiAgICAgICAgPyAoSShiLmVjLCBiLmZjLCBoLCBrLCB5KSxcbiAgICAgICAgICBJKGIuY2MsIGIuZGMsIGwsIG0sIEEpLFxuICAgICAgICAgIEkoYi5NYywgYi5OYywgbiwgciwgQSksXG4gICAgICAgICAgYy0tKVxuICAgICAgICA6IHcgJiAxIHx8XG4gICAgICAgICAgZyhcbiAgICAgICAgICAgIGgsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgbSxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICBuLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIGUsXG4gICAgICAgICAgICBmICsgZC5BLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB5XG4gICAgICAgICAgKTtcbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBYZChhLCBiLCBjKSB7XG4gICAgICB2YXIgZCA9IGEuRixcbiAgICAgICAgZSA9IFthLkpdO1xuICAgICAgaWYgKG51bGwgIT0gZCkge1xuICAgICAgICB2YXIgZiA9IGEuVSxcbiAgICAgICAgICBnID0gYi5iYS5TLFxuICAgICAgICAgIGggPSBnID09IHlhIHx8IGcgPT0gSmE7XG4gICAgICAgIGIgPSBiLmJhLmYuUkdCQTtcbiAgICAgICAgdmFyIGsgPSBbMF0sXG4gICAgICAgICAgbCA9IGEua2E7XG4gICAgICAgIGtbMF0gPSBhLlQ7XG4gICAgICAgIGEuS2IgJiZcbiAgICAgICAgICAoMCA9PSBsID8gLS1rWzBdIDogKC0tbCwgKGVbMF0gLT0gYS53aWR0aCkpLFxuICAgICAgICAgIGEuaiArIGEua2EgKyBhLlQgPT0gYS5vICYmIChrWzBdID0gYS5vIC0gYS5qIC0gbCkpO1xuICAgICAgICB2YXIgbSA9IGIuZWIsXG4gICAgICAgICAgbCA9IGIuZmIgKyBsICogYi5BO1xuICAgICAgICBhID0gZmMoZCwgZVswXSwgYS53aWR0aCwgZiwgaywgbSwgbCArIChoID8gMCA6IDMpLCBiLkEpO1xuICAgICAgICB4KGMgPT0gayk7XG4gICAgICAgIGEgJiYgaGIoZykgJiYgemEobSwgbCwgaCwgZiwgaywgYi5BKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnYyhhKSB7XG4gICAgICB2YXIgYiA9IGEubWEsXG4gICAgICAgIGMgPSBiLmJhLlMsXG4gICAgICAgIGQgPSAxMSA+IGMsXG4gICAgICAgIGUgPSBjID09IFVhIHx8IGMgPT0gVmEgfHwgYyA9PSB5YSB8fCBjID09IERiIHx8IDEyID09IGMgfHwgaGIoYyk7XG4gICAgICBiLm1lbW9yeSA9IG51bGw7XG4gICAgICBiLkliID0gbnVsbDtcbiAgICAgIGIuSmIgPSBudWxsO1xuICAgICAgYi5OZCA9IG51bGw7XG4gICAgICBpZiAoIWhjKGIuT2EsIGEsIGUgPyAxMSA6IDEyKSkgcmV0dXJuIDA7XG4gICAgICBlICYmIGhiKGMpICYmIGljKCk7XG4gICAgICBpZiAoYS5kYSkgYWxlcnQoXCJ0b2RvOnVzZV9zY2FsaW5nXCIpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChkKSB7XG4gICAgICAgICAgaWYgKCgoYi5JYiA9IFZkKSwgYS5LYikpIHtcbiAgICAgICAgICAgIGMgPSAoYS5VICsgMSkgPj4gMTtcbiAgICAgICAgICAgIGIubWVtb3J5ID0gVihhLlUgKyAyICogYyk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PSBiLm1lbW9yeSkgcmV0dXJuIDA7XG4gICAgICAgICAgICBiLmVjID0gYi5tZW1vcnk7XG4gICAgICAgICAgICBiLmZjID0gMDtcbiAgICAgICAgICAgIGIuY2MgPSBiLmVjO1xuICAgICAgICAgICAgYi5kYyA9IGIuZmMgKyBhLlU7XG4gICAgICAgICAgICBiLk1jID0gYi5jYztcbiAgICAgICAgICAgIGIuTmMgPSBiLmRjICsgYztcbiAgICAgICAgICAgIGIuSWIgPSBXZDtcbiAgICAgICAgICAgIGljKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgYWxlcnQoXCJ0b2RvOkVtaXRZVVZcIik7XG4gICAgICAgIGUgJiYgKChiLkpiID0gWGQpLCBkICYmIEFhKCkpO1xuICAgICAgfVxuICAgICAgaWYgKGQgJiYgIWpjKSB7XG4gICAgICAgIGZvciAoYSA9IDA7IDI1NiA+IGE7ICsrYSlcbiAgICAgICAgICAoWWRbYV0gPSAoODk4NTggKiAoYSAtIDEyOCkgKyBCYSkgPj4gV2EpLFxuICAgICAgICAgICAgKFpkW2FdID0gLTIyMDE0ICogKGEgLSAxMjgpICsgQmEpLFxuICAgICAgICAgICAgKCRkW2FdID0gLTQ1NzczICogKGEgLSAxMjgpKSxcbiAgICAgICAgICAgIChhZVthXSA9ICgxMTM2MTggKiAoYSAtIDEyOCkgKyBCYSkgPj4gV2EpO1xuICAgICAgICBmb3IgKGEgPSB0YTsgYSA8IEViOyArK2EpXG4gICAgICAgICAgKGIgPSAoNzYyODMgKiAoYSAtIDE2KSArIEJhKSA+PiBXYSksXG4gICAgICAgICAgICAoYmVbYSAtIHRhXSA9IGdhKGIsIDI1NSkpLFxuICAgICAgICAgICAgKGNlW2EgLSB0YV0gPSBnYSgoYiArIDgpID4+IDQsIDE1KSk7XG4gICAgICAgIGpjID0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiBrYyhhKSB7XG4gICAgICB2YXIgYiA9IGEubWEsXG4gICAgICAgIGMgPSBhLlUsXG4gICAgICAgIGQgPSBhLlQ7XG4gICAgICB4KCEoYS5rYSAmIDEpKTtcbiAgICAgIGlmICgwID49IGMgfHwgMCA+PSBkKSByZXR1cm4gMDtcbiAgICAgIGMgPSBiLkliKGEsIGIpO1xuICAgICAgbnVsbCAhPSBiLkpiICYmIGIuSmIoYSwgYiwgYyk7XG4gICAgICBiLkRjICs9IGM7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGMoYSkge1xuICAgICAgYS5tYS5tZW1vcnkgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYyhhLCBiLCBjLCBkKSB7XG4gICAgICBpZiAoNDcgIT0gRChhLCA4KSkgcmV0dXJuIDA7XG4gICAgICBiWzBdID0gRChhLCAxNCkgKyAxO1xuICAgICAgY1swXSA9IEQoYSwgMTQpICsgMTtcbiAgICAgIGRbMF0gPSBEKGEsIDEpO1xuICAgICAgcmV0dXJuIDAgIT0gRChhLCAzKSA/IDAgOiAhYS5oO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpYihhLCBiKSB7XG4gICAgICBpZiAoNCA+IGEpIHJldHVybiBhICsgMTtcbiAgICAgIHZhciBjID0gKGEgLSAyKSA+PiAxO1xuICAgICAgcmV0dXJuICgoMiArIChhICYgMSkpIDw8IGMpICsgRChiLCBjKSArIDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5jKGEsIGIpIHtcbiAgICAgIGlmICgxMjAgPCBiKSByZXR1cm4gYiAtIDEyMDtcbiAgICAgIHZhciBjID0gZGVbYiAtIDFdLFxuICAgICAgICBjID0gKGMgPj4gNCkgKiBhICsgKDggLSAoYyAmIDE1KSk7XG4gICAgICByZXR1cm4gMSA8PSBjID8gYyA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVhKGEsIGIsIGMpIHtcbiAgICAgIHZhciBkID0gcGIoYyk7XG4gICAgICBiICs9IGQgJiAyNTU7XG4gICAgICB2YXIgZSA9IGFbYl0uZyAtIDg7XG4gICAgICAwIDwgZSAmJlxuICAgICAgICAocWIoYywgYy51ICsgOCksXG4gICAgICAgIChkID0gcGIoYykpLFxuICAgICAgICAoYiArPSBhW2JdLnZhbHVlKSxcbiAgICAgICAgKGIgKz0gZCAmICgoMSA8PCBlKSAtIDEpKSk7XG4gICAgICBxYihjLCBjLnUgKyBhW2JdLmcpO1xuICAgICAgcmV0dXJuIGFbYl0udmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHViKGEsIGIsIGMpIHtcbiAgICAgIGMuZyArPSBhLmc7XG4gICAgICBjLnZhbHVlICs9IChhLnZhbHVlIDw8IGIpID4+PiAwO1xuICAgICAgeCg4ID49IGMuZyk7XG4gICAgICByZXR1cm4gYS5nO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYShhLCBiLCBjKSB7XG4gICAgICB2YXIgZCA9IGEueGM7XG4gICAgICBiID0gMCA9PSBkID8gMCA6IGEudmNbYS5tZCAqIChjID4+IGQpICsgKGIgPj4gZCldO1xuICAgICAgeChiIDwgYS5XYik7XG4gICAgICByZXR1cm4gYS5ZYVtiXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb2MoYSwgYiwgYywgZCkge1xuICAgICAgdmFyIGUgPSBhLmFiLFxuICAgICAgICBmID0gYS5jICogYixcbiAgICAgICAgZyA9IGEuQztcbiAgICAgIGIgPSBnICsgYjtcbiAgICAgIHZhciBoID0gYyxcbiAgICAgICAgayA9IGQ7XG4gICAgICBkID0gYS5UYTtcbiAgICAgIGZvciAoYyA9IGEuVWE7IDAgPCBlLS07ICkge1xuICAgICAgICB2YXIgbCA9IGEuZ2NbZV0sXG4gICAgICAgICAgbSA9IGcsXG4gICAgICAgICAgbiA9IGIsXG4gICAgICAgICAgciA9IGgsXG4gICAgICAgICAgcSA9IGssXG4gICAgICAgICAgayA9IGQsXG4gICAgICAgICAgaCA9IGMsXG4gICAgICAgICAgdCA9IGwuRWE7XG4gICAgICAgIHgobSA8IG4pO1xuICAgICAgICB4KG4gPD0gbC5uYyk7XG4gICAgICAgIHN3aXRjaCAobC5oYykge1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHBjKHIsIHEsIChuIC0gbSkgKiB0LCBrLCBoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHZhciB2ID0gbCxcbiAgICAgICAgICAgICAgcCA9IG0sXG4gICAgICAgICAgICAgIHUgPSBuLFxuICAgICAgICAgICAgICB3ID0gayxcbiAgICAgICAgICAgICAgeSA9IGgsXG4gICAgICAgICAgICAgIEEgPSB2LkVhO1xuICAgICAgICAgICAgMCA9PSBwICYmXG4gICAgICAgICAgICAgIChlZShyLCBxLCBudWxsLCBudWxsLCAxLCB3LCB5KSxcbiAgICAgICAgICAgICAgY2MociwgcSArIDEsIDAsIDAsIEEgLSAxLCB3LCB5ICsgMSksXG4gICAgICAgICAgICAgIChxICs9IEEpLFxuICAgICAgICAgICAgICAoeSArPSBBKSxcbiAgICAgICAgICAgICAgKytwKTtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIHZhciBFID0gMSA8PCB2LmIsXG4gICAgICAgICAgICAgICAgQiA9IEUgLSAxLFxuICAgICAgICAgICAgICAgIEMgPSB4YShBLCB2LmIpLFxuICAgICAgICAgICAgICAgIE4gPSB2LkssXG4gICAgICAgICAgICAgICAgdiA9IHYudyArIChwID4+IHYuYikgKiBDO1xuICAgICAgICAgICAgICBwIDwgdTtcblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciB6ID0gTixcbiAgICAgICAgICAgICAgICBRID0gdixcbiAgICAgICAgICAgICAgICBTID0gMTtcbiAgICAgICAgICAgICAgZm9yIChmZShyLCBxLCB3LCB5IC0gQSwgMSwgdywgeSk7IFMgPCBBOyApIHtcbiAgICAgICAgICAgICAgICB2YXIgSyA9IHFjWyh6W1ErK10gPj4gOCkgJiAxNV0sXG4gICAgICAgICAgICAgICAgICBEID0gKFMgJiB+QikgKyBFO1xuICAgICAgICAgICAgICAgIEQgPiBBICYmIChEID0gQSk7XG4gICAgICAgICAgICAgICAgSyhyLCBxICsgK1MsIHcsIHkgKyBTIC0gQSwgRCAtIFMsIHcsIHkgKyBTKTtcbiAgICAgICAgICAgICAgICBTID0gRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBxICs9IEE7XG4gICAgICAgICAgICAgIHkgKz0gQTtcbiAgICAgICAgICAgICAgKytwO1xuICAgICAgICAgICAgICBwICYgQiB8fCAodiArPSBDKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gIT0gbC5uYyAmJiBJKGssIGggLSB0LCBrLCBoICsgKG4gLSBtIC0gMSkgKiB0LCB0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHQgPSByO1xuICAgICAgICAgICAgdSA9IHE7XG4gICAgICAgICAgICByID0gbC5FYTtcbiAgICAgICAgICAgIHEgPSAxIDw8IGwuYjtcbiAgICAgICAgICAgIHcgPSBxIC0gMTtcbiAgICAgICAgICAgIHkgPSByICYgfnc7XG4gICAgICAgICAgICBBID0gciAtIHk7XG4gICAgICAgICAgICBwID0geGEociwgbC5iKTtcbiAgICAgICAgICAgIEUgPSBsLks7XG4gICAgICAgICAgICBmb3IgKGwgPSBsLncgKyAobSA+PiBsLmIpICogcDsgbSA8IG47ICkge1xuICAgICAgICAgICAgICBCID0gRTtcbiAgICAgICAgICAgICAgQyA9IGw7XG4gICAgICAgICAgICAgIE4gPSBuZXcgSmQoKTtcbiAgICAgICAgICAgICAgdiA9IHUgKyB5O1xuICAgICAgICAgICAgICBmb3IgKHogPSB1ICsgcjsgdSA8IHY7IClcbiAgICAgICAgICAgICAgICBkYyhCW0MrK10sIE4pLCBGYihOLCB0LCB1LCBxLCBrLCBoKSwgKHUgKz0gcSksIChoICs9IHEpO1xuICAgICAgICAgICAgICB1IDwgeiAmJlxuICAgICAgICAgICAgICAgIChkYyhCW0MrK10sIE4pLCBGYihOLCB0LCB1LCBBLCBrLCBoKSwgKHUgKz0gQSksIChoICs9IEEpKTtcbiAgICAgICAgICAgICAgKyttO1xuICAgICAgICAgICAgICBtICYgdyB8fCAobCArPSBwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGlmIChyID09IGsgJiYgcSA9PSBoICYmIDAgPCBsLmIpIHtcbiAgICAgICAgICAgICAgeSA9IChuIC0gbSkgKiB4YShsLkVhLCBsLmIpO1xuICAgICAgICAgICAgICB0ID0gaCArIChuIC0gbSkgKiB0IC0geTtcbiAgICAgICAgICAgICAgdSA9IGs7XG4gICAgICAgICAgICAgIHIgPSB0O1xuICAgICAgICAgICAgICBxID0gaztcbiAgICAgICAgICAgICAgdyA9IGg7XG4gICAgICAgICAgICAgIEEgPSB5O1xuICAgICAgICAgICAgICBwID0gW107XG4gICAgICAgICAgICAgIGZvciAoeSA9IEEgLSAxOyAwIDw9IHk7IC0teSkgcFt5XSA9IHFbdyArIHldO1xuICAgICAgICAgICAgICBmb3IgKHkgPSBBIC0gMTsgMCA8PSB5OyAtLXkpIHVbciArIHldID0gcFt5XTtcbiAgICAgICAgICAgICAgcmMobCwgbSwgbiwgaywgdCwgaywgaCk7XG4gICAgICAgICAgICB9IGVsc2UgcmMobCwgbSwgbiwgciwgcSwgaywgaCk7XG4gICAgICAgIH1cbiAgICAgICAgaCA9IGQ7XG4gICAgICAgIGsgPSBjO1xuICAgICAgfVxuICAgICAgayAhPSBjICYmIEkoZCwgYywgaCwgaywgZik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdlKGEsIGIpIHtcbiAgICAgIHZhciBjID0gYS5WLFxuICAgICAgICBkID0gYS5CYSArIGEuYyAqIGEuQyxcbiAgICAgICAgZSA9IGIgLSBhLkM7XG4gICAgICB4KGIgPD0gYS5sLm8pO1xuICAgICAgeCgxNiA+PSBlKTtcbiAgICAgIGlmICgwIDwgZSkge1xuICAgICAgICB2YXIgZiA9IGEubCxcbiAgICAgICAgICBnID0gYS5UYSxcbiAgICAgICAgICBoID0gYS5VYSxcbiAgICAgICAgICBrID0gZi53aWR0aDtcbiAgICAgICAgb2MoYSwgZSwgYywgZCk7XG4gICAgICAgIGggPSBbaF07XG4gICAgICAgIGMgPSBhLkM7XG4gICAgICAgIGQgPSBiO1xuICAgICAgICBlID0gaDtcbiAgICAgICAgeChjIDwgZCk7XG4gICAgICAgIHgoZi52IDwgZi52YSk7XG4gICAgICAgIGQgPiBmLm8gJiYgKGQgPSBmLm8pO1xuICAgICAgICBpZiAoYyA8IGYuaikge1xuICAgICAgICAgIHZhciBsID0gZi5qIC0gYyxcbiAgICAgICAgICAgIGMgPSBmLmo7XG4gICAgICAgICAgZVswXSArPSBsICogaztcbiAgICAgICAgfVxuICAgICAgICBjID49IGRcbiAgICAgICAgICA/IChjID0gMClcbiAgICAgICAgICA6ICgoZVswXSArPSA0ICogZi52KSxcbiAgICAgICAgICAgIChmLmthID0gYyAtIGYuaiksXG4gICAgICAgICAgICAoZi5VID0gZi52YSAtIGYudiksXG4gICAgICAgICAgICAoZi5UID0gZCAtIGMpLFxuICAgICAgICAgICAgKGMgPSAxKSk7XG4gICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgaCA9IGhbMF07XG4gICAgICAgICAgYyA9IGEuY2E7XG4gICAgICAgICAgaWYgKDExID4gYy5TKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICB2YXIgbSA9IGMuZi5SR0JBLFxuICAgICAgICAgICAgICAgIGQgPSBjLlMsXG4gICAgICAgICAgICAgICAgZSA9IGYuVSxcbiAgICAgICAgICAgICAgICBmID0gZi5ULFxuICAgICAgICAgICAgICAgIGwgPSBtLmViLFxuICAgICAgICAgICAgICAgIG4gPSBtLkEsXG4gICAgICAgICAgICAgICAgciA9IGYsXG4gICAgICAgICAgICAgICAgbSA9IG0uZmIgKyBhLk1hICogbS5BO1xuICAgICAgICAgICAgICAwIDwgci0tO1xuXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIHEgPSBnLFxuICAgICAgICAgICAgICAgIHQgPSBoLFxuICAgICAgICAgICAgICAgIHYgPSBlLFxuICAgICAgICAgICAgICAgIHAgPSBsLFxuICAgICAgICAgICAgICAgIHUgPSBtO1xuICAgICAgICAgICAgICBzd2l0Y2ggKGQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENhOlxuICAgICAgICAgICAgICAgICAgc2MocSwgdCwgdiwgcCwgdSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFVhOlxuICAgICAgICAgICAgICAgICAgR2IocSwgdCwgdiwgcCwgdSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHpiOlxuICAgICAgICAgICAgICAgICAgR2IocSwgdCwgdiwgcCwgdSk7XG4gICAgICAgICAgICAgICAgICB6YShwLCB1LCAwLCB2LCAxLCAwKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgdGM6XG4gICAgICAgICAgICAgICAgICB1YyhxLCB0LCB2LCBwLCB1KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVmE6XG4gICAgICAgICAgICAgICAgICBmYihxLCB0LCB2LCBwLCB1LCAxKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQWI6XG4gICAgICAgICAgICAgICAgICBmYihxLCB0LCB2LCBwLCB1LCAxKTtcbiAgICAgICAgICAgICAgICAgIHphKHAsIHUsIDAsIHYsIDEsIDApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSB5YTpcbiAgICAgICAgICAgICAgICAgIGZiKHEsIHQsIHYsIHAsIHUsIDApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBKYTpcbiAgICAgICAgICAgICAgICAgIGZiKHEsIHQsIHYsIHAsIHUsIDApO1xuICAgICAgICAgICAgICAgICAgemEocCwgdSwgMSwgdiwgMSwgMCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERiOlxuICAgICAgICAgICAgICAgICAgSGIocSwgdCwgdiwgcCwgdSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEJiOlxuICAgICAgICAgICAgICAgICAgSGIocSwgdCwgdiwgcCwgdSk7XG4gICAgICAgICAgICAgICAgICB2YyhwLCB1LCB2LCAxLCAwKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugd2M6XG4gICAgICAgICAgICAgICAgICB4YyhxLCB0LCB2LCBwLCB1KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB4KDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGggKz0gaztcbiAgICAgICAgICAgICAgbSArPSBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYS5NYSArPSBmO1xuICAgICAgICAgIH0gZWxzZSBhbGVydChcInRvZG86RW1pdFJlc2NhbGVkUm93c1lVVkFcIik7XG4gICAgICAgICAgeChhLk1hIDw9IGMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYS5DID0gYjtcbiAgICAgIHgoYS5DIDw9IGEuaSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHljKGEpIHtcbiAgICAgIHZhciBiO1xuICAgICAgaWYgKDAgPCBhLnVhKSByZXR1cm4gMDtcbiAgICAgIGZvciAoYiA9IDA7IGIgPCBhLldiOyArK2IpIHtcbiAgICAgICAgdmFyIGMgPSBhLllhW2JdLkcsXG4gICAgICAgICAgZCA9IGEuWWFbYl0uSDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIDAgPCBjWzFdW2RbMV0gKyAwXS5nIHx8XG4gICAgICAgICAgMCA8IGNbMl1bZFsyXSArIDBdLmcgfHxcbiAgICAgICAgICAwIDwgY1szXVtkWzNdICsgMF0uZ1xuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gemMoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgaWYgKDAgIT0gYS5aKSB7XG4gICAgICAgIHZhciBnID0gYS5xZCxcbiAgICAgICAgICBoID0gYS5yZDtcbiAgICAgICAgZm9yICh4KG51bGwgIT0gaWFbYS5aXSk7IGIgPCBjOyArK2IpXG4gICAgICAgICAgaWFbYS5aXShnLCBoLCBkLCBlLCBkLCBlLCBmKSwgKGcgPSBkKSwgKGggPSBlKSwgKGUgKz0gZik7XG4gICAgICAgIGEucWQgPSBnO1xuICAgICAgICBhLnJkID0gaDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gSWIoYSwgYikge1xuICAgICAgdmFyIGMgPSBhLmwubWEsXG4gICAgICAgIGQgPSAwID09IGMuWiB8fCAxID09IGMuWiA/IGEubC5qIDogYS5DLFxuICAgICAgICBkID0gYS5DIDwgZCA/IGQgOiBhLkM7XG4gICAgICB4KGIgPD0gYS5sLm8pO1xuICAgICAgaWYgKGIgPiBkKSB7XG4gICAgICAgIHZhciBlID0gYS5sLndpZHRoLFxuICAgICAgICAgIGYgPSBjLmNhLFxuICAgICAgICAgIGcgPSBjLnRiICsgZSAqIGQsXG4gICAgICAgICAgaCA9IGEuVixcbiAgICAgICAgICBrID0gYS5CYSArIGEuYyAqIGQsXG4gICAgICAgICAgbCA9IGEuZ2M7XG4gICAgICAgIHgoMSA9PSBhLmFiKTtcbiAgICAgICAgeCgzID09IGxbMF0uaGMpO1xuICAgICAgICBoZShsWzBdLCBkLCBiLCBoLCBrLCBmLCBnKTtcbiAgICAgICAgemMoYywgZCwgYiwgZiwgZywgZSk7XG4gICAgICB9XG4gICAgICBhLkMgPSBhLk1hID0gYjtcbiAgICB9XG4gICAgZnVuY3Rpb24gSmIoYSwgYiwgYywgZCwgZSwgZiwgZykge1xuICAgICAgdmFyIGggPSBhLiQgLyBkLFxuICAgICAgICBrID0gYS4kICUgZCxcbiAgICAgICAgbCA9IGEubSxcbiAgICAgICAgbSA9IGEucyxcbiAgICAgICAgbiA9IGMgKyBhLiQsXG4gICAgICAgIHIgPSBuO1xuICAgICAgZSA9IGMgKyBkICogZTtcbiAgICAgIHZhciBxID0gYyArIGQgKiBmLFxuICAgICAgICB0ID0gMjgwICsgbS51YSxcbiAgICAgICAgdiA9IGEuUGIgPyBoIDogMTY3NzcyMTYsXG4gICAgICAgIHAgPSAwIDwgbS51YSA/IG0uV2EgOiBudWxsLFxuICAgICAgICB1ID0gbS53YyxcbiAgICAgICAgdyA9IG4gPCBxID8gaGEobSwgaywgaCkgOiBudWxsO1xuICAgICAgeChhLkMgPCBmKTtcbiAgICAgIHgocSA8PSBlKTtcbiAgICAgIHZhciB5ID0gITE7XG4gICAgICBhOiBmb3IgKDs7KSB7XG4gICAgICAgIGZvciAoOyB5IHx8IG4gPCBxOyApIHtcbiAgICAgICAgICB2YXIgQSA9IDA7XG4gICAgICAgICAgaWYgKGggPj0gdikge1xuICAgICAgICAgICAgdmFyIHYgPSBhLFxuICAgICAgICAgICAgICBFID0gbiAtIGM7XG4gICAgICAgICAgICB4KHYuUGIpO1xuICAgICAgICAgICAgdi53ZCA9IHYubTtcbiAgICAgICAgICAgIHYueGQgPSBFO1xuICAgICAgICAgICAgMCA8IHYucy51YSAmJiAkYih2LnMuV2EsIHYucy52Yik7XG4gICAgICAgICAgICB2ID0gaCArIGllO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrICYgdSB8fCAodyA9IGhhKG0sIGssIGgpKTtcbiAgICAgICAgICB4KG51bGwgIT0gdyk7XG4gICAgICAgICAgdy5RYiAmJiAoKGJbbl0gPSB3LnFiKSwgKHkgPSAhMCkpO1xuICAgICAgICAgIGlmICgheSlcbiAgICAgICAgICAgIGlmICgoU2EobCksIHcuamMpKSB7XG4gICAgICAgICAgICAgIHZhciBBID0gbCxcbiAgICAgICAgICAgICAgICBFID0gYixcbiAgICAgICAgICAgICAgICBCID0gbixcbiAgICAgICAgICAgICAgICBDID0gdy5wZFtwYihBKSAmICh4YiAtIDEpXTtcbiAgICAgICAgICAgICAgeCh3LmpjKTtcbiAgICAgICAgICAgICAgMjU2ID4gQy5nXG4gICAgICAgICAgICAgICAgPyAocWIoQSwgQS51ICsgQy5nKSwgKEVbQl0gPSBDLnZhbHVlKSwgKEEgPSAwKSlcbiAgICAgICAgICAgICAgICA6IChxYihBLCBBLnUgKyBDLmcgLSAyNTYpLCB4KDI1NiA8PSBDLnZhbHVlKSwgKEEgPSBDLnZhbHVlKSk7XG4gICAgICAgICAgICAgIDAgPT0gQSAmJiAoeSA9ICEwKTtcbiAgICAgICAgICAgIH0gZWxzZSBBID0gdWEody5HWzBdLCB3LkhbMF0sIGwpO1xuICAgICAgICAgIGlmIChsLmgpIGJyZWFrO1xuICAgICAgICAgIGlmICh5IHx8IDI1NiA+IEEpIHtcbiAgICAgICAgICAgIGlmICgheSlcbiAgICAgICAgICAgICAgaWYgKHcubmQpIGJbbl0gPSAody5xYiB8IChBIDw8IDgpKSA+Pj4gMDtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU2EobCk7XG4gICAgICAgICAgICAgICAgeSA9IHVhKHcuR1sxXSwgdy5IWzFdLCBsKTtcbiAgICAgICAgICAgICAgICBTYShsKTtcbiAgICAgICAgICAgICAgICBFID0gdWEody5HWzJdLCB3LkhbMl0sIGwpO1xuICAgICAgICAgICAgICAgIEIgPSB1YSh3LkdbM10sIHcuSFszXSwgbCk7XG4gICAgICAgICAgICAgICAgaWYgKGwuaCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgYltuXSA9ICgoQiA8PCAyNCkgfCAoeSA8PCAxNikgfCAoQSA8PCA4KSB8IEUpID4+PiAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB5ID0gITE7XG4gICAgICAgICAgICArK247XG4gICAgICAgICAgICArK2s7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGsgPj0gZCAmJlxuICAgICAgICAgICAgICAoKGsgPSAwKSxcbiAgICAgICAgICAgICAgKytoLFxuICAgICAgICAgICAgICBudWxsICE9IGcgJiYgaCA8PSBmICYmICEoaCAlIDE2KSAmJiBnKGEsIGgpLFxuICAgICAgICAgICAgICBudWxsICE9IHApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGZvciAoOyByIDwgbjsgKVxuICAgICAgICAgICAgICAgIChBID0gYltyKytdKSxcbiAgICAgICAgICAgICAgICAgIChwLlhbKCg1MDY4MzI4MjkgKiBBKSAmIDQyOTQ5NjcyOTUpID4+PiBwLk1iXSA9IEEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoMjgwID4gQSkge1xuICAgICAgICAgICAgQSA9IGliKEEgLSAyNTYsIGwpO1xuICAgICAgICAgICAgRSA9IHVhKHcuR1s0XSwgdy5IWzRdLCBsKTtcbiAgICAgICAgICAgIFNhKGwpO1xuICAgICAgICAgICAgRSA9IGliKEUsIGwpO1xuICAgICAgICAgICAgRSA9IG5jKGQsIEUpO1xuICAgICAgICAgICAgaWYgKGwuaCkgYnJlYWs7XG4gICAgICAgICAgICBpZiAobiAtIGMgPCBFIHx8IGUgLSBuIDwgQSkgYnJlYWsgYTtcbiAgICAgICAgICAgIGVsc2UgZm9yIChCID0gMDsgQiA8IEE7ICsrQikgYltuICsgQl0gPSBiW24gKyBCIC0gRV07XG4gICAgICAgICAgICBuICs9IEE7XG4gICAgICAgICAgICBmb3IgKGsgKz0gQTsgayA+PSBkOyApXG4gICAgICAgICAgICAgIChrIC09IGQpLCArK2gsIG51bGwgIT0gZyAmJiBoIDw9IGYgJiYgIShoICUgMTYpICYmIGcoYSwgaCk7XG4gICAgICAgICAgICB4KG4gPD0gZSk7XG4gICAgICAgICAgICBrICYgdSAmJiAodyA9IGhhKG0sIGssIGgpKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9IHApXG4gICAgICAgICAgICAgIGZvciAoOyByIDwgbjsgKVxuICAgICAgICAgICAgICAgIChBID0gYltyKytdKSxcbiAgICAgICAgICAgICAgICAgIChwLlhbKCg1MDY4MzI4MjkgKiBBKSAmIDQyOTQ5NjcyOTUpID4+PiBwLk1iXSA9IEEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoQSA8IHQpIHtcbiAgICAgICAgICAgIHkgPSBBIC0gMjgwO1xuICAgICAgICAgICAgZm9yICh4KG51bGwgIT0gcCk7IHIgPCBuOyApXG4gICAgICAgICAgICAgIChBID0gYltyKytdKSwgKHAuWFsoKDUwNjgzMjgyOSAqIEEpICYgNDI5NDk2NzI5NSkgPj4+IHAuTWJdID0gQSk7XG4gICAgICAgICAgICBBID0gbjtcbiAgICAgICAgICAgIEUgPSBwO1xuICAgICAgICAgICAgeCghKHkgPj4+IEUuWGEpKTtcbiAgICAgICAgICAgIGJbQV0gPSBFLlhbeV07XG4gICAgICAgICAgICB5ID0gITA7XG4gICAgICAgICAgfSBlbHNlIGJyZWFrIGE7XG4gICAgICAgICAgeSB8fCB4KGwuaCA9PSBkYihsKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEuUGIgJiYgbC5oICYmIG4gPCBlKVxuICAgICAgICAgIHgoYS5tLmgpLFxuICAgICAgICAgICAgKGEuYSA9IDUpLFxuICAgICAgICAgICAgKGEubSA9IGEud2QpLFxuICAgICAgICAgICAgKGEuJCA9IGEueGQpLFxuICAgICAgICAgICAgMCA8IGEucy51YSAmJiAkYihhLnMudmIsIGEucy5XYSk7XG4gICAgICAgIGVsc2UgaWYgKGwuaCkgYnJlYWsgYTtcbiAgICAgICAgZWxzZSBudWxsICE9IGcgJiYgZyhhLCBoID4gZiA/IGYgOiBoKSwgKGEuYSA9IDApLCAoYS4kID0gbiAtIGMpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGEuYSA9IDM7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQWMoYSkge1xuICAgICAgeChudWxsICE9IGEpO1xuICAgICAgYS52YyA9IG51bGw7XG4gICAgICBhLnljID0gbnVsbDtcbiAgICAgIGEuWWEgPSBudWxsO1xuICAgICAgdmFyIGIgPSBhLldhO1xuICAgICAgbnVsbCAhPSBiICYmIChiLlggPSBudWxsKTtcbiAgICAgIGEudmIgPSBudWxsO1xuICAgICAgeChudWxsICE9IGEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBCYygpIHtcbiAgICAgIHZhciBhID0gbmV3IGplKCk7XG4gICAgICBpZiAobnVsbCA9PSBhKSByZXR1cm4gbnVsbDtcbiAgICAgIGEuYSA9IDA7XG4gICAgICBhLnhiID0gQ2M7XG4gICAgICBnYihcIlByZWRpY3RvclwiLCBcIlZQOExQcmVkaWN0b3JzXCIpO1xuICAgICAgZ2IoXCJQcmVkaWN0b3JcIiwgXCJWUDhMUHJlZGljdG9yc19DXCIpO1xuICAgICAgZ2IoXCJQcmVkaWN0b3JBZGRcIiwgXCJWUDhMUHJlZGljdG9yc0FkZFwiKTtcbiAgICAgIGdiKFwiUHJlZGljdG9yQWRkXCIsIFwiVlA4TFByZWRpY3RvcnNBZGRfQ1wiKTtcbiAgICAgIHBjID0gS2Q7XG4gICAgICBGYiA9IExkO1xuICAgICAgc2MgPSBNZDtcbiAgICAgIEdiID0gTmQ7XG4gICAgICBIYiA9IE9kO1xuICAgICAgeGMgPSBQZDtcbiAgICAgIHVjID0gUWQ7XG4gICAgICBzZWxmLlZQOExNYXBDb2xvcjMyYiA9IGtlO1xuICAgICAgc2VsZi5WUDhMTWFwQ29sb3I4YiA9IGxlO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJiKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHZhciBmID0gMSxcbiAgICAgICAgZyA9IFthXSxcbiAgICAgICAgaCA9IFtiXSxcbiAgICAgICAgayA9IGQubSxcbiAgICAgICAgbCA9IGQucyxcbiAgICAgICAgbSA9IG51bGwsXG4gICAgICAgIG4gPSAwO1xuICAgICAgYTogZm9yICg7Oykge1xuICAgICAgICBpZiAoYylcbiAgICAgICAgICBmb3IgKDsgZiAmJiBEKGssIDEpOyApIHtcbiAgICAgICAgICAgIHZhciByID0gZyxcbiAgICAgICAgICAgICAgcSA9IGgsXG4gICAgICAgICAgICAgIHQgPSBkLFxuICAgICAgICAgICAgICB2ID0gMSxcbiAgICAgICAgICAgICAgcCA9IHQubSxcbiAgICAgICAgICAgICAgdSA9IHQuZ2NbdC5hYl0sXG4gICAgICAgICAgICAgIHcgPSBEKHAsIDIpO1xuICAgICAgICAgICAgaWYgKHQuT2MgJiAoMSA8PCB3KSkgZiA9IDA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdC5PYyB8PSAxIDw8IHc7XG4gICAgICAgICAgICAgIHUuaGMgPSB3O1xuICAgICAgICAgICAgICB1LkVhID0gclswXTtcbiAgICAgICAgICAgICAgdS5uYyA9IHFbMF07XG4gICAgICAgICAgICAgIHUuSyA9IFtudWxsXTtcbiAgICAgICAgICAgICAgKyt0LmFiO1xuICAgICAgICAgICAgICB4KDQgPj0gdC5hYik7XG4gICAgICAgICAgICAgIHN3aXRjaCAodykge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICB1LmIgPSBEKHAsIDMpICsgMjtcbiAgICAgICAgICAgICAgICAgIHYgPSByYih4YSh1LkVhLCB1LmIpLCB4YSh1Lm5jLCB1LmIpLCAwLCB0LCB1LkspO1xuICAgICAgICAgICAgICAgICAgdS5LID0gdS5LWzBdO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgdmFyIHkgPSBEKHAsIDgpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgQSA9IDE2IDwgeSA/IDAgOiA0IDwgeSA/IDEgOiAyIDwgeSA/IDIgOiAzO1xuICAgICAgICAgICAgICAgICAgclswXSA9IHhhKHUuRWEsIEEpO1xuICAgICAgICAgICAgICAgICAgdS5iID0gQTtcbiAgICAgICAgICAgICAgICAgIHZhciB2ID0gcmIoeSwgMSwgMCwgdCwgdS5LKSxcbiAgICAgICAgICAgICAgICAgICAgRTtcbiAgICAgICAgICAgICAgICAgIGlmICgoRSA9IHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBCLFxuICAgICAgICAgICAgICAgICAgICAgIEMgPSB5LFxuICAgICAgICAgICAgICAgICAgICAgIE4gPSB1LFxuICAgICAgICAgICAgICAgICAgICAgIHogPSAxIDw8ICg4ID4+IE4uYiksXG4gICAgICAgICAgICAgICAgICAgICAgUSA9IFYoeik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09IFEpIEUgPSAwO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgUyA9IE4uS1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEsgPSBOLnc7XG4gICAgICAgICAgICAgICAgICAgICAgUVswXSA9IE4uS1swXVswXTtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKEIgPSAxOyBCIDwgMSAqIEM7ICsrQikgUVtCXSA9IHliKFNbSyArIEJdLCBRW0IgLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yICg7IEIgPCA0ICogejsgKytCKSBRW0JdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICBOLktbMF0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIE4uS1swXSA9IFE7XG4gICAgICAgICAgICAgICAgICAgICAgRSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHYgPSBFO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHgoMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZiA9IHY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBnID0gZ1swXTtcbiAgICAgICAgaCA9IGhbMF07XG4gICAgICAgIGlmIChmICYmIEQoaywgMSkgJiYgKChuID0gRChrLCA0KSksIChmID0gMSA8PSBuICYmIDExID49IG4pLCAhZikpIHtcbiAgICAgICAgICBkLmEgPSAzO1xuICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIEg7XG4gICAgICAgIGlmICgoSCA9IGYpKVxuICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgIHZhciBGID0gZCxcbiAgICAgICAgICAgICAgRyA9IGcsXG4gICAgICAgICAgICAgIEwgPSBoLFxuICAgICAgICAgICAgICBKID0gbixcbiAgICAgICAgICAgICAgVCA9IGMsXG4gICAgICAgICAgICAgIERhLFxuICAgICAgICAgICAgICBiYSxcbiAgICAgICAgICAgICAgWCA9IEYubSxcbiAgICAgICAgICAgICAgUiA9IEYucyxcbiAgICAgICAgICAgICAgUCA9IFtudWxsXSxcbiAgICAgICAgICAgICAgVSxcbiAgICAgICAgICAgICAgVyA9IDEsXG4gICAgICAgICAgICAgIGFhID0gMCxcbiAgICAgICAgICAgICAgbmEgPSBtZVtKXTtcbiAgICAgICAgICAgIGM6IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgaWYgKFQgJiYgRChYLCAxKSkge1xuICAgICAgICAgICAgICAgIHZhciBjYSA9IEQoWCwgMykgKyAyLFxuICAgICAgICAgICAgICAgICAgZ2EgPSB4YShHLCBjYSksXG4gICAgICAgICAgICAgICAgICBrYSA9IHhhKEwsIGNhKSxcbiAgICAgICAgICAgICAgICAgIHFhID0gZ2EgKiBrYTtcbiAgICAgICAgICAgICAgICBpZiAoIXJiKGdhLCBrYSwgMCwgRiwgUCkpIGJyZWFrIGM7XG4gICAgICAgICAgICAgICAgUCA9IFBbMF07XG4gICAgICAgICAgICAgICAgUi54YyA9IGNhO1xuICAgICAgICAgICAgICAgIGZvciAoRGEgPSAwOyBEYSA8IHFhOyArK0RhKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgaWEgPSAoUFtEYV0gPj4gOCkgJiA2NTUzNTtcbiAgICAgICAgICAgICAgICAgIFBbRGFdID0gaWE7XG4gICAgICAgICAgICAgICAgICBpYSA+PSBXICYmIChXID0gaWEgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFguaCkgYnJlYWsgYztcbiAgICAgICAgICAgICAgZm9yIChiYSA9IDA7IDUgPiBiYTsgKytiYSkge1xuICAgICAgICAgICAgICAgIHZhciBZID0gRGNbYmFdO1xuICAgICAgICAgICAgICAgICFiYSAmJiAwIDwgSiAmJiAoWSArPSAxIDw8IEopO1xuICAgICAgICAgICAgICAgIGFhIDwgWSAmJiAoYWEgPSBZKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgbWEgPSB3YShXICogbmEsIE8pO1xuICAgICAgICAgICAgICB2YXIgdWEgPSBXLFxuICAgICAgICAgICAgICAgIHZhID0gd2EodWEsIFViKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT0gdmEpIHZhciBsYSA9IG51bGw7XG4gICAgICAgICAgICAgIGVsc2UgeCg2NTUzNiA+PSB1YSksIChsYSA9IHZhKTtcbiAgICAgICAgICAgICAgdmFyIGhhID0gVihhYSk7XG4gICAgICAgICAgICAgIGlmIChudWxsID09IGxhIHx8IG51bGwgPT0gaGEgfHwgbnVsbCA9PSBtYSkge1xuICAgICAgICAgICAgICAgIEYuYSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgcGEgPSBtYTtcbiAgICAgICAgICAgICAgZm9yIChEYSA9IFUgPSAwOyBEYSA8IFc7ICsrRGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgamEgPSBsYVtEYV0sXG4gICAgICAgICAgICAgICAgICBkYSA9IGphLkcsXG4gICAgICAgICAgICAgICAgICBlYSA9IGphLkgsXG4gICAgICAgICAgICAgICAgICBGYSA9IDAsXG4gICAgICAgICAgICAgICAgICByYSA9IDEsXG4gICAgICAgICAgICAgICAgICBIYSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChiYSA9IDA7IDUgPiBiYTsgKytiYSkge1xuICAgICAgICAgICAgICAgICAgWSA9IERjW2JhXTtcbiAgICAgICAgICAgICAgICAgIGRhW2JhXSA9IHBhO1xuICAgICAgICAgICAgICAgICAgZWFbYmFdID0gVTtcbiAgICAgICAgICAgICAgICAgICFiYSAmJiAwIDwgSiAmJiAoWSArPSAxIDw8IEopO1xuICAgICAgICAgICAgICAgICAgZDoge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2EsXG4gICAgICAgICAgICAgICAgICAgICAgemEgPSBZLFxuICAgICAgICAgICAgICAgICAgICAgIHRhID0gRixcbiAgICAgICAgICAgICAgICAgICAgICBvYSA9IGhhLFxuICAgICAgICAgICAgICAgICAgICAgIGRiID0gcGEsXG4gICAgICAgICAgICAgICAgICAgICAgZWIgPSBVLFxuICAgICAgICAgICAgICAgICAgICAgIElhID0gMCxcbiAgICAgICAgICAgICAgICAgICAgICBLYSA9IHRhLm0sXG4gICAgICAgICAgICAgICAgICAgICAgZmIgPSBEKEthLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgTShvYSwgMCwgMCwgemEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2IgPSBEKEthLCAxKSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYiA9IEQoS2EsIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgSmEgPSBEKEthLCAwID09IGhiID8gMSA6IDgpO1xuICAgICAgICAgICAgICAgICAgICAgIG9hW0phXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgMiA9PSBnYiAmJiAoKEphID0gRChLYSwgOCkpLCAob2FbSmFdID0gMSkpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciB5YSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIFVhID0gVigxOSksXG4gICAgICAgICAgICAgICAgICAgICAgICBWYSA9IEQoS2EsIDQpICsgNDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoMTkgPCBWYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGEuYSA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgQWEgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgZDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZm9yIChzYSA9IDA7IHNhIDwgVmE7ICsrc2EpIFVhW25lW3NhXV0gPSBEKEthLCAzKTtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgQmEgPSB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzYiA9IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFdhID0gdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpYiA9IFVhLFxuICAgICAgICAgICAgICAgICAgICAgICAgQ2EgPSB6YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFhhID0gb2EsXG4gICAgICAgICAgICAgICAgICAgICAgICBPYSA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBMYSA9IFdhLm0sXG4gICAgICAgICAgICAgICAgICAgICAgICBZYSA9IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICBaYSA9IHdhKDEyOCwgTyk7XG4gICAgICAgICAgICAgICAgICAgICAgZTogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFaKFphLCAwLCA3LCBpYiwgMTkpKSBicmVhayBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEQoTGEsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrYiA9IDIgKyAyICogRChMYSwgMyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQmEgPSAyICsgRChMYSwga2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQmEgPiBDYSkgYnJlYWsgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBCYSA9IENhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChzYiA9IDA7IHNiIDwgQ2EgJiYgQmEtLTsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFNhKExhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyICRhID0gWmFbMCArIChwYihMYSkgJiAxMjcpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcWIoTGEsIExhLnUgKyAkYS5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpiID0gJGEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgxNiA+IGpiKSAoWGFbc2IrK10gPSBqYiksIDAgIT0gamIgJiYgKFlhID0gamIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGIgPSAxNiA9PSBqYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiID0gamIgLSAxNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iID0gb2VbYWJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmIgPSBEKExhLCBwZVthYl0pICsgbWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNiICsgYmIgPiBDYSkgYnJlYWsgZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuYiA9IGxiID8gWWEgOiAwOyAwIDwgYmItLTsgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYYVtzYisrXSA9IG5iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBPYSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBPYSB8fCAoV2EuYSA9IDMpO1xuICAgICAgICAgICAgICAgICAgICAgIHlhID0gT2E7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKHlhID0geWEgJiYgIUthLmgpICYmIChJYSA9IFooZGIsIGViLCA4LCBvYSwgemEpKTtcbiAgICAgICAgICAgICAgICAgICAgeWEgJiYgMCAhPSBJYSA/IChBYSA9IElhKSA6ICgodGEuYSA9IDMpLCAoQWEgPSAwKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoMCA9PSBBYSkgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIHJhICYmIDEgPT0gcWVbYmFdICYmIChyYSA9IDAgPT0gcGFbVV0uZyk7XG4gICAgICAgICAgICAgICAgICBGYSArPSBwYVtVXS5nO1xuICAgICAgICAgICAgICAgICAgVSArPSBBYTtcbiAgICAgICAgICAgICAgICAgIGlmICgzID49IGJhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBQYSA9IGhhWzBdLFxuICAgICAgICAgICAgICAgICAgICAgIHRiO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHRiID0gMTsgdGIgPCBZOyArK3RiKSBoYVt0Yl0gPiBQYSAmJiAoUGEgPSBoYVt0Yl0pO1xuICAgICAgICAgICAgICAgICAgICBIYSArPSBQYTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgamEubmQgPSByYTtcbiAgICAgICAgICAgICAgICBqYS5RYiA9IDA7XG4gICAgICAgICAgICAgICAgcmEgJiZcbiAgICAgICAgICAgICAgICAgICgoamEucWIgPVxuICAgICAgICAgICAgICAgICAgICAoKGRhWzNdW2VhWzNdICsgMF0udmFsdWUgPDwgMjQpIHxcbiAgICAgICAgICAgICAgICAgICAgICAoZGFbMV1bZWFbMV0gKyAwXS52YWx1ZSA8PCAxNikgfFxuICAgICAgICAgICAgICAgICAgICAgIGRhWzJdW2VhWzJdICsgMF0udmFsdWUpID4+PlxuICAgICAgICAgICAgICAgICAgICAwKSxcbiAgICAgICAgICAgICAgICAgIDAgPT0gRmEgJiZcbiAgICAgICAgICAgICAgICAgICAgMjU2ID4gZGFbMF1bZWFbMF0gKyAwXS52YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAoKGphLlFiID0gMSksIChqYS5xYiArPSBkYVswXVtlYVswXSArIDBdLnZhbHVlIDw8IDgpKSk7XG4gICAgICAgICAgICAgICAgamEuamMgPSAhamEuUWIgJiYgNiA+IEhhO1xuICAgICAgICAgICAgICAgIGlmIChqYS5qYykge1xuICAgICAgICAgICAgICAgICAgdmFyIEdhLFxuICAgICAgICAgICAgICAgICAgICBFYSA9IGphO1xuICAgICAgICAgICAgICAgICAgZm9yIChHYSA9IDA7IEdhIDwgeGI7ICsrR2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIE1hID0gR2EsXG4gICAgICAgICAgICAgICAgICAgICAgTmEgPSBFYS5wZFtNYV0sXG4gICAgICAgICAgICAgICAgICAgICAgdmIgPSBFYS5HWzBdW0VhLkhbMF0gKyBNYV07XG4gICAgICAgICAgICAgICAgICAgIDI1NiA8PSB2Yi52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgID8gKChOYS5nID0gdmIuZyArIDI1NiksIChOYS52YWx1ZSA9IHZiLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICgoTmEuZyA9IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgKE5hLnZhbHVlID0gMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAoTWEgPj49IHViKHZiLCA4LCBOYSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKE1hID4+PSB1YihFYS5HWzFdW0VhLkhbMV0gKyBNYV0sIDE2LCBOYSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKE1hID4+PSB1YihFYS5HWzJdW0VhLkhbMl0gKyBNYV0sIDAsIE5hKSksXG4gICAgICAgICAgICAgICAgICAgICAgICB1YihFYS5HWzNdW0VhLkhbM10gKyBNYV0sIDI0LCBOYSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBSLnZjID0gUDtcbiAgICAgICAgICAgICAgUi5XYiA9IFc7XG4gICAgICAgICAgICAgIFIuWWEgPSBsYTtcbiAgICAgICAgICAgICAgUi55YyA9IG1hO1xuICAgICAgICAgICAgICBIID0gMTtcbiAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEggPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgZiA9IEg7XG4gICAgICAgIGlmICghZikge1xuICAgICAgICAgIGQuYSA9IDM7XG4gICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoMCA8IG4pIHtcbiAgICAgICAgICBpZiAoKChsLnVhID0gMSA8PCBuKSwgIVpiKGwuV2EsIG4pKSkge1xuICAgICAgICAgICAgZC5hID0gMTtcbiAgICAgICAgICAgIGYgPSAwO1xuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBsLnVhID0gMDtcbiAgICAgICAgdmFyIFFhID0gZCxcbiAgICAgICAgICBjYiA9IGcsXG4gICAgICAgICAgb2IgPSBoLFxuICAgICAgICAgIFJhID0gUWEucyxcbiAgICAgICAgICBUYSA9IFJhLnhjO1xuICAgICAgICBRYS5jID0gY2I7XG4gICAgICAgIFFhLmkgPSBvYjtcbiAgICAgICAgUmEubWQgPSB4YShjYiwgVGEpO1xuICAgICAgICBSYS53YyA9IDAgPT0gVGEgPyAtMSA6ICgxIDw8IFRhKSAtIDE7XG4gICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgZC54YiA9IHJlO1xuICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgIH1cbiAgICAgICAgbSA9IFYoZyAqIGgpO1xuICAgICAgICBpZiAobnVsbCA9PSBtKSB7XG4gICAgICAgICAgZC5hID0gMTtcbiAgICAgICAgICBmID0gMDtcbiAgICAgICAgICBicmVhayBhO1xuICAgICAgICB9XG4gICAgICAgIGYgPSAoZiA9IEpiKGQsIG0sIDAsIGcsIGgsIGgsIG51bGwpKSAmJiAhay5oO1xuICAgICAgICBicmVhayBhO1xuICAgICAgfVxuICAgICAgZlxuICAgICAgICA/IChudWxsICE9IGUgPyAoZVswXSA9IG0pIDogKHgobnVsbCA9PSBtKSwgeChjKSksIChkLiQgPSAwKSwgYyB8fCBBYyhsKSlcbiAgICAgICAgOiBBYyhsKTtcbiAgICAgIHJldHVybiBmO1xuICAgIH1cbiAgICBmdW5jdGlvbiBFYyhhLCBiKSB7XG4gICAgICB2YXIgYyA9IGEuYyAqIGEuaSxcbiAgICAgICAgZCA9IGMgKyBiICsgMTYgKiBiO1xuICAgICAgeChhLmMgPD0gYik7XG4gICAgICBhLlYgPSBWKGQpO1xuICAgICAgaWYgKG51bGwgPT0gYS5WKSByZXR1cm4gKGEuVGEgPSBudWxsKSwgKGEuVWEgPSAwKSwgKGEuYSA9IDEpLCAwO1xuICAgICAgYS5UYSA9IGEuVjtcbiAgICAgIGEuVWEgPSBhLkJhICsgYyArIGI7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2UoYSwgYikge1xuICAgICAgdmFyIGMgPSBhLkMsXG4gICAgICAgIGQgPSBiIC0gYyxcbiAgICAgICAgZSA9IGEuVixcbiAgICAgICAgZiA9IGEuQmEgKyBhLmMgKiBjO1xuICAgICAgZm9yICh4KGIgPD0gYS5sLm8pOyAwIDwgZDsgKSB7XG4gICAgICAgIHZhciBnID0gMTYgPCBkID8gMTYgOiBkLFxuICAgICAgICAgIGggPSBhLmwubWEsXG4gICAgICAgICAgayA9IGEubC53aWR0aCxcbiAgICAgICAgICBsID0gayAqIGcsXG4gICAgICAgICAgbSA9IGguY2EsXG4gICAgICAgICAgbiA9IGgudGIgKyBrICogYyxcbiAgICAgICAgICByID0gYS5UYSxcbiAgICAgICAgICBxID0gYS5VYTtcbiAgICAgICAgb2MoYSwgZywgZSwgZik7XG4gICAgICAgIEZjKHIsIHEsIG0sIG4sIGwpO1xuICAgICAgICB6YyhoLCBjLCBjICsgZywgbSwgbiwgayk7XG4gICAgICAgIGQgLT0gZztcbiAgICAgICAgZSArPSBnICogYS5jO1xuICAgICAgICBjICs9IGc7XG4gICAgICB9XG4gICAgICB4KGMgPT0gYik7XG4gICAgICBhLkMgPSBhLk1hID0gYjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGUoYSwgYikge1xuICAgICAgdmFyIGMgPSBbMF0sXG4gICAgICAgIGQgPSBbMF0sXG4gICAgICAgIGUgPSBbMF07XG4gICAgICBhOiBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChudWxsID09IGEpIHJldHVybiAwO1xuICAgICAgICBpZiAobnVsbCA9PSBiKSByZXR1cm4gKGEuYSA9IDIpLCAwO1xuICAgICAgICBhLmwgPSBiO1xuICAgICAgICBhLmEgPSAwO1xuICAgICAgICBjYihhLm0sIGIuZGF0YSwgYi53LCBiLmhhKTtcbiAgICAgICAgaWYgKCFtYyhhLm0sIGMsIGQsIGUpKSB7XG4gICAgICAgICAgYS5hID0gMztcbiAgICAgICAgICBicmVhayBhO1xuICAgICAgICB9XG4gICAgICAgIGEueGIgPSBDYztcbiAgICAgICAgYi53aWR0aCA9IGNbMF07XG4gICAgICAgIGIuaGVpZ2h0ID0gZFswXTtcbiAgICAgICAgaWYgKCFyYihjWzBdLCBkWzBdLCAxLCBhLCBudWxsKSkgYnJlYWsgYTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICB4KDAgIT0gYS5hKTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1ZSgpIHtcbiAgICAgIHRoaXMudWIgPSB0aGlzLnlkID0gdGhpcy50ZCA9IHRoaXMuUmIgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2ZSgpIHtcbiAgICAgIHRoaXMuS2QgPSB0aGlzLkxkID0gdGhpcy5VZCA9IHRoaXMuVGQgPSB0aGlzLmkgPSB0aGlzLmMgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3ZSgpIHtcbiAgICAgIHRoaXMuRmIgPSB0aGlzLkJiID0gdGhpcy5DYiA9IDA7XG4gICAgICB0aGlzLlpiID0gVig0KTtcbiAgICAgIHRoaXMuTGIgPSBWKDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBHYygpIHtcbiAgICAgIHRoaXMuWWIgPSB3YigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB4ZSgpIHtcbiAgICAgIHRoaXMuamIgPSBWKDMpO1xuICAgICAgdGhpcy5XYyA9IEVkKFs0LCA4XSwgR2MpO1xuICAgICAgdGhpcy5YYyA9IEVkKFs0LCAxN10sIEdjKTtcbiAgICB9XG4gICAgZnVuY3Rpb24geWUoKSB7XG4gICAgICB0aGlzLlBjID0gdGhpcy53YiA9IHRoaXMuVGIgPSB0aGlzLnpkID0gMDtcbiAgICAgIHRoaXMudmQgPSBuZXcgVig0KTtcbiAgICAgIHRoaXMub2QgPSBuZXcgVig0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gWGEoKSB7XG4gICAgICB0aGlzLmxkID0gdGhpcy5MYSA9IHRoaXMuZGQgPSB0aGlzLnRjID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gSGMoKSB7XG4gICAgICB0aGlzLk5hID0gdGhpcy5sYSA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHplKCkge1xuICAgICAgdGhpcy5TYyA9IFswLCAwXTtcbiAgICAgIHRoaXMuRWIgPSBbMCwgMF07XG4gICAgICB0aGlzLlFjID0gWzAsIDBdO1xuICAgICAgdGhpcy5pYSA9IHRoaXMubGMgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBLYigpIHtcbiAgICAgIHRoaXMuYWQgPSBWKDM4NCk7XG4gICAgICB0aGlzLlphID0gMDtcbiAgICAgIHRoaXMuT2IgPSBWKDE2KTtcbiAgICAgIHRoaXMuJGIgPSB0aGlzLkFkID0gdGhpcy5pYSA9IHRoaXMuR2MgPSB0aGlzLkhjID0gdGhpcy5EZCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFlKCkge1xuICAgICAgdGhpcy51YyA9IHRoaXMuTSA9IHRoaXMuTmIgPSAwO1xuICAgICAgdGhpcy53YSA9IEFycmF5KG5ldyBYYSgpKTtcbiAgICAgIHRoaXMuWSA9IDA7XG4gICAgICB0aGlzLnlhID0gQXJyYXkobmV3IEtiKCkpO1xuICAgICAgdGhpcy5hYSA9IDA7XG4gICAgICB0aGlzLmwgPSBuZXcgT2EoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gSWMoKSB7XG4gICAgICB0aGlzLnkgPSBWKDE2KTtcbiAgICAgIHRoaXMuZiA9IFYoOCk7XG4gICAgICB0aGlzLmVhID0gVig4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQmUoKSB7XG4gICAgICB0aGlzLmNiID0gdGhpcy5hID0gMDtcbiAgICAgIHRoaXMuc2MgPSBcIlwiO1xuICAgICAgdGhpcy5tID0gbmV3IFdiKCk7XG4gICAgICB0aGlzLk9kID0gbmV3IHVlKCk7XG4gICAgICB0aGlzLktjID0gbmV3IHZlKCk7XG4gICAgICB0aGlzLmVkID0gbmV3IHllKCk7XG4gICAgICB0aGlzLlFhID0gbmV3IHdlKCk7XG4gICAgICB0aGlzLkljID0gdGhpcy4kYyA9IHRoaXMuQWEgPSAwO1xuICAgICAgdGhpcy5EID0gbmV3IEFlKCk7XG4gICAgICB0aGlzLlhiID0gdGhpcy5WYSA9IHRoaXMuSGIgPSB0aGlzLnpiID0gdGhpcy55YiA9IHRoaXMuVWIgPSB0aGlzLnphID0gMDtcbiAgICAgIHRoaXMuSmMgPSB3YSg4LCBXYik7XG4gICAgICB0aGlzLmlhID0gMDtcbiAgICAgIG5ldyBGKCk7XG4gICAgICB0aGlzLnBiID0gd2EoNCwgemUpO1xuICAgICAgdGhpcy5QYSA9IG5ldyB4ZSgpO1xuICAgICAgdGhpcy5CZCA9IHRoaXMua2MgPSAwO1xuICAgICAgdGhpcy5BYyA9IFtdO1xuICAgICAgdGhpcy5CYyA9IDA7XG4gICAgICB0aGlzLnpjID0gWzAsIDAsIDAsIDBdO1xuICAgICAgdGhpcy5HZCA9IEFycmF5KG5ldyBJYygpKTtcbiAgICAgIHRoaXMuSGQgPSAwO1xuICAgICAgdGhpcy5yYiA9IEFycmF5KG5ldyBIYygpKTtcbiAgICAgIHRoaXMuc2IgPSAwO1xuICAgICAgdGhpcy53YSA9IEFycmF5KG5ldyBYYSgpKTtcbiAgICAgIHRoaXMuWSA9IDA7XG4gICAgICB0aGlzLm9jID0gW107XG4gICAgICB0aGlzLnBjID0gMDtcbiAgICAgIHRoaXMuc2EgPSBbXTtcbiAgICAgIHRoaXMudGEgPSAwO1xuICAgICAgdGhpcy5xYSA9IFtdO1xuICAgICAgdGhpcy5yYSA9IDA7XG4gICAgICB0aGlzLkhhID0gW107XG4gICAgICB0aGlzLkIgPSB0aGlzLlIgPSB0aGlzLklhID0gMDtcbiAgICAgIHRoaXMuRWMgPSBbXTtcbiAgICAgIHRoaXMuTSA9IHRoaXMuamEgPSB0aGlzLlZiID0gdGhpcy5GYyA9IDA7XG4gICAgICB0aGlzLnlhID0gQXJyYXkobmV3IEtiKCkpO1xuICAgICAgdGhpcy5MID0gdGhpcy5hYSA9IDA7XG4gICAgICB0aGlzLmdkID0gRWQoWzQsIDJdLCBYYSk7XG4gICAgICB0aGlzLmdhID0gbnVsbDtcbiAgICAgIHRoaXMuRmEgPSBbXTtcbiAgICAgIHRoaXMuQ2MgPSB0aGlzLnFjID0gdGhpcy5QID0gMDtcbiAgICAgIHRoaXMuR2IgPSBbXTtcbiAgICAgIHRoaXMuVWMgPSAwO1xuICAgICAgdGhpcy5tYiA9IFtdO1xuICAgICAgdGhpcy5uYiA9IDA7XG4gICAgICB0aGlzLnJjID0gW107XG4gICAgICB0aGlzLkdhID0gdGhpcy5WYyA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdhKGEsIGIpIHtcbiAgICAgIHJldHVybiAwID4gYSA/IDAgOiBhID4gYiA/IGIgOiBhO1xuICAgIH1cbiAgICBmdW5jdGlvbiBPYSgpIHtcbiAgICAgIHRoaXMuVCA9IHRoaXMuVSA9IHRoaXMua2EgPSB0aGlzLmhlaWdodCA9IHRoaXMud2lkdGggPSAwO1xuICAgICAgdGhpcy55ID0gW107XG4gICAgICB0aGlzLmYgPSBbXTtcbiAgICAgIHRoaXMuZWEgPSBbXTtcbiAgICAgIHRoaXMuUmMgPSB0aGlzLmZhID0gdGhpcy5XID0gdGhpcy5OID0gdGhpcy5PID0gMDtcbiAgICAgIHRoaXMubWEgPSBcInZvaWRcIjtcbiAgICAgIHRoaXMucHV0ID0gXCJWUDhJb1B1dEhvb2tcIjtcbiAgICAgIHRoaXMuYWMgPSBcIlZQOElvU2V0dXBIb29rXCI7XG4gICAgICB0aGlzLmJjID0gXCJWUDhJb1RlYXJkb3duSG9va1wiO1xuICAgICAgdGhpcy5oYSA9IHRoaXMuS2IgPSAwO1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLmhiID0gdGhpcy5pYiA9IHRoaXMuZGEgPSB0aGlzLm8gPSB0aGlzLmogPSB0aGlzLnZhID0gdGhpcy52ID0gdGhpcy5EYSA9IHRoaXMub2IgPSB0aGlzLncgPSAwO1xuICAgICAgdGhpcy5GID0gW107XG4gICAgICB0aGlzLkogPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDZSgpIHtcbiAgICAgIHZhciBhID0gbmV3IEJlKCk7XG4gICAgICBudWxsICE9IGEgJiZcbiAgICAgICAgKChhLmEgPSAwKSwgKGEuc2MgPSBcIk9LXCIpLCAoYS5jYiA9IDApLCAoYS5YYiA9IDApLCBvYSB8fCAob2EgPSBEZSkpO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFQoYSwgYiwgYykge1xuICAgICAgMCA9PSBhLmEgJiYgKChhLmEgPSBiKSwgKGEuc2MgPSBjKSwgKGEuY2IgPSAwKSk7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gSmMoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIDMgPD0gYyAmJiAxNTcgPT0gYVtiICsgMF0gJiYgMSA9PSBhW2IgKyAxXSAmJiA0MiA9PSBhW2IgKyAyXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gS2MoYSwgYikge1xuICAgICAgaWYgKG51bGwgPT0gYSkgcmV0dXJuIDA7XG4gICAgICBhLmEgPSAwO1xuICAgICAgYS5zYyA9IFwiT0tcIjtcbiAgICAgIGlmIChudWxsID09IGIpIHJldHVybiBUKGEsIDIsIFwibnVsbCBWUDhJbyBwYXNzZWQgdG8gVlA4R2V0SGVhZGVycygpXCIpO1xuICAgICAgdmFyIGMgPSBiLmRhdGE7XG4gICAgICB2YXIgZCA9IGIudztcbiAgICAgIHZhciBlID0gYi5oYTtcbiAgICAgIGlmICg0ID4gZSkgcmV0dXJuIFQoYSwgNywgXCJUcnVuY2F0ZWQgaGVhZGVyLlwiKTtcbiAgICAgIHZhciBmID0gY1tkICsgMF0gfCAoY1tkICsgMV0gPDwgOCkgfCAoY1tkICsgMl0gPDwgMTYpO1xuICAgICAgdmFyIGcgPSBhLk9kO1xuICAgICAgZy5SYiA9ICEoZiAmIDEpO1xuICAgICAgZy50ZCA9IChmID4+IDEpICYgNztcbiAgICAgIGcueWQgPSAoZiA+PiA0KSAmIDE7XG4gICAgICBnLnViID0gZiA+PiA1O1xuICAgICAgaWYgKDMgPCBnLnRkKSByZXR1cm4gVChhLCAzLCBcIkluY29ycmVjdCBrZXlmcmFtZSBwYXJhbWV0ZXJzLlwiKTtcbiAgICAgIGlmICghZy55ZCkgcmV0dXJuIFQoYSwgNCwgXCJGcmFtZSBub3QgZGlzcGxheWFibGUuXCIpO1xuICAgICAgZCArPSAzO1xuICAgICAgZSAtPSAzO1xuICAgICAgdmFyIGggPSBhLktjO1xuICAgICAgaWYgKGcuUmIpIHtcbiAgICAgICAgaWYgKDcgPiBlKSByZXR1cm4gVChhLCA3LCBcImNhbm5vdCBwYXJzZSBwaWN0dXJlIGhlYWRlclwiKTtcbiAgICAgICAgaWYgKCFKYyhjLCBkLCBlKSkgcmV0dXJuIFQoYSwgMywgXCJCYWQgY29kZSB3b3JkXCIpO1xuICAgICAgICBoLmMgPSAoKGNbZCArIDRdIDw8IDgpIHwgY1tkICsgM10pICYgMTYzODM7XG4gICAgICAgIGguVGQgPSBjW2QgKyA0XSA+PiA2O1xuICAgICAgICBoLmkgPSAoKGNbZCArIDZdIDw8IDgpIHwgY1tkICsgNV0pICYgMTYzODM7XG4gICAgICAgIGguVWQgPSBjW2QgKyA2XSA+PiA2O1xuICAgICAgICBkICs9IDc7XG4gICAgICAgIGUgLT0gNztcbiAgICAgICAgYS56YSA9IChoLmMgKyAxNSkgPj4gNDtcbiAgICAgICAgYS5VYiA9IChoLmkgKyAxNSkgPj4gNDtcbiAgICAgICAgYi53aWR0aCA9IGguYztcbiAgICAgICAgYi5oZWlnaHQgPSBoLmk7XG4gICAgICAgIGIuRGEgPSAwO1xuICAgICAgICBiLmogPSAwO1xuICAgICAgICBiLnYgPSAwO1xuICAgICAgICBiLnZhID0gYi53aWR0aDtcbiAgICAgICAgYi5vID0gYi5oZWlnaHQ7XG4gICAgICAgIGIuZGEgPSAwO1xuICAgICAgICBiLmliID0gYi53aWR0aDtcbiAgICAgICAgYi5oYiA9IGIuaGVpZ2h0O1xuICAgICAgICBiLlUgPSBiLndpZHRoO1xuICAgICAgICBiLlQgPSBiLmhlaWdodDtcbiAgICAgICAgZiA9IGEuUGE7XG4gICAgICAgIE0oZi5qYiwgMCwgMjU1LCBmLmpiLmxlbmd0aCk7XG4gICAgICAgIGYgPSBhLlFhO1xuICAgICAgICB4KG51bGwgIT0gZik7XG4gICAgICAgIGYuQ2IgPSAwO1xuICAgICAgICBmLkJiID0gMDtcbiAgICAgICAgZi5GYiA9IDE7XG4gICAgICAgIE0oZi5aYiwgMCwgMCwgZi5aYi5sZW5ndGgpO1xuICAgICAgICBNKGYuTGIsIDAsIDAsIGYuTGIpO1xuICAgICAgfVxuICAgICAgaWYgKGcudWIgPiBlKSByZXR1cm4gVChhLCA3LCBcImJhZCBwYXJ0aXRpb24gbGVuZ3RoXCIpO1xuICAgICAgZiA9IGEubTtcbiAgICAgIG1hKGYsIGMsIGQsIGcudWIpO1xuICAgICAgZCArPSBnLnViO1xuICAgICAgZSAtPSBnLnViO1xuICAgICAgZy5SYiAmJiAoKGguTGQgPSBHKGYpKSwgKGguS2QgPSBHKGYpKSk7XG4gICAgICBoID0gYS5RYTtcbiAgICAgIHZhciBrID0gYS5QYSxcbiAgICAgICAgbDtcbiAgICAgIHgobnVsbCAhPSBmKTtcbiAgICAgIHgobnVsbCAhPSBoKTtcbiAgICAgIGguQ2IgPSBHKGYpO1xuICAgICAgaWYgKGguQ2IpIHtcbiAgICAgICAgaC5CYiA9IEcoZik7XG4gICAgICAgIGlmIChHKGYpKSB7XG4gICAgICAgICAgaC5GYiA9IEcoZik7XG4gICAgICAgICAgZm9yIChsID0gMDsgNCA+IGw7ICsrbCkgaC5aYltsXSA9IEcoZikgPyBjYShmLCA3KSA6IDA7XG4gICAgICAgICAgZm9yIChsID0gMDsgNCA+IGw7ICsrbCkgaC5MYltsXSA9IEcoZikgPyBjYShmLCA2KSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGguQmIpIGZvciAobCA9IDA7IDMgPiBsOyArK2wpIGsuamJbbF0gPSBHKGYpID8gbmEoZiwgOCkgOiAyNTU7XG4gICAgICB9IGVsc2UgaC5CYiA9IDA7XG4gICAgICBpZiAoZi5LYSkgcmV0dXJuIFQoYSwgMywgXCJjYW5ub3QgcGFyc2Ugc2VnbWVudCBoZWFkZXJcIik7XG4gICAgICBoID0gYS5lZDtcbiAgICAgIGguemQgPSBHKGYpO1xuICAgICAgaC5UYiA9IG5hKGYsIDYpO1xuICAgICAgaC53YiA9IG5hKGYsIDMpO1xuICAgICAgaC5QYyA9IEcoZik7XG4gICAgICBpZiAoaC5QYyAmJiBHKGYpKSB7XG4gICAgICAgIGZvciAoayA9IDA7IDQgPiBrOyArK2spIEcoZikgJiYgKGgudmRba10gPSBjYShmLCA2KSk7XG4gICAgICAgIGZvciAoayA9IDA7IDQgPiBrOyArK2spIEcoZikgJiYgKGgub2Rba10gPSBjYShmLCA2KSk7XG4gICAgICB9XG4gICAgICBhLkwgPSAwID09IGguVGIgPyAwIDogaC56ZCA/IDEgOiAyO1xuICAgICAgaWYgKGYuS2EpIHJldHVybiBUKGEsIDMsIFwiY2Fubm90IHBhcnNlIGZpbHRlciBoZWFkZXJcIik7XG4gICAgICBsID0gZDtcbiAgICAgIHZhciBtID0gZTtcbiAgICAgIGUgPSBsO1xuICAgICAgZCA9IGwgKyBtO1xuICAgICAgaCA9IG07XG4gICAgICBhLlhiID0gKDEgPDwgbmEoYS5tLCAyKSkgLSAxO1xuICAgICAgayA9IGEuWGI7XG4gICAgICBpZiAobSA8IDMgKiBrKSBjID0gNztcbiAgICAgIGVsc2Uge1xuICAgICAgICBsICs9IDMgKiBrO1xuICAgICAgICBoIC09IDMgKiBrO1xuICAgICAgICBmb3IgKG0gPSAwOyBtIDwgazsgKyttKSB7XG4gICAgICAgICAgdmFyIG4gPSBjW2UgKyAwXSB8IChjW2UgKyAxXSA8PCA4KSB8IChjW2UgKyAyXSA8PCAxNik7XG4gICAgICAgICAgbiA+IGggJiYgKG4gPSBoKTtcbiAgICAgICAgICBtYShhLkpjWyttXSwgYywgbCwgbik7XG4gICAgICAgICAgbCArPSBuO1xuICAgICAgICAgIGggLT0gbjtcbiAgICAgICAgICBlICs9IDM7XG4gICAgICAgIH1cbiAgICAgICAgbWEoYS5KY1sra10sIGMsIGwsIGgpO1xuICAgICAgICBjID0gbCA8IGQgPyAwIDogNTtcbiAgICAgIH1cbiAgICAgIGlmICgwICE9IGMpIHJldHVybiBUKGEsIGMsIFwiY2Fubm90IHBhcnNlIHBhcnRpdGlvbnNcIik7XG4gICAgICBsID0gYS5tO1xuICAgICAgYyA9IG5hKGwsIDcpO1xuICAgICAgZSA9IEcobCkgPyBjYShsLCA0KSA6IDA7XG4gICAgICBkID0gRyhsKSA/IGNhKGwsIDQpIDogMDtcbiAgICAgIGggPSBHKGwpID8gY2EobCwgNCkgOiAwO1xuICAgICAgayA9IEcobCkgPyBjYShsLCA0KSA6IDA7XG4gICAgICBsID0gRyhsKSA/IGNhKGwsIDQpIDogMDtcbiAgICAgIG0gPSBhLlFhO1xuICAgICAgZm9yIChuID0gMDsgNCA+IG47ICsrbikge1xuICAgICAgICBpZiAobS5DYikge1xuICAgICAgICAgIHZhciByID0gbS5aYltuXTtcbiAgICAgICAgICBtLkZiIHx8IChyICs9IGMpO1xuICAgICAgICB9IGVsc2UgaWYgKDAgPCBuKSB7XG4gICAgICAgICAgYS5wYltuXSA9IGEucGJbMF07XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSByID0gYztcbiAgICAgICAgdmFyIHEgPSBhLnBiW25dO1xuICAgICAgICBxLlNjWzBdID0gTGJbZ2EociArIGUsIDEyNyldO1xuICAgICAgICBxLlNjWzFdID0gTWJbZ2EociArIDAsIDEyNyldO1xuICAgICAgICBxLkViWzBdID0gMiAqIExiW2dhKHIgKyBkLCAxMjcpXTtcbiAgICAgICAgcS5FYlsxXSA9ICgxMDE1ODEgKiBNYltnYShyICsgaCwgMTI3KV0pID4+IDE2O1xuICAgICAgICA4ID4gcS5FYlsxXSAmJiAocS5FYlsxXSA9IDgpO1xuICAgICAgICBxLlFjWzBdID0gTGJbZ2EociArIGssIDExNyldO1xuICAgICAgICBxLlFjWzFdID0gTWJbZ2EociArIGwsIDEyNyldO1xuICAgICAgICBxLmxjID0gciArIGw7XG4gICAgICB9XG4gICAgICBpZiAoIWcuUmIpIHJldHVybiBUKGEsIDQsIFwiTm90IGEga2V5IGZyYW1lLlwiKTtcbiAgICAgIEcoZik7XG4gICAgICBnID0gYS5QYTtcbiAgICAgIGZvciAoYyA9IDA7IDQgPiBjOyArK2MpIHtcbiAgICAgICAgZm9yIChlID0gMDsgOCA+IGU7ICsrZSlcbiAgICAgICAgICBmb3IgKGQgPSAwOyAzID4gZDsgKytkKVxuICAgICAgICAgICAgZm9yIChoID0gMDsgMTEgPiBoOyArK2gpXG4gICAgICAgICAgICAgIChrID0gSyhmLCBFZVtjXVtlXVtkXVtoXSkgPyBuYShmLCA4KSA6IEZlW2NdW2VdW2RdW2hdKSxcbiAgICAgICAgICAgICAgICAoZy5XY1tjXVtlXS5ZYltkXVtoXSA9IGspO1xuICAgICAgICBmb3IgKGUgPSAwOyAxNyA+IGU7ICsrZSkgZy5YY1tjXVtlXSA9IGcuV2NbY11bR2VbZV1dO1xuICAgICAgfVxuICAgICAgYS5rYyA9IEcoZik7XG4gICAgICBhLmtjICYmIChhLkJkID0gbmEoZiwgOCkpO1xuICAgICAgcmV0dXJuIChhLmNiID0gMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIERlKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHtcbiAgICAgIHZhciBoID0gYltlXS5ZYltjXTtcbiAgICAgIGZvciAoYyA9IDA7IDE2ID4gZTsgKytlKSB7XG4gICAgICAgIGlmICghSyhhLCBoW2MgKyAwXSkpIHJldHVybiBlO1xuICAgICAgICBmb3IgKDsgIUsoYSwgaFtjICsgMV0pOyApXG4gICAgICAgICAgaWYgKCgoaCA9IGJbKytlXS5ZYlswXSksIChjID0gMCksIDE2ID09IGUpKSByZXR1cm4gMTY7XG4gICAgICAgIHZhciBrID0gYltlICsgMV0uWWI7XG4gICAgICAgIGlmIChLKGEsIGhbYyArIDJdKSkge1xuICAgICAgICAgIHZhciBsID0gYSxcbiAgICAgICAgICAgIG0gPSBoLFxuICAgICAgICAgICAgbiA9IGM7XG4gICAgICAgICAgdmFyIHIgPSAwO1xuICAgICAgICAgIGlmIChLKGwsIG1bbiArIDNdKSlcbiAgICAgICAgICAgIGlmIChLKGwsIG1bbiArIDZdKSkge1xuICAgICAgICAgICAgICBoID0gMDtcbiAgICAgICAgICAgICAgciA9IEsobCwgbVtuICsgOF0pO1xuICAgICAgICAgICAgICBtID0gSyhsLCBtW24gKyA5ICsgcl0pO1xuICAgICAgICAgICAgICBuID0gMiAqIHIgKyBtO1xuICAgICAgICAgICAgICByID0gMDtcbiAgICAgICAgICAgICAgZm9yIChtID0gSGVbbl07IG1baF07ICsraCkgciArPSByICsgSyhsLCBtW2hdKTtcbiAgICAgICAgICAgICAgciArPSAzICsgKDggPDwgbik7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgSyhsLCBtW24gKyA3XSlcbiAgICAgICAgICAgICAgICA/ICgociA9IDcgKyAyICogSyhsLCAxNjUpKSwgKHIgKz0gSyhsLCAxNDUpKSlcbiAgICAgICAgICAgICAgICA6IChyID0gNSArIEsobCwgMTU5KSk7XG4gICAgICAgICAgZWxzZSBLKGwsIG1bbiArIDRdKSA/IChyID0gMyArIEsobCwgbVtuICsgNV0pKSA6IChyID0gMik7XG4gICAgICAgICAgaCA9IGtbMl07XG4gICAgICAgIH0gZWxzZSAociA9IDEpLCAoaCA9IGtbMV0pO1xuICAgICAgICBrID0gZyArIEllW2VdO1xuICAgICAgICBsID0gYTtcbiAgICAgICAgMCA+IGwuYiAmJiBRYShsKTtcbiAgICAgICAgdmFyIG0gPSBsLmIsXG4gICAgICAgICAgbiA9IGwuQ2EgPj4gMSxcbiAgICAgICAgICBxID0gKG4gLSAobC5JID4+IG0pKSA+PiAzMTtcbiAgICAgICAgLS1sLmI7XG4gICAgICAgIGwuQ2EgKz0gcTtcbiAgICAgICAgbC5DYSB8PSAxO1xuICAgICAgICBsLkkgLT0gKChuICsgMSkgJiBxKSA8PCBtO1xuICAgICAgICBmW2tdID0gKChyIF4gcSkgLSBxKSAqIGRbKDAgPCBlKSArIDBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDE2O1xuICAgIH1cbiAgICBmdW5jdGlvbiBMYyhhKSB7XG4gICAgICB2YXIgYiA9IGEucmJbYS5zYiAtIDFdO1xuICAgICAgYi5sYSA9IDA7XG4gICAgICBiLk5hID0gMDtcbiAgICAgIE0oYS56YywgMCwgMCwgYS56Yy5sZW5ndGgpO1xuICAgICAgYS5qYSA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEplKGEsIGIpIHtcbiAgICAgIGZvciAoYS5NID0gMDsgYS5NIDwgYS5WYTsgKythLk0pIHtcbiAgICAgICAgdmFyIGMgPSBhLkpjW2EuTSAmIGEuWGJdLFxuICAgICAgICAgIGQgPSBhLm0sXG4gICAgICAgICAgZSA9IGEsXG4gICAgICAgICAgZjtcbiAgICAgICAgZm9yIChmID0gMDsgZiA8IGUuemE7ICsrZikge1xuICAgICAgICAgIHZhciBnID0gZDtcbiAgICAgICAgICB2YXIgaCA9IGU7XG4gICAgICAgICAgdmFyIGsgPSBoLkFjLFxuICAgICAgICAgICAgbCA9IGguQmMgKyA0ICogZixcbiAgICAgICAgICAgIG0gPSBoLnpjLFxuICAgICAgICAgICAgbiA9IGgueWFbaC5hYSArIGZdO1xuICAgICAgICAgIGguUWEuQmJcbiAgICAgICAgICAgID8gKG4uJGIgPSBLKGcsIGguUGEuamJbMF0pXG4gICAgICAgICAgICAgICAgPyAyICsgSyhnLCBoLlBhLmpiWzJdKVxuICAgICAgICAgICAgICAgIDogSyhnLCBoLlBhLmpiWzFdKSlcbiAgICAgICAgICAgIDogKG4uJGIgPSAwKTtcbiAgICAgICAgICBoLmtjICYmIChuLkFkID0gSyhnLCBoLkJkKSk7XG4gICAgICAgICAgbi5aYSA9ICFLKGcsIDE0NSkgKyAwO1xuICAgICAgICAgIGlmIChuLlphKSB7XG4gICAgICAgICAgICB2YXIgciA9IG4uT2IsXG4gICAgICAgICAgICAgIHEgPSAwO1xuICAgICAgICAgICAgZm9yIChoID0gMDsgNCA+IGg7ICsraCkge1xuICAgICAgICAgICAgICB2YXIgdCA9IG1bMCArIGhdO1xuICAgICAgICAgICAgICB2YXIgdjtcbiAgICAgICAgICAgICAgZm9yICh2ID0gMDsgNCA+IHY7ICsrdikge1xuICAgICAgICAgICAgICAgIHQgPSBLZVtrW2wgKyB2XV1bdF07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IE1jW0soZywgdFswXSldOyAwIDwgcDsgKVxuICAgICAgICAgICAgICAgICAgcCA9IE1jWzIgKiBwICsgSyhnLCB0W3BdKV07XG4gICAgICAgICAgICAgICAgdCA9IC1wO1xuICAgICAgICAgICAgICAgIGtbbCArIHZdID0gdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBJKHIsIHEsIGssIGwsIDQpO1xuICAgICAgICAgICAgICBxICs9IDQ7XG4gICAgICAgICAgICAgIG1bMCArIGhdID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICh0ID0gSyhnLCAxNTYpID8gKEsoZywgMTI4KSA/IDEgOiAzKSA6IEsoZywgMTYzKSA/IDIgOiAwKSxcbiAgICAgICAgICAgICAgKG4uT2JbMF0gPSB0KSxcbiAgICAgICAgICAgICAgTShrLCBsLCB0LCA0KSxcbiAgICAgICAgICAgICAgTShtLCAwLCB0LCA0KTtcbiAgICAgICAgICBuLkRkID0gSyhnLCAxNDIpID8gKEsoZywgMTE0KSA/IChLKGcsIDE4MykgPyAxIDogMykgOiAyKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubS5LYSkgcmV0dXJuIFQoYSwgNywgXCJQcmVtYXR1cmUgZW5kLW9mLXBhcnRpdGlvbjAgZW5jb3VudGVyZWQuXCIpO1xuICAgICAgICBmb3IgKDsgYS5qYSA8IGEuemE7ICsrYS5qYSkge1xuICAgICAgICAgIGQgPSBhO1xuICAgICAgICAgIGUgPSBjO1xuICAgICAgICAgIGcgPSBkLnJiW2Quc2IgLSAxXTtcbiAgICAgICAgICBrID0gZC5yYltkLnNiICsgZC5qYV07XG4gICAgICAgICAgZiA9IGQueWFbZC5hYSArIGQuamFdO1xuICAgICAgICAgIGlmICgobCA9IGQua2MgPyBmLkFkIDogMCkpXG4gICAgICAgICAgICAoZy5sYSA9IGsubGEgPSAwKSxcbiAgICAgICAgICAgICAgZi5aYSB8fCAoZy5OYSA9IGsuTmEgPSAwKSxcbiAgICAgICAgICAgICAgKGYuSGMgPSAwKSxcbiAgICAgICAgICAgICAgKGYuR2MgPSAwKSxcbiAgICAgICAgICAgICAgKGYuaWEgPSAwKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB1LFxuICAgICAgICAgICAgICB3LFxuICAgICAgICAgICAgICBnID0gayxcbiAgICAgICAgICAgICAgayA9IGUsXG4gICAgICAgICAgICAgIGwgPSBkLlBhLlhjLFxuICAgICAgICAgICAgICBtID0gZC55YVtkLmFhICsgZC5qYV0sXG4gICAgICAgICAgICAgIG4gPSBkLnBiW20uJGJdO1xuICAgICAgICAgICAgaCA9IG0uYWQ7XG4gICAgICAgICAgICByID0gMDtcbiAgICAgICAgICAgIHEgPSBkLnJiW2Quc2IgLSAxXTtcbiAgICAgICAgICAgIHQgPSB2ID0gMDtcbiAgICAgICAgICAgIE0oaCwgciwgMCwgMzg0KTtcbiAgICAgICAgICAgIGlmIChtLlphKSB7XG4gICAgICAgICAgICAgIHZhciB5ID0gMDtcbiAgICAgICAgICAgICAgdmFyIEEgPSBsWzNdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcCA9IFYoMTYpO1xuICAgICAgICAgICAgICB2YXIgRSA9IGcuTmEgKyBxLk5hO1xuICAgICAgICAgICAgICBFID0gb2EoaywgbFsxXSwgRSwgbi5FYiwgMCwgcCwgMCk7XG4gICAgICAgICAgICAgIGcuTmEgPSBxLk5hID0gKDAgPCBFKSArIDA7XG4gICAgICAgICAgICAgIGlmICgxIDwgRSkgTmMocCwgMCwgaCwgcik7XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBCID0gKHBbMF0gKyAzKSA+PiAzO1xuICAgICAgICAgICAgICAgIGZvciAocCA9IDA7IDI1NiA+IHA7IHAgKz0gMTYpIGhbciArIHBdID0gQjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB5ID0gMTtcbiAgICAgICAgICAgICAgQSA9IGxbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgQyA9IGcubGEgJiAxNTtcbiAgICAgICAgICAgIHZhciBOID0gcS5sYSAmIDE1O1xuICAgICAgICAgICAgZm9yIChwID0gMDsgNCA+IHA7ICsrcCkge1xuICAgICAgICAgICAgICB2YXIgeiA9IE4gJiAxO1xuICAgICAgICAgICAgICBmb3IgKEIgPSB3ID0gMDsgNCA+IEI7ICsrQilcbiAgICAgICAgICAgICAgICAoRSA9IHogKyAoQyAmIDEpKSxcbiAgICAgICAgICAgICAgICAgIChFID0gb2EoaywgQSwgRSwgbi5TYywgeSwgaCwgcikpLFxuICAgICAgICAgICAgICAgICAgKHogPSBFID4geSksXG4gICAgICAgICAgICAgICAgICAoQyA9IChDID4+IDEpIHwgKHogPDwgNykpLFxuICAgICAgICAgICAgICAgICAgKHcgPSAodyA8PCAyKSB8ICgzIDwgRSA/IDMgOiAxIDwgRSA/IDIgOiAwICE9IGhbciArIDBdKSksXG4gICAgICAgICAgICAgICAgICAociArPSAxNik7XG4gICAgICAgICAgICAgIEMgPj49IDQ7XG4gICAgICAgICAgICAgIE4gPSAoTiA+PiAxKSB8ICh6IDw8IDcpO1xuICAgICAgICAgICAgICB2ID0gKCh2IDw8IDgpIHwgdykgPj4+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBID0gQztcbiAgICAgICAgICAgIHkgPSBOID4+IDQ7XG4gICAgICAgICAgICBmb3IgKHUgPSAwOyA0ID4gdTsgdSArPSAyKSB7XG4gICAgICAgICAgICAgIHcgPSAwO1xuICAgICAgICAgICAgICBDID0gZy5sYSA+PiAoNCArIHUpO1xuICAgICAgICAgICAgICBOID0gcS5sYSA+PiAoNCArIHUpO1xuICAgICAgICAgICAgICBmb3IgKHAgPSAwOyAyID4gcDsgKytwKSB7XG4gICAgICAgICAgICAgICAgeiA9IE4gJiAxO1xuICAgICAgICAgICAgICAgIGZvciAoQiA9IDA7IDIgPiBCOyArK0IpXG4gICAgICAgICAgICAgICAgICAoRSA9IHogKyAoQyAmIDEpKSxcbiAgICAgICAgICAgICAgICAgICAgKEUgPSBvYShrLCBsWzJdLCBFLCBuLlFjLCAwLCBoLCByKSksXG4gICAgICAgICAgICAgICAgICAgICh6ID0gMCA8IEUpLFxuICAgICAgICAgICAgICAgICAgICAoQyA9IChDID4+IDEpIHwgKHogPDwgMykpLFxuICAgICAgICAgICAgICAgICAgICAodyA9ICh3IDw8IDIpIHwgKDMgPCBFID8gMyA6IDEgPCBFID8gMiA6IDAgIT0gaFtyICsgMF0pKSxcbiAgICAgICAgICAgICAgICAgICAgKHIgKz0gMTYpO1xuICAgICAgICAgICAgICAgIEMgPj49IDI7XG4gICAgICAgICAgICAgICAgTiA9IChOID4+IDEpIHwgKHogPDwgNSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdCB8PSB3IDw8ICg0ICogdSk7XG4gICAgICAgICAgICAgIEEgfD0gKEMgPDwgNCkgPDwgdTtcbiAgICAgICAgICAgICAgeSB8PSAoTiAmIDI0MCkgPDwgdTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGcubGEgPSBBO1xuICAgICAgICAgICAgcS5sYSA9IHk7XG4gICAgICAgICAgICBtLkhjID0gdjtcbiAgICAgICAgICAgIG0uR2MgPSB0O1xuICAgICAgICAgICAgbS5pYSA9IHQgJiA0MzY5MCA/IDAgOiBuLmlhO1xuICAgICAgICAgICAgbCA9ICEodiB8IHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAwIDwgZC5MICYmXG4gICAgICAgICAgICAoKGQud2FbZC5ZICsgZC5qYV0gPSBkLmdkW2YuJGJdW2YuWmFdKSxcbiAgICAgICAgICAgIChkLndhW2QuWSArIGQuamFdLkxhIHw9ICFsKSk7XG4gICAgICAgICAgaWYgKGUuS2EpIHJldHVybiBUKGEsIDcsIFwiUHJlbWF0dXJlIGVuZC1vZi1maWxlIGVuY291bnRlcmVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBMYyhhKTtcbiAgICAgICAgYyA9IGE7XG4gICAgICAgIGQgPSBiO1xuICAgICAgICBlID0gMTtcbiAgICAgICAgZiA9IGMuRDtcbiAgICAgICAgZyA9IDAgPCBjLkwgJiYgYy5NID49IGMuemIgJiYgYy5NIDw9IGMuVmE7XG4gICAgICAgIGlmICgwID09IGMuQWEpXG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgKGYuTSA9IGMuTSksIChmLnVjID0gZyksIE9jKGMsIGYpLCAoZSA9IDEpO1xuICAgICAgICAgICAgdyA9IGMuRDtcbiAgICAgICAgICAgIGYgPSB3Lk5iO1xuICAgICAgICAgICAgdCA9IFlhW2MuTF07XG4gICAgICAgICAgICBnID0gdCAqIGMuUjtcbiAgICAgICAgICAgIGsgPSAodCAvIDIpICogYy5CO1xuICAgICAgICAgICAgcCA9IDE2ICogZiAqIGMuUjtcbiAgICAgICAgICAgIEIgPSA4ICogZiAqIGMuQjtcbiAgICAgICAgICAgIGwgPSBjLnNhO1xuICAgICAgICAgICAgbSA9IGMudGEgLSBnICsgcDtcbiAgICAgICAgICAgIG4gPSBjLnFhO1xuICAgICAgICAgICAgaCA9IGMucmEgLSBrICsgQjtcbiAgICAgICAgICAgIHIgPSBjLkhhO1xuICAgICAgICAgICAgcSA9IGMuSWEgLSBrICsgQjtcbiAgICAgICAgICAgIEMgPSB3Lk07XG4gICAgICAgICAgICBOID0gMCA9PSBDO1xuICAgICAgICAgICAgdiA9IEMgPj0gYy5WYSAtIDE7XG4gICAgICAgICAgICAyID09IGMuQWEgJiYgT2MoYywgdyk7XG4gICAgICAgICAgICBpZiAody51YylcbiAgICAgICAgICAgICAgZm9yIChFID0gYywgeiA9IEUuRC5NLCB4KEUuRC51YyksIHcgPSBFLnliOyB3IDwgRS5IYjsgKyt3KSB7XG4gICAgICAgICAgICAgICAgdmFyIFEgPSBFO1xuICAgICAgICAgICAgICAgIHkgPSB3O1xuICAgICAgICAgICAgICAgIEEgPSB6O1xuICAgICAgICAgICAgICAgIHZhciBTID0gUS5ELFxuICAgICAgICAgICAgICAgICAgRCA9IFMuTmI7XG4gICAgICAgICAgICAgICAgdSA9IFEuUjtcbiAgICAgICAgICAgICAgICB2YXIgUyA9IFMud2FbUy5ZICsgeV0sXG4gICAgICAgICAgICAgICAgICBGID0gUS5zYSxcbiAgICAgICAgICAgICAgICAgIEggPSBRLnRhICsgMTYgKiBEICogdSArIDE2ICogeSxcbiAgICAgICAgICAgICAgICAgIEogPSBTLmRkLFxuICAgICAgICAgICAgICAgICAgRyA9IFMudGM7XG4gICAgICAgICAgICAgICAgaWYgKDAgIT0gRylcbiAgICAgICAgICAgICAgICAgIGlmICgoeCgzIDw9IEcpLCAxID09IFEuTCkpXG4gICAgICAgICAgICAgICAgICAgIDAgPCB5ICYmIFBjKEYsIEgsIHUsIEcgKyA0KSxcbiAgICAgICAgICAgICAgICAgICAgICBTLkxhICYmIFFjKEYsIEgsIHUsIEcpLFxuICAgICAgICAgICAgICAgICAgICAgIDAgPCBBICYmIFJjKEYsIEgsIHUsIEcgKyA0KSxcbiAgICAgICAgICAgICAgICAgICAgICBTLkxhICYmIFNjKEYsIEgsIHUsIEcpO1xuICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMID0gUS5CLFxuICAgICAgICAgICAgICAgICAgICAgIE8gPSBRLnFhLFxuICAgICAgICAgICAgICAgICAgICAgIFAgPSBRLnJhICsgOCAqIEQgKiBMICsgOCAqIHksXG4gICAgICAgICAgICAgICAgICAgICAgUiA9IFEuSGEsXG4gICAgICAgICAgICAgICAgICAgICAgUSA9IFEuSWEgKyA4ICogRCAqIEwgKyA4ICogeSxcbiAgICAgICAgICAgICAgICAgICAgICBEID0gUy5sZDtcbiAgICAgICAgICAgICAgICAgICAgMCA8IHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoVGMoRiwgSCwgdSwgRyArIDQsIEosIEQpLFxuICAgICAgICAgICAgICAgICAgICAgIFVjKE8sIFAsIFIsIFEsIEwsIEcgKyA0LCBKLCBEKSk7XG4gICAgICAgICAgICAgICAgICAgIFMuTGEgJiYgKFZjKEYsIEgsIHUsIEcsIEosIEQpLCBXYyhPLCBQLCBSLCBRLCBMLCBHLCBKLCBEKSk7XG4gICAgICAgICAgICAgICAgICAgIDAgPCBBICYmXG4gICAgICAgICAgICAgICAgICAgICAgKFhjKEYsIEgsIHUsIEcgKyA0LCBKLCBEKSxcbiAgICAgICAgICAgICAgICAgICAgICBZYyhPLCBQLCBSLCBRLCBMLCBHICsgNCwgSiwgRCkpO1xuICAgICAgICAgICAgICAgICAgICBTLkxhICYmIChaYyhGLCBILCB1LCBHLCBKLCBEKSwgJGMoTywgUCwgUiwgUSwgTCwgRywgSiwgRCkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjLmlhICYmIGFsZXJ0KFwidG9kbzpEaXRoZXJSb3dcIik7XG4gICAgICAgICAgICBpZiAobnVsbCAhPSBkLnB1dCkge1xuICAgICAgICAgICAgICB3ID0gMTYgKiBDO1xuICAgICAgICAgICAgICBDID0gMTYgKiAoQyArIDEpO1xuICAgICAgICAgICAgICBOXG4gICAgICAgICAgICAgICAgPyAoKGQueSA9IGMuc2EpLFxuICAgICAgICAgICAgICAgICAgKGQuTyA9IGMudGEgKyBwKSxcbiAgICAgICAgICAgICAgICAgIChkLmYgPSBjLnFhKSxcbiAgICAgICAgICAgICAgICAgIChkLk4gPSBjLnJhICsgQiksXG4gICAgICAgICAgICAgICAgICAoZC5lYSA9IGMuSGEpLFxuICAgICAgICAgICAgICAgICAgKGQuVyA9IGMuSWEgKyBCKSlcbiAgICAgICAgICAgICAgICA6ICgodyAtPSB0KSxcbiAgICAgICAgICAgICAgICAgIChkLnkgPSBsKSxcbiAgICAgICAgICAgICAgICAgIChkLk8gPSBtKSxcbiAgICAgICAgICAgICAgICAgIChkLmYgPSBuKSxcbiAgICAgICAgICAgICAgICAgIChkLk4gPSBoKSxcbiAgICAgICAgICAgICAgICAgIChkLmVhID0gciksXG4gICAgICAgICAgICAgICAgICAoZC5XID0gcSkpO1xuICAgICAgICAgICAgICB2IHx8IChDIC09IHQpO1xuICAgICAgICAgICAgICBDID4gZC5vICYmIChDID0gZC5vKTtcbiAgICAgICAgICAgICAgZC5GID0gbnVsbDtcbiAgICAgICAgICAgICAgZC5KID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG51bGwgIT0gYy5GYSAmJlxuICAgICAgICAgICAgICAgIDAgPCBjLkZhLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHcgPCBDICYmXG4gICAgICAgICAgICAgICAgKChkLkogPSBMZShjLCBkLCB3LCBDIC0gdykpLFxuICAgICAgICAgICAgICAgIChkLkYgPSBjLm1iKSxcbiAgICAgICAgICAgICAgICBudWxsID09IGQuRiAmJiAwID09IGQuRi5sZW5ndGgpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGUgPSBUKGMsIDMsIFwiQ291bGQgbm90IGRlY29kZSBhbHBoYSBkYXRhLlwiKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHcgPCBkLmogJiZcbiAgICAgICAgICAgICAgICAoKHQgPSBkLmogLSB3KSxcbiAgICAgICAgICAgICAgICAodyA9IGQuaiksXG4gICAgICAgICAgICAgICAgeCghKHQgJiAxKSksXG4gICAgICAgICAgICAgICAgKGQuTyArPSBjLlIgKiB0KSxcbiAgICAgICAgICAgICAgICAoZC5OICs9IGMuQiAqICh0ID4+IDEpKSxcbiAgICAgICAgICAgICAgICAoZC5XICs9IGMuQiAqICh0ID4+IDEpKSxcbiAgICAgICAgICAgICAgICBudWxsICE9IGQuRiAmJiAoZC5KICs9IGQud2lkdGggKiB0KSk7XG4gICAgICAgICAgICAgIHcgPCBDICYmXG4gICAgICAgICAgICAgICAgKChkLk8gKz0gZC52KSxcbiAgICAgICAgICAgICAgICAoZC5OICs9IGQudiA+PiAxKSxcbiAgICAgICAgICAgICAgICAoZC5XICs9IGQudiA+PiAxKSxcbiAgICAgICAgICAgICAgICBudWxsICE9IGQuRiAmJiAoZC5KICs9IGQudiksXG4gICAgICAgICAgICAgICAgKGQua2EgPSB3IC0gZC5qKSxcbiAgICAgICAgICAgICAgICAoZC5VID0gZC52YSAtIGQudiksXG4gICAgICAgICAgICAgICAgKGQuVCA9IEMgLSB3KSxcbiAgICAgICAgICAgICAgICAoZSA9IGQucHV0KGQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmICsgMSAhPSBjLkljIHx8XG4gICAgICAgICAgICAgIHYgfHxcbiAgICAgICAgICAgICAgKEkoYy5zYSwgYy50YSAtIGcsIGwsIG0gKyAxNiAqIGMuUiwgZyksXG4gICAgICAgICAgICAgIEkoYy5xYSwgYy5yYSAtIGssIG4sIGggKyA4ICogYy5CLCBrKSxcbiAgICAgICAgICAgICAgSShjLkhhLCBjLklhIC0gaywgciwgcSArIDggKiBjLkIsIGspKTtcbiAgICAgICAgICB9XG4gICAgICAgIGlmICghZSkgcmV0dXJuIFQoYSwgNiwgXCJPdXRwdXQgYWJvcnRlZC5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gTWUoYSwgYikge1xuICAgICAgaWYgKG51bGwgPT0gYSkgcmV0dXJuIDA7XG4gICAgICBpZiAobnVsbCA9PSBiKSByZXR1cm4gVChhLCAyLCBcIk5VTEwgVlA4SW8gcGFyYW1ldGVyIGluIFZQOERlY29kZSgpLlwiKTtcbiAgICAgIGlmICghYS5jYiAmJiAhS2MoYSwgYikpIHJldHVybiAwO1xuICAgICAgeChhLmNiKTtcbiAgICAgIGlmIChudWxsID09IGIuYWMgfHwgYi5hYyhiKSkge1xuICAgICAgICBiLm9iICYmIChhLkwgPSAwKTtcbiAgICAgICAgdmFyIGMgPSBZYVthLkxdO1xuICAgICAgICAyID09IGEuTFxuICAgICAgICAgID8gKChhLnliID0gMCksIChhLnpiID0gMCkpXG4gICAgICAgICAgOiAoKGEueWIgPSAoYi52IC0gYykgPj4gNCksXG4gICAgICAgICAgICAoYS56YiA9IChiLmogLSBjKSA+PiA0KSxcbiAgICAgICAgICAgIDAgPiBhLnliICYmIChhLnliID0gMCksXG4gICAgICAgICAgICAwID4gYS56YiAmJiAoYS56YiA9IDApKTtcbiAgICAgICAgYS5WYSA9IChiLm8gKyAxNSArIGMpID4+IDQ7XG4gICAgICAgIGEuSGIgPSAoYi52YSArIDE1ICsgYykgPj4gNDtcbiAgICAgICAgYS5IYiA+IGEuemEgJiYgKGEuSGIgPSBhLnphKTtcbiAgICAgICAgYS5WYSA+IGEuVWIgJiYgKGEuVmEgPSBhLlViKTtcbiAgICAgICAgaWYgKDAgPCBhLkwpIHtcbiAgICAgICAgICB2YXIgZCA9IGEuZWQ7XG4gICAgICAgICAgZm9yIChjID0gMDsgNCA+IGM7ICsrYykge1xuICAgICAgICAgICAgdmFyIGU7XG4gICAgICAgICAgICBpZiAoYS5RYS5DYikge1xuICAgICAgICAgICAgICB2YXIgZiA9IGEuUWEuTGJbY107XG4gICAgICAgICAgICAgIGEuUWEuRmIgfHwgKGYgKz0gZC5UYik7XG4gICAgICAgICAgICB9IGVsc2UgZiA9IGQuVGI7XG4gICAgICAgICAgICBmb3IgKGUgPSAwOyAxID49IGU7ICsrZSkge1xuICAgICAgICAgICAgICB2YXIgZyA9IGEuZ2RbY11bZV0sXG4gICAgICAgICAgICAgICAgaCA9IGY7XG4gICAgICAgICAgICAgIGQuUGMgJiYgKChoICs9IGQudmRbMF0pLCBlICYmIChoICs9IGQub2RbMF0pKTtcbiAgICAgICAgICAgICAgaCA9IDAgPiBoID8gMCA6IDYzIDwgaCA/IDYzIDogaDtcbiAgICAgICAgICAgICAgaWYgKDAgPCBoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGsgPSBoO1xuICAgICAgICAgICAgICAgIDAgPCBkLndiICYmXG4gICAgICAgICAgICAgICAgICAoKGsgPSA0IDwgZC53YiA/IGsgPj4gMiA6IGsgPj4gMSksXG4gICAgICAgICAgICAgICAgICBrID4gOSAtIGQud2IgJiYgKGsgPSA5IC0gZC53YikpO1xuICAgICAgICAgICAgICAgIDEgPiBrICYmIChrID0gMSk7XG4gICAgICAgICAgICAgICAgZy5kZCA9IGs7XG4gICAgICAgICAgICAgICAgZy50YyA9IDIgKiBoICsgaztcbiAgICAgICAgICAgICAgICBnLmxkID0gNDAgPD0gaCA/IDIgOiAxNSA8PSBoID8gMSA6IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSBnLnRjID0gMDtcbiAgICAgICAgICAgICAgZy5MYSA9IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGMgPSAwO1xuICAgICAgfSBlbHNlIFQoYSwgNiwgXCJGcmFtZSBzZXR1cCBmYWlsZWRcIiksIChjID0gYS5hKTtcbiAgICAgIGlmICgoYyA9IDAgPT0gYykpIHtcbiAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICBhLiRjID0gMDtcbiAgICAgICAgICAwIDwgYS5BYSB8fCAoYS5JYyA9IE5lKTtcbiAgICAgICAgICBiOiB7XG4gICAgICAgICAgICBjID0gYS5JYztcbiAgICAgICAgICAgIHZhciBrID0gYS56YSxcbiAgICAgICAgICAgICAgZCA9IDQgKiBrLFxuICAgICAgICAgICAgICBsID0gMzIgKiBrLFxuICAgICAgICAgICAgICBtID0gayArIDEsXG4gICAgICAgICAgICAgIG4gPSAwIDwgYS5MID8gayAqICgwIDwgYS5BYSA/IDIgOiAxKSA6IDAsXG4gICAgICAgICAgICAgIHIgPSAoMiA9PSBhLkFhID8gMiA6IDEpICogaztcbiAgICAgICAgICAgIGUgPSAoKDMgKiAoMTYgKiBjICsgWWFbYS5MXSkpIC8gMikgKiBsO1xuICAgICAgICAgICAgZiA9IG51bGwgIT0gYS5GYSAmJiAwIDwgYS5GYS5sZW5ndGggPyBhLktjLmMgKiBhLktjLmkgOiAwO1xuICAgICAgICAgICAgZyA9IGQgKyA4MzIgKyBlICsgZjtcbiAgICAgICAgICAgIGlmIChnICE9IGcpIGMgPSAwO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChnID4gYS5WYikge1xuICAgICAgICAgICAgICAgIGEuVmIgPSAwO1xuICAgICAgICAgICAgICAgIGEuRWMgPSBWKGcpO1xuICAgICAgICAgICAgICAgIGEuRmMgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGEuRWMpIHtcbiAgICAgICAgICAgICAgICAgIGMgPSBUKGEsIDEsIFwibm8gbWVtb3J5IGR1cmluZyBmcmFtZSBpbml0aWFsaXphdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhLlZiID0gZztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBnID0gYS5FYztcbiAgICAgICAgICAgICAgaCA9IGEuRmM7XG4gICAgICAgICAgICAgIGEuQWMgPSBnO1xuICAgICAgICAgICAgICBhLkJjID0gaDtcbiAgICAgICAgICAgICAgaCArPSBkO1xuICAgICAgICAgICAgICBhLkdkID0gd2EobCwgSWMpO1xuICAgICAgICAgICAgICBhLkhkID0gMDtcbiAgICAgICAgICAgICAgYS5yYiA9IHdhKG0gKyAxLCBIYyk7XG4gICAgICAgICAgICAgIGEuc2IgPSAxO1xuICAgICAgICAgICAgICBhLndhID0gbiA/IHdhKG4sIFhhKSA6IG51bGw7XG4gICAgICAgICAgICAgIGEuWSA9IDA7XG4gICAgICAgICAgICAgIGEuRC5OYiA9IDA7XG4gICAgICAgICAgICAgIGEuRC53YSA9IGEud2E7XG4gICAgICAgICAgICAgIGEuRC5ZID0gYS5ZO1xuICAgICAgICAgICAgICAwIDwgYS5BYSAmJiAoYS5ELlkgKz0gayk7XG4gICAgICAgICAgICAgIHgoITApO1xuICAgICAgICAgICAgICBhLm9jID0gZztcbiAgICAgICAgICAgICAgYS5wYyA9IGg7XG4gICAgICAgICAgICAgIGggKz0gODMyO1xuICAgICAgICAgICAgICBhLnlhID0gd2EociwgS2IpO1xuICAgICAgICAgICAgICBhLmFhID0gMDtcbiAgICAgICAgICAgICAgYS5ELnlhID0gYS55YTtcbiAgICAgICAgICAgICAgYS5ELmFhID0gYS5hYTtcbiAgICAgICAgICAgICAgMiA9PSBhLkFhICYmIChhLkQuYWEgKz0gayk7XG4gICAgICAgICAgICAgIGEuUiA9IDE2ICogaztcbiAgICAgICAgICAgICAgYS5CID0gOCAqIGs7XG4gICAgICAgICAgICAgIGwgPSBZYVthLkxdO1xuICAgICAgICAgICAgICBrID0gbCAqIGEuUjtcbiAgICAgICAgICAgICAgbCA9IChsIC8gMikgKiBhLkI7XG4gICAgICAgICAgICAgIGEuc2EgPSBnO1xuICAgICAgICAgICAgICBhLnRhID0gaCArIGs7XG4gICAgICAgICAgICAgIGEucWEgPSBhLnNhO1xuICAgICAgICAgICAgICBhLnJhID0gYS50YSArIDE2ICogYyAqIGEuUiArIGw7XG4gICAgICAgICAgICAgIGEuSGEgPSBhLnFhO1xuICAgICAgICAgICAgICBhLklhID0gYS5yYSArIDggKiBjICogYS5CICsgbDtcbiAgICAgICAgICAgICAgYS4kYyA9IDA7XG4gICAgICAgICAgICAgIGggKz0gZTtcbiAgICAgICAgICAgICAgYS5tYiA9IGYgPyBnIDogbnVsbDtcbiAgICAgICAgICAgICAgYS5uYiA9IGYgPyBoIDogbnVsbDtcbiAgICAgICAgICAgICAgeChoICsgZiA8PSBhLkZjICsgYS5WYik7XG4gICAgICAgICAgICAgIExjKGEpO1xuICAgICAgICAgICAgICBNKGEuQWMsIGEuQmMsIDAsIGQpO1xuICAgICAgICAgICAgICBjID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgIGIua2EgPSAwO1xuICAgICAgICAgICAgYi55ID0gYS5zYTtcbiAgICAgICAgICAgIGIuTyA9IGEudGE7XG4gICAgICAgICAgICBiLmYgPSBhLnFhO1xuICAgICAgICAgICAgYi5OID0gYS5yYTtcbiAgICAgICAgICAgIGIuZWEgPSBhLkhhO1xuICAgICAgICAgICAgYi5WZCA9IGEuSWE7XG4gICAgICAgICAgICBiLmZhID0gYS5SO1xuICAgICAgICAgICAgYi5SYyA9IGEuQjtcbiAgICAgICAgICAgIGIuRiA9IG51bGw7XG4gICAgICAgICAgICBiLkogPSAwO1xuICAgICAgICAgICAgaWYgKCFhZCkge1xuICAgICAgICAgICAgICBmb3IgKGMgPSAtMjU1OyAyNTUgPj0gYzsgKytjKSBiZFsyNTUgKyBjXSA9IDAgPiBjID8gLWMgOiBjO1xuICAgICAgICAgICAgICBmb3IgKGMgPSAtMTAyMDsgMTAyMCA+PSBjOyArK2MpXG4gICAgICAgICAgICAgICAgY2RbMTAyMCArIGNdID0gLTEyOCA+IGMgPyAtMTI4IDogMTI3IDwgYyA/IDEyNyA6IGM7XG4gICAgICAgICAgICAgIGZvciAoYyA9IC0xMTI7IDExMiA+PSBjOyArK2MpXG4gICAgICAgICAgICAgICAgZGRbMTEyICsgY10gPSAtMTYgPiBjID8gLTE2IDogMTUgPCBjID8gMTUgOiBjO1xuICAgICAgICAgICAgICBmb3IgKGMgPSAtMjU1OyA1MTAgPj0gYzsgKytjKVxuICAgICAgICAgICAgICAgIGVkWzI1NSArIGNdID0gMCA+IGMgPyAwIDogMjU1IDwgYyA/IDI1NSA6IGM7XG4gICAgICAgICAgICAgIGFkID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE5jID0gT2U7XG4gICAgICAgICAgICBaYSA9IFBlO1xuICAgICAgICAgICAgTmIgPSBRZTtcbiAgICAgICAgICAgIHBhID0gUmU7XG4gICAgICAgICAgICBPYiA9IFNlO1xuICAgICAgICAgICAgZmQgPSBUZTtcbiAgICAgICAgICAgIFhjID0gVWU7XG4gICAgICAgICAgICBUYyA9IFZlO1xuICAgICAgICAgICAgWWMgPSBXZTtcbiAgICAgICAgICAgIFVjID0gWGU7XG4gICAgICAgICAgICBaYyA9IFllO1xuICAgICAgICAgICAgVmMgPSBaZTtcbiAgICAgICAgICAgICRjID0gJGU7XG4gICAgICAgICAgICBXYyA9IGFmO1xuICAgICAgICAgICAgUmMgPSBnZDtcbiAgICAgICAgICAgIFBjID0gaGQ7XG4gICAgICAgICAgICBTYyA9IGJmO1xuICAgICAgICAgICAgUWMgPSBjZjtcbiAgICAgICAgICAgIFdbMF0gPSBkZjtcbiAgICAgICAgICAgIFdbMV0gPSBlZjtcbiAgICAgICAgICAgIFdbMl0gPSBmZjtcbiAgICAgICAgICAgIFdbM10gPSBnZjtcbiAgICAgICAgICAgIFdbNF0gPSBoZjtcbiAgICAgICAgICAgIFdbNV0gPSBqZjtcbiAgICAgICAgICAgIFdbNl0gPSBrZjtcbiAgICAgICAgICAgIFdbN10gPSBsZjtcbiAgICAgICAgICAgIFdbOF0gPSBtZjtcbiAgICAgICAgICAgIFdbOV0gPSBuZjtcbiAgICAgICAgICAgIFlbMF0gPSBvZjtcbiAgICAgICAgICAgIFlbMV0gPSBwZjtcbiAgICAgICAgICAgIFlbMl0gPSBxZjtcbiAgICAgICAgICAgIFlbM10gPSByZjtcbiAgICAgICAgICAgIFlbNF0gPSBzZjtcbiAgICAgICAgICAgIFlbNV0gPSB0ZjtcbiAgICAgICAgICAgIFlbNl0gPSB1ZjtcbiAgICAgICAgICAgIGthWzBdID0gdmY7XG4gICAgICAgICAgICBrYVsxXSA9IHdmO1xuICAgICAgICAgICAga2FbMl0gPSB4ZjtcbiAgICAgICAgICAgIGthWzNdID0geWY7XG4gICAgICAgICAgICBrYVs0XSA9IHpmO1xuICAgICAgICAgICAga2FbNV0gPSBBZjtcbiAgICAgICAgICAgIGthWzZdID0gQmY7XG4gICAgICAgICAgICBjID0gMTtcbiAgICAgICAgICB9IGVsc2UgYyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgYyAmJiAoYyA9IEplKGEsIGIpKTtcbiAgICAgICAgbnVsbCAhPSBiLmJjICYmIGIuYmMoYik7XG4gICAgICAgIGMgJj0gMTtcbiAgICAgIH1cbiAgICAgIGlmICghYykgcmV0dXJuIDA7XG4gICAgICBhLmNiID0gMDtcbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBxYShhLCBiLCBjLCBkLCBlKSB7XG4gICAgICBlID0gYVtiICsgYyArIDMyICogZF0gKyAoZSA+PiAzKTtcbiAgICAgIGFbYiArIGMgKyAzMiAqIGRdID0gZSAmIC0yNTYgPyAoMCA+IGUgPyAwIDogMjU1KSA6IGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtiKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgIHFhKGEsIGIsIDAsIGMsIGQgKyBlKTtcbiAgICAgIHFhKGEsIGIsIDEsIGMsIGQgKyBmKTtcbiAgICAgIHFhKGEsIGIsIDIsIGMsIGQgLSBmKTtcbiAgICAgIHFhKGEsIGIsIDMsIGMsIGQgLSBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGEoYSkge1xuICAgICAgcmV0dXJuICgoMjAwOTEgKiBhKSA+PiAxNikgKyBhO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpZChhLCBiLCBjLCBkKSB7XG4gICAgICB2YXIgZSA9IDAsXG4gICAgICAgIGY7XG4gICAgICB2YXIgZyA9IFYoMTYpO1xuICAgICAgZm9yIChmID0gMDsgNCA+IGY7ICsrZikge1xuICAgICAgICB2YXIgaCA9IGFbYiArIDBdICsgYVtiICsgOF07XG4gICAgICAgIHZhciBrID0gYVtiICsgMF0gLSBhW2IgKyA4XTtcbiAgICAgICAgdmFyIGwgPSAoKDM1NDY4ICogYVtiICsgNF0pID4+IDE2KSAtIGRhKGFbYiArIDEyXSk7XG4gICAgICAgIHZhciBtID0gZGEoYVtiICsgNF0pICsgKCgzNTQ2OCAqIGFbYiArIDEyXSkgPj4gMTYpO1xuICAgICAgICBnW2UgKyAwXSA9IGggKyBtO1xuICAgICAgICBnW2UgKyAxXSA9IGsgKyBsO1xuICAgICAgICBnW2UgKyAyXSA9IGsgLSBsO1xuICAgICAgICBnW2UgKyAzXSA9IGggLSBtO1xuICAgICAgICBlICs9IDQ7XG4gICAgICAgIGIrKztcbiAgICAgIH1cbiAgICAgIGZvciAoZiA9IGUgPSAwOyA0ID4gZjsgKytmKVxuICAgICAgICAoYSA9IGdbZSArIDBdICsgNCksXG4gICAgICAgICAgKGggPSBhICsgZ1tlICsgOF0pLFxuICAgICAgICAgIChrID0gYSAtIGdbZSArIDhdKSxcbiAgICAgICAgICAobCA9ICgoMzU0NjggKiBnW2UgKyA0XSkgPj4gMTYpIC0gZGEoZ1tlICsgMTJdKSksXG4gICAgICAgICAgKG0gPSBkYShnW2UgKyA0XSkgKyAoKDM1NDY4ICogZ1tlICsgMTJdKSA+PiAxNikpLFxuICAgICAgICAgIHFhKGMsIGQsIDAsIDAsIGggKyBtKSxcbiAgICAgICAgICBxYShjLCBkLCAxLCAwLCBrICsgbCksXG4gICAgICAgICAgcWEoYywgZCwgMiwgMCwgayAtIGwpLFxuICAgICAgICAgIHFhKGMsIGQsIDMsIDAsIGggLSBtKSxcbiAgICAgICAgICBlKyssXG4gICAgICAgICAgKGQgKz0gMzIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBUZShhLCBiLCBjLCBkKSB7XG4gICAgICB2YXIgZSA9IGFbYiArIDBdICsgNCxcbiAgICAgICAgZiA9ICgzNTQ2OCAqIGFbYiArIDRdKSA+PiAxNixcbiAgICAgICAgZyA9IGRhKGFbYiArIDRdKSxcbiAgICAgICAgaCA9ICgzNTQ2OCAqIGFbYiArIDFdKSA+PiAxNjtcbiAgICAgIGEgPSBkYShhW2IgKyAxXSk7XG4gICAgICBrYihjLCBkLCAwLCBlICsgZywgYSwgaCk7XG4gICAgICBrYihjLCBkLCAxLCBlICsgZiwgYSwgaCk7XG4gICAgICBrYihjLCBkLCAyLCBlIC0gZiwgYSwgaCk7XG4gICAgICBrYihjLCBkLCAzLCBlIC0gZywgYSwgaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFBlKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGlkKGEsIGIsIGMsIGQpO1xuICAgICAgZSAmJiBpZChhLCBiICsgMTYsIGMsIGQgKyA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUWUoYSwgYiwgYywgZCkge1xuICAgICAgWmEoYSwgYiArIDAsIGMsIGQsIDEpO1xuICAgICAgWmEoYSwgYiArIDMyLCBjLCBkICsgMTI4LCAxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmUoYSwgYiwgYywgZCkge1xuICAgICAgYSA9IGFbYiArIDBdICsgNDtcbiAgICAgIHZhciBlO1xuICAgICAgZm9yIChlID0gMDsgNCA+IGU7ICsrZSkgZm9yIChiID0gMDsgNCA+IGI7ICsrYikgcWEoYywgZCwgYiwgZSwgYSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFNlKGEsIGIsIGMsIGQpIHtcbiAgICAgIGFbYiArIDBdICYmIHBhKGEsIGIgKyAwLCBjLCBkKTtcbiAgICAgIGFbYiArIDE2XSAmJiBwYShhLCBiICsgMTYsIGMsIGQgKyA0KTtcbiAgICAgIGFbYiArIDMyXSAmJiBwYShhLCBiICsgMzIsIGMsIGQgKyAxMjgpO1xuICAgICAgYVtiICsgNDhdICYmIHBhKGEsIGIgKyA0OCwgYywgZCArIDEyOCArIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBPZShhLCBiLCBjLCBkKSB7XG4gICAgICB2YXIgZSA9IFYoMTYpLFxuICAgICAgICBmO1xuICAgICAgZm9yIChmID0gMDsgNCA+IGY7ICsrZikge1xuICAgICAgICB2YXIgZyA9IGFbYiArIDAgKyBmXSArIGFbYiArIDEyICsgZl07XG4gICAgICAgIHZhciBoID0gYVtiICsgNCArIGZdICsgYVtiICsgOCArIGZdO1xuICAgICAgICB2YXIgayA9IGFbYiArIDQgKyBmXSAtIGFbYiArIDggKyBmXTtcbiAgICAgICAgdmFyIGwgPSBhW2IgKyAwICsgZl0gLSBhW2IgKyAxMiArIGZdO1xuICAgICAgICBlWzAgKyBmXSA9IGcgKyBoO1xuICAgICAgICBlWzggKyBmXSA9IGcgLSBoO1xuICAgICAgICBlWzQgKyBmXSA9IGwgKyBrO1xuICAgICAgICBlWzEyICsgZl0gPSBsIC0gaztcbiAgICAgIH1cbiAgICAgIGZvciAoZiA9IDA7IDQgPiBmOyArK2YpXG4gICAgICAgIChhID0gZVswICsgNCAqIGZdICsgMyksXG4gICAgICAgICAgKGcgPSBhICsgZVszICsgNCAqIGZdKSxcbiAgICAgICAgICAoaCA9IGVbMSArIDQgKiBmXSArIGVbMiArIDQgKiBmXSksXG4gICAgICAgICAgKGsgPSBlWzEgKyA0ICogZl0gLSBlWzIgKyA0ICogZl0pLFxuICAgICAgICAgIChsID0gYSAtIGVbMyArIDQgKiBmXSksXG4gICAgICAgICAgKGNbZCArIDBdID0gKGcgKyBoKSA+PiAzKSxcbiAgICAgICAgICAoY1tkICsgMTZdID0gKGwgKyBrKSA+PiAzKSxcbiAgICAgICAgICAoY1tkICsgMzJdID0gKGcgLSBoKSA+PiAzKSxcbiAgICAgICAgICAoY1tkICsgNDhdID0gKGwgLSBrKSA+PiAzKSxcbiAgICAgICAgICAoZCArPSA2NCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFBiKGEsIGIsIGMpIHtcbiAgICAgIHZhciBkID0gYiAtIDMyLFxuICAgICAgICBlID0gUixcbiAgICAgICAgZiA9IDI1NSAtIGFbZCAtIDFdLFxuICAgICAgICBnO1xuICAgICAgZm9yIChnID0gMDsgZyA8IGM7ICsrZykge1xuICAgICAgICB2YXIgaCA9IGUsXG4gICAgICAgICAgayA9IGYgKyBhW2IgLSAxXSxcbiAgICAgICAgICBsO1xuICAgICAgICBmb3IgKGwgPSAwOyBsIDwgYzsgKytsKSBhW2IgKyBsXSA9IGhbayArIGFbZCArIGxdXTtcbiAgICAgICAgYiArPSAzMjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZWYoYSwgYikge1xuICAgICAgUGIoYSwgYiwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdmKGEsIGIpIHtcbiAgICAgIFBiKGEsIGIsIDgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZihhLCBiKSB7XG4gICAgICBQYihhLCBiLCAxNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHFmKGEsIGIpIHtcbiAgICAgIHZhciBjO1xuICAgICAgZm9yIChjID0gMDsgMTYgPiBjOyArK2MpIEkoYSwgYiArIDMyICogYywgYSwgYiAtIDMyLCAxNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJmKGEsIGIpIHtcbiAgICAgIHZhciBjO1xuICAgICAgZm9yIChjID0gMTY7IDAgPCBjOyAtLWMpIE0oYSwgYiwgYVtiIC0gMV0sIDE2KSwgKGIgKz0gMzIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiAkYShhLCBiLCBjKSB7XG4gICAgICB2YXIgZDtcbiAgICAgIGZvciAoZCA9IDA7IDE2ID4gZDsgKytkKSBNKGIsIGMgKyAzMiAqIGQsIGEsIDE2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb2YoYSwgYikge1xuICAgICAgdmFyIGMgPSAxNixcbiAgICAgICAgZDtcbiAgICAgIGZvciAoZCA9IDA7IDE2ID4gZDsgKytkKSBjICs9IGFbYiAtIDEgKyAzMiAqIGRdICsgYVtiICsgZCAtIDMyXTtcbiAgICAgICRhKGMgPj4gNSwgYSwgYik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNmKGEsIGIpIHtcbiAgICAgIHZhciBjID0gOCxcbiAgICAgICAgZDtcbiAgICAgIGZvciAoZCA9IDA7IDE2ID4gZDsgKytkKSBjICs9IGFbYiAtIDEgKyAzMiAqIGRdO1xuICAgICAgJGEoYyA+PiA0LCBhLCBiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGYoYSwgYikge1xuICAgICAgdmFyIGMgPSA4LFxuICAgICAgICBkO1xuICAgICAgZm9yIChkID0gMDsgMTYgPiBkOyArK2QpIGMgKz0gYVtiICsgZCAtIDMyXTtcbiAgICAgICRhKGMgPj4gNCwgYSwgYik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVmKGEsIGIpIHtcbiAgICAgICRhKDEyOCwgYSwgYik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHooYSwgYiwgYykge1xuICAgICAgcmV0dXJuIChhICsgMiAqIGIgKyBjICsgMikgPj4gMjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmYoYSwgYikge1xuICAgICAgdmFyIGMgPSBiIC0gMzIsXG4gICAgICAgIGMgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgeihhW2MgLSAxXSwgYVtjICsgMF0sIGFbYyArIDFdKSxcbiAgICAgICAgICB6KGFbYyArIDBdLCBhW2MgKyAxXSwgYVtjICsgMl0pLFxuICAgICAgICAgIHooYVtjICsgMV0sIGFbYyArIDJdLCBhW2MgKyAzXSksXG4gICAgICAgICAgeihhW2MgKyAyXSwgYVtjICsgM10sIGFbYyArIDRdKVxuICAgICAgICBdKSxcbiAgICAgICAgZDtcbiAgICAgIGZvciAoZCA9IDA7IDQgPiBkOyArK2QpIEkoYSwgYiArIDMyICogZCwgYywgMCwgYy5sZW5ndGgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZihhLCBiKSB7XG4gICAgICB2YXIgYyA9IGFbYiAtIDFdLFxuICAgICAgICBkID0gYVtiIC0gMSArIDMyXSxcbiAgICAgICAgZSA9IGFbYiAtIDEgKyA2NF0sXG4gICAgICAgIGYgPSBhW2IgLSAxICsgOTZdO1xuICAgICAgcmEoYSwgYiArIDAsIDE2ODQzMDA5ICogeihhW2IgLSAxIC0gMzJdLCBjLCBkKSk7XG4gICAgICByYShhLCBiICsgMzIsIDE2ODQzMDA5ICogeihjLCBkLCBlKSk7XG4gICAgICByYShhLCBiICsgNjQsIDE2ODQzMDA5ICogeihkLCBlLCBmKSk7XG4gICAgICByYShhLCBiICsgOTYsIDE2ODQzMDA5ICogeihlLCBmLCBmKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRmKGEsIGIpIHtcbiAgICAgIHZhciBjID0gNCxcbiAgICAgICAgZDtcbiAgICAgIGZvciAoZCA9IDA7IDQgPiBkOyArK2QpIGMgKz0gYVtiICsgZCAtIDMyXSArIGFbYiAtIDEgKyAzMiAqIGRdO1xuICAgICAgYyA+Pj0gMztcbiAgICAgIGZvciAoZCA9IDA7IDQgPiBkOyArK2QpIE0oYSwgYiArIDMyICogZCwgYywgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhmKGEsIGIpIHtcbiAgICAgIHZhciBjID0gYVtiIC0gMSArIDBdLFxuICAgICAgICBkID0gYVtiIC0gMSArIDMyXSxcbiAgICAgICAgZSA9IGFbYiAtIDEgKyA2NF0sXG4gICAgICAgIGYgPSBhW2IgLSAxIC0gMzJdLFxuICAgICAgICBnID0gYVtiICsgMCAtIDMyXSxcbiAgICAgICAgaCA9IGFbYiArIDEgLSAzMl0sXG4gICAgICAgIGsgPSBhW2IgKyAyIC0gMzJdLFxuICAgICAgICBsID0gYVtiICsgMyAtIDMyXTtcbiAgICAgIGFbYiArIDAgKyA5Nl0gPSB6KGQsIGUsIGFbYiAtIDEgKyA5Nl0pO1xuICAgICAgYVtiICsgMSArIDk2XSA9IGFbYiArIDAgKyA2NF0gPSB6KGMsIGQsIGUpO1xuICAgICAgYVtiICsgMiArIDk2XSA9IGFbYiArIDEgKyA2NF0gPSBhW2IgKyAwICsgMzJdID0geihmLCBjLCBkKTtcbiAgICAgIGFbYiArIDMgKyA5Nl0gPSBhW2IgKyAyICsgNjRdID0gYVtiICsgMSArIDMyXSA9IGFbYiArIDAgKyAwXSA9IHooZywgZiwgYyk7XG4gICAgICBhW2IgKyAzICsgNjRdID0gYVtiICsgMiArIDMyXSA9IGFbYiArIDEgKyAwXSA9IHooaCwgZywgZik7XG4gICAgICBhW2IgKyAzICsgMzJdID0gYVtiICsgMiArIDBdID0geihrLCBoLCBnKTtcbiAgICAgIGFbYiArIDMgKyAwXSA9IHoobCwgaywgaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtmKGEsIGIpIHtcbiAgICAgIHZhciBjID0gYVtiICsgMSAtIDMyXSxcbiAgICAgICAgZCA9IGFbYiArIDIgLSAzMl0sXG4gICAgICAgIGUgPSBhW2IgKyAzIC0gMzJdLFxuICAgICAgICBmID0gYVtiICsgNCAtIDMyXSxcbiAgICAgICAgZyA9IGFbYiArIDUgLSAzMl0sXG4gICAgICAgIGggPSBhW2IgKyA2IC0gMzJdLFxuICAgICAgICBrID0gYVtiICsgNyAtIDMyXTtcbiAgICAgIGFbYiArIDAgKyAwXSA9IHooYVtiICsgMCAtIDMyXSwgYywgZCk7XG4gICAgICBhW2IgKyAxICsgMF0gPSBhW2IgKyAwICsgMzJdID0geihjLCBkLCBlKTtcbiAgICAgIGFbYiArIDIgKyAwXSA9IGFbYiArIDEgKyAzMl0gPSBhW2IgKyAwICsgNjRdID0geihkLCBlLCBmKTtcbiAgICAgIGFbYiArIDMgKyAwXSA9IGFbYiArIDIgKyAzMl0gPSBhW2IgKyAxICsgNjRdID0gYVtiICsgMCArIDk2XSA9IHooZSwgZiwgZyk7XG4gICAgICBhW2IgKyAzICsgMzJdID0gYVtiICsgMiArIDY0XSA9IGFbYiArIDEgKyA5Nl0gPSB6KGYsIGcsIGgpO1xuICAgICAgYVtiICsgMyArIDY0XSA9IGFbYiArIDIgKyA5Nl0gPSB6KGcsIGgsIGspO1xuICAgICAgYVtiICsgMyArIDk2XSA9IHooaCwgaywgayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpmKGEsIGIpIHtcbiAgICAgIHZhciBjID0gYVtiIC0gMSArIDBdLFxuICAgICAgICBkID0gYVtiIC0gMSArIDMyXSxcbiAgICAgICAgZSA9IGFbYiAtIDEgKyA2NF0sXG4gICAgICAgIGYgPSBhW2IgLSAxIC0gMzJdLFxuICAgICAgICBnID0gYVtiICsgMCAtIDMyXSxcbiAgICAgICAgaCA9IGFbYiArIDEgLSAzMl0sXG4gICAgICAgIGsgPSBhW2IgKyAyIC0gMzJdLFxuICAgICAgICBsID0gYVtiICsgMyAtIDMyXTtcbiAgICAgIGFbYiArIDAgKyAwXSA9IGFbYiArIDEgKyA2NF0gPSAoZiArIGcgKyAxKSA+PiAxO1xuICAgICAgYVtiICsgMSArIDBdID0gYVtiICsgMiArIDY0XSA9IChnICsgaCArIDEpID4+IDE7XG4gICAgICBhW2IgKyAyICsgMF0gPSBhW2IgKyAzICsgNjRdID0gKGggKyBrICsgMSkgPj4gMTtcbiAgICAgIGFbYiArIDMgKyAwXSA9IChrICsgbCArIDEpID4+IDE7XG4gICAgICBhW2IgKyAwICsgOTZdID0geihlLCBkLCBjKTtcbiAgICAgIGFbYiArIDAgKyA2NF0gPSB6KGQsIGMsIGYpO1xuICAgICAgYVtiICsgMCArIDMyXSA9IGFbYiArIDEgKyA5Nl0gPSB6KGMsIGYsIGcpO1xuICAgICAgYVtiICsgMSArIDMyXSA9IGFbYiArIDIgKyA5Nl0gPSB6KGYsIGcsIGgpO1xuICAgICAgYVtiICsgMiArIDMyXSA9IGFbYiArIDMgKyA5Nl0gPSB6KGcsIGgsIGspO1xuICAgICAgYVtiICsgMyArIDMyXSA9IHooaCwgaywgbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxmKGEsIGIpIHtcbiAgICAgIHZhciBjID0gYVtiICsgMCAtIDMyXSxcbiAgICAgICAgZCA9IGFbYiArIDEgLSAzMl0sXG4gICAgICAgIGUgPSBhW2IgKyAyIC0gMzJdLFxuICAgICAgICBmID0gYVtiICsgMyAtIDMyXSxcbiAgICAgICAgZyA9IGFbYiArIDQgLSAzMl0sXG4gICAgICAgIGggPSBhW2IgKyA1IC0gMzJdLFxuICAgICAgICBrID0gYVtiICsgNiAtIDMyXSxcbiAgICAgICAgbCA9IGFbYiArIDcgLSAzMl07XG4gICAgICBhW2IgKyAwICsgMF0gPSAoYyArIGQgKyAxKSA+PiAxO1xuICAgICAgYVtiICsgMSArIDBdID0gYVtiICsgMCArIDY0XSA9IChkICsgZSArIDEpID4+IDE7XG4gICAgICBhW2IgKyAyICsgMF0gPSBhW2IgKyAxICsgNjRdID0gKGUgKyBmICsgMSkgPj4gMTtcbiAgICAgIGFbYiArIDMgKyAwXSA9IGFbYiArIDIgKyA2NF0gPSAoZiArIGcgKyAxKSA+PiAxO1xuICAgICAgYVtiICsgMCArIDMyXSA9IHooYywgZCwgZSk7XG4gICAgICBhW2IgKyAxICsgMzJdID0gYVtiICsgMCArIDk2XSA9IHooZCwgZSwgZik7XG4gICAgICBhW2IgKyAyICsgMzJdID0gYVtiICsgMSArIDk2XSA9IHooZSwgZiwgZyk7XG4gICAgICBhW2IgKyAzICsgMzJdID0gYVtiICsgMiArIDk2XSA9IHooZiwgZywgaCk7XG4gICAgICBhW2IgKyAzICsgNjRdID0geihnLCBoLCBrKTtcbiAgICAgIGFbYiArIDMgKyA5Nl0gPSB6KGgsIGssIGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuZihhLCBiKSB7XG4gICAgICB2YXIgYyA9IGFbYiAtIDEgKyAwXSxcbiAgICAgICAgZCA9IGFbYiAtIDEgKyAzMl0sXG4gICAgICAgIGUgPSBhW2IgLSAxICsgNjRdLFxuICAgICAgICBmID0gYVtiIC0gMSArIDk2XTtcbiAgICAgIGFbYiArIDAgKyAwXSA9IChjICsgZCArIDEpID4+IDE7XG4gICAgICBhW2IgKyAyICsgMF0gPSBhW2IgKyAwICsgMzJdID0gKGQgKyBlICsgMSkgPj4gMTtcbiAgICAgIGFbYiArIDIgKyAzMl0gPSBhW2IgKyAwICsgNjRdID0gKGUgKyBmICsgMSkgPj4gMTtcbiAgICAgIGFbYiArIDEgKyAwXSA9IHooYywgZCwgZSk7XG4gICAgICBhW2IgKyAzICsgMF0gPSBhW2IgKyAxICsgMzJdID0geihkLCBlLCBmKTtcbiAgICAgIGFbYiArIDMgKyAzMl0gPSBhW2IgKyAxICsgNjRdID0geihlLCBmLCBmKTtcbiAgICAgIGFbYiArIDMgKyA2NF0gPSBhW2IgKyAyICsgNjRdID0gYVtiICsgMCArIDk2XSA9IGFbYiArIDEgKyA5Nl0gPSBhW1xuICAgICAgICBiICsgMiArIDk2XG4gICAgICBdID0gYVtiICsgMyArIDk2XSA9IGY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1mKGEsIGIpIHtcbiAgICAgIHZhciBjID0gYVtiIC0gMSArIDBdLFxuICAgICAgICBkID0gYVtiIC0gMSArIDMyXSxcbiAgICAgICAgZSA9IGFbYiAtIDEgKyA2NF0sXG4gICAgICAgIGYgPSBhW2IgLSAxICsgOTZdLFxuICAgICAgICBnID0gYVtiIC0gMSAtIDMyXSxcbiAgICAgICAgaCA9IGFbYiArIDAgLSAzMl0sXG4gICAgICAgIGsgPSBhW2IgKyAxIC0gMzJdLFxuICAgICAgICBsID0gYVtiICsgMiAtIDMyXTtcbiAgICAgIGFbYiArIDAgKyAwXSA9IGFbYiArIDIgKyAzMl0gPSAoYyArIGcgKyAxKSA+PiAxO1xuICAgICAgYVtiICsgMCArIDMyXSA9IGFbYiArIDIgKyA2NF0gPSAoZCArIGMgKyAxKSA+PiAxO1xuICAgICAgYVtiICsgMCArIDY0XSA9IGFbYiArIDIgKyA5Nl0gPSAoZSArIGQgKyAxKSA+PiAxO1xuICAgICAgYVtiICsgMCArIDk2XSA9IChmICsgZSArIDEpID4+IDE7XG4gICAgICBhW2IgKyAzICsgMF0gPSB6KGgsIGssIGwpO1xuICAgICAgYVtiICsgMiArIDBdID0geihnLCBoLCBrKTtcbiAgICAgIGFbYiArIDEgKyAwXSA9IGFbYiArIDMgKyAzMl0gPSB6KGMsIGcsIGgpO1xuICAgICAgYVtiICsgMSArIDMyXSA9IGFbYiArIDMgKyA2NF0gPSB6KGQsIGMsIGcpO1xuICAgICAgYVtiICsgMSArIDY0XSA9IGFbYiArIDMgKyA5Nl0gPSB6KGUsIGQsIGMpO1xuICAgICAgYVtiICsgMSArIDk2XSA9IHooZiwgZSwgZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHhmKGEsIGIpIHtcbiAgICAgIHZhciBjO1xuICAgICAgZm9yIChjID0gMDsgOCA+IGM7ICsrYykgSShhLCBiICsgMzIgKiBjLCBhLCBiIC0gMzIsIDgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB5ZihhLCBiKSB7XG4gICAgICB2YXIgYztcbiAgICAgIGZvciAoYyA9IDA7IDggPiBjOyArK2MpIE0oYSwgYiwgYVtiIC0gMV0sIDgpLCAoYiArPSAzMik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxiKGEsIGIsIGMpIHtcbiAgICAgIHZhciBkO1xuICAgICAgZm9yIChkID0gMDsgOCA+IGQ7ICsrZCkgTShiLCBjICsgMzIgKiBkLCBhLCA4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmYoYSwgYikge1xuICAgICAgdmFyIGMgPSA4LFxuICAgICAgICBkO1xuICAgICAgZm9yIChkID0gMDsgOCA+IGQ7ICsrZCkgYyArPSBhW2IgKyBkIC0gMzJdICsgYVtiIC0gMSArIDMyICogZF07XG4gICAgICBsYihjID4+IDQsIGEsIGIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBBZihhLCBiKSB7XG4gICAgICB2YXIgYyA9IDQsXG4gICAgICAgIGQ7XG4gICAgICBmb3IgKGQgPSAwOyA4ID4gZDsgKytkKSBjICs9IGFbYiArIGQgLSAzMl07XG4gICAgICBsYihjID4+IDMsIGEsIGIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB6ZihhLCBiKSB7XG4gICAgICB2YXIgYyA9IDQsXG4gICAgICAgIGQ7XG4gICAgICBmb3IgKGQgPSAwOyA4ID4gZDsgKytkKSBjICs9IGFbYiAtIDEgKyAzMiAqIGRdO1xuICAgICAgbGIoYyA+PiAzLCBhLCBiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQmYoYSwgYikge1xuICAgICAgbGIoMTI4LCBhLCBiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWIoYSwgYiwgYykge1xuICAgICAgdmFyIGQgPSBhW2IgLSBjXSxcbiAgICAgICAgZSA9IGFbYiArIDBdLFxuICAgICAgICBmID0gMyAqIChlIC0gZCkgKyBRYlsxMDIwICsgYVtiIC0gMiAqIGNdIC0gYVtiICsgY11dLFxuICAgICAgICBnID0gbWJbMTEyICsgKChmICsgNCkgPj4gMyldO1xuICAgICAgYVtiIC0gY10gPSBSWzI1NSArIGQgKyBtYlsxMTIgKyAoKGYgKyAzKSA+PiAzKV1dO1xuICAgICAgYVtiICsgMF0gPSBSWzI1NSArIGUgLSBnXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gamQoYSwgYiwgYywgZCkge1xuICAgICAgdmFyIGUgPSBhW2IgKyAwXSxcbiAgICAgICAgZiA9IGFbYiArIGNdO1xuICAgICAgcmV0dXJuIFVbMjU1ICsgYVtiIC0gMiAqIGNdIC0gYVtiIC0gY11dID4gZCB8fCBVWzI1NSArIGYgLSBlXSA+IGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtkKGEsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDQgKiBVWzI1NSArIGFbYiAtIGNdIC0gYVtiICsgMF1dICsgVVsyNTUgKyBhW2IgLSAyICogY10gLSBhW2IgKyBjXV0gPD0gZFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGQoYSwgYiwgYywgZCwgZSkge1xuICAgICAgdmFyIGYgPSBhW2IgLSAzICogY10sXG4gICAgICAgIGcgPSBhW2IgLSAyICogY10sXG4gICAgICAgIGggPSBhW2IgLSBjXSxcbiAgICAgICAgayA9IGFbYiArIDBdLFxuICAgICAgICBsID0gYVtiICsgY10sXG4gICAgICAgIG0gPSBhW2IgKyAyICogY10sXG4gICAgICAgIG4gPSBhW2IgKyAzICogY107XG4gICAgICByZXR1cm4gNCAqIFVbMjU1ICsgaCAtIGtdICsgVVsyNTUgKyBnIC0gbF0gPiBkXG4gICAgICAgID8gMFxuICAgICAgICA6IFVbMjU1ICsgYVtiIC0gNCAqIGNdIC0gZl0gPD0gZSAmJlxuICAgICAgICAgICAgVVsyNTUgKyBmIC0gZ10gPD0gZSAmJlxuICAgICAgICAgICAgVVsyNTUgKyBnIC0gaF0gPD0gZSAmJlxuICAgICAgICAgICAgVVsyNTUgKyBuIC0gbV0gPD0gZSAmJlxuICAgICAgICAgICAgVVsyNTUgKyBtIC0gbF0gPD0gZSAmJlxuICAgICAgICAgICAgVVsyNTUgKyBsIC0ga10gPD0gZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2QoYSwgYiwgYywgZCkge1xuICAgICAgdmFyIGUgPSAyICogZCArIDE7XG4gICAgICBmb3IgKGQgPSAwOyAxNiA+IGQ7ICsrZCkga2QoYSwgYiArIGQsIGMsIGUpICYmIGFiKGEsIGIgKyBkLCBjKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGQoYSwgYiwgYywgZCkge1xuICAgICAgdmFyIGUgPSAyICogZCArIDE7XG4gICAgICBmb3IgKGQgPSAwOyAxNiA+IGQ7ICsrZCkga2QoYSwgYiArIGQgKiBjLCAxLCBlKSAmJiBhYihhLCBiICsgZCAqIGMsIDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZihhLCBiLCBjLCBkKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIGZvciAoZSA9IDM7IDAgPCBlOyAtLWUpIChiICs9IDQgKiBjKSwgZ2QoYSwgYiwgYywgZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNmKGEsIGIsIGMsIGQpIHtcbiAgICAgIHZhciBlO1xuICAgICAgZm9yIChlID0gMzsgMCA8IGU7IC0tZSkgKGIgKz0gNCksIGhkKGEsIGIsIGMsIGQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlYShhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgICBmb3IgKGYgPSAyICogZiArIDE7IDAgPCBlLS07ICkge1xuICAgICAgICBpZiAobGQoYSwgYiwgYywgZiwgZykpXG4gICAgICAgICAgaWYgKGpkKGEsIGIsIGMsIGgpKSBhYihhLCBiLCBjKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBrID0gYSxcbiAgICAgICAgICAgICAgbCA9IGIsXG4gICAgICAgICAgICAgIG0gPSBjLFxuICAgICAgICAgICAgICBuID0ga1tsIC0gMiAqIG1dLFxuICAgICAgICAgICAgICByID0ga1tsIC0gbV0sXG4gICAgICAgICAgICAgIHEgPSBrW2wgKyAwXSxcbiAgICAgICAgICAgICAgdCA9IGtbbCArIG1dLFxuICAgICAgICAgICAgICB2ID0ga1tsICsgMiAqIG1dLFxuICAgICAgICAgICAgICBwID0gUWJbMTAyMCArIDMgKiAocSAtIHIpICsgUWJbMTAyMCArIG4gLSB0XV0sXG4gICAgICAgICAgICAgIHUgPSAoMjcgKiBwICsgNjMpID4+IDcsXG4gICAgICAgICAgICAgIHcgPSAoMTggKiBwICsgNjMpID4+IDcsXG4gICAgICAgICAgICAgIHAgPSAoOSAqIHAgKyA2MykgPj4gNztcbiAgICAgICAgICAgIGtbbCAtIDMgKiBtXSA9IFJbMjU1ICsga1tsIC0gMyAqIG1dICsgcF07XG4gICAgICAgICAgICBrW2wgLSAyICogbV0gPSBSWzI1NSArIG4gKyB3XTtcbiAgICAgICAgICAgIGtbbCAtIG1dID0gUlsyNTUgKyByICsgdV07XG4gICAgICAgICAgICBrW2wgKyAwXSA9IFJbMjU1ICsgcSAtIHVdO1xuICAgICAgICAgICAga1tsICsgbV0gPSBSWzI1NSArIHQgLSB3XTtcbiAgICAgICAgICAgIGtbbCArIDIgKiBtXSA9IFJbMjU1ICsgdiAtIHBdO1xuICAgICAgICAgIH1cbiAgICAgICAgYiArPSBkO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBGYShhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgICBmb3IgKGYgPSAyICogZiArIDE7IDAgPCBlLS07ICkge1xuICAgICAgICBpZiAobGQoYSwgYiwgYywgZiwgZykpXG4gICAgICAgICAgaWYgKGpkKGEsIGIsIGMsIGgpKSBhYihhLCBiLCBjKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBrID0gYSxcbiAgICAgICAgICAgICAgbCA9IGIsXG4gICAgICAgICAgICAgIG0gPSBjLFxuICAgICAgICAgICAgICBuID0ga1tsIC0gbV0sXG4gICAgICAgICAgICAgIHIgPSBrW2wgKyAwXSxcbiAgICAgICAgICAgICAgcSA9IGtbbCArIG1dLFxuICAgICAgICAgICAgICB0ID0gMyAqIChyIC0gbiksXG4gICAgICAgICAgICAgIHYgPSBtYlsxMTIgKyAoKHQgKyA0KSA+PiAzKV0sXG4gICAgICAgICAgICAgIHQgPSBtYlsxMTIgKyAoKHQgKyAzKSA+PiAzKV0sXG4gICAgICAgICAgICAgIHAgPSAodiArIDEpID4+IDE7XG4gICAgICAgICAgICBrW2wgLSAyICogbV0gPSBSWzI1NSArIGtbbCAtIDIgKiBtXSArIHBdO1xuICAgICAgICAgICAga1tsIC0gbV0gPSBSWzI1NSArIG4gKyB0XTtcbiAgICAgICAgICAgIGtbbCArIDBdID0gUlsyNTUgKyByIC0gdl07XG4gICAgICAgICAgICBrW2wgKyBtXSA9IFJbMjU1ICsgcSAtIHBdO1xuICAgICAgICAgIH1cbiAgICAgICAgYiArPSBkO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBVZShhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICBlYShhLCBiLCBjLCAxLCAxNiwgZCwgZSwgZik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFZlKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgIGVhKGEsIGIsIDEsIGMsIDE2LCBkLCBlLCBmKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gWWUoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgdmFyIGc7XG4gICAgICBmb3IgKGcgPSAzOyAwIDwgZzsgLS1nKSAoYiArPSA0ICogYyksIEZhKGEsIGIsIGMsIDEsIDE2LCBkLCBlLCBmKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gWmUoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgdmFyIGc7XG4gICAgICBmb3IgKGcgPSAzOyAwIDwgZzsgLS1nKSAoYiArPSA0KSwgRmEoYSwgYiwgMSwgYywgMTYsIGQsIGUsIGYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBXZShhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgICBlYShhLCBiLCBlLCAxLCA4LCBmLCBnLCBoKTtcbiAgICAgIGVhKGMsIGQsIGUsIDEsIDgsIGYsIGcsIGgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBYZShhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgICBlYShhLCBiLCAxLCBlLCA4LCBmLCBnLCBoKTtcbiAgICAgIGVhKGMsIGQsIDEsIGUsIDgsIGYsIGcsIGgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiAkZShhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgICBGYShhLCBiICsgNCAqIGUsIGUsIDEsIDgsIGYsIGcsIGgpO1xuICAgICAgRmEoYywgZCArIDQgKiBlLCBlLCAxLCA4LCBmLCBnLCBoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWYoYSwgYiwgYywgZCwgZSwgZiwgZywgaCkge1xuICAgICAgRmEoYSwgYiArIDQsIDEsIGUsIDgsIGYsIGcsIGgpO1xuICAgICAgRmEoYywgZCArIDQsIDEsIGUsIDgsIGYsIGcsIGgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDZigpIHtcbiAgICAgIHRoaXMuYmEgPSBuZXcgQ2IoKTtcbiAgICAgIHRoaXMuZWMgPSBbXTtcbiAgICAgIHRoaXMuY2MgPSBbXTtcbiAgICAgIHRoaXMuTWMgPSBbXTtcbiAgICAgIHRoaXMuRGMgPSB0aGlzLk5jID0gdGhpcy5kYyA9IHRoaXMuZmMgPSAwO1xuICAgICAgdGhpcy5PYSA9IG5ldyBVZCgpO1xuICAgICAgdGhpcy5tZW1vcnkgPSAwO1xuICAgICAgdGhpcy5JYiA9IFwiT3V0cHV0RnVuY1wiO1xuICAgICAgdGhpcy5KYiA9IFwiT3V0cHV0QWxwaGFGdW5jXCI7XG4gICAgICB0aGlzLk5kID0gXCJPdXRwdXRSb3dGdW5jXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1kKCkge1xuICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICB0aGlzLm9mZnNldCA9IHRoaXMua2QgPSB0aGlzLmhhID0gdGhpcy53ID0gMDtcbiAgICAgIHRoaXMubmEgPSBbXTtcbiAgICAgIHRoaXMueGEgPSB0aGlzLmdiID0gdGhpcy5KYSA9IHRoaXMuU2EgPSB0aGlzLlAgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBEZigpIHtcbiAgICAgIHRoaXMubmMgPSB0aGlzLkVhID0gdGhpcy5iID0gdGhpcy5oYyA9IDA7XG4gICAgICB0aGlzLksgPSBbXTtcbiAgICAgIHRoaXMudyA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVmKCkge1xuICAgICAgdGhpcy51YSA9IDA7XG4gICAgICB0aGlzLldhID0gbmV3IGFjKCk7XG4gICAgICB0aGlzLnZiID0gbmV3IGFjKCk7XG4gICAgICB0aGlzLm1kID0gdGhpcy54YyA9IHRoaXMud2MgPSAwO1xuICAgICAgdGhpcy52YyA9IFtdO1xuICAgICAgdGhpcy5XYiA9IDA7XG4gICAgICB0aGlzLllhID0gbmV3IFViKCk7XG4gICAgICB0aGlzLnljID0gbmV3IE8oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gamUoKSB7XG4gICAgICB0aGlzLnhiID0gdGhpcy5hID0gMDtcbiAgICAgIHRoaXMubCA9IG5ldyBPYSgpO1xuICAgICAgdGhpcy5jYSA9IG5ldyBDYigpO1xuICAgICAgdGhpcy5WID0gW107XG4gICAgICB0aGlzLkJhID0gMDtcbiAgICAgIHRoaXMuVGEgPSBbXTtcbiAgICAgIHRoaXMuVWEgPSAwO1xuICAgICAgdGhpcy5tID0gbmV3IFJhKCk7XG4gICAgICB0aGlzLlBiID0gMDtcbiAgICAgIHRoaXMud2QgPSBuZXcgUmEoKTtcbiAgICAgIHRoaXMuTWEgPSB0aGlzLiQgPSB0aGlzLkMgPSB0aGlzLmkgPSB0aGlzLmMgPSB0aGlzLnhkID0gMDtcbiAgICAgIHRoaXMucyA9IG5ldyBFZigpO1xuICAgICAgdGhpcy5hYiA9IDA7XG4gICAgICB0aGlzLmdjID0gd2EoNCwgRGYpO1xuICAgICAgdGhpcy5PYyA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEZmKCkge1xuICAgICAgdGhpcy5MYyA9IHRoaXMuWiA9IHRoaXMuJGEgPSB0aGlzLmkgPSB0aGlzLmMgPSAwO1xuICAgICAgdGhpcy5sID0gbmV3IE9hKCk7XG4gICAgICB0aGlzLmljID0gMDtcbiAgICAgIHRoaXMuY2EgPSBbXTtcbiAgICAgIHRoaXMudGIgPSAwO1xuICAgICAgdGhpcy5xZCA9IG51bGw7XG4gICAgICB0aGlzLnJkID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmIoYSwgYiwgYywgZCwgZSwgZiwgZykge1xuICAgICAgYSA9IG51bGwgPT0gYSA/IDAgOiBhW2IgKyAwXTtcbiAgICAgIGZvciAoYiA9IDA7IGIgPCBnOyArK2IpIChlW2YgKyBiXSA9IChhICsgY1tkICsgYl0pICYgMjU1KSwgKGEgPSBlW2YgKyBiXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEdmKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHtcbiAgICAgIGlmIChudWxsID09IGEpIFJiKG51bGwsIG51bGwsIGMsIGQsIGUsIGYsIGcpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBoO1xuICAgICAgICBmb3IgKGggPSAwOyBoIDwgZzsgKytoKSBlW2YgKyBoXSA9IChhW2IgKyBoXSArIGNbZCArIGhdKSAmIDI1NTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gSGYoYSwgYiwgYywgZCwgZSwgZiwgZykge1xuICAgICAgaWYgKG51bGwgPT0gYSkgUmIobnVsbCwgbnVsbCwgYywgZCwgZSwgZiwgZyk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGggPSBhW2IgKyAwXSxcbiAgICAgICAgICBrID0gaCxcbiAgICAgICAgICBsID0gaCxcbiAgICAgICAgICBtO1xuICAgICAgICBmb3IgKG0gPSAwOyBtIDwgZzsgKyttKVxuICAgICAgICAgIChoID0gYVtiICsgbV0pLFxuICAgICAgICAgICAgKGsgPSBsICsgaCAtIGspLFxuICAgICAgICAgICAgKGwgPSAoY1tkICsgbV0gKyAoayAmIC0yNTYgPyAoMCA+IGsgPyAwIDogMjU1KSA6IGspKSAmIDI1NSksXG4gICAgICAgICAgICAoayA9IGgpLFxuICAgICAgICAgICAgKGVbZiArIG1dID0gbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIExlKGEsIGIsIGMsIGQpIHtcbiAgICAgIHZhciBlID0gYi53aWR0aCxcbiAgICAgICAgZiA9IGIubztcbiAgICAgIHgobnVsbCAhPSBhICYmIG51bGwgIT0gYik7XG4gICAgICBpZiAoMCA+IGMgfHwgMCA+PSBkIHx8IGMgKyBkID4gZikgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoIWEuQ2MpIHtcbiAgICAgICAgaWYgKG51bGwgPT0gYS5nYSkge1xuICAgICAgICAgIGEuZ2EgPSBuZXcgRmYoKTtcbiAgICAgICAgICB2YXIgZztcbiAgICAgICAgICAoZyA9IG51bGwgPT0gYS5nYSkgfHxcbiAgICAgICAgICAgICgoZyA9IGIud2lkdGggKiBiLm8pLFxuICAgICAgICAgICAgeCgwID09IGEuR2IubGVuZ3RoKSxcbiAgICAgICAgICAgIChhLkdiID0gVihnKSksXG4gICAgICAgICAgICAoYS5VYyA9IDApLFxuICAgICAgICAgICAgbnVsbCA9PSBhLkdiXG4gICAgICAgICAgICAgID8gKGcgPSAwKVxuICAgICAgICAgICAgICA6ICgoYS5tYiA9IGEuR2IpLCAoYS5uYiA9IGEuVWMpLCAoYS5yYyA9IG51bGwpLCAoZyA9IDEpKSxcbiAgICAgICAgICAgIChnID0gIWcpKTtcbiAgICAgICAgICBpZiAoIWcpIHtcbiAgICAgICAgICAgIGcgPSBhLmdhO1xuICAgICAgICAgICAgdmFyIGggPSBhLkZhLFxuICAgICAgICAgICAgICBrID0gYS5QLFxuICAgICAgICAgICAgICBsID0gYS5xYyxcbiAgICAgICAgICAgICAgbSA9IGEubWIsXG4gICAgICAgICAgICAgIG4gPSBhLm5iLFxuICAgICAgICAgICAgICByID0gayArIDEsXG4gICAgICAgICAgICAgIHEgPSBsIC0gMSxcbiAgICAgICAgICAgICAgdCA9IGcubDtcbiAgICAgICAgICAgIHgobnVsbCAhPSBoICYmIG51bGwgIT0gbSAmJiBudWxsICE9IGIpO1xuICAgICAgICAgICAgaWFbMF0gPSBudWxsO1xuICAgICAgICAgICAgaWFbMV0gPSBSYjtcbiAgICAgICAgICAgIGlhWzJdID0gR2Y7XG4gICAgICAgICAgICBpYVszXSA9IEhmO1xuICAgICAgICAgICAgZy5jYSA9IG07XG4gICAgICAgICAgICBnLnRiID0gbjtcbiAgICAgICAgICAgIGcuYyA9IGIud2lkdGg7XG4gICAgICAgICAgICBnLmkgPSBiLmhlaWdodDtcbiAgICAgICAgICAgIHgoMCA8IGcuYyAmJiAwIDwgZy5pKTtcbiAgICAgICAgICAgIGlmICgxID49IGwpIGIgPSAwO1xuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICgoZy4kYSA9IChoW2sgKyAwXSA+PiAwKSAmIDMpLFxuICAgICAgICAgICAgICAoZy5aID0gKGhbayArIDBdID4+IDIpICYgMyksXG4gICAgICAgICAgICAgIChnLkxjID0gKGhbayArIDBdID4+IDQpICYgMyksXG4gICAgICAgICAgICAgIChrID0gKGhbayArIDBdID4+IDYpICYgMyksXG4gICAgICAgICAgICAgIDAgPiBnLiRhIHx8IDEgPCBnLiRhIHx8IDQgPD0gZy5aIHx8IDEgPCBnLkxjIHx8IGspXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICgodC5wdXQgPSBrYyksXG4gICAgICAgICAgICAgICh0LmFjID0gZ2MpLFxuICAgICAgICAgICAgICAodC5iYyA9IGxjKSxcbiAgICAgICAgICAgICAgKHQubWEgPSBnKSxcbiAgICAgICAgICAgICAgKHQud2lkdGggPSBiLndpZHRoKSxcbiAgICAgICAgICAgICAgKHQuaGVpZ2h0ID0gYi5oZWlnaHQpLFxuICAgICAgICAgICAgICAodC5EYSA9IGIuRGEpLFxuICAgICAgICAgICAgICAodC52ID0gYi52KSxcbiAgICAgICAgICAgICAgKHQudmEgPSBiLnZhKSxcbiAgICAgICAgICAgICAgKHQuaiA9IGIuaiksXG4gICAgICAgICAgICAgICh0Lm8gPSBiLm8pLFxuICAgICAgICAgICAgICBnLiRhKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgICAgeCgxID09IGcuJGEpLCAoYiA9IEJjKCkpO1xuICAgICAgICAgICAgICAgIGM6IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09IGIpIHtcbiAgICAgICAgICAgICAgICAgICAgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB4KG51bGwgIT0gZyk7XG4gICAgICAgICAgICAgICAgICBnLm1jID0gYjtcbiAgICAgICAgICAgICAgICAgIGIuYyA9IGcuYztcbiAgICAgICAgICAgICAgICAgIGIuaSA9IGcuaTtcbiAgICAgICAgICAgICAgICAgIGIubCA9IGcubDtcbiAgICAgICAgICAgICAgICAgIGIubC5tYSA9IGc7XG4gICAgICAgICAgICAgICAgICBiLmwud2lkdGggPSBnLmM7XG4gICAgICAgICAgICAgICAgICBiLmwuaGVpZ2h0ID0gZy5pO1xuICAgICAgICAgICAgICAgICAgYi5hID0gMDtcbiAgICAgICAgICAgICAgICAgIGNiKGIubSwgaCwgciwgcSk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXJiKGcuYywgZy5pLCAxLCBiLCBudWxsKSkgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIDEgPT0gYi5hYiAmJiAzID09IGIuZ2NbMF0uaGMgJiYgeWMoYi5zKVxuICAgICAgICAgICAgICAgICAgICA/ICgoZy5pYyA9IDEpLFxuICAgICAgICAgICAgICAgICAgICAgIChoID0gYi5jICogYi5pKSxcbiAgICAgICAgICAgICAgICAgICAgICAoYi5UYSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgIChiLlVhID0gMCksXG4gICAgICAgICAgICAgICAgICAgICAgKGIuViA9IFYoaCkpLFxuICAgICAgICAgICAgICAgICAgICAgIChiLkJhID0gMCksXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBiLlYgPyAoKGIuYSA9IDEpLCAoYiA9IDApKSA6IChiID0gMSkpXG4gICAgICAgICAgICAgICAgICAgIDogKChnLmljID0gMCksIChiID0gRWMoYiwgZy5jKSkpO1xuICAgICAgICAgICAgICAgICAgaWYgKCFiKSBicmVhayBjO1xuICAgICAgICAgICAgICAgICAgYiA9IDE7XG4gICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnLm1jID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiID0gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBiID0gcSA+PSBnLmMgKiBnLmk7XG4gICAgICAgICAgICBnID0gIWI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChnKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAxICE9IGEuZ2EuTGMgPyAoYS5HYSA9IDApIDogKGQgPSBmIC0gYyk7XG4gICAgICAgIH1cbiAgICAgICAgeChudWxsICE9IGEuZ2EpO1xuICAgICAgICB4KGMgKyBkIDw9IGYpO1xuICAgICAgICBhOiB7XG4gICAgICAgICAgaCA9IGEuZ2E7XG4gICAgICAgICAgYiA9IGguYztcbiAgICAgICAgICBmID0gaC5sLm87XG4gICAgICAgICAgaWYgKDAgPT0gaC4kYSkge1xuICAgICAgICAgICAgciA9IGEucmM7XG4gICAgICAgICAgICBxID0gYS5WYztcbiAgICAgICAgICAgIHQgPSBhLkZhO1xuICAgICAgICAgICAgayA9IGEuUCArIDEgKyBjICogYjtcbiAgICAgICAgICAgIGwgPSBhLm1iO1xuICAgICAgICAgICAgbSA9IGEubmIgKyBjICogYjtcbiAgICAgICAgICAgIHgoayA8PSBhLlAgKyBhLnFjKTtcbiAgICAgICAgICAgIGlmICgwICE9IGguWilcbiAgICAgICAgICAgICAgZm9yICh4KG51bGwgIT0gaWFbaC5aXSksIGcgPSAwOyBnIDwgZDsgKytnKVxuICAgICAgICAgICAgICAgIGlhW2guWl0ociwgcSwgdCwgaywgbCwgbSwgYiksXG4gICAgICAgICAgICAgICAgICAociA9IGwpLFxuICAgICAgICAgICAgICAgICAgKHEgPSBtKSxcbiAgICAgICAgICAgICAgICAgIChtICs9IGIpLFxuICAgICAgICAgICAgICAgICAgKGsgKz0gYik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZvciAoZyA9IDA7IGcgPCBkOyArK2cpXG4gICAgICAgICAgICAgICAgSShsLCBtLCB0LCBrLCBiKSwgKHIgPSBsKSwgKHEgPSBtKSwgKG0gKz0gYiksIChrICs9IGIpO1xuICAgICAgICAgICAgYS5yYyA9IHI7XG4gICAgICAgICAgICBhLlZjID0gcTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeChudWxsICE9IGgubWMpO1xuICAgICAgICAgICAgYiA9IGMgKyBkO1xuICAgICAgICAgICAgZyA9IGgubWM7XG4gICAgICAgICAgICB4KG51bGwgIT0gZyk7XG4gICAgICAgICAgICB4KGIgPD0gZy5pKTtcbiAgICAgICAgICAgIGlmIChnLkMgPj0gYikgYiA9IDE7XG4gICAgICAgICAgICBlbHNlIGlmICgoaC5pYyB8fCBBYSgpLCBoLmljKSkge1xuICAgICAgICAgICAgICB2YXIgaCA9IGcuVixcbiAgICAgICAgICAgICAgICByID0gZy5CYSxcbiAgICAgICAgICAgICAgICBxID0gZy5jLFxuICAgICAgICAgICAgICAgIHYgPSBnLmksXG4gICAgICAgICAgICAgICAgdCA9IDEsXG4gICAgICAgICAgICAgICAgayA9IGcuJCAvIHEsXG4gICAgICAgICAgICAgICAgbCA9IGcuJCAlIHEsXG4gICAgICAgICAgICAgICAgbSA9IGcubSxcbiAgICAgICAgICAgICAgICBuID0gZy5zLFxuICAgICAgICAgICAgICAgIHAgPSBnLiQsXG4gICAgICAgICAgICAgICAgdSA9IHEgKiB2LFxuICAgICAgICAgICAgICAgIHcgPSBxICogYixcbiAgICAgICAgICAgICAgICB5ID0gbi53YyxcbiAgICAgICAgICAgICAgICBBID0gcCA8IHcgPyBoYShuLCBsLCBrKSA6IG51bGw7XG4gICAgICAgICAgICAgIHgocCA8PSB1KTtcbiAgICAgICAgICAgICAgeChiIDw9IHYpO1xuICAgICAgICAgICAgICB4KHljKG4pKTtcbiAgICAgICAgICAgICAgYzogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGZvciAoOyAhbS5oICYmIHAgPCB3OyApIHtcbiAgICAgICAgICAgICAgICAgIGwgJiB5IHx8IChBID0gaGEobiwgbCwgaykpO1xuICAgICAgICAgICAgICAgICAgeChudWxsICE9IEEpO1xuICAgICAgICAgICAgICAgICAgU2EobSk7XG4gICAgICAgICAgICAgICAgICB2ID0gdWEoQS5HWzBdLCBBLkhbMF0sIG0pO1xuICAgICAgICAgICAgICAgICAgaWYgKDI1NiA+IHYpXG4gICAgICAgICAgICAgICAgICAgIChoW3IgKyBwXSA9IHYpLFxuICAgICAgICAgICAgICAgICAgICAgICsrcCxcbiAgICAgICAgICAgICAgICAgICAgICArK2wsXG4gICAgICAgICAgICAgICAgICAgICAgbCA+PSBxICYmICgobCA9IDApLCArK2ssIGsgPD0gYiAmJiAhKGsgJSAxNikgJiYgSWIoZywgaykpO1xuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoMjgwID4gdikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IGliKHYgLSAyNTYsIG0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgRSA9IHVhKEEuR1s0XSwgQS5IWzRdLCBtKTtcbiAgICAgICAgICAgICAgICAgICAgU2EobSk7XG4gICAgICAgICAgICAgICAgICAgIEUgPSBpYihFLCBtKTtcbiAgICAgICAgICAgICAgICAgICAgRSA9IG5jKHEsIEUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCA+PSBFICYmIHUgLSBwID49IHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgQjtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKEIgPSAwOyBCIDwgdjsgKytCKSBoW3IgKyBwICsgQl0gPSBoW3IgKyBwICsgQiAtIEVdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcCArPSB2O1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGwgKz0gdjsgbCA+PSBxOyApXG4gICAgICAgICAgICAgICAgICAgICAgKGwgLT0gcSksICsraywgayA8PSBiICYmICEoayAlIDE2KSAmJiBJYihnLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgcCA8IHcgJiYgbCAmIHkgJiYgKEEgPSBoYShuLCBsLCBrKSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHgobS5oID09IGRiKG0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgSWIoZywgayA+IGIgPyBiIDogayk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAhdCB8fCAobS5oICYmIHAgPCB1KSA/ICgodCA9IDApLCAoZy5hID0gbS5oID8gNSA6IDMpKSA6IChnLiQgPSBwKTtcbiAgICAgICAgICAgICAgYiA9IHQ7XG4gICAgICAgICAgICB9IGVsc2UgYiA9IEpiKGcsIGcuViwgZy5CYSwgZy5jLCBnLmksIGIsIHNlKTtcbiAgICAgICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgICBkID0gMDtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYyArIGQgPj0gZiAmJiAoYS5DYyA9IDEpO1xuICAgICAgICAgIGQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhLkNjICYmXG4gICAgICAgICAgKChkID0gYS5nYSksIG51bGwgIT0gZCAmJiAoZC5tYyA9IG51bGwpLCAoYS5nYSA9IG51bGwpLCAwIDwgYS5HYSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBhbGVydChcInRvZG86V2ViUERlcXVhbnRpemVMZXZlbHNcIiksIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gYS5uYiArIGMgKiBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBJZihhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICBmb3IgKDsgMCA8IGUtLTsgKSB7XG4gICAgICAgIHZhciBnID0gYSxcbiAgICAgICAgICBoID0gYiArIChjID8gMSA6IDApLFxuICAgICAgICAgIGsgPSBhLFxuICAgICAgICAgIGwgPSBiICsgKGMgPyAwIDogMyksXG4gICAgICAgICAgbTtcbiAgICAgICAgZm9yIChtID0gMDsgbSA8IGQ7ICsrbSkge1xuICAgICAgICAgIHZhciBuID0ga1tsICsgNCAqIG1dO1xuICAgICAgICAgIDI1NSAhPSBuICYmXG4gICAgICAgICAgICAoKG4gKj0gMzI4OTcpLFxuICAgICAgICAgICAgKGdbaCArIDQgKiBtICsgMF0gPSAoZ1toICsgNCAqIG0gKyAwXSAqIG4pID4+IDIzKSxcbiAgICAgICAgICAgIChnW2ggKyA0ICogbSArIDFdID0gKGdbaCArIDQgKiBtICsgMV0gKiBuKSA+PiAyMyksXG4gICAgICAgICAgICAoZ1toICsgNCAqIG0gKyAyXSA9IChnW2ggKyA0ICogbSArIDJdICogbikgPj4gMjMpKTtcbiAgICAgICAgfVxuICAgICAgICBiICs9IGY7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIEpmKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGZvciAoOyAwIDwgZC0tOyApIHtcbiAgICAgICAgdmFyIGY7XG4gICAgICAgIGZvciAoZiA9IDA7IGYgPCBjOyArK2YpIHtcbiAgICAgICAgICB2YXIgZyA9IGFbYiArIDIgKiBmICsgMF0sXG4gICAgICAgICAgICBoID0gYVtiICsgMiAqIGYgKyAxXSxcbiAgICAgICAgICAgIGsgPSBoICYgMTUsXG4gICAgICAgICAgICBsID0gNDM2OSAqIGssXG4gICAgICAgICAgICBoID0gKCgoaCAmIDI0MCkgfCAoaCA+PiA0KSkgKiBsKSA+PiAxNjtcbiAgICAgICAgICBhW2IgKyAyICogZiArIDBdID1cbiAgICAgICAgICAgICgoKCgoZyAmIDI0MCkgfCAoZyA+PiA0KSkgKiBsKSA+PiAxNikgJiAyNDApIHxcbiAgICAgICAgICAgICgoKCgoKGcgJiAxNSkgfCAoZyA8PCA0KSkgKiBsKSA+PiAxNikgPj4gNCkgJiAxNSk7XG4gICAgICAgICAgYVtiICsgMiAqIGYgKyAxXSA9IChoICYgMjQwKSB8IGs7XG4gICAgICAgIH1cbiAgICAgICAgYiArPSBlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBLZihhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7XG4gICAgICB2YXIgayA9IDI1NSxcbiAgICAgICAgbCxcbiAgICAgICAgbTtcbiAgICAgIGZvciAobSA9IDA7IG0gPCBlOyArK20pIHtcbiAgICAgICAgZm9yIChsID0gMDsgbCA8IGQ7ICsrbCkge1xuICAgICAgICAgIHZhciBuID0gYVtiICsgbF07XG4gICAgICAgICAgZltnICsgNCAqIGxdID0gbjtcbiAgICAgICAgICBrICY9IG47XG4gICAgICAgIH1cbiAgICAgICAgYiArPSBjO1xuICAgICAgICBnICs9IGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gMjU1ICE9IGs7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExmKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHZhciBmO1xuICAgICAgZm9yIChmID0gMDsgZiA8IGU7ICsrZikgY1tkICsgZl0gPSBhW2IgKyBmXSA+PiA4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBBYSgpIHtcbiAgICAgIHphID0gSWY7XG4gICAgICB2YyA9IEpmO1xuICAgICAgZmMgPSBLZjtcbiAgICAgIEZjID0gTGY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhKGEsIGIsIGMpIHtcbiAgICAgIHNlbGZbYV0gPSBmdW5jdGlvbihhLCBlLCBmLCBnLCBoLCBrLCBsLCBtLCBuLCByLCBxLCB0LCB2LCBwLCB1LCB3LCB5KSB7XG4gICAgICAgIHZhciBkLFxuICAgICAgICAgIEUgPSAoeSAtIDEpID4+IDE7XG4gICAgICAgIHZhciBCID0gaFtrICsgMF0gfCAobFttICsgMF0gPDwgMTYpO1xuICAgICAgICB2YXIgQyA9IG5bciArIDBdIHwgKHFbdCArIDBdIDw8IDE2KTtcbiAgICAgICAgeChudWxsICE9IGEpO1xuICAgICAgICB2YXIgeiA9ICgzICogQiArIEMgKyAxMzEwNzQpID4+IDI7XG4gICAgICAgIGIoYVtlICsgMF0sIHogJiAyNTUsIHogPj4gMTYsIHYsIHApO1xuICAgICAgICBudWxsICE9IGYgJiZcbiAgICAgICAgICAoKHogPSAoMyAqIEMgKyBCICsgMTMxMDc0KSA+PiAyKSxcbiAgICAgICAgICBiKGZbZyArIDBdLCB6ICYgMjU1LCB6ID4+IDE2LCB1LCB3KSk7XG4gICAgICAgIGZvciAoZCA9IDE7IGQgPD0gRTsgKytkKSB7XG4gICAgICAgICAgdmFyIEQgPSBoW2sgKyBkXSB8IChsW20gKyBkXSA8PCAxNik7XG4gICAgICAgICAgdmFyIEcgPSBuW3IgKyBkXSB8IChxW3QgKyBkXSA8PCAxNik7XG4gICAgICAgICAgdmFyIEYgPSBCICsgRCArIEMgKyBHICsgNTI0Mjk2O1xuICAgICAgICAgIHZhciBIID0gKEYgKyAyICogKEQgKyBDKSkgPj4gMztcbiAgICAgICAgICBGID0gKEYgKyAyICogKEIgKyBHKSkgPj4gMztcbiAgICAgICAgICB6ID0gKEggKyBCKSA+PiAxO1xuICAgICAgICAgIEIgPSAoRiArIEQpID4+IDE7XG4gICAgICAgICAgYihhW2UgKyAyICogZCAtIDFdLCB6ICYgMjU1LCB6ID4+IDE2LCB2LCBwICsgKDIgKiBkIC0gMSkgKiBjKTtcbiAgICAgICAgICBiKGFbZSArIDIgKiBkIC0gMF0sIEIgJiAyNTUsIEIgPj4gMTYsIHYsIHAgKyAoMiAqIGQgLSAwKSAqIGMpO1xuICAgICAgICAgIG51bGwgIT0gZiAmJlxuICAgICAgICAgICAgKCh6ID0gKEYgKyBDKSA+PiAxKSxcbiAgICAgICAgICAgIChCID0gKEggKyBHKSA+PiAxKSxcbiAgICAgICAgICAgIGIoZltnICsgMiAqIGQgLSAxXSwgeiAmIDI1NSwgeiA+PiAxNiwgdSwgdyArICgyICogZCAtIDEpICogYyksXG4gICAgICAgICAgICBiKGZbZyArIDIgKiBkICsgMF0sIEIgJiAyNTUsIEIgPj4gMTYsIHUsIHcgKyAoMiAqIGQgKyAwKSAqIGMpKTtcbiAgICAgICAgICBCID0gRDtcbiAgICAgICAgICBDID0gRztcbiAgICAgICAgfVxuICAgICAgICB5ICYgMSB8fFxuICAgICAgICAgICgoeiA9ICgzICogQiArIEMgKyAxMzEwNzQpID4+IDIpLFxuICAgICAgICAgIGIoYVtlICsgeSAtIDFdLCB6ICYgMjU1LCB6ID4+IDE2LCB2LCBwICsgKHkgLSAxKSAqIGMpLFxuICAgICAgICAgIG51bGwgIT0gZiAmJlxuICAgICAgICAgICAgKCh6ID0gKDMgKiBDICsgQiArIDEzMTA3NCkgPj4gMiksXG4gICAgICAgICAgICBiKGZbZyArIHkgLSAxXSwgeiAmIDI1NSwgeiA+PiAxNiwgdSwgdyArICh5IC0gMSkgKiBjKSkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaWMoKSB7XG4gICAgICBQW0NhXSA9IE1mO1xuICAgICAgUFtVYV0gPSBuZDtcbiAgICAgIFBbdGNdID0gTmY7XG4gICAgICBQW1ZhXSA9IG9kO1xuICAgICAgUFt5YV0gPSBwZDtcbiAgICAgIFBbRGJdID0gcWQ7XG4gICAgICBQW3djXSA9IE9mO1xuICAgICAgUFt6Yl0gPSBuZDtcbiAgICAgIFBbQWJdID0gb2Q7XG4gICAgICBQW0phXSA9IHBkO1xuICAgICAgUFtCYl0gPSBxZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gU2IoYSkge1xuICAgICAgcmV0dXJuIGEgJiB+UGYgPyAoMCA+IGEgPyAwIDogMjU1KSA6IGEgPj4gcmQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJiKGEsIGIpIHtcbiAgICAgIHJldHVybiBTYigoKDE5MDc3ICogYSkgPj4gOCkgKyAoKDI2MTQ5ICogYikgPj4gOCkgLSAxNDIzNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5iKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBTYihcbiAgICAgICAgKCgxOTA3NyAqIGEpID4+IDgpIC0gKCg2NDE5ICogYikgPj4gOCkgLSAoKDEzMzIwICogYykgPj4gOCkgKyA4NzA4XG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQYShhLCBiKSB7XG4gICAgICByZXR1cm4gU2IoKCgxOTA3NyAqIGEpID4+IDgpICsgKCgzMzA1MCAqIGIpID4+IDgpIC0gMTc2ODUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBHYShhLCBiLCBjLCBkLCBlKSB7XG4gICAgICBkW2UgKyAwXSA9IGJiKGEsIGMpO1xuICAgICAgZFtlICsgMV0gPSBuYihhLCBiLCBjKTtcbiAgICAgIGRbZSArIDJdID0gUGEoYSwgYik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRiKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIGRbZSArIDBdID0gUGEoYSwgYik7XG4gICAgICBkW2UgKyAxXSA9IG5iKGEsIGIsIGMpO1xuICAgICAgZFtlICsgMl0gPSBiYihhLCBjKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2QoYSwgYiwgYywgZCwgZSkge1xuICAgICAgdmFyIGYgPSBuYihhLCBiLCBjKTtcbiAgICAgIGIgPSAoKGYgPDwgMykgJiAyMjQpIHwgKFBhKGEsIGIpID4+IDMpO1xuICAgICAgZFtlICsgMF0gPSAoYmIoYSwgYykgJiAyNDgpIHwgKGYgPj4gNSk7XG4gICAgICBkW2UgKyAxXSA9IGI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRkKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHZhciBmID0gKFBhKGEsIGIpICYgMjQwKSB8IDE1O1xuICAgICAgZFtlICsgMF0gPSAoYmIoYSwgYykgJiAyNDApIHwgKG5iKGEsIGIsIGMpID4+IDQpO1xuICAgICAgZFtlICsgMV0gPSBmO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1ZChhLCBiLCBjLCBkLCBlKSB7XG4gICAgICBkW2UgKyAwXSA9IDI1NTtcbiAgICAgIEdhKGEsIGIsIGMsIGQsIGUgKyAxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmQoYSwgYiwgYywgZCwgZSkge1xuICAgICAgVGIoYSwgYiwgYywgZCwgZSk7XG4gICAgICBkW2UgKyAzXSA9IDI1NTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2QoYSwgYiwgYywgZCwgZSkge1xuICAgICAgR2EoYSwgYiwgYywgZCwgZSk7XG4gICAgICBkW2UgKyAzXSA9IDI1NTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2EoYSwgYikge1xuICAgICAgcmV0dXJuIDAgPiBhID8gMCA6IGEgPiBiID8gYiA6IGE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhKGEsIGIsIGMpIHtcbiAgICAgIHNlbGZbYV0gPSBmdW5jdGlvbihhLCBlLCBmLCBnLCBoLCBrLCBsLCBtLCBuKSB7XG4gICAgICAgIGZvciAodmFyIGQgPSBtICsgKG4gJiAtMikgKiBjOyBtICE9IGQ7IClcbiAgICAgICAgICBiKGFbZSArIDBdLCBmW2cgKyAwXSwgaFtrICsgMF0sIGwsIG0pLFxuICAgICAgICAgICAgYihhW2UgKyAxXSwgZltnICsgMF0sIGhbayArIDBdLCBsLCBtICsgYyksXG4gICAgICAgICAgICAoZSArPSAyKSxcbiAgICAgICAgICAgICsrZyxcbiAgICAgICAgICAgICsrayxcbiAgICAgICAgICAgIChtICs9IDIgKiBjKTtcbiAgICAgICAgbiAmIDEgJiYgYihhW2UgKyAwXSwgZltnICsgMF0sIGhbayArIDBdLCBsLCBtKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHhkKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiAwID09IGMgPyAoMCA9PSBhID8gKDAgPT0gYiA/IDYgOiA1KSA6IDAgPT0gYiA/IDQgOiAwKSA6IGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHlkKGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgIHN3aXRjaCAoYSA+Pj4gMzApIHtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIFphKGIsIGMsIGQsIGUsIDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgZmQoYiwgYywgZCwgZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBwYShiLCBjLCBkLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gT2MoYSwgYikge1xuICAgICAgdmFyIGMsXG4gICAgICAgIGQsXG4gICAgICAgIGUgPSBiLk0sXG4gICAgICAgIGYgPSBiLk5iLFxuICAgICAgICBnID0gYS5vYyxcbiAgICAgICAgaCA9IGEucGMgKyA0MCxcbiAgICAgICAgayA9IGEub2MsXG4gICAgICAgIGwgPSBhLnBjICsgNTg0LFxuICAgICAgICBtID0gYS5vYyxcbiAgICAgICAgbiA9IGEucGMgKyA2MDA7XG4gICAgICBmb3IgKGMgPSAwOyAxNiA+IGM7ICsrYykgZ1toICsgMzIgKiBjIC0gMV0gPSAxMjk7XG4gICAgICBmb3IgKGMgPSAwOyA4ID4gYzsgKytjKVxuICAgICAgICAoa1tsICsgMzIgKiBjIC0gMV0gPSAxMjkpLCAobVtuICsgMzIgKiBjIC0gMV0gPSAxMjkpO1xuICAgICAgMCA8IGVcbiAgICAgICAgPyAoZ1toIC0gMSAtIDMyXSA9IGtbbCAtIDEgLSAzMl0gPSBtW24gLSAxIC0gMzJdID0gMTI5KVxuICAgICAgICA6IChNKGcsIGggLSAzMiAtIDEsIDEyNywgMjEpLFxuICAgICAgICAgIE0oaywgbCAtIDMyIC0gMSwgMTI3LCA5KSxcbiAgICAgICAgICBNKG0sIG4gLSAzMiAtIDEsIDEyNywgOSkpO1xuICAgICAgZm9yIChkID0gMDsgZCA8IGEuemE7ICsrZCkge1xuICAgICAgICB2YXIgciA9IGIueWFbYi5hYSArIGRdO1xuICAgICAgICBpZiAoMCA8IGQpIHtcbiAgICAgICAgICBmb3IgKGMgPSAtMTsgMTYgPiBjOyArK2MpIEkoZywgaCArIDMyICogYyAtIDQsIGcsIGggKyAzMiAqIGMgKyAxMiwgNCk7XG4gICAgICAgICAgZm9yIChjID0gLTE7IDggPiBjOyArK2MpXG4gICAgICAgICAgICBJKGssIGwgKyAzMiAqIGMgLSA0LCBrLCBsICsgMzIgKiBjICsgNCwgNCksXG4gICAgICAgICAgICAgIEkobSwgbiArIDMyICogYyAtIDQsIG0sIG4gKyAzMiAqIGMgKyA0LCA0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcSA9IGEuR2QsXG4gICAgICAgICAgdCA9IGEuSGQgKyBkLFxuICAgICAgICAgIHYgPSByLmFkLFxuICAgICAgICAgIHAgPSByLkhjO1xuICAgICAgICAwIDwgZSAmJlxuICAgICAgICAgIChJKGcsIGggLSAzMiwgcVt0XS55LCAwLCAxNiksXG4gICAgICAgICAgSShrLCBsIC0gMzIsIHFbdF0uZiwgMCwgOCksXG4gICAgICAgICAgSShtLCBuIC0gMzIsIHFbdF0uZWEsIDAsIDgpKTtcbiAgICAgICAgaWYgKHIuWmEpIHtcbiAgICAgICAgICB2YXIgdSA9IGc7XG4gICAgICAgICAgdmFyIHcgPSBoIC0gMzIgKyAxNjtcbiAgICAgICAgICAwIDwgZSAmJlxuICAgICAgICAgICAgKGQgPj0gYS56YSAtIDFcbiAgICAgICAgICAgICAgPyBNKHUsIHcsIHFbdF0ueVsxNV0sIDQpXG4gICAgICAgICAgICAgIDogSSh1LCB3LCBxW3QgKyAxXS55LCAwLCA0KSk7XG4gICAgICAgICAgZm9yIChjID0gMDsgNCA+IGM7IGMrKylcbiAgICAgICAgICAgIHVbdyArIDEyOCArIGNdID0gdVt3ICsgMjU2ICsgY10gPSB1W3cgKyAzODQgKyBjXSA9IHVbdyArIDAgKyBjXTtcbiAgICAgICAgICBmb3IgKGMgPSAwOyAxNiA+IGM7ICsrYywgcCA8PD0gMilcbiAgICAgICAgICAgICh1ID0gZyksICh3ID0gaCArIHpkW2NdKSwgV1tyLk9iW2NdXSh1LCB3KSwgeWQocCwgdiwgMTYgKiArYywgdSwgdyk7XG4gICAgICAgIH0gZWxzZSBpZiAoKCh1ID0geGQoZCwgZSwgci5PYlswXSkpLCBZW3VdKGcsIGgpLCAwICE9IHApKVxuICAgICAgICAgIGZvciAoYyA9IDA7IDE2ID4gYzsgKytjLCBwIDw8PSAyKSB5ZChwLCB2LCAxNiAqICtjLCBnLCBoICsgemRbY10pO1xuICAgICAgICBjID0gci5HYztcbiAgICAgICAgdSA9IHhkKGQsIGUsIHIuRGQpO1xuICAgICAgICBrYVt1XShrLCBsKTtcbiAgICAgICAga2FbdV0obSwgbik7XG4gICAgICAgIHIgPSBjID4+IDA7XG4gICAgICAgIHAgPSB2O1xuICAgICAgICB1ID0gaztcbiAgICAgICAgdyA9IGw7XG4gICAgICAgIHIgJiAyNTUgJiYgKHIgJiAxNzAgPyBOYihwLCAyNTYsIHUsIHcpIDogT2IocCwgMjU2LCB1LCB3KSk7XG4gICAgICAgIGMgPj49IDg7XG4gICAgICAgIHIgPSBtO1xuICAgICAgICBwID0gbjtcbiAgICAgICAgYyAmIDI1NSAmJiAoYyAmIDE3MCA/IE5iKHYsIDMyMCwgciwgcCkgOiBPYih2LCAzMjAsIHIsIHApKTtcbiAgICAgICAgZSA8IGEuVWIgLSAxICYmXG4gICAgICAgICAgKEkocVt0XS55LCAwLCBnLCBoICsgNDgwLCAxNiksXG4gICAgICAgICAgSShxW3RdLmYsIDAsIGssIGwgKyAyMjQsIDgpLFxuICAgICAgICAgIEkocVt0XS5lYSwgMCwgbSwgbiArIDIyNCwgOCkpO1xuICAgICAgICBjID0gOCAqIGYgKiBhLkI7XG4gICAgICAgIHEgPSBhLnNhO1xuICAgICAgICB0ID0gYS50YSArIDE2ICogZCArIDE2ICogZiAqIGEuUjtcbiAgICAgICAgdiA9IGEucWE7XG4gICAgICAgIHIgPSBhLnJhICsgOCAqIGQgKyBjO1xuICAgICAgICBwID0gYS5IYTtcbiAgICAgICAgdSA9IGEuSWEgKyA4ICogZCArIGM7XG4gICAgICAgIGZvciAoYyA9IDA7IDE2ID4gYzsgKytjKSBJKHEsIHQgKyBjICogYS5SLCBnLCBoICsgMzIgKiBjLCAxNik7XG4gICAgICAgIGZvciAoYyA9IDA7IDggPiBjOyArK2MpXG4gICAgICAgICAgSSh2LCByICsgYyAqIGEuQiwgaywgbCArIDMyICogYywgOCksXG4gICAgICAgICAgICBJKHAsIHUgKyBjICogYS5CLCBtLCBuICsgMzIgKiBjLCA4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gQWQoYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaykge1xuICAgICAgdmFyIGwgPSBbMF0sXG4gICAgICAgIG0gPSBbMF0sXG4gICAgICAgIG4gPSAwLFxuICAgICAgICByID0gbnVsbCAhPSBrID8gay5rZCA6IDAsXG4gICAgICAgIHEgPSBudWxsICE9IGsgPyBrIDogbmV3IG1kKCk7XG4gICAgICBpZiAobnVsbCA9PSBhIHx8IDEyID4gYykgcmV0dXJuIDc7XG4gICAgICBxLmRhdGEgPSBhO1xuICAgICAgcS53ID0gYjtcbiAgICAgIHEuaGEgPSBjO1xuICAgICAgYiA9IFtiXTtcbiAgICAgIGMgPSBbY107XG4gICAgICBxLmdiID0gW3EuZ2JdO1xuICAgICAgYToge1xuICAgICAgICB2YXIgdCA9IGI7XG4gICAgICAgIHZhciB2ID0gYztcbiAgICAgICAgdmFyIHAgPSBxLmdiO1xuICAgICAgICB4KG51bGwgIT0gYSk7XG4gICAgICAgIHgobnVsbCAhPSB2KTtcbiAgICAgICAgeChudWxsICE9IHApO1xuICAgICAgICBwWzBdID0gMDtcbiAgICAgICAgaWYgKDEyIDw9IHZbMF0gJiYgIWZhKGEsIHRbMF0sIFwiUklGRlwiKSkge1xuICAgICAgICAgIGlmIChmYShhLCB0WzBdICsgOCwgXCJXRUJQXCIpKSB7XG4gICAgICAgICAgICBwID0gMztcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB1ID0gSGEoYSwgdFswXSArIDQpO1xuICAgICAgICAgIGlmICgxMiA+IHUgfHwgNDI5NDk2NzI4NiA8IHUpIHtcbiAgICAgICAgICAgIHAgPSAzO1xuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHIgJiYgdSA+IHZbMF0gLSA4KSB7XG4gICAgICAgICAgICBwID0gNztcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBbMF0gPSB1O1xuICAgICAgICAgIHRbMF0gKz0gMTI7XG4gICAgICAgICAgdlswXSAtPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBwID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICgwICE9IHApIHJldHVybiBwO1xuICAgICAgdSA9IDAgPCBxLmdiWzBdO1xuICAgICAgZm9yIChjID0gY1swXTsgOyApIHtcbiAgICAgICAgdCA9IFswXTtcbiAgICAgICAgbiA9IFtuXTtcbiAgICAgICAgYToge1xuICAgICAgICAgIHZhciB3ID0gYTtcbiAgICAgICAgICB2ID0gYjtcbiAgICAgICAgICBwID0gYztcbiAgICAgICAgICB2YXIgeSA9IG4sXG4gICAgICAgICAgICBBID0gbCxcbiAgICAgICAgICAgIHogPSBtLFxuICAgICAgICAgICAgQiA9IHQ7XG4gICAgICAgICAgeVswXSA9IDA7XG4gICAgICAgICAgaWYgKDggPiBwWzBdKSBwID0gNztcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZmEodywgdlswXSwgXCJWUDhYXCIpKSB7XG4gICAgICAgICAgICAgIGlmICgxMCAhPSBIYSh3LCB2WzBdICsgNCkpIHtcbiAgICAgICAgICAgICAgICBwID0gMztcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICgxOCA+IHBbMF0pIHtcbiAgICAgICAgICAgICAgICBwID0gNztcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBDID0gSGEodywgdlswXSArIDgpO1xuICAgICAgICAgICAgICB2YXIgRCA9IDEgKyBZYih3LCB2WzBdICsgMTIpO1xuICAgICAgICAgICAgICB3ID0gMSArIFliKHcsIHZbMF0gKyAxNSk7XG4gICAgICAgICAgICAgIGlmICgyMTQ3NDgzNjQ4IDw9IEQgKiB3KSB7XG4gICAgICAgICAgICAgICAgcCA9IDM7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBudWxsICE9IEIgJiYgKEJbMF0gPSBDKTtcbiAgICAgICAgICAgICAgbnVsbCAhPSBBICYmIChBWzBdID0gRCk7XG4gICAgICAgICAgICAgIG51bGwgIT0geiAmJiAoelswXSA9IHcpO1xuICAgICAgICAgICAgICB2WzBdICs9IDE4O1xuICAgICAgICAgICAgICBwWzBdIC09IDE4O1xuICAgICAgICAgICAgICB5WzBdID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuID0gblswXTtcbiAgICAgICAgdCA9IHRbMF07XG4gICAgICAgIGlmICgwICE9IHApIHJldHVybiBwO1xuICAgICAgICB2ID0gISEodCAmIDIpO1xuICAgICAgICBpZiAoIXUgJiYgbikgcmV0dXJuIDM7XG4gICAgICAgIG51bGwgIT0gZiAmJiAoZlswXSA9ICEhKHQgJiAxNikpO1xuICAgICAgICBudWxsICE9IGcgJiYgKGdbMF0gPSB2KTtcbiAgICAgICAgbnVsbCAhPSBoICYmIChoWzBdID0gMCk7XG4gICAgICAgIGcgPSBsWzBdO1xuICAgICAgICB0ID0gbVswXTtcbiAgICAgICAgaWYgKG4gJiYgdiAmJiBudWxsID09IGspIHtcbiAgICAgICAgICBwID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoNCA+IGMpIHtcbiAgICAgICAgICBwID0gNztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHUgJiYgbikgfHwgKCF1ICYmICFuICYmICFmYShhLCBiWzBdLCBcIkFMUEhcIikpKSB7XG4gICAgICAgICAgYyA9IFtjXTtcbiAgICAgICAgICBxLm5hID0gW3EubmFdO1xuICAgICAgICAgIHEuUCA9IFtxLlBdO1xuICAgICAgICAgIHEuU2EgPSBbcS5TYV07XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgQyA9IGE7XG4gICAgICAgICAgICBwID0gYjtcbiAgICAgICAgICAgIHUgPSBjO1xuICAgICAgICAgICAgdmFyIHkgPSBxLmdiLFxuICAgICAgICAgICAgICBBID0gcS5uYSxcbiAgICAgICAgICAgICAgeiA9IHEuUCxcbiAgICAgICAgICAgICAgQiA9IHEuU2E7XG4gICAgICAgICAgICBEID0gMjI7XG4gICAgICAgICAgICB4KG51bGwgIT0gQyk7XG4gICAgICAgICAgICB4KG51bGwgIT0gdSk7XG4gICAgICAgICAgICB3ID0gcFswXTtcbiAgICAgICAgICAgIHZhciBGID0gdVswXTtcbiAgICAgICAgICAgIHgobnVsbCAhPSBBKTtcbiAgICAgICAgICAgIHgobnVsbCAhPSBCKTtcbiAgICAgICAgICAgIEFbMF0gPSBudWxsO1xuICAgICAgICAgICAgelswXSA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKEJbMF0gPSAwOyA7ICkge1xuICAgICAgICAgICAgICBwWzBdID0gdztcbiAgICAgICAgICAgICAgdVswXSA9IEY7XG4gICAgICAgICAgICAgIGlmICg4ID4gRikge1xuICAgICAgICAgICAgICAgIHAgPSA3O1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIEcgPSBIYShDLCB3ICsgNCk7XG4gICAgICAgICAgICAgIGlmICg0Mjk0OTY3Mjg2IDwgRykge1xuICAgICAgICAgICAgICAgIHAgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIEggPSAoOCArIEcgKyAxKSAmIC0yO1xuICAgICAgICAgICAgICBEICs9IEg7XG4gICAgICAgICAgICAgIGlmICgwIDwgeSAmJiBEID4geSkge1xuICAgICAgICAgICAgICAgIHAgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFmYShDLCB3LCBcIlZQOCBcIikgfHwgIWZhKEMsIHcsIFwiVlA4TFwiKSkge1xuICAgICAgICAgICAgICAgIHAgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKEZbMF0gPCBIKSB7XG4gICAgICAgICAgICAgICAgcCA9IDc7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmYShDLCB3LCBcIkFMUEhcIikgfHwgKChBWzBdID0gQyksICh6WzBdID0gdyArIDgpLCAoQlswXSA9IEcpKTtcbiAgICAgICAgICAgICAgdyArPSBIO1xuICAgICAgICAgICAgICBGIC09IEg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGMgPSBjWzBdO1xuICAgICAgICAgIHEubmEgPSBxLm5hWzBdO1xuICAgICAgICAgIHEuUCA9IHEuUFswXTtcbiAgICAgICAgICBxLlNhID0gcS5TYVswXTtcbiAgICAgICAgICBpZiAoMCAhPSBwKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjID0gW2NdO1xuICAgICAgICBxLkphID0gW3EuSmFdO1xuICAgICAgICBxLnhhID0gW3EueGFdO1xuICAgICAgICBhOiBpZiAoXG4gICAgICAgICAgKCh5ID0gYSksXG4gICAgICAgICAgKHAgPSBiKSxcbiAgICAgICAgICAodSA9IGMpLFxuICAgICAgICAgIChBID0gcS5nYlswXSksXG4gICAgICAgICAgKHogPSBxLkphKSxcbiAgICAgICAgICAoQiA9IHEueGEpLFxuICAgICAgICAgIChDID0gcFswXSksXG4gICAgICAgICAgKHcgPSAhZmEoeSwgQywgXCJWUDggXCIpKSxcbiAgICAgICAgICAoRCA9ICFmYSh5LCBDLCBcIlZQOExcIikpLFxuICAgICAgICAgIHgobnVsbCAhPSB5KSxcbiAgICAgICAgICB4KG51bGwgIT0gdSksXG4gICAgICAgICAgeChudWxsICE9IHopLFxuICAgICAgICAgIHgobnVsbCAhPSBCKSxcbiAgICAgICAgICA4ID4gdVswXSlcbiAgICAgICAgKVxuICAgICAgICAgIHAgPSA3O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAodyB8fCBEKSB7XG4gICAgICAgICAgICB5ID0gSGEoeSwgQyArIDQpO1xuICAgICAgICAgICAgaWYgKDEyIDw9IEEgJiYgeSA+IEEgLSAxMikge1xuICAgICAgICAgICAgICBwID0gMztcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyICYmIHkgPiB1WzBdIC0gOCkge1xuICAgICAgICAgICAgICBwID0gNztcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHpbMF0gPSB5O1xuICAgICAgICAgICAgcFswXSArPSA4O1xuICAgICAgICAgICAgdVswXSAtPSA4O1xuICAgICAgICAgICAgQlswXSA9IEQ7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoQlswXSA9IDUgPD0gdVswXSAmJiA0NyA9PSB5W0MgKyAwXSAmJiAhKHlbQyArIDRdID4+IDUpKSxcbiAgICAgICAgICAgICAgKHpbMF0gPSB1WzBdKTtcbiAgICAgICAgICBwID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjID0gY1swXTtcbiAgICAgICAgcS5KYSA9IHEuSmFbMF07XG4gICAgICAgIHEueGEgPSBxLnhhWzBdO1xuICAgICAgICBiID0gYlswXTtcbiAgICAgICAgaWYgKDAgIT0gcCkgYnJlYWs7XG4gICAgICAgIGlmICg0Mjk0OTY3Mjg2IDwgcS5KYSkgcmV0dXJuIDM7XG4gICAgICAgIG51bGwgPT0gaCB8fCB2IHx8IChoWzBdID0gcS54YSA/IDIgOiAxKTtcbiAgICAgICAgZyA9IFtnXTtcbiAgICAgICAgdCA9IFt0XTtcbiAgICAgICAgaWYgKHEueGEpIHtcbiAgICAgICAgICBpZiAoNSA+IGMpIHtcbiAgICAgICAgICAgIHAgPSA3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGggPSBnO1xuICAgICAgICAgIHIgPSB0O1xuICAgICAgICAgIHYgPSBmO1xuICAgICAgICAgIG51bGwgPT0gYSB8fCA1ID4gY1xuICAgICAgICAgICAgPyAoYSA9IDApXG4gICAgICAgICAgICA6IDUgPD0gYyAmJiA0NyA9PSBhW2IgKyAwXSAmJiAhKGFbYiArIDRdID4+IDUpXG4gICAgICAgICAgICA/ICgodSA9IFswXSksXG4gICAgICAgICAgICAgICh5ID0gWzBdKSxcbiAgICAgICAgICAgICAgKEEgPSBbMF0pLFxuICAgICAgICAgICAgICAoeiA9IG5ldyBSYSgpKSxcbiAgICAgICAgICAgICAgY2IoeiwgYSwgYiwgYyksXG4gICAgICAgICAgICAgIG1jKHosIHUsIHksIEEpXG4gICAgICAgICAgICAgICAgPyAobnVsbCAhPSBoICYmIChoWzBdID0gdVswXSksXG4gICAgICAgICAgICAgICAgICBudWxsICE9IHIgJiYgKHJbMF0gPSB5WzBdKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT0gdiAmJiAodlswXSA9IEFbMF0pLFxuICAgICAgICAgICAgICAgICAgKGEgPSAxKSlcbiAgICAgICAgICAgICAgICA6IChhID0gMCkpXG4gICAgICAgICAgICA6IChhID0gMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKDEwID4gYykge1xuICAgICAgICAgICAgcCA9IDc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaCA9IHQ7XG4gICAgICAgICAgbnVsbCA9PSBhIHx8IDEwID4gYyB8fCAhSmMoYSwgYiArIDMsIGMgLSAzKVxuICAgICAgICAgICAgPyAoYSA9IDApXG4gICAgICAgICAgICA6ICgociA9IGFbYiArIDBdIHwgKGFbYiArIDFdIDw8IDgpIHwgKGFbYiArIDJdIDw8IDE2KSksXG4gICAgICAgICAgICAgICh2ID0gKChhW2IgKyA3XSA8PCA4KSB8IGFbYiArIDZdKSAmIDE2MzgzKSxcbiAgICAgICAgICAgICAgKGEgPSAoKGFbYiArIDldIDw8IDgpIHwgYVtiICsgOF0pICYgMTYzODMpLFxuICAgICAgICAgICAgICByICYgMSB8fFxuICAgICAgICAgICAgICAzIDwgKChyID4+IDEpICYgNykgfHxcbiAgICAgICAgICAgICAgISgociA+PiA0KSAmIDEpIHx8XG4gICAgICAgICAgICAgIHIgPj4gNSA+PSBxLkphIHx8XG4gICAgICAgICAgICAgICF2IHx8XG4gICAgICAgICAgICAgICFhXG4gICAgICAgICAgICAgICAgPyAoYSA9IDApXG4gICAgICAgICAgICAgICAgOiAoZyAmJiAoZ1swXSA9IHYpLCBoICYmIChoWzBdID0gYSksIChhID0gMSkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWEpIHJldHVybiAzO1xuICAgICAgICBnID0gZ1swXTtcbiAgICAgICAgdCA9IHRbMF07XG4gICAgICAgIGlmIChuICYmIChsWzBdICE9IGcgfHwgbVswXSAhPSB0KSkgcmV0dXJuIDM7XG4gICAgICAgIG51bGwgIT0gayAmJlxuICAgICAgICAgICgoa1swXSA9IHEpLFxuICAgICAgICAgIChrLm9mZnNldCA9IGIgLSBrLncpLFxuICAgICAgICAgIHgoNDI5NDk2NzI4NiA+IGIgLSBrLncpLFxuICAgICAgICAgIHgoay5vZmZzZXQgPT0gay5oYSAtIGMpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gMCA9PSBwIHx8ICg3ID09IHAgJiYgbiAmJiBudWxsID09IGspXG4gICAgICAgID8gKG51bGwgIT0gZiAmJiAoZlswXSB8PSBudWxsICE9IHEubmEgJiYgMCA8IHEubmEubGVuZ3RoKSxcbiAgICAgICAgICBudWxsICE9IGQgJiYgKGRbMF0gPSBnKSxcbiAgICAgICAgICBudWxsICE9IGUgJiYgKGVbMF0gPSB0KSxcbiAgICAgICAgICAwKVxuICAgICAgICA6IHA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhjKGEsIGIsIGMpIHtcbiAgICAgIHZhciBkID0gYi53aWR0aCxcbiAgICAgICAgZSA9IGIuaGVpZ2h0LFxuICAgICAgICBmID0gMCxcbiAgICAgICAgZyA9IDAsXG4gICAgICAgIGggPSBkLFxuICAgICAgICBrID0gZTtcbiAgICAgIGIuRGEgPSBudWxsICE9IGEgJiYgMCA8IGEuRGE7XG4gICAgICBpZiAoXG4gICAgICAgIGIuRGEgJiZcbiAgICAgICAgKChoID0gYS5jZCksXG4gICAgICAgIChrID0gYS5iZCksXG4gICAgICAgIChmID0gYS52KSxcbiAgICAgICAgKGcgPSBhLmopLFxuICAgICAgICAxMSA+IGMgfHwgKChmICY9IC0yKSwgKGcgJj0gLTIpKSxcbiAgICAgICAgMCA+IGYgfHwgMCA+IGcgfHwgMCA+PSBoIHx8IDAgPj0gayB8fCBmICsgaCA+IGQgfHwgZyArIGsgPiBlKVxuICAgICAgKVxuICAgICAgICByZXR1cm4gMDtcbiAgICAgIGIudiA9IGY7XG4gICAgICBiLmogPSBnO1xuICAgICAgYi52YSA9IGYgKyBoO1xuICAgICAgYi5vID0gZyArIGs7XG4gICAgICBiLlUgPSBoO1xuICAgICAgYi5UID0gaztcbiAgICAgIGIuZGEgPSBudWxsICE9IGEgJiYgMCA8IGEuZGE7XG4gICAgICBpZiAoYi5kYSkge1xuICAgICAgICBjID0gW2EuaWJdO1xuICAgICAgICBmID0gW2EuaGJdO1xuICAgICAgICBpZiAoIWJjKGgsIGssIGMsIGYpKSByZXR1cm4gMDtcbiAgICAgICAgYi5pYiA9IGNbMF07XG4gICAgICAgIGIuaGIgPSBmWzBdO1xuICAgICAgfVxuICAgICAgYi5vYiA9IG51bGwgIT0gYSAmJiBhLm9iO1xuICAgICAgYi5LYiA9IG51bGwgPT0gYSB8fCAhYS5TZDtcbiAgICAgIGIuZGEgJiYgKChiLm9iID0gYi5pYiA8ICgzICogZCkgLyA0ICYmIGIuaGIgPCAoMyAqIGUpIC8gNCksIChiLktiID0gMCkpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEJkKGEpIHtcbiAgICAgIGlmIChudWxsID09IGEpIHJldHVybiAyO1xuICAgICAgaWYgKDExID4gYS5TKSB7XG4gICAgICAgIHZhciBiID0gYS5mLlJHQkE7XG4gICAgICAgIGIuZmIgKz0gKGEuaGVpZ2h0IC0gMSkgKiBiLkE7XG4gICAgICAgIGIuQSA9IC1iLkE7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKGIgPSBhLmYua2IpLFxuICAgICAgICAgIChhID0gYS5oZWlnaHQpLFxuICAgICAgICAgIChiLk8gKz0gKGEgLSAxKSAqIGIuZmEpLFxuICAgICAgICAgIChiLmZhID0gLWIuZmEpLFxuICAgICAgICAgIChiLk4gKz0gKChhIC0gMSkgPj4gMSkgKiBiLkFiKSxcbiAgICAgICAgICAoYi5BYiA9IC1iLkFiKSxcbiAgICAgICAgICAoYi5XICs9ICgoYSAtIDEpID4+IDEpICogYi5EYiksXG4gICAgICAgICAgKGIuRGIgPSAtYi5EYiksXG4gICAgICAgICAgbnVsbCAhPSBiLkYgJiYgKChiLkogKz0gKGEgLSAxKSAqIGIubGIpLCAoYi5sYiA9IC1iLmxiKSk7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ2QoYSwgYiwgYywgZCkge1xuICAgICAgaWYgKG51bGwgPT0gZCB8fCAwID49IGEgfHwgMCA+PSBiKSByZXR1cm4gMjtcbiAgICAgIGlmIChudWxsICE9IGMpIHtcbiAgICAgICAgaWYgKGMuRGEpIHtcbiAgICAgICAgICB2YXIgZSA9IGMuY2QsXG4gICAgICAgICAgICBmID0gYy5iZCxcbiAgICAgICAgICAgIGcgPSBjLnYgJiAtMixcbiAgICAgICAgICAgIGggPSBjLmogJiAtMjtcbiAgICAgICAgICBpZiAoMCA+IGcgfHwgMCA+IGggfHwgMCA+PSBlIHx8IDAgPj0gZiB8fCBnICsgZSA+IGEgfHwgaCArIGYgPiBiKVxuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgICAgYSA9IGU7XG4gICAgICAgICAgYiA9IGY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMuZGEpIHtcbiAgICAgICAgICBlID0gW2MuaWJdO1xuICAgICAgICAgIGYgPSBbYy5oYl07XG4gICAgICAgICAgaWYgKCFiYyhhLCBiLCBlLCBmKSkgcmV0dXJuIDI7XG4gICAgICAgICAgYSA9IGVbMF07XG4gICAgICAgICAgYiA9IGZbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGQud2lkdGggPSBhO1xuICAgICAgZC5oZWlnaHQgPSBiO1xuICAgICAgYToge1xuICAgICAgICB2YXIgayA9IGQud2lkdGg7XG4gICAgICAgIHZhciBsID0gZC5oZWlnaHQ7XG4gICAgICAgIGEgPSBkLlM7XG4gICAgICAgIGlmICgwID49IGsgfHwgMCA+PSBsIHx8ICEoYSA+PSBDYSAmJiAxMyA+IGEpKSBhID0gMjtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKDAgPj0gZC5SZCAmJiBudWxsID09IGQuc2QpIHtcbiAgICAgICAgICAgIHZhciBnID0gKGYgPSBlID0gYiA9IDApLFxuICAgICAgICAgICAgICBoID0gayAqIERkW2FdLFxuICAgICAgICAgICAgICBtID0gaCAqIGw7XG4gICAgICAgICAgICAxMSA+IGEgfHxcbiAgICAgICAgICAgICAgKChiID0gKGsgKyAxKSAvIDIpLFxuICAgICAgICAgICAgICAoZiA9ICgobCArIDEpIC8gMikgKiBiKSxcbiAgICAgICAgICAgICAgMTIgPT0gYSAmJiAoKGUgPSBrKSwgKGcgPSBlICogbCkpKTtcbiAgICAgICAgICAgIGwgPSBWKG0gKyAyICogZiArIGcpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT0gbCkge1xuICAgICAgICAgICAgICBhID0gMTtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQuc2QgPSBsO1xuICAgICAgICAgICAgMTEgPiBhXG4gICAgICAgICAgICAgID8gKChrID0gZC5mLlJHQkEpLFxuICAgICAgICAgICAgICAgIChrLmViID0gbCksXG4gICAgICAgICAgICAgICAgKGsuZmIgPSAwKSxcbiAgICAgICAgICAgICAgICAoay5BID0gaCksXG4gICAgICAgICAgICAgICAgKGsuc2l6ZSA9IG0pKVxuICAgICAgICAgICAgICA6ICgoayA9IGQuZi5rYiksXG4gICAgICAgICAgICAgICAgKGsueSA9IGwpLFxuICAgICAgICAgICAgICAgIChrLk8gPSAwKSxcbiAgICAgICAgICAgICAgICAoay5mYSA9IGgpLFxuICAgICAgICAgICAgICAgIChrLkZkID0gbSksXG4gICAgICAgICAgICAgICAgKGsuZiA9IGwpLFxuICAgICAgICAgICAgICAgIChrLk4gPSAwICsgbSksXG4gICAgICAgICAgICAgICAgKGsuQWIgPSBiKSxcbiAgICAgICAgICAgICAgICAoay5DZCA9IGYpLFxuICAgICAgICAgICAgICAgIChrLmVhID0gbCksXG4gICAgICAgICAgICAgICAgKGsuVyA9IDAgKyBtICsgZiksXG4gICAgICAgICAgICAgICAgKGsuRGIgPSBiKSxcbiAgICAgICAgICAgICAgICAoay5FZCA9IGYpLFxuICAgICAgICAgICAgICAgIDEyID09IGEgJiYgKChrLkYgPSBsKSwgKGsuSiA9IDAgKyBtICsgMiAqIGYpKSxcbiAgICAgICAgICAgICAgICAoay5UYyA9IGcpLFxuICAgICAgICAgICAgICAgIChrLmxiID0gZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiID0gMTtcbiAgICAgICAgICBlID0gZC5TO1xuICAgICAgICAgIGYgPSBkLndpZHRoO1xuICAgICAgICAgIGcgPSBkLmhlaWdodDtcbiAgICAgICAgICBpZiAoZSA+PSBDYSAmJiAxMyA+IGUpXG4gICAgICAgICAgICBpZiAoMTEgPiBlKVxuICAgICAgICAgICAgICAoYSA9IGQuZi5SR0JBKSxcbiAgICAgICAgICAgICAgICAoaCA9IE1hdGguYWJzKGEuQSkpLFxuICAgICAgICAgICAgICAgIChiICY9IGggKiAoZyAtIDEpICsgZiA8PSBhLnNpemUpLFxuICAgICAgICAgICAgICAgIChiICY9IGggPj0gZiAqIERkW2VdKSxcbiAgICAgICAgICAgICAgICAoYiAmPSBudWxsICE9IGEuZWIpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGEgPSBkLmYua2I7XG4gICAgICAgICAgICAgIGggPSAoZiArIDEpIC8gMjtcbiAgICAgICAgICAgICAgbSA9IChnICsgMSkgLyAyO1xuICAgICAgICAgICAgICBrID0gTWF0aC5hYnMoYS5mYSk7XG4gICAgICAgICAgICAgIHZhciBsID0gTWF0aC5hYnMoYS5BYiksXG4gICAgICAgICAgICAgICAgbiA9IE1hdGguYWJzKGEuRGIpLFxuICAgICAgICAgICAgICAgIHIgPSBNYXRoLmFicyhhLmxiKSxcbiAgICAgICAgICAgICAgICBxID0gciAqIChnIC0gMSkgKyBmO1xuICAgICAgICAgICAgICBiICY9IGsgKiAoZyAtIDEpICsgZiA8PSBhLkZkO1xuICAgICAgICAgICAgICBiICY9IGwgKiAobSAtIDEpICsgaCA8PSBhLkNkO1xuICAgICAgICAgICAgICBiICY9IG4gKiAobSAtIDEpICsgaCA8PSBhLkVkO1xuICAgICAgICAgICAgICBiID0gYiAmIChrID49IGYpICYgKGwgPj0gaCkgJiAobiA+PSBoKTtcbiAgICAgICAgICAgICAgYiAmPSBudWxsICE9IGEueTtcbiAgICAgICAgICAgICAgYiAmPSBudWxsICE9IGEuZjtcbiAgICAgICAgICAgICAgYiAmPSBudWxsICE9IGEuZWE7XG4gICAgICAgICAgICAgIDEyID09IGUgJiYgKChiICY9IHIgPj0gZiksIChiICY9IHEgPD0gYS5UYyksIChiICY9IG51bGwgIT0gYS5GKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBiID0gMDtcbiAgICAgICAgICBhID0gYiA/IDAgOiAyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoMCAhPSBhKSByZXR1cm4gYTtcbiAgICAgIG51bGwgIT0gYyAmJiBjLmZkICYmIChhID0gQmQoZCkpO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIHZhciB4YiA9IDY0LFxuICAgICAgSGQgPSBbXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDMsXG4gICAgICAgIDcsXG4gICAgICAgIDE1LFxuICAgICAgICAzMSxcbiAgICAgICAgNjMsXG4gICAgICAgIDEyNyxcbiAgICAgICAgMjU1LFxuICAgICAgICA1MTEsXG4gICAgICAgIDEwMjMsXG4gICAgICAgIDIwNDcsXG4gICAgICAgIDQwOTUsXG4gICAgICAgIDgxOTEsXG4gICAgICAgIDE2MzgzLFxuICAgICAgICAzMjc2NyxcbiAgICAgICAgNjU1MzUsXG4gICAgICAgIDEzMTA3MSxcbiAgICAgICAgMjYyMTQzLFxuICAgICAgICA1MjQyODcsXG4gICAgICAgIDEwNDg1NzUsXG4gICAgICAgIDIwOTcxNTEsXG4gICAgICAgIDQxOTQzMDMsXG4gICAgICAgIDgzODg2MDcsXG4gICAgICAgIDE2Nzc3MjE1XG4gICAgICBdLFxuICAgICAgR2QgPSAyNCxcbiAgICAgIG9iID0gMzIsXG4gICAgICBYYiA9IDgsXG4gICAgICBJZCA9IFtcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMSxcbiAgICAgICAgMixcbiAgICAgICAgMixcbiAgICAgICAgMixcbiAgICAgICAgMixcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgMyxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNCxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNSxcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNixcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgNyxcbiAgICAgICAgN1xuICAgICAgXTtcbiAgICBYKFwiUHJlZGljdG9yMFwiLCBcIlByZWRpY3RvckFkZDBcIik7XG4gICAgc2VsZi5QcmVkaWN0b3IwID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gNDI3ODE5MDA4MDtcbiAgICB9O1xuICAgIHNlbGYuUHJlZGljdG9yMSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBhO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3IyID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGJbYyArIDBdO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3IzID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGJbYyArIDFdO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3I0ID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGJbYyAtIDFdO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3I1ID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGFhKGFhKGEsIGJbYyArIDFdKSwgYltjICsgMF0pO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3I2ID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGFhKGEsIGJbYyAtIDFdKTtcbiAgICB9O1xuICAgIHNlbGYuUHJlZGljdG9yNyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBhYShhLCBiW2MgKyAwXSk7XG4gICAgfTtcbiAgICBzZWxmLlByZWRpY3RvcjggPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gYWEoYltjIC0gMV0sIGJbYyArIDBdKTtcbiAgICB9O1xuICAgIHNlbGYuUHJlZGljdG9yOSA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBhYShiW2MgKyAwXSwgYltjICsgMV0pO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3IxMCA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBhYShhYShhLCBiW2MgLSAxXSksIGFhKGJbYyArIDBdLCBiW2MgKyAxXSkpO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3IxMSA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHZhciBkID0gYltjICsgMF07XG4gICAgICBiID0gYltjIC0gMV07XG4gICAgICByZXR1cm4gMCA+PVxuICAgICAgICBJYSgoZCA+PiAyNCkgJiAyNTUsIChhID4+IDI0KSAmIDI1NSwgKGIgPj4gMjQpICYgMjU1KSArXG4gICAgICAgICAgSWEoKGQgPj4gMTYpICYgMjU1LCAoYSA+PiAxNikgJiAyNTUsIChiID4+IDE2KSAmIDI1NSkgK1xuICAgICAgICAgIElhKChkID4+IDgpICYgMjU1LCAoYSA+PiA4KSAmIDI1NSwgKGIgPj4gOCkgJiAyNTUpICtcbiAgICAgICAgICBJYShkICYgMjU1LCBhICYgMjU1LCBiICYgMjU1KVxuICAgICAgICA/IGRcbiAgICAgICAgOiBhO1xuICAgIH07XG4gICAgc2VsZi5QcmVkaWN0b3IxMiA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgIHZhciBkID0gYltjICsgMF07XG4gICAgICBiID0gYltjIC0gMV07XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoKHNhKCgoYSA+PiAyNCkgJiAyNTUpICsgKChkID4+IDI0KSAmIDI1NSkgLSAoKGIgPj4gMjQpICYgMjU1KSkgPDwgMjQpIHxcbiAgICAgICAgICAoc2EoKChhID4+IDE2KSAmIDI1NSkgKyAoKGQgPj4gMTYpICYgMjU1KSAtICgoYiA+PiAxNikgJiAyNTUpKSA8PFxuICAgICAgICAgICAgMTYpIHxcbiAgICAgICAgICAoc2EoKChhID4+IDgpICYgMjU1KSArICgoZCA+PiA4KSAmIDI1NSkgLSAoKGIgPj4gOCkgJiAyNTUpKSA8PCA4KSB8XG4gICAgICAgICAgc2EoKGEgJiAyNTUpICsgKGQgJiAyNTUpIC0gKGIgJiAyNTUpKSkgPj4+XG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfTtcbiAgICBzZWxmLlByZWRpY3RvcjEzID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAgdmFyIGQgPSBiW2MgLSAxXTtcbiAgICAgIGEgPSBhYShhLCBiW2MgKyAwXSk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoKGViKChhID4+IDI0KSAmIDI1NSwgKGQgPj4gMjQpICYgMjU1KSA8PCAyNCkgfFxuICAgICAgICAgIChlYigoYSA+PiAxNikgJiAyNTUsIChkID4+IDE2KSAmIDI1NSkgPDwgMTYpIHxcbiAgICAgICAgICAoZWIoKGEgPj4gOCkgJiAyNTUsIChkID4+IDgpICYgMjU1KSA8PCA4KSB8XG4gICAgICAgICAgZWIoKGEgPj4gMCkgJiAyNTUsIChkID4+IDApICYgMjU1KSkgPj4+XG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfTtcbiAgICB2YXIgZWUgPSBzZWxmLlByZWRpY3RvckFkZDA7XG4gICAgc2VsZi5QcmVkaWN0b3JBZGQxID0gY2M7XG4gICAgWChcIlByZWRpY3RvcjJcIiwgXCJQcmVkaWN0b3JBZGQyXCIpO1xuICAgIFgoXCJQcmVkaWN0b3IzXCIsIFwiUHJlZGljdG9yQWRkM1wiKTtcbiAgICBYKFwiUHJlZGljdG9yNFwiLCBcIlByZWRpY3RvckFkZDRcIik7XG4gICAgWChcIlByZWRpY3RvcjVcIiwgXCJQcmVkaWN0b3JBZGQ1XCIpO1xuICAgIFgoXCJQcmVkaWN0b3I2XCIsIFwiUHJlZGljdG9yQWRkNlwiKTtcbiAgICBYKFwiUHJlZGljdG9yN1wiLCBcIlByZWRpY3RvckFkZDdcIik7XG4gICAgWChcIlByZWRpY3RvcjhcIiwgXCJQcmVkaWN0b3JBZGQ4XCIpO1xuICAgIFgoXCJQcmVkaWN0b3I5XCIsIFwiUHJlZGljdG9yQWRkOVwiKTtcbiAgICBYKFwiUHJlZGljdG9yMTBcIiwgXCJQcmVkaWN0b3JBZGQxMFwiKTtcbiAgICBYKFwiUHJlZGljdG9yMTFcIiwgXCJQcmVkaWN0b3JBZGQxMVwiKTtcbiAgICBYKFwiUHJlZGljdG9yMTJcIiwgXCJQcmVkaWN0b3JBZGQxMlwiKTtcbiAgICBYKFwiUHJlZGljdG9yMTNcIiwgXCJQcmVkaWN0b3JBZGQxM1wiKTtcbiAgICB2YXIgZmUgPSBzZWxmLlByZWRpY3RvckFkZDI7XG4gICAgZWMoXG4gICAgICBcIkNvbG9ySW5kZXhJbnZlcnNlVHJhbnNmb3JtXCIsXG4gICAgICBcIk1hcEFSR0JcIixcbiAgICAgIFwiMzJiXCIsXG4gICAgICBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiAoYSA+PiA4KSAmIDI1NTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgICk7XG4gICAgZWMoXG4gICAgICBcIlZQOExDb2xvckluZGV4SW52ZXJzZVRyYW5zZm9ybUFscGhhXCIsXG4gICAgICBcIk1hcEFscGhhXCIsXG4gICAgICBcIjhiXCIsXG4gICAgICBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIChhID4+IDgpICYgMjU1O1xuICAgICAgfVxuICAgICk7XG4gICAgdmFyIHJjID0gc2VsZi5Db2xvckluZGV4SW52ZXJzZVRyYW5zZm9ybSxcbiAgICAgIGtlID0gc2VsZi5NYXBBUkdCLFxuICAgICAgaGUgPSBzZWxmLlZQOExDb2xvckluZGV4SW52ZXJzZVRyYW5zZm9ybUFscGhhLFxuICAgICAgbGUgPSBzZWxmLk1hcEFscGhhLFxuICAgICAgcGMsXG4gICAgICBxYyA9IChzZWxmLlZQOExQcmVkaWN0b3JzQWRkID0gW10pO1xuICAgIHFjLmxlbmd0aCA9IDE2O1xuICAgIChzZWxmLlZQOExQcmVkaWN0b3JzID0gW10pLmxlbmd0aCA9IDE2O1xuICAgIChzZWxmLlZQOExQcmVkaWN0b3JzQWRkX0MgPSBbXSkubGVuZ3RoID0gMTY7XG4gICAgKHNlbGYuVlA4TFByZWRpY3RvcnNfQyA9IFtdKS5sZW5ndGggPSAxNjtcbiAgICB2YXIgRmIsXG4gICAgICBzYyxcbiAgICAgIEdiLFxuICAgICAgSGIsXG4gICAgICB4YyxcbiAgICAgIHVjLFxuICAgICAgYmQgPSBWKDUxMSksXG4gICAgICBjZCA9IFYoMjA0MSksXG4gICAgICBkZCA9IFYoMjI1KSxcbiAgICAgIGVkID0gVig3NjcpLFxuICAgICAgYWQgPSAwLFxuICAgICAgUWIgPSBjZCxcbiAgICAgIG1iID0gZGQsXG4gICAgICBSID0gZWQsXG4gICAgICBVID0gYmQsXG4gICAgICBDYSA9IDAsXG4gICAgICBVYSA9IDEsXG4gICAgICB0YyA9IDIsXG4gICAgICBWYSA9IDMsXG4gICAgICB5YSA9IDQsXG4gICAgICBEYiA9IDUsXG4gICAgICB3YyA9IDYsXG4gICAgICB6YiA9IDcsXG4gICAgICBBYiA9IDgsXG4gICAgICBKYSA9IDksXG4gICAgICBCYiA9IDEwLFxuICAgICAgcGUgPSBbMiwgMywgN10sXG4gICAgICBvZSA9IFszLCAzLCAxMV0sXG4gICAgICBEYyA9IFsyODAsIDI1NiwgMjU2LCAyNTYsIDQwXSxcbiAgICAgIHFlID0gWzAsIDEsIDEsIDEsIDBdLFxuICAgICAgbmUgPSBbMTcsIDE4LCAwLCAxLCAyLCAzLCA0LCA1LCAxNiwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNV0sXG4gICAgICBkZSA9IFtcbiAgICAgICAgMjQsXG4gICAgICAgIDcsXG4gICAgICAgIDIzLFxuICAgICAgICAyNSxcbiAgICAgICAgNDAsXG4gICAgICAgIDYsXG4gICAgICAgIDM5LFxuICAgICAgICA0MSxcbiAgICAgICAgMjIsXG4gICAgICAgIDI2LFxuICAgICAgICAzOCxcbiAgICAgICAgNDIsXG4gICAgICAgIDU2LFxuICAgICAgICA1LFxuICAgICAgICA1NSxcbiAgICAgICAgNTcsXG4gICAgICAgIDIxLFxuICAgICAgICAyNyxcbiAgICAgICAgNTQsXG4gICAgICAgIDU4LFxuICAgICAgICAzNyxcbiAgICAgICAgNDMsXG4gICAgICAgIDcyLFxuICAgICAgICA0LFxuICAgICAgICA3MSxcbiAgICAgICAgNzMsXG4gICAgICAgIDIwLFxuICAgICAgICAyOCxcbiAgICAgICAgNTMsXG4gICAgICAgIDU5LFxuICAgICAgICA3MCxcbiAgICAgICAgNzQsXG4gICAgICAgIDM2LFxuICAgICAgICA0NCxcbiAgICAgICAgODgsXG4gICAgICAgIDY5LFxuICAgICAgICA3NSxcbiAgICAgICAgNTIsXG4gICAgICAgIDYwLFxuICAgICAgICAzLFxuICAgICAgICA4NyxcbiAgICAgICAgODksXG4gICAgICAgIDE5LFxuICAgICAgICAyOSxcbiAgICAgICAgODYsXG4gICAgICAgIDkwLFxuICAgICAgICAzNSxcbiAgICAgICAgNDUsXG4gICAgICAgIDY4LFxuICAgICAgICA3NixcbiAgICAgICAgODUsXG4gICAgICAgIDkxLFxuICAgICAgICA1MSxcbiAgICAgICAgNjEsXG4gICAgICAgIDEwNCxcbiAgICAgICAgMixcbiAgICAgICAgMTAzLFxuICAgICAgICAxMDUsXG4gICAgICAgIDE4LFxuICAgICAgICAzMCxcbiAgICAgICAgMTAyLFxuICAgICAgICAxMDYsXG4gICAgICAgIDM0LFxuICAgICAgICA0NixcbiAgICAgICAgODQsXG4gICAgICAgIDkyLFxuICAgICAgICA2NyxcbiAgICAgICAgNzcsXG4gICAgICAgIDEwMSxcbiAgICAgICAgMTA3LFxuICAgICAgICA1MCxcbiAgICAgICAgNjIsXG4gICAgICAgIDEyMCxcbiAgICAgICAgMSxcbiAgICAgICAgMTE5LFxuICAgICAgICAxMjEsXG4gICAgICAgIDgzLFxuICAgICAgICA5MyxcbiAgICAgICAgMTcsXG4gICAgICAgIDMxLFxuICAgICAgICAxMDAsXG4gICAgICAgIDEwOCxcbiAgICAgICAgNjYsXG4gICAgICAgIDc4LFxuICAgICAgICAxMTgsXG4gICAgICAgIDEyMixcbiAgICAgICAgMzMsXG4gICAgICAgIDQ3LFxuICAgICAgICAxMTcsXG4gICAgICAgIDEyMyxcbiAgICAgICAgNDksXG4gICAgICAgIDYzLFxuICAgICAgICA5OSxcbiAgICAgICAgMTA5LFxuICAgICAgICA4MixcbiAgICAgICAgOTQsXG4gICAgICAgIDAsXG4gICAgICAgIDExNixcbiAgICAgICAgMTI0LFxuICAgICAgICA2NSxcbiAgICAgICAgNzksXG4gICAgICAgIDE2LFxuICAgICAgICAzMixcbiAgICAgICAgOTgsXG4gICAgICAgIDExMCxcbiAgICAgICAgNDgsXG4gICAgICAgIDExNSxcbiAgICAgICAgMTI1LFxuICAgICAgICA4MSxcbiAgICAgICAgOTUsXG4gICAgICAgIDY0LFxuICAgICAgICAxMTQsXG4gICAgICAgIDEyNixcbiAgICAgICAgOTcsXG4gICAgICAgIDExMSxcbiAgICAgICAgODAsXG4gICAgICAgIDExMyxcbiAgICAgICAgMTI3LFxuICAgICAgICA5NixcbiAgICAgICAgMTEyXG4gICAgICBdLFxuICAgICAgbWUgPSBbXG4gICAgICAgIDI5NTQsXG4gICAgICAgIDI5NTYsXG4gICAgICAgIDI5NTgsXG4gICAgICAgIDI5NjIsXG4gICAgICAgIDI5NzAsXG4gICAgICAgIDI5ODYsXG4gICAgICAgIDMwMTgsXG4gICAgICAgIDMwODIsXG4gICAgICAgIDMyMTIsXG4gICAgICAgIDM0NjgsXG4gICAgICAgIDM5ODAsXG4gICAgICAgIDUwMDRcbiAgICAgIF0sXG4gICAgICBpZSA9IDgsXG4gICAgICBMYiA9IFtcbiAgICAgICAgNCxcbiAgICAgICAgNSxcbiAgICAgICAgNixcbiAgICAgICAgNyxcbiAgICAgICAgOCxcbiAgICAgICAgOSxcbiAgICAgICAgMTAsXG4gICAgICAgIDEwLFxuICAgICAgICAxMSxcbiAgICAgICAgMTIsXG4gICAgICAgIDEzLFxuICAgICAgICAxNCxcbiAgICAgICAgMTUsXG4gICAgICAgIDE2LFxuICAgICAgICAxNyxcbiAgICAgICAgMTcsXG4gICAgICAgIDE4LFxuICAgICAgICAxOSxcbiAgICAgICAgMjAsXG4gICAgICAgIDIwLFxuICAgICAgICAyMSxcbiAgICAgICAgMjEsXG4gICAgICAgIDIyLFxuICAgICAgICAyMixcbiAgICAgICAgMjMsXG4gICAgICAgIDIzLFxuICAgICAgICAyNCxcbiAgICAgICAgMjUsXG4gICAgICAgIDI1LFxuICAgICAgICAyNixcbiAgICAgICAgMjcsXG4gICAgICAgIDI4LFxuICAgICAgICAyOSxcbiAgICAgICAgMzAsXG4gICAgICAgIDMxLFxuICAgICAgICAzMixcbiAgICAgICAgMzMsXG4gICAgICAgIDM0LFxuICAgICAgICAzNSxcbiAgICAgICAgMzYsXG4gICAgICAgIDM3LFxuICAgICAgICAzNyxcbiAgICAgICAgMzgsXG4gICAgICAgIDM5LFxuICAgICAgICA0MCxcbiAgICAgICAgNDEsXG4gICAgICAgIDQyLFxuICAgICAgICA0MyxcbiAgICAgICAgNDQsXG4gICAgICAgIDQ1LFxuICAgICAgICA0NixcbiAgICAgICAgNDYsXG4gICAgICAgIDQ3LFxuICAgICAgICA0OCxcbiAgICAgICAgNDksXG4gICAgICAgIDUwLFxuICAgICAgICA1MSxcbiAgICAgICAgNTIsXG4gICAgICAgIDUzLFxuICAgICAgICA1NCxcbiAgICAgICAgNTUsXG4gICAgICAgIDU2LFxuICAgICAgICA1NyxcbiAgICAgICAgNTgsXG4gICAgICAgIDU5LFxuICAgICAgICA2MCxcbiAgICAgICAgNjEsXG4gICAgICAgIDYyLFxuICAgICAgICA2MyxcbiAgICAgICAgNjQsXG4gICAgICAgIDY1LFxuICAgICAgICA2NixcbiAgICAgICAgNjcsXG4gICAgICAgIDY4LFxuICAgICAgICA2OSxcbiAgICAgICAgNzAsXG4gICAgICAgIDcxLFxuICAgICAgICA3MixcbiAgICAgICAgNzMsXG4gICAgICAgIDc0LFxuICAgICAgICA3NSxcbiAgICAgICAgNzYsXG4gICAgICAgIDc2LFxuICAgICAgICA3NyxcbiAgICAgICAgNzgsXG4gICAgICAgIDc5LFxuICAgICAgICA4MCxcbiAgICAgICAgODEsXG4gICAgICAgIDgyLFxuICAgICAgICA4MyxcbiAgICAgICAgODQsXG4gICAgICAgIDg1LFxuICAgICAgICA4NixcbiAgICAgICAgODcsXG4gICAgICAgIDg4LFxuICAgICAgICA4OSxcbiAgICAgICAgOTEsXG4gICAgICAgIDkzLFxuICAgICAgICA5NSxcbiAgICAgICAgOTYsXG4gICAgICAgIDk4LFxuICAgICAgICAxMDAsXG4gICAgICAgIDEwMSxcbiAgICAgICAgMTAyLFxuICAgICAgICAxMDQsXG4gICAgICAgIDEwNixcbiAgICAgICAgMTA4LFxuICAgICAgICAxMTAsXG4gICAgICAgIDExMixcbiAgICAgICAgMTE0LFxuICAgICAgICAxMTYsXG4gICAgICAgIDExOCxcbiAgICAgICAgMTIyLFxuICAgICAgICAxMjQsXG4gICAgICAgIDEyNixcbiAgICAgICAgMTI4LFxuICAgICAgICAxMzAsXG4gICAgICAgIDEzMixcbiAgICAgICAgMTM0LFxuICAgICAgICAxMzYsXG4gICAgICAgIDEzOCxcbiAgICAgICAgMTQwLFxuICAgICAgICAxNDMsXG4gICAgICAgIDE0NSxcbiAgICAgICAgMTQ4LFxuICAgICAgICAxNTEsXG4gICAgICAgIDE1NCxcbiAgICAgICAgMTU3XG4gICAgICBdLFxuICAgICAgTWIgPSBbXG4gICAgICAgIDQsXG4gICAgICAgIDUsXG4gICAgICAgIDYsXG4gICAgICAgIDcsXG4gICAgICAgIDgsXG4gICAgICAgIDksXG4gICAgICAgIDEwLFxuICAgICAgICAxMSxcbiAgICAgICAgMTIsXG4gICAgICAgIDEzLFxuICAgICAgICAxNCxcbiAgICAgICAgMTUsXG4gICAgICAgIDE2LFxuICAgICAgICAxNyxcbiAgICAgICAgMTgsXG4gICAgICAgIDE5LFxuICAgICAgICAyMCxcbiAgICAgICAgMjEsXG4gICAgICAgIDIyLFxuICAgICAgICAyMyxcbiAgICAgICAgMjQsXG4gICAgICAgIDI1LFxuICAgICAgICAyNixcbiAgICAgICAgMjcsXG4gICAgICAgIDI4LFxuICAgICAgICAyOSxcbiAgICAgICAgMzAsXG4gICAgICAgIDMxLFxuICAgICAgICAzMixcbiAgICAgICAgMzMsXG4gICAgICAgIDM0LFxuICAgICAgICAzNSxcbiAgICAgICAgMzYsXG4gICAgICAgIDM3LFxuICAgICAgICAzOCxcbiAgICAgICAgMzksXG4gICAgICAgIDQwLFxuICAgICAgICA0MSxcbiAgICAgICAgNDIsXG4gICAgICAgIDQzLFxuICAgICAgICA0NCxcbiAgICAgICAgNDUsXG4gICAgICAgIDQ2LFxuICAgICAgICA0NyxcbiAgICAgICAgNDgsXG4gICAgICAgIDQ5LFxuICAgICAgICA1MCxcbiAgICAgICAgNTEsXG4gICAgICAgIDUyLFxuICAgICAgICA1MyxcbiAgICAgICAgNTQsXG4gICAgICAgIDU1LFxuICAgICAgICA1NixcbiAgICAgICAgNTcsXG4gICAgICAgIDU4LFxuICAgICAgICA2MCxcbiAgICAgICAgNjIsXG4gICAgICAgIDY0LFxuICAgICAgICA2NixcbiAgICAgICAgNjgsXG4gICAgICAgIDcwLFxuICAgICAgICA3MixcbiAgICAgICAgNzQsXG4gICAgICAgIDc2LFxuICAgICAgICA3OCxcbiAgICAgICAgODAsXG4gICAgICAgIDgyLFxuICAgICAgICA4NCxcbiAgICAgICAgODYsXG4gICAgICAgIDg4LFxuICAgICAgICA5MCxcbiAgICAgICAgOTIsXG4gICAgICAgIDk0LFxuICAgICAgICA5NixcbiAgICAgICAgOTgsXG4gICAgICAgIDEwMCxcbiAgICAgICAgMTAyLFxuICAgICAgICAxMDQsXG4gICAgICAgIDEwNixcbiAgICAgICAgMTA4LFxuICAgICAgICAxMTAsXG4gICAgICAgIDExMixcbiAgICAgICAgMTE0LFxuICAgICAgICAxMTYsXG4gICAgICAgIDExOSxcbiAgICAgICAgMTIyLFxuICAgICAgICAxMjUsXG4gICAgICAgIDEyOCxcbiAgICAgICAgMTMxLFxuICAgICAgICAxMzQsXG4gICAgICAgIDEzNyxcbiAgICAgICAgMTQwLFxuICAgICAgICAxNDMsXG4gICAgICAgIDE0NixcbiAgICAgICAgMTQ5LFxuICAgICAgICAxNTIsXG4gICAgICAgIDE1NSxcbiAgICAgICAgMTU4LFxuICAgICAgICAxNjEsXG4gICAgICAgIDE2NCxcbiAgICAgICAgMTY3LFxuICAgICAgICAxNzAsXG4gICAgICAgIDE3MyxcbiAgICAgICAgMTc3LFxuICAgICAgICAxODEsXG4gICAgICAgIDE4NSxcbiAgICAgICAgMTg5LFxuICAgICAgICAxOTMsXG4gICAgICAgIDE5NyxcbiAgICAgICAgMjAxLFxuICAgICAgICAyMDUsXG4gICAgICAgIDIwOSxcbiAgICAgICAgMjEzLFxuICAgICAgICAyMTcsXG4gICAgICAgIDIyMSxcbiAgICAgICAgMjI1LFxuICAgICAgICAyMjksXG4gICAgICAgIDIzNCxcbiAgICAgICAgMjM5LFxuICAgICAgICAyNDUsXG4gICAgICAgIDI0OSxcbiAgICAgICAgMjU0LFxuICAgICAgICAyNTksXG4gICAgICAgIDI2NCxcbiAgICAgICAgMjY5LFxuICAgICAgICAyNzQsXG4gICAgICAgIDI3OSxcbiAgICAgICAgMjg0XG4gICAgICBdLFxuICAgICAgb2EgPSBudWxsLFxuICAgICAgSGUgPSBbXG4gICAgICAgIFsxNzMsIDE0OCwgMTQwLCAwXSxcbiAgICAgICAgWzE3NiwgMTU1LCAxNDAsIDEzNSwgMF0sXG4gICAgICAgIFsxODAsIDE1NywgMTQxLCAxMzQsIDEzMCwgMF0sXG4gICAgICAgIFsyNTQsIDI1NCwgMjQzLCAyMzAsIDE5NiwgMTc3LCAxNTMsIDE0MCwgMTMzLCAxMzAsIDEyOSwgMF1cbiAgICAgIF0sXG4gICAgICBJZSA9IFswLCAxLCA0LCA4LCA1LCAyLCAzLCA2LCA5LCAxMiwgMTMsIDEwLCA3LCAxMSwgMTQsIDE1XSxcbiAgICAgIE1jID0gWy0wLCAxLCAtMSwgMiwgLTIsIDMsIDQsIDYsIC0zLCA1LCAtNCwgLTUsIC02LCA3LCAtNywgOCwgLTgsIC05XSxcbiAgICAgIEZlID0gW1xuICAgICAgICBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjUzLCAxMzYsIDI1NCwgMjU1LCAyMjgsIDIxOSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzE4OSwgMTI5LCAyNDIsIDI1NSwgMjI3LCAyMTMsIDI1NSwgMjE5LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxMDYsIDEyNiwgMjI3LCAyNTIsIDIxNCwgMjA5LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCA5OCwgMjQ4LCAyNTUsIDIzNiwgMjI2LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTgxLCAxMzMsIDIzOCwgMjU0LCAyMjEsIDIzNCwgMjU1LCAxNTQsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzc4LCAxMzQsIDIwMiwgMjQ3LCAxOTgsIDE4MCwgMjU1LCAyMTksIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgMTg1LCAyNDksIDI1NSwgMjQzLCAyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxODQsIDE1MCwgMjQ3LCAyNTUsIDIzNiwgMjI0LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbNzcsIDExMCwgMjE2LCAyNTUsIDIzNiwgMjMwLCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAxMDEsIDI1MSwgMjU1LCAyNDEsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzE3MCwgMTM5LCAyNDEsIDI1MiwgMjM2LCAyMDksIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFszNywgMTE2LCAxOTYsIDI0MywgMjI4LCAyNTUsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDIwNCwgMjU0LCAyNTUsIDI0NSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjA3LCAxNjAsIDI1MCwgMjU1LCAyMzgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzEwMiwgMTAzLCAyMzEsIDI1NSwgMjExLCAxNzEsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDE1MiwgMjUyLCAyNTUsIDI0MCwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTc3LCAxMzUsIDI0MywgMjU1LCAyMzQsIDIyNSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzgwLCAxMjksIDIxMSwgMjU1LCAxOTQsIDIyNCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgMSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjQ2LCAxLCAyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMTk4LCAzNSwgMjM3LCAyMjMsIDE5MywgMTg3LCAxNjIsIDE2MCwgMTQ1LCAxNTUsIDYyXSxcbiAgICAgICAgICAgIFsxMzEsIDQ1LCAxOTgsIDIyMSwgMTcyLCAxNzYsIDIyMCwgMTU3LCAyNTIsIDIyMSwgMV0sXG4gICAgICAgICAgICBbNjgsIDQ3LCAxNDYsIDIwOCwgMTQ5LCAxNjcsIDIyMSwgMTYyLCAyNTUsIDIyMywgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDE0OSwgMjQxLCAyNTUsIDIyMSwgMjI0LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTg0LCAxNDEsIDIzNCwgMjUzLCAyMjIsIDIyMCwgMjU1LCAxOTksIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzgxLCA5OSwgMTgxLCAyNDIsIDE3NiwgMTkwLCAyNDksIDIwMiwgMjU1LCAyNTUsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAxMjksIDIzMiwgMjUzLCAyMTQsIDE5NywgMjQyLCAxOTYsIDI1NSwgMjU1LCAxMjhdLFxuICAgICAgICAgICAgWzk5LCAxMjEsIDIxMCwgMjUwLCAyMDEsIDE5OCwgMjU1LCAyMDIsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzIzLCA5MSwgMTYzLCAyNDIsIDE3MCwgMTg3LCAyNDcsIDIxMCwgMjU1LCAyNTUsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAyMDAsIDI0NiwgMjU1LCAyMzQsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzEwOSwgMTc4LCAyNDEsIDI1NSwgMjMxLCAyNDUsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFs0NCwgMTMwLCAyMDEsIDI1MywgMjA1LCAxOTIsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDEzMiwgMjM5LCAyNTEsIDIxOSwgMjA5LCAyNTUsIDE2NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbOTQsIDEzNiwgMjI1LCAyNTEsIDIxOCwgMTkwLCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjIsIDEwMCwgMTc0LCAyNDUsIDE4NiwgMTYxLCAyNTUsIDE5OSwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAxODIsIDI0OSwgMjU1LCAyMzIsIDIzNSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzEyNCwgMTQzLCAyNDEsIDI1NSwgMjI3LCAyMzQsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFszNSwgNzcsIDE4MSwgMjUxLCAxOTMsIDIxMSwgMjU1LCAyMDUsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgMTU3LCAyNDcsIDI1NSwgMjM2LCAyMzEsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxMjEsIDE0MSwgMjM1LCAyNTUsIDIyNSwgMjI3LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbNDUsIDk5LCAxODgsIDI1MSwgMTk1LCAyMTcsIDI1NSwgMjI0LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDEsIDI1MSwgMjU1LCAyMTMsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzIwMywgMSwgMjQ4LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTM3LCAxLCAxNzcsIDI1NSwgMjI0LCAyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF1cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTMsIDksIDI0OCwgMjUxLCAyMDcsIDIwOCwgMjU1LCAxOTIsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzE3NSwgMTMsIDIyNCwgMjQzLCAxOTMsIDE4NSwgMjQ5LCAxOTgsIDI1NSwgMjU1LCAxMjhdLFxuICAgICAgICAgICAgWzczLCAxNywgMTcxLCAyMjEsIDE2MSwgMTc5LCAyMzYsIDE2NywgMjU1LCAyMzQsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCA5NSwgMjQ3LCAyNTMsIDIxMiwgMTgzLCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjM5LCA5MCwgMjQ0LCAyNTAsIDIxMSwgMjA5LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTU1LCA3NywgMTk1LCAyNDgsIDE4OCwgMTk1LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAyNCwgMjM5LCAyNTEsIDIxOCwgMjE5LCAyNTUsIDIwNSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjAxLCA1MSwgMjE5LCAyNTUsIDE5NiwgMTg2LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbNjksIDQ2LCAxOTAsIDIzOSwgMjAxLCAyMTgsIDI1NSwgMjI4LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDE5MSwgMjUxLCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjIzLCAxNjUsIDI0OSwgMjU1LCAyMTMsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzE0MSwgMTI0LCAyNDgsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDE2LCAyNDgsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxOTAsIDM2LCAyMzAsIDI1NSwgMjM2LCAyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxNDksIDEsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgMjI2LCAyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsyNDcsIDE5MiwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMjQwLCAxMjgsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgMTM0LCAyNTIsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsyMTMsIDYyLCAyNTAsIDI1NSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFs1NSwgOTMsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjAyLCAyNCwgMjEzLCAyMzUsIDE4NiwgMTkxLCAyMjAsIDE2MCwgMjQwLCAxNzUsIDI1NV0sXG4gICAgICAgICAgICBbMTI2LCAzOCwgMTgyLCAyMzIsIDE2OSwgMTg0LCAyMjgsIDE3NCwgMjU1LCAxODcsIDEyOF0sXG4gICAgICAgICAgICBbNjEsIDQ2LCAxMzgsIDIxOSwgMTUxLCAxNzgsIDI0MCwgMTcwLCAyNTUsIDIxNiwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDExMiwgMjMwLCAyNTAsIDE5OSwgMTkxLCAyNDcsIDE1OSwgMjU1LCAyNTUsIDEyOF0sXG4gICAgICAgICAgICBbMTY2LCAxMDksIDIyOCwgMjUyLCAyMTEsIDIxNSwgMjU1LCAxNzQsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzM5LCA3NywgMTYyLCAyMzIsIDE3MiwgMTgwLCAyNDUsIDE3OCwgMjU1LCAyNTUsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCA1MiwgMjIwLCAyNDYsIDE5OCwgMTk5LCAyNDksIDIyMCwgMjU1LCAyNTUsIDEyOF0sXG4gICAgICAgICAgICBbMTI0LCA3NCwgMTkxLCAyNDMsIDE4MywgMTkzLCAyNTAsIDIyMSwgMjU1LCAyNTUsIDEyOF0sXG4gICAgICAgICAgICBbMjQsIDcxLCAxMzAsIDIxOSwgMTU0LCAxNzAsIDI0MywgMTgyLCAyNTUsIDI1NSwgMTI4XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzEsIDE4MiwgMjI1LCAyNDksIDIxOSwgMjQwLCAyNTUsIDIyNCwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbMTQ5LCAxNTAsIDIyNiwgMjUyLCAyMTYsIDIwNSwgMjU1LCAxNzEsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzI4LCAxMDgsIDE3MCwgMjQyLCAxODMsIDE5NCwgMjU0LCAyMjMsIDI1NSwgMjU1LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgODEsIDIzMCwgMjUyLCAyMDQsIDIwMywgMjU1LCAxOTIsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzEyMywgMTAyLCAyMDksIDI0NywgMTg4LCAxOTYsIDI1NSwgMjMzLCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsyMCwgOTUsIDE1MywgMjQzLCAxNjQsIDE3MywgMjU1LCAyMDMsIDEyOCwgMTI4LCAxMjhdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMSwgMjIyLCAyNDgsIDI1NSwgMjE2LCAyMTMsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsxNjgsIDE3NSwgMjQ2LCAyNTIsIDIzNSwgMjA1LCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF0sXG4gICAgICAgICAgICBbNDcsIDExNiwgMjE1LCAyNTUsIDIxMSwgMjEyLCAyNTUsIDI1NSwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAxMjEsIDIzNiwgMjUzLCAyMTIsIDIxNCwgMjU1LCAyNTUsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzE0MSwgODQsIDIxMywgMjUyLCAyMDEsIDIwMiwgMjU1LCAyMTksIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzQyLCA4MCwgMTYwLCAyNDAsIDE2MiwgMTg1LCAyNTUsIDIwNSwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsxLCAxLCAyNTUsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4XSxcbiAgICAgICAgICAgIFsyNDQsIDEsIDI1NSwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjhdLFxuICAgICAgICAgICAgWzIzOCwgMSwgMjU1LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOCwgMTI4LCAxMjgsIDEyOF1cbiAgICAgICAgICBdXG4gICAgICAgIF1cbiAgICAgIF0sXG4gICAgICBLZSA9IFtcbiAgICAgICAgW1xuICAgICAgICAgIFsyMzEsIDEyMCwgNDgsIDg5LCAxMTUsIDExMywgMTIwLCAxNTIsIDExMl0sXG4gICAgICAgICAgWzE1MiwgMTc5LCA2NCwgMTI2LCAxNzAsIDExOCwgNDYsIDcwLCA5NV0sXG4gICAgICAgICAgWzE3NSwgNjksIDE0MywgODAsIDg1LCA4MiwgNzIsIDE1NSwgMTAzXSxcbiAgICAgICAgICBbNTYsIDU4LCAxMCwgMTcxLCAyMTgsIDE4OSwgMTcsIDEzLCAxNTJdLFxuICAgICAgICAgIFsxMTQsIDI2LCAxNywgMTYzLCA0NCwgMTk1LCAyMSwgMTAsIDE3M10sXG4gICAgICAgICAgWzEyMSwgMjQsIDgwLCAxOTUsIDI2LCA2MiwgNDQsIDY0LCA4NV0sXG4gICAgICAgICAgWzE0NCwgNzEsIDEwLCAzOCwgMTcxLCAyMTMsIDE0NCwgMzQsIDI2XSxcbiAgICAgICAgICBbMTcwLCA0NiwgNTUsIDE5LCAxMzYsIDE2MCwgMzMsIDIwNiwgNzFdLFxuICAgICAgICAgIFs2MywgMjAsIDgsIDExNCwgMTE0LCAyMDgsIDEyLCA5LCAyMjZdLFxuICAgICAgICAgIFs4MSwgNDAsIDExLCA5NiwgMTgyLCA4NCwgMjksIDE2LCAzNl1cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFsxMzQsIDE4MywgODksIDEzNywgOTgsIDEwMSwgMTA2LCAxNjUsIDE0OF0sXG4gICAgICAgICAgWzcyLCAxODcsIDEwMCwgMTMwLCAxNTcsIDExMSwgMzIsIDc1LCA4MF0sXG4gICAgICAgICAgWzY2LCAxMDIsIDE2NywgOTksIDc0LCA2MiwgNDAsIDIzNCwgMTI4XSxcbiAgICAgICAgICBbNDEsIDUzLCA5LCAxNzgsIDI0MSwgMTQxLCAyNiwgOCwgMTA3XSxcbiAgICAgICAgICBbNzQsIDQzLCAyNiwgMTQ2LCA3MywgMTY2LCA0OSwgMjMsIDE1N10sXG4gICAgICAgICAgWzY1LCAzOCwgMTA1LCAxNjAsIDUxLCA1MiwgMzEsIDExNSwgMTI4XSxcbiAgICAgICAgICBbMTA0LCA3OSwgMTIsIDI3LCAyMTcsIDI1NSwgODcsIDE3LCA3XSxcbiAgICAgICAgICBbODcsIDY4LCA3MSwgNDQsIDExNCwgNTEsIDE1LCAxODYsIDIzXSxcbiAgICAgICAgICBbNDcsIDQxLCAxNCwgMTEwLCAxODIsIDE4MywgMjEsIDE3LCAxOTRdLFxuICAgICAgICAgIFs2NiwgNDUsIDI1LCAxMDIsIDE5NywgMTg5LCAyMywgMTgsIDIyXVxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgWzg4LCA4OCwgMTQ3LCAxNTAsIDQyLCA0NiwgNDUsIDE5NiwgMjA1XSxcbiAgICAgICAgICBbNDMsIDk3LCAxODMsIDExNywgODUsIDM4LCAzNSwgMTc5LCA2MV0sXG4gICAgICAgICAgWzM5LCA1MywgMjAwLCA4NywgMjYsIDIxLCA0MywgMjMyLCAxNzFdLFxuICAgICAgICAgIFs1NiwgMzQsIDUxLCAxMDQsIDExNCwgMTAyLCAyOSwgOTMsIDc3XSxcbiAgICAgICAgICBbMzksIDI4LCA4NSwgMTcxLCA1OCwgMTY1LCA5MCwgOTgsIDY0XSxcbiAgICAgICAgICBbMzQsIDIyLCAxMTYsIDIwNiwgMjMsIDM0LCA0MywgMTY2LCA3M10sXG4gICAgICAgICAgWzEwNywgNTQsIDMyLCAyNiwgNTEsIDEsIDgxLCA0MywgMzFdLFxuICAgICAgICAgIFs2OCwgMjUsIDEwNiwgMjIsIDY0LCAxNzEsIDM2LCAyMjUsIDExNF0sXG4gICAgICAgICAgWzM0LCAxOSwgMjEsIDEwMiwgMTMyLCAxODgsIDE2LCA3NiwgMTI0XSxcbiAgICAgICAgICBbNjIsIDE4LCA3OCwgOTUsIDg1LCA1NywgNTAsIDQ4LCA1MV1cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFsxOTMsIDEwMSwgMzUsIDE1OSwgMjE1LCAxMTEsIDg5LCA0NiwgMTExXSxcbiAgICAgICAgICBbNjAsIDE0OCwgMzEsIDE3MiwgMjE5LCAyMjgsIDIxLCAxOCwgMTExXSxcbiAgICAgICAgICBbMTEyLCAxMTMsIDc3LCA4NSwgMTc5LCAyNTUsIDM4LCAxMjAsIDExNF0sXG4gICAgICAgICAgWzQwLCA0MiwgMSwgMTk2LCAyNDUsIDIwOSwgMTAsIDI1LCAxMDldLFxuICAgICAgICAgIFs4OCwgNDMsIDI5LCAxNDAsIDE2NiwgMjEzLCAzNywgNDMsIDE1NF0sXG4gICAgICAgICAgWzYxLCA2MywgMzAsIDE1NSwgNjcsIDQ1LCA2OCwgMSwgMjA5XSxcbiAgICAgICAgICBbMTAwLCA4MCwgOCwgNDMsIDE1NCwgMSwgNTEsIDI2LCA3MV0sXG4gICAgICAgICAgWzE0MiwgNzgsIDc4LCAxNiwgMjU1LCAxMjgsIDM0LCAxOTcsIDE3MV0sXG4gICAgICAgICAgWzQxLCA0MCwgNSwgMTAyLCAyMTEsIDE4MywgNCwgMSwgMjIxXSxcbiAgICAgICAgICBbNTEsIDUwLCAxNywgMTY4LCAyMDksIDE5MiwgMjMsIDI1LCA4Ml1cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFsxMzgsIDMxLCAzNiwgMTcxLCAyNywgMTY2LCAzOCwgNDQsIDIyOV0sXG4gICAgICAgICAgWzY3LCA4NywgNTgsIDE2OSwgODIsIDExNSwgMjYsIDU5LCAxNzldLFxuICAgICAgICAgIFs2MywgNTksIDkwLCAxODAsIDU5LCAxNjYsIDkzLCA3MywgMTU0XSxcbiAgICAgICAgICBbNDAsIDQwLCAyMSwgMTE2LCAxNDMsIDIwOSwgMzQsIDM5LCAxNzVdLFxuICAgICAgICAgIFs0NywgMTUsIDE2LCAxODMsIDM0LCAyMjMsIDQ5LCA0NSwgMTgzXSxcbiAgICAgICAgICBbNDYsIDE3LCAzMywgMTgzLCA2LCA5OCwgMTUsIDMyLCAxODNdLFxuICAgICAgICAgIFs1NywgNDYsIDIyLCAyNCwgMTI4LCAxLCA1NCwgMTcsIDM3XSxcbiAgICAgICAgICBbNjUsIDMyLCA3MywgMTE1LCAyOCwgMTI4LCAyMywgMTI4LCAyMDVdLFxuICAgICAgICAgIFs0MCwgMywgOSwgMTE1LCA1MSwgMTkyLCAxOCwgNiwgMjIzXSxcbiAgICAgICAgICBbODcsIDM3LCA5LCAxMTUsIDU5LCA3NywgNjQsIDIxLCA0N11cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFsxMDQsIDU1LCA0NCwgMjE4LCA5LCA1NCwgNTMsIDEzMCwgMjI2XSxcbiAgICAgICAgICBbNjQsIDkwLCA3MCwgMjA1LCA0MCwgNDEsIDIzLCAyNiwgNTddLFxuICAgICAgICAgIFs1NCwgNTcsIDExMiwgMTg0LCA1LCA0MSwgMzgsIDE2NiwgMjEzXSxcbiAgICAgICAgICBbMzAsIDM0LCAyNiwgMTMzLCAxNTIsIDExNiwgMTAsIDMyLCAxMzRdLFxuICAgICAgICAgIFszOSwgMTksIDUzLCAyMjEsIDI2LCAxMTQsIDMyLCA3MywgMjU1XSxcbiAgICAgICAgICBbMzEsIDksIDY1LCAyMzQsIDIsIDE1LCAxLCAxMTgsIDczXSxcbiAgICAgICAgICBbNzUsIDMyLCAxMiwgNTEsIDE5MiwgMjU1LCAxNjAsIDQzLCA1MV0sXG4gICAgICAgICAgWzg4LCAzMSwgMzUsIDY3LCAxMDIsIDg1LCA1NSwgMTg2LCA4NV0sXG4gICAgICAgICAgWzU2LCAyMSwgMjMsIDExMSwgNTksIDIwNSwgNDUsIDM3LCAxOTJdLFxuICAgICAgICAgIFs1NSwgMzgsIDcwLCAxMjQsIDczLCAxMDIsIDEsIDM0LCA5OF1cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFsxMjUsIDk4LCA0MiwgODgsIDEwNCwgODUsIDExNywgMTc1LCA4Ml0sXG4gICAgICAgICAgWzk1LCA4NCwgNTMsIDg5LCAxMjgsIDEwMCwgMTEzLCAxMDEsIDQ1XSxcbiAgICAgICAgICBbNzUsIDc5LCAxMjMsIDQ3LCA1MSwgMTI4LCA4MSwgMTcxLCAxXSxcbiAgICAgICAgICBbNTcsIDE3LCA1LCA3MSwgMTAyLCA1NywgNTMsIDQxLCA0OV0sXG4gICAgICAgICAgWzM4LCAzMywgMTMsIDEyMSwgNTcsIDczLCAyNiwgMSwgODVdLFxuICAgICAgICAgIFs0MSwgMTAsIDY3LCAxMzgsIDc3LCAxMTAsIDkwLCA0NywgMTE0XSxcbiAgICAgICAgICBbMTE1LCAyMSwgMiwgMTAsIDEwMiwgMjU1LCAxNjYsIDIzLCA2XSxcbiAgICAgICAgICBbMTAxLCAyOSwgMTYsIDEwLCA4NSwgMTI4LCAxMDEsIDE5NiwgMjZdLFxuICAgICAgICAgIFs1NywgMTgsIDEwLCAxMDIsIDEwMiwgMjEzLCAzNCwgMjAsIDQzXSxcbiAgICAgICAgICBbMTE3LCAyMCwgMTUsIDM2LCAxNjMsIDEyOCwgNjgsIDEsIDI2XVxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgWzEwMiwgNjEsIDcxLCAzNywgMzQsIDUzLCAzMSwgMjQzLCAxOTJdLFxuICAgICAgICAgIFs2OSwgNjAsIDcxLCAzOCwgNzMsIDExOSwgMjgsIDIyMiwgMzddLFxuICAgICAgICAgIFs2OCwgNDUsIDEyOCwgMzQsIDEsIDQ3LCAxMSwgMjQ1LCAxNzFdLFxuICAgICAgICAgIFs2MiwgMTcsIDE5LCA3MCwgMTQ2LCA4NSwgNTUsIDYyLCA3MF0sXG4gICAgICAgICAgWzM3LCA0MywgMzcsIDE1NCwgMTAwLCAxNjMsIDg1LCAxNjAsIDFdLFxuICAgICAgICAgIFs2MywgOSwgOTIsIDEzNiwgMjgsIDY0LCAzMiwgMjAxLCA4NV0sXG4gICAgICAgICAgWzc1LCAxNSwgOSwgOSwgNjQsIDI1NSwgMTg0LCAxMTksIDE2XSxcbiAgICAgICAgICBbODYsIDYsIDI4LCA1LCA2NCwgMjU1LCAyNSwgMjQ4LCAxXSxcbiAgICAgICAgICBbNTYsIDgsIDE3LCAxMzIsIDEzNywgMjU1LCA1NSwgMTE2LCAxMjhdLFxuICAgICAgICAgIFs1OCwgMTUsIDIwLCA4MiwgMTM1LCA1NywgMjYsIDEyMSwgNDBdXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBbMTY0LCA1MCwgMzEsIDEzNywgMTU0LCAxMzMsIDI1LCAzNSwgMjE4XSxcbiAgICAgICAgICBbNTEsIDEwMywgNDQsIDEzMSwgMTMxLCAxMjMsIDMxLCA2LCAxNThdLFxuICAgICAgICAgIFs4NiwgNDAsIDY0LCAxMzUsIDE0OCwgMjI0LCA0NSwgMTgzLCAxMjhdLFxuICAgICAgICAgIFsyMiwgMjYsIDE3LCAxMzEsIDI0MCwgMTU0LCAxNCwgMSwgMjA5XSxcbiAgICAgICAgICBbNDUsIDE2LCAyMSwgOTEsIDY0LCAyMjIsIDcsIDEsIDE5N10sXG4gICAgICAgICAgWzU2LCAyMSwgMzksIDE1NSwgNjAsIDEzOCwgMjMsIDEwMiwgMjEzXSxcbiAgICAgICAgICBbODMsIDEyLCAxMywgNTQsIDE5MiwgMjU1LCA2OCwgNDcsIDI4XSxcbiAgICAgICAgICBbODUsIDI2LCA4NSwgODUsIDEyOCwgMTI4LCAzMiwgMTQ2LCAxNzFdLFxuICAgICAgICAgIFsxOCwgMTEsIDcsIDYzLCAxNDQsIDE3MSwgNCwgNCwgMjQ2XSxcbiAgICAgICAgICBbMzUsIDI3LCAxMCwgMTQ2LCAxNzQsIDE3MSwgMTIsIDI2LCAxMjhdXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBbMTkwLCA4MCwgMzUsIDk5LCAxODAsIDgwLCAxMjYsIDU0LCA0NV0sXG4gICAgICAgICAgWzg1LCAxMjYsIDQ3LCA4NywgMTc2LCA1MSwgNDEsIDIwLCAzMl0sXG4gICAgICAgICAgWzEwMSwgNzUsIDEyOCwgMTM5LCAxMTgsIDE0NiwgMTE2LCAxMjgsIDg1XSxcbiAgICAgICAgICBbNTYsIDQxLCAxNSwgMTc2LCAyMzYsIDg1LCAzNywgOSwgNjJdLFxuICAgICAgICAgIFs3MSwgMzAsIDE3LCAxMTksIDExOCwgMjU1LCAxNywgMTgsIDEzOF0sXG4gICAgICAgICAgWzEwMSwgMzgsIDYwLCAxMzgsIDU1LCA3MCwgNDMsIDI2LCAxNDJdLFxuICAgICAgICAgIFsxNDYsIDM2LCAxOSwgMzAsIDE3MSwgMjU1LCA5NywgMjcsIDIwXSxcbiAgICAgICAgICBbMTM4LCA0NSwgNjEsIDYyLCAyMTksIDEsIDgxLCAxODgsIDY0XSxcbiAgICAgICAgICBbMzIsIDQxLCAyMCwgMTE3LCAxNTEsIDE0MiwgMjAsIDIxLCAxNjNdLFxuICAgICAgICAgIFsxMTIsIDE5LCAxMiwgNjEsIDE5NSwgMTI4LCA0OCwgNCwgMjRdXG4gICAgICAgIF1cbiAgICAgIF0sXG4gICAgICBFZSA9IFtcbiAgICAgICAgW1xuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzE3NiwgMjQ2LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyMjMsIDI0MSwgMjUyLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjQ5LCAyNTMsIDI1MywgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNDQsIDI1MiwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzIzNCwgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTMsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI0NiwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjM5LCAyNTMsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NCwgMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjQ4LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTEsIDI1NSwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTMsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1MSwgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTQsIDI1NSwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1NCwgMjUzLCAyNTUsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjUwLCAyNTUsIDI1NCwgMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXVxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzIxNywgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyMjUsIDI1MiwgMjQxLCAyNTMsIDI1NSwgMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjM0LCAyNTAsIDI0MSwgMjUwLCAyNTMsIDI1NSwgMjUzLCAyNTQsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzIyMywgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyMzgsIDI1MywgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI0OCwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjQ5LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjUzLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNDcsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTMsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1MiwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1NCwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjUzLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjU0LCAyNTMsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTAsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMTg2LCAyNTEsIDI1MCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzIzNCwgMjUxLCAyNDQsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTEsIDI1MSwgMjQzLCAyNTMsIDI1NCwgMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1MywgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjM2LCAyNTMsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1MSwgMjUzLCAyNTMsIDI1NCwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTQsIDI1NCwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NCwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF1cbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNDgsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjUwLCAyNTQsIDI1MiwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI0OCwgMjU0LCAyNDksIDI1MywgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjUzLCAyNTMsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNDYsIDI1MywgMjUzLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjUyLCAyNTQsIDI1MSwgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTQsIDI1MiwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI0OCwgMjU0LCAyNTMsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTMsIDI1NSwgMjU0LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1MSwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjQ1LCAyNTEsIDI1NCwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1MywgMjUzLCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjUxLCAyNTMsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTIsIDI1MywgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBbMjU1LCAyNTIsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI0OSwgMjU1LCAyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjU0LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFsyNTUsIDI1NSwgMjUzLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjUwLCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdLFxuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XVxuICAgICAgICAgIF0sXG4gICAgICAgICAgW1xuICAgICAgICAgICAgWzI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1XSxcbiAgICAgICAgICAgIFsyNTQsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgICAgICBbMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTUsIDI1NSwgMjU1LCAyNTVdXG4gICAgICAgICAgXVxuICAgICAgICBdXG4gICAgICBdLFxuICAgICAgR2UgPSBbMCwgMSwgMiwgMywgNiwgNCwgNSwgNiwgNiwgNiwgNiwgNiwgNiwgNiwgNiwgNywgMF0sXG4gICAgICBOYyxcbiAgICAgIFkgPSBbXSxcbiAgICAgIFcgPSBbXSxcbiAgICAgIGthID0gW10sXG4gICAgICBaYSxcbiAgICAgIGZkLFxuICAgICAgTmIsXG4gICAgICBwYSxcbiAgICAgIE9iLFxuICAgICAgWGMsXG4gICAgICBUYyxcbiAgICAgIFljLFxuICAgICAgVWMsXG4gICAgICBaYyxcbiAgICAgIFZjLFxuICAgICAgJGMsXG4gICAgICBXYyxcbiAgICAgIFJjLFxuICAgICAgUGMsXG4gICAgICBTYyxcbiAgICAgIFFjLFxuICAgICAgcmUgPSAxLFxuICAgICAgQ2MgPSAyLFxuICAgICAgaWEgPSBbXSxcbiAgICAgIHphLFxuICAgICAgdmMsXG4gICAgICBmYyxcbiAgICAgIEZjLFxuICAgICAgUCA9IFtdO1xuICAgIHZhKFwiVXBzYW1wbGVSZ2JMaW5lUGFpclwiLCBHYSwgMyk7XG4gICAgdmEoXCJVcHNhbXBsZUJnckxpbmVQYWlyXCIsIFRiLCAzKTtcbiAgICB2YShcIlVwc2FtcGxlUmdiYUxpbmVQYWlyXCIsIHdkLCA0KTtcbiAgICB2YShcIlVwc2FtcGxlQmdyYUxpbmVQYWlyXCIsIHZkLCA0KTtcbiAgICB2YShcIlVwc2FtcGxlQXJnYkxpbmVQYWlyXCIsIHVkLCA0KTtcbiAgICB2YShcIlVwc2FtcGxlUmdiYTQ0NDRMaW5lUGFpclwiLCB0ZCwgMik7XG4gICAgdmEoXCJVcHNhbXBsZVJnYjU2NUxpbmVQYWlyXCIsIHNkLCAyKTtcbiAgICB2YXIgTWYgPSBzZWxmLlVwc2FtcGxlUmdiTGluZVBhaXIsXG4gICAgICBOZiA9IHNlbGYuVXBzYW1wbGVCZ3JMaW5lUGFpcixcbiAgICAgIG5kID0gc2VsZi5VcHNhbXBsZVJnYmFMaW5lUGFpcixcbiAgICAgIG9kID0gc2VsZi5VcHNhbXBsZUJncmFMaW5lUGFpcixcbiAgICAgIHBkID0gc2VsZi5VcHNhbXBsZUFyZ2JMaW5lUGFpcixcbiAgICAgIHFkID0gc2VsZi5VcHNhbXBsZVJnYmE0NDQ0TGluZVBhaXIsXG4gICAgICBPZiA9IHNlbGYuVXBzYW1wbGVSZ2I1NjVMaW5lUGFpcixcbiAgICAgIFdhID0gMTYsXG4gICAgICBCYSA9IDEgPDwgKFdhIC0gMSksXG4gICAgICB0YSA9IC0yMjcsXG4gICAgICBFYiA9IDQ4MixcbiAgICAgIHJkID0gNixcbiAgICAgIFBmID0gKDI1NiA8PCByZCkgLSAxLFxuICAgICAgamMgPSAwLFxuICAgICAgWWQgPSBWKDI1NiksXG4gICAgICBhZSA9IFYoMjU2KSxcbiAgICAgICRkID0gVigyNTYpLFxuICAgICAgWmQgPSBWKDI1NiksXG4gICAgICBiZSA9IFYoRWIgLSB0YSksXG4gICAgICBjZSA9IFYoRWIgLSB0YSk7XG4gICAgbGEoXCJZdXZUb1JnYlJvd1wiLCBHYSwgMyk7XG4gICAgbGEoXCJZdXZUb0JnclJvd1wiLCBUYiwgMyk7XG4gICAgbGEoXCJZdXZUb1JnYmFSb3dcIiwgd2QsIDQpO1xuICAgIGxhKFwiWXV2VG9CZ3JhUm93XCIsIHZkLCA0KTtcbiAgICBsYShcIll1dlRvQXJnYlJvd1wiLCB1ZCwgNCk7XG4gICAgbGEoXCJZdXZUb1JnYmE0NDQ0Um93XCIsIHRkLCAyKTtcbiAgICBsYShcIll1dlRvUmdiNTY1Um93XCIsIHNkLCAyKTtcbiAgICB2YXIgemQgPSBbXG4gICAgICAgIDAsXG4gICAgICAgIDQsXG4gICAgICAgIDgsXG4gICAgICAgIDEyLFxuICAgICAgICAxMjgsXG4gICAgICAgIDEzMixcbiAgICAgICAgMTM2LFxuICAgICAgICAxNDAsXG4gICAgICAgIDI1NixcbiAgICAgICAgMjYwLFxuICAgICAgICAyNjQsXG4gICAgICAgIDI2OCxcbiAgICAgICAgMzg0LFxuICAgICAgICAzODgsXG4gICAgICAgIDM5MixcbiAgICAgICAgMzk2XG4gICAgICBdLFxuICAgICAgWWEgPSBbMCwgMiwgOF0sXG4gICAgICBRZiA9IFs4LCA3LCA2LCA0LCA0LCAyLCAyLCAyLCAxLCAxLCAxLCAxXSxcbiAgICAgIE5lID0gMTtcbiAgICB0aGlzLldlYlBEZWNvZGVSR0JBID0gZnVuY3Rpb24oYSwgYiwgYywgZCwgZSkge1xuICAgICAgdmFyIGYgPSBVYTtcbiAgICAgIHZhciBnID0gbmV3IENmKCksXG4gICAgICAgIGggPSBuZXcgQ2IoKTtcbiAgICAgIGcuYmEgPSBoO1xuICAgICAgaC5TID0gZjtcbiAgICAgIGgud2lkdGggPSBbaC53aWR0aF07XG4gICAgICBoLmhlaWdodCA9IFtoLmhlaWdodF07XG4gICAgICB2YXIgayA9IGgud2lkdGg7XG4gICAgICB2YXIgbCA9IGguaGVpZ2h0LFxuICAgICAgICBtID0gbmV3IFRkKCk7XG4gICAgICBpZiAobnVsbCA9PSBtIHx8IG51bGwgPT0gYSkgdmFyIG4gPSAyO1xuICAgICAgZWxzZVxuICAgICAgICB4KG51bGwgIT0gbSksXG4gICAgICAgICAgKG4gPSBBZChhLCBiLCBjLCBtLndpZHRoLCBtLmhlaWdodCwgbS5QZCwgbS5RZCwgbS5mb3JtYXQsIG51bGwpKTtcbiAgICAgIDAgIT0gblxuICAgICAgICA/IChrID0gMClcbiAgICAgICAgOiAobnVsbCAhPSBrICYmIChrWzBdID0gbS53aWR0aFswXSksXG4gICAgICAgICAgbnVsbCAhPSBsICYmIChsWzBdID0gbS5oZWlnaHRbMF0pLFxuICAgICAgICAgIChrID0gMSkpO1xuICAgICAgaWYgKGspIHtcbiAgICAgICAgaC53aWR0aCA9IGgud2lkdGhbMF07XG4gICAgICAgIGguaGVpZ2h0ID0gaC5oZWlnaHRbMF07XG4gICAgICAgIG51bGwgIT0gZCAmJiAoZFswXSA9IGgud2lkdGgpO1xuICAgICAgICBudWxsICE9IGUgJiYgKGVbMF0gPSBoLmhlaWdodCk7XG4gICAgICAgIGI6IHtcbiAgICAgICAgICBkID0gbmV3IE9hKCk7XG4gICAgICAgICAgZSA9IG5ldyBtZCgpO1xuICAgICAgICAgIGUuZGF0YSA9IGE7XG4gICAgICAgICAgZS53ID0gYjtcbiAgICAgICAgICBlLmhhID0gYztcbiAgICAgICAgICBlLmtkID0gMTtcbiAgICAgICAgICBiID0gWzBdO1xuICAgICAgICAgIHgobnVsbCAhPSBlKTtcbiAgICAgICAgICBhID0gQWQoZS5kYXRhLCBlLncsIGUuaGEsIG51bGwsIG51bGwsIG51bGwsIGIsIG51bGwsIGUpO1xuICAgICAgICAgICgwID09IGEgfHwgNyA9PSBhKSAmJiBiWzBdICYmIChhID0gNCk7XG4gICAgICAgICAgYiA9IGE7XG4gICAgICAgICAgaWYgKDAgPT0gYikge1xuICAgICAgICAgICAgeChudWxsICE9IGcpO1xuICAgICAgICAgICAgZC5kYXRhID0gZS5kYXRhO1xuICAgICAgICAgICAgZC53ID0gZS53ICsgZS5vZmZzZXQ7XG4gICAgICAgICAgICBkLmhhID0gZS5oYSAtIGUub2Zmc2V0O1xuICAgICAgICAgICAgZC5wdXQgPSBrYztcbiAgICAgICAgICAgIGQuYWMgPSBnYztcbiAgICAgICAgICAgIGQuYmMgPSBsYztcbiAgICAgICAgICAgIGQubWEgPSBnO1xuICAgICAgICAgICAgaWYgKGUueGEpIHtcbiAgICAgICAgICAgICAgYSA9IEJjKCk7XG4gICAgICAgICAgICAgIGlmIChudWxsID09IGEpIHtcbiAgICAgICAgICAgICAgICBnID0gMTtcbiAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0ZShhLCBkKSkge1xuICAgICAgICAgICAgICAgIGIgPSBDZChkLndpZHRoLCBkLmhlaWdodCwgZy5PYSwgZy5iYSk7XG4gICAgICAgICAgICAgICAgaWYgKChkID0gMCA9PSBiKSkge1xuICAgICAgICAgICAgICAgICAgYzoge1xuICAgICAgICAgICAgICAgICAgICBkID0gYTtcbiAgICAgICAgICAgICAgICAgICAgZDogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09IGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgeChudWxsICE9IGQucy55Yyk7XG4gICAgICAgICAgICAgICAgICAgICAgeChudWxsICE9IGQucy5ZYSk7XG4gICAgICAgICAgICAgICAgICAgICAgeCgwIDwgZC5zLldiKTtcbiAgICAgICAgICAgICAgICAgICAgICBjID0gZC5sO1xuICAgICAgICAgICAgICAgICAgICAgIHgobnVsbCAhPSBjKTtcbiAgICAgICAgICAgICAgICAgICAgICBlID0gYy5tYTtcbiAgICAgICAgICAgICAgICAgICAgICB4KG51bGwgIT0gZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKDAgIT0gZC54Yikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5jYSA9IGUuYmE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnRiID0gZS50YjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgobnVsbCAhPSBkLmNhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGMoZS5PYSwgYywgVmEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGQuYSA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUVjKGQsIGMud2lkdGgpKSBicmVhayBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMuZGEpIGJyZWFrIGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAoYy5kYSB8fCBoYihkLmNhLlMpKSAmJiBBYSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgMTEgPiBkLmNhLlMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGFsZXJ0KFwidG9kbzpXZWJQSW5pdENvbnZlcnRBUkdCVG9ZVVZcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT0gZC5jYS5mLmtiLkYgJiYgQWEoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGQuUGIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMCA8IGQucy51YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IGQucy52Yi5YICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFaYihkLnMudmIsIGQucy5XYS5YYSlcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkLmEgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZC54YiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmICghSmIoZCwgZC5WLCBkLkJhLCBkLmMsIGQuaSwgYy5vLCBnZSkpIGJyZWFrIGQ7XG4gICAgICAgICAgICAgICAgICAgICAgZS5EYyA9IGQuTWE7XG4gICAgICAgICAgICAgICAgICAgICAgZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB4KDAgIT0gZC5hKTtcbiAgICAgICAgICAgICAgICAgICAgZCA9IDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBkID0gIWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGQgJiYgKGIgPSBhLmEpO1xuICAgICAgICAgICAgICB9IGVsc2UgYiA9IGEuYTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGEgPSBuZXcgQ2UoKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT0gYSkge1xuICAgICAgICAgICAgICAgIGcgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYS5GYSA9IGUubmE7XG4gICAgICAgICAgICAgIGEuUCA9IGUuUDtcbiAgICAgICAgICAgICAgYS5xYyA9IGUuU2E7XG4gICAgICAgICAgICAgIGlmIChLYyhhLCBkKSkge1xuICAgICAgICAgICAgICAgIGlmICgoKGIgPSBDZChkLndpZHRoLCBkLmhlaWdodCwgZy5PYSwgZy5iYSkpLCAwID09IGIpKSB7XG4gICAgICAgICAgICAgICAgICBhLkFhID0gMDtcbiAgICAgICAgICAgICAgICAgIGMgPSBnLk9hO1xuICAgICAgICAgICAgICAgICAgZSA9IGE7XG4gICAgICAgICAgICAgICAgICB4KG51bGwgIT0gZSk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBjKSB7XG4gICAgICAgICAgICAgICAgICAgIGsgPSBjLk1kO1xuICAgICAgICAgICAgICAgICAgICBrID0gMCA+IGsgPyAwIDogMTAwIDwgayA/IDI1NSA6ICgyNTUgKiBrKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgPCBrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yIChsID0gbSA9IDA7IDQgPiBsOyArK2wpXG4gICAgICAgICAgICAgICAgICAgICAgICAobiA9IGUucGJbbF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAxMiA+IG4ubGMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobi5pYSA9IChrICogUWZbMCA+IG4ubGMgPyAwIDogbi5sY10pID4+IDMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAobSB8PSBuLmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICBtICYmIChhbGVydChcInRvZG86VlA4SW5pdFJhbmRvbVwiKSwgKGUuaWEgPSAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZS5HYSA9IGMuSWQ7XG4gICAgICAgICAgICAgICAgICAgIDEwMCA8IGUuR2EgPyAoZS5HYSA9IDEwMCkgOiAwID4gZS5HYSAmJiAoZS5HYSA9IDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgTWUoYSwgZCkgfHwgKGIgPSBhLmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGIgPSBhLmE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAwID09IGIgJiYgbnVsbCAhPSBnLk9hICYmIGcuT2EuZmQgJiYgKGIgPSBCZChnLmJhKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGcgPSBiO1xuICAgICAgICB9XG4gICAgICAgIGYgPSAwICE9IGcgPyBudWxsIDogMTEgPiBmID8gaC5mLlJHQkEuZWIgOiBoLmYua2IueTtcbiAgICAgIH0gZWxzZSBmID0gbnVsbDtcbiAgICAgIHJldHVybiBmO1xuICAgIH07XG4gICAgdmFyIERkID0gWzMsIDQsIDMsIDQsIDQsIDIsIDIsIDQsIDQsIDQsIDIsIDEsIDFdO1xuICB9O1xuICBuZXcgX1dlYlBEZWNvZGVyKCk7XG5cbiAgLyoqIEBsaWNlbnNlXG4gICAqIENvcHlyaWdodCAoYykgMjAxNyBEb21pbmlrIEhvbWJlcmdlclxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmh0dHBzOi8vd2VicGpzLmFwcHNwb3QuY29tXG5XZWJQUmlmZlBhcnNlciBkb21pbmlraGxiZ0BnbWFpbC5jb21cbiovXG5cbiAgZnVuY3Rpb24gbWVtY21wKGRhdGEsIGRhdGFfb2ZmLCBzdHIsIHNpemUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKylcbiAgICAgIGlmIChkYXRhW2RhdGFfb2ZmICsgaV0gIT0gc3RyLmNoYXJDb2RlQXQoaSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdldFRhZyhkYXRhLCBkYXRhX29mZikge1xuICAgIHZhciBzdHIgPSBcIlwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhW2RhdGFfb2ZmKytdKTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgZnVuY3Rpb24gR2V0TEUxNihkYXRhLCBkYXRhX29mZikge1xuICAgIHJldHVybiAoZGF0YVtkYXRhX29mZiArIDBdIDw8IDApIHwgKGRhdGFbZGF0YV9vZmYgKyAxXSA8PCA4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdldExFMjQoZGF0YSwgZGF0YV9vZmYpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKChkYXRhW2RhdGFfb2ZmICsgMF0gPDwgMCkgfFxuICAgICAgICAoZGF0YVtkYXRhX29mZiArIDFdIDw8IDgpIHxcbiAgICAgICAgKGRhdGFbZGF0YV9vZmYgKyAyXSA8PCAxNikpID4+PlxuICAgICAgMFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBHZXRMRTMyKGRhdGEsIGRhdGFfb2ZmKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICgoZGF0YVtkYXRhX29mZiArIDBdIDw8IDApIHxcbiAgICAgICAgKGRhdGFbZGF0YV9vZmYgKyAxXSA8PCA4KSB8XG4gICAgICAgIChkYXRhW2RhdGFfb2ZmICsgMl0gPDwgMTYpIHxcbiAgICAgICAgKGRhdGFbZGF0YV9vZmYgKyAzXSA8PCAyNCkpID4+PlxuICAgICAgMFxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBXZWJQUmlmZlBhcnNlcihzcmMsIHNyY19vZmYpIHtcbiAgICB2YXIgaW1hZ2VhcnJheSA9IHt9O1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgYWxwaGFfY2h1bmsgPSBmYWxzZTtcbiAgICB2YXIgYWxwaGFfc2l6ZSA9IDA7XG4gICAgdmFyIGFscGhhX29mZnNldCA9IDA7XG4gICAgaW1hZ2VhcnJheVtcImZyYW1lc1wiXSA9IFtdO1xuICAgIGlmIChtZW1jbXAoc3JjLCBzcmNfb2ZmLCBcIlJJRkZcIiwgNCkpIHJldHVybjtcbiAgICBzcmNfb2ZmICs9IDQ7XG4gICAgdmFyIHJpZmZfc2l6ZSA9IEdldExFMzIoc3JjLCBzcmNfb2ZmKSArIDg7XG4gICAgc3JjX29mZiArPSA4O1xuXG4gICAgd2hpbGUgKHNyY19vZmYgPCBzcmMubGVuZ3RoKSB7XG4gICAgICB2YXIgZm91cmNjID0gR2V0VGFnKHNyYywgc3JjX29mZik7XG4gICAgICBzcmNfb2ZmICs9IDQ7XG5cbiAgICAgIHZhciBwYXlsb2FkX3NpemUgPSBHZXRMRTMyKHNyYywgc3JjX29mZik7XG4gICAgICBzcmNfb2ZmICs9IDQ7XG4gICAgICB2YXIgcGF5bG9hZF9zaXplX3BhZGRlZCA9IHBheWxvYWRfc2l6ZSArIChwYXlsb2FkX3NpemUgJiAxKTtcblxuICAgICAgc3dpdGNoIChmb3VyY2MpIHtcbiAgICAgICAgY2FzZSBcIlZQOCBcIjpcbiAgICAgICAgY2FzZSBcIlZQOExcIjpcbiAgICAgICAgICBpZiAodHlwZW9mIGltYWdlYXJyYXlbXCJmcmFtZXNcIl1baV0gPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICBpbWFnZWFycmF5W1wiZnJhbWVzXCJdW2ldID0ge307XG4gICAgICAgICAgdmFyIG9iaiA9IGltYWdlYXJyYXlbXCJmcmFtZXNcIl1baV07XG4gICAgICAgICAgdmFyIGhlaWdodCA9IFswXTtcbiAgICAgICAgICB2YXIgd2lkdGggPSBbMF07XG4gICAgICAgICAgb2JqW1wic3JjX29mZlwiXSA9IGFscGhhX2NodW5rID8gYWxwaGFfb2Zmc2V0IDogc3JjX29mZiAtIDg7XG4gICAgICAgICAgb2JqW1wic3JjX3NpemVcIl0gPSBhbHBoYV9zaXplICsgcGF5bG9hZF9zaXplICsgODtcbiAgICAgICAgICAvL3ZhciByZ2JhID0gd2VicGRlY29kZXIuV2ViUERlY29kZVJHQkEoc3JjLChhbHBoYV9jaHVuaz9hbHBoYV9vZmZzZXQ6c3JjX29mZi04KSxhbHBoYV9zaXplK3BheWxvYWRfc2l6ZSs4LHdpZHRoLGhlaWdodCk7XG4gICAgICAgICAgLy9pbWFnZWFycmF5W2ldPXsncmdiYSc6cmdiYSwnd2lkdGgnOndpZHRoWzBdLCdoZWlnaHQnOmhlaWdodFswXX07XG4gICAgICAgICAgaSsrO1xuICAgICAgICAgIGlmIChhbHBoYV9jaHVuaykge1xuICAgICAgICAgICAgYWxwaGFfY2h1bmsgPSBmYWxzZTtcbiAgICAgICAgICAgIGFscGhhX3NpemUgPSAwO1xuICAgICAgICAgICAgYWxwaGFfb2Zmc2V0ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJWUDhYXCI6XG4gICAgICAgICAgdmFyIG9iaiA9IChpbWFnZWFycmF5W1wiaGVhZGVyXCJdID0ge30pO1xuICAgICAgICAgIHZhciBmZWF0dXJlX2ZsYWdzID0gKG9ialtcImZlYXR1cmVfZmxhZ3NcIl0gPSBzcmNbc3JjX29mZl0pO1xuICAgICAgICAgIHZhciBzcmNfb2ZmXyA9IHNyY19vZmYgKyA0O1xuICAgICAgICAgIHZhciBjYW52YXNfd2lkdGggPSAob2JqW1wiY2FudmFzX3dpZHRoXCJdID0gMSArIEdldExFMjQoc3JjLCBzcmNfb2ZmXykpO1xuICAgICAgICAgIHNyY19vZmZfICs9IDM7XG4gICAgICAgICAgdmFyIGNhbnZhc19oZWlnaHQgPSAob2JqW1wiY2FudmFzX2hlaWdodFwiXSA9XG4gICAgICAgICAgICAxICsgR2V0TEUyNChzcmMsIHNyY19vZmZfKSk7XG4gICAgICAgICAgc3JjX29mZl8gKz0gMztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkFMUEhcIjpcbiAgICAgICAgICBhbHBoYV9jaHVuayA9IHRydWU7XG4gICAgICAgICAgYWxwaGFfc2l6ZSA9IHBheWxvYWRfc2l6ZV9wYWRkZWQgKyA4O1xuICAgICAgICAgIGFscGhhX29mZnNldCA9IHNyY19vZmYgLSA4O1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJBTklNXCI6XG4gICAgICAgICAgdmFyIG9iaiA9IGltYWdlYXJyYXlbXCJoZWFkZXJcIl07XG4gICAgICAgICAgdmFyIGJnY29sb3IgPSAob2JqW1wiYmdjb2xvclwiXSA9IEdldExFMzIoc3JjLCBzcmNfb2ZmKSk7XG4gICAgICAgICAgc3JjX29mZl8gPSBzcmNfb2ZmICsgNDtcblxuICAgICAgICAgIHZhciBsb29wX2NvdW50ID0gKG9ialtcImxvb3BfY291bnRcIl0gPSBHZXRMRTE2KHNyYywgc3JjX29mZl8pKTtcbiAgICAgICAgICBzcmNfb2ZmXyArPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQU5NRlwiOlxuICAgICAgICAgIHZhciBvZmZzZXRfeCA9IDAsXG4gICAgICAgICAgICBvZmZzZXRfeSA9IDAsXG4gICAgICAgICAgICB3aWR0aCA9IDAsXG4gICAgICAgICAgICBoZWlnaHQgPSAwLFxuICAgICAgICAgICAgZHVyYXRpb24gPSAwLFxuICAgICAgICAgICAgYmxlbmQgPSAwLFxuICAgICAgICAgICAgZGlzcG9zZSA9IDAsXG4gICAgICAgICAgICB0ZW1wID0gMDtcbiAgICAgICAgICB2YXIgb2JqID0gKGltYWdlYXJyYXlbXCJmcmFtZXNcIl1baV0gPSB7fSk7XG4gICAgICAgICAgb2JqW1wib2Zmc2V0X3hcIl0gPSBvZmZzZXRfeCA9IDIgKiBHZXRMRTI0KHNyYywgc3JjX29mZik7XG4gICAgICAgICAgc3JjX29mZiArPSAzO1xuICAgICAgICAgIG9ialtcIm9mZnNldF95XCJdID0gb2Zmc2V0X3kgPSAyICogR2V0TEUyNChzcmMsIHNyY19vZmYpO1xuICAgICAgICAgIHNyY19vZmYgKz0gMztcbiAgICAgICAgICBvYmpbXCJ3aWR0aFwiXSA9IHdpZHRoID0gMSArIEdldExFMjQoc3JjLCBzcmNfb2ZmKTtcbiAgICAgICAgICBzcmNfb2ZmICs9IDM7XG4gICAgICAgICAgb2JqW1wiaGVpZ2h0XCJdID0gaGVpZ2h0ID0gMSArIEdldExFMjQoc3JjLCBzcmNfb2ZmKTtcbiAgICAgICAgICBzcmNfb2ZmICs9IDM7XG4gICAgICAgICAgb2JqW1wiZHVyYXRpb25cIl0gPSBkdXJhdGlvbiA9IEdldExFMjQoc3JjLCBzcmNfb2ZmKTtcbiAgICAgICAgICBzcmNfb2ZmICs9IDM7XG4gICAgICAgICAgdGVtcCA9IHNyY1tzcmNfb2ZmKytdO1xuICAgICAgICAgIG9ialtcImRpc3Bvc2VcIl0gPSBkaXNwb3NlID0gdGVtcCAmIDE7XG4gICAgICAgICAgb2JqW1wiYmxlbmRcIl0gPSBibGVuZCA9ICh0ZW1wID4+IDEpICYgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICAgIGlmIChmb3VyY2MgIT0gXCJBTk1GXCIpIHNyY19vZmYgKz0gcGF5bG9hZF9zaXplX3BhZGRlZDtcbiAgICB9XG4gICAgcmV0dXJuIGltYWdlYXJyYXk7XG4gIH1cblxuICB2YXIgaGVpZ2h0ID0gWzBdO1xuICB2YXIgd2lkdGggPSBbMF07XG4gIHZhciBwaXhlbHMgPSBbXTtcbiAgdmFyIHdlYnBkZWNvZGVyID0gbmV3IF9XZWJQRGVjb2RlcigpO1xuXG4gIHZhciByZXNwb25zZSA9IGltYWdlRGF0YTtcbiAgdmFyIGltYWdlYXJyYXkgPSBXZWJQUmlmZlBhcnNlcihyZXNwb25zZSwgMCk7XG4gIGltYWdlYXJyYXlbXCJyZXNwb25zZVwiXSA9IHJlc3BvbnNlO1xuICBpbWFnZWFycmF5W1wicmdiYW91dHB1dFwiXSA9IHRydWU7XG4gIGltYWdlYXJyYXlbXCJkYXRhdXJsXCJdID0gZmFsc2U7XG5cbiAgdmFyIGhlYWRlciA9IGltYWdlYXJyYXlbXCJoZWFkZXJcIl0gPyBpbWFnZWFycmF5W1wiaGVhZGVyXCJdIDogbnVsbDtcbiAgdmFyIGZyYW1lcyA9IGltYWdlYXJyYXlbXCJmcmFtZXNcIl0gPyBpbWFnZWFycmF5W1wiZnJhbWVzXCJdIDogbnVsbDtcblxuICBpZiAoaGVhZGVyKSB7XG4gICAgaGVhZGVyW1wibG9vcF9jb3VudGVyXCJdID0gaGVhZGVyW1wibG9vcF9jb3VudFwiXTtcbiAgICBoZWlnaHQgPSBbaGVhZGVyW1wiY2FudmFzX2hlaWdodFwiXV07XG4gICAgd2lkdGggPSBbaGVhZGVyW1wiY2FudmFzX3dpZHRoXCJdXTtcblxuICAgIHZhciBibGVuZCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGYgPSAwOyBmIDwgZnJhbWVzLmxlbmd0aDsgZisrKVxuICAgICAgaWYgKGZyYW1lc1tmXVtcImJsZW5kXCJdID09IDApIHtcbiAgICAgICAgYmxlbmQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuXG4gIHZhciBmcmFtZSA9IGZyYW1lc1swXTtcbiAgdmFyIHJnYmEgPSB3ZWJwZGVjb2Rlci5XZWJQRGVjb2RlUkdCQShcbiAgICByZXNwb25zZSxcbiAgICBmcmFtZVtcInNyY19vZmZcIl0sXG4gICAgZnJhbWVbXCJzcmNfc2l6ZVwiXSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgKTtcbiAgZnJhbWVbXCJyZ2JhXCJdID0gcmdiYTtcbiAgZnJhbWVbXCJpbWd3aWR0aFwiXSA9IHdpZHRoWzBdO1xuICBmcmFtZVtcImltZ2hlaWdodFwiXSA9IGhlaWdodFswXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdpZHRoWzBdICogaGVpZ2h0WzBdICogNDsgaSsrKSB7XG4gICAgcGl4ZWxzW2ldID0gcmdiYVtpXTtcbiAgfVxuXG4gIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIHRoaXMuZGF0YSA9IHBpeGVscztcbiAgcmV0dXJuIHRoaXM7XG59XG5cbldlYlBEZWNvZGVyLnByb3RvdHlwZS5nZXREYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmRhdGE7XG59O1xuXG5leHBvcnQgeyBXZWJQRGVjb2RlciB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNCBKYW1lcyBSb2JiLCBodHRwczovL2dpdGh1Yi5jb20vamFtZXNicm9iYlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4gKiBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gKiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFXG4gKiBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OXG4gKiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbiAqIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuaW1wb3J0IHsgemxpYlN5bmMgfSBmcm9tIFwiLi4vbGlicy9mZmxhdGUuanNcIjtcbmltcG9ydCB7IFBORyB9IGZyb20gXCIuLi9saWJzL3BuZy5qc1wiO1xuXG4vKipcbiAqIGpzUERGIFBORyBQbHVnSW5cbiAqIEBuYW1lIHBuZ19zdXBwb3J0XG4gKiBAbW9kdWxlXG4gKi9cbihmdW5jdGlvbihqc1BERkFQSSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvKlxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1BORy1DaHVua3MuaHRtbFxuICAgKlxuICAgQ29sb3IgICAgQWxsb3dlZCAgICAgIEludGVycHJldGF0aW9uXG4gICBUeXBlICAgICBCaXQgRGVwdGhzXG5cbiAgICAgMCAgICAgICAxLDIsNCw4LDE2ICBFYWNoIHBpeGVsIGlzIGEgZ3JheXNjYWxlIHNhbXBsZS5cblxuICAgICAyICAgICAgIDgsMTYgICAgICAgIEVhY2ggcGl4ZWwgaXMgYW4gUixHLEIgdHJpcGxlLlxuXG4gICAgIDMgICAgICAgMSwyLDQsOCAgICAgRWFjaCBwaXhlbCBpcyBhIHBhbGV0dGUgaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgYSBQTFRFIGNodW5rIG11c3QgYXBwZWFyLlxuXG4gICAgIDQgICAgICAgOCwxNiAgICAgICAgRWFjaCBwaXhlbCBpcyBhIGdyYXlzY2FsZSBzYW1wbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93ZWQgYnkgYW4gYWxwaGEgc2FtcGxlLlxuXG4gICAgIDYgICAgICAgOCwxNiAgICAgICAgRWFjaCBwaXhlbCBpcyBhbiBSLEcsQiB0cmlwbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93ZWQgYnkgYW4gYWxwaGEgc2FtcGxlLlxuICAqL1xuXG4gIC8qXG4gICAqIFBORyBmaWx0ZXIgbWV0aG9kIHR5cGVzXG4gICAqXG4gICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvUE5HLUZpbHRlcnMuaHRtbFxuICAgKiBAc2VlIGh0dHA6Ly93d3cubGlicG5nLm9yZy9wdWIvcG5nL2Jvb2svY2hhcHRlcjA5Lmh0bWxcbiAgICpcbiAgICogVGhpcyBpcyB3aGF0IHRoZSB2YWx1ZSAnUHJlZGljdG9yJyBpbiBkZWNvZGUgcGFyYW1zIHJlbGF0ZXMgdG9cbiAgICpcbiAgICogMTUgaXMgXCJvcHRpbWFsIHByZWRpY3Rpb25cIiwgd2hpY2ggbWVhbnMgdGhlIHByZWRpY3Rpb24gYWxnb3JpdGhtIGNhbiBjaGFuZ2UgZnJvbSBsaW5lIHRvIGxpbmUuXG4gICAqIEluIHRoYXQgY2FzZSwgeW91IGFjdHVhbGx5IGhhdmUgdG8gcmVhZCB0aGUgZmlyc3QgYnl0ZSBvZmYgZWFjaCBsaW5lIGZvciB0aGUgcHJlZGljdGlvbiBhbGdvcnRoaW0gKHdoaWNoIHNob3VsZCBiZSAwLTQsIGNvcnJlc3BvbmRpbmcgdG8gUERGIDEwLTE0KSBhbmQgc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSB1bnByZWRpY3Rpb24gYWxnb3JpdGhtIGJhc2VkIG9uIHRoYXQgYnl0ZS5cbiAgICpcbiAgICAgMCAgICAgICBOb25lXG4gICAgIDEgICAgICAgU3ViXG4gICAgIDIgICAgICAgVXBcbiAgICAgMyAgICAgICBBdmVyYWdlXG4gICAgIDQgICAgICAgUGFldGhcbiAgICovXG5cbiAgdmFyIGNhbkNvbXByZXNzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IGpzUERGQVBJLmltYWdlX2NvbXByZXNzaW9uLk5PTkUgJiYgaGFzQ29tcHJlc3Npb25KUygpO1xuICB9O1xuXG4gIHZhciBoYXNDb21wcmVzc2lvbkpTID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB6bGliU3luYyA9PT0gXCJmdW5jdGlvblwiO1xuICB9O1xuICB2YXIgY29tcHJlc3NCeXRlcyA9IGZ1bmN0aW9uKGJ5dGVzLCBsaW5lTGVuZ3RoLCBjb2xvcnNQZXJQaXhlbCwgY29tcHJlc3Npb24pIHtcbiAgICB2YXIgbGV2ZWwgPSA0O1xuICAgIHZhciBmaWx0ZXJfbWV0aG9kID0gZmlsdGVyVXA7XG5cbiAgICBzd2l0Y2ggKGNvbXByZXNzaW9uKSB7XG4gICAgICBjYXNlIGpzUERGQVBJLmltYWdlX2NvbXByZXNzaW9uLkZBU1Q6XG4gICAgICAgIGxldmVsID0gMTtcbiAgICAgICAgZmlsdGVyX21ldGhvZCA9IGZpbHRlclN1YjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UganNQREZBUEkuaW1hZ2VfY29tcHJlc3Npb24uTUVESVVNOlxuICAgICAgICBsZXZlbCA9IDY7XG4gICAgICAgIGZpbHRlcl9tZXRob2QgPSBmaWx0ZXJBdmVyYWdlO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBqc1BERkFQSS5pbWFnZV9jb21wcmVzc2lvbi5TTE9XOlxuICAgICAgICBsZXZlbCA9IDk7XG4gICAgICAgIGZpbHRlcl9tZXRob2QgPSBmaWx0ZXJQYWV0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgYnl0ZXMgPSBhcHBseVBuZ0ZpbHRlck1ldGhvZChcbiAgICAgIGJ5dGVzLFxuICAgICAgbGluZUxlbmd0aCxcbiAgICAgIGNvbG9yc1BlclBpeGVsLFxuICAgICAgZmlsdGVyX21ldGhvZFxuICAgICk7XG4gICAgdmFyIGRhdCA9IHpsaWJTeW5jKGJ5dGVzLCB7IGxldmVsOiBsZXZlbCB9KTtcbiAgICByZXR1cm4ganNQREZBUEkuX19hZGRpbWFnZV9fLmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcoZGF0KTtcbiAgfTtcblxuICB2YXIgYXBwbHlQbmdGaWx0ZXJNZXRob2QgPSBmdW5jdGlvbihcbiAgICBieXRlcyxcbiAgICBsaW5lTGVuZ3RoLFxuICAgIGNvbG9yc1BlclBpeGVsLFxuICAgIGZpbHRlcl9tZXRob2RcbiAgKSB7XG4gICAgdmFyIGxpbmVzID0gYnl0ZXMubGVuZ3RoIC8gbGluZUxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGJ5dGVzLmxlbmd0aCArIGxpbmVzKSxcbiAgICAgIGZpbHRlcl9tZXRob2RzID0gZ2V0RmlsdGVyTWV0aG9kcygpLFxuICAgICAgbGluZSxcbiAgICAgIHByZXZMaW5lLFxuICAgICAgb2Zmc2V0O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lczsgaSArPSAxKSB7XG4gICAgICBvZmZzZXQgPSBpICogbGluZUxlbmd0aDtcbiAgICAgIGxpbmUgPSBieXRlcy5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIGxpbmVMZW5ndGgpO1xuXG4gICAgICBpZiAoZmlsdGVyX21ldGhvZCkge1xuICAgICAgICByZXN1bHQuc2V0KGZpbHRlcl9tZXRob2QobGluZSwgY29sb3JzUGVyUGl4ZWwsIHByZXZMaW5lKSwgb2Zmc2V0ICsgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbGVuID0gZmlsdGVyX21ldGhvZHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBqOyBqIDwgbGVuOyBqICs9IDEpIHtcbiAgICAgICAgICByZXN1bHRzW2pdID0gZmlsdGVyX21ldGhvZHNbal0obGluZSwgY29sb3JzUGVyUGl4ZWwsIHByZXZMaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmQgPSBnZXRJbmRleE9mU21hbGxlc3RTdW0ocmVzdWx0cy5jb25jYXQoKSk7XG5cbiAgICAgICAgcmVzdWx0LnNldChyZXN1bHRzW2luZF0sIG9mZnNldCArIGkpO1xuICAgICAgfVxuXG4gICAgICBwcmV2TGluZSA9IGxpbmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgZmlsdGVyTm9uZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAvKnZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShsaW5lLmxlbmd0aCArIDEpO1xuICAgIHJlc3VsdFswXSA9IDA7XG4gICAgcmVzdWx0LnNldChsaW5lLCAxKTsqL1xuXG4gICAgdmFyIHJlc3VsdCA9IEFycmF5LmFwcGx5KFtdLCBsaW5lKTtcbiAgICByZXN1bHQudW5zaGlmdCgwKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGZpbHRlclN1YiA9IGZ1bmN0aW9uKGxpbmUsIGNvbG9yc1BlclBpeGVsKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgbGVuID0gbGluZS5sZW5ndGgsXG4gICAgICBsZWZ0O1xuXG4gICAgcmVzdWx0WzBdID0gMTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgIGxlZnQgPSBsaW5lW2kgLSBjb2xvcnNQZXJQaXhlbF0gfHwgMDtcbiAgICAgIHJlc3VsdFtpICsgMV0gPSAobGluZVtpXSAtIGxlZnQgKyAweDAxMDApICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBmaWx0ZXJVcCA9IGZ1bmN0aW9uKGxpbmUsIGNvbG9yc1BlclBpeGVsLCBwcmV2TGluZSkge1xuICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgIGxlbiA9IGxpbmUubGVuZ3RoLFxuICAgICAgdXA7XG5cbiAgICByZXN1bHRbMF0gPSAyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgdXAgPSAocHJldkxpbmUgJiYgcHJldkxpbmVbaV0pIHx8IDA7XG4gICAgICByZXN1bHRbaSArIDFdID0gKGxpbmVbaV0gLSB1cCArIDB4MDEwMCkgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIGZpbHRlckF2ZXJhZ2UgPSBmdW5jdGlvbihsaW5lLCBjb2xvcnNQZXJQaXhlbCwgcHJldkxpbmUpIHtcbiAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICBsZW4gPSBsaW5lLmxlbmd0aCxcbiAgICAgIGxlZnQsXG4gICAgICB1cDtcblxuICAgIHJlc3VsdFswXSA9IDM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICBsZWZ0ID0gbGluZVtpIC0gY29sb3JzUGVyUGl4ZWxdIHx8IDA7XG4gICAgICB1cCA9IChwcmV2TGluZSAmJiBwcmV2TGluZVtpXSkgfHwgMDtcbiAgICAgIHJlc3VsdFtpICsgMV0gPSAobGluZVtpXSArIDB4MDEwMCAtICgobGVmdCArIHVwKSA+Pj4gMSkpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBmaWx0ZXJQYWV0aCA9IGZ1bmN0aW9uKGxpbmUsIGNvbG9yc1BlclBpeGVsLCBwcmV2TGluZSkge1xuICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgIGxlbiA9IGxpbmUubGVuZ3RoLFxuICAgICAgbGVmdCxcbiAgICAgIHVwLFxuICAgICAgdXBMZWZ0LFxuICAgICAgcGFldGg7XG5cbiAgICByZXN1bHRbMF0gPSA0O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgbGVmdCA9IGxpbmVbaSAtIGNvbG9yc1BlclBpeGVsXSB8fCAwO1xuICAgICAgdXAgPSAocHJldkxpbmUgJiYgcHJldkxpbmVbaV0pIHx8IDA7XG4gICAgICB1cExlZnQgPSAocHJldkxpbmUgJiYgcHJldkxpbmVbaSAtIGNvbG9yc1BlclBpeGVsXSkgfHwgMDtcbiAgICAgIHBhZXRoID0gcGFldGhQcmVkaWN0b3IobGVmdCwgdXAsIHVwTGVmdCk7XG4gICAgICByZXN1bHRbaSArIDFdID0gKGxpbmVbaV0gLSBwYWV0aCArIDB4MDEwMCkgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHBhZXRoUHJlZGljdG9yID0gZnVuY3Rpb24obGVmdCwgdXAsIHVwTGVmdCkge1xuICAgIGlmIChsZWZ0ID09PSB1cCAmJiB1cCA9PT0gdXBMZWZ0KSB7XG4gICAgICByZXR1cm4gbGVmdDtcbiAgICB9XG4gICAgdmFyIHBMZWZ0ID0gTWF0aC5hYnModXAgLSB1cExlZnQpLFxuICAgICAgcFVwID0gTWF0aC5hYnMobGVmdCAtIHVwTGVmdCksXG4gICAgICBwVXBMZWZ0ID0gTWF0aC5hYnMobGVmdCArIHVwIC0gdXBMZWZ0IC0gdXBMZWZ0KTtcbiAgICByZXR1cm4gcExlZnQgPD0gcFVwICYmIHBMZWZ0IDw9IHBVcExlZnRcbiAgICAgID8gbGVmdFxuICAgICAgOiBwVXAgPD0gcFVwTGVmdFxuICAgICAgPyB1cFxuICAgICAgOiB1cExlZnQ7XG4gIH07XG5cbiAgdmFyIGdldEZpbHRlck1ldGhvZHMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gW2ZpbHRlck5vbmUsIGZpbHRlclN1YiwgZmlsdGVyVXAsIGZpbHRlckF2ZXJhZ2UsIGZpbHRlclBhZXRoXTtcbiAgfTtcblxuICB2YXIgZ2V0SW5kZXhPZlNtYWxsZXN0U3VtID0gZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgdmFyIHN1bSA9IGFycmF5cy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5yZWR1Y2UoZnVuY3Rpb24ocHYsIGN2KSB7XG4gICAgICAgIHJldHVybiBwdiArIE1hdGguYWJzKGN2KTtcbiAgICAgIH0sIDApO1xuICAgIH0pO1xuICAgIHJldHVybiBzdW0uaW5kZXhPZihNYXRoLm1pbi5hcHBseShudWxsLCBzdW0pKTtcbiAgfTtcblxuICB2YXIgZ2V0UHJlZGljdG9yRnJvbUNvbXByZXNzaW9uID0gZnVuY3Rpb24oY29tcHJlc3Npb24pIHtcbiAgICB2YXIgcHJlZGljdG9yO1xuICAgIHN3aXRjaCAoY29tcHJlc3Npb24pIHtcbiAgICAgIGNhc2UganNQREZBUEkuaW1hZ2VfY29tcHJlc3Npb24uRkFTVDpcbiAgICAgICAgcHJlZGljdG9yID0gMTE7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIGpzUERGQVBJLmltYWdlX2NvbXByZXNzaW9uLk1FRElVTTpcbiAgICAgICAgcHJlZGljdG9yID0gMTM7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIGpzUERGQVBJLmltYWdlX2NvbXByZXNzaW9uLlNMT1c6XG4gICAgICAgIHByZWRpY3RvciA9IDE0O1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcHJlZGljdG9yID0gMTI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcHJlZGljdG9yO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBwcm9jZXNzUE5HXG4gICAqIEBmdW5jdGlvblxuICAgKiBAaWdub3JlXG4gICAqL1xuICBqc1BERkFQSS5wcm9jZXNzUE5HID0gZnVuY3Rpb24oaW1hZ2VEYXRhLCBpbmRleCwgYWxpYXMsIGNvbXByZXNzaW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgY29sb3JTcGFjZSxcbiAgICAgIGZpbHRlciA9IHRoaXMuZGVjb2RlLkZMQVRFX0RFQ09ERSxcbiAgICAgIGJpdHNQZXJDb21wb25lbnQsXG4gICAgICBpbWFnZSxcbiAgICAgIGRlY29kZVBhcmFtZXRlcnMgPSBcIlwiLFxuICAgICAgdHJucyxcbiAgICAgIGNvbG9ycyxcbiAgICAgIHBhbCxcbiAgICAgIHNtYXNrLFxuICAgICAgcGl4ZWxzLFxuICAgICAgbGVuLFxuICAgICAgYWxwaGFEYXRhLFxuICAgICAgaW1nRGF0YSxcbiAgICAgIGhhc0NvbG9ycyxcbiAgICAgIHBpeGVsLFxuICAgICAgaSxcbiAgICAgIG47XG5cbiAgICBpZiAodGhpcy5fX2FkZGltYWdlX18uaXNBcnJheUJ1ZmZlcihpbWFnZURhdGEpKVxuICAgICAgaW1hZ2VEYXRhID0gbmV3IFVpbnQ4QXJyYXkoaW1hZ2VEYXRhKTtcblxuICAgIGlmICh0aGlzLl9fYWRkaW1hZ2VfXy5pc0FycmF5QnVmZmVyVmlldyhpbWFnZURhdGEpKSB7XG4gICAgICBpbWFnZSA9IG5ldyBQTkcoaW1hZ2VEYXRhKTtcbiAgICAgIGltYWdlRGF0YSA9IGltYWdlLmltZ0RhdGE7XG4gICAgICBiaXRzUGVyQ29tcG9uZW50ID0gaW1hZ2UuYml0cztcbiAgICAgIGNvbG9yU3BhY2UgPSBpbWFnZS5jb2xvclNwYWNlO1xuICAgICAgY29sb3JzID0gaW1hZ2UuY29sb3JzO1xuXG4gICAgICAvKlxuICAgICAgICogY29sb3JUeXBlIDYgLSBFYWNoIHBpeGVsIGlzIGFuIFIsRyxCIHRyaXBsZSwgZm9sbG93ZWQgYnkgYW4gYWxwaGEgc2FtcGxlLlxuICAgICAgICpcbiAgICAgICAqIGNvbG9yVHlwZSA0IC0gRWFjaCBwaXhlbCBpcyBhIGdyYXlzY2FsZSBzYW1wbGUsIGZvbGxvd2VkIGJ5IGFuIGFscGhhIHNhbXBsZS5cbiAgICAgICAqXG4gICAgICAgKiBFeHRyYWN0IGFscGhhIHRvIGNyZWF0ZSB0d28gc2VwYXJhdGUgaW1hZ2VzLCB1c2luZyB0aGUgYWxwaGEgYXMgYSBzTWFza1xuICAgICAgICovXG4gICAgICBpZiAoWzQsIDZdLmluZGV4T2YoaW1hZ2UuY29sb3JUeXBlKSAhPT0gLTEpIHtcbiAgICAgICAgLypcbiAgICAgICAgICogcHJvY2Vzc2VzIDggYml0IFJHQkEgYW5kIGdyYXlzY2FsZSArIGFscGhhIGltYWdlc1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGltYWdlLmJpdHMgPT09IDgpIHtcbiAgICAgICAgICBwaXhlbHMgPVxuICAgICAgICAgICAgaW1hZ2UucGl4ZWxCaXRsZW5ndGggPT0gMzJcbiAgICAgICAgICAgICAgPyBuZXcgVWludDMyQXJyYXkoaW1hZ2UuZGVjb2RlUGl4ZWxzKCkuYnVmZmVyKVxuICAgICAgICAgICAgICA6IGltYWdlLnBpeGVsQml0bGVuZ3RoID09IDE2XG4gICAgICAgICAgICAgID8gbmV3IFVpbnQxNkFycmF5KGltYWdlLmRlY29kZVBpeGVscygpLmJ1ZmZlcilcbiAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheShpbWFnZS5kZWNvZGVQaXhlbHMoKS5idWZmZXIpO1xuICAgICAgICAgIGxlbiA9IHBpeGVscy5sZW5ndGg7XG4gICAgICAgICAgaW1nRGF0YSA9IG5ldyBVaW50OEFycmF5KGxlbiAqIGltYWdlLmNvbG9ycyk7XG4gICAgICAgICAgYWxwaGFEYXRhID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICAgICAgICB2YXIgcERpZmYgPSBpbWFnZS5waXhlbEJpdGxlbmd0aCAtIGltYWdlLmJpdHM7XG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgdmFyIHBibDtcblxuICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHBpeGVsID0gcGl4ZWxzW2ldO1xuICAgICAgICAgICAgcGJsID0gMDtcblxuICAgICAgICAgICAgd2hpbGUgKHBibCA8IHBEaWZmKSB7XG4gICAgICAgICAgICAgIGltZ0RhdGFbbisrXSA9IChwaXhlbCA+Pj4gcGJsKSAmIDB4ZmY7XG4gICAgICAgICAgICAgIHBibCA9IHBibCArIGltYWdlLmJpdHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFscGhhRGF0YVtpXSA9IChwaXhlbCA+Pj4gcGJsKSAmIDB4ZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICogcHJvY2Vzc2VzIDE2IGJpdCBSR0JBIGFuZCBncmF5c2NhbGUgKyBhbHBoYSBpbWFnZXNcbiAgICAgICAgICovXG4gICAgICAgIGlmIChpbWFnZS5iaXRzID09PSAxNikge1xuICAgICAgICAgIHBpeGVscyA9IG5ldyBVaW50MzJBcnJheShpbWFnZS5kZWNvZGVQaXhlbHMoKS5idWZmZXIpO1xuICAgICAgICAgIGxlbiA9IHBpeGVscy5sZW5ndGg7XG4gICAgICAgICAgaW1nRGF0YSA9IG5ldyBVaW50OEFycmF5KFxuICAgICAgICAgICAgbGVuICogKDMyIC8gaW1hZ2UucGl4ZWxCaXRsZW5ndGgpICogaW1hZ2UuY29sb3JzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbHBoYURhdGEgPSBuZXcgVWludDhBcnJheShsZW4gKiAoMzIgLyBpbWFnZS5waXhlbEJpdGxlbmd0aCkpO1xuICAgICAgICAgIGhhc0NvbG9ycyA9IGltYWdlLmNvbG9ycyA+IDE7XG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgbiA9IDA7XG4gICAgICAgICAgdmFyIGEgPSAwO1xuXG4gICAgICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgICAgIHBpeGVsID0gcGl4ZWxzW2krK107XG5cbiAgICAgICAgICAgIGltZ0RhdGFbbisrXSA9IChwaXhlbCA+Pj4gMCkgJiAweGZmO1xuXG4gICAgICAgICAgICBpZiAoaGFzQ29sb3JzKSB7XG4gICAgICAgICAgICAgIGltZ0RhdGFbbisrXSA9IChwaXhlbCA+Pj4gMTYpICYgMHhmZjtcblxuICAgICAgICAgICAgICBwaXhlbCA9IHBpeGVsc1tpKytdO1xuICAgICAgICAgICAgICBpbWdEYXRhW24rK10gPSAocGl4ZWwgPj4+IDApICYgMHhmZjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWxwaGFEYXRhW2ErK10gPSAocGl4ZWwgPj4+IDE2KSAmIDB4ZmY7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdHNQZXJDb21wb25lbnQgPSA4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhbkNvbXByZXNzKGNvbXByZXNzaW9uKSkge1xuICAgICAgICAgIGltYWdlRGF0YSA9IGNvbXByZXNzQnl0ZXMoXG4gICAgICAgICAgICBpbWdEYXRhLFxuICAgICAgICAgICAgaW1hZ2Uud2lkdGggKiBpbWFnZS5jb2xvcnMsXG4gICAgICAgICAgICBpbWFnZS5jb2xvcnMsXG4gICAgICAgICAgICBjb21wcmVzc2lvblxuICAgICAgICAgICk7XG4gICAgICAgICAgc21hc2sgPSBjb21wcmVzc0J5dGVzKGFscGhhRGF0YSwgaW1hZ2Uud2lkdGgsIDEsIGNvbXByZXNzaW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbWFnZURhdGEgPSBpbWdEYXRhO1xuICAgICAgICAgIHNtYXNrID0gYWxwaGFEYXRhO1xuICAgICAgICAgIGZpbHRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogSW5kZXhlZCBwbmcuIEVhY2ggcGl4ZWwgaXMgYSBwYWxldHRlIGluZGV4LlxuICAgICAgICovXG4gICAgICBpZiAoaW1hZ2UuY29sb3JUeXBlID09PSAzKSB7XG4gICAgICAgIGNvbG9yU3BhY2UgPSB0aGlzLmNvbG9yX3NwYWNlcy5JTkRFWEVEO1xuICAgICAgICBwYWwgPSBpbWFnZS5wYWxldHRlO1xuXG4gICAgICAgIGlmIChpbWFnZS50cmFuc3BhcmVuY3kuaW5kZXhlZCkge1xuICAgICAgICAgIHZhciB0cmFucyA9IGltYWdlLnRyYW5zcGFyZW5jeS5pbmRleGVkO1xuICAgICAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgbGVuID0gdHJhbnMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yICg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdG90YWwgKz0gdHJhbnNbaV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG90YWwgPSB0b3RhbCAvIDI1NTtcblxuICAgICAgICAgIC8qXG4gICAgICAgICAgICogYSBzaW5nbGUgY29sb3IgaXMgc3BlY2lmaWVkIGFzIDEwMCUgdHJhbnNwYXJlbnQgKDApLFxuICAgICAgICAgICAqIHNvIHdlIHNldCB0cm5zIHRvIHVzZSBhIC9NYXNrIHdpdGggdGhhdCBpbmRleFxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmICh0b3RhbCA9PT0gbGVuIC0gMSAmJiB0cmFucy5pbmRleE9mKDApICE9PSAtMSkge1xuICAgICAgICAgICAgdHJucyA9IFt0cmFucy5pbmRleE9mKDApXTtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSBjb2xvdXIgd2l0aGluIHRoZSBwYWxldHRlIHRoYXQgc3BlY2lmaWVzXG4gICAgICAgICAgICAgKiBhIHRyYW5zcGFyZW5jeSB2YWx1ZSBsZXNzIHRoYW4gMjU1LCBzbyB3ZSB1bnJvbGwgdGhlIHBpeGVscyB0byBjcmVhdGUgYW4gaW1hZ2Ugc01hc2tcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgIH0gZWxzZSBpZiAodG90YWwgIT09IGxlbikge1xuICAgICAgICAgICAgcGl4ZWxzID0gaW1hZ2UuZGVjb2RlUGl4ZWxzKCk7XG4gICAgICAgICAgICBhbHBoYURhdGEgPSBuZXcgVWludDhBcnJheShwaXhlbHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBhbHBoYURhdGFbaV0gPSB0cmFuc1twaXhlbHNbaV1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzbWFzayA9IGNvbXByZXNzQnl0ZXMoYWxwaGFEYXRhLCBpbWFnZS53aWR0aCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmVkaWN0b3IgPSBnZXRQcmVkaWN0b3JGcm9tQ29tcHJlc3Npb24oY29tcHJlc3Npb24pO1xuXG4gICAgICBpZiAoZmlsdGVyID09PSB0aGlzLmRlY29kZS5GTEFURV9ERUNPREUpIHtcbiAgICAgICAgZGVjb2RlUGFyYW1ldGVycyA9IFwiL1ByZWRpY3RvciBcIiArIHByZWRpY3RvciArIFwiIFwiO1xuICAgICAgfVxuICAgICAgZGVjb2RlUGFyYW1ldGVycyArPVxuICAgICAgICBcIi9Db2xvcnMgXCIgK1xuICAgICAgICBjb2xvcnMgK1xuICAgICAgICBcIiAvQml0c1BlckNvbXBvbmVudCBcIiArXG4gICAgICAgIGJpdHNQZXJDb21wb25lbnQgK1xuICAgICAgICBcIiAvQ29sdW1ucyBcIiArXG4gICAgICAgIGltYWdlLndpZHRoO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuX19hZGRpbWFnZV9fLmlzQXJyYXlCdWZmZXIoaW1hZ2VEYXRhKSB8fFxuICAgICAgICB0aGlzLl9fYWRkaW1hZ2VfXy5pc0FycmF5QnVmZmVyVmlldyhpbWFnZURhdGEpXG4gICAgICApIHtcbiAgICAgICAgaW1hZ2VEYXRhID0gdGhpcy5fX2FkZGltYWdlX18uYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhpbWFnZURhdGEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIChzbWFzayAmJiB0aGlzLl9fYWRkaW1hZ2VfXy5pc0FycmF5QnVmZmVyKHNtYXNrKSkgfHxcbiAgICAgICAgdGhpcy5fX2FkZGltYWdlX18uaXNBcnJheUJ1ZmZlclZpZXcoc21hc2spXG4gICAgICApIHtcbiAgICAgICAgc21hc2sgPSB0aGlzLl9fYWRkaW1hZ2VfXy5hcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKHNtYXNrKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYWxpYXM6IGFsaWFzLFxuICAgICAgICBkYXRhOiBpbWFnZURhdGEsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgIGRlY29kZVBhcmFtZXRlcnM6IGRlY29kZVBhcmFtZXRlcnMsXG4gICAgICAgIHRyYW5zcGFyZW5jeTogdHJucyxcbiAgICAgICAgcGFsZXR0ZTogcGFsLFxuICAgICAgICBzTWFzazogc21hc2ssXG4gICAgICAgIHByZWRpY3RvcjogcHJlZGljdG9yLFxuICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1hZ2UuaGVpZ2h0LFxuICAgICAgICBiaXRzUGVyQ29tcG9uZW50OiBiaXRzUGVyQ29tcG9uZW50LFxuICAgICAgICBjb2xvclNwYWNlOiBjb2xvclNwYWNlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0pKGpzUERGLkFQSSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgQXJhcyBBYmJhc2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuaW1wb3J0IHsgR2lmUmVhZGVyIH0gZnJvbSBcIi4uL2xpYnMvb21nZ2lmLmpzXCI7XG5pbXBvcnQgeyBKUEVHRW5jb2RlciB9IGZyb20gXCIuLi9saWJzL0pQRUdFbmNvZGVyLmpzXCI7XG5cbi8qKlxuICoganNQREYgR2lmIFN1cHBvcnQgUGx1Z0luXG4gKlxuICogQG5hbWUgZ2lmX3N1cHBvcnRcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGpzUERGQVBJLnByb2Nlc3NHSUY4OUEgPSBmdW5jdGlvbihpbWFnZURhdGEsIGluZGV4LCBhbGlhcywgY29tcHJlc3Npb24pIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEdpZlJlYWRlcihpbWFnZURhdGEpO1xuICAgIHZhciB3aWR0aCA9IHJlYWRlci53aWR0aCxcbiAgICAgIGhlaWdodCA9IHJlYWRlci5oZWlnaHQ7XG4gICAgdmFyIHF1ID0gMTAwO1xuICAgIHZhciBwaXhlbHMgPSBbXTtcblxuICAgIHJlYWRlci5kZWNvZGVBbmRCbGl0RnJhbWVSR0JBKDAsIHBpeGVscyk7XG4gICAgdmFyIHJhd0ltYWdlRGF0YSA9IHtcbiAgICAgIGRhdGE6IHBpeGVscyxcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfTtcblxuICAgIHZhciBlbmNvZGVyID0gbmV3IEpQRUdFbmNvZGVyKHF1KTtcbiAgICB2YXIgZGF0YSA9IGVuY29kZXIuZW5jb2RlKHJhd0ltYWdlRGF0YSwgcXUpO1xuICAgIHJldHVybiBqc1BERkFQSS5wcm9jZXNzSlBFRy5jYWxsKHRoaXMsIGRhdGEsIGluZGV4LCBhbGlhcywgY29tcHJlc3Npb24pO1xuICB9O1xuXG4gIGpzUERGQVBJLnByb2Nlc3NHSUY4N0EgPSBqc1BERkFQSS5wcm9jZXNzR0lGODlBO1xufSkoanNQREYuQVBJKTtcbiIsImltcG9ydCB7IEpQRUdFbmNvZGVyIH0gZnJvbSBcIi4uL2xpYnMvSlBFR0VuY29kZXIuanNcIjtcbmltcG9ydCB7IEJtcERlY29kZXIgfSBmcm9tIFwiLi4vbGlicy9CTVBEZWNvZGVyLmpzXCI7XG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggQXJhcyBBYmJhc2lcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIGpzUERGIGJtcCBTdXBwb3J0IFBsdWdJblxuICogQG5hbWUgYm1wX3N1cHBvcnRcbiAqIEBtb2R1bGVcbiAqL1xuKGZ1bmN0aW9uKGpzUERGQVBJKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGpzUERGQVBJLnByb2Nlc3NCTVAgPSBmdW5jdGlvbihpbWFnZURhdGEsIGluZGV4LCBhbGlhcywgY29tcHJlc3Npb24pIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEJtcERlY29kZXIoaW1hZ2VEYXRhLCBmYWxzZSk7XG4gICAgdmFyIHdpZHRoID0gcmVhZGVyLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gcmVhZGVyLmhlaWdodDtcbiAgICB2YXIgcXUgPSAxMDA7XG4gICAgdmFyIHBpeGVscyA9IHJlYWRlci5nZXREYXRhKCk7XG5cbiAgICB2YXIgcmF3SW1hZ2VEYXRhID0ge1xuICAgICAgZGF0YTogcGl4ZWxzLFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9O1xuXG4gICAgdmFyIGVuY29kZXIgPSBuZXcgSlBFR0VuY29kZXIocXUpO1xuICAgIHZhciBkYXRhID0gZW5jb2Rlci5lbmNvZGUocmF3SW1hZ2VEYXRhLCBxdSk7XG4gICAgcmV0dXJuIGpzUERGQVBJLnByb2Nlc3NKUEVHLmNhbGwodGhpcywgZGF0YSwgaW5kZXgsIGFsaWFzLCBjb21wcmVzc2lvbik7XG4gIH07XG59KShqc1BERi5BUEkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE5IEFyYXMgQWJiYXNpXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cblxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcbmltcG9ydCB7IEpQRUdFbmNvZGVyIH0gZnJvbSBcIi4uL2xpYnMvSlBFR0VuY29kZXIuanNcIjtcbmltcG9ydCB7IFdlYlBEZWNvZGVyIH0gZnJvbSBcIi4uL2xpYnMvV2ViUERlY29kZXIuanNcIjtcblxuLyoqXG4gKiBqc1BERiB3ZWJwIFN1cHBvcnQgUGx1Z0luXG4gKlxuICogQG5hbWUgd2VicF9zdXBwb3J0XG4gKiBAbW9kdWxlXG4gKi9cbihmdW5jdGlvbihqc1BERkFQSSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBqc1BERkFQSS5wcm9jZXNzV0VCUCA9IGZ1bmN0aW9uKGltYWdlRGF0YSwgaW5kZXgsIGFsaWFzLCBjb21wcmVzc2lvbikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgV2ViUERlY29kZXIoaW1hZ2VEYXRhLCBmYWxzZSk7XG4gICAgdmFyIHdpZHRoID0gcmVhZGVyLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gcmVhZGVyLmhlaWdodDtcbiAgICB2YXIgcXUgPSAxMDA7XG4gICAgdmFyIHBpeGVscyA9IHJlYWRlci5nZXREYXRhKCk7XG5cbiAgICB2YXIgcmF3SW1hZ2VEYXRhID0ge1xuICAgICAgZGF0YTogcGl4ZWxzLFxuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9O1xuXG4gICAgdmFyIGVuY29kZXIgPSBuZXcgSlBFR0VuY29kZXIocXUpO1xuICAgIHZhciBkYXRhID0gZW5jb2Rlci5lbmNvZGUocmF3SW1hZ2VEYXRhLCBxdSk7XG4gICAgcmV0dXJuIGpzUERGQVBJLnByb2Nlc3NKUEVHLmNhbGwodGhpcywgZGF0YSwgaW5kZXgsIGFsaWFzLCBjb21wcmVzc2lvbik7XG4gIH07XG59KShqc1BERi5BUEkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAyMSBBbnR0aSBQYWxvbGEsIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW50dXJhXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT05cbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuICogV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbi8qKlxuICoganNQREYgUkdCQSBhcnJheSBQbHVnSW5cbiAqIEBuYW1lIHJnYmFfc3VwcG9ydFxuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEBuYW1lIHByb2Nlc3NSR0JBXG4gICAqIEBmdW5jdGlvblxuICAgKlxuICAgKiBQcm9jZXNzIFJHQkEgQXJyYXkuIFRoaXMgaXMgYSBvbmUtZGltZW5zaW9uIGFycmF5IHdpdGggcGl4ZWwgZGF0YSBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEsIHJlZCwgZ3JlZW4sIC4uLl0uXG4gICAqIFJHQkEgYXJyYXkgZGF0YSBjYW4gYmUgb2J0YWluZWQgZnJvbSBET00gY2FudmFzIGdldEltYWdlRGF0YS5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAganNQREZBUEkucHJvY2Vzc1JHQkEgPSBmdW5jdGlvbihpbWFnZURhdGEsIGluZGV4LCBhbGlhcykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGltYWdlUGl4ZWxzID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgdmFyIGxlbmd0aCA9IGltYWdlUGl4ZWxzLmxlbmd0aDtcbiAgICAvLyBqc1BERiB0YWtlcyBhbHBoYSBkYXRhIHNlcGFyYXRlbHkgc28gZXh0cmFjdCB0aGF0LlxuICAgIHZhciByZ2JPdXQgPSBuZXcgVWludDhBcnJheSgobGVuZ3RoIC8gNCkgKiAzKTtcbiAgICB2YXIgYWxwaGFPdXQgPSBuZXcgVWludDhBcnJheShsZW5ndGggLyA0KTtcbiAgICB2YXIgb3V0SW5kZXggPSAwO1xuICAgIHZhciBhbHBoYUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgIHZhciByID0gaW1hZ2VQaXhlbHNbaV07XG4gICAgICB2YXIgZyA9IGltYWdlUGl4ZWxzW2kgKyAxXTtcbiAgICAgIHZhciBiID0gaW1hZ2VQaXhlbHNbaSArIDJdO1xuICAgICAgdmFyIGFscGhhID0gaW1hZ2VQaXhlbHNbaSArIDNdO1xuICAgICAgcmdiT3V0W291dEluZGV4KytdID0gcjtcbiAgICAgIHJnYk91dFtvdXRJbmRleCsrXSA9IGc7XG4gICAgICByZ2JPdXRbb3V0SW5kZXgrK10gPSBiO1xuICAgICAgYWxwaGFPdXRbYWxwaGFJbmRleCsrXSA9IGFscGhhO1xuICAgIH1cblxuICAgIHZhciByZ2JEYXRhID0gdGhpcy5fX2FkZGltYWdlX18uYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyZ2JPdXQpO1xuICAgIHZhciBhbHBoYURhdGEgPSB0aGlzLl9fYWRkaW1hZ2VfXy5hcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKGFscGhhT3V0KTtcblxuICAgIHJldHVybiB7XG4gICAgICBhbHBoYTogYWxwaGFEYXRhLFxuICAgICAgZGF0YTogcmdiRGF0YSxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGFsaWFzOiBhbGlhcyxcbiAgICAgIGNvbG9yU3BhY2U6IFwiRGV2aWNlUkdCXCIsXG4gICAgICBiaXRzUGVyQ29tcG9uZW50OiA4LFxuICAgICAgd2lkdGg6IGltYWdlRGF0YS53aWR0aCxcbiAgICAgIGhlaWdodDogaW1hZ2VEYXRhLmhlaWdodFxuICAgIH07XG4gIH07XG59KShqc1BERi5BUEkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cblxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcblxuLyoqXG4gKiBqc1BERiBzZXRMYW5ndWFnZSBQbHVnaW5cbiAqXG4gKiBAbmFtZSBzZXRMYW5ndWFnZVxuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEFkZCBMYW5ndWFnZSBUYWcgdG8gdGhlIGdlbmVyYXRlZCBQREZcbiAgICpcbiAgICogQG5hbWUgc2V0TGFuZ3VhZ2VcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nQ29kZSBUaGUgTGFuZ3VhZ2UgY29kZSBhcyBJU08tNjM5LTEgKGUuZy4gJ2VuJykgb3IgYXMgY291bnRyeSBsYW5ndWFnZSBjb2RlIChlLmcuICdlbi1HQicpLlxuICAgKiBAcmV0dXJucyB7anNQREZ9XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBkb2MgPSBuZXcganNQREYoKVxuICAgKiBkb2MudGV4dCgxMCwgMTAsICdUaGlzIGlzIGEgdGVzdCcpXG4gICAqIGRvYy5zZXRMYW5ndWFnZShcImVuLVVTXCIpXG4gICAqIGRvYy5zYXZlKCdlbmdsaXNoLnBkZicpXG4gICAqL1xuICBqc1BERkFQSS5zZXRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmdDb2RlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgbGFuZ0NvZGVzID0ge1xuICAgICAgYWY6IFwiQWZyaWthYW5zXCIsXG4gICAgICBzcTogXCJBbGJhbmlhblwiLFxuICAgICAgYXI6IFwiQXJhYmljIChTdGFuZGFyZClcIixcbiAgICAgIFwiYXItRFpcIjogXCJBcmFiaWMgKEFsZ2VyaWEpXCIsXG4gICAgICBcImFyLUJIXCI6IFwiQXJhYmljIChCYWhyYWluKVwiLFxuICAgICAgXCJhci1FR1wiOiBcIkFyYWJpYyAoRWd5cHQpXCIsXG4gICAgICBcImFyLUlRXCI6IFwiQXJhYmljIChJcmFxKVwiLFxuICAgICAgXCJhci1KT1wiOiBcIkFyYWJpYyAoSm9yZGFuKVwiLFxuICAgICAgXCJhci1LV1wiOiBcIkFyYWJpYyAoS3V3YWl0KVwiLFxuICAgICAgXCJhci1MQlwiOiBcIkFyYWJpYyAoTGViYW5vbilcIixcbiAgICAgIFwiYXItTFlcIjogXCJBcmFiaWMgKExpYnlhKVwiLFxuICAgICAgXCJhci1NQVwiOiBcIkFyYWJpYyAoTW9yb2NjbylcIixcbiAgICAgIFwiYXItT01cIjogXCJBcmFiaWMgKE9tYW4pXCIsXG4gICAgICBcImFyLVFBXCI6IFwiQXJhYmljIChRYXRhcilcIixcbiAgICAgIFwiYXItU0FcIjogXCJBcmFiaWMgKFNhdWRpIEFyYWJpYSlcIixcbiAgICAgIFwiYXItU1lcIjogXCJBcmFiaWMgKFN5cmlhKVwiLFxuICAgICAgXCJhci1UTlwiOiBcIkFyYWJpYyAoVHVuaXNpYSlcIixcbiAgICAgIFwiYXItQUVcIjogXCJBcmFiaWMgKFUuQS5FLilcIixcbiAgICAgIFwiYXItWUVcIjogXCJBcmFiaWMgKFllbWVuKVwiLFxuICAgICAgYW46IFwiQXJhZ29uZXNlXCIsXG4gICAgICBoeTogXCJBcm1lbmlhblwiLFxuICAgICAgYXM6IFwiQXNzYW1lc2VcIixcbiAgICAgIGFzdDogXCJBc3R1cmlhblwiLFxuICAgICAgYXo6IFwiQXplcmJhaWphbmlcIixcbiAgICAgIGV1OiBcIkJhc3F1ZVwiLFxuICAgICAgYmU6IFwiQmVsYXJ1c2lhblwiLFxuICAgICAgYm46IFwiQmVuZ2FsaVwiLFxuICAgICAgYnM6IFwiQm9zbmlhblwiLFxuICAgICAgYnI6IFwiQnJldG9uXCIsXG4gICAgICBiZzogXCJCdWxnYXJpYW5cIixcbiAgICAgIG15OiBcIkJ1cm1lc2VcIixcbiAgICAgIGNhOiBcIkNhdGFsYW5cIixcbiAgICAgIGNoOiBcIkNoYW1vcnJvXCIsXG4gICAgICBjZTogXCJDaGVjaGVuXCIsXG4gICAgICB6aDogXCJDaGluZXNlXCIsXG4gICAgICBcInpoLUhLXCI6IFwiQ2hpbmVzZSAoSG9uZyBLb25nKVwiLFxuICAgICAgXCJ6aC1DTlwiOiBcIkNoaW5lc2UgKFBSQylcIixcbiAgICAgIFwiemgtU0dcIjogXCJDaGluZXNlIChTaW5nYXBvcmUpXCIsXG4gICAgICBcInpoLVRXXCI6IFwiQ2hpbmVzZSAoVGFpd2FuKVwiLFxuICAgICAgY3Y6IFwiQ2h1dmFzaFwiLFxuICAgICAgY286IFwiQ29yc2ljYW5cIixcbiAgICAgIGNyOiBcIkNyZWVcIixcbiAgICAgIGhyOiBcIkNyb2F0aWFuXCIsXG4gICAgICBjczogXCJDemVjaFwiLFxuICAgICAgZGE6IFwiRGFuaXNoXCIsXG4gICAgICBubDogXCJEdXRjaCAoU3RhbmRhcmQpXCIsXG4gICAgICBcIm5sLUJFXCI6IFwiRHV0Y2ggKEJlbGdpYW4pXCIsXG4gICAgICBlbjogXCJFbmdsaXNoXCIsXG4gICAgICBcImVuLUFVXCI6IFwiRW5nbGlzaCAoQXVzdHJhbGlhKVwiLFxuICAgICAgXCJlbi1CWlwiOiBcIkVuZ2xpc2ggKEJlbGl6ZSlcIixcbiAgICAgIFwiZW4tQ0FcIjogXCJFbmdsaXNoIChDYW5hZGEpXCIsXG4gICAgICBcImVuLUlFXCI6IFwiRW5nbGlzaCAoSXJlbGFuZClcIixcbiAgICAgIFwiZW4tSk1cIjogXCJFbmdsaXNoIChKYW1haWNhKVwiLFxuICAgICAgXCJlbi1OWlwiOiBcIkVuZ2xpc2ggKE5ldyBaZWFsYW5kKVwiLFxuICAgICAgXCJlbi1QSFwiOiBcIkVuZ2xpc2ggKFBoaWxpcHBpbmVzKVwiLFxuICAgICAgXCJlbi1aQVwiOiBcIkVuZ2xpc2ggKFNvdXRoIEFmcmljYSlcIixcbiAgICAgIFwiZW4tVFRcIjogXCJFbmdsaXNoIChUcmluaWRhZCAmIFRvYmFnbylcIixcbiAgICAgIFwiZW4tR0JcIjogXCJFbmdsaXNoIChVbml0ZWQgS2luZ2RvbSlcIixcbiAgICAgIFwiZW4tVVNcIjogXCJFbmdsaXNoIChVbml0ZWQgU3RhdGVzKVwiLFxuICAgICAgXCJlbi1aV1wiOiBcIkVuZ2xpc2ggKFppbWJhYndlKVwiLFxuICAgICAgZW86IFwiRXNwZXJhbnRvXCIsXG4gICAgICBldDogXCJFc3RvbmlhblwiLFxuICAgICAgZm86IFwiRmFlcm9lc2VcIixcbiAgICAgIGZqOiBcIkZpamlhblwiLFxuICAgICAgZmk6IFwiRmlubmlzaFwiLFxuICAgICAgZnI6IFwiRnJlbmNoIChTdGFuZGFyZClcIixcbiAgICAgIFwiZnItQkVcIjogXCJGcmVuY2ggKEJlbGdpdW0pXCIsXG4gICAgICBcImZyLUNBXCI6IFwiRnJlbmNoIChDYW5hZGEpXCIsXG4gICAgICBcImZyLUZSXCI6IFwiRnJlbmNoIChGcmFuY2UpXCIsXG4gICAgICBcImZyLUxVXCI6IFwiRnJlbmNoIChMdXhlbWJvdXJnKVwiLFxuICAgICAgXCJmci1NQ1wiOiBcIkZyZW5jaCAoTW9uYWNvKVwiLFxuICAgICAgXCJmci1DSFwiOiBcIkZyZW5jaCAoU3dpdHplcmxhbmQpXCIsXG4gICAgICBmeTogXCJGcmlzaWFuXCIsXG4gICAgICBmdXI6IFwiRnJpdWxpYW5cIixcbiAgICAgIGdkOiBcIkdhZWxpYyAoU2NvdHMpXCIsXG4gICAgICBcImdkLUlFXCI6IFwiR2FlbGljIChJcmlzaClcIixcbiAgICAgIGdsOiBcIkdhbGFjaWFuXCIsXG4gICAgICBrYTogXCJHZW9yZ2lhblwiLFxuICAgICAgZGU6IFwiR2VybWFuIChTdGFuZGFyZClcIixcbiAgICAgIFwiZGUtQVRcIjogXCJHZXJtYW4gKEF1c3RyaWEpXCIsXG4gICAgICBcImRlLURFXCI6IFwiR2VybWFuIChHZXJtYW55KVwiLFxuICAgICAgXCJkZS1MSVwiOiBcIkdlcm1hbiAoTGllY2h0ZW5zdGVpbilcIixcbiAgICAgIFwiZGUtTFVcIjogXCJHZXJtYW4gKEx1eGVtYm91cmcpXCIsXG4gICAgICBcImRlLUNIXCI6IFwiR2VybWFuIChTd2l0emVybGFuZClcIixcbiAgICAgIGVsOiBcIkdyZWVrXCIsXG4gICAgICBndTogXCJHdWp1cmF0aVwiLFxuICAgICAgaHQ6IFwiSGFpdGlhblwiLFxuICAgICAgaGU6IFwiSGVicmV3XCIsXG4gICAgICBoaTogXCJIaW5kaVwiLFxuICAgICAgaHU6IFwiSHVuZ2FyaWFuXCIsXG4gICAgICBpczogXCJJY2VsYW5kaWNcIixcbiAgICAgIGlkOiBcIkluZG9uZXNpYW5cIixcbiAgICAgIGl1OiBcIkludWt0aXR1dFwiLFxuICAgICAgZ2E6IFwiSXJpc2hcIixcbiAgICAgIGl0OiBcIkl0YWxpYW4gKFN0YW5kYXJkKVwiLFxuICAgICAgXCJpdC1DSFwiOiBcIkl0YWxpYW4gKFN3aXR6ZXJsYW5kKVwiLFxuICAgICAgamE6IFwiSmFwYW5lc2VcIixcbiAgICAgIGtuOiBcIkthbm5hZGFcIixcbiAgICAgIGtzOiBcIkthc2htaXJpXCIsXG4gICAgICBrazogXCJLYXpha2hcIixcbiAgICAgIGttOiBcIktobWVyXCIsXG4gICAgICBreTogXCJLaXJnaGl6XCIsXG4gICAgICB0bGg6IFwiS2xpbmdvblwiLFxuICAgICAga286IFwiS29yZWFuXCIsXG4gICAgICBcImtvLUtQXCI6IFwiS29yZWFuIChOb3J0aCBLb3JlYSlcIixcbiAgICAgIFwia28tS1JcIjogXCJLb3JlYW4gKFNvdXRoIEtvcmVhKVwiLFxuICAgICAgbGE6IFwiTGF0aW5cIixcbiAgICAgIGx2OiBcIkxhdHZpYW5cIixcbiAgICAgIGx0OiBcIkxpdGh1YW5pYW5cIixcbiAgICAgIGxiOiBcIkx1eGVtYm91cmdpc2hcIixcbiAgICAgIG1rOiBcIk5vcnRoIE1hY2Vkb25pYVwiLFxuICAgICAgbXM6IFwiTWFsYXlcIixcbiAgICAgIG1sOiBcIk1hbGF5YWxhbVwiLFxuICAgICAgbXQ6IFwiTWFsdGVzZVwiLFxuICAgICAgbWk6IFwiTWFvcmlcIixcbiAgICAgIG1yOiBcIk1hcmF0aGlcIixcbiAgICAgIG1vOiBcIk1vbGRhdmlhblwiLFxuICAgICAgbnY6IFwiTmF2YWpvXCIsXG4gICAgICBuZzogXCJOZG9uZ2FcIixcbiAgICAgIG5lOiBcIk5lcGFsaVwiLFxuICAgICAgbm86IFwiTm9yd2VnaWFuXCIsXG4gICAgICBuYjogXCJOb3J3ZWdpYW4gKEJva21hbClcIixcbiAgICAgIG5uOiBcIk5vcndlZ2lhbiAoTnlub3JzaylcIixcbiAgICAgIG9jOiBcIk9jY2l0YW5cIixcbiAgICAgIG9yOiBcIk9yaXlhXCIsXG4gICAgICBvbTogXCJPcm9tb1wiLFxuICAgICAgZmE6IFwiUGVyc2lhblwiLFxuICAgICAgXCJmYS1JUlwiOiBcIlBlcnNpYW4vSXJhblwiLFxuICAgICAgcGw6IFwiUG9saXNoXCIsXG4gICAgICBwdDogXCJQb3J0dWd1ZXNlXCIsXG4gICAgICBcInB0LUJSXCI6IFwiUG9ydHVndWVzZSAoQnJhemlsKVwiLFxuICAgICAgcGE6IFwiUHVuamFiaVwiLFxuICAgICAgXCJwYS1JTlwiOiBcIlB1bmphYmkgKEluZGlhKVwiLFxuICAgICAgXCJwYS1QS1wiOiBcIlB1bmphYmkgKFBha2lzdGFuKVwiLFxuICAgICAgcXU6IFwiUXVlY2h1YVwiLFxuICAgICAgcm06IFwiUmhhZXRvLVJvbWFuaWNcIixcbiAgICAgIHJvOiBcIlJvbWFuaWFuXCIsXG4gICAgICBcInJvLU1PXCI6IFwiUm9tYW5pYW4gKE1vbGRhdmlhKVwiLFxuICAgICAgcnU6IFwiUnVzc2lhblwiLFxuICAgICAgXCJydS1NT1wiOiBcIlJ1c3NpYW4gKE1vbGRhdmlhKVwiLFxuICAgICAgc3o6IFwiU2FtaSAoTGFwcGlzaClcIixcbiAgICAgIHNnOiBcIlNhbmdvXCIsXG4gICAgICBzYTogXCJTYW5za3JpdFwiLFxuICAgICAgc2M6IFwiU2FyZGluaWFuXCIsXG4gICAgICBzZDogXCJTaW5kaGlcIixcbiAgICAgIHNpOiBcIlNpbmdoYWxlc2VcIixcbiAgICAgIHNyOiBcIlNlcmJpYW5cIixcbiAgICAgIHNrOiBcIlNsb3Zha1wiLFxuICAgICAgc2w6IFwiU2xvdmVuaWFuXCIsXG4gICAgICBzbzogXCJTb21hbmlcIixcbiAgICAgIHNiOiBcIlNvcmJpYW5cIixcbiAgICAgIGVzOiBcIlNwYW5pc2hcIixcbiAgICAgIFwiZXMtQVJcIjogXCJTcGFuaXNoIChBcmdlbnRpbmEpXCIsXG4gICAgICBcImVzLUJPXCI6IFwiU3BhbmlzaCAoQm9saXZpYSlcIixcbiAgICAgIFwiZXMtQ0xcIjogXCJTcGFuaXNoIChDaGlsZSlcIixcbiAgICAgIFwiZXMtQ09cIjogXCJTcGFuaXNoIChDb2xvbWJpYSlcIixcbiAgICAgIFwiZXMtQ1JcIjogXCJTcGFuaXNoIChDb3N0YSBSaWNhKVwiLFxuICAgICAgXCJlcy1ET1wiOiBcIlNwYW5pc2ggKERvbWluaWNhbiBSZXB1YmxpYylcIixcbiAgICAgIFwiZXMtRUNcIjogXCJTcGFuaXNoIChFY3VhZG9yKVwiLFxuICAgICAgXCJlcy1TVlwiOiBcIlNwYW5pc2ggKEVsIFNhbHZhZG9yKVwiLFxuICAgICAgXCJlcy1HVFwiOiBcIlNwYW5pc2ggKEd1YXRlbWFsYSlcIixcbiAgICAgIFwiZXMtSE5cIjogXCJTcGFuaXNoIChIb25kdXJhcylcIixcbiAgICAgIFwiZXMtTVhcIjogXCJTcGFuaXNoIChNZXhpY28pXCIsXG4gICAgICBcImVzLU5JXCI6IFwiU3BhbmlzaCAoTmljYXJhZ3VhKVwiLFxuICAgICAgXCJlcy1QQVwiOiBcIlNwYW5pc2ggKFBhbmFtYSlcIixcbiAgICAgIFwiZXMtUFlcIjogXCJTcGFuaXNoIChQYXJhZ3VheSlcIixcbiAgICAgIFwiZXMtUEVcIjogXCJTcGFuaXNoIChQZXJ1KVwiLFxuICAgICAgXCJlcy1QUlwiOiBcIlNwYW5pc2ggKFB1ZXJ0byBSaWNvKVwiLFxuICAgICAgXCJlcy1FU1wiOiBcIlNwYW5pc2ggKFNwYWluKVwiLFxuICAgICAgXCJlcy1VWVwiOiBcIlNwYW5pc2ggKFVydWd1YXkpXCIsXG4gICAgICBcImVzLVZFXCI6IFwiU3BhbmlzaCAoVmVuZXp1ZWxhKVwiLFxuICAgICAgc3g6IFwiU3V0dVwiLFxuICAgICAgc3c6IFwiU3dhaGlsaVwiLFxuICAgICAgc3Y6IFwiU3dlZGlzaFwiLFxuICAgICAgXCJzdi1GSVwiOiBcIlN3ZWRpc2ggKEZpbmxhbmQpXCIsXG4gICAgICBcInN2LVNWXCI6IFwiU3dlZGlzaCAoU3dlZGVuKVwiLFxuICAgICAgdGE6IFwiVGFtaWxcIixcbiAgICAgIHR0OiBcIlRhdGFyXCIsXG4gICAgICB0ZTogXCJUZWx1Z2FcIixcbiAgICAgIHRoOiBcIlRoYWlcIixcbiAgICAgIHRpZzogXCJUaWdyZVwiLFxuICAgICAgdHM6IFwiVHNvbmdhXCIsXG4gICAgICB0bjogXCJUc3dhbmFcIixcbiAgICAgIHRyOiBcIlR1cmtpc2hcIixcbiAgICAgIHRrOiBcIlR1cmttZW5cIixcbiAgICAgIHVrOiBcIlVrcmFpbmlhblwiLFxuICAgICAgaHNiOiBcIlVwcGVyIFNvcmJpYW5cIixcbiAgICAgIHVyOiBcIlVyZHVcIixcbiAgICAgIHZlOiBcIlZlbmRhXCIsXG4gICAgICB2aTogXCJWaWV0bmFtZXNlXCIsXG4gICAgICB2bzogXCJWb2xhcHVrXCIsXG4gICAgICB3YTogXCJXYWxsb29uXCIsXG4gICAgICBjeTogXCJXZWxzaFwiLFxuICAgICAgeGg6IFwiWGhvc2FcIixcbiAgICAgIGppOiBcIllpZGRpc2hcIixcbiAgICAgIHp1OiBcIlp1bHVcIlxuICAgIH07XG5cbiAgICBpZiAodGhpcy5pbnRlcm5hbC5sYW5ndWFnZVNldHRpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWwubGFuZ3VhZ2VTZXR0aW5ncyA9IHt9O1xuICAgICAgdGhpcy5pbnRlcm5hbC5sYW5ndWFnZVNldHRpbmdzLmlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChsYW5nQ29kZXNbbGFuZ0NvZGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWwubGFuZ3VhZ2VTZXR0aW5ncy5sYW5ndWFnZUNvZGUgPSBsYW5nQ29kZTtcbiAgICAgIGlmICh0aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3MuaXNTdWJzY3JpYmVkID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmludGVybmFsLmV2ZW50cy5zdWJzY3JpYmUoXCJwdXRDYXRhbG9nXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXG4gICAgICAgICAgICBcIi9MYW5nIChcIiArIHRoaXMuaW50ZXJuYWwubGFuZ3VhZ2VTZXR0aW5ncy5sYW5ndWFnZUNvZGUgKyBcIilcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmludGVybmFsLmxhbmd1YWdlU2V0dGluZ3MuaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59KShqc1BERi5BUEkpO1xuIiwiLyoqIEBsaWNlbnNlXG4ganNQREYgc3RhbmRhcmRfZm9udHNfbWV0cmljcyBwbHVnaW5cbiAqIENvcHlyaWdodCAoYykgMjAxMiBXaWxsb3cgU3lzdGVtcyBDb3Jwb3JhdGlvbiwgaHR0cHM6Ly9naXRodWIuY29tL3dpbGxvd3N5c3RlbXNcbiAqIE1JVCBsaWNlbnNlLlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqIFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICogXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxuICogTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTlxuICogT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4gKiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcblxuLyoqXG4gKiBUaGlzIGZpbGUgYWRkcyB0aGUgc3RhbmRhcmQgZm9udCBtZXRyaWNzIHRvIGpzUERGLlxuICpcbiAqIEZvbnQgbWV0cmljcyBkYXRhIGlzIHJlcHJvY2Vzc2VkIGRlcml2YXRpdmUgb2YgY29udGVudHMgb2ZcbiAqIFwiRm9udCBNZXRyaWNzIGZvciBQREYgQ29yZSAxNCBGb250c1wiIHBhY2thZ2UsIHdoaWNoIGV4aGliaXRzIHRoZSBmb2xsb3dpbmcgY29weXJpZ2h0IGFuZCBsaWNlbnNlOlxuICpcbiAqIENvcHlyaWdodCAoYykgMTk4OSwgMTk5MCwgMTk5MSwgMTk5MiwgMTk5MywgMTk5NyBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIGZpbGUgYW5kIHRoZSAxNCBQb3N0U2NyaXB0KFIpIEFGTSBmaWxlcyBpdCBhY2NvbXBhbmllcyBtYXkgYmUgdXNlZCxcbiAqIGNvcGllZCwgYW5kIGRpc3RyaWJ1dGVkIGZvciBhbnkgcHVycG9zZSBhbmQgd2l0aG91dCBjaGFyZ2UsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBwcm92aWRlZCB0aGF0IGFsbCBjb3B5cmlnaHQgbm90aWNlcyBhcmUgcmV0YWluZWQ7IHRoYXQgdGhlIEFGTVxuICogZmlsZXMgYXJlIG5vdCBkaXN0cmlidXRlZCB3aXRob3V0IHRoaXMgZmlsZTsgdGhhdCBhbGwgbW9kaWZpY2F0aW9ucyB0byB0aGlzXG4gKiBmaWxlIG9yIGFueSBvZiB0aGUgQUZNIGZpbGVzIGFyZSBwcm9taW5lbnRseSBub3RlZCBpbiB0aGUgbW9kaWZpZWQgZmlsZShzKTtcbiAqIGFuZCB0aGF0IHRoaXMgcGFyYWdyYXBoIGlzIG5vdCBtb2RpZmllZC4gQWRvYmUgU3lzdGVtcyBoYXMgbm8gcmVzcG9uc2liaWxpdHlcbiAqIG9yIG9ibGlnYXRpb24gdG8gc3VwcG9ydCB0aGUgdXNlIG9mIHRoZSBBRk0gZmlsZXMuXG4gKlxuICogQG5hbWUgc3RhbmRhcmRfZm9udHNfbWV0cmljc1xuICogQG1vZHVsZVxuICovXG5cbihmdW5jdGlvbihBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIEFQSS5fX2ZvbnRtZXRyaWNzX18gPSBBUEkuX19mb250bWV0cmljc19fIHx8IHt9O1xuXG4gIHZhciBkZWNvZGVkID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCIsXG4gICAgZW5jb2RlZCA9IFwia2xtbm9wcXJzdHV2d3h5elwiLFxuICAgIG1hcHBpbmdVbmNvbXByZXNzID0ge30sXG4gICAgbWFwcGluZ0NvbXByZXNzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwcGluZ1VuY29tcHJlc3NbZW5jb2RlZFtpXV0gPSBkZWNvZGVkW2ldO1xuICAgIG1hcHBpbmdDb21wcmVzc1tkZWNvZGVkW2ldXSA9IGVuY29kZWRbaV07XG4gIH1cblxuICB2YXIgaGV4ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gXCIweFwiICsgcGFyc2VJbnQodmFsdWUsIDEwKS50b1N0cmluZygxNik7XG4gIH07XG5cbiAgdmFyIGNvbXByZXNzID0gKEFQSS5fX2ZvbnRtZXRyaWNzX18uY29tcHJlc3MgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIHZhbHMgPSBbXCJ7XCJdO1xuICAgIHZhciB2YWx1ZSwga2V5c3RyaW5nLCB2YWx1ZXN0cmluZywgbnVtYmVycHJlZml4O1xuXG4gICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgIHZhbHVlID0gZGF0YVtrZXldO1xuXG4gICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGtleSwgMTApKSkge1xuICAgICAgICBrZXkgPSBwYXJzZUludChrZXksIDEwKTtcbiAgICAgICAga2V5c3RyaW5nID0gaGV4KGtleSkuc2xpY2UoMik7XG4gICAgICAgIGtleXN0cmluZyA9XG4gICAgICAgICAga2V5c3RyaW5nLnNsaWNlKDAsIC0xKSArIG1hcHBpbmdDb21wcmVzc1trZXlzdHJpbmcuc2xpY2UoLTEpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXN0cmluZyA9IFwiJ1wiICsga2V5ICsgXCInXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgdmFsdWVzdHJpbmcgPSBoZXgodmFsdWUpLnNsaWNlKDMpO1xuICAgICAgICAgIG51bWJlcnByZWZpeCA9IFwiLVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlc3RyaW5nID0gaGV4KHZhbHVlKS5zbGljZSgyKTtcbiAgICAgICAgICBudW1iZXJwcmVmaXggPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlc3RyaW5nID1cbiAgICAgICAgICBudW1iZXJwcmVmaXggK1xuICAgICAgICAgIHZhbHVlc3RyaW5nLnNsaWNlKDAsIC0xKSArXG4gICAgICAgICAgbWFwcGluZ0NvbXByZXNzW3ZhbHVlc3RyaW5nLnNsaWNlKC0xKV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgdmFsdWVzdHJpbmcgPSBjb21wcmVzcyh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJEb24ndCBrbm93IHdoYXQgdG8gZG8gd2l0aCB2YWx1ZSB0eXBlIFwiICsgdHlwZW9mIHZhbHVlICsgXCIuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWxzLnB1c2goa2V5c3RyaW5nICsgdmFsdWVzdHJpbmcpO1xuICAgIH1cbiAgICB2YWxzLnB1c2goXCJ9XCIpO1xuICAgIHJldHVybiB2YWxzLmpvaW4oXCJcIik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBVbmNvbXByZXNzZXMgZGF0YSBjb21wcmVzc2VkIGludG8gY3VzdG9tLCBiYXNlMTYtbGlrZSBmb3JtYXQuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbVxuICAgKiBAcmV0dXJucyB7VHlwZX1cbiAgICovXG4gIHZhciB1bmNvbXByZXNzID0gKEFQSS5fX2ZvbnRtZXRyaWNzX18udW5jb21wcmVzcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIHRvIHVuY29tcHJlc3MuXCIpO1xuICAgIH1cblxuICAgIHZhciBvdXRwdXQgPSB7fSxcbiAgICAgIHNpZ24gPSAxLFxuICAgICAgc3RyaW5ncGFydHMsIC8vIHVuZGVmLiB3aWxsIGJlIFtdIGluIHN0cmluZyBtb2RlXG4gICAgICBhY3RpdmVvYmplY3QgPSBvdXRwdXQsXG4gICAgICBwYXJlbnRjaGFpbiA9IFtdLFxuICAgICAgcGFyZW50X2tleV9wYWlyLFxuICAgICAga2V5cGFydHMgPSBcIlwiLFxuICAgICAgdmFsdWVwYXJ0cyA9IFwiXCIsXG4gICAgICBrZXksIC8vIHVuZGVmLiB3aWxsIGJlIFRydXRoeSB3aGVuIEtleSBpcyByZXNvbHZlZC5cbiAgICAgIGRhdGFsZW4gPSBkYXRhLmxlbmd0aCAtIDEsIC8vIHN0cmlwcGluZyBlbmRpbmcgfVxuICAgICAgY2g7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGRhdGFsZW47IGkgKz0gMSkge1xuICAgICAgLy8gLSB7IH0gJyBhcmUgc3BlY2lhbC5cblxuICAgICAgY2ggPSBkYXRhW2ldO1xuXG4gICAgICBpZiAoY2ggPT0gXCInXCIpIHtcbiAgICAgICAgaWYgKHN0cmluZ3BhcnRzKSB7XG4gICAgICAgICAgLy8gZW5kIG9mIHN0cmluZyBtb2RlXG4gICAgICAgICAga2V5ID0gc3RyaW5ncGFydHMuam9pbihcIlwiKTtcbiAgICAgICAgICBzdHJpbmdwYXJ0cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBzdGFydCBvZiBzdHJpbmcgbW9kZVxuICAgICAgICAgIHN0cmluZ3BhcnRzID0gW107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5ncGFydHMpIHtcbiAgICAgICAgc3RyaW5ncGFydHMucHVzaChjaCk7XG4gICAgICB9IGVsc2UgaWYgKGNoID09IFwie1wiKSB7XG4gICAgICAgIC8vIHN0YXJ0IG9mIG9iamVjdFxuICAgICAgICBwYXJlbnRjaGFpbi5wdXNoKFthY3RpdmVvYmplY3QsIGtleV0pO1xuICAgICAgICBhY3RpdmVvYmplY3QgPSB7fTtcbiAgICAgICAga2V5ID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIn1cIikge1xuICAgICAgICAvLyBlbmQgb2Ygb2JqZWN0XG4gICAgICAgIHBhcmVudF9rZXlfcGFpciA9IHBhcmVudGNoYWluLnBvcCgpO1xuICAgICAgICBwYXJlbnRfa2V5X3BhaXJbMF1bcGFyZW50X2tleV9wYWlyWzFdXSA9IGFjdGl2ZW9iamVjdDtcbiAgICAgICAga2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICBhY3RpdmVvYmplY3QgPSBwYXJlbnRfa2V5X3BhaXJbMF07XG4gICAgICB9IGVsc2UgaWYgKGNoID09IFwiLVwiKSB7XG4gICAgICAgIHNpZ24gPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG11c3QgYmUgbnVtYmVyXG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChtYXBwaW5nVW5jb21wcmVzcy5oYXNPd25Qcm9wZXJ0eShjaCkpIHtcbiAgICAgICAgICAgIGtleXBhcnRzICs9IG1hcHBpbmdVbmNvbXByZXNzW2NoXTtcbiAgICAgICAgICAgIGtleSA9IHBhcnNlSW50KGtleXBhcnRzLCAxNikgKiBzaWduO1xuICAgICAgICAgICAgc2lnbiA9ICsxO1xuICAgICAgICAgICAga2V5cGFydHMgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXlwYXJ0cyArPSBjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG1hcHBpbmdVbmNvbXByZXNzLmhhc093blByb3BlcnR5KGNoKSkge1xuICAgICAgICAgICAgdmFsdWVwYXJ0cyArPSBtYXBwaW5nVW5jb21wcmVzc1tjaF07XG4gICAgICAgICAgICBhY3RpdmVvYmplY3Rba2V5XSA9IHBhcnNlSW50KHZhbHVlcGFydHMsIDE2KSAqIHNpZ247XG4gICAgICAgICAgICBzaWduID0gKzE7XG4gICAgICAgICAgICBrZXkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YWx1ZXBhcnRzID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVwYXJ0cyArPSBjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSk7XG5cbiAgLy8gZW5jb2RpbmcgPSAnVW5pY29kZSdcbiAgLy8gTk9UIFVURjgsIE5PVCBVVEYxNkJFL0xFLCBOT1QgVUNTMkJFL0xFLiBOTyBjbGV2ZXIgQk9NIGJlaGF2aW9yXG4gIC8vIEFjdHVhbCAxNmJpdCBjaGFyIGNvZGVzIHVzZWQuXG4gIC8vIG5vIG11bHRpLWJ5dGUgbG9naWMgaGVyZVxuXG4gIC8vIFVuaWNvZGUgY2hhcmFjdGVycyB0byBXaW5BbnNpRW5jb2Rpbmc6XG4gIC8vIHs0MDI6IDEzMSwgODIxMTogMTUwLCA4MjEyOiAxNTEsIDgyMTY6IDE0NSwgODIxNzogMTQ2LCA4MjE4OiAxMzAsIDgyMjA6IDE0NywgODIyMTogMTQ4LCA4MjIyOiAxMzIsIDgyMjQ6IDEzNCwgODIyNTogMTM1LCA4MjI2OiAxNDksIDgyMzA6IDEzMywgODM2NDogMTI4LCA4MjQwOjEzNywgODI0OTogMTM5LCA4MjUwOiAxNTUsIDcxMDogMTM2LCA4NDgyOiAxNTMsIDMzODogMTQwLCAzMzk6IDE1NiwgNzMyOiAxNTIsIDM1MjogMTM4LCAzNTM6IDE1NCwgMzc2OiAxNTksIDM4MTogMTQyLCAzODI6IDE1OH1cbiAgLy8gYXMgeW91IGNhbiBzZWUsIGFsbCBVbmljb2RlIGNoYXJzIGFyZSBvdXRzaWRlIG9mIDAtMjU1IHJhbmdlLiBObyBjaGFyIGNvZGUgY29uZmxpY3RzLlxuICAvLyB0aGlzIG1lYW5zIHRoYXQgeW91IGNhbiBnaXZlIFdpbiBjcDEyNTIgZW5jb2RlZCBzdHJpbmdzIHRvIGpzUERGIGZvciByZW5kZXJpbmcgZGlyZWN0bHlcbiAgLy8gYXMgd2VsbCBhcyBnaXZlIHN0cmluZ3Mgd2l0aCBzb21lIChzdXBwb3J0ZWQgYnkgdGhlc2UgZm9udHMpIFVuaWNvZGUgY2hhcmFjdGVycyBhbmRcbiAgLy8gdGhlc2Ugd2lsbCBiZSBtYXBwZWQgdG8gd2luIGNwMTI1MlxuICAvLyBmb3IgZXhhbXBsZSwgeW91IGNhbiBzZW5kIGNoYXIgY29kZSAoY3AxMjUyKSAweDgwIG9yICh1bmljb2RlKSAweDIwQUMsIGdldHRpbmcgXCJFdXJvXCIgZ2x5cGggZGlzcGxheWVkIGluIGJvdGggY2FzZXMuXG5cbiAgdmFyIGVuY29kaW5nQmxvY2sgPSB7XG4gICAgY29kZVBhZ2VzOiBbXCJXaW5BbnNpRW5jb2RpbmdcIl0sXG4gICAgV2luQW5zaUVuY29kaW5nOiB1bmNvbXByZXNzKFxuICAgICAgXCJ7MTltOG4yMDFuOXEyMDFvOXIyMDFzOWwyMDF0OW0yMDF1OG0yMDF3OW4yMDF4OW8yMDF5OG8yMDJrOHEyMDJsOHIyMDJtOXAyMDJxOHAyMGF3OGsyMDNrOHQyMDN0OHYyMDN1OXYyY3E4czIxMm05dDE1bTh3MTVuOXcyZHc5czE2azh1MTZsOXUxN3M5ejE3eDh5MTd5OXl9XCJcbiAgICApXG4gIH07XG4gIHZhciBlbmNvZGluZ3MgPSB7XG4gICAgVW5pY29kZToge1xuICAgICAgQ291cmllcjogZW5jb2RpbmdCbG9jayxcbiAgICAgIFwiQ291cmllci1Cb2xkXCI6IGVuY29kaW5nQmxvY2ssXG4gICAgICBcIkNvdXJpZXItQm9sZE9ibGlxdWVcIjogZW5jb2RpbmdCbG9jayxcbiAgICAgIFwiQ291cmllci1PYmxpcXVlXCI6IGVuY29kaW5nQmxvY2ssXG4gICAgICBIZWx2ZXRpY2E6IGVuY29kaW5nQmxvY2ssXG4gICAgICBcIkhlbHZldGljYS1Cb2xkXCI6IGVuY29kaW5nQmxvY2ssXG4gICAgICBcIkhlbHZldGljYS1Cb2xkT2JsaXF1ZVwiOiBlbmNvZGluZ0Jsb2NrLFxuICAgICAgXCJIZWx2ZXRpY2EtT2JsaXF1ZVwiOiBlbmNvZGluZ0Jsb2NrLFxuICAgICAgXCJUaW1lcy1Sb21hblwiOiBlbmNvZGluZ0Jsb2NrLFxuICAgICAgXCJUaW1lcy1Cb2xkXCI6IGVuY29kaW5nQmxvY2ssXG4gICAgICBcIlRpbWVzLUJvbGRJdGFsaWNcIjogZW5jb2RpbmdCbG9jayxcbiAgICAgIFwiVGltZXMtSXRhbGljXCI6IGVuY29kaW5nQmxvY2tcbiAgICAgIC8vXHQsICdTeW1ib2wnXG4gICAgICAvL1x0LCAnWmFwZkRpbmdiYXRzJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgZm9udE1ldHJpY3MgPSB7XG4gICAgVW5pY29kZToge1xuICAgICAgLy8gYWxsIHNpemluZyBudW1iZXJzIGFyZSBuL2ZvbnRNZXRyaWNzRnJhY3Rpb25PZiA9IG9uZSBmb250IHNpemUgdW5pdFxuICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IGlmIGZvbnRNZXRyaWNzRnJhY3Rpb25PZiA9IDEwMDAsIGFuZCBsZXR0ZXIgQSdzIHdpZHRoIGlzIDQ3NiwgaXQnc1xuICAgICAgLy8gd2lkdGggaXMgNDc2LzEwMDAgb3IgNDcuNiUgb2YgaXRzIGhlaWdodCAocmVnYXJkbGVzcyBvZiBmb250IHNpemUpXG4gICAgICAvLyBBdCB0aGlzIHRpbWUgdGhpcyB2YWx1ZSBhcHBsaWVzIHRvIFwid2lkdGhzXCIgYW5kIFwia2VybmluZ1wiIG51bWJlcnMuXG5cbiAgICAgIC8vIGNoYXIgY29kZSAwIHJlcHJlc2VudHMgXCJkZWZhdWx0XCIgKGF2ZXJhZ2UpIHdpZHRoIC0gdXNlIGl0IGZvciBjaGFycyBtaXNzaW5nIGluIHRoaXMgdGFibGUuXG4gICAgICAvLyBrZXkgJ2ZvZicgcmVwcmVzZW50cyB0aGUgXCJmb250TWV0cmljc0ZyYWN0aW9uT2ZcIiB2YWx1ZVxuXG4gICAgICBcIkNvdXJpZXItT2JsaXF1ZVwiOiB1bmNvbXByZXNzKFxuICAgICAgICBcInsnd2lkdGhzJ3trM3cnZm9mJzZvfSdrZXJuaW5nJ3snZm9mJy02b319XCJcbiAgICAgICksXG4gICAgICBcIlRpbWVzLUJvbGRJdGFsaWNcIjogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azNvMnE0eWN4MnIyMDFuM20yMDFvNm8yMDFzMmwyMDF0MmwyMDF1MmwyMDF3M20yMDF4M20yMDF5M20yazF0MmwycjIwMm0ybjJuM20ybzNtMnA1bjIwMnE2bzJyMXcyczJsMnQybDJ1M20ydjN0MncxdDJ4MmwyeTF0MnoxdzNrM20zbDNtM20zbTNuM20zbzNtM3AzbTNxM20zcjNtM3MzbTIwM3QybDIwM3UybDN2MmwzdzN0M3gzdDN5M3QzejNtNGs1bjRsNG00bTRtNG40bTRvNHM0cDRtNHE0bTRyNHM0czR5NHQycjR1M200djRtNHczeDR4NXQ0eTRzNHo0czVrM3g1bDRzNW00bTVuM3I1bzN4NXA0czVxNG01cjV0NXM0bTV0M3g1dTN4NXYybDV3MXc1eDJsNXkzdDV6M202azJsNmwzbTZtM202bjJ3Nm8zbTZwMnc2cTJsNnIzbTZzM3I2dDF3NnUxdzZ2M202dzF3Nng0eTZ5M3I2ejNtN2szbTdsM203bTJyN24ycjdvMXc3cDNyN3EydzdyNG03czNtN3Qydzd1MnI3djJuN3cxcTd4Mm43eTN0MjAybDNtY2w0bWFsMnJhbTNtYW4zbWFvM21hcDNtYXIzbWFzMmxhdDR1YXUxdWF2M21hdzN3YXk0dWF6MmxiazJzYmwzdCdmb2YnNm9ibzJsYnAzdGJxM21icjF0YnMybGJ1MXlidjNtYnozbWNrNG0yMDJrM21jbTRtY240bWNvNG1jcDRtY3E1eWNyNG1jczRtY3Q0bWN1NG1jdjRtY3cycjJtM3JjeTJyY3oycmRsNHNkbTRzZG40c2RvNHNkcDRzZHE0c2RzNHNkdDRzZHU0c2R2NHNkdzRzZHozbWVrM21lbDNtZW0zbWVuM21lbzNtZXAzbWVxNHNlcjJ3ZXMyd2V0MndldTJ3ZXYyd2V3MXdleDF3ZXkxd2V6MXdmbDNyZm0zbWZuM21mbzNtZnAzbWZxM21mcjN0ZnMzbWZ0M3JmdTNyZnYzcmZ3M3JmejJ3MjAzazZvMjEybTZvMmR3MmwyY3EybDN0M20zdTJsMTdzM3gxOW0zbX0na2VybmluZyd7Y2x7NHF1NWt0NXF0NXJzMTdzczV0c30yMDFzezIwMXNzfTIwMXR7Y2tzNGxzY21zY25zY29zY3BzY2xzMnd1Mnl1MjAxdHN9MjAxeHsyd3UyeXV9Mmt7MjAxdHN9Mnd7NHF4NWt4NW91NXF4NXJzMTdzdTV0dX0yeHsxN3N1NXR1NW91fTJ5ezRxeDVreDVvdTVxeDVyczE3c3M1dHN9J2ZvZictNm9mbnsxN3N3NXR3NW91NXF3NXJzfTd0e2Nrc2Nsc2Ntc2Nuc2Nvc2NwczRsc30zdXsxN3N1NXR1NW9zNXFzfTN2ezE3c3U1dHU1b3M1cXN9N3B7MTdzdTV0dX1ja3s0cXU1a3Q1cXQ1cnMxN3NzNXRzfTRsezRxdTVrdDVxdDVyczE3c3M1dHN9Y217NHF1NWt0NXF0NXJzMTdzczV0c31jbns0cXU1a3Q1cXQ1cnMxN3NzNXRzfWNvezRxdTVrdDVxdDVyczE3c3M1dHN9Y3B7NHF1NWt0NXF0NXJzMTdzczV0c302bHs0cXU1b3U1cXc1cnQxN3N1NXR1fTVxe2NrdWNsdWNtdWNudWNvdWNwdTRsdX01cntja3VjbHVjbXVjbnVjb3VjcHU0bHV9N3F7Y2tzY2xzY21zY25zY29zY3BzNGxzfTZwezRxdTVvdTVxdzVydDE3c3c1dHd9ZWt7NHF1NW91NXF3NXJ0MTdzdTV0dX1lbHs0cXU1b3U1cXc1cnQxN3N1NXR1fWVtezRxdTVvdTVxdzVydDE3c3U1dHV9ZW57NHF1NW91NXF3NXJ0MTdzdTV0dX1lb3s0cXU1b3U1cXc1cnQxN3N1NXR1fWVwezRxdTVvdTVxdzVydDE3c3U1dHV9ZXN7MTdzczV0czVxczRxdX1ldHs0cXU1b3U1cXc1cnQxN3N3NXR3fWV1ezRxdTVvdTVxdzVydDE3c3M1dHN9ZXZ7MTdzczV0czVxczRxdX02ensxN3N3NXR3NW91NXF3NXJzfWZtezE3c3c1dHc1b3U1cXc1cnN9N257MjAxdHN9Zm97MTdzdzV0dzVvdTVxdzVyc31mcHsxN3N3NXR3NW91NXF3NXJzfWZxezE3c3c1dHc1b3U1cXc1cnN9N3J7Y2tzY2xzY21zY25zY29zY3BzNGxzfWZzezE3c3c1dHc1b3U1cXc1cnN9ZnR7MTdzdTV0dX1mdXsxN3N1NXR1fWZ2ezE3c3U1dHV9Znd7MTdzdTV0dX1mentja3NjbHNjbXNjbnNjb3NjcHM0bHN9fX1cIlxuICAgICAgKSxcbiAgICAgIFwiSGVsdmV0aWNhLUJvbGRcIjogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azNzMnE0c2N4MXcyMDFuM3IyMDFvNm8yMDFzMXcyMDF0MXcyMDF1MXcyMDF3M20yMDF4M20yMDF5M20yazF3MmwybDIwMm0ybjJuM3IybzNyMnA1dDIwMnE2bzJyMXMyczJsMnQybDJ1MnIydjN1MncxdzJ4MmwyeTF3MnoxdzNrM3IzbDNyM20zcjNuM3IzbzNyM3AzcjNxM3IzcjNyM3MzcjIwM3QybDIwM3UybDN2MmwzdzN1M3gzdTN5M3UzejN4NGs2bDRsNHM0bTRzNG40czRvNHM0cDRtNHEzeDRyNHk0czRzNHQxdzR1M3I0djRzNHczeDR4NW40eTRzNHo0eTVrNG01bDR5NW00czVuNG01bzN4NXA0czVxNG01cjV5NXM0bTV0NG01dTN4NXYybDV3MXc1eDJsNXkzdTV6M3I2azJsNmwzcjZtM3g2bjNyNm8zeDZwM3I2cTJsNnIzeDZzM3g2dDF3NnUxdzZ2M3I2dzF3Nng1dDZ5M3g2ejN4N2szeDdsM3g3bTJyN24zcjdvMmw3cDN4N3EzcjdyNHk3czNyN3Qzcjd1M203djJyN3cxdzd4MnI3eTN1MjAybDNyY2w0c2FsMmxhbTNyYW4zcmFvM3JhcDNyYXIzcmFzMmxhdDR0YXUycGF2M3JhdzN1YXk0dGF6MmxiazJzYmwzdSdmb2YnNm9ibzJsYnAzeGJxM3JicjF3YnMybGJ1Mm9idjNyYnozeGNrNHMyMDJrM3JjbTRzY240c2NvNHNjcDRzY3E2b2NyNHNjczRtY3Q0bWN1NG1jdjRtY3cxdzJtMnpjeTF3Y3oxd2RsNHNkbTR5ZG40eWRvNHlkcDR5ZHE0eWRzNHlkdDRzZHU0c2R2NHNkdzRzZHozeGVrM3JlbDNyZW0zcmVuM3JlbzNyZXAzcmVxNXRlcjNyZXMzcmV0M3JldTNyZXYzcmV3MXdleDF3ZXkxd2V6MXdmbDN4Zm0zeGZuM3hmbzN4ZnAzeGZxM3hmcjN1ZnMzeGZ0M3hmdTN4ZnYzeGZ3M3hmejNyMjAzazZvMjEybTZvMmR3MmwyY3EybDN0M3IzdTJsMTdzNG0xOW0zcn0na2VybmluZyd7Y2x7NHFzNWt1NW90NXFzMTdzdjV0dn0yMDF0ezJ3dzR3eTJ5d30yMDF3ezJrc30yMDF4ezJ3dzR3eTJ5d30ya3syMDF0czIwMXhzfTJ3ezdxczRxdTVrdzVvczVxdzVyczE3c3U1dHU3dHNmenN9Mnh7NW93NXFzfTJ5ezdxczRxdTVrdzVvczVxdzVyczE3c3U1dHU3dHNmenN9J2ZvZictNm83cHsxN3N1NXR1NW90fWNrezRxczVrdTVvdDVxczE3c3Y1dHZ9NGx7NHFzNWt1NW90NXFzMTdzdjV0dn1jbXs0cXM1a3U1b3Q1cXMxN3N2NXR2fWNuezRxczVrdTVvdDVxczE3c3Y1dHZ9Y297NHFzNWt1NW90NXFzMTdzdjV0dn1jcHs0cXM1a3U1b3Q1cXMxN3N2NXR2fTZsezE3c3Q1dHQ1b3N9MTdzezJrd2NsdmNtdmNudmNvdmNwdjRsdjR3d2Nrdn01b3sya3VjbHRjbXRjbnRjb3RjcHQ0bHQ0d3Rja3R9NXF7MmtzY2xzY21zY25zY29zY3BzNGxzNHd2Y2tzfTVyezJrczR3c301dHsya3djbHZjbXZjbnZjb3ZjcHY0bHY0d3dja3Z9ZW97MTdzdDV0dDVvc31mdXsxN3N1NXR1NW90fTZwezE3c3M1dHN9ZWt7MTdzdDV0dDVvc31lbHsxN3N0NXR0NW9zfWVtezE3c3Q1dHQ1b3N9ZW57MTdzdDV0dDVvc302b3syMDF0c31lcHsxN3N0NXR0NW9zfWVzezE3c3M1dHN9ZXR7MTdzczV0c31ldXsxN3NzNXRzfWV2ezE3c3M1dHN9Nnp7MTdzdTV0dTVvczVxdH1mbXsxN3N1NXR1NW9zNXF0fWZuezE3c3U1dHU1b3M1cXR9Zm97MTdzdTV0dTVvczVxdH1mcHsxN3N1NXR1NW9zNXF0fWZxezE3c3U1dHU1b3M1cXR9ZnN7MTdzdTV0dTVvczVxdH1mdHsxN3N1NXR1NW90fTdtezVvc31mdnsxN3N1NXR1NW90fWZ3ezE3c3U1dHU1b3R9fX1cIlxuICAgICAgKSxcbiAgICAgIENvdXJpZXI6IHVuY29tcHJlc3MoXCJ7J3dpZHRocyd7azN3J2ZvZic2b30na2VybmluZyd7J2ZvZictNm99fVwiKSxcbiAgICAgIFwiQ291cmllci1Cb2xkT2JsaXF1ZVwiOiB1bmNvbXByZXNzKFxuICAgICAgICBcInsnd2lkdGhzJ3trM3cnZm9mJzZvfSdrZXJuaW5nJ3snZm9mJy02b319XCJcbiAgICAgICksXG4gICAgICBcIlRpbWVzLUJvbGRcIjogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azNxMnE1bmN4MnIyMDFuM20yMDFvNm8yMDFzMmwyMDF0MmwyMDF1MmwyMDF3M20yMDF4M20yMDF5M20yazF0MmwybDIwMm0ybjJuM20ybzNtMnA2bzIwMnE2bzJyMXcyczJsMnQybDJ1M20ydjN0MncxdDJ4MmwyeTF0MnoxdzNrM20zbDNtM20zbTNuM20zbzNtM3AzbTNxM20zcjNtM3MzbTIwM3QybDIwM3UybDN2MmwzdzN0M3gzdDN5M3QzejNtNGs1eDRsNHM0bTRtNG40czRvNHM0cDRtNHEzeDRyNHk0czR5NHQycjR1M200djR5NHc0bTR4NXk0eTRzNHo0eTVrM3g1bDR5NW00czVuM3I1bzRtNXA0czVxNHM1cjZvNXM0czV0NHM1dTRtNXYybDV3MXc1eDJsNXkzdTV6M202azJsNmwzbTZtM3I2bjJ3Nm8zcjZwMnc2cTJsNnIzbTZzM3I2dDF3NnUybDZ2M3I2dzF3Nng1bjZ5M3I2ejNtN2szcjdsM3I3bTJ3N24ycjdvMmw3cDNyN3EzbTdyNHM3czNtN3QzbTd1Mnc3djJyN3cxcTd4MnI3eTNvMjAybDNtY2w0c2FsMmxhbTNtYW4zbWFvM21hcDNtYXIzbWFzMmxhdDR1YXUxeWF2M21hdzN0YXk0dWF6MmxiazJzYmwzdCdmb2YnNm9ibzJsYnAzcmJyMXRiczJsYnUybGJ2M21iejNtY2s0czIwMmszbWNtNHNjbjRzY280c2NwNHNjcTZvY3I0c2NzNG1jdDRtY3U0bWN2NG1jdzJyMm0zcmN5MnJjejJyZGw0c2RtNHlkbjR5ZG80eWRwNHlkcTR5ZHM0eWR0NHNkdTRzZHY0c2R3NHNkejNyZWszbWVsM21lbTNtZW4zbWVvM21lcDNtZXE0c2VyMndlczJ3ZXQyd2V1MndldjJ3ZXcxd2V4MXdleTF3ZXoxd2ZsM3JmbTNtZm4zbWZvM21mcDNtZnEzbWZyM3RmczNtZnQzcmZ1M3JmdjNyZnczcmZ6M20yMDNrNm8yMTJtNm8yZHcybDJjcTJsM3QzbTN1MmwxN3M0czE5bTNtfSdrZXJuaW5nJ3tjbHs0cXQ1a3M1b3Q1cXk1cncxN3N2NXR2fTIwMXR7Y2tzNGxzY21zY25zY29zY3BzY2xzNHd2fTJrezIwMXRzfTJ3ezRxdTVrdTdtdTVvczVxeDVydTE3c3U1dHV9Mnh7MTdzdTV0dTVvdTVxc30yeXs0cXY1a3Y3bXU1b3Q1cXo1cnUxN3N1NXR1fSdmb2YnLTZvN3R7Y2tzY2xzY21zY25zY29zY3BzNGxzfTN1ezE3c3U1dHU1b3M1cXV9M3Z7MTdzdTV0dTVvczVxdX1mdXsxN3N1NXR1NW91NXF1fTdwezE3c3U1dHU1b3U1cXV9Y2t7NHF0NWtzNW90NXF5NXJ3MTdzdjV0dn00bHs0cXQ1a3M1b3Q1cXk1cncxN3N2NXR2fWNtezRxdDVrczVvdDVxeTVydzE3c3Y1dHZ9Y257NHF0NWtzNW90NXF5NXJ3MTdzdjV0dn1jb3s0cXQ1a3M1b3Q1cXk1cncxN3N2NXR2fWNwezRxdDVrczVvdDVxeTVydzE3c3Y1dHZ9Nmx7MTdzdDV0dDVvdTVxdX0xN3N7Y2t1Y2x1Y211Y251Y291Y3B1NGx1NHd1fTVve2NrdWNsdWNtdWNudWNvdWNwdTRsdTR3dX01cXtja3pjbHpjbXpjbnpjb3pjcHo0bHo0d3V9NXJ7Y2t4Y2x4Y214Y254Y294Y3B4NGx4NHd1fTV0e2NrdWNsdWNtdWNudWNvdWNwdTRsdTR3dX03cXtja3VjbHVjbXVjbnVjb3VjcHU0bHV9NnB7MTdzdzV0dzVvdTVxdX1la3sxN3N0NXR0NXF1fWVsezE3c3Q1dHQ1b3U1cXV9ZW17MTdzdDV0dDVxdX1lbnsxN3N0NXR0NXF1fWVvezE3c3Q1dHQ1cXV9ZXB7MTdzdDV0dDVvdTVxdX1lc3sxN3NzNXRzNXF1fWV0ezE3c3c1dHc1b3U1cXV9ZXV7MTdzdzV0dzVvdTVxdX1ldnsxN3NzNXRzNXF1fTZ6ezE3c3c1dHc1b3U1cXU1cnN9Zm17MTdzdzV0dzVvdTVxdTVyc31mbnsxN3N3NXR3NW91NXF1NXJzfWZvezE3c3c1dHc1b3U1cXU1cnN9ZnB7MTdzdzV0dzVvdTVxdTVyc31mcXsxN3N3NXR3NW91NXF1NXJzfTdye2NrdGNsdGNtdGNudGNvdGNwdDRsdDVvc31mc3sxN3N3NXR3NW91NXF1NXJzfWZ0ezE3c3U1dHU1b3U1cXV9N217NW9zfWZ2ezE3c3U1dHU1b3U1cXV9Znd7MTdzdTV0dTVvdTVxdX1mentja3NjbHNjbXNjbnNjb3NjcHM0bHN9fX1cIlxuICAgICAgKSxcbiAgICAgIFN5bWJvbDogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azN1YXc0cjE5bTNtMmsxdDJsMmwyMDJtMnkybjNtMnA1bjIwMnE2bzNrM20yczJsMnQybDJ2M3IydzF0M20zbTJ5MXQyejF3Ymsyc2JsM3InZm9mJzZvM24zbTNvM20zcDNtM3EzbTNyM20zczNtM3QzbTN1MXczdjF3M3czcjN4M3IzeTNyM3oyd2JwM3QzbDNtNXYybDV4Mmw1ejNtMnE0eWZyM3I3djNrN3cxbzd4M2t9J2tlcm5pbmcneydmb2YnLTZvfX1cIlxuICAgICAgKSxcbiAgICAgIEhlbHZldGljYTogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azNwMnE0bWN4MXcyMDFuM3IyMDFvNm8yMDFzMXEyMDF0MXEyMDF1MXEyMDF3MmwyMDF4MmwyMDF5MmwyazF3MmwxdzIwMm0ybjJuM3IybzNyMnA1dDIwMnE2bzJyMW4yczJsMnQybDJ1MnIydjN1MncxdzJ4MmwyeTF3MnoxdzNrM3IzbDNyM20zcjNuM3IzbzNyM3AzcjNxM3IzcjNyM3MzcjIwM3QybDIwM3UybDN2MXczdzN1M3gzdTN5M3UzejNyNGs2cDRsNG00bTRtNG40czRvNHM0cDRtNHEzeDRyNHk0czRzNHQxdzR1M200djRtNHczcjR4NW40eTRzNHo0eTVrNG01bDR5NW00czVuNG01bzN4NXA0czVxNG01cjV5NXM0bTV0NG01dTN4NXYxdzV3MXc1eDF3NXkyejV6M3I2azJsNmwzcjZtM3I2bjNtNm8zcjZwM3I2cTF3NnIzcjZzM3I2dDFxNnUxcTZ2M202dzFxNng1bjZ5M3I2ejNyN2szcjdsM3I3bTJsN24zbTdvMXc3cDNyN3EzbTdyNHM3czNtN3QzbTd1M203djJsN3cxdTd4Mmw3eTN1MjAybDNyY2w0bWFsMmxhbTNyYW4zcmFvM3JhcDNyYXIzcmFzMmxhdDR0YXUycGF2M3JhdzN1YXk0dGF6MmxiazJzYmwzdSdmb2YnNm9ibzJsYnAzcmJyMXdiczJsYnUyb2J2M3JiejN4Y2s0bTIwMmszcmNtNG1jbjRtY280bWNwNG1jcTZvY3I0c2NzNG1jdDRtY3U0bWN2NG1jdzF3Mm0ybmN5MXdjejF3ZGw0c2RtNHlkbjR5ZG80eWRwNHlkcTR5ZHM0eWR0NHNkdTRzZHY0c2R3NHNkejN4ZWszcmVsM3JlbTNyZW4zcmVvM3JlcDNyZXE1dGVyM21lczNyZXQzcmV1M3JldjNyZXcxd2V4MXdleTF3ZXoxd2ZsM3JmbTNyZm4zcmZvM3JmcDNyZnEzcmZyM3VmczN4ZnQzcmZ1M3JmdjNyZnczcmZ6M20yMDNrNm8yMTJtNm8yZHcybDJjcTJsM3QzcjN1MXcxN3M0bTE5bTNyfSdrZXJuaW5nJ3s1cXs0d3Z9Y2x7NHFzNWt3NW93NXFzMTdzdjV0dn0yMDF0ezJ3dTR3MWsyeXV9MjAxeHsyd3U0d3kyeXV9MTdzezJrdGNsdWNtdWNudTRvdGNwdTRsdTR3eWNvdWNrdX0yd3s3cXM0cXo1azFtMTdzeTVvdzVxeDVyc2ZzdTV0eTd0dWZ6dX0yeHsxN3N5NXR5NW95NXFzfTJ5ezdxczRxejVrMW0xN3N5NW93NXF4NXJzZnN1NXR5N3R1Znp1fSdmb2YnLTZvN3B7MTdzdjV0djVvd31ja3s0cXM1a3c1b3c1cXMxN3N2NXR2fTRsezRxczVrdzVvdzVxczE3c3Y1dHZ9Y217NHFzNWt3NW93NXFzMTdzdjV0dn1jbns0cXM1a3c1b3c1cXMxN3N2NXR2fWNvezRxczVrdzVvdzVxczE3c3Y1dHZ9Y3B7NHFzNWt3NW93NXFzMTdzdjV0dn02bHsxN3N5NXR5NW93fWRvezE3c3Q1dHR9NHp7MTdzdDV0dH03c3tmc3R9ZG17MTdzdDV0dH1kbnsxN3N0NXR0fTVve2Nrd2Nsd2Ntd2Nud2Nvd2NwdzRsdzR3dn1kcHsxN3N0NXR0fWRxezE3c3Q1dHR9N3R7NW93fWRzezE3c3Q1dHR9NXR7Mmt0Y2x1Y211Y251NG90Y3B1NGx1NHd5Y291Y2t1fWZ1ezE3c3Y1dHY1b3d9NnB7MTdzeTV0eTVvdzVxc31la3sxN3N5NXR5NW93fWVsezE3c3k1dHk1b3d9ZW17MTdzeTV0eTVvd31lbns1dHl9ZW97MTdzeTV0eTVvd31lcHsxN3N5NXR5NW93fWVzezE3c3k1dHk1cXN9ZXR7MTdzeTV0eTVvdzVxc31ldXsxN3N5NXR5NW93NXFzfWV2ezE3c3k1dHk1b3c1cXN9Nnp7MTdzeTV0eTVvdzVxc31mbXsxN3N5NXR5NW93NXFzfWZuezE3c3k1dHk1b3c1cXN9Zm97MTdzeTV0eTVvdzVxc31mcHsxN3N5NXR5NXFzfWZxezE3c3k1dHk1b3c1cXN9N3J7NW93fWZzezE3c3k1dHk1b3c1cXN9ZnR7MTdzdjV0djVvd303bXs1b3d9ZnZ7MTdzdjV0djVvd31md3sxN3N2NXR2NW93fX19XCJcbiAgICAgICksXG4gICAgICBcIkhlbHZldGljYS1Cb2xkT2JsaXF1ZVwiOiB1bmNvbXByZXNzKFxuICAgICAgICBcInsnd2lkdGhzJ3trM3MycTRzY3gxdzIwMW4zcjIwMW82bzIwMXMxdzIwMXQxdzIwMXUxdzIwMXczbTIwMXgzbTIwMXkzbTJrMXcybDJsMjAybTJuMm4zcjJvM3IycDV0MjAycTZvMnIxczJzMmwydDJsMnUycjJ2M3UydzF3MngybDJ5MXcyejF3M2szcjNsM3IzbTNyM24zcjNvM3IzcDNyM3EzcjNyM3IzczNyMjAzdDJsMjAzdTJsM3YybDN3M3UzeDN1M3kzdTN6M3g0azZsNGw0czRtNHM0bjRzNG80czRwNG00cTN4NHI0eTRzNHM0dDF3NHUzcjR2NHM0dzN4NHg1bjR5NHM0ejR5NWs0bTVsNHk1bTRzNW40bTVvM3g1cDRzNXE0bTVyNXk1czRtNXQ0bTV1M3g1djJsNXcxdzV4Mmw1eTN1NXozcjZrMmw2bDNyNm0zeDZuM3I2bzN4NnAzcjZxMmw2cjN4NnMzeDZ0MXc2dTF3NnYzcjZ3MXc2eDV0NnkzeDZ6M3g3azN4N2wzeDdtMnI3bjNyN28ybDdwM3g3cTNyN3I0eTdzM3I3dDNyN3UzbTd2MnI3dzF3N3gycjd5M3UyMDJsM3JjbDRzYWwybGFtM3JhbjNyYW8zcmFwM3JhcjNyYXMybGF0NHRhdTJwYXYzcmF3M3VheTR0YXoybGJrMnNibDN1J2ZvZic2b2JvMmxicDN4YnEzcmJyMXdiczJsYnUyb2J2M3JiejN4Y2s0czIwMmszcmNtNHNjbjRzY280c2NwNHNjcTZvY3I0c2NzNG1jdDRtY3U0bWN2NG1jdzF3Mm0yemN5MXdjejF3ZGw0c2RtNHlkbjR5ZG80eWRwNHlkcTR5ZHM0eWR0NHNkdTRzZHY0c2R3NHNkejN4ZWszcmVsM3JlbTNyZW4zcmVvM3JlcDNyZXE1dGVyM3JlczNyZXQzcmV1M3JldjNyZXcxd2V4MXdleTF3ZXoxd2ZsM3hmbTN4Zm4zeGZvM3hmcDN4ZnEzeGZyM3VmczN4ZnQzeGZ1M3hmdjN4ZnczeGZ6M3IyMDNrNm8yMTJtNm8yZHcybDJjcTJsM3QzcjN1MmwxN3M0bTE5bTNyfSdrZXJuaW5nJ3tjbHs0cXM1a3U1b3Q1cXMxN3N2NXR2fTIwMXR7Mnd3NHd5Mnl3fTIwMXd7MmtzfTIwMXh7Mnd3NHd5Mnl3fTJrezIwMXRzMjAxeHN9Mnd7N3FzNHF1NWt3NW9zNXF3NXJzMTdzdTV0dTd0c2Z6c30yeHs1b3c1cXN9Mnl7N3FzNHF1NWt3NW9zNXF3NXJzMTdzdTV0dTd0c2Z6c30nZm9mJy02bzdwezE3c3U1dHU1b3R9Y2t7NHFzNWt1NW90NXFzMTdzdjV0dn00bHs0cXM1a3U1b3Q1cXMxN3N2NXR2fWNtezRxczVrdTVvdDVxczE3c3Y1dHZ9Y257NHFzNWt1NW90NXFzMTdzdjV0dn1jb3s0cXM1a3U1b3Q1cXMxN3N2NXR2fWNwezRxczVrdTVvdDVxczE3c3Y1dHZ9Nmx7MTdzdDV0dDVvc30xN3N7Mmt3Y2x2Y212Y252Y292Y3B2NGx2NHd3Y2t2fTVvezJrdWNsdGNtdGNudGNvdGNwdDRsdDR3dGNrdH01cXsya3NjbHNjbXNjbnNjb3NjcHM0bHM0d3Zja3N9NXJ7MmtzNHdzfTV0ezJrd2NsdmNtdmNudmNvdmNwdjRsdjR3d2Nrdn1lb3sxN3N0NXR0NW9zfWZ1ezE3c3U1dHU1b3R9NnB7MTdzczV0c31la3sxN3N0NXR0NW9zfWVsezE3c3Q1dHQ1b3N9ZW17MTdzdDV0dDVvc31lbnsxN3N0NXR0NW9zfTZvezIwMXRzfWVwezE3c3Q1dHQ1b3N9ZXN7MTdzczV0c31ldHsxN3NzNXRzfWV1ezE3c3M1dHN9ZXZ7MTdzczV0c302ensxN3N1NXR1NW9zNXF0fWZtezE3c3U1dHU1b3M1cXR9Zm57MTdzdTV0dTVvczVxdH1mb3sxN3N1NXR1NW9zNXF0fWZwezE3c3U1dHU1b3M1cXR9ZnF7MTdzdTV0dTVvczVxdH1mc3sxN3N1NXR1NW9zNXF0fWZ0ezE3c3U1dHU1b3R9N217NW9zfWZ2ezE3c3U1dHU1b3R9Znd7MTdzdTV0dTVvdH19fVwiXG4gICAgICApLFxuICAgICAgWmFwZkRpbmdiYXRzOiB1bmNvbXByZXNzKFwieyd3aWR0aHMne2s0dTJrMXcnZm9mJzZvfSdrZXJuaW5nJ3snZm9mJy02b319XCIpLFxuICAgICAgXCJDb3VyaWVyLUJvbGRcIjogdW5jb21wcmVzcyhcInsnd2lkdGhzJ3trM3cnZm9mJzZvfSdrZXJuaW5nJ3snZm9mJy02b319XCIpLFxuICAgICAgXCJUaW1lcy1JdGFsaWNcIjogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azNuMnE0eWN4MmwyMDFuM20yMDFvNXQyMDFzMmwyMDF0MmwyMDF1MmwyMDF3M3IyMDF4M3IyMDF5M3IyazF0MmwybDIwMm0ybjJuM20ybzNtMnA1bjIwMnE1dDJyMXAyczJsMnQybDJ1M20ydjRuMncxdDJ4MmwyeTF0MnoxdzNrM20zbDNtM20zbTNuM20zbzNtM3AzbTNxM20zcjNtM3MzbTIwM3QybDIwM3UybDN2MmwzdzRuM3g0bjN5NG4zejNtNGs1dzRsM3g0bTN4NG40bTRvNHM0cDN4NHEzeDRyNHM0czRzNHQybDR1Mnc0djRtNHczcjR4NW40eTRtNHo0czVrM3g1bDRzNW0zeDVuM201bzNyNXA0czVxM3g1cjVuNXMzeDV0M3I1dTNyNXYycjV3MXc1eDJyNXkydTV6M202azJsNmwzbTZtM202bjJ3Nm8zbTZwMnc2cTF3NnIzbTZzM202dDF3NnUxdzZ2Mnc2dzF3Nng0czZ5M202ejNtN2szbTdsM203bTJyN24ycjdvMXc3cDNtN3EydzdyNG03czJ3N3Qydzd1MnI3djJzN3cxdjd4MnM3eTNxMjAybDNtY2wzeGFsMnJhbTNtYW4zbWFvM21hcDNtYXIzbWFzMmxhdDR3YXUxdmF2M21hdzRuYXk0d2F6MmxiazJzYmw0bidmb2YnNm9ibzJsYnAzbWJxM29icjF0YnMybGJ1MXpidjNtYnozbWNrM3gyMDJrM21jbTN4Y24zeGNvM3hjcDN4Y3E1dGNyNG1jczN4Y3QzeGN1M3hjdjN4Y3cybDJtMnVjeTJsY3oybGRsNG1kbTRzZG40c2RvNHNkcDRzZHE0c2RzNHNkdDRzZHU0c2R2NHNkdzRzZHozbWVrM21lbDNtZW0zbWVuM21lbzNtZXAzbWVxNG1lcjJ3ZXMyd2V0MndldTJ3ZXYyd2V3MXdleDF3ZXkxd2V6MXdmbDNtZm0zbWZuM21mbzNtZnAzbWZxM21mcjRuZnMzbWZ0M21mdTNtZnYzbWZ3M21mejJ3MjAzazZvMjEybTZtMmR3MmwyY3EybDN0M20zdTJsMTdzM3IxOW0zbX0na2VybmluZyd7Y2x7NWt0NHF3fTIwMXN7MjAxc3d9MjAxdHsyMDF0dzJ3eTJ5eTZxLXR9MjAxeHsyd3kyeXl9Mmt7MjAxdHd9Mnd7N3FzNHF5N3JzNWt5N213NW9zNXF4NXJ1MTdzdTV0dX0yeHsxN3NzNXRzNW9zfTJ5ezdxczRxeTdyczVreTdtdzVvczVxeDVydTE3c3U1dHV9J2ZvZictNm82dHsxN3NzNXRzNXFzfTd0ezVvc30zdns1cXN9N3B7MTdzdTV0dTVxc31ja3s1a3Q0cXd9NGx7NWt0NHF3fWNtezVrdDRxd31jbns1a3Q0cXd9Y297NWt0NHF3fWNwezVrdDRxd302bHs0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fTE3c3sya3N9NXF7Y2t2Y2x2Y212Y252Y292Y3B2NGx2fTVye2NrdWNsdWNtdWNudWNvdWNwdTRsdX01dHsya3N9NnB7NHFzNWtzNW91NXF3NXJ1MTdzdTV0dX1la3s0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fWVsezRxczVrczVvdTVxdzVydTE3c3U1dHV9ZW17NHFzNWtzNW91NXF3NXJ1MTdzdTV0dX1lbns0cXM1a3M1b3U1cXc1cnUxN3N1NXR1fWVvezRxczVrczVvdTVxdzVydTE3c3U1dHV9ZXB7NHFzNWtzNW91NXF3NXJ1MTdzdTV0dX1lc3s1a3M1cXM0cXN9ZXR7NHFzNWtzNW91NXF3NXJ1MTdzdTV0dX1ldXs0cXM1a3M1cXc1cnUxN3N1NXR1fWV2ezVrczVxczRxc31leHsxN3NzNXRzNXFzfTZ6ezRxdjVrczVvdTVxdzVydTE3c3U1dHV9Zm17NHF2NWtzNW91NXF3NXJ1MTdzdTV0dX1mbns0cXY1a3M1b3U1cXc1cnUxN3N1NXR1fWZvezRxdjVrczVvdTVxdzVydTE3c3U1dHV9ZnB7NHF2NWtzNW91NXF3NXJ1MTdzdTV0dX1mcXs0cXY1a3M1b3U1cXc1cnUxN3N1NXR1fTdyezVvc31mc3s0cXY1a3M1b3U1cXc1cnUxN3N1NXR1fWZ0ezE3c3U1dHU1cXN9ZnV7MTdzdTV0dTVxc31mdnsxN3N1NXR1NXFzfWZ3ezE3c3U1dHU1cXN9fX1cIlxuICAgICAgKSxcbiAgICAgIFwiVGltZXMtUm9tYW5cIjogdW5jb21wcmVzcyhcbiAgICAgICAgXCJ7J3dpZHRocyd7azNuMnE0eWN4MmwyMDFuM20yMDFvNm8yMDFzMmwyMDF0MmwyMDF1MmwyMDF3MncyMDF4MncyMDF5MncyazF0MmwybDIwMm0ybjJuM20ybzNtMnA1bjIwMnE2bzJyMW0yczJsMnQybDJ1M20ydjNzMncxdDJ4MmwyeTF0MnoxdzNrM20zbDNtM20zbTNuM20zbzNtM3AzbTNxM20zcjNtM3MzbTIwM3QybDIwM3UybDN2MXczdzNzM3gzczN5M3MzejJ3NGs1dzRsNHM0bTRtNG40bTRvNHM0cDN4NHEzcjRyNHM0czRzNHQybDR1MnI0djRzNHczeDR4NXQ0eTRzNHo0czVrM3I1bDRzNW00bTVuM3I1bzN4NXA0czVxNHM1cjV5NXM0czV0NHM1dTN4NXYybDV3MXc1eDJsNXkyejV6M202azJsNmwydzZtM202bjJ3Nm8zbTZwMnc2cTJsNnIzbTZzM202dDF3NnUxdzZ2M202dzF3Nng0eTZ5M202ejNtN2szbTdsM203bTJsN24ycjdvMXc3cDNtN3EzbTdyNHM3czNtN3QzbTd1Mnc3djNrN3cxbzd4M2s3eTNxMjAybDNtY2w0c2FsMmxhbTNtYW4zbWFvM21hcDNtYXIzbWFzMmxhdDR3YXUxdmF2M21hdzNzYXk0d2F6MmxiazJzYmwzcydmb2YnNm9ibzJsYnAzbWJxMnhicjF0YnMybGJ1MXpidjNtYnoyd2NrNHMyMDJrM21jbTRzY240c2NvNHNjcDRzY3E1dGNyNG1jczN4Y3QzeGN1M3hjdjN4Y3cybDJtMnRjeTJsY3oybGRsNHNkbTRzZG40c2RvNHNkcDRzZHE0c2RzNHNkdDRzZHU0c2R2NHNkdzRzZHozbWVrMndlbDJ3ZW0yd2VuMndlbzJ3ZXAyd2VxNG1lcjJ3ZXMyd2V0MndldTJ3ZXYyd2V3MXdleDF3ZXkxd2V6MXdmbDNtZm0zbWZuM21mbzNtZnAzbWZxM21mcjNzZnMzbWZ0M21mdTNtZnYzbWZ3M21mejNtMjAzazZvMjEybTZtMmR3MmwyY3EybDN0M20zdTF3MTdzNHMxOW0zbX0na2VybmluZyd7Y2x7NHFzNWt1MTdzdzVvdTVxeTVydzIwMXNzNXR3MjAxd3N9MjAxc3syMDFzc30yMDF0e2NrdzRsd2Ntd2Nud2Nvd2Nwd2NsdzR3dTIwMXRzfTJrezIwMXRzfTJ3ezRxczVrdzVvczVxeDVydTE3c3g1dHh9Mnh7MTdzdzV0dzVvdTVxdX0yeXs0cXM1a3c1b3M1cXg1cnUxN3N4NXR4fSdmb2YnLTZvN3R7Y2t1Y2x1Y211Y251Y291Y3B1NGx1NW9zNXJzfTN1ezE3c3U1dHU1cXN9M3Z7MTdzdTV0dTVxc303cHsxN3N3NXR3NXFzfWNrezRxczVrdTE3c3c1b3U1cXk1cncyMDFzczV0dzIwMXdzfTRsezRxczVrdTE3c3c1b3U1cXk1cncyMDFzczV0dzIwMXdzfWNtezRxczVrdTE3c3c1b3U1cXk1cncyMDFzczV0dzIwMXdzfWNuezRxczVrdTE3c3c1b3U1cXk1cncyMDFzczV0dzIwMXdzfWNvezRxczVrdTE3c3c1b3U1cXk1cncyMDFzczV0dzIwMXdzfWNwezRxczVrdTE3c3c1b3U1cXk1cncyMDFzczV0dzIwMXdzfTZsezE3c3U1dHU1b3M1cXc1cnN9MTdzezJrdGNsdmNtdmNudmNvdmNwdjRsdjR3dWNrdn01b3tja3djbHdjbXdjbndjb3djcHc0bHc0d3V9NXF7Y2t5Y2x5Y215Y255Y295Y3B5NGx5NHd1NW1zfTVye2NrdGNsdGNtdGNudGNvdGNwdDRsdDR3c301dHsya3RjbHZjbXZjbnZjb3ZjcHY0bHY0d3Vja3Z9N3F7Y2tzY2xzY21zY25zY29zY3BzNGxzfTZwezE3c3U1dHU1cXc1cnN9ZWt7NXFzNXJzfWVsezE3c3U1dHU1b3M1cXc1cnN9ZW17MTdzdTV0dTVvczVxczVyc31lbnsxN3N1NXFzNXJzfWVvezVxczVyc31lcHsxN3N1NXR1NW9zNXF3NXJzfWVzezVxc31ldHsxN3N1NXR1NXF3NXJzfWV1ezE3c3U1dHU1cXM1cnN9ZXZ7NXFzfTZ6ezE3c3Y1dHY1b3M1cXg1cnN9Zm17NW9zNXF0NXJzfWZuezE3c3Y1dHY1b3M1cXg1cnN9Zm97MTdzdjV0djVvczVxeDVyc31mcHs1b3M1cXQ1cnN9ZnF7NW9zNXF0NXJzfTdye2NrdWNsdWNtdWNudWNvdWNwdTRsdTVvc31mc3sxN3N2NXR2NW9zNXF4NXJzfWZ0ezE3c3M1dHM1cXN9ZnV7MTdzdzV0dzVxc31mdnsxN3N3NXR3NXFzfWZ3ezE3c3M1dHM1cXN9Znp7Y2t1Y2x1Y211Y251Y291Y3B1NGx1NW9zNXJzfX19XCJcbiAgICAgICksXG4gICAgICBcIkhlbHZldGljYS1PYmxpcXVlXCI6IHVuY29tcHJlc3MoXG4gICAgICAgIFwieyd3aWR0aHMne2szcDJxNG1jeDF3MjAxbjNyMjAxbzZvMjAxczFxMjAxdDFxMjAxdTFxMjAxdzJsMjAxeDJsMjAxeTJsMmsxdzJsMXcyMDJtMm4ybjNyMm8zcjJwNXQyMDJxNm8ycjFuMnMybDJ0MmwydTJyMnYzdTJ3MXcyeDJsMnkxdzJ6MXczazNyM2wzcjNtM3IzbjNyM28zcjNwM3IzcTNyM3IzcjNzM3IyMDN0MmwyMDN1MmwzdjF3M3czdTN4M3UzeTN1M3ozcjRrNnA0bDRtNG00bTRuNHM0bzRzNHA0bTRxM3g0cjR5NHM0czR0MXc0dTNtNHY0bTR3M3I0eDVuNHk0czR6NHk1azRtNWw0eTVtNHM1bjRtNW8zeDVwNHM1cTRtNXI1eTVzNG01dDRtNXUzeDV2MXc1dzF3NXgxdzV5Mno1ejNyNmsybDZsM3I2bTNyNm4zbTZvM3I2cDNyNnExdzZyM3I2czNyNnQxcTZ1MXE2djNtNncxcTZ4NW42eTNyNnozcjdrM3I3bDNyN20ybDduM203bzF3N3AzcjdxM203cjRzN3MzbTd0M203dTNtN3YybDd3MXU3eDJsN3kzdTIwMmwzcmNsNG1hbDJsYW0zcmFuM3JhbzNyYXAzcmFyM3JhczJsYXQ0dGF1MnBhdjNyYXczdWF5NHRhejJsYmsyc2JsM3UnZm9mJzZvYm8ybGJwM3JicjF3YnMybGJ1Mm9idjNyYnozeGNrNG0yMDJrM3JjbTRtY240bWNvNG1jcDRtY3E2b2NyNHNjczRtY3Q0bWN1NG1jdjRtY3cxdzJtMm5jeTF3Y3oxd2RsNHNkbTR5ZG40eWRvNHlkcDR5ZHE0eWRzNHlkdDRzZHU0c2R2NHNkdzRzZHozeGVrM3JlbDNyZW0zcmVuM3JlbzNyZXAzcmVxNXRlcjNtZXMzcmV0M3JldTNyZXYzcmV3MXdleDF3ZXkxd2V6MXdmbDNyZm0zcmZuM3JmbzNyZnAzcmZxM3JmcjN1ZnMzeGZ0M3JmdTNyZnYzcmZ3M3JmejNtMjAzazZvMjEybTZvMmR3MmwyY3EybDN0M3IzdTF3MTdzNG0xOW0zcn0na2VybmluZyd7NXF7NHd2fWNsezRxczVrdzVvdzVxczE3c3Y1dHZ9MjAxdHsyd3U0dzFrMnl1fTIwMXh7Mnd1NHd5Mnl1fTE3c3sya3RjbHVjbXVjbnU0b3RjcHU0bHU0d3ljb3Vja3V9Mnd7N3FzNHF6NWsxbTE3c3k1b3c1cXg1cnNmc3U1dHk3dHVmenV9Mnh7MTdzeTV0eTVveTVxc30yeXs3cXM0cXo1azFtMTdzeTVvdzVxeDVyc2ZzdTV0eTd0dWZ6dX0nZm9mJy02bzdwezE3c3Y1dHY1b3d9Y2t7NHFzNWt3NW93NXFzMTdzdjV0dn00bHs0cXM1a3c1b3c1cXMxN3N2NXR2fWNtezRxczVrdzVvdzVxczE3c3Y1dHZ9Y257NHFzNWt3NW93NXFzMTdzdjV0dn1jb3s0cXM1a3c1b3c1cXMxN3N2NXR2fWNwezRxczVrdzVvdzVxczE3c3Y1dHZ9Nmx7MTdzeTV0eTVvd31kb3sxN3N0NXR0fTR6ezE3c3Q1dHR9N3N7ZnN0fWRtezE3c3Q1dHR9ZG57MTdzdDV0dH01b3tja3djbHdjbXdjbndjb3djcHc0bHc0d3Z9ZHB7MTdzdDV0dH1kcXsxN3N0NXR0fTd0ezVvd31kc3sxN3N0NXR0fTV0ezJrdGNsdWNtdWNudTRvdGNwdTRsdTR3eWNvdWNrdX1mdXsxN3N2NXR2NW93fTZwezE3c3k1dHk1b3c1cXN9ZWt7MTdzeTV0eTVvd31lbHsxN3N5NXR5NW93fWVtezE3c3k1dHk1b3d9ZW57NXR5fWVvezE3c3k1dHk1b3d9ZXB7MTdzeTV0eTVvd31lc3sxN3N5NXR5NXFzfWV0ezE3c3k1dHk1b3c1cXN9ZXV7MTdzeTV0eTVvdzVxc31ldnsxN3N5NXR5NW93NXFzfTZ6ezE3c3k1dHk1b3c1cXN9Zm17MTdzeTV0eTVvdzVxc31mbnsxN3N5NXR5NW93NXFzfWZvezE3c3k1dHk1b3c1cXN9ZnB7MTdzeTV0eTVxc31mcXsxN3N5NXR5NW93NXFzfTdyezVvd31mc3sxN3N5NXR5NW93NXFzfWZ0ezE3c3Y1dHY1b3d9N217NW93fWZ2ezE3c3Y1dHY1b3d9Znd7MTdzdjV0djVvd319fVwiXG4gICAgICApXG4gICAgfVxuICB9O1xuXG4gIC8qXG5cdFRoaXMgZXZlbnQgaGFuZGxlciBpcyBmaXJlZCB3aGVuIGEgbmV3IGpzUERGIG9iamVjdCBpcyBpbml0aWFsaXplZFxuXHRUaGlzIGV2ZW50IGhhbmRsZXIgYXBwZW5kcyBtZXRyaWNzIGRhdGEgdG8gc3RhbmRhcmQgZm9udHMgd2l0aGluXG5cdHRoYXQganNQREYgaW5zdGFuY2UuIFRoZSBtZXRyaWNzIGFyZSBtYXBwZWQgb3ZlciBVbmljb2RlIGNoYXJhY3RlclxuXHRjb2RlcywgTk9UIENJRHMgb3Igb3RoZXIgY29kZXMgbWF0Y2hpbmcgdGhlIFN0YW5kYXJkRW5jb2RpbmcgdGFibGUgb2YgdGhlXG5cdHN0YW5kYXJkIFBERiBmb250cy5cblx0RnV0dXJlOlxuXHRBbHNvIGluY2x1ZGVkIGlzIHRoZSBlbmNvZGluZyBtYXBpbmcgdGFibGUsIGNvbnZlcnRpbmcgVW5pY29kZSAoVUNTLTIsIFVURi0xNilcblx0Y2hhciBjb2RlcyB0byBTdGFuZGFyZEVuY29kaW5nIGNoYXJhY3RlciBjb2Rlcy4gVGhlIGVuY29kaW5nIHRhYmxlIGlzIHRvIGJlIHVzZWRcblx0c29tZXdoZXJlIGFyb3VuZCBcInBkZkVzY2FwZVwiIGNhbGwuXG5cdCovXG4gIEFQSS5ldmVudHMucHVzaChbXG4gICAgXCJhZGRGb250XCIsXG4gICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgdmFyIGZvbnQgPSBkYXRhLmZvbnQ7XG5cbiAgICAgIHZhciBtZXRyaWNzID0gZm9udE1ldHJpY3NbXCJVbmljb2RlXCJdW2ZvbnQucG9zdFNjcmlwdE5hbWVdO1xuICAgICAgaWYgKG1ldHJpY3MpIHtcbiAgICAgICAgZm9udC5tZXRhZGF0YVtcIlVuaWNvZGVcIl0gPSB7fTtcbiAgICAgICAgZm9udC5tZXRhZGF0YVtcIlVuaWNvZGVcIl0ud2lkdGhzID0gbWV0cmljcy53aWR0aHM7XG4gICAgICAgIGZvbnQubWV0YWRhdGFbXCJVbmljb2RlXCJdLmtlcm5pbmcgPSBtZXRyaWNzLmtlcm5pbmc7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbmNvZGluZ0Jsb2NrID0gZW5jb2RpbmdzW1wiVW5pY29kZVwiXVtmb250LnBvc3RTY3JpcHROYW1lXTtcbiAgICAgIGlmIChlbmNvZGluZ0Jsb2NrKSB7XG4gICAgICAgIGZvbnQubWV0YWRhdGFbXCJVbmljb2RlXCJdLmVuY29kaW5nID0gZW5jb2RpbmdCbG9jaztcbiAgICAgICAgZm9udC5lbmNvZGluZyA9IGVuY29kaW5nQmxvY2suY29kZVBhZ2VzWzBdO1xuICAgICAgfVxuICAgIH1cbiAgXSk7IC8vIGVuZCBvZiBhZGRpbmcgZXZlbnQgaGFuZGxlclxufSkoanNQREYuQVBJKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5pbXBvcnQgeyBhdG9iIH0gZnJvbSBcIi4uL2xpYnMvQXRvYkJ0b2EuanNcIjtcblxuLyoqXG4gKiBAbmFtZSB0dGZzdXBwb3J0XG4gKiBAbW9kdWxlXG4gKi9cbihmdW5jdGlvbihqc1BERikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgYmluYXJ5U3RyaW5nVG9VaW50OEFycmF5ID0gZnVuY3Rpb24oYmluYXJ5X3N0cmluZykge1xuICAgIHZhciBsZW4gPSBiaW5hcnlfc3RyaW5nLmxlbmd0aDtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGJ5dGVzW2ldID0gYmluYXJ5X3N0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG4gIH07XG5cbiAgdmFyIGFkZEZvbnQgPSBmdW5jdGlvbihmb250LCBmaWxlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICBpZiAoL15cXHgwMFxceDAxXFx4MDBcXHgwMC8udGVzdChmaWxlKSkge1xuICAgICAgZmlsZSA9IGJpbmFyeVN0cmluZ1RvVWludDhBcnJheShmaWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsZSA9IGJpbmFyeVN0cmluZ1RvVWludDhBcnJheShhdG9iKGZpbGUpKTtcbiAgICB9XG4gICAgZm9udC5tZXRhZGF0YSA9IGpzUERGLkFQSS5UVEZGb250Lm9wZW4oZmlsZSk7XG4gICAgZm9udC5tZXRhZGF0YS5Vbmljb2RlID0gZm9udC5tZXRhZGF0YS5Vbmljb2RlIHx8IHtcbiAgICAgIGVuY29kaW5nOiB7fSxcbiAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgd2lkdGhzOiBbXVxuICAgIH07XG4gICAgZm9udC5tZXRhZGF0YS5nbHlJZHNVc2VkID0gWzBdO1xuICB9O1xuXG4gIGpzUERGLkFQSS5ldmVudHMucHVzaChbXG4gICAgXCJhZGRGb250XCIsXG4gICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgdmFyIGZpbGUgPSB1bmRlZmluZWQ7XG4gICAgICB2YXIgZm9udCA9IGRhdGEuZm9udDtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGRhdGEuaW5zdGFuY2U7XG4gICAgICBpZiAoZm9udC5pc1N0YW5kYXJkRm9udCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5leGlzdHNGaWxlSW5WRlMoZm9udC5wb3N0U2NyaXB0TmFtZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgZmlsZSA9IGluc3RhbmNlLmxvYWRGaWxlKGZvbnQucG9zdFNjcmlwdE5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpbGUgPSBpbnN0YW5jZS5nZXRGaWxlRnJvbVZGUyhmb250LnBvc3RTY3JpcHROYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZpbGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkZvbnQgaXMgbm90IHN0b3JlZCBhcyBzdHJpbmctZGF0YSBpbiB2RlMsIGltcG9ydCBmb250cyBvciByZW1vdmUgZGVjbGFyYXRpb24gZG9jLmFkZEZvbnQoJ1wiICtcbiAgICAgICAgICAgICAgZm9udC5wb3N0U2NyaXB0TmFtZSArXG4gICAgICAgICAgICAgIFwiJykuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGFkZEZvbnQoZm9udCwgZmlsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJGb250IGRvZXMgbm90IGV4aXN0IGluIHZGUywgaW1wb3J0IGZvbnRzIG9yIHJlbW92ZSBkZWNsYXJhdGlvbiBkb2MuYWRkRm9udCgnXCIgK1xuICAgICAgICAgICAgZm9udC5wb3N0U2NyaXB0TmFtZSArXG4gICAgICAgICAgICBcIicpLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICBdKTsgLy8gZW5kIG9mIGFkZGluZyBldmVudCBoYW5kbGVyXG59KShqc1BERik7XG4iLCIvKiogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxMiBXaWxsb3cgU3lzdGVtcyBDb3Jwb3JhdGlvbiwgaHR0cHM6Ly9naXRodWIuY29tL3dpbGxvd3N5c3RlbXNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmdcbiAqIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuICogXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4gKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4gKiBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG9cbiAqIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0b1xuICogdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gKiBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuICogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4gKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxuICogTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTlxuICogT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4gKiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHsganNQREYgfSBmcm9tIFwiLi4vanNwZGYuanNcIjtcbmltcG9ydCB7IGNvbnNvbGUgfSBmcm9tIFwiLi4vbGlicy9jb25zb2xlLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxPYmplY3QgfSBmcm9tIFwiLi4vbGlicy9nbG9iYWxPYmplY3QuanNcIjtcblxuLyoqXG4gKiBqc1BERiBTVkcgcGx1Z2luXG4gKlxuICogQG5hbWUgc3ZnXG4gKiBAbW9kdWxlXG4gKi9cbihmdW5jdGlvbihqc1BERkFQSSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBmdW5jdGlvbiBsb2FkQ2FudmcoKSB7XG4gICAgcmV0dXJuIChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChnbG9iYWxPYmplY3RbXCJjYW52Z1wiXSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdsb2JhbE9iamVjdFtcImNhbnZnXCJdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGltcG9ydChcImNhbnZnXCIpO1xuXG4gICAgfSkoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBsb2FkIGNhbnZnOiBcIiArIGUpKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihjYW52Zykge1xuICAgICAgICByZXR1cm4gY2FudmcuZGVmYXVsdCA/IGNhbnZnLmRlZmF1bHQgOiBjYW52ZztcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlcyBTVkcgWE1MIGFuZCBzYXZlcyBpdCBhcyBpbWFnZSBpbnRvIHRoZSBQREYuXG4gICAqXG4gICAqIERlcGVuZHMgb24gY2FudmFzLWVsZW1lbnQgYW5kIGNhbnZnXG4gICAqXG4gICAqIEBuYW1lIGFkZFN2Z0FzSW1hZ2VcbiAgICogQHB1YmxpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFNWRy1EYXRhIGFzIFRleHRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCBsZWZ0IGVkZ2Ugb2YgdGhlIHBhZ2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgQ29vcmRpbmF0ZSAoaW4gdW5pdHMgZGVjbGFyZWQgYXQgaW5jZXB0aW9uIG9mIFBERiBkb2N1bWVudCkgYWdhaW5zdCB1cHBlciBlZGdlIG9mIHRoZSBwYWdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBvZiBTVkctSW1hZ2UgKGluIHVuaXRzIGRlY2xhcmVkIGF0IGluY2VwdGlvbiBvZiBQREYgZG9jdW1lbnQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgb2YgU1ZHLUltYWdlIChpbiB1bml0cyBkZWNsYXJlZCBhdCBpbmNlcHRpb24gb2YgUERGIGRvY3VtZW50KVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWxpYXMgb2YgU1ZHLUltYWdlIChpZiB1c2VkIG11bHRpcGxlIHRpbWVzKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29tcHJlc3Npb24gb2YgdGhlIGdlbmVyYXRlZCBKUEVHLCBjYW4gaGF2ZSB0aGUgdmFsdWVzICdOT05FJywgJ0ZBU1QnLCAnTUVESVVNJyBhbmQgJ1NMT1cnXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiBvZiB0aGUgaW1hZ2UgaW4gZGVncmVlcyAoMC0zNTkpXG4gICAqXG4gICAqIEByZXR1cm5zIGpzUERGIGpzUERGLWluc3RhbmNlXG4gICAqL1xuICBqc1BERkFQSS5hZGRTdmdBc0ltYWdlID0gZnVuY3Rpb24oXG4gICAgc3ZnLFxuICAgIHgsXG4gICAgeSxcbiAgICB3LFxuICAgIGgsXG4gICAgYWxpYXMsXG4gICAgY29tcHJlc3Npb24sXG4gICAgcm90YXRpb25cbiAgKSB7XG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwianNQREYuYWRkU3ZnQXNJbWFnZTogSW52YWxpZCBjb29yZGluYXRlc1wiLCBhcmd1bWVudHMpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb29yZGluYXRlcyBwYXNzZWQgdG8ganNQREYuYWRkU3ZnQXNJbWFnZVwiKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOYU4odykgfHwgaXNOYU4oaCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJqc1BERi5hZGRTdmdBc0ltYWdlOiBJbnZhbGlkIG1lYXN1cmVtZW50c1wiLCBhcmd1bWVudHMpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkludmFsaWQgbWVhc3VyZW1lbnRzICh3aWR0aCBhbmQvb3IgaGVpZ2h0KSBwYXNzZWQgdG8ganNQREYuYWRkU3ZnQXNJbWFnZVwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIGNhbnZhcy53aWR0aCA9IHc7XG4gICAgY2FudmFzLmhlaWdodCA9IGg7XG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiI2ZmZlwiOyAvLy8gc2V0IHdoaXRlIGZpbGwgc3R5bGVcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgaWdub3JlTW91c2U6IHRydWUsXG4gICAgICBpZ25vcmVBbmltYXRpb246IHRydWUsXG4gICAgICBpZ25vcmVEaW1lbnNpb25zOiB0cnVlXG4gICAgfTtcbiAgICB2YXIgZG9jID0gdGhpcztcbiAgICByZXR1cm4gbG9hZENhbnZnKClcbiAgICAgIC50aGVuKFxuICAgICAgICBmdW5jdGlvbihjYW52Zykge1xuICAgICAgICAgIHJldHVybiBjYW52Zy5mcm9tU3RyaW5nKGN0eCwgc3ZnLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBsb2FkIGNhbnZnLlwiKSk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXIob3B0aW9ucyk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvYy5hZGRJbWFnZShcbiAgICAgICAgICBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiLCAxLjApLFxuICAgICAgICAgIHgsXG4gICAgICAgICAgeSxcbiAgICAgICAgICB3LFxuICAgICAgICAgIGgsXG4gICAgICAgICAgY29tcHJlc3Npb24sXG4gICAgICAgICAgcm90YXRpb25cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICB9O1xufSkoanNQREYuQVBJKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgRWR1YXJkbyBNZW5lemVzIGRlIE1vcmFpcywgZWR1YXJkby5tb3JhaXNAdXNwLmJyXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT05cbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuICogV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbi8qKlxuICoganNQREYgdG90YWxfcGFnZXMgcGx1Z2luXG4gKiBAbmFtZSB0b3RhbF9wYWdlc1xuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIC8qKlxuICAgKiBAbmFtZSBwdXRUb3RhbFBhZ2VzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFnZUV4cHJlc3Npb24gUmVndWxhciBFeHByZXNzaW9uXG4gICAqIEByZXR1cm5zIHtqc1BERn0ganNQREYtaW5zdGFuY2VcbiAgICovXG5cbiAganNQREZBUEkucHV0VG90YWxQYWdlcyA9IGZ1bmN0aW9uKHBhZ2VFeHByZXNzaW9uKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgcmVwbGFjZUV4cHJlc3Npb247XG4gICAgdmFyIHRvdGFsTnVtYmVyT2ZQYWdlcyA9IDA7XG4gICAgaWYgKHBhcnNlSW50KHRoaXMuaW50ZXJuYWwuZ2V0Rm9udCgpLmlkLnN1YnN0cigxKSwgMTApIDwgMTUpIHtcbiAgICAgIHJlcGxhY2VFeHByZXNzaW9uID0gbmV3IFJlZ0V4cChwYWdlRXhwcmVzc2lvbiwgXCJnXCIpO1xuICAgICAgdG90YWxOdW1iZXJPZlBhZ2VzID0gdGhpcy5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VFeHByZXNzaW9uID0gbmV3IFJlZ0V4cChcbiAgICAgICAgdGhpcy5wZGZFc2NhcGUxNihwYWdlRXhwcmVzc2lvbiwgdGhpcy5pbnRlcm5hbC5nZXRGb250KCkpLFxuICAgICAgICBcImdcIlxuICAgICAgKTtcbiAgICAgIHRvdGFsTnVtYmVyT2ZQYWdlcyA9IHRoaXMucGRmRXNjYXBlMTYoXG4gICAgICAgIHRoaXMuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpICsgXCJcIixcbiAgICAgICAgdGhpcy5pbnRlcm5hbC5nZXRGb250KClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgbiA9IDE7IG4gPD0gdGhpcy5pbnRlcm5hbC5nZXROdW1iZXJPZlBhZ2VzKCk7IG4rKykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmludGVybmFsLnBhZ2VzW25dLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuaW50ZXJuYWwucGFnZXNbbl1baV0gPSB0aGlzLmludGVybmFsLnBhZ2VzW25dW2ldLnJlcGxhY2UoXG4gICAgICAgICAgcmVwbGFjZUV4cHJlc3Npb24sXG4gICAgICAgICAgdG90YWxOdW1iZXJPZlBhZ2VzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59KShqc1BERi5BUEkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICoganNQREYgdmlld2VyUHJlZmVyZW5jZXMgUGx1Z2luXG4gKiBAYXV0aG9yIEFyYXMgQWJiYXNpIChnaXRodWIuY29tL2FyYXNhYmJhc2kpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIEFkZHMgdGhlIGFiaWxpdHkgdG8gc2V0IFZpZXdlclByZWZlcmVuY2VzIGFuZCBieSB0aHVzXG4gKiBjb250cm9sbGluZyB0aGUgd2F5IHRoZSBkb2N1bWVudCBpcyB0byBiZSBwcmVzZW50ZWQgb24gdGhlXG4gKiBzY3JlZW4gb3IgaW4gcHJpbnQuXG4gKiBAbmFtZSB2aWV3ZXJwcmVmZXJlbmNlc1xuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIC8qKlxuICAgKiBTZXQgdGhlIFZpZXdlclByZWZlcmVuY2VzIG9mIHRoZSBnZW5lcmF0ZWQgUERGXG4gICAqXG4gICAqIEBuYW1lIHZpZXdlclByZWZlcmVuY2VzXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEFycmF5IHdpdGggdGhlIFZpZXdlclByZWZlcmVuY2VzPGJyIC8+XG4gICAqIEV4YW1wbGU6IGRvYy52aWV3ZXJQcmVmZXJlbmNlcyh7XCJGaXRXaW5kb3dcIjp0cnVlfSk7PGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiBZb3UgY2FuIHNldCBmb2xsb3dpbmcgcHJlZmVyZW5jZXM6PGJyIC8+XG4gICAqIDxici8+XG4gICAqIDxiPkhpZGVUb29sYmFyPC9iPiA8aT4oYm9vbGVhbik8L2k+PGJyIC8+XG4gICAqIERlZmF1bHQgdmFsdWU6IGZhbHNlPGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiA8Yj5IaWRlTWVudWJhcjwvYj4gPGk+KGJvb2xlYW4pPC9pPjxiciAvPlxuICAgKiBEZWZhdWx0IHZhbHVlOiBmYWxzZS48YnIgLz5cbiAgICogPGJyIC8+XG4gICAqIDxiPkhpZGVXaW5kb3dVSTwvYj4gPGk+KGJvb2xlYW4pPC9pPjxiciAvPlxuICAgKiBEZWZhdWx0IHZhbHVlOiBmYWxzZS48YnIgLz5cbiAgICogPGJyIC8+XG4gICAqIDxiPkZpdFdpbmRvdzwvYj4gPGk+KGJvb2xlYW4pPC9pPjxiciAvPlxuICAgKiBEZWZhdWx0IHZhbHVlOiBmYWxzZS48YnIgLz5cbiAgICogPGJyIC8+XG4gICAqIDxiPkNlbnRlcldpbmRvdzwvYj4gPGk+KGJvb2xlYW4pPC9pPjxiciAvPlxuICAgKiBEZWZhdWx0IHZhbHVlOiBmYWxzZTxiciAvPlxuICAgKiA8YnIgLz5cbiAgICogPGI+RGlzcGxheURvY1RpdGxlPC9iPiA8aT4oYm9vbGVhbik8L2k+PGJyIC8+XG4gICAqIERlZmF1bHQgdmFsdWU6IGZhbHNlLjxiciAvPlxuICAgKiA8YnIgLz5cbiAgICogPGI+Tm9uRnVsbFNjcmVlblBhZ2VNb2RlPC9iPiA8aT4oc3RyaW5nKTwvaT48YnIgLz5cbiAgICogUG9zc2libGUgdmFsdWVzOiBVc2VOb25lLCBVc2VPdXRsaW5lcywgVXNlVGh1bWJzLCBVc2VPQzxiciAvPlxuICAgKiBEZWZhdWx0IHZhbHVlOiBVc2VOb25lPGJyLz5cbiAgICogPGJyIC8+XG4gICAqIDxiPkRpcmVjdGlvbjwvYj4gPGk+KHN0cmluZyk8L2k+PGJyIC8+XG4gICAqIFBvc3NpYmxlIHZhbHVlczogTDJSLCBSMkw8YnIgLz5cbiAgICogRGVmYXVsdCB2YWx1ZTogTDJSLjxiciAvPlxuICAgKiA8YnIgLz5cbiAgICogPGI+Vmlld0FyZWE8L2I+IDxpPihzdHJpbmcpPC9pPjxiciAvPlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6IE1lZGlhQm94LCBDcm9wQm94LCBUcmltQm94LCBCbGVlZEJveCwgQXJ0Qm94PGJyIC8+XG4gICAqIERlZmF1bHQgdmFsdWU6IENyb3BCb3guPGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiA8Yj5WaWV3Q2xpcDwvYj4gPGk+KHN0cmluZyk8L2k+PGJyIC8+XG4gICAqIFBvc3NpYmxlIHZhbHVlczogTWVkaWFCb3gsIENyb3BCb3gsIFRyaW1Cb3gsIEJsZWVkQm94LCBBcnRCb3g8YnIgLz5cbiAgICogRGVmYXVsdCB2YWx1ZTogQ3JvcEJveDxiciAvPlxuICAgKiA8YnIgLz5cbiAgICogPGI+UHJpbnRBcmVhPC9iPiA8aT4oc3RyaW5nKTwvaT48YnIgLz5cbiAgICogUG9zc2libGUgdmFsdWVzOiBNZWRpYUJveCwgQ3JvcEJveCwgVHJpbUJveCwgQmxlZWRCb3gsIEFydEJveDxiciAvPlxuICAgKiBEZWZhdWx0IHZhbHVlOiBDcm9wQm94PGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiA8Yj5QcmludENsaXA8L2I+IDxpPihzdHJpbmcpPC9pPjxiciAvPlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6IE1lZGlhQm94LCBDcm9wQm94LCBUcmltQm94LCBCbGVlZEJveCwgQXJ0Qm94PGJyIC8+XG4gICAqIERlZmF1bHQgdmFsdWU6IENyb3BCb3guPGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiA8Yj5QcmludFNjYWxpbmc8L2I+IDxpPihzdHJpbmcpPC9pPjxiciAvPlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6IEFwcERlZmF1bHQsIE5vbmU8YnIgLz5cbiAgICogRGVmYXVsdCB2YWx1ZTogQXBwRGVmYXVsdC48YnIgLz5cbiAgICogPGJyIC8+XG4gICAqIDxiPkR1cGxleDwvYj4gPGk+KHN0cmluZyk8L2k+PGJyIC8+XG4gICAqIFBvc3NpYmxlIHZhbHVlczogU2ltcGxleCwgRHVwbGV4RmxpcExvbmdFZGdlLCBEdXBsZXhGbGlwU2hvcnRFZGdlXG4gICAqIERlZmF1bHQgdmFsdWU6IG5vbmU8YnIgLz5cbiAgICogPGJyIC8+XG4gICAqIDxiPlBpY2tUcmF5QnlQREZTaXplPC9iPiA8aT4oYm9vbGVhbik8L2k+PGJyIC8+XG4gICAqIERlZmF1bHQgdmFsdWU6IGZhbHNlPGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiA8Yj5QcmludFBhZ2VSYW5nZTwvYj4gPGk+KEFycmF5KTwvaT48YnIgLz5cbiAgICogRXhhbXBsZTogW1sxLDVdLCBbNyw5XV08YnIgLz5cbiAgICogRGVmYXVsdCB2YWx1ZTogYXMgZGVmaW5lZCBieSBQREYgdmlld2VyIGFwcGxpY2F0aW9uPGJyIC8+XG4gICAqIDxiciAvPlxuICAgKiA8Yj5OdW1Db3BpZXM8L2I+IDxpPihOdW1iZXIpPC9pPjxiciAvPlxuICAgKiBQb3NzaWJsZSB2YWx1ZXM6IDEsIDIsIDMsIDQsIDU8YnIgLz5cbiAgICogRGVmYXVsdCB2YWx1ZTogMTxiciAvPlxuICAgKiA8YnIgLz5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHRoZSBQREYgUmVmZXJlbmNlLCBzaXh0aCBlZGl0aW9uIG9uIFBhZ2UgNTc3XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9SZXNldCBUcnVlIHRvIHJlc2V0IHRoZSBzZXR0aW5nc1xuICAgKiBAZnVuY3Rpb25cbiAgICogQHJldHVybnMganNQREYganNQREYtaW5zdGFuY2VcbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGRvYyA9IG5ldyBqc1BERigpXG4gICAqIGRvYy50ZXh0KCdUaGlzIGlzIGEgdGVzdCcsIDEwLCAxMClcbiAgICogZG9jLnZpZXdlclByZWZlcmVuY2VzKHsnRml0V2luZG93JzogdHJ1ZX0sIHRydWUpXG4gICAqIGRvYy5zYXZlKFwidmlld2VyUHJlZmVyZW5jZXMucGRmXCIpXG4gICAqXG4gICAqIC8vIEV4YW1wbGUgcHJpbnRpbmcgMTAgY29waWVzLCB1c2luZyBjcm9wYm94LCBhbmQgaGlkaW5nIFVJLlxuICAgKiBkb2Mudmlld2VyUHJlZmVyZW5jZXMoe1xuICAgKiAgICdIaWRlV2luZG93VUknOiB0cnVlLFxuICAgKiAgICdQcmludEFyZWEnOiAnQ3JvcEJveCcsXG4gICAqICAgJ051bUNvcGllcyc6IDEwXG4gICAqIH0pXG4gICAqL1xuICBqc1BERkFQSS52aWV3ZXJQcmVmZXJlbmNlcyA9IGZ1bmN0aW9uKG9wdGlvbnMsIGRvUmVzZXQpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBkb1Jlc2V0ID0gZG9SZXNldCB8fCBmYWxzZTtcblxuICAgIHZhciBjb25maWd1cmF0aW9uO1xuICAgIHZhciBjb25maWd1cmF0aW9uVGVtcGxhdGUgPSB7XG4gICAgICBIaWRlVG9vbGJhcjoge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbdHJ1ZSwgZmFsc2VdLFxuICAgICAgICBwZGZWZXJzaW9uOiAxLjNcbiAgICAgIH0sXG4gICAgICBIaWRlTWVudWJhcjoge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbdHJ1ZSwgZmFsc2VdLFxuICAgICAgICBwZGZWZXJzaW9uOiAxLjNcbiAgICAgIH0sXG4gICAgICBIaWRlV2luZG93VUk6IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgZXhwbGljaXRTZXQ6IGZhbHNlLFxuICAgICAgICB2YWx1ZVNldDogW3RydWUsIGZhbHNlXSxcbiAgICAgICAgcGRmVmVyc2lvbjogMS4zXG4gICAgICB9LFxuICAgICAgRml0V2luZG93OiB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgdHlwZTogXCJib29sZWFuXCIsXG4gICAgICAgIGV4cGxpY2l0U2V0OiBmYWxzZSxcbiAgICAgICAgdmFsdWVTZXQ6IFt0cnVlLCBmYWxzZV0sXG4gICAgICAgIHBkZlZlcnNpb246IDEuM1xuICAgICAgfSxcbiAgICAgIENlbnRlcldpbmRvdzoge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbdHJ1ZSwgZmFsc2VdLFxuICAgICAgICBwZGZWZXJzaW9uOiAxLjNcbiAgICAgIH0sXG4gICAgICBEaXNwbGF5RG9jVGl0bGU6IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgZXhwbGljaXRTZXQ6IGZhbHNlLFxuICAgICAgICB2YWx1ZVNldDogW3RydWUsIGZhbHNlXSxcbiAgICAgICAgcGRmVmVyc2lvbjogMS40XG4gICAgICB9LFxuICAgICAgTm9uRnVsbFNjcmVlblBhZ2VNb2RlOiB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogXCJVc2VOb25lXCIsXG4gICAgICAgIHZhbHVlOiBcIlVzZU5vbmVcIixcbiAgICAgICAgdHlwZTogXCJuYW1lXCIsXG4gICAgICAgIGV4cGxpY2l0U2V0OiBmYWxzZSxcbiAgICAgICAgdmFsdWVTZXQ6IFtcIlVzZU5vbmVcIiwgXCJVc2VPdXRsaW5lc1wiLCBcIlVzZVRodW1ic1wiLCBcIlVzZU9DXCJdLFxuICAgICAgICBwZGZWZXJzaW9uOiAxLjNcbiAgICAgIH0sXG4gICAgICBEaXJlY3Rpb246IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBcIkwyUlwiLFxuICAgICAgICB2YWx1ZTogXCJMMlJcIixcbiAgICAgICAgdHlwZTogXCJuYW1lXCIsXG4gICAgICAgIGV4cGxpY2l0U2V0OiBmYWxzZSxcbiAgICAgICAgdmFsdWVTZXQ6IFtcIkwyUlwiLCBcIlIyTFwiXSxcbiAgICAgICAgcGRmVmVyc2lvbjogMS4zXG4gICAgICB9LFxuICAgICAgVmlld0FyZWE6IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBcIkNyb3BCb3hcIixcbiAgICAgICAgdmFsdWU6IFwiQ3JvcEJveFwiLFxuICAgICAgICB0eXBlOiBcIm5hbWVcIixcbiAgICAgICAgZXhwbGljaXRTZXQ6IGZhbHNlLFxuICAgICAgICB2YWx1ZVNldDogW1wiTWVkaWFCb3hcIiwgXCJDcm9wQm94XCIsIFwiVHJpbUJveFwiLCBcIkJsZWVkQm94XCIsIFwiQXJ0Qm94XCJdLFxuICAgICAgICBwZGZWZXJzaW9uOiAxLjRcbiAgICAgIH0sXG4gICAgICBWaWV3Q2xpcDoge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IFwiQ3JvcEJveFwiLFxuICAgICAgICB2YWx1ZTogXCJDcm9wQm94XCIsXG4gICAgICAgIHR5cGU6IFwibmFtZVwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbXCJNZWRpYUJveFwiLCBcIkNyb3BCb3hcIiwgXCJUcmltQm94XCIsIFwiQmxlZWRCb3hcIiwgXCJBcnRCb3hcIl0sXG4gICAgICAgIHBkZlZlcnNpb246IDEuNFxuICAgICAgfSxcbiAgICAgIFByaW50QXJlYToge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IFwiQ3JvcEJveFwiLFxuICAgICAgICB2YWx1ZTogXCJDcm9wQm94XCIsXG4gICAgICAgIHR5cGU6IFwibmFtZVwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbXCJNZWRpYUJveFwiLCBcIkNyb3BCb3hcIiwgXCJUcmltQm94XCIsIFwiQmxlZWRCb3hcIiwgXCJBcnRCb3hcIl0sXG4gICAgICAgIHBkZlZlcnNpb246IDEuNFxuICAgICAgfSxcbiAgICAgIFByaW50Q2xpcDoge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IFwiQ3JvcEJveFwiLFxuICAgICAgICB2YWx1ZTogXCJDcm9wQm94XCIsXG4gICAgICAgIHR5cGU6IFwibmFtZVwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbXCJNZWRpYUJveFwiLCBcIkNyb3BCb3hcIiwgXCJUcmltQm94XCIsIFwiQmxlZWRCb3hcIiwgXCJBcnRCb3hcIl0sXG4gICAgICAgIHBkZlZlcnNpb246IDEuNFxuICAgICAgfSxcbiAgICAgIFByaW50U2NhbGluZzoge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IFwiQXBwRGVmYXVsdFwiLFxuICAgICAgICB2YWx1ZTogXCJBcHBEZWZhdWx0XCIsXG4gICAgICAgIHR5cGU6IFwibmFtZVwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBbXCJBcHBEZWZhdWx0XCIsIFwiTm9uZVwiXSxcbiAgICAgICAgcGRmVmVyc2lvbjogMS42XG4gICAgICB9LFxuICAgICAgRHVwbGV4OiB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogXCJcIixcbiAgICAgICAgdmFsdWU6IFwibm9uZVwiLFxuICAgICAgICB0eXBlOiBcIm5hbWVcIixcbiAgICAgICAgZXhwbGljaXRTZXQ6IGZhbHNlLFxuICAgICAgICB2YWx1ZVNldDogW1xuICAgICAgICAgIFwiU2ltcGxleFwiLFxuICAgICAgICAgIFwiRHVwbGV4RmxpcFNob3J0RWRnZVwiLFxuICAgICAgICAgIFwiRHVwbGV4RmxpcExvbmdFZGdlXCIsXG4gICAgICAgICAgXCJub25lXCJcbiAgICAgICAgXSxcbiAgICAgICAgcGRmVmVyc2lvbjogMS43XG4gICAgICB9LFxuICAgICAgUGlja1RyYXlCeVBERlNpemU6IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgZXhwbGljaXRTZXQ6IGZhbHNlLFxuICAgICAgICB2YWx1ZVNldDogW3RydWUsIGZhbHNlXSxcbiAgICAgICAgcGRmVmVyc2lvbjogMS43XG4gICAgICB9LFxuICAgICAgUHJpbnRQYWdlUmFuZ2U6IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBcIlwiLFxuICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICBleHBsaWNpdFNldDogZmFsc2UsXG4gICAgICAgIHZhbHVlU2V0OiBudWxsLFxuICAgICAgICBwZGZWZXJzaW9uOiAxLjdcbiAgICAgIH0sXG4gICAgICBOdW1Db3BpZXM6IHtcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAxLFxuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgdHlwZTogXCJpbnRlZ2VyXCIsXG4gICAgICAgIGV4cGxpY2l0U2V0OiBmYWxzZSxcbiAgICAgICAgdmFsdWVTZXQ6IG51bGwsXG4gICAgICAgIHBkZlZlcnNpb246IDEuN1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY29uZmlndXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhjb25maWd1cmF0aW9uVGVtcGxhdGUpO1xuXG4gICAgdmFyIHJhbmdlQXJyYXkgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrID0gMDtcbiAgICB2YXIgaXNWYWxpZDtcblxuICAgIHZhciBtZXRob2Q7XG4gICAgdmFyIHZhbHVlO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlDb250YWluc0VsZW1lbnQoYXJyYXksIGVsZW1lbnQpIHtcbiAgICAgIHZhciBpdGVyYXRvcjtcbiAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgZm9yIChpdGVyYXRvciA9IDA7IGl0ZXJhdG9yIDwgYXJyYXkubGVuZ3RoOyBpdGVyYXRvciArPSAxKSB7XG4gICAgICAgIGlmIChhcnJheVtpdGVyYXRvcl0gPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmludGVybmFsLnZpZXdlcnByZWZlcmVuY2VzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWwudmlld2VycHJlZmVyZW5jZXMgPSB7fTtcbiAgICAgIHRoaXMuaW50ZXJuYWwudmlld2VycHJlZmVyZW5jZXMuY29uZmlndXJhdGlvbiA9IEpTT04ucGFyc2UoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGNvbmZpZ3VyYXRpb25UZW1wbGF0ZSlcbiAgICAgICk7XG4gICAgICB0aGlzLmludGVybmFsLnZpZXdlcnByZWZlcmVuY2VzLmlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25maWd1cmF0aW9uID0gdGhpcy5pbnRlcm5hbC52aWV3ZXJwcmVmZXJlbmNlcy5jb25maWd1cmF0aW9uO1xuXG4gICAgaWYgKG9wdGlvbnMgPT09IFwicmVzZXRcIiB8fCBkb1Jlc2V0ID09PSB0cnVlKSB7XG4gICAgICB2YXIgbGVuID0gY29uZmlndXJhdGlvbktleXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrICs9IDEpIHtcbiAgICAgICAgY29uZmlndXJhdGlvbltjb25maWd1cmF0aW9uS2V5c1trXV0udmFsdWUgPVxuICAgICAgICAgIGNvbmZpZ3VyYXRpb25bY29uZmlndXJhdGlvbktleXNba11dLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgY29uZmlndXJhdGlvbltjb25maWd1cmF0aW9uS2V5c1trXV0uZXhwbGljaXRTZXQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGZvciAobWV0aG9kIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdmFsdWUgPSBvcHRpb25zW21ldGhvZF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhcnJheUNvbnRhaW5zRWxlbWVudChjb25maWd1cmF0aW9uS2V5cywgbWV0aG9kKSAmJlxuICAgICAgICAgIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvblttZXRob2RdLnR5cGUgPT09IFwiYm9vbGVhblwiICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uW21ldGhvZF0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgY29uZmlndXJhdGlvblttZXRob2RdLnR5cGUgPT09IFwibmFtZVwiICYmXG4gICAgICAgICAgICBhcnJheUNvbnRhaW5zRWxlbWVudChjb25maWd1cmF0aW9uW21ldGhvZF0udmFsdWVTZXQsIHZhbHVlKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvblttZXRob2RdLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25bbWV0aG9kXS50eXBlID09PSBcImludGVnZXJcIiAmJlxuICAgICAgICAgICAgTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25bbWV0aG9kXS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlndXJhdGlvblttZXRob2RdLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgIGlzVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICBpZiAodmFsdWVbaV0ubGVuZ3RoID09PSAxICYmIHR5cGVvZiB2YWx1ZVtpXVswXSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHJhbmdlQXJyYXkucHVzaChTdHJpbmcodmFsdWVbaV0gLSAxKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVbaV0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB2YWx1ZVtpXS5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXVtqXSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICByYW5nZUFycmF5LnB1c2goW3ZhbHVlW2ldWzBdIC0gMSwgdmFsdWVbaV1bMV0gLSAxXS5qb2luKFwiIFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWd1cmF0aW9uW21ldGhvZF0udmFsdWUgPSBcIltcIiArIHJhbmdlQXJyYXkuam9pbihcIiBcIikgKyBcIl1cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlndXJhdGlvblttZXRob2RdLnZhbHVlID0gY29uZmlndXJhdGlvblttZXRob2RdLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25maWd1cmF0aW9uW21ldGhvZF0uZXhwbGljaXRTZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW50ZXJuYWwudmlld2VycHJlZmVyZW5jZXMuaXNTdWJzY3JpYmVkID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5pbnRlcm5hbC5ldmVudHMuc3Vic2NyaWJlKFwicHV0Q2F0YWxvZ1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBkZkRpY3QgPSBbXTtcbiAgICAgICAgdmFyIHZQcmVmO1xuICAgICAgICBmb3IgKHZQcmVmIGluIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICBpZiAoY29uZmlndXJhdGlvblt2UHJlZl0uZXhwbGljaXRTZXQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChjb25maWd1cmF0aW9uW3ZQcmVmXS50eXBlID09PSBcIm5hbWVcIikge1xuICAgICAgICAgICAgICBwZGZEaWN0LnB1c2goXCIvXCIgKyB2UHJlZiArIFwiIC9cIiArIGNvbmZpZ3VyYXRpb25bdlByZWZdLnZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBkZkRpY3QucHVzaChcIi9cIiArIHZQcmVmICsgXCIgXCIgKyBjb25maWd1cmF0aW9uW3ZQcmVmXS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwZGZEaWN0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXG4gICAgICAgICAgICBcIi9WaWV3ZXJQcmVmZXJlbmNlc1xcbjw8XFxuXCIgKyBwZGZEaWN0LmpvaW4oXCJcXG5cIikgKyBcIlxcbj4+XCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuaW50ZXJuYWwudmlld2VycHJlZmVyZW5jZXMuaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmludGVybmFsLnZpZXdlcnByZWZlcmVuY2VzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSkoanNQREYuQVBJKTtcbiIsIi8qKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQGxpY2Vuc2VcbiAqIGpzUERGIFhNUCBtZXRhZGF0YSBwbHVnaW5cbiAqIENvcHlyaWdodCAoYykgMjAxNiBKdXNzaSBVdHVuZW4sIHUtanVzc2lAc3VvbWkyNC5maVxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4gKiBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xuICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG4gKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gKiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcbiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFXG4gKiBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OXG4gKiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cbiAqIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4vKipcbiAqIEBuYW1lIHhtcF9tZXRhZGF0YVxuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREZBUEkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHBvc3RQdXRSZXNvdXJjZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgeG1wbWV0YV9iZWdpbm5pbmcgPSAnPHg6eG1wbWV0YSB4bWxuczp4PVwiYWRvYmU6bnM6bWV0YS9cIj4nO1xuICAgIHZhciByZGZfYmVnaW5uaW5nID1cbiAgICAgICc8cmRmOlJERiB4bWxuczpyZGY9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjXCI+PHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9XCJcIiB4bWxuczpqc3BkZj1cIicgK1xuICAgICAgdGhpcy5pbnRlcm5hbC5fX21ldGFkYXRhX18ubmFtZXNwYWNldXJpICtcbiAgICAgICdcIj48anNwZGY6bWV0YWRhdGE+JztcbiAgICB2YXIgcmRmX2VuZGluZyA9IFwiPC9qc3BkZjptZXRhZGF0YT48L3JkZjpEZXNjcmlwdGlvbj48L3JkZjpSREY+XCI7XG4gICAgdmFyIHhtcG1ldGFfZW5kaW5nID0gXCI8L3g6eG1wbWV0YT5cIjtcbiAgICB2YXIgdXRmOF94bXBtZXRhX2JlZ2lubmluZyA9IHVuZXNjYXBlKFxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHhtcG1ldGFfYmVnaW5uaW5nKVxuICAgICk7XG4gICAgdmFyIHV0ZjhfcmRmX2JlZ2lubmluZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChyZGZfYmVnaW5uaW5nKSk7XG4gICAgdmFyIHV0ZjhfbWV0YWRhdGEgPSB1bmVzY2FwZShcbiAgICAgIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmludGVybmFsLl9fbWV0YWRhdGFfXy5tZXRhZGF0YSlcbiAgICApO1xuICAgIHZhciB1dGY4X3JkZl9lbmRpbmcgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQocmRmX2VuZGluZykpO1xuICAgIHZhciB1dGY4X3htcG1ldGFfZW5kaW5nID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHhtcG1ldGFfZW5kaW5nKSk7XG5cbiAgICB2YXIgdG90YWxfbGVuID1cbiAgICAgIHV0ZjhfcmRmX2JlZ2lubmluZy5sZW5ndGggK1xuICAgICAgdXRmOF9tZXRhZGF0YS5sZW5ndGggK1xuICAgICAgdXRmOF9yZGZfZW5kaW5nLmxlbmd0aCArXG4gICAgICB1dGY4X3htcG1ldGFfYmVnaW5uaW5nLmxlbmd0aCArXG4gICAgICB1dGY4X3htcG1ldGFfZW5kaW5nLmxlbmd0aDtcblxuICAgIHRoaXMuaW50ZXJuYWwuX19tZXRhZGF0YV9fLm1ldGFkYXRhX29iamVjdF9udW1iZXIgPSB0aGlzLmludGVybmFsLm5ld09iamVjdCgpO1xuICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXG4gICAgICBcIjw8IC9UeXBlIC9NZXRhZGF0YSAvU3VidHlwZSAvWE1MIC9MZW5ndGggXCIgKyB0b3RhbF9sZW4gKyBcIiA+PlwiXG4gICAgKTtcbiAgICB0aGlzLmludGVybmFsLndyaXRlKFwic3RyZWFtXCIpO1xuICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXG4gICAgICB1dGY4X3htcG1ldGFfYmVnaW5uaW5nICtcbiAgICAgICAgdXRmOF9yZGZfYmVnaW5uaW5nICtcbiAgICAgICAgdXRmOF9tZXRhZGF0YSArXG4gICAgICAgIHV0ZjhfcmRmX2VuZGluZyArXG4gICAgICAgIHV0ZjhfeG1wbWV0YV9lbmRpbmdcbiAgICApO1xuICAgIHRoaXMuaW50ZXJuYWwud3JpdGUoXCJlbmRzdHJlYW1cIik7XG4gICAgdGhpcy5pbnRlcm5hbC53cml0ZShcImVuZG9ialwiKTtcbiAgfTtcblxuICB2YXIgcHV0Q2F0YWxvZyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmludGVybmFsLl9fbWV0YWRhdGFfXy5tZXRhZGF0YV9vYmplY3RfbnVtYmVyKSB7XG4gICAgICB0aGlzLmludGVybmFsLndyaXRlKFxuICAgICAgICBcIi9NZXRhZGF0YSBcIiArXG4gICAgICAgICAgdGhpcy5pbnRlcm5hbC5fX21ldGFkYXRhX18ubWV0YWRhdGFfb2JqZWN0X251bWJlciArXG4gICAgICAgICAgXCIgMCBSXCJcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIFhNUCBmb3JtYXR0ZWQgbWV0YWRhdGEgdG8gUERGXG4gICAqXG4gICAqIEBuYW1lIGFkZE1ldGFkYXRhXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0YWRhdGEgVGhlIGFjdHVhbCBtZXRhZGF0YSB0byBiZSBhZGRlZC4gVGhlIG1ldGFkYXRhIHNoYWxsIGJlIHN0b3JlZCBhcyBYTVAgc2ltcGxlIHZhbHVlLiBOb3RlIHRoYXQgaWYgdGhlIG1ldGFkYXRhIHN0cmluZyBjb250YWlucyBYTUwgbWFya3VwIGNoYXJhY3RlcnMgXCI8XCIsIFwiPlwiIG9yIFwiJlwiLCB0aG9zZSBjaGFyYWN0ZXJzIHNob3VsZCBiZSB3cml0dGVuIHVzaW5nIFhNTCBlbnRpdGllcy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXVyaSBTZXRzIHRoZSBuYW1lc3BhY2UgVVJJIGZvciB0aGUgbWV0YWRhdGEuIExhc3QgY2hhcmFjdGVyIHNob3VsZCBiZSBzbGFzaCBvciBoYXNoLlxuICAgKiBAcmV0dXJucyB7anNQREZ9IGpzUERGLWluc3RhbmNlXG4gICAqL1xuICBqc1BERkFQSS5hZGRNZXRhZGF0YSA9IGZ1bmN0aW9uKG1ldGFkYXRhLCBuYW1lc3BhY2V1cmkpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuaW50ZXJuYWwuX19tZXRhZGF0YV9fID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmludGVybmFsLl9fbWV0YWRhdGFfXyA9IHtcbiAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhLFxuICAgICAgICBuYW1lc3BhY2V1cmk6IG5hbWVzcGFjZXVyaSB8fCBcImh0dHA6Ly9qc3BkZi5kZWZhdWx0Lm5hbWVzcGFjZXVyaS9cIlxuICAgICAgfTtcbiAgICAgIHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInB1dENhdGFsb2dcIiwgcHV0Q2F0YWxvZyk7XG5cbiAgICAgIHRoaXMuaW50ZXJuYWwuZXZlbnRzLnN1YnNjcmliZShcInBvc3RQdXRSZXNvdXJjZXNcIiwgcG9zdFB1dFJlc291cmNlcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSkoanNQREYuQVBJKTtcbiIsImltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5pbXBvcnQgeyB0b1BERk5hbWUgfSBmcm9tIFwiLi4vbGlicy9wZGZuYW1lLmpzXCI7XG5cbi8qKlxuICogQG5hbWUgdXRmOFxuICogQG1vZHVsZVxuICovXG4oZnVuY3Rpb24oanNQREYpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBqc1BERkFQSSA9IGpzUERGLkFQSTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiBmdW5jdGlvbiA6IHBkZkVzY2FwZTE2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDogVGhlIGNoYXJhY3RlciBpZCBvZiBhIDItYnl0ZSBzdHJpbmcgaXMgY29udmVydGVkIHRvIGEgaGV4YWRlY2ltYWwgbnVtYmVyIGJ5IG9idGFpbmluZyAqL1xuICAvKiAgIHRoZSBjb3JyZXNwb25kaW5nIGdseXBoIGlkIGFuZCB3aWR0aCwgYW5kIHRoZW4gYWRkaW5nIHBhZGRpbmcgdG8gdGhlIHN0cmluZy4gICAgICAgICAgICAgICAgICAqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICB2YXIgcGRmRXNjYXBlMTYgPSAoanNQREZBUEkucGRmRXNjYXBlMTYgPSBmdW5jdGlvbih0ZXh0LCBmb250KSB7XG4gICAgdmFyIHdpZHRocyA9IGZvbnQubWV0YWRhdGEuVW5pY29kZS53aWR0aHM7XG4gICAgdmFyIHBhZHogPSBbXCJcIiwgXCIwXCIsIFwiMDBcIiwgXCIwMDBcIiwgXCIwMDAwXCJdO1xuICAgIHZhciBhciA9IFtcIlwiXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRleHQubGVuZ3RoLCB0OyBpIDwgbDsgKytpKSB7XG4gICAgICB0ID0gZm9udC5tZXRhZGF0YS5jaGFyYWN0ZXJUb0dseXBoKHRleHQuY2hhckNvZGVBdChpKSk7XG4gICAgICBmb250Lm1ldGFkYXRhLmdseUlkc1VzZWQucHVzaCh0KTtcbiAgICAgIGZvbnQubWV0YWRhdGEudG9Vbmljb2RlW3RdID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKHdpZHRocy5pbmRleE9mKHQpID09IC0xKSB7XG4gICAgICAgIHdpZHRocy5wdXNoKHQpO1xuICAgICAgICB3aWR0aHMucHVzaChbcGFyc2VJbnQoZm9udC5tZXRhZGF0YS53aWR0aE9mR2x5cGgodCksIDEwKV0pO1xuICAgICAgfVxuICAgICAgaWYgKHQgPT0gXCIwXCIpIHtcbiAgICAgICAgLy9TcGFjZXMgYXJlIG5vdCBhbGxvd2VkIGluIGNtYXAuXG4gICAgICAgIHJldHVybiBhci5qb2luKFwiXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdCA9IHQudG9TdHJpbmcoMTYpO1xuICAgICAgICBhci5wdXNoKHBhZHpbNCAtIHQubGVuZ3RoXSwgdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhci5qb2luKFwiXCIpO1xuICB9KTtcblxuICB2YXIgdG9Vbmljb2RlQ21hcCA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBjb2RlLCBjb2RlcywgcmFuZ2UsIHVuaWNvZGUsIHVuaWNvZGVNYXAsIF9pLCBfbGVuO1xuICAgIHVuaWNvZGVNYXAgPVxuICAgICAgXCIvQ0lESW5pdCAvUHJvY1NldCBmaW5kcmVzb3VyY2UgYmVnaW5cXG4xMiBkaWN0IGJlZ2luXFxuYmVnaW5jbWFwXFxuL0NJRFN5c3RlbUluZm8gPDxcXG4gIC9SZWdpc3RyeSAoQWRvYmUpXFxuICAvT3JkZXJpbmcgKFVDUylcXG4gIC9TdXBwbGVtZW50IDBcXG4+PiBkZWZcXG4vQ01hcE5hbWUgL0Fkb2JlLUlkZW50aXR5LVVDUyBkZWZcXG4vQ01hcFR5cGUgMiBkZWZcXG4xIGJlZ2luY29kZXNwYWNlcmFuZ2VcXG48MDAwMD48ZmZmZj5cXG5lbmRjb2Rlc3BhY2VyYW5nZVwiO1xuICAgIGNvZGVzID0gT2JqZWN0LmtleXMobWFwKS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICB9KTtcblxuICAgIHJhbmdlID0gW107XG4gICAgZm9yIChfaSA9IDAsIF9sZW4gPSBjb2Rlcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgY29kZSA9IGNvZGVzW19pXTtcbiAgICAgIGlmIChyYW5nZS5sZW5ndGggPj0gMTAwKSB7XG4gICAgICAgIHVuaWNvZGVNYXAgKz1cbiAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICByYW5nZS5sZW5ndGggK1xuICAgICAgICAgIFwiIGJlZ2luYmZjaGFyXFxuXCIgK1xuICAgICAgICAgIHJhbmdlLmpvaW4oXCJcXG5cIikgK1xuICAgICAgICAgIFwiXFxuZW5kYmZjaGFyXCI7XG4gICAgICAgIHJhbmdlID0gW107XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgbWFwW2NvZGVdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbWFwW2NvZGVdICE9PSBudWxsICYmXG4gICAgICAgIHR5cGVvZiBtYXBbY29kZV0udG9TdHJpbmcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgKSB7XG4gICAgICAgIHVuaWNvZGUgPSAoXCIwMDAwXCIgKyBtYXBbY29kZV0udG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7XG4gICAgICAgIGNvZGUgPSAoXCIwMDAwXCIgKyAoK2NvZGUpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICAgICAgICByYW5nZS5wdXNoKFwiPFwiICsgY29kZSArIFwiPjxcIiArIHVuaWNvZGUgKyBcIj5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJhbmdlLmxlbmd0aCkge1xuICAgICAgdW5pY29kZU1hcCArPVxuICAgICAgICBcIlxcblwiICtcbiAgICAgICAgcmFuZ2UubGVuZ3RoICtcbiAgICAgICAgXCIgYmVnaW5iZmNoYXJcXG5cIiArXG4gICAgICAgIHJhbmdlLmpvaW4oXCJcXG5cIikgK1xuICAgICAgICBcIlxcbmVuZGJmY2hhclxcblwiO1xuICAgIH1cbiAgICB1bmljb2RlTWFwICs9XG4gICAgICBcImVuZGNtYXBcXG5DTWFwTmFtZSBjdXJyZW50ZGljdCAvQ01hcCBkZWZpbmVyZXNvdXJjZSBwb3BcXG5lbmRcXG5lbmRcIjtcbiAgICByZXR1cm4gdW5pY29kZU1hcDtcbiAgfTtcblxuICB2YXIgaWRlbnRpdHlIRnVuY3Rpb24gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGZvbnQgPSBvcHRpb25zLmZvbnQ7XG4gICAgdmFyIG91dCA9IG9wdGlvbnMub3V0O1xuICAgIHZhciBuZXdPYmplY3QgPSBvcHRpb25zLm5ld09iamVjdDtcbiAgICB2YXIgcHV0U3RyZWFtID0gb3B0aW9ucy5wdXRTdHJlYW07XG5cbiAgICBpZiAoXG4gICAgICBmb250Lm1ldGFkYXRhIGluc3RhbmNlb2YganNQREYuQVBJLlRURkZvbnQgJiZcbiAgICAgIGZvbnQuZW5jb2RpbmcgPT09IFwiSWRlbnRpdHktSFwiXG4gICAgKSB7XG4gICAgICAvL1RhZyB3aXRoIElkZW50aXR5LUhcbiAgICAgIHZhciB3aWR0aHMgPSBmb250Lm1ldGFkYXRhLlVuaWNvZGUud2lkdGhzO1xuICAgICAgdmFyIGRhdGEgPSBmb250Lm1ldGFkYXRhLnN1YnNldC5lbmNvZGUoZm9udC5tZXRhZGF0YS5nbHlJZHNVc2VkLCAxKTtcbiAgICAgIHZhciBwZGZPdXRwdXQgPSBkYXRhO1xuICAgICAgdmFyIHBkZk91dHB1dDIgPSBcIlwiO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwZGZPdXRwdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGRmT3V0cHV0MiArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBkZk91dHB1dFtpXSk7XG4gICAgICB9XG4gICAgICB2YXIgZm9udFRhYmxlID0gbmV3T2JqZWN0KCk7XG4gICAgICBwdXRTdHJlYW0oeyBkYXRhOiBwZGZPdXRwdXQyLCBhZGRMZW5ndGgxOiB0cnVlLCBvYmplY3RJZDogZm9udFRhYmxlIH0pO1xuICAgICAgb3V0KFwiZW5kb2JqXCIpO1xuXG4gICAgICB2YXIgY21hcCA9IG5ld09iamVjdCgpO1xuICAgICAgdmFyIGNtYXBEYXRhID0gdG9Vbmljb2RlQ21hcChmb250Lm1ldGFkYXRhLnRvVW5pY29kZSk7XG4gICAgICBwdXRTdHJlYW0oeyBkYXRhOiBjbWFwRGF0YSwgYWRkTGVuZ3RoMTogdHJ1ZSwgb2JqZWN0SWQ6IGNtYXAgfSk7XG4gICAgICBvdXQoXCJlbmRvYmpcIik7XG5cbiAgICAgIHZhciBmb250RGVzY3JpcHRvciA9IG5ld09iamVjdCgpO1xuICAgICAgb3V0KFwiPDxcIik7XG4gICAgICBvdXQoXCIvVHlwZSAvRm9udERlc2NyaXB0b3JcIik7XG4gICAgICBvdXQoXCIvRm9udE5hbWUgL1wiICsgdG9QREZOYW1lKGZvbnQuZm9udE5hbWUpKTtcbiAgICAgIG91dChcIi9Gb250RmlsZTIgXCIgKyBmb250VGFibGUgKyBcIiAwIFJcIik7XG4gICAgICBvdXQoXCIvRm9udEJCb3ggXCIgKyBqc1BERi5BUEkuUERGT2JqZWN0LmNvbnZlcnQoZm9udC5tZXRhZGF0YS5iYm94KSk7XG4gICAgICBvdXQoXCIvRmxhZ3MgXCIgKyBmb250Lm1ldGFkYXRhLmZsYWdzKTtcbiAgICAgIG91dChcIi9TdGVtViBcIiArIGZvbnQubWV0YWRhdGEuc3RlbVYpO1xuICAgICAgb3V0KFwiL0l0YWxpY0FuZ2xlIFwiICsgZm9udC5tZXRhZGF0YS5pdGFsaWNBbmdsZSk7XG4gICAgICBvdXQoXCIvQXNjZW50IFwiICsgZm9udC5tZXRhZGF0YS5hc2NlbmRlcik7XG4gICAgICBvdXQoXCIvRGVzY2VudCBcIiArIGZvbnQubWV0YWRhdGEuZGVjZW5kZXIpO1xuICAgICAgb3V0KFwiL0NhcEhlaWdodCBcIiArIGZvbnQubWV0YWRhdGEuY2FwSGVpZ2h0KTtcbiAgICAgIG91dChcIj4+XCIpO1xuICAgICAgb3V0KFwiZW5kb2JqXCIpO1xuXG4gICAgICB2YXIgRGVzY2VuZGFudEZvbnQgPSBuZXdPYmplY3QoKTtcbiAgICAgIG91dChcIjw8XCIpO1xuICAgICAgb3V0KFwiL1R5cGUgL0ZvbnRcIik7XG4gICAgICBvdXQoXCIvQmFzZUZvbnQgL1wiICsgdG9QREZOYW1lKGZvbnQuZm9udE5hbWUpKTtcbiAgICAgIG91dChcIi9Gb250RGVzY3JpcHRvciBcIiArIGZvbnREZXNjcmlwdG9yICsgXCIgMCBSXCIpO1xuICAgICAgb3V0KFwiL1cgXCIgKyBqc1BERi5BUEkuUERGT2JqZWN0LmNvbnZlcnQod2lkdGhzKSk7XG4gICAgICBvdXQoXCIvQ0lEVG9HSURNYXAgL0lkZW50aXR5XCIpO1xuICAgICAgb3V0KFwiL0RXIDEwMDBcIik7XG4gICAgICBvdXQoXCIvU3VidHlwZSAvQ0lERm9udFR5cGUyXCIpO1xuICAgICAgb3V0KFwiL0NJRFN5c3RlbUluZm9cIik7XG4gICAgICBvdXQoXCI8PFwiKTtcbiAgICAgIG91dChcIi9TdXBwbGVtZW50IDBcIik7XG4gICAgICBvdXQoXCIvUmVnaXN0cnkgKEFkb2JlKVwiKTtcbiAgICAgIG91dChcIi9PcmRlcmluZyAoXCIgKyBmb250LmVuY29kaW5nICsgXCIpXCIpO1xuICAgICAgb3V0KFwiPj5cIik7XG4gICAgICBvdXQoXCI+PlwiKTtcbiAgICAgIG91dChcImVuZG9ialwiKTtcblxuICAgICAgZm9udC5vYmplY3ROdW1iZXIgPSBuZXdPYmplY3QoKTtcbiAgICAgIG91dChcIjw8XCIpO1xuICAgICAgb3V0KFwiL1R5cGUgL0ZvbnRcIik7XG4gICAgICBvdXQoXCIvU3VidHlwZSAvVHlwZTBcIik7XG4gICAgICBvdXQoXCIvVG9Vbmljb2RlIFwiICsgY21hcCArIFwiIDAgUlwiKTtcbiAgICAgIG91dChcIi9CYXNlRm9udCAvXCIgKyB0b1BERk5hbWUoZm9udC5mb250TmFtZSkpO1xuICAgICAgb3V0KFwiL0VuY29kaW5nIC9cIiArIGZvbnQuZW5jb2RpbmcpO1xuICAgICAgb3V0KFwiL0Rlc2NlbmRhbnRGb250cyBbXCIgKyBEZXNjZW5kYW50Rm9udCArIFwiIDAgUl1cIik7XG4gICAgICBvdXQoXCI+PlwiKTtcbiAgICAgIG91dChcImVuZG9ialwiKTtcblxuICAgICAgZm9udC5pc0FscmVhZHlQdXR0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBqc1BERkFQSS5ldmVudHMucHVzaChbXG4gICAgXCJwdXRGb250XCIsXG4gICAgZnVuY3Rpb24oYXJncykge1xuICAgICAgaWRlbnRpdHlIRnVuY3Rpb24oYXJncyk7XG4gICAgfVxuICBdKTtcblxuICB2YXIgd2luQW5zaUVuY29kaW5nRnVuY3Rpb24gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGZvbnQgPSBvcHRpb25zLmZvbnQ7XG4gICAgdmFyIG91dCA9IG9wdGlvbnMub3V0O1xuICAgIHZhciBuZXdPYmplY3QgPSBvcHRpb25zLm5ld09iamVjdDtcbiAgICB2YXIgcHV0U3RyZWFtID0gb3B0aW9ucy5wdXRTdHJlYW07XG5cbiAgICBpZiAoXG4gICAgICBmb250Lm1ldGFkYXRhIGluc3RhbmNlb2YganNQREYuQVBJLlRURkZvbnQgJiZcbiAgICAgIGZvbnQuZW5jb2RpbmcgPT09IFwiV2luQW5zaUVuY29kaW5nXCJcbiAgICApIHtcbiAgICAgIC8vVGFnIHdpdGggV2luQW5zaSBlbmNvZGluZ1xuICAgICAgdmFyIGRhdGEgPSBmb250Lm1ldGFkYXRhLnJhd0RhdGE7XG4gICAgICB2YXIgcGRmT3V0cHV0ID0gZGF0YTtcbiAgICAgIHZhciBwZGZPdXRwdXQyID0gXCJcIjtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGRmT3V0cHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBkZk91dHB1dDIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwZGZPdXRwdXRbaV0pO1xuICAgICAgfVxuICAgICAgdmFyIGZvbnRUYWJsZSA9IG5ld09iamVjdCgpO1xuICAgICAgcHV0U3RyZWFtKHsgZGF0YTogcGRmT3V0cHV0MiwgYWRkTGVuZ3RoMTogdHJ1ZSwgb2JqZWN0SWQ6IGZvbnRUYWJsZSB9KTtcbiAgICAgIG91dChcImVuZG9ialwiKTtcblxuICAgICAgdmFyIGNtYXAgPSBuZXdPYmplY3QoKTtcbiAgICAgIHZhciBjbWFwRGF0YSA9IHRvVW5pY29kZUNtYXAoZm9udC5tZXRhZGF0YS50b1VuaWNvZGUpO1xuICAgICAgcHV0U3RyZWFtKHsgZGF0YTogY21hcERhdGEsIGFkZExlbmd0aDE6IHRydWUsIG9iamVjdElkOiBjbWFwIH0pO1xuICAgICAgb3V0KFwiZW5kb2JqXCIpO1xuXG4gICAgICB2YXIgZm9udERlc2NyaXB0b3IgPSBuZXdPYmplY3QoKTtcbiAgICAgIG91dChcIjw8XCIpO1xuICAgICAgb3V0KFwiL0Rlc2NlbnQgXCIgKyBmb250Lm1ldGFkYXRhLmRlY2VuZGVyKTtcbiAgICAgIG91dChcIi9DYXBIZWlnaHQgXCIgKyBmb250Lm1ldGFkYXRhLmNhcEhlaWdodCk7XG4gICAgICBvdXQoXCIvU3RlbVYgXCIgKyBmb250Lm1ldGFkYXRhLnN0ZW1WKTtcbiAgICAgIG91dChcIi9UeXBlIC9Gb250RGVzY3JpcHRvclwiKTtcbiAgICAgIG91dChcIi9Gb250RmlsZTIgXCIgKyBmb250VGFibGUgKyBcIiAwIFJcIik7XG4gICAgICBvdXQoXCIvRmxhZ3MgOTZcIik7XG4gICAgICBvdXQoXCIvRm9udEJCb3ggXCIgKyBqc1BERi5BUEkuUERGT2JqZWN0LmNvbnZlcnQoZm9udC5tZXRhZGF0YS5iYm94KSk7XG4gICAgICBvdXQoXCIvRm9udE5hbWUgL1wiICsgdG9QREZOYW1lKGZvbnQuZm9udE5hbWUpKTtcbiAgICAgIG91dChcIi9JdGFsaWNBbmdsZSBcIiArIGZvbnQubWV0YWRhdGEuaXRhbGljQW5nbGUpO1xuICAgICAgb3V0KFwiL0FzY2VudCBcIiArIGZvbnQubWV0YWRhdGEuYXNjZW5kZXIpO1xuICAgICAgb3V0KFwiPj5cIik7XG4gICAgICBvdXQoXCJlbmRvYmpcIik7XG4gICAgICBmb250Lm9iamVjdE51bWJlciA9IG5ld09iamVjdCgpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmb250Lm1ldGFkYXRhLmhtdHgud2lkdGhzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGZvbnQubWV0YWRhdGEuaG10eC53aWR0aHNbal0gPSBwYXJzZUludChcbiAgICAgICAgICBmb250Lm1ldGFkYXRhLmhtdHgud2lkdGhzW2pdICogKDEwMDAgLyBmb250Lm1ldGFkYXRhLmhlYWQudW5pdHNQZXJFbSlcbiAgICAgICAgKTsgLy9DaGFuZ2UgdGhlIHdpZHRoIG9mIEVtIHVuaXRzIHRvIFBvaW50IHVuaXRzLlxuICAgICAgfVxuICAgICAgb3V0KFxuICAgICAgICBcIjw8L1N1YnR5cGUvVHJ1ZVR5cGUvVHlwZS9Gb250L1RvVW5pY29kZSBcIiArXG4gICAgICAgICAgY21hcCArXG4gICAgICAgICAgXCIgMCBSL0Jhc2VGb250L1wiICtcbiAgICAgICAgICB0b1BERk5hbWUoZm9udC5mb250TmFtZSkgK1xuICAgICAgICAgIFwiL0ZvbnREZXNjcmlwdG9yIFwiICtcbiAgICAgICAgICBmb250RGVzY3JpcHRvciArXG4gICAgICAgICAgXCIgMCBSXCIgK1xuICAgICAgICAgIFwiL0VuY29kaW5nL1wiICtcbiAgICAgICAgICBmb250LmVuY29kaW5nICtcbiAgICAgICAgICBcIiAvRmlyc3RDaGFyIDI5IC9MYXN0Q2hhciAyNTUgL1dpZHRocyBcIiArXG4gICAgICAgICAganNQREYuQVBJLlBERk9iamVjdC5jb252ZXJ0KGZvbnQubWV0YWRhdGEuaG10eC53aWR0aHMpICtcbiAgICAgICAgICBcIj4+XCJcbiAgICAgICk7XG4gICAgICBvdXQoXCJlbmRvYmpcIik7XG4gICAgICBmb250LmlzQWxyZWFkeVB1dHRlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGpzUERGQVBJLmV2ZW50cy5wdXNoKFtcbiAgICBcInB1dEZvbnRcIixcbiAgICBmdW5jdGlvbihhcmdzKSB7XG4gICAgICB3aW5BbnNpRW5jb2RpbmdGdW5jdGlvbihhcmdzKTtcbiAgICB9XG4gIF0pO1xuXG4gIHZhciB1dGY4VGV4dEZ1bmN0aW9uID0gZnVuY3Rpb24oYXJncykge1xuICAgIHZhciB0ZXh0ID0gYXJncy50ZXh0IHx8IFwiXCI7XG4gICAgdmFyIHggPSBhcmdzLng7XG4gICAgdmFyIHkgPSBhcmdzLnk7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmdzLm9wdGlvbnMgfHwge307XG4gICAgdmFyIG11dGV4ID0gYXJncy5tdXRleCB8fCB7fTtcblxuICAgIHZhciBwZGZFc2NhcGUgPSBtdXRleC5wZGZFc2NhcGU7XG4gICAgdmFyIGFjdGl2ZUZvbnRLZXkgPSBtdXRleC5hY3RpdmVGb250S2V5O1xuICAgIHZhciBmb250cyA9IG11dGV4LmZvbnRzO1xuICAgIHZhciBrZXkgPSBhY3RpdmVGb250S2V5O1xuXG4gICAgdmFyIHN0ciA9IFwiXCIsXG4gICAgICBzID0gMCxcbiAgICAgIGNtYXBDb25maXJtO1xuICAgIHZhciBzdHJUZXh0ID0gXCJcIjtcbiAgICB2YXIgZW5jb2RpbmcgPSBmb250c1trZXldLmVuY29kaW5nO1xuXG4gICAgaWYgKGZvbnRzW2tleV0uZW5jb2RpbmcgIT09IFwiSWRlbnRpdHktSFwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICBtdXRleDogbXV0ZXhcbiAgICAgIH07XG4gICAgfVxuICAgIHN0clRleHQgPSB0ZXh0O1xuXG4gICAga2V5ID0gYWN0aXZlRm9udEtleTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgICAgc3RyVGV4dCA9IHRleHRbMF07XG4gICAgfVxuICAgIGZvciAocyA9IDA7IHMgPCBzdHJUZXh0Lmxlbmd0aDsgcyArPSAxKSB7XG4gICAgICBpZiAoZm9udHNba2V5XS5tZXRhZGF0YS5oYXNPd25Qcm9wZXJ0eShcImNtYXBcIikpIHtcbiAgICAgICAgY21hcENvbmZpcm0gPVxuICAgICAgICAgIGZvbnRzW2tleV0ubWV0YWRhdGEuY21hcC51bmljb2RlLmNvZGVNYXBbc3RyVGV4dFtzXS5jaGFyQ29kZUF0KDApXTtcbiAgICAgICAgLypcbiAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRleHQpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgLy8gZm9yIChpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0ZXh0W3NdKSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY21hcENvbmZpcm0gPSBmb250c1trZXldLm1ldGFkYXRhLmNtYXAudW5pY29kZS5jb2RlTWFwW3N0clRleHRbc11bMF0uY2hhckNvZGVBdCgwKV07IC8vTWFrZSBzdXJlIHRoZSBjbWFwIGhhcyB0aGUgY29ycmVzcG9uZGluZyBnbHlwaCBpZFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbWFwQ29uZmlybSA9IGZvbnRzW2tleV0ubWV0YWRhdGEuY21hcC51bmljb2RlLmNvZGVNYXBbc3RyVGV4dFtzXS5jaGFyQ29kZUF0KDApXTsgLy9NYWtlIHN1cmUgdGhlIGNtYXAgaGFzIHRoZSBjb3JyZXNwb25kaW5nIGdseXBoIGlkXG4gICAgICAgICAgICB9Ki9cbiAgICAgIH1cbiAgICAgIGlmICghY21hcENvbmZpcm0pIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHN0clRleHRbc10uY2hhckNvZGVBdCgwKSA8IDI1NiAmJlxuICAgICAgICAgIGZvbnRzW2tleV0ubWV0YWRhdGEuaGFzT3duUHJvcGVydHkoXCJVbmljb2RlXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIHN0ciArPSBzdHJUZXh0W3NdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciArPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgKz0gc3RyVGV4dFtzXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgaWYgKHBhcnNlSW50KGtleS5zbGljZSgxKSkgPCAxNCB8fCBlbmNvZGluZyA9PT0gXCJXaW5BbnNpRW5jb2RpbmdcIikge1xuICAgICAgLy9Gb3IgdGhlIGRlZmF1bHQgMTMgZm9udFxuICAgICAgcmVzdWx0ID0gcGRmRXNjYXBlKHN0ciwga2V5KVxuICAgICAgICAuc3BsaXQoXCJcIilcbiAgICAgICAgLm1hcChmdW5jdGlvbihjdikge1xuICAgICAgICAgIHJldHVybiBjdi5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCJcIik7XG4gICAgfSBlbHNlIGlmIChlbmNvZGluZyA9PT0gXCJJZGVudGl0eS1IXCIpIHtcbiAgICAgIHJlc3VsdCA9IHBkZkVzY2FwZTE2KHN0ciwgZm9udHNba2V5XSk7XG4gICAgfVxuICAgIG11dGV4LmlzSGV4ID0gdHJ1ZTtcblxuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiByZXN1bHQsXG4gICAgICB4OiB4LFxuICAgICAgeTogeSxcbiAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICBtdXRleDogbXV0ZXhcbiAgICB9O1xuICB9O1xuXG4gIHZhciB1dGY4RXNjYXBlRnVuY3Rpb24gPSBmdW5jdGlvbihwYXJtcykge1xuICAgIHZhciB0ZXh0ID0gcGFybXMudGV4dCB8fCBcIlwiLFxuICAgICAgeCA9IHBhcm1zLngsXG4gICAgICB5ID0gcGFybXMueSxcbiAgICAgIG9wdGlvbnMgPSBwYXJtcy5vcHRpb25zLFxuICAgICAgbXV0ZXggPSBwYXJtcy5tdXRleDtcbiAgICB2YXIgdG1wVGV4dCA9IFtdO1xuICAgIHZhciBhcmdzID0ge1xuICAgICAgdGV4dDogdGV4dCxcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIG11dGV4OiBtdXRleFxuICAgIH07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGV4dFtpXSkpIHtcbiAgICAgICAgICBpZiAodGV4dFtpXS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIHRtcFRleHQucHVzaChbXG4gICAgICAgICAgICAgIHV0ZjhUZXh0RnVuY3Rpb24oT2JqZWN0LmFzc2lnbih7fSwgYXJncywgeyB0ZXh0OiB0ZXh0W2ldWzBdIH0pKVxuICAgICAgICAgICAgICAgIC50ZXh0LFxuICAgICAgICAgICAgICB0ZXh0W2ldWzFdLFxuICAgICAgICAgICAgICB0ZXh0W2ldWzJdXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG1wVGV4dC5wdXNoKFxuICAgICAgICAgICAgICB1dGY4VGV4dEZ1bmN0aW9uKE9iamVjdC5hc3NpZ24oe30sIGFyZ3MsIHsgdGV4dDogdGV4dFtpXSB9KSkudGV4dFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG1wVGV4dC5wdXNoKFxuICAgICAgICAgICAgdXRmOFRleHRGdW5jdGlvbihPYmplY3QuYXNzaWduKHt9LCBhcmdzLCB7IHRleHQ6IHRleHRbaV0gfSkpLnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXJtcy50ZXh0ID0gdG1wVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFybXMudGV4dCA9IHV0ZjhUZXh0RnVuY3Rpb24oXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGFyZ3MsIHsgdGV4dDogdGV4dCB9KVxuICAgICAgKS50ZXh0O1xuICAgIH1cbiAgfTtcblxuICBqc1BERkFQSS5ldmVudHMucHVzaChbXCJwb3N0UHJvY2Vzc1RleHRcIiwgdXRmOEVzY2FwZUZ1bmN0aW9uXSk7XG59KShqc1BERik7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBqc1BERiB2aXJ0dWFsIEZpbGVTeXN0ZW0gZnVuY3Rpb25hbGl0eVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbi8qKlxuICogVXNlIHRoZSB2RlMgdG8gaGFuZGxlIGZpbGVzXG4gKlxuICogQG5hbWUgdkZTXG4gKiBAbW9kdWxlXG4gKi9cbihmdW5jdGlvbihqc1BERkFQSSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2luaXRpYWxpemVWRlMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuaW50ZXJuYWwudkZTID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmludGVybmFsLnZGUyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGZpbGUgZXhpc3RzIGluIHRoZSB2RlNcbiAgICpcbiAgICogQG5hbWUgZXhpc3RzRmlsZUluVkZTXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gUG9zc2libGUgZmlsZW5hbWUgaW4gdGhlIHZGUy5cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqIEBleGFtcGxlXG4gICAqIGRvYy5leGlzdHNGaWxlSW5WRlMoXCJzb21lRmlsZS50eHRcIik7XG4gICAqL1xuICBqc1BERkFQSS5leGlzdHNGaWxlSW5WRlMgPSBmdW5jdGlvbihmaWxlbmFtZSkge1xuICAgIF9pbml0aWFsaXplVkZTLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLmludGVybmFsLnZGU1tmaWxlbmFtZV0gIT09IFwidW5kZWZpbmVkXCI7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIGZpbGUgdG8gdGhlIHZGU1xuICAgKlxuICAgKiBAbmFtZSBhZGRGaWxlVG9WRlNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZSBUaGUgbmFtZSBvZiB0aGUgZmlsZSB3aGljaCBzaG91bGQgYmUgYWRkZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlY29udGVudCBUaGUgY29udGVudCBvZiB0aGUgZmlsZS5cbiAgICogQHJldHVybnMge2pzUERGfVxuICAgKiBAZXhhbXBsZVxuICAgKiBkb2MuYWRkRmlsZVRvVkZTKFwic29tZUZpbGUudHh0XCIsIFwiQkFERkFDRTFcIik7XG4gICAqL1xuICBqc1BERkFQSS5hZGRGaWxlVG9WRlMgPSBmdW5jdGlvbihmaWxlbmFtZSwgZmlsZWNvbnRlbnQpIHtcbiAgICBfaW5pdGlhbGl6ZVZGUy5jYWxsKHRoaXMpO1xuICAgIHRoaXMuaW50ZXJuYWwudkZTW2ZpbGVuYW1lXSA9IGZpbGVjb250ZW50O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpbGUgZnJvbSB0aGUgdkZTXG4gICAqXG4gICAqIEBuYW1lIGdldEZpbGVGcm9tVkZTXG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIG5hbWUgb2YgdGhlIGZpbGUgd2hpY2ggZ2V0cyByZXF1ZXN0ZWQuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqIEBleGFtcGxlXG4gICAqIGRvYy5nZXRGaWxlRnJvbVZGUyhcInNvbWVGaWxlLnR4dFwiKTtcbiAgICovXG4gIGpzUERGQVBJLmdldEZpbGVGcm9tVkZTID0gZnVuY3Rpb24oZmlsZW5hbWUpIHtcbiAgICBfaW5pdGlhbGl6ZVZGUy5jYWxsKHRoaXMpO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLmludGVybmFsLnZGU1tmaWxlbmFtZV0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsLnZGU1tmaWxlbmFtZV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufSkoanNQREYuQVBJKTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIFVuaWNvZGUgQmlkaSBFbmdpbmUgYmFzZWQgb24gdGhlIHdvcmsgb2YgQWxleCBTaGVuc2lzIChAYXN0aGVuc2lzKVxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBqc1BERiB9IGZyb20gXCIuLi9qc3BkZi5qc1wiO1xuXG4oZnVuY3Rpb24oanNQREYpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIC8qKlxuICAgKiBUYWJsZSBvZiBVbmljb2RlIHR5cGVzLlxuICAgKlxuICAgKiBHZW5lcmF0ZWQgYnk6XG4gICAqXG4gICAqIHZhciBiaWRpID0gcmVxdWlyZShcIi4vYmlkaS9pbmRleFwiKTtcbiAgICogdmFyIGJpZGlfYWNjdW11bGF0ZSA9IGJpZGkuc2xpY2UoMCwgMjU2KS5jb25jYXQoYmlkaS5zbGljZSgweDA1MDAsIDB4MDUwMCArIDI1NiAqIDMpKS5cbiAgICogY29uY2F0KGJpZGkuc2xpY2UoMHgyMDAwLCAweDIwMDAgKyAyNTYpKS5jb25jYXQoYmlkaS5zbGljZSgweEZCMDAsIDB4RkIwMCArIDI1NikpLlxuICAgKiBjb25jYXQoYmlkaS5zbGljZSgweEZFMDAsIDB4RkUwMCArIDIgKiAyNTYpKTtcbiAgICpcbiAgICogZm9yKCB2YXIgaSA9IDA7IGkgPCBiaWRpX2FjY3VtdWxhdGUubGVuZ3RoOyBpKyspIHtcbiAgICogXHRpZihiaWRpX2FjY3VtdWxhdGVbaV0gPT09IHVuZGVmaW5lZCB8fCBiaWRpX2FjY3VtdWxhdGVbaV0gPT09ICdPTicpXG4gICAqIFx0XHRiaWRpX2FjY3VtdWxhdGVbaV0gPSAnTic7IC8vbWFyayBhcyBuZXV0cmFsIHRvIGNvbnNlcnZlIHNwYWNlIGFuZCBzdWJzdGl0dXRlIHVuZGVmaW5lZFxuICAgKiB9XG4gICAqIHZhciBiaWRpQWNjdW11bGF0ZVN0ciA9ICdyZXR1cm4gWyBcIicgKyBiaWRpX2FjY3VtdWxhdGUudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICdcIiwgXCInKSArICdcIiBdOyc7XG4gICAqIHJlcXVpcmUoXCJmc1wiKS53cml0ZUZpbGUoJ3VuaWNvZGUtdHlwZXMuanMnLCBiaWRpQWNjdW11bGF0ZVN0cik7XG4gICAqXG4gICAqIEJhc2VkIG9uOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vbWF0aGlhc2J5bmVucy91bmljb2RlLTguMC4wXG4gICAqL1xuICB2YXIgYmlkaVVuaWNvZGVUeXBlcyA9IFtcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIlNcIixcbiAgICBcIkJcIixcbiAgICBcIlNcIixcbiAgICBcIldTXCIsXG4gICAgXCJCXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJcIixcbiAgICBcIkJcIixcbiAgICBcIkJcIixcbiAgICBcIlNcIixcbiAgICBcIldTXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJFU1wiLFxuICAgIFwiQ1NcIixcbiAgICBcIkVTXCIsXG4gICAgXCJDU1wiLFxuICAgIFwiQ1NcIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJDU1wiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJDU1wiLFxuICAgIFwiTlwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkVUXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJSXCIsXG4gICAgXCJOU01cIixcbiAgICBcIlJcIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJSXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiQU5cIixcbiAgICBcIkFOXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiQU5cIixcbiAgICBcIkFOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQ1NcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiQU5cIixcbiAgICBcIkFOXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiQU5cIixcbiAgICBcIkFOXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiQU5cIixcbiAgICBcIkFOXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiRVRcIixcbiAgICBcIkFOXCIsXG4gICAgXCJBTlwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiQU5cIixcbiAgICBcIk5cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIk5TTVwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiQUxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIlJcIixcbiAgICBcIlJcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIlJcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIldTXCIsXG4gICAgXCJXU1wiLFxuICAgIFwiV1NcIixcbiAgICBcIldTXCIsXG4gICAgXCJXU1wiLFxuICAgIFwiV1NcIixcbiAgICBcIldTXCIsXG4gICAgXCJXU1wiLFxuICAgIFwiV1NcIixcbiAgICBcIldTXCIsXG4gICAgXCJXU1wiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiV1NcIixcbiAgICBcIkJcIixcbiAgICBcIkxSRVwiLFxuICAgIFwiUkxFXCIsXG4gICAgXCJQREZcIixcbiAgICBcIkxST1wiLFxuICAgIFwiUkxPXCIsXG4gICAgXCJDU1wiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJDU1wiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiV1NcIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTFJJXCIsXG4gICAgXCJSTElcIixcbiAgICBcIkZTSVwiLFxuICAgIFwiUERJXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiQk5cIixcbiAgICBcIkJOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRVNcIixcbiAgICBcIkVTXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJMXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRVNcIixcbiAgICBcIkVTXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJMXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJSXCIsXG4gICAgXCJFU1wiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiTlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiUlwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5TTVwiLFxuICAgIFwiTlNNXCIsXG4gICAgXCJOU01cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkNTXCIsXG4gICAgXCJOXCIsXG4gICAgXCJDU1wiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiQ1NcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkVUXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJFU1wiLFxuICAgIFwiRVNcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJBTFwiLFxuICAgIFwiQUxcIixcbiAgICBcIkFMXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJCTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiRVNcIixcbiAgICBcIkNTXCIsXG4gICAgXCJFU1wiLFxuICAgIFwiQ1NcIixcbiAgICBcIkNTXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiRU5cIixcbiAgICBcIkVOXCIsXG4gICAgXCJFTlwiLFxuICAgIFwiQ1NcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIkxcIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIk5cIixcbiAgICBcIkVUXCIsXG4gICAgXCJFVFwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiTlwiLFxuICAgIFwiRVRcIixcbiAgICBcIkVUXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCIsXG4gICAgXCJOXCJcbiAgXTtcblxuICAvKipcbiAgICogVW5pY29kZSBCaWRpIGFsZ29yaXRobSBjb21wbGlhbnQgQmlkaSBlbmdpbmUuXG4gICAqIEZvciByZWZlcmVuY2Ugc2VlIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS9cbiAgICovXG5cbiAgLyoqXG4gICAqIGNvbnN0cnVjdG9yICggb3B0aW9ucyApXG4gICAqXG4gICAqIEluaXRpYWxpemVzIEJpZGkgZW5naW5lXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBTZWUgJ3NldE9wdGlvbnMnIGJlbG93IGZvciBkZXRhaWxlZCBkZXNjcmlwdGlvbi5cbiAgICogb3B0aW9ucyBhcmUgY2FzaGVkIGJldHdlZW4gaW52b2NhdGlvbiBvZiAnZG9CaWRpUmVvcmRlcicgbWV0aG9kXG4gICAqXG4gICAqIHNhbXBsZSB1c2FnZSBwYXR0ZXJuIG9mIEJpZGlFbmdpbmU6XG4gICAqIHZhciBvcHQgPSB7XG4gICAqIFx0aXNJbnB1dFZpc3VhbDogdHJ1ZSxcbiAgICogXHRpc0lucHV0UnRsOiBmYWxzZSxcbiAgICogXHRpc091dHB1dFZpc3VhbDogZmFsc2UsXG4gICAqIFx0aXNPdXRwdXRSdGw6IGZhbHNlLFxuICAgKiBcdGlzU3ltbWV0cmljU3dhcHBpbmc6IHRydWVcbiAgICogfVxuICAgKiB2YXIgc291cmNlVG9UYXJnZXQgPSBbXSwgbGV2ZWxzID0gW107XG4gICAqIHZhciBiaWRpRW5nID0gR2xvYmFsaXplLmJpZGlFbmdpbmUob3B0KTtcbiAgICogdmFyIHNyYyA9IFwidGV4dCBzdHJpbmcgdG8gYmUgcmVvcmRlcmVkXCI7XG4gICAqIHZhciByZXQgPSBiaWRpRW5nLmRvQmlkaVJlb3JkZXIoc3JjLCBzb3VyY2VUb1RhcmdldCwgbGV2ZWxzKTtcbiAgICovXG5cbiAganNQREYuX19iaWRpRW5naW5lX18gPSBqc1BERi5wcm90b3R5cGUuX19iaWRpRW5naW5lX18gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIF9VTklDT0RFX1RZUEVTID0gX2JpZGlVbmljb2RlVHlwZXM7XG5cbiAgICB2YXIgX1NUQVRFX1RBQkxFX0xUUiA9IFtcbiAgICAgIFswLCAzLCAwLCAxLCAwLCAwLCAwXSxcbiAgICAgIFswLCAzLCAwLCAxLCAyLCAyLCAwXSxcbiAgICAgIFswLCAzLCAwLCAweDExLCAyLCAwLCAxXSxcbiAgICAgIFswLCAzLCA1LCA1LCA0LCAxLCAwXSxcbiAgICAgIFswLCAzLCAweDE1LCAweDE1LCA0LCAwLCAxXSxcbiAgICAgIFswLCAzLCA1LCA1LCA0LCAyLCAwXVxuICAgIF07XG5cbiAgICB2YXIgX1NUQVRFX1RBQkxFX1JUTCA9IFtcbiAgICAgIFsyLCAwLCAxLCAxLCAwLCAxLCAwXSxcbiAgICAgIFsyLCAwLCAxLCAxLCAwLCAyLCAwXSxcbiAgICAgIFsyLCAwLCAyLCAxLCAzLCAyLCAwXSxcbiAgICAgIFsyLCAwLCAyLCAweDIxLCAzLCAxLCAxXVxuICAgIF07XG5cbiAgICB2YXIgX1RZUEVfTkFNRVNfTUFQID0geyBMOiAwLCBSOiAxLCBFTjogMiwgQU46IDMsIE46IDQsIEI6IDUsIFM6IDYgfTtcblxuICAgIHZhciBfVU5JQ09ERV9SQU5HRVNfTUFQID0ge1xuICAgICAgMDogMCxcbiAgICAgIDU6IDEsXG4gICAgICA2OiAyLFxuICAgICAgNzogMyxcbiAgICAgIDB4MjA6IDQsXG4gICAgICAweGZiOiA1LFxuICAgICAgMHhmZTogNixcbiAgICAgIDB4ZmY6IDdcbiAgICB9O1xuXG4gICAgdmFyIF9TV0FQX1RBQkxFID0gW1xuICAgICAgXCJcXHUwMDI4XCIsXG4gICAgICBcIlxcdTAwMjlcIixcbiAgICAgIFwiXFx1MDAyOFwiLFxuICAgICAgXCJcXHUwMDNDXCIsXG4gICAgICBcIlxcdTAwM0VcIixcbiAgICAgIFwiXFx1MDAzQ1wiLFxuICAgICAgXCJcXHUwMDVCXCIsXG4gICAgICBcIlxcdTAwNURcIixcbiAgICAgIFwiXFx1MDA1QlwiLFxuICAgICAgXCJcXHUwMDdCXCIsXG4gICAgICBcIlxcdTAwN0RcIixcbiAgICAgIFwiXFx1MDA3QlwiLFxuICAgICAgXCJcXHUwMEFCXCIsXG4gICAgICBcIlxcdTAwQkJcIixcbiAgICAgIFwiXFx1MDBBQlwiLFxuICAgICAgXCJcXHUyMDM5XCIsXG4gICAgICBcIlxcdTIwM0FcIixcbiAgICAgIFwiXFx1MjAzOVwiLFxuICAgICAgXCJcXHUyMDQ1XCIsXG4gICAgICBcIlxcdTIwNDZcIixcbiAgICAgIFwiXFx1MjA0NVwiLFxuICAgICAgXCJcXHUyMDdEXCIsXG4gICAgICBcIlxcdTIwN0VcIixcbiAgICAgIFwiXFx1MjA3RFwiLFxuICAgICAgXCJcXHUyMDhEXCIsXG4gICAgICBcIlxcdTIwOEVcIixcbiAgICAgIFwiXFx1MjA4RFwiLFxuICAgICAgXCJcXHUyMjY0XCIsXG4gICAgICBcIlxcdTIyNjVcIixcbiAgICAgIFwiXFx1MjI2NFwiLFxuICAgICAgXCJcXHUyMzI5XCIsXG4gICAgICBcIlxcdTIzMkFcIixcbiAgICAgIFwiXFx1MjMyOVwiLFxuICAgICAgXCJcXHVGRTU5XCIsXG4gICAgICBcIlxcdUZFNUFcIixcbiAgICAgIFwiXFx1RkU1OVwiLFxuICAgICAgXCJcXHVGRTVCXCIsXG4gICAgICBcIlxcdUZFNUNcIixcbiAgICAgIFwiXFx1RkU1QlwiLFxuICAgICAgXCJcXHVGRTVEXCIsXG4gICAgICBcIlxcdUZFNUVcIixcbiAgICAgIFwiXFx1RkU1RFwiLFxuICAgICAgXCJcXHVGRTY0XCIsXG4gICAgICBcIlxcdUZFNjVcIixcbiAgICAgIFwiXFx1RkU2NFwiXG4gICAgXTtcblxuICAgIHZhciBfTFRSX1JBTkdFU19SRUdfRVhQUiA9IG5ldyBSZWdFeHAoXG4gICAgICAvXihbMS00fDldfDFbMC05XXwyWzAtOV18M1swMTY4XXw0WzA0NTg5XXw1WzAxMl18N1s3OF18MTU5fDE2WzAtOV18MTdbMC0yXXwyMVs1NjldfDIyWzAzNDg5XXwyNTApJC9cbiAgICApO1xuXG4gICAgdmFyIF9sYXN0QXJhYmljID0gZmFsc2UsXG4gICAgICBfaGFzVWJhdEFsLFxuICAgICAgX2hhc1ViYXRCLFxuICAgICAgX2hhc1ViYXRTLFxuICAgICAgRElSX0xUUiA9IDAsXG4gICAgICBESVJfUlRMID0gMSxcbiAgICAgIF9pc0luVmlzdWFsLFxuICAgICAgX2lzSW5SdGwsXG4gICAgICBfaXNPdXRWaXN1YWwsXG4gICAgICBfaXNPdXRSdGwsXG4gICAgICBfaXNTeW1tZXRyaWNTd2FwcGluZyxcbiAgICAgIF9kaXIgPSBESVJfTFRSO1xuXG4gICAgdGhpcy5fX2JpZGlFbmdpbmVfXyA9IHt9O1xuXG4gICAgdmFyIF9pbml0ID0gZnVuY3Rpb24odGV4dCwgc291cmNlVG9UYXJnZXRNYXApIHtcbiAgICAgIGlmIChzb3VyY2VUb1RhcmdldE1hcCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBzb3VyY2VUb1RhcmdldE1hcFtpXSA9IGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChfaXNJblJ0bCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9pc0luUnRsID0gX2lzQ29udGV4dHVhbERpclJ0bCh0ZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChfaXNPdXRSdGwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBfaXNPdXRSdGwgPSBfaXNDb250ZXh0dWFsRGlyUnRsKHRleHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBmb3IgcmVmZXJlbmNlIHNlZSAzLjIgaW4gaHR0cDovL3VuaWNvZGUub3JnL3JlcG9ydHMvdHI5L1xuICAgIC8vXG4gICAgdmFyIF9nZXRDaGFyVHlwZSA9IGZ1bmN0aW9uKGNoKSB7XG4gICAgICB2YXIgY2hhckNvZGUgPSBjaC5jaGFyQ29kZUF0KCksXG4gICAgICAgIHJhbmdlID0gY2hhckNvZGUgPj4gOCxcbiAgICAgICAgcmFuZ2VJZHggPSBfVU5JQ09ERV9SQU5HRVNfTUFQW3JhbmdlXTtcblxuICAgICAgaWYgKHJhbmdlSWR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIF9VTklDT0RFX1RZUEVTW3JhbmdlSWR4ICogMjU2ICsgKGNoYXJDb2RlICYgMHhmZildO1xuICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gMHhmYyB8fCByYW5nZSA9PT0gMHhmZCkge1xuICAgICAgICByZXR1cm4gXCJBTFwiO1xuICAgICAgfSBlbHNlIGlmIChfTFRSX1JBTkdFU19SRUdfRVhQUi50ZXN0KHJhbmdlKSkge1xuICAgICAgICAvL3VubGlrZWx5IGNhc2VcbiAgICAgICAgcmV0dXJuIFwiTFwiO1xuICAgICAgfSBlbHNlIGlmIChyYW5nZSA9PT0gOCkge1xuICAgICAgICAvLyBldmVuIGxlc3MgbGlrZWx5XG4gICAgICAgIHJldHVybiBcIlJcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBcIk5cIjsgLy91bmRlZmluZWQgdHlwZSwgbWFyayBhcyBuZXV0cmFsXG4gICAgfTtcblxuICAgIHZhciBfaXNDb250ZXh0dWFsRGlyUnRsID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGNoYXJUeXBlOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGFyVHlwZSA9IF9nZXRDaGFyVHlwZSh0ZXh0LmNoYXJBdChpKSk7XG4gICAgICAgIGlmIChjaGFyVHlwZSA9PT0gXCJMXCIpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhclR5cGUgPT09IFwiUlwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gZm9yIHJlZmVyZW5jZSBzZWUgMy4zLjQgJiAzLjMuNSBpbiBodHRwOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvXG4gICAgLy9cbiAgICB2YXIgX3Jlc29sdmVDaGFyVHlwZSA9IGZ1bmN0aW9uKGNoYXJzLCB0eXBlcywgcmVzb2x2ZWRUeXBlcywgaW5kZXgpIHtcbiAgICAgIHZhciBjVHlwZSA9IHR5cGVzW2luZGV4XSxcbiAgICAgICAgd1R5cGUsXG4gICAgICAgIG5UeXBlLFxuICAgICAgICBpLFxuICAgICAgICBsZW47XG4gICAgICBzd2l0Y2ggKGNUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJMXCI6XG4gICAgICAgIGNhc2UgXCJSXCI6XG4gICAgICAgICAgX2xhc3RBcmFiaWMgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIk5cIjpcbiAgICAgICAgY2FzZSBcIkFOXCI6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkVOXCI6XG4gICAgICAgICAgaWYgKF9sYXN0QXJhYmljKSB7XG4gICAgICAgICAgICBjVHlwZSA9IFwiQU5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkFMXCI6XG4gICAgICAgICAgX2xhc3RBcmFiaWMgPSB0cnVlO1xuICAgICAgICAgIF9oYXNVYmF0QWwgPSB0cnVlO1xuICAgICAgICAgIGNUeXBlID0gXCJSXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIldTXCI6XG4gICAgICAgICAgY1R5cGUgPSBcIk5cIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiQ1NcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpbmRleCA8IDEgfHxcbiAgICAgICAgICAgIGluZGV4ICsgMSA+PSB0eXBlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICgod1R5cGUgPSByZXNvbHZlZFR5cGVzW2luZGV4IC0gMV0pICE9PSBcIkVOXCIgJiYgd1R5cGUgIT09IFwiQU5cIikgfHxcbiAgICAgICAgICAgICgoblR5cGUgPSB0eXBlc1tpbmRleCArIDFdKSAhPT0gXCJFTlwiICYmIG5UeXBlICE9PSBcIkFOXCIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjVHlwZSA9IFwiTlwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoX2xhc3RBcmFiaWMpIHtcbiAgICAgICAgICAgIG5UeXBlID0gXCJBTlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjVHlwZSA9IG5UeXBlID09PSB3VHlwZSA/IG5UeXBlIDogXCJOXCI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkVTXCI6XG4gICAgICAgICAgd1R5cGUgPSBpbmRleCA+IDAgPyByZXNvbHZlZFR5cGVzW2luZGV4IC0gMV0gOiBcIkJcIjtcbiAgICAgICAgICBjVHlwZSA9XG4gICAgICAgICAgICB3VHlwZSA9PT0gXCJFTlwiICYmXG4gICAgICAgICAgICBpbmRleCArIDEgPCB0eXBlcy5sZW5ndGggJiZcbiAgICAgICAgICAgIHR5cGVzW2luZGV4ICsgMV0gPT09IFwiRU5cIlxuICAgICAgICAgICAgICA/IFwiRU5cIlxuICAgICAgICAgICAgICA6IFwiTlwiO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJFVFwiOlxuICAgICAgICAgIGlmIChpbmRleCA+IDAgJiYgcmVzb2x2ZWRUeXBlc1tpbmRleCAtIDFdID09PSBcIkVOXCIpIHtcbiAgICAgICAgICAgIGNUeXBlID0gXCJFTlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChfbGFzdEFyYWJpYykge1xuICAgICAgICAgICAgY1R5cGUgPSBcIk5cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpID0gaW5kZXggKyAxO1xuICAgICAgICAgIGxlbiA9IHR5cGVzLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoaSA8IGxlbiAmJiB0eXBlc1tpXSA9PT0gXCJFVFwiKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpIDwgbGVuICYmIHR5cGVzW2ldID09PSBcIkVOXCIpIHtcbiAgICAgICAgICAgIGNUeXBlID0gXCJFTlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjVHlwZSA9IFwiTlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTlNNXCI6XG4gICAgICAgICAgaWYgKF9pc0luVmlzdWFsICYmICFfaXNJblJ0bCkge1xuICAgICAgICAgICAgLy9WLT5MXG4gICAgICAgICAgICBsZW4gPSB0eXBlcy5sZW5ndGg7XG4gICAgICAgICAgICBpID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBsZW4gJiYgdHlwZXNbaV0gPT09IFwiTlNNXCIpIHtcbiAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPCBsZW4pIHtcbiAgICAgICAgICAgICAgdmFyIGMgPSBjaGFyc1tpbmRleF07XG4gICAgICAgICAgICAgIHZhciBydGxDYW5kaWRhdGUgPSAoYyA+PSAweDA1OTEgJiYgYyA8PSAweDA4ZmYpIHx8IGMgPT09IDB4ZmIxZTtcbiAgICAgICAgICAgICAgd1R5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgICAgICAgaWYgKHJ0bENhbmRpZGF0ZSAmJiAod1R5cGUgPT09IFwiUlwiIHx8IHdUeXBlID09PSBcIkFMXCIpKSB7XG4gICAgICAgICAgICAgICAgY1R5cGUgPSBcIlJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPCAxIHx8ICh3VHlwZSA9IHR5cGVzW2luZGV4IC0gMV0pID09PSBcIkJcIikge1xuICAgICAgICAgICAgY1R5cGUgPSBcIk5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY1R5cGUgPSByZXNvbHZlZFR5cGVzW2luZGV4IC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJCXCI6XG4gICAgICAgICAgX2xhc3RBcmFiaWMgPSBmYWxzZTtcbiAgICAgICAgICBfaGFzVWJhdEIgPSB0cnVlO1xuICAgICAgICAgIGNUeXBlID0gX2RpcjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgIF9oYXNVYmF0UyA9IHRydWU7XG4gICAgICAgICAgY1R5cGUgPSBcIk5cIjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiTFJFXCI6XG4gICAgICAgIGNhc2UgXCJSTEVcIjpcbiAgICAgICAgY2FzZSBcIkxST1wiOlxuICAgICAgICBjYXNlIFwiUkxPXCI6XG4gICAgICAgIGNhc2UgXCJQREZcIjpcbiAgICAgICAgICBfbGFzdEFyYWJpYyA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQk5cIjpcbiAgICAgICAgICBjVHlwZSA9IFwiTlwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNUeXBlO1xuICAgIH07XG5cbiAgICB2YXIgX2hhbmRsZVViYXRTID0gZnVuY3Rpb24odHlwZXMsIGxldmVscywgbGVuZ3RoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0eXBlc1tpXSA9PT0gXCJTXCIpIHtcbiAgICAgICAgICBsZXZlbHNbaV0gPSBfZGlyO1xuICAgICAgICAgIGZvciAodmFyIGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgIGlmICh0eXBlc1tqXSA9PT0gXCJXU1wiKSB7XG4gICAgICAgICAgICAgIGxldmVsc1tqXSA9IF9kaXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIF9pbnZlcnRTdHJpbmcgPSBmdW5jdGlvbih0ZXh0LCBzb3VyY2VUb1RhcmdldE1hcCwgbGV2ZWxzKSB7XG4gICAgICB2YXIgY2hhckFycmF5ID0gdGV4dC5zcGxpdChcIlwiKTtcbiAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgX2NvbXB1dGVMZXZlbHMoY2hhckFycmF5LCBsZXZlbHMsIHsgaGlMZXZlbDogX2RpciB9KTtcbiAgICAgIH1cbiAgICAgIGNoYXJBcnJheS5yZXZlcnNlKCk7XG4gICAgICBzb3VyY2VUb1RhcmdldE1hcCAmJiBzb3VyY2VUb1RhcmdldE1hcC5yZXZlcnNlKCk7XG4gICAgICByZXR1cm4gY2hhckFycmF5LmpvaW4oXCJcIik7XG4gICAgfTtcblxuICAgIC8vIEZvciByZWZlcmVuY2Ugc2VlIDMuMyBpbiBodHRwOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvXG4gICAgLy9cbiAgICB2YXIgX2NvbXB1dGVMZXZlbHMgPSBmdW5jdGlvbihjaGFycywgbGV2ZWxzLCBwYXJhbXMpIHtcbiAgICAgIHZhciBhY3Rpb24sXG4gICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgaSxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIG5ld0xldmVsLFxuICAgICAgICBwcmV2U3RhdGUsXG4gICAgICAgIGNvbmRQb3MgPSAtMSxcbiAgICAgICAgbGVuID0gY2hhcnMubGVuZ3RoLFxuICAgICAgICBuZXdTdGF0ZSA9IDAsXG4gICAgICAgIHJlc29sdmVkVHlwZXMgPSBbXSxcbiAgICAgICAgc3RhdGVUYWJsZSA9IF9kaXIgPyBfU1RBVEVfVEFCTEVfUlRMIDogX1NUQVRFX1RBQkxFX0xUUixcbiAgICAgICAgdHlwZXMgPSBbXTtcblxuICAgICAgX2xhc3RBcmFiaWMgPSBmYWxzZTtcbiAgICAgIF9oYXNVYmF0QWwgPSBmYWxzZTtcbiAgICAgIF9oYXNVYmF0QiA9IGZhbHNlO1xuICAgICAgX2hhc1ViYXRTID0gZmFsc2U7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdHlwZXNbaV0gPSBfZ2V0Q2hhclR5cGUoY2hhcnNbaV0pO1xuICAgICAgfVxuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICAgIHByZXZTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICByZXNvbHZlZFR5cGVzW2luZGV4XSA9IF9yZXNvbHZlQ2hhclR5cGUoXG4gICAgICAgICAgY2hhcnMsXG4gICAgICAgICAgdHlwZXMsXG4gICAgICAgICAgcmVzb2x2ZWRUeXBlcyxcbiAgICAgICAgICBpbmRleFxuICAgICAgICApO1xuICAgICAgICBuZXdTdGF0ZSA9IHN0YXRlVGFibGVbcHJldlN0YXRlXVtfVFlQRV9OQU1FU19NQVBbcmVzb2x2ZWRUeXBlc1tpbmRleF1dXTtcbiAgICAgICAgYWN0aW9uID0gbmV3U3RhdGUgJiAweGYwO1xuICAgICAgICBuZXdTdGF0ZSAmPSAweDBmO1xuICAgICAgICBsZXZlbHNbaW5kZXhdID0gbmV3TGV2ZWwgPSBzdGF0ZVRhYmxlW25ld1N0YXRlXVs1XTtcbiAgICAgICAgaWYgKGFjdGlvbiA+IDApIHtcbiAgICAgICAgICBpZiAoYWN0aW9uID09PSAweDEwKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSBjb25kUG9zOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICBsZXZlbHNbaV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZFBvcyA9IC0xO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25kUG9zID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbmRpdGlvbiA9IHN0YXRlVGFibGVbbmV3U3RhdGVdWzZdO1xuICAgICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgaWYgKGNvbmRQb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBjb25kUG9zID0gaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjb25kUG9zID4gLTEpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IGNvbmRQb3M7IGkgPCBpbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxldmVsc1tpXSA9IG5ld0xldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZFBvcyA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZXNbaW5kZXhdID09PSBcIkJcIikge1xuICAgICAgICAgIGxldmVsc1tpbmRleF0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcy5oaUxldmVsIHw9IG5ld0xldmVsO1xuICAgICAgfVxuICAgICAgaWYgKF9oYXNVYmF0Uykge1xuICAgICAgICBfaGFuZGxlVWJhdFModHlwZXMsIGxldmVscywgbGVuKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZm9yIHJlZmVyZW5jZSBzZWUgMy40IGluIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS9cbiAgICAvL1xuICAgIHZhciBfaW52ZXJ0QnlMZXZlbCA9IGZ1bmN0aW9uKFxuICAgICAgbGV2ZWwsXG4gICAgICBjaGFyQXJyYXksXG4gICAgICBzb3VyY2VUb1RhcmdldE1hcCxcbiAgICAgIGxldmVscyxcbiAgICAgIHBhcmFtc1xuICAgICkge1xuICAgICAgaWYgKHBhcmFtcy5oaUxldmVsIDwgbGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGxldmVsID09PSAxICYmIF9kaXIgPT09IERJUl9SVEwgJiYgIV9oYXNVYmF0Qikge1xuICAgICAgICBjaGFyQXJyYXkucmV2ZXJzZSgpO1xuICAgICAgICBzb3VyY2VUb1RhcmdldE1hcCAmJiBzb3VyY2VUb1RhcmdldE1hcC5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBjaCxcbiAgICAgICAgaGlnaCxcbiAgICAgICAgZW5kLFxuICAgICAgICBsb3csXG4gICAgICAgIGxlbiA9IGNoYXJBcnJheS5sZW5ndGgsXG4gICAgICAgIHN0YXJ0ID0gMDtcblxuICAgICAgd2hpbGUgKHN0YXJ0IDwgbGVuKSB7XG4gICAgICAgIGlmIChsZXZlbHNbc3RhcnRdID49IGxldmVsKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQgKyAxO1xuICAgICAgICAgIHdoaWxlIChlbmQgPCBsZW4gJiYgbGV2ZWxzW2VuZF0gPj0gbGV2ZWwpIHtcbiAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxvdyA9IHN0YXJ0LCBoaWdoID0gZW5kIC0gMTsgbG93IDwgaGlnaDsgbG93KyssIGhpZ2gtLSkge1xuICAgICAgICAgICAgY2ggPSBjaGFyQXJyYXlbbG93XTtcbiAgICAgICAgICAgIGNoYXJBcnJheVtsb3ddID0gY2hhckFycmF5W2hpZ2hdO1xuICAgICAgICAgICAgY2hhckFycmF5W2hpZ2hdID0gY2g7XG4gICAgICAgICAgICBpZiAoc291cmNlVG9UYXJnZXRNYXApIHtcbiAgICAgICAgICAgICAgY2ggPSBzb3VyY2VUb1RhcmdldE1hcFtsb3ddO1xuICAgICAgICAgICAgICBzb3VyY2VUb1RhcmdldE1hcFtsb3ddID0gc291cmNlVG9UYXJnZXRNYXBbaGlnaF07XG4gICAgICAgICAgICAgIHNvdXJjZVRvVGFyZ2V0TWFwW2hpZ2hdID0gY2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0Kys7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGZvciByZWZlcmVuY2Ugc2VlIDcgJiBCRDE2IGluIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS9cbiAgICAvL1xuICAgIHZhciBfc3ltbWV0cmljU3dhcCA9IGZ1bmN0aW9uKGNoYXJBcnJheSwgbGV2ZWxzLCBwYXJhbXMpIHtcbiAgICAgIGlmIChwYXJhbXMuaGlMZXZlbCAhPT0gMCAmJiBfaXNTeW1tZXRyaWNTd2FwcGluZykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaW5kZXg7IGkgPCBjaGFyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAobGV2ZWxzW2ldID09PSAxKSB7XG4gICAgICAgICAgICBpbmRleCA9IF9TV0FQX1RBQkxFLmluZGV4T2YoY2hhckFycmF5W2ldKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgIGNoYXJBcnJheVtpXSA9IF9TV0FQX1RBQkxFW2luZGV4ICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBfcmVvcmRlciA9IGZ1bmN0aW9uKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwLCBsZXZlbHMpIHtcbiAgICAgIHZhciBjaGFyQXJyYXkgPSB0ZXh0LnNwbGl0KFwiXCIpLFxuICAgICAgICBwYXJhbXMgPSB7IGhpTGV2ZWw6IF9kaXIgfTtcblxuICAgICAgaWYgKCFsZXZlbHMpIHtcbiAgICAgICAgbGV2ZWxzID0gW107XG4gICAgICB9XG4gICAgICBfY29tcHV0ZUxldmVscyhjaGFyQXJyYXksIGxldmVscywgcGFyYW1zKTtcbiAgICAgIF9zeW1tZXRyaWNTd2FwKGNoYXJBcnJheSwgbGV2ZWxzLCBwYXJhbXMpO1xuICAgICAgX2ludmVydEJ5TGV2ZWwoRElSX1JUTCArIDEsIGNoYXJBcnJheSwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscywgcGFyYW1zKTtcbiAgICAgIF9pbnZlcnRCeUxldmVsKERJUl9SVEwsIGNoYXJBcnJheSwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscywgcGFyYW1zKTtcbiAgICAgIHJldHVybiBjaGFyQXJyYXkuam9pbihcIlwiKTtcbiAgICB9O1xuXG4gICAgLy8gZG9CaWRpUmVvcmRlciggdGV4dCwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscyApXG4gICAgLy8gUGVyZm9ybXMgQmlkaSByZW9yZGVyaW5nIGJ5IGltcGxlbWVudGluZyBVbmljb2RlIEJpZGkgYWxnb3JpdGhtLlxuICAgIC8vIFJldHVybnMgcmVvcmRlcmVkIHN0cmluZ1xuICAgIC8vIEB0ZXh0IFtTdHJpbmddOlxuICAgIC8vIC0gaW5wdXQgc3RyaW5nIHRvIGJlIHJlb3JkZXJlZCwgdGhpcyBpcyBpbnB1dCBwYXJhbWV0ZXJcbiAgICAvLyAkc291cmNlVG9UYXJnZXRNYXAgW0FycmF5XSAob3B0aW9uYWwpXG4gICAgLy8gLSByZXN1bHRhbnQgbWFwcGluZyBiZXR3ZWVuIGlucHV0IGFuZCBvdXRwdXQgc3RyaW5ncywgdGhpcyBpcyBvdXRwdXQgcGFyYW1ldGVyXG4gICAgLy8gJGxldmVscyBbQXJyYXldIChvcHRpb25hbClcbiAgICAvLyAtIGFycmF5IG9mIGNhbGN1bGF0ZWQgQmlkaSBsZXZlbHMsICwgdGhpcyBpcyBvdXRwdXQgcGFyYW1ldGVyXG4gICAgdGhpcy5fX2JpZGlFbmdpbmVfXy5kb0JpZGlSZW9yZGVyID0gZnVuY3Rpb24oXG4gICAgICB0ZXh0LFxuICAgICAgc291cmNlVG9UYXJnZXRNYXAsXG4gICAgICBsZXZlbHNcbiAgICApIHtcbiAgICAgIF9pbml0KHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwKTtcbiAgICAgIGlmICghX2lzSW5WaXN1YWwgJiYgX2lzT3V0VmlzdWFsICYmICFfaXNPdXRSdGwpIHtcbiAgICAgICAgLy8gTExUUi0+VkxUUiwgTFJUTC0+VkxUUlxuICAgICAgICBfZGlyID0gX2lzSW5SdGwgPyBESVJfUlRMIDogRElSX0xUUjtcbiAgICAgICAgdGV4dCA9IF9yZW9yZGVyKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwLCBsZXZlbHMpO1xuICAgICAgfSBlbHNlIGlmIChfaXNJblZpc3VhbCAmJiBfaXNPdXRWaXN1YWwgJiYgX2lzSW5SdGwgXiBfaXNPdXRSdGwpIHtcbiAgICAgICAgLy8gVlJUTC0+VkxUUiwgVkxUUi0+VlJUTFxuICAgICAgICBfZGlyID0gX2lzSW5SdGwgPyBESVJfUlRMIDogRElSX0xUUjtcbiAgICAgICAgdGV4dCA9IF9pbnZlcnRTdHJpbmcodGV4dCwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscyk7XG4gICAgICB9IGVsc2UgaWYgKCFfaXNJblZpc3VhbCAmJiBfaXNPdXRWaXN1YWwgJiYgX2lzT3V0UnRsKSB7XG4gICAgICAgIC8vIExMVFItPlZSVEwsIExSVEwtPlZSVExcbiAgICAgICAgX2RpciA9IF9pc0luUnRsID8gRElSX1JUTCA6IERJUl9MVFI7XG4gICAgICAgIHRleHQgPSBfcmVvcmRlcih0ZXh0LCBzb3VyY2VUb1RhcmdldE1hcCwgbGV2ZWxzKTtcbiAgICAgICAgdGV4dCA9IF9pbnZlcnRTdHJpbmcodGV4dCwgc291cmNlVG9UYXJnZXRNYXApO1xuICAgICAgfSBlbHNlIGlmIChfaXNJblZpc3VhbCAmJiAhX2lzSW5SdGwgJiYgIV9pc091dFZpc3VhbCAmJiAhX2lzT3V0UnRsKSB7XG4gICAgICAgIC8vIFZMVFItPkxMVFJcbiAgICAgICAgX2RpciA9IERJUl9MVFI7XG4gICAgICAgIHRleHQgPSBfcmVvcmRlcih0ZXh0LCBzb3VyY2VUb1RhcmdldE1hcCwgbGV2ZWxzKTtcbiAgICAgIH0gZWxzZSBpZiAoX2lzSW5WaXN1YWwgJiYgIV9pc091dFZpc3VhbCAmJiBfaXNJblJ0bCBeIF9pc091dFJ0bCkge1xuICAgICAgICAvLyBWTFRSLT5MUlRMLCBWUlRMLT5MTFRSXG4gICAgICAgIHRleHQgPSBfaW52ZXJ0U3RyaW5nKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwKTtcbiAgICAgICAgaWYgKF9pc0luUnRsKSB7XG4gICAgICAgICAgLy9MTFRSIC0+IFZMVFJcbiAgICAgICAgICBfZGlyID0gRElSX0xUUjtcbiAgICAgICAgICB0ZXh0ID0gX3Jlb3JkZXIodGV4dCwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9MUlRMIC0+IFZSVExcbiAgICAgICAgICBfZGlyID0gRElSX1JUTDtcbiAgICAgICAgICB0ZXh0ID0gX3Jlb3JkZXIodGV4dCwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscyk7XG4gICAgICAgICAgdGV4dCA9IF9pbnZlcnRTdHJpbmcodGV4dCwgc291cmNlVG9UYXJnZXRNYXApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKF9pc0luVmlzdWFsICYmIF9pc0luUnRsICYmICFfaXNPdXRWaXN1YWwgJiYgX2lzT3V0UnRsKSB7XG4gICAgICAgIC8vICBWUlRMLT5MUlRMXG4gICAgICAgIF9kaXIgPSBESVJfUlRMO1xuICAgICAgICB0ZXh0ID0gX3Jlb3JkZXIodGV4dCwgc291cmNlVG9UYXJnZXRNYXAsIGxldmVscyk7XG4gICAgICAgIHRleHQgPSBfaW52ZXJ0U3RyaW5nKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwKTtcbiAgICAgIH0gZWxzZSBpZiAoIV9pc0luVmlzdWFsICYmICFfaXNPdXRWaXN1YWwgJiYgX2lzSW5SdGwgXiBfaXNPdXRSdGwpIHtcbiAgICAgICAgLy8gTFJUTC0+TExUUiwgTExUUi0+TFJUTFxuICAgICAgICB2YXIgaXNTeW1tZXRyaWNTd2FwcGluZ09yaWcgPSBfaXNTeW1tZXRyaWNTd2FwcGluZztcbiAgICAgICAgaWYgKF9pc0luUnRsKSB7XG4gICAgICAgICAgLy9MUlRMLT5MTFRSXG4gICAgICAgICAgX2RpciA9IERJUl9SVEw7XG4gICAgICAgICAgdGV4dCA9IF9yZW9yZGVyKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwLCBsZXZlbHMpO1xuICAgICAgICAgIF9kaXIgPSBESVJfTFRSO1xuICAgICAgICAgIF9pc1N5bW1ldHJpY1N3YXBwaW5nID0gZmFsc2U7XG4gICAgICAgICAgdGV4dCA9IF9yZW9yZGVyKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwLCBsZXZlbHMpO1xuICAgICAgICAgIF9pc1N5bW1ldHJpY1N3YXBwaW5nID0gaXNTeW1tZXRyaWNTd2FwcGluZ09yaWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9MTFRSLT5MUlRMXG4gICAgICAgICAgX2RpciA9IERJUl9MVFI7XG4gICAgICAgICAgdGV4dCA9IF9yZW9yZGVyKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwLCBsZXZlbHMpO1xuICAgICAgICAgIHRleHQgPSBfaW52ZXJ0U3RyaW5nKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwKTtcbiAgICAgICAgICBfZGlyID0gRElSX1JUTDtcbiAgICAgICAgICBfaXNTeW1tZXRyaWNTd2FwcGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRleHQgPSBfcmVvcmRlcih0ZXh0LCBzb3VyY2VUb1RhcmdldE1hcCwgbGV2ZWxzKTtcbiAgICAgICAgICBfaXNTeW1tZXRyaWNTd2FwcGluZyA9IGlzU3ltbWV0cmljU3dhcHBpbmdPcmlnO1xuICAgICAgICAgIHRleHQgPSBfaW52ZXJ0U3RyaW5nKHRleHQsIHNvdXJjZVRvVGFyZ2V0TWFwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHNldE9wdGlvbnMoIG9wdGlvbnMgKVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIFNldHMgb3B0aW9ucyBmb3IgQmlkaSBjb252ZXJzaW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9OlxuICAgICAqIC0gaXNJbnB1dFZpc3VhbCB7Ym9vbGVhbn0gKGRlZmF1bHRzIHRvIGZhbHNlKTogYWxsb3dlZCB2YWx1ZXM6IHRydWUoVmlzdWFsIG1vZGUpLCBmYWxzZShMb2dpY2FsIG1vZGUpXG4gICAgICogLSBpc0lucHV0UnRsIHtib29sZWFufTogYWxsb3dlZCB2YWx1ZXMgdHJ1ZShSaWdodC10by1sZWZ0IGRpcmVjdGlvbiksIGZhbHNlIChMZWZ0LXRvLXJpZ2h0IGRpcmVjdGlpb24pLCB1bmRlZmluZWQoQ29udGVjdHVhbCBkaXJlY3Rpb24sIGkuZS5kaXJlY3Rpb24gZGVmaW5lZCBieSBmaXJzdCBzdHJvbmcgY2hhcmFjdGVyIG9mIGlucHV0IHN0cmluZylcbiAgICAgKiAtIGlzT3V0cHV0VmlzdWFsIHtib29sZWFufSAoZGVmYXVsdHMgdG8gZmFsc2UpOiBhbGxvd2VkIHZhbHVlczogdHJ1ZShWaXN1YWwgbW9kZSksIGZhbHNlKExvZ2ljYWwgbW9kZSlcbiAgICAgKiAtIGlzT3V0cHV0UnRsIHtib29sZWFufTogYWxsb3dlZCB2YWx1ZXMgdHJ1ZShSaWdodC10by1sZWZ0IGRpcmVjdGlvbiksIGZhbHNlIChMZWZ0LXRvLXJpZ2h0IGRpcmVjdGlpb24pLCB1bmRlZmluZWQoQ29udGVjdHVhbCBkaXJlY3Rpb24sIGkuZS5kaXJlY3Rpb24gZGVmaW5lZCBieSBmaXJzdCBzdHJvbmcgY2hhcmFjdGVyb2YgaW5wdXQgc3RyaW5nKVxuICAgICAqIC0gaXNTeW1tZXRyaWNTd2FwcGluZyB7Ym9vbGVhbn0gKGRlZmF1bHRzIHRvIGZhbHNlKTogYWxsb3dlZCB2YWx1ZXMgdHJ1ZShuZWVkcyBzeW1tZXRyaWMgc3dhcHBpbmcpLCBmYWxzZSAobm8gbmVlZCBpbiBzeW1tZXRyaWMgc3dhcHBpbmcpLFxuICAgICAqL1xuICAgIHRoaXMuX19iaWRpRW5naW5lX18uc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIF9pc0luVmlzdWFsID0gb3B0aW9ucy5pc0lucHV0VmlzdWFsO1xuICAgICAgICBfaXNPdXRWaXN1YWwgPSBvcHRpb25zLmlzT3V0cHV0VmlzdWFsO1xuICAgICAgICBfaXNJblJ0bCA9IG9wdGlvbnMuaXNJbnB1dFJ0bDtcbiAgICAgICAgX2lzT3V0UnRsID0gb3B0aW9ucy5pc091dHB1dFJ0bDtcbiAgICAgICAgX2lzU3ltbWV0cmljU3dhcHBpbmcgPSBvcHRpb25zLmlzU3ltbWV0cmljU3dhcHBpbmc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX19iaWRpRW5naW5lX18uc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy5fX2JpZGlFbmdpbmVfXztcbiAgfTtcblxuICB2YXIgX2JpZGlVbmljb2RlVHlwZXMgPSBiaWRpVW5pY29kZVR5cGVzO1xuXG4gIHZhciBiaWRpRW5naW5lID0gbmV3IGpzUERGLl9fYmlkaUVuZ2luZV9fKHsgaXNJbnB1dFZpc3VhbDogdHJ1ZSB9KTtcblxuICB2YXIgYmlkaUVuZ2luZUZ1bmN0aW9uID0gZnVuY3Rpb24oYXJncykge1xuICAgIHZhciB0ZXh0ID0gYXJncy50ZXh0O1xuICAgIHZhciB4ID0gYXJncy54O1xuICAgIHZhciB5ID0gYXJncy55O1xuICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zIHx8IHt9O1xuICAgIHZhciBtdXRleCA9IGFyZ3MubXV0ZXggfHwge307XG4gICAgdmFyIGxhbmcgPSBvcHRpb25zLmxhbmc7XG4gICAgdmFyIHRtcFRleHQgPSBbXTtcblxuICAgIG9wdGlvbnMuaXNJbnB1dFZpc3VhbCA9XG4gICAgICB0eXBlb2Ygb3B0aW9ucy5pc0lucHV0VmlzdWFsID09PSBcImJvb2xlYW5cIiA/IG9wdGlvbnMuaXNJbnB1dFZpc3VhbCA6IHRydWU7XG4gICAgYmlkaUVuZ2luZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0ZXh0KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB0bXBUZXh0ID0gW107XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRleHRbaV0pID09PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICAgICAgICB0bXBUZXh0LnB1c2goW1xuICAgICAgICAgICAgYmlkaUVuZ2luZS5kb0JpZGlSZW9yZGVyKHRleHRbaV1bMF0pLFxuICAgICAgICAgICAgdGV4dFtpXVsxXSxcbiAgICAgICAgICAgIHRleHRbaV1bMl1cbiAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0bXBUZXh0LnB1c2goW2JpZGlFbmdpbmUuZG9CaWRpUmVvcmRlcih0ZXh0W2ldKV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBhcmdzLnRleHQgPSB0bXBUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzLnRleHQgPSBiaWRpRW5naW5lLmRvQmlkaVJlb3JkZXIodGV4dCk7XG4gICAgfVxuICAgIGJpZGlFbmdpbmUuc2V0T3B0aW9ucyh7IGlzSW5wdXRWaXN1YWw6IHRydWUgfSk7XG4gIH07XG5cbiAganNQREYuQVBJLmV2ZW50cy5wdXNoKFtcInBvc3RQcm9jZXNzVGV4dFwiLCBiaWRpRW5naW5lRnVuY3Rpb25dKTtcbn0pKGpzUERGKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIFRpdGxlIDogY3VzdG9tIGZvbnQgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqIFN0YXJ0IERhdGEgOiAyMDE3LiAwMS4gMjIuICAgICAgICAgICAgICAgICAgICpcbiAqIENvbW1lbnQgOiBURVhUIEFQSSAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqIGpzUERGIGV4dGVuc2lvbiBBUEkgRGVzaWduICpcbiAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IGpzUERGIH0gZnJvbSBcIi4uL2pzcGRmLmpzXCI7XG5cbmpzUERGLkFQSS5UVEZGb250ID0gKGZ1bmN0aW9uKCkge1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiBmdW5jdGlvbiA6IG9wZW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogY29tbWVudCA6IERlY29kZSB0aGUgZW5jb2RlZCB0dGYgY29udGVudCBhbmQgY3JlYXRlIGEgVFRGRm9udCBvYmplY3QuICovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFRURkZvbnQub3BlbiA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICByZXR1cm4gbmV3IFRURkZvbnQoZmlsZSk7XG4gIH07XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qIGZ1bmN0aW9uIDogVFRGRm9udCBnZXJuZXJhdG9yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIGNvbW1lbnQgOiBEZWNvZGUgVFRGIGNvbnRlbnRzIGFyZSBwYXJzZWQsIERhdGEsICAgICAgICAgICAgICovXG4gIC8qIFN1YnNldCBvYmplY3QgaXMgY3JlYXRlZCwgYW5kIHJlZ2lzdGVyVFRGIGZ1bmN0aW9uIGlzIGNhbGxlZC4qL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBmdW5jdGlvbiBUVEZGb250KHJhd0RhdGEpIHtcbiAgICB2YXIgZGF0YTtcbiAgICB0aGlzLnJhd0RhdGEgPSByYXdEYXRhO1xuICAgIGRhdGEgPSB0aGlzLmNvbnRlbnRzID0gbmV3IERhdGEocmF3RGF0YSk7XG4gICAgdGhpcy5jb250ZW50cy5wb3MgPSA0O1xuICAgIGlmIChkYXRhLnJlYWRTdHJpbmcoNCkgPT09IFwidHRjZlwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUVENGIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhLnBvcyA9IDA7XG4gICAgICB0aGlzLnBhcnNlKCk7XG4gICAgICB0aGlzLnN1YnNldCA9IG5ldyBTdWJzZXQodGhpcyk7XG4gICAgICB0aGlzLnJlZ2lzdGVyVFRGKCk7XG4gICAgfVxuICB9XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyogZnVuY3Rpb24gOiBwYXJzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDogVFRGIFBhcnNlcyB0aGUgZmlsZSBjb250ZW50cyBieSBlYWNoIHRhYmxlLiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgVFRGRm9udC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRpcmVjdG9yeSA9IG5ldyBEaXJlY3RvcnkodGhpcy5jb250ZW50cyk7XG4gICAgdGhpcy5oZWFkID0gbmV3IEhlYWRUYWJsZSh0aGlzKTtcbiAgICB0aGlzLm5hbWUgPSBuZXcgTmFtZVRhYmxlKHRoaXMpO1xuICAgIHRoaXMuY21hcCA9IG5ldyBDbWFwVGFibGUodGhpcyk7XG4gICAgdGhpcy50b1VuaWNvZGUgPSB7fTtcbiAgICB0aGlzLmhoZWEgPSBuZXcgSGhlYVRhYmxlKHRoaXMpO1xuICAgIHRoaXMubWF4cCA9IG5ldyBNYXhwVGFibGUodGhpcyk7XG4gICAgdGhpcy5obXR4ID0gbmV3IEhtdHhUYWJsZSh0aGlzKTtcbiAgICB0aGlzLnBvc3QgPSBuZXcgUG9zdFRhYmxlKHRoaXMpO1xuICAgIHRoaXMub3MyID0gbmV3IE9TMlRhYmxlKHRoaXMpO1xuICAgIHRoaXMubG9jYSA9IG5ldyBMb2NhVGFibGUodGhpcyk7XG4gICAgdGhpcy5nbHlmID0gbmV3IEdseWZUYWJsZSh0aGlzKTtcbiAgICB0aGlzLmFzY2VuZGVyID1cbiAgICAgICh0aGlzLm9zMi5leGlzdHMgJiYgdGhpcy5vczIuYXNjZW5kZXIpIHx8IHRoaXMuaGhlYS5hc2NlbmRlcjtcbiAgICB0aGlzLmRlY2VuZGVyID1cbiAgICAgICh0aGlzLm9zMi5leGlzdHMgJiYgdGhpcy5vczIuZGVjZW5kZXIpIHx8IHRoaXMuaGhlYS5kZWNlbmRlcjtcbiAgICB0aGlzLmxpbmVHYXAgPSAodGhpcy5vczIuZXhpc3RzICYmIHRoaXMub3MyLmxpbmVHYXApIHx8IHRoaXMuaGhlYS5saW5lR2FwO1xuICAgIHJldHVybiAodGhpcy5iYm94ID0gW1xuICAgICAgdGhpcy5oZWFkLnhNaW4sXG4gICAgICB0aGlzLmhlYWQueU1pbixcbiAgICAgIHRoaXMuaGVhZC54TWF4LFxuICAgICAgdGhpcy5oZWFkLnlNYXhcbiAgICBdKTtcbiAgfTtcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyogZnVuY3Rpb24gOiByZWdpc3RlclRURiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogY29tbWVudCA6IEdldCB0aGUgdmFsdWUgdG8gYXNzaWduIHBkZiBmb250IGRlc2NyaXB0b3JzLiAgICAgKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgVFRGRm9udC5wcm90b3R5cGUucmVnaXN0ZXJUVEYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZSwgaGksIGxvdywgcmF3LCBfcmVmO1xuICAgIHRoaXMuc2NhbGVGYWN0b3IgPSAxMDAwLjAgLyB0aGlzLmhlYWQudW5pdHNQZXJFbTtcbiAgICB0aGlzLmJib3ggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgICBfcmVmID0gdGhpcy5iYm94O1xuICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICBlID0gX3JlZltfaV07XG4gICAgICAgIF9yZXN1bHRzLnB1c2goTWF0aC5yb3VuZChlICogdGhpcy5zY2FsZUZhY3RvcikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH0uY2FsbCh0aGlzKTtcbiAgICB0aGlzLnN0ZW1WID0gMDtcbiAgICBpZiAodGhpcy5wb3N0LmV4aXN0cykge1xuICAgICAgcmF3ID0gdGhpcy5wb3N0Lml0YWxpY19hbmdsZTtcbiAgICAgIGhpID0gcmF3ID4+IDE2O1xuICAgICAgbG93ID0gcmF3ICYgMHhmZjtcbiAgICAgIGlmICgoaGkgJiAweDgwMDApICE9PSAwKSB7XG4gICAgICAgIGhpID0gLSgoaGkgXiAweGZmZmYpICsgMSk7XG4gICAgICB9XG4gICAgICB0aGlzLml0YWxpY0FuZ2xlID0gKyhcIlwiICsgaGkgKyBcIi5cIiArIGxvdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRhbGljQW5nbGUgPSAwO1xuICAgIH1cbiAgICB0aGlzLmFzY2VuZGVyID0gTWF0aC5yb3VuZCh0aGlzLmFzY2VuZGVyICogdGhpcy5zY2FsZUZhY3Rvcik7XG4gICAgdGhpcy5kZWNlbmRlciA9IE1hdGgucm91bmQodGhpcy5kZWNlbmRlciAqIHRoaXMuc2NhbGVGYWN0b3IpO1xuICAgIHRoaXMubGluZUdhcCA9IE1hdGgucm91bmQodGhpcy5saW5lR2FwICogdGhpcy5zY2FsZUZhY3Rvcik7XG4gICAgdGhpcy5jYXBIZWlnaHQgPSAodGhpcy5vczIuZXhpc3RzICYmIHRoaXMub3MyLmNhcEhlaWdodCkgfHwgdGhpcy5hc2NlbmRlcjtcbiAgICB0aGlzLnhIZWlnaHQgPSAodGhpcy5vczIuZXhpc3RzICYmIHRoaXMub3MyLnhIZWlnaHQpIHx8IDA7XG4gICAgdGhpcy5mYW1pbHlDbGFzcyA9ICgodGhpcy5vczIuZXhpc3RzICYmIHRoaXMub3MyLmZhbWlseUNsYXNzKSB8fCAwKSA+PiA4O1xuICAgIHRoaXMuaXNTZXJpZiA9XG4gICAgICAoX3JlZiA9IHRoaXMuZmFtaWx5Q2xhc3MpID09PSAxIHx8XG4gICAgICBfcmVmID09PSAyIHx8XG4gICAgICBfcmVmID09PSAzIHx8XG4gICAgICBfcmVmID09PSA0IHx8XG4gICAgICBfcmVmID09PSA1IHx8XG4gICAgICBfcmVmID09PSA3O1xuICAgIHRoaXMuaXNTY3JpcHQgPSB0aGlzLmZhbWlseUNsYXNzID09PSAxMDtcbiAgICB0aGlzLmZsYWdzID0gMDtcbiAgICBpZiAodGhpcy5wb3N0LmlzRml4ZWRQaXRjaCkge1xuICAgICAgdGhpcy5mbGFncyB8PSAxIDw8IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzU2VyaWYpIHtcbiAgICAgIHRoaXMuZmxhZ3MgfD0gMSA8PCAxO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc1NjcmlwdCkge1xuICAgICAgdGhpcy5mbGFncyB8PSAxIDw8IDM7XG4gICAgfVxuICAgIGlmICh0aGlzLml0YWxpY0FuZ2xlICE9PSAwKSB7XG4gICAgICB0aGlzLmZsYWdzIHw9IDEgPDwgNjtcbiAgICB9XG4gICAgdGhpcy5mbGFncyB8PSAxIDw8IDU7XG4gICAgaWYgKCF0aGlzLmNtYXAudW5pY29kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdW5pY29kZSBjbWFwIGZvciBmb250XCIpO1xuICAgIH1cbiAgfTtcbiAgVFRGRm9udC5wcm90b3R5cGUuY2hhcmFjdGVyVG9HbHlwaCA9IGZ1bmN0aW9uKGNoYXJhY3Rlcikge1xuICAgIHZhciBfcmVmO1xuICAgIHJldHVybiAoXG4gICAgICAoKF9yZWYgPSB0aGlzLmNtYXAudW5pY29kZSkgIT0gbnVsbCA/IF9yZWYuY29kZU1hcFtjaGFyYWN0ZXJdIDogdm9pZCAwKSB8fFxuICAgICAgMFxuICAgICk7XG4gIH07XG4gIFRURkZvbnQucHJvdG90eXBlLndpZHRoT2ZHbHlwaCA9IGZ1bmN0aW9uKGdseXBoKSB7XG4gICAgdmFyIHNjYWxlO1xuICAgIHNjYWxlID0gMTAwMC4wIC8gdGhpcy5oZWFkLnVuaXRzUGVyRW07XG4gICAgcmV0dXJuIHRoaXMuaG10eC5mb3JHbHlwaChnbHlwaCkuYWR2YW5jZSAqIHNjYWxlO1xuICB9O1xuICBUVEZGb250LnByb3RvdHlwZS53aWR0aE9mU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nLCBzaXplLCBjaGFyU3BhY2UpIHtcbiAgICB2YXIgY2hhckNvZGUsIGksIHNjYWxlLCB3aWR0aCwgX3JlZjtcbiAgICBzdHJpbmcgPSBcIlwiICsgc3RyaW5nO1xuICAgIHdpZHRoID0gMDtcbiAgICBmb3IgKFxuICAgICAgaSA9IDAsIF9yZWYgPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgMCA8PSBfcmVmID8gaSA8IF9yZWYgOiBpID4gX3JlZjtcbiAgICAgIGkgPSAwIDw9IF9yZWYgPyArK2kgOiAtLWlcbiAgICApIHtcbiAgICAgIGNoYXJDb2RlID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICB3aWR0aCArPVxuICAgICAgICB0aGlzLndpZHRoT2ZHbHlwaCh0aGlzLmNoYXJhY3RlclRvR2x5cGgoY2hhckNvZGUpKSArXG4gICAgICAgICAgY2hhclNwYWNlICogKDEwMDAgLyBzaXplKSB8fCAwO1xuICAgIH1cbiAgICBzY2FsZSA9IHNpemUgLyAxMDAwO1xuICAgIHJldHVybiB3aWR0aCAqIHNjYWxlO1xuICB9O1xuICBUVEZGb250LnByb3RvdHlwZS5saW5lSGVpZ2h0ID0gZnVuY3Rpb24oc2l6ZSwgaW5jbHVkZUdhcCkge1xuICAgIHZhciBnYXA7XG4gICAgaWYgKGluY2x1ZGVHYXAgPT0gbnVsbCkge1xuICAgICAgaW5jbHVkZUdhcCA9IGZhbHNlO1xuICAgIH1cbiAgICBnYXAgPSBpbmNsdWRlR2FwID8gdGhpcy5saW5lR2FwIDogMDtcbiAgICByZXR1cm4gKCh0aGlzLmFzY2VuZGVyICsgZ2FwIC0gdGhpcy5kZWNlbmRlcikgLyAxMDAwKSAqIHNpemU7XG4gIH07XG4gIHJldHVybiBUVEZGb250O1xufSkoKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIGZ1bmN0aW9uIDogRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiBjb21tZW50IDogVGhlIHR0ZiBkYXRhIGRlY29kZWQgYW5kIHN0b3JlZCBpbiBhbiBhcnJheSBpcyByZWFkIGFuZCB3cml0dGVuIHRvIHRoZSBEYXRhIG9iamVjdC4qL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBEYXRhID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBEYXRhKGRhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhICE9IG51bGwgPyBkYXRhIDogW107XG4gICAgdGhpcy5wb3MgPSAwO1xuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgfVxuICBEYXRhLnByb3RvdHlwZS5yZWFkQnl0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5wb3MrK107XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlQnl0ZSA9IGZ1bmN0aW9uKGJ5dGUpIHtcbiAgICByZXR1cm4gKHRoaXMuZGF0YVt0aGlzLnBvcysrXSA9IGJ5dGUpO1xuICB9O1xuICBEYXRhLnByb3RvdHlwZS5yZWFkVUludDMyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGIxLCBiMiwgYjMsIGI0O1xuICAgIGIxID0gdGhpcy5yZWFkQnl0ZSgpICogMHgxMDAwMDAwO1xuICAgIGIyID0gdGhpcy5yZWFkQnl0ZSgpIDw8IDE2O1xuICAgIGIzID0gdGhpcy5yZWFkQnl0ZSgpIDw8IDg7XG4gICAgYjQgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgcmV0dXJuIGIxICsgYjIgKyBiMyArIGI0O1xuICB9O1xuICBEYXRhLnByb3RvdHlwZS53cml0ZVVJbnQzMiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHRoaXMud3JpdGVCeXRlKCh2YWwgPj4+IDI0KSAmIDB4ZmYpO1xuICAgIHRoaXMud3JpdGVCeXRlKCh2YWwgPj4gMTYpICYgMHhmZik7XG4gICAgdGhpcy53cml0ZUJ5dGUoKHZhbCA+PiA4KSAmIDB4ZmYpO1xuICAgIHJldHVybiB0aGlzLndyaXRlQnl0ZSh2YWwgJiAweGZmKTtcbiAgfTtcbiAgRGF0YS5wcm90b3R5cGUucmVhZEludDMyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGludDtcbiAgICBpbnQgPSB0aGlzLnJlYWRVSW50MzIoKTtcbiAgICBpZiAoaW50ID49IDB4ODAwMDAwMDApIHtcbiAgICAgIHJldHVybiBpbnQgLSAweDEwMDAwMDAwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludDtcbiAgICB9XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlSW50MzIgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsIDwgMCkge1xuICAgICAgdmFsICs9IDB4MTAwMDAwMDAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy53cml0ZVVJbnQzMih2YWwpO1xuICB9O1xuICBEYXRhLnByb3RvdHlwZS5yZWFkVUludDE2ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGIxLCBiMjtcbiAgICBiMSA9IHRoaXMucmVhZEJ5dGUoKSA8PCA4O1xuICAgIGIyID0gdGhpcy5yZWFkQnl0ZSgpO1xuICAgIHJldHVybiBiMSB8IGIyO1xuICB9O1xuICBEYXRhLnByb3RvdHlwZS53cml0ZVVJbnQxNiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHRoaXMud3JpdGVCeXRlKCh2YWwgPj4gOCkgJiAweGZmKTtcbiAgICByZXR1cm4gdGhpcy53cml0ZUJ5dGUodmFsICYgMHhmZik7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLnJlYWRJbnQxNiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnQ7XG4gICAgaW50ID0gdGhpcy5yZWFkVUludDE2KCk7XG4gICAgaWYgKGludCA+PSAweDgwMDApIHtcbiAgICAgIHJldHVybiBpbnQgLSAweDEwMDAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50O1xuICAgIH1cbiAgfTtcbiAgRGF0YS5wcm90b3R5cGUud3JpdGVJbnQxNiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICB2YWwgKz0gMHgxMDAwMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud3JpdGVVSW50MTYodmFsKTtcbiAgfTtcbiAgRGF0YS5wcm90b3R5cGUucmVhZFN0cmluZyA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICAgIHZhciBpLCByZXQ7XG4gICAgcmV0ID0gW107XG4gICAgZm9yIChcbiAgICAgIGkgPSAwO1xuICAgICAgMCA8PSBsZW5ndGggPyBpIDwgbGVuZ3RoIDogaSA+IGxlbmd0aDtcbiAgICAgIGkgPSAwIDw9IGxlbmd0aCA/ICsraSA6IC0taVxuICAgICkge1xuICAgICAgcmV0W2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnJlYWRCeXRlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0LmpvaW4oXCJcIik7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlU3RyaW5nID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGksIF9yZWYsIF9yZXN1bHRzO1xuICAgIF9yZXN1bHRzID0gW107XG4gICAgZm9yIChcbiAgICAgIGkgPSAwLCBfcmVmID0gdmFsLmxlbmd0aDtcbiAgICAgIDAgPD0gX3JlZiA/IGkgPCBfcmVmIDogaSA+IF9yZWY7XG4gICAgICBpID0gMCA8PSBfcmVmID8gKytpIDogLS1pXG4gICAgKSB7XG4gICAgICBfcmVzdWx0cy5wdXNoKHRoaXMud3JpdGVCeXRlKHZhbC5jaGFyQ29kZUF0KGkpKSk7XG4gICAgfVxuICAgIHJldHVybiBfcmVzdWx0cztcbiAgfTtcbiAgLypEYXRhLnByb3RvdHlwZS5zdHJpbmdBdCA9IGZ1bmN0aW9uIChwb3MsIGxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkU3RyaW5nKGxlbmd0aCk7XG4gICAgICAgIH07Ki9cbiAgRGF0YS5wcm90b3R5cGUucmVhZFNob3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZEludDE2KCk7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlU2hvcnQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gdGhpcy53cml0ZUludDE2KHZhbCk7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLnJlYWRMb25nTG9uZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBiMSwgYjIsIGIzLCBiNCwgYjUsIGI2LCBiNywgYjg7XG4gICAgYjEgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjIgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjMgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjQgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjUgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjYgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjcgPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgYjggPSB0aGlzLnJlYWRCeXRlKCk7XG4gICAgaWYgKGIxICYgMHg4MCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKChiMSBeIDB4ZmYpICogMHgxMDAwMDAwMDAwMDAwMDAgK1xuICAgICAgICAgIChiMiBeIDB4ZmYpICogMHgxMDAwMDAwMDAwMDAwICtcbiAgICAgICAgICAoYjMgXiAweGZmKSAqIDB4MTAwMDAwMDAwMDAgK1xuICAgICAgICAgIChiNCBeIDB4ZmYpICogMHgxMDAwMDAwMDAgK1xuICAgICAgICAgIChiNSBeIDB4ZmYpICogMHgxMDAwMDAwICtcbiAgICAgICAgICAoYjYgXiAweGZmKSAqIDB4MTAwMDAgK1xuICAgICAgICAgIChiNyBeIDB4ZmYpICogMHgxMDAgK1xuICAgICAgICAgIChiOCBeIDB4ZmYpICtcbiAgICAgICAgICAxKSAqXG4gICAgICAgIC0xXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgYjEgKiAweDEwMDAwMDAwMDAwMDAwMCArXG4gICAgICBiMiAqIDB4MTAwMDAwMDAwMDAwMCArXG4gICAgICBiMyAqIDB4MTAwMDAwMDAwMDAgK1xuICAgICAgYjQgKiAweDEwMDAwMDAwMCArXG4gICAgICBiNSAqIDB4MTAwMDAwMCArXG4gICAgICBiNiAqIDB4MTAwMDAgK1xuICAgICAgYjcgKiAweDEwMCArXG4gICAgICBiOFxuICAgICk7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlTG9uZ0xvbmcgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgaGlnaCwgbG93O1xuICAgIGhpZ2ggPSBNYXRoLmZsb29yKHZhbCAvIDB4MTAwMDAwMDAwKTtcbiAgICBsb3cgPSB2YWwgJiAweGZmZmZmZmZmO1xuICAgIHRoaXMud3JpdGVCeXRlKChoaWdoID4+IDI0KSAmIDB4ZmYpO1xuICAgIHRoaXMud3JpdGVCeXRlKChoaWdoID4+IDE2KSAmIDB4ZmYpO1xuICAgIHRoaXMud3JpdGVCeXRlKChoaWdoID4+IDgpICYgMHhmZik7XG4gICAgdGhpcy53cml0ZUJ5dGUoaGlnaCAmIDB4ZmYpO1xuICAgIHRoaXMud3JpdGVCeXRlKChsb3cgPj4gMjQpICYgMHhmZik7XG4gICAgdGhpcy53cml0ZUJ5dGUoKGxvdyA+PiAxNikgJiAweGZmKTtcbiAgICB0aGlzLndyaXRlQnl0ZSgobG93ID4+IDgpICYgMHhmZik7XG4gICAgcmV0dXJuIHRoaXMud3JpdGVCeXRlKGxvdyAmIDB4ZmYpO1xuICB9O1xuICBEYXRhLnByb3RvdHlwZS5yZWFkSW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZEludDMyKCk7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlSW50ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIHRoaXMud3JpdGVJbnQzMih2YWwpO1xuICB9O1xuICAvKkRhdGEucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIH07Ki9cbiAgRGF0YS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgdmFyIGJ1ZiwgaTtcbiAgICBidWYgPSBbXTtcbiAgICBmb3IgKFxuICAgICAgaSA9IDA7XG4gICAgICAwIDw9IGJ5dGVzID8gaSA8IGJ5dGVzIDogaSA+IGJ5dGVzO1xuICAgICAgaSA9IDAgPD0gYnl0ZXMgPyArK2kgOiAtLWlcbiAgICApIHtcbiAgICAgIGJ1Zi5wdXNoKHRoaXMucmVhZEJ5dGUoKSk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH07XG4gIERhdGEucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICB2YXIgYnl0ZSwgaSwgX2xlbiwgX3Jlc3VsdHM7XG4gICAgX3Jlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBfbGVuID0gYnl0ZXMubGVuZ3RoOyBpIDwgX2xlbjsgaSsrKSB7XG4gICAgICBieXRlID0gYnl0ZXNbaV07XG4gICAgICBfcmVzdWx0cy5wdXNoKHRoaXMud3JpdGVCeXRlKGJ5dGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZXN1bHRzO1xuICB9O1xuICByZXR1cm4gRGF0YTtcbn0pKCk7XG5cbnZhciBEaXJlY3RvcnkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBjaGVja3N1bTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qIGZ1bmN0aW9uIDogRGlyZWN0b3J5IGdlbmVyYXRvciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogY29tbWVudCA6IEluaXRpYWxpemUgdGhlIG9mZnNldCwgdGFnLCBsZW5ndGgsIGFuZCBjaGVja3N1bSBmb3IgZWFjaCB0YWJsZSBmb3IgdGhlIGZvbnQgdG8gYmUgdXNlZC4qL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGZ1bmN0aW9uIERpcmVjdG9yeShkYXRhKSB7XG4gICAgdmFyIGVudHJ5LCBpLCBfcmVmO1xuICAgIHRoaXMuc2NhbGFyVHlwZSA9IGRhdGEucmVhZEludCgpO1xuICAgIHRoaXMudGFibGVDb3VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5zZWFyY2hSYW5nZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5lbnRyeVNlbGVjdG9yID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnJhbmdlU2hpZnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMudGFibGVzID0ge307XG4gICAgZm9yIChcbiAgICAgIGkgPSAwLCBfcmVmID0gdGhpcy50YWJsZUNvdW50O1xuICAgICAgMCA8PSBfcmVmID8gaSA8IF9yZWYgOiBpID4gX3JlZjtcbiAgICAgIGkgPSAwIDw9IF9yZWYgPyArK2kgOiAtLWlcbiAgICApIHtcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICB0YWc6IGRhdGEucmVhZFN0cmluZyg0KSxcbiAgICAgICAgY2hlY2tzdW06IGRhdGEucmVhZEludCgpLFxuICAgICAgICBvZmZzZXQ6IGRhdGEucmVhZEludCgpLFxuICAgICAgICBsZW5ndGg6IGRhdGEucmVhZEludCgpXG4gICAgICB9O1xuICAgICAgdGhpcy50YWJsZXNbZW50cnkudGFnXSA9IGVudHJ5O1xuICAgIH1cbiAgfVxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qIGZ1bmN0aW9uIDogZW5jb2RlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogY29tbWVudCA6IEl0IGVuY29kZXMgYW5kIHN0b3JlcyB0aGUgZm9udCB0YWJsZSBvYmplY3QgYW5kIGluZm9ybWF0aW9uIHVzZWQgZm9yIHRoZSBkaXJlY3Rvcnkgb2JqZWN0LiAqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIERpcmVjdG9yeS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24odGFibGVzKSB7XG4gICAgdmFyIGFkanVzdG1lbnQsXG4gICAgICBkaXJlY3RvcnksXG4gICAgICBkaXJlY3RvcnlMZW5ndGgsXG4gICAgICBlbnRyeVNlbGVjdG9yLFxuICAgICAgaGVhZE9mZnNldCxcbiAgICAgIGxvZzIsXG4gICAgICBvZmZzZXQsXG4gICAgICByYW5nZVNoaWZ0LFxuICAgICAgc2VhcmNoUmFuZ2UsXG4gICAgICBzdW0sXG4gICAgICB0YWJsZSxcbiAgICAgIHRhYmxlQ291bnQsXG4gICAgICB0YWJsZURhdGEsXG4gICAgICB0YWc7XG4gICAgdGFibGVDb3VudCA9IE9iamVjdC5rZXlzKHRhYmxlcykubGVuZ3RoO1xuICAgIGxvZzIgPSBNYXRoLmxvZygyKTtcbiAgICBzZWFyY2hSYW5nZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codGFibGVDb3VudCkgLyBsb2cyKSAqIDE2O1xuICAgIGVudHJ5U2VsZWN0b3IgPSBNYXRoLmZsb29yKHNlYXJjaFJhbmdlIC8gbG9nMik7XG4gICAgcmFuZ2VTaGlmdCA9IHRhYmxlQ291bnQgKiAxNiAtIHNlYXJjaFJhbmdlO1xuICAgIGRpcmVjdG9yeSA9IG5ldyBEYXRhKCk7XG4gICAgZGlyZWN0b3J5LndyaXRlSW50KHRoaXMuc2NhbGFyVHlwZSk7XG4gICAgZGlyZWN0b3J5LndyaXRlU2hvcnQodGFibGVDb3VudCk7XG4gICAgZGlyZWN0b3J5LndyaXRlU2hvcnQoc2VhcmNoUmFuZ2UpO1xuICAgIGRpcmVjdG9yeS53cml0ZVNob3J0KGVudHJ5U2VsZWN0b3IpO1xuICAgIGRpcmVjdG9yeS53cml0ZVNob3J0KHJhbmdlU2hpZnQpO1xuICAgIGRpcmVjdG9yeUxlbmd0aCA9IHRhYmxlQ291bnQgKiAxNjtcbiAgICBvZmZzZXQgPSBkaXJlY3RvcnkucG9zICsgZGlyZWN0b3J5TGVuZ3RoO1xuICAgIGhlYWRPZmZzZXQgPSBudWxsO1xuICAgIHRhYmxlRGF0YSA9IFtdO1xuICAgIGZvciAodGFnIGluIHRhYmxlcykge1xuICAgICAgdGFibGUgPSB0YWJsZXNbdGFnXTtcbiAgICAgIGRpcmVjdG9yeS53cml0ZVN0cmluZyh0YWcpO1xuICAgICAgZGlyZWN0b3J5LndyaXRlSW50KGNoZWNrc3VtKHRhYmxlKSk7XG4gICAgICBkaXJlY3Rvcnkud3JpdGVJbnQob2Zmc2V0KTtcbiAgICAgIGRpcmVjdG9yeS53cml0ZUludCh0YWJsZS5sZW5ndGgpO1xuICAgICAgdGFibGVEYXRhID0gdGFibGVEYXRhLmNvbmNhdCh0YWJsZSk7XG4gICAgICBpZiAodGFnID09PSBcImhlYWRcIikge1xuICAgICAgICBoZWFkT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgfVxuICAgICAgb2Zmc2V0ICs9IHRhYmxlLmxlbmd0aDtcbiAgICAgIHdoaWxlIChvZmZzZXQgJSA0KSB7XG4gICAgICAgIHRhYmxlRGF0YS5wdXNoKDApO1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgZGlyZWN0b3J5LndyaXRlKHRhYmxlRGF0YSk7XG4gICAgc3VtID0gY2hlY2tzdW0oZGlyZWN0b3J5LmRhdGEpO1xuICAgIGFkanVzdG1lbnQgPSAweGIxYjBhZmJhIC0gc3VtO1xuICAgIGRpcmVjdG9yeS5wb3MgPSBoZWFkT2Zmc2V0ICsgODtcbiAgICBkaXJlY3Rvcnkud3JpdGVVSW50MzIoYWRqdXN0bWVudCk7XG4gICAgcmV0dXJuIGRpcmVjdG9yeS5kYXRhO1xuICB9O1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiBmdW5jdGlvbiA6IGNoZWNrc3VtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDogRHVwbGljYXRlIHRoZSB0YWJsZSBmb3IgdGhlIHRhZy4gICAgICAgICAgICAgICAgICAqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBjaGVja3N1bSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICB2YXIgaSwgc3VtLCB0bXAsIF9yZWY7XG4gICAgZGF0YSA9IF9fc2xpY2UuY2FsbChkYXRhKTtcbiAgICB3aGlsZSAoZGF0YS5sZW5ndGggJSA0KSB7XG4gICAgICBkYXRhLnB1c2goMCk7XG4gICAgfVxuICAgIHRtcCA9IG5ldyBEYXRhKGRhdGEpO1xuICAgIHN1bSA9IDA7XG4gICAgZm9yIChpID0gMCwgX3JlZiA9IGRhdGEubGVuZ3RoOyBpIDwgX3JlZjsgaSA9IGkgKz0gNCkge1xuICAgICAgc3VtICs9IHRtcC5yZWFkVUludDMyKCk7XG4gICAgfVxuICAgIHJldHVybiBzdW0gJiAweGZmZmZmZmZmO1xuICB9O1xuICByZXR1cm4gRGlyZWN0b3J5O1xufSkoKTtcblxudmFyIFRhYmxlLFxuICBfX2hhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eSxcbiAgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkge1xuICAgIGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHtcbiAgICAgIGlmIChfX2hhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdG9yKCkge1xuICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICAgIH1cbiAgICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7XG4gICAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTtcbiAgICBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlO1xuICAgIHJldHVybiBjaGlsZDtcbiAgfTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIGZ1bmN0aW9uIDogVGFibGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiBjb21tZW50IDogU2F2ZSBpbmZvIGZvciBlYWNoIHRhYmxlLCBhbmQgcGFyc2UgdGhlIHRhYmxlLiAgICAqL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblRhYmxlID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBUYWJsZShmaWxlKSB7XG4gICAgdmFyIGluZm87XG4gICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICBpbmZvID0gdGhpcy5maWxlLmRpcmVjdG9yeS50YWJsZXNbdGhpcy50YWddO1xuICAgIHRoaXMuZXhpc3RzID0gISFpbmZvO1xuICAgIGlmIChpbmZvKSB7XG4gICAgICAodGhpcy5vZmZzZXQgPSBpbmZvLm9mZnNldCksICh0aGlzLmxlbmd0aCA9IGluZm8ubGVuZ3RoKTtcbiAgICAgIHRoaXMucGFyc2UodGhpcy5maWxlLmNvbnRlbnRzKTtcbiAgICB9XG4gIH1cbiAgVGFibGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oKSB7fTtcbiAgVGFibGUucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKCkge307XG4gIFRhYmxlLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuZXhpc3RzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5maWxlLmNvbnRlbnRzLnBvcyA9IHRoaXMub2Zmc2V0O1xuICAgIHJldHVybiB0aGlzLmZpbGUuY29udGVudHMucmVhZCh0aGlzLmxlbmd0aCk7XG4gIH07XG4gIHJldHVybiBUYWJsZTtcbn0pKCk7XG5cbnZhciBIZWFkVGFibGUgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhIZWFkVGFibGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSGVhZFRhYmxlKCkge1xuICAgIHJldHVybiBIZWFkVGFibGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgSGVhZFRhYmxlLnByb3RvdHlwZS50YWcgPSBcImhlYWRcIjtcbiAgSGVhZFRhYmxlLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBkYXRhLnBvcyA9IHRoaXMub2Zmc2V0O1xuICAgIHRoaXMudmVyc2lvbiA9IGRhdGEucmVhZEludCgpO1xuICAgIHRoaXMucmV2aXNpb24gPSBkYXRhLnJlYWRJbnQoKTtcbiAgICB0aGlzLmNoZWNrU3VtQWRqdXN0bWVudCA9IGRhdGEucmVhZEludCgpO1xuICAgIHRoaXMubWFnaWNOdW1iZXIgPSBkYXRhLnJlYWRJbnQoKTtcbiAgICB0aGlzLmZsYWdzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnVuaXRzUGVyRW0gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMuY3JlYXRlZCA9IGRhdGEucmVhZExvbmdMb25nKCk7XG4gICAgdGhpcy5tb2RpZmllZCA9IGRhdGEucmVhZExvbmdMb25nKCk7XG4gICAgdGhpcy54TWluID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnlNaW4gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueE1heCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy55TWF4ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLm1hY1N0eWxlID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLmxvd2VzdFJlY1BQRU0gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMuZm9udERpcmVjdGlvbkhpbnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMuaW5kZXhUb0xvY0Zvcm1hdCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgcmV0dXJuICh0aGlzLmdseXBoRGF0YUZvcm1hdCA9IGRhdGEucmVhZFNob3J0KCkpO1xuICB9O1xuICBIZWFkVGFibGUucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGluZGV4VG9Mb2NGb3JtYXQpIHtcbiAgICB2YXIgdGFibGU7XG4gICAgdGFibGUgPSBuZXcgRGF0YSgpO1xuICAgIHRhYmxlLndyaXRlSW50KHRoaXMudmVyc2lvbik7XG4gICAgdGFibGUud3JpdGVJbnQodGhpcy5yZXZpc2lvbik7XG4gICAgdGFibGUud3JpdGVJbnQodGhpcy5jaGVja1N1bUFkanVzdG1lbnQpO1xuICAgIHRhYmxlLndyaXRlSW50KHRoaXMubWFnaWNOdW1iZXIpO1xuICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy5mbGFncyk7XG4gICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLnVuaXRzUGVyRW0pO1xuICAgIHRhYmxlLndyaXRlTG9uZ0xvbmcodGhpcy5jcmVhdGVkKTtcbiAgICB0YWJsZS53cml0ZUxvbmdMb25nKHRoaXMubW9kaWZpZWQpO1xuICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy54TWluKTtcbiAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMueU1pbik7XG4gICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLnhNYXgpO1xuICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy55TWF4KTtcbiAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMubWFjU3R5bGUpO1xuICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy5sb3dlc3RSZWNQUEVNKTtcbiAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMuZm9udERpcmVjdGlvbkhpbnQpO1xuICAgIHRhYmxlLndyaXRlU2hvcnQoaW5kZXhUb0xvY0Zvcm1hdCk7XG4gICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLmdseXBoRGF0YUZvcm1hdCk7XG4gICAgcmV0dXJuIHRhYmxlLmRhdGE7XG4gIH07XG4gIHJldHVybiBIZWFkVGFibGU7XG59KShUYWJsZSk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBmdW5jdGlvbiA6IENtYXBFbnRyeSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogY29tbWVudCA6IENtYXAgSW5pdGlhbGl6ZXMgYW5kIGVuY29kZXMgb2JqZWN0IGluZm9ybWF0aW9uIChyZXF1aXJlZCBieSBwZGYgc3BlYykuKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgQ21hcEVudHJ5ID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBDbWFwRW50cnkoZGF0YSwgb2Zmc2V0KSB7XG4gICAgdmFyIGNvZGUsXG4gICAgICBjb3VudCxcbiAgICAgIGVuZENvZGUsXG4gICAgICBnbHlwaElkLFxuICAgICAgZ2x5cGhJZHMsXG4gICAgICBpLFxuICAgICAgaWREZWx0YSxcbiAgICAgIGlkUmFuZ2VPZmZzZXQsXG4gICAgICBpbmRleCxcbiAgICAgIHNhdmVPZmZzZXQsXG4gICAgICBzZWdDb3VudCxcbiAgICAgIHNlZ0NvdW50WDIsXG4gICAgICBzdGFydCxcbiAgICAgIHN0YXJ0Q29kZSxcbiAgICAgIHRhaWwsXG4gICAgICBfaixcbiAgICAgIF9rLFxuICAgICAgX2xlbjtcbiAgICB0aGlzLnBsYXRmb3JtSUQgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLmVuY29kaW5nSUQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0ICsgZGF0YS5yZWFkSW50KCk7XG4gICAgc2F2ZU9mZnNldCA9IGRhdGEucG9zO1xuICAgIGRhdGEucG9zID0gdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy5mb3JtYXQgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLmxlbmd0aCA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLmlzVW5pY29kZSA9XG4gICAgICAodGhpcy5wbGF0Zm9ybUlEID09PSAzICYmIHRoaXMuZW5jb2RpbmdJRCA9PT0gMSAmJiB0aGlzLmZvcm1hdCA9PT0gNCkgfHxcbiAgICAgICh0aGlzLnBsYXRmb3JtSUQgPT09IDAgJiYgdGhpcy5mb3JtYXQgPT09IDQpO1xuICAgIHRoaXMuY29kZU1hcCA9IHt9O1xuICAgIHN3aXRjaCAodGhpcy5mb3JtYXQpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgICAgdGhpcy5jb2RlTWFwW2ldID0gZGF0YS5yZWFkQnl0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0OlxuICAgICAgICBzZWdDb3VudFgyID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgICAgIHNlZ0NvdW50ID0gc2VnQ291bnRYMiAvIDI7XG4gICAgICAgIGRhdGEucG9zICs9IDY7XG4gICAgICAgIGVuZENvZGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9qLCBfcmVzdWx0cztcbiAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBpID0gX2ogPSAwO1xuICAgICAgICAgICAgMCA8PSBzZWdDb3VudCA/IF9qIDwgc2VnQ291bnQgOiBfaiA+IHNlZ0NvdW50O1xuICAgICAgICAgICAgaSA9IDAgPD0gc2VnQ291bnQgPyArK19qIDogLS1falxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChkYXRhLnJlYWRVSW50MTYoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgfSkoKTtcbiAgICAgICAgZGF0YS5wb3MgKz0gMjtcbiAgICAgICAgc3RhcnRDb2RlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBfaiwgX3Jlc3VsdHM7XG4gICAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgaSA9IF9qID0gMDtcbiAgICAgICAgICAgIDAgPD0gc2VnQ291bnQgPyBfaiA8IHNlZ0NvdW50IDogX2ogPiBzZWdDb3VudDtcbiAgICAgICAgICAgIGkgPSAwIDw9IHNlZ0NvdW50ID8gKytfaiA6IC0tX2pcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIF9yZXN1bHRzLnB1c2goZGF0YS5yZWFkVUludDE2KCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIGlkRGVsdGEgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9qLCBfcmVzdWx0cztcbiAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBpID0gX2ogPSAwO1xuICAgICAgICAgICAgMCA8PSBzZWdDb3VudCA/IF9qIDwgc2VnQ291bnQgOiBfaiA+IHNlZ0NvdW50O1xuICAgICAgICAgICAgaSA9IDAgPD0gc2VnQ291bnQgPyArK19qIDogLS1falxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChkYXRhLnJlYWRVSW50MTYoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgfSkoKTtcbiAgICAgICAgaWRSYW5nZU9mZnNldCA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgX2osIF9yZXN1bHRzO1xuICAgICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIGkgPSBfaiA9IDA7XG4gICAgICAgICAgICAwIDw9IHNlZ0NvdW50ID8gX2ogPCBzZWdDb3VudCA6IF9qID4gc2VnQ291bnQ7XG4gICAgICAgICAgICBpID0gMCA8PSBzZWdDb3VudCA/ICsrX2ogOiAtLV9qXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBfcmVzdWx0cy5wdXNoKGRhdGEucmVhZFVJbnQxNigpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgICB9KSgpO1xuICAgICAgICBjb3VudCA9ICh0aGlzLmxlbmd0aCAtIGRhdGEucG9zICsgdGhpcy5vZmZzZXQpIC8gMjtcbiAgICAgICAgZ2x5cGhJZHMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9qLCBfcmVzdWx0cztcbiAgICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBpID0gX2ogPSAwO1xuICAgICAgICAgICAgMCA8PSBjb3VudCA/IF9qIDwgY291bnQgOiBfaiA+IGNvdW50O1xuICAgICAgICAgICAgaSA9IDAgPD0gY291bnQgPyArK19qIDogLS1falxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChkYXRhLnJlYWRVSW50MTYoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgICAgfSkoKTtcbiAgICAgICAgZm9yIChpID0gX2ogPSAwLCBfbGVuID0gZW5kQ29kZS5sZW5ndGg7IF9qIDwgX2xlbjsgaSA9ICsrX2opIHtcbiAgICAgICAgICB0YWlsID0gZW5kQ29kZVtpXTtcbiAgICAgICAgICBzdGFydCA9IHN0YXJ0Q29kZVtpXTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgY29kZSA9IF9rID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA8PSB0YWlsID8gX2sgPD0gdGFpbCA6IF9rID49IHRhaWw7XG4gICAgICAgICAgICBjb2RlID0gc3RhcnQgPD0gdGFpbCA/ICsrX2sgOiAtLV9rXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoaWRSYW5nZU9mZnNldFtpXSA9PT0gMCkge1xuICAgICAgICAgICAgICBnbHlwaElkID0gY29kZSArIGlkRGVsdGFbaV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpbmRleCA9IGlkUmFuZ2VPZmZzZXRbaV0gLyAyICsgKGNvZGUgLSBzdGFydCkgLSAoc2VnQ291bnQgLSBpKTtcbiAgICAgICAgICAgICAgZ2x5cGhJZCA9IGdseXBoSWRzW2luZGV4XSB8fCAwO1xuICAgICAgICAgICAgICBpZiAoZ2x5cGhJZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGdseXBoSWQgKz0gaWREZWx0YVtpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb2RlTWFwW2NvZGVdID0gZ2x5cGhJZCAmIDB4ZmZmZjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGF0YS5wb3MgPSBzYXZlT2Zmc2V0O1xuICB9XG4gIENtYXBFbnRyeS5lbmNvZGUgPSBmdW5jdGlvbihjaGFybWFwLCBlbmNvZGluZykge1xuICAgIHZhciBjaGFyTWFwLFxuICAgICAgY29kZSxcbiAgICAgIGNvZGVNYXAsXG4gICAgICBjb2RlcyxcbiAgICAgIGRlbHRhLFxuICAgICAgZGVsdGFzLFxuICAgICAgZGlmZixcbiAgICAgIGVuZENvZGUsXG4gICAgICBlbmRDb2RlcyxcbiAgICAgIGVudHJ5U2VsZWN0b3IsXG4gICAgICBnbHlwaElEcyxcbiAgICAgIGksXG4gICAgICBpZCxcbiAgICAgIGluZGV4ZXMsXG4gICAgICBsYXN0LFxuICAgICAgbWFwLFxuICAgICAgbmV4dElELFxuICAgICAgb2Zmc2V0LFxuICAgICAgb2xkLFxuICAgICAgcmFuZ2VPZmZzZXRzLFxuICAgICAgcmFuZ2VTaGlmdCxcbiAgICAgIHNlYXJjaFJhbmdlLFxuICAgICAgc2VnQ291bnQsXG4gICAgICBzZWdDb3VudFgyLFxuICAgICAgc3RhcnRDb2RlLFxuICAgICAgc3RhcnRDb2RlcyxcbiAgICAgIHN0YXJ0R2x5cGgsXG4gICAgICBzdWJ0YWJsZSxcbiAgICAgIF9pLFxuICAgICAgX2osXG4gICAgICBfayxcbiAgICAgIF9sLFxuICAgICAgX2xlbixcbiAgICAgIF9sZW4xLFxuICAgICAgX2xlbjIsXG4gICAgICBfbGVuMyxcbiAgICAgIF9sZW40LFxuICAgICAgX2xlbjUsXG4gICAgICBfbGVuNixcbiAgICAgIF9sZW43LFxuICAgICAgX20sXG4gICAgICBfbixcbiAgICAgIF9uYW1lLFxuICAgICAgX28sXG4gICAgICBfcCxcbiAgICAgIF9xO1xuICAgIHN1YnRhYmxlID0gbmV3IERhdGEoKTtcbiAgICBjb2RlcyA9IE9iamVjdC5rZXlzKGNoYXJtYXApLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIH0pO1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgXCJtYWNyb21hblwiOlxuICAgICAgICBpZCA9IDA7XG4gICAgICAgIGluZGV4ZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgICAgICBfcmVzdWx0cy5wdXNoKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIG1hcCA9IHtcbiAgICAgICAgICAwOiAwXG4gICAgICAgIH07XG4gICAgICAgIGNvZGVNYXAgPSB7fTtcbiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBjb2Rlcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgIGNvZGUgPSBjb2Rlc1tfaV07XG4gICAgICAgICAgaWYgKG1hcFsoX25hbWUgPSBjaGFybWFwW2NvZGVdKV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwW19uYW1lXSA9ICsraWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvZGVNYXBbY29kZV0gPSB7XG4gICAgICAgICAgICBvbGQ6IGNoYXJtYXBbY29kZV0sXG4gICAgICAgICAgICBuZXc6IG1hcFtjaGFybWFwW2NvZGVdXVxuICAgICAgICAgIH07XG4gICAgICAgICAgaW5kZXhlc1tjb2RlXSA9IG1hcFtjaGFybWFwW2NvZGVdXTtcbiAgICAgICAgfVxuICAgICAgICBzdWJ0YWJsZS53cml0ZVVJbnQxNigxKTtcbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoMCk7XG4gICAgICAgIHN1YnRhYmxlLndyaXRlVUludDMyKDEyKTtcbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoMCk7XG4gICAgICAgIHN1YnRhYmxlLndyaXRlVUludDE2KDI2Mik7XG4gICAgICAgIHN1YnRhYmxlLndyaXRlVUludDE2KDApO1xuICAgICAgICBzdWJ0YWJsZS53cml0ZShpbmRleGVzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjaGFyTWFwOiBjb2RlTWFwLFxuICAgICAgICAgIHN1YnRhYmxlOiBzdWJ0YWJsZS5kYXRhLFxuICAgICAgICAgIG1heEdseXBoSUQ6IGlkICsgMVxuICAgICAgICB9O1xuICAgICAgY2FzZSBcInVuaWNvZGVcIjpcbiAgICAgICAgc3RhcnRDb2RlcyA9IFtdO1xuICAgICAgICBlbmRDb2RlcyA9IFtdO1xuICAgICAgICBuZXh0SUQgPSAwO1xuICAgICAgICBtYXAgPSB7fTtcbiAgICAgICAgY2hhck1hcCA9IHt9O1xuICAgICAgICBsYXN0ID0gZGlmZiA9IG51bGw7XG4gICAgICAgIGZvciAoX2ogPSAwLCBfbGVuMSA9IGNvZGVzLmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykge1xuICAgICAgICAgIGNvZGUgPSBjb2Rlc1tfal07XG4gICAgICAgICAgb2xkID0gY2hhcm1hcFtjb2RlXTtcbiAgICAgICAgICBpZiAobWFwW29sZF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwW29sZF0gPSArK25leHRJRDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hhck1hcFtjb2RlXSA9IHtcbiAgICAgICAgICAgIG9sZDogb2xkLFxuICAgICAgICAgICAgbmV3OiBtYXBbb2xkXVxuICAgICAgICAgIH07XG4gICAgICAgICAgZGVsdGEgPSBtYXBbb2xkXSAtIGNvZGU7XG4gICAgICAgICAgaWYgKGxhc3QgPT0gbnVsbCB8fCBkZWx0YSAhPT0gZGlmZikge1xuICAgICAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICAgICAgZW5kQ29kZXMucHVzaChsYXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0Q29kZXMucHVzaChjb2RlKTtcbiAgICAgICAgICAgIGRpZmYgPSBkZWx0YTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdCA9IGNvZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICBlbmRDb2Rlcy5wdXNoKGxhc3QpO1xuICAgICAgICB9XG4gICAgICAgIGVuZENvZGVzLnB1c2goMHhmZmZmKTtcbiAgICAgICAgc3RhcnRDb2Rlcy5wdXNoKDB4ZmZmZik7XG4gICAgICAgIHNlZ0NvdW50ID0gc3RhcnRDb2Rlcy5sZW5ndGg7XG4gICAgICAgIHNlZ0NvdW50WDIgPSBzZWdDb3VudCAqIDI7XG4gICAgICAgIHNlYXJjaFJhbmdlID0gMiAqIE1hdGgucG93KE1hdGgubG9nKHNlZ0NvdW50KSAvIE1hdGguTE4yLCAyKTtcbiAgICAgICAgZW50cnlTZWxlY3RvciA9IE1hdGgubG9nKHNlYXJjaFJhbmdlIC8gMikgLyBNYXRoLkxOMjtcbiAgICAgICAgcmFuZ2VTaGlmdCA9IDIgKiBzZWdDb3VudCAtIHNlYXJjaFJhbmdlO1xuICAgICAgICBkZWx0YXMgPSBbXTtcbiAgICAgICAgcmFuZ2VPZmZzZXRzID0gW107XG4gICAgICAgIGdseXBoSURzID0gW107XG4gICAgICAgIGZvciAoaSA9IF9rID0gMCwgX2xlbjIgPSBzdGFydENvZGVzLmxlbmd0aDsgX2sgPCBfbGVuMjsgaSA9ICsrX2spIHtcbiAgICAgICAgICBzdGFydENvZGUgPSBzdGFydENvZGVzW2ldO1xuICAgICAgICAgIGVuZENvZGUgPSBlbmRDb2Rlc1tpXTtcbiAgICAgICAgICBpZiAoc3RhcnRDb2RlID09PSAweGZmZmYpIHtcbiAgICAgICAgICAgIGRlbHRhcy5wdXNoKDApO1xuICAgICAgICAgICAgcmFuZ2VPZmZzZXRzLnB1c2goMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhcnRHbHlwaCA9IGNoYXJNYXBbc3RhcnRDb2RlXVtcIm5ld1wiXTtcbiAgICAgICAgICBpZiAoc3RhcnRDb2RlIC0gc3RhcnRHbHlwaCA+PSAweDgwMDApIHtcbiAgICAgICAgICAgIGRlbHRhcy5wdXNoKDApO1xuICAgICAgICAgICAgcmFuZ2VPZmZzZXRzLnB1c2goMiAqIChnbHlwaElEcy5sZW5ndGggKyBzZWdDb3VudCAtIGkpKTtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIGNvZGUgPSBfbCA9IHN0YXJ0Q29kZTtcbiAgICAgICAgICAgICAgc3RhcnRDb2RlIDw9IGVuZENvZGUgPyBfbCA8PSBlbmRDb2RlIDogX2wgPj0gZW5kQ29kZTtcbiAgICAgICAgICAgICAgY29kZSA9IHN0YXJ0Q29kZSA8PSBlbmRDb2RlID8gKytfbCA6IC0tX2xcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBnbHlwaElEcy5wdXNoKGNoYXJNYXBbY29kZV1bXCJuZXdcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWx0YXMucHVzaChzdGFydEdseXBoIC0gc3RhcnRDb2RlKTtcbiAgICAgICAgICAgIHJhbmdlT2Zmc2V0cy5wdXNoKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdWJ0YWJsZS53cml0ZVVJbnQxNigzKTtcbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoMSk7XG4gICAgICAgIHN1YnRhYmxlLndyaXRlVUludDMyKDEyKTtcbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoNCk7XG4gICAgICAgIHN1YnRhYmxlLndyaXRlVUludDE2KDE2ICsgc2VnQ291bnQgKiA4ICsgZ2x5cGhJRHMubGVuZ3RoICogMik7XG4gICAgICAgIHN1YnRhYmxlLndyaXRlVUludDE2KDApO1xuICAgICAgICBzdWJ0YWJsZS53cml0ZVVJbnQxNihzZWdDb3VudFgyKTtcbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoc2VhcmNoUmFuZ2UpO1xuICAgICAgICBzdWJ0YWJsZS53cml0ZVVJbnQxNihlbnRyeVNlbGVjdG9yKTtcbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYocmFuZ2VTaGlmdCk7XG4gICAgICAgIGZvciAoX20gPSAwLCBfbGVuMyA9IGVuZENvZGVzLmxlbmd0aDsgX20gPCBfbGVuMzsgX20rKykge1xuICAgICAgICAgIGNvZGUgPSBlbmRDb2Rlc1tfbV07XG4gICAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoMCk7XG4gICAgICAgIGZvciAoX24gPSAwLCBfbGVuNCA9IHN0YXJ0Q29kZXMubGVuZ3RoOyBfbiA8IF9sZW40OyBfbisrKSB7XG4gICAgICAgICAgY29kZSA9IHN0YXJ0Q29kZXNbX25dO1xuICAgICAgICAgIHN1YnRhYmxlLndyaXRlVUludDE2KGNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoX28gPSAwLCBfbGVuNSA9IGRlbHRhcy5sZW5ndGg7IF9vIDwgX2xlbjU7IF9vKyspIHtcbiAgICAgICAgICBkZWx0YSA9IGRlbHRhc1tfb107XG4gICAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoX3AgPSAwLCBfbGVuNiA9IHJhbmdlT2Zmc2V0cy5sZW5ndGg7IF9wIDwgX2xlbjY7IF9wKyspIHtcbiAgICAgICAgICBvZmZzZXQgPSByYW5nZU9mZnNldHNbX3BdO1xuICAgICAgICAgIHN1YnRhYmxlLndyaXRlVUludDE2KG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChfcSA9IDAsIF9sZW43ID0gZ2x5cGhJRHMubGVuZ3RoOyBfcSA8IF9sZW43OyBfcSsrKSB7XG4gICAgICAgICAgaWQgPSBnbHlwaElEc1tfcV07XG4gICAgICAgICAgc3VidGFibGUud3JpdGVVSW50MTYoaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgY2hhck1hcDogY2hhck1hcCxcbiAgICAgICAgICBzdWJ0YWJsZTogc3VidGFibGUuZGF0YSxcbiAgICAgICAgICBtYXhHbHlwaElEOiBuZXh0SUQgKyAxXG4gICAgICAgIH07XG4gICAgfVxuICB9O1xuICByZXR1cm4gQ21hcEVudHJ5O1xufSkoKTtcblxudmFyIENtYXBUYWJsZSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgX19leHRlbmRzKENtYXBUYWJsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBDbWFwVGFibGUoKSB7XG4gICAgcmV0dXJuIENtYXBUYWJsZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBDbWFwVGFibGUucHJvdG90eXBlLnRhZyA9IFwiY21hcFwiO1xuICBDbWFwVGFibGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBlbnRyeSwgaSwgdGFibGVDb3VudDtcbiAgICBkYXRhLnBvcyA9IHRoaXMub2Zmc2V0O1xuICAgIHRoaXMudmVyc2lvbiA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRhYmxlQ291bnQgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLnRhYmxlcyA9IFtdO1xuICAgIHRoaXMudW5pY29kZSA9IG51bGw7XG4gICAgZm9yIChcbiAgICAgIGkgPSAwO1xuICAgICAgMCA8PSB0YWJsZUNvdW50ID8gaSA8IHRhYmxlQ291bnQgOiBpID4gdGFibGVDb3VudDtcbiAgICAgIGkgPSAwIDw9IHRhYmxlQ291bnQgPyArK2kgOiAtLWlcbiAgICApIHtcbiAgICAgIGVudHJ5ID0gbmV3IENtYXBFbnRyeShkYXRhLCB0aGlzLm9mZnNldCk7XG4gICAgICB0aGlzLnRhYmxlcy5wdXNoKGVudHJ5KTtcbiAgICAgIGlmIChlbnRyeS5pc1VuaWNvZGUpIHtcbiAgICAgICAgaWYgKHRoaXMudW5pY29kZSA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy51bmljb2RlID0gZW50cnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiBmdW5jdGlvbiA6IGVuY29kZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogY29tbWVudCA6IEVuY29kZSB0aGUgY21hcCB0YWJsZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBpbnB1dCBjaGFyYWN0ZXIuICovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBDbWFwVGFibGUuZW5jb2RlID0gZnVuY3Rpb24oY2hhcm1hcCwgZW5jb2RpbmcpIHtcbiAgICB2YXIgcmVzdWx0LCB0YWJsZTtcbiAgICBpZiAoZW5jb2RpbmcgPT0gbnVsbCkge1xuICAgICAgZW5jb2RpbmcgPSBcIm1hY3JvbWFuXCI7XG4gICAgfVxuICAgIHJlc3VsdCA9IENtYXBFbnRyeS5lbmNvZGUoY2hhcm1hcCwgZW5jb2RpbmcpO1xuICAgIHRhYmxlID0gbmV3IERhdGEoKTtcbiAgICB0YWJsZS53cml0ZVVJbnQxNigwKTtcbiAgICB0YWJsZS53cml0ZVVJbnQxNigxKTtcbiAgICByZXN1bHQudGFibGUgPSB0YWJsZS5kYXRhLmNvbmNhdChyZXN1bHQuc3VidGFibGUpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHJldHVybiBDbWFwVGFibGU7XG59KShUYWJsZSk7XG5cbnZhciBIaGVhVGFibGUgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhIaGVhVGFibGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gSGhlYVRhYmxlKCkge1xuICAgIHJldHVybiBIaGVhVGFibGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cbiAgSGhlYVRhYmxlLnByb3RvdHlwZS50YWcgPSBcImhoZWFcIjtcbiAgSGhlYVRhYmxlLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBkYXRhLnBvcyA9IHRoaXMub2Zmc2V0O1xuICAgIHRoaXMudmVyc2lvbiA9IGRhdGEucmVhZEludCgpO1xuICAgIHRoaXMuYXNjZW5kZXIgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMuZGVjZW5kZXIgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMubGluZUdhcCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5hZHZhbmNlV2lkdGhNYXggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMubWluTGVmdFNpZGVCZWFyaW5nID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLm1pblJpZ2h0U2lkZUJlYXJpbmcgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueE1heEV4dGVudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5jYXJldFNsb3BlUmlzZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5jYXJldFNsb3BlUnVuID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLmNhcmV0T2Zmc2V0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICBkYXRhLnBvcyArPSA0ICogMjtcbiAgICB0aGlzLm1ldHJpY0RhdGFGb3JtYXQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHJldHVybiAodGhpcy5udW1iZXJPZk1ldHJpY3MgPSBkYXRhLnJlYWRVSW50MTYoKSk7XG4gIH07XG4gIC8qSGhlYVRhYmxlLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAoaWRzKSB7XG4gICAgICAgICAgICB2YXIgaSwgdGFibGUsIF9pLCBfcmVmO1xuICAgICAgICAgICAgdGFibGUgPSBuZXcgRGF0YTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlSW50KHRoaXMudmVyc2lvbik7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMuYXNjZW5kZXIpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLmRlY2VuZGVyKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy5saW5lR2FwKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy5hZHZhbmNlV2lkdGhNYXgpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLm1pbkxlZnRTaWRlQmVhcmluZyk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMubWluUmlnaHRTaWRlQmVhcmluZyk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMueE1heEV4dGVudCk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVNob3J0KHRoaXMuY2FyZXRTbG9wZVJpc2UpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLmNhcmV0U2xvcGVSdW4pO1xuICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydCh0aGlzLmNhcmV0T2Zmc2V0KTtcbiAgICAgICAgICAgIGZvciAoaSA9IF9pID0gMCwgX3JlZiA9IDQgKiAyOyAwIDw9IF9yZWYgPyBfaSA8IF9yZWYgOiBfaSA+IF9yZWY7IGkgPSAwIDw9IF9yZWYgPyArK19pIDogLS1faSkge1xuICAgICAgICAgICAgICAgIHRhYmxlLndyaXRlQnl0ZSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQodGhpcy5tZXRyaWNEYXRhRm9ybWF0KTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDE2KGlkcy5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHRhYmxlLmRhdGE7XG4gICAgICAgIH07Ki9cbiAgcmV0dXJuIEhoZWFUYWJsZTtcbn0pKFRhYmxlKTtcblxudmFyIE9TMlRhYmxlID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoT1MyVGFibGUsIF9zdXBlcik7XG5cbiAgZnVuY3Rpb24gT1MyVGFibGUoKSB7XG4gICAgcmV0dXJuIE9TMlRhYmxlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIE9TMlRhYmxlLnByb3RvdHlwZS50YWcgPSBcIk9TLzJcIjtcbiAgT1MyVGFibGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGRhdGEucG9zID0gdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy52ZXJzaW9uID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgdGhpcy5hdmVyYWdlQ2hhcldpZHRoID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLndlaWdodENsYXNzID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgdGhpcy53aWR0aENsYXNzID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgdGhpcy50eXBlID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnlTdWJzY3JpcHRYU2l6ZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy55U3Vic2NyaXB0WVNpemUgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueVN1YnNjcmlwdFhPZmZzZXQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueVN1YnNjcmlwdFlPZmZzZXQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueVN1cGVyc2NyaXB0WFNpemUgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueVN1cGVyc2NyaXB0WVNpemUgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMueVN1cGVyc2NyaXB0WE9mZnNldCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy55U3VwZXJzY3JpcHRZT2Zmc2V0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnlTdHJpa2VvdXRTaXplID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLnlTdHJpa2VvdXRQb3NpdGlvbiA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5mYW1pbHlDbGFzcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgdGhpcy5wYW5vc2UgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSwgX3Jlc3VsdHM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IDEwOyArK2kpIHtcbiAgICAgICAgX3Jlc3VsdHMucHVzaChkYXRhLnJlYWRCeXRlKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH0pKCk7XG4gICAgdGhpcy5jaGFyUmFuZ2UgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSwgX3Jlc3VsdHM7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICBfcmVzdWx0cy5wdXNoKGRhdGEucmVhZEludCgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICB9KSgpO1xuICAgIHRoaXMudmVuZG9ySUQgPSBkYXRhLnJlYWRTdHJpbmcoNCk7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMuZmlyc3RDaGFySW5kZXggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMubGFzdENoYXJJbmRleCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgaWYgKHRoaXMudmVyc2lvbiA+IDApIHtcbiAgICAgIHRoaXMuYXNjZW50ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgIHRoaXMuZGVzY2VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICB0aGlzLmxpbmVHYXAgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgdGhpcy53aW5Bc2NlbnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgdGhpcy53aW5EZXNjZW50ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgIHRoaXMuY29kZVBhZ2VSYW5nZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGksIF9yZXN1bHRzO1xuICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSA9ICsraSkge1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2goZGF0YS5yZWFkSW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH0pKCk7XG4gICAgICBpZiAodGhpcy52ZXJzaW9uID4gMSkge1xuICAgICAgICB0aGlzLnhIZWlnaHQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmNhcEhlaWdodCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMuZGVmYXVsdENoYXIgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmJyZWFrQ2hhciA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHJldHVybiAodGhpcy5tYXhDb250ZXh0ID0gZGF0YS5yZWFkU2hvcnQoKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICAvKk9TMlRhYmxlLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYXcoKTtcbiAgICAgICAgfTsqL1xuICByZXR1cm4gT1MyVGFibGU7XG59KShUYWJsZSk7XG5cbnZhciBQb3N0VGFibGUgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG4gIHZhciBQT1NUU0NSSVBUX0dMWVBIUztcbiAgX19leHRlbmRzKFBvc3RUYWJsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBQb3N0VGFibGUoKSB7XG4gICAgcmV0dXJuIFBvc3RUYWJsZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBQb3N0VGFibGUucHJvdG90eXBlLnRhZyA9IFwicG9zdFwiO1xuICBQb3N0VGFibGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBsZW5ndGgsIG51bWJlck9mR2x5cGhzLCBfcmVzdWx0cztcbiAgICBkYXRhLnBvcyA9IHRoaXMub2Zmc2V0O1xuICAgIHRoaXMuZm9ybWF0ID0gZGF0YS5yZWFkSW50KCk7XG4gICAgdGhpcy5pdGFsaWNBbmdsZSA9IGRhdGEucmVhZEludCgpO1xuICAgIHRoaXMudW5kZXJsaW5lUG9zaXRpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIHRoaXMudW5kZXJsaW5lVGhpY2tuZXNzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICB0aGlzLmlzRml4ZWRQaXRjaCA9IGRhdGEucmVhZEludCgpO1xuICAgIHRoaXMubWluTWVtVHlwZTQyID0gZGF0YS5yZWFkSW50KCk7XG4gICAgdGhpcy5tYXhNZW1UeXBlNDIgPSBkYXRhLnJlYWRJbnQoKTtcbiAgICB0aGlzLm1pbk1lbVR5cGUxID0gZGF0YS5yZWFkSW50KCk7XG4gICAgdGhpcy5tYXhNZW1UeXBlMSA9IGRhdGEucmVhZEludCgpO1xuICAgIHN3aXRjaCAodGhpcy5mb3JtYXQpIHtcbiAgICAgIGNhc2UgMHgwMDAxMDAwMDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDB4MDAwMjAwMDA6XG4gICAgICAgIG51bWJlck9mR2x5cGhzID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgICAgIHRoaXMuZ2x5cGhOYW1lSW5kZXggPSBbXTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgMCA8PSBudW1iZXJPZkdseXBocyA/IGkgPCBudW1iZXJPZkdseXBocyA6IGkgPiBudW1iZXJPZkdseXBocztcbiAgICAgICAgICBpID0gMCA8PSBudW1iZXJPZkdseXBocyA/ICsraSA6IC0taVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmdseXBoTmFtZUluZGV4LnB1c2goZGF0YS5yZWFkVUludDE2KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZXMgPSBbXTtcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgd2hpbGUgKGRhdGEucG9zIDwgdGhpcy5vZmZzZXQgKyB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgIGxlbmd0aCA9IGRhdGEucmVhZEJ5dGUoKTtcbiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHRoaXMubmFtZXMucHVzaChkYXRhLnJlYWRTdHJpbmcobGVuZ3RoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIGNhc2UgMHgwMDAyNTAwMDpcbiAgICAgICAgbnVtYmVyT2ZHbHlwaHMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9mZnNldHMgPSBkYXRhLnJlYWQobnVtYmVyT2ZHbHlwaHMpKTtcbiAgICAgIGNhc2UgMHgwMDAzMDAwMDpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDB4MDAwNDAwMDA6XG4gICAgICAgIHJldHVybiAodGhpcy5tYXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgX2osIF9yZWYsIF9yZXN1bHRzMTtcbiAgICAgICAgICBfcmVzdWx0czEgPSBbXTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgaSA9IF9qID0gMCwgX3JlZiA9IHRoaXMuZmlsZS5tYXhwLm51bUdseXBocztcbiAgICAgICAgICAgIDAgPD0gX3JlZiA/IF9qIDwgX3JlZiA6IF9qID4gX3JlZjtcbiAgICAgICAgICAgIGkgPSAwIDw9IF9yZWYgPyArK19qIDogLS1falxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3Jlc3VsdHMxLnB1c2goZGF0YS5yZWFkVUludDMyKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHMxO1xuICAgICAgICB9LmNhbGwodGhpcykpO1xuICAgIH1cbiAgfTtcbiAgLypQb3N0VGFibGUucHJvdG90eXBlLmdseXBoRm9yID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGNhc2UgMHgwMDAxMDAwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gUE9TVFNDUklQVF9HTFlQSFNbY29kZV0gfHwgJy5ub3RkZWYnO1xuICAgICAgICAgICAgY2FzZSAweDAwMDIwMDAwOlxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5nbHlwaE5hbWVJbmRleFtjb2RlXTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPD0gMjU3KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NUU0NSSVBUX0dMWVBIU1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lc1tpbmRleCAtIDI1OF0gfHwgJy5ub3RkZWYnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMHgwMDAyNTAwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gUE9TVFNDUklQVF9HTFlQSFNbY29kZSArIHRoaXMub2Zmc2V0c1tjb2RlXV0gfHwgJy5ub3RkZWYnO1xuICAgICAgICAgICAgY2FzZSAweDAwMDMwMDAwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLm5vdGRlZic7XG4gICAgICAgICAgICBjYXNlIDB4MDAwNDAwMDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwW2NvZGVdIHx8IDB4RkZGRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsqL1xuICAvKlBvc3RUYWJsZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgICAgIHZhciBpZCwgaW5kZXgsIGluZGV4ZXMsIHBvc2l0aW9uLCBwb3N0LCByYXcsIHN0cmluZywgc3RyaW5ncywgdGFibGUsIF9pLCBfaiwgX2ssIF9sZW4sIF9sZW4xLCBfbGVuMjtcbiAgICAgICAgICAgIGlmICghdGhpcy5leGlzdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhdyA9IHRoaXMucmF3KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5mb3JtYXQgPT09IDB4MDAwMzAwMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmF3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFibGUgPSBuZXcgRGF0YShyYXcuc2xpY2UoMCwgMzIpKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDMyKDB4MDAwMjAwMDApO1xuICAgICAgICAgICAgdGFibGUucG9zID0gMzI7XG4gICAgICAgICAgICBpbmRleGVzID0gW107XG4gICAgICAgICAgICBzdHJpbmdzID0gW107XG4gICAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IG1hcHBpbmcubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICBpZCA9IG1hcHBpbmdbX2ldO1xuICAgICAgICAgICAgICAgIHBvc3QgPSB0aGlzLmdseXBoRm9yKGlkKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IFBPU1RTQ1JJUFRfR0xZUEhTLmluZGV4T2YocG9zdCk7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2gocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKDI1NyArIHN0cmluZ3MubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKHBvc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDE2KE9iamVjdC5rZXlzKG1hcHBpbmcpLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSBpbmRleGVzLmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhlc1tfal07XG4gICAgICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChfayA9IDAsIF9sZW4yID0gc3RyaW5ncy5sZW5ndGg7IF9rIDwgX2xlbjI7IF9rKyspIHtcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmdzW19rXTtcbiAgICAgICAgICAgICAgICB0YWJsZS53cml0ZUJ5dGUoc3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGFibGUud3JpdGVTdHJpbmcoc3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YWJsZS5kYXRhO1xuICAgICAgICB9OyovXG4gIFBPU1RTQ1JJUFRfR0xZUEhTID0gXCIubm90ZGVmIC5udWxsIG5vbm1hcmtpbmdyZXR1cm4gc3BhY2UgZXhjbGFtIHF1b3RlZGJsIG51bWJlcnNpZ24gZG9sbGFyIHBlcmNlbnRcXG5hbXBlcnNhbmQgcXVvdGVzaW5nbGUgcGFyZW5sZWZ0IHBhcmVucmlnaHQgYXN0ZXJpc2sgcGx1cyBjb21tYSBoeXBoZW4gcGVyaW9kIHNsYXNoXFxuemVybyBvbmUgdHdvIHRocmVlIGZvdXIgZml2ZSBzaXggc2V2ZW4gZWlnaHQgbmluZSBjb2xvbiBzZW1pY29sb24gbGVzcyBlcXVhbCBncmVhdGVyXFxucXVlc3Rpb24gYXQgQSBCIEMgRCBFIEYgRyBIIEkgSiBLIEwgTSBOIE8gUCBRIFIgUyBUIFUgViBXIFggWSBaXFxuYnJhY2tldGxlZnQgYmFja3NsYXNoIGJyYWNrZXRyaWdodCBhc2NpaWNpcmN1bSB1bmRlcnNjb3JlIGdyYXZlXFxuYSBiIGMgZCBlIGYgZyBoIGkgaiBrIGwgbSBuIG8gcCBxIHIgcyB0IHUgdiB3IHggeSB6XFxuYnJhY2VsZWZ0IGJhciBicmFjZXJpZ2h0IGFzY2lpdGlsZGUgQWRpZXJlc2lzIEFyaW5nIENjZWRpbGxhIEVhY3V0ZSBOdGlsZGUgT2RpZXJlc2lzXFxuVWRpZXJlc2lzIGFhY3V0ZSBhZ3JhdmUgYWNpcmN1bWZsZXggYWRpZXJlc2lzIGF0aWxkZSBhcmluZyBjY2VkaWxsYSBlYWN1dGUgZWdyYXZlXFxuZWNpcmN1bWZsZXggZWRpZXJlc2lzIGlhY3V0ZSBpZ3JhdmUgaWNpcmN1bWZsZXggaWRpZXJlc2lzIG50aWxkZSBvYWN1dGUgb2dyYXZlXFxub2NpcmN1bWZsZXggb2RpZXJlc2lzIG90aWxkZSB1YWN1dGUgdWdyYXZlIHVjaXJjdW1mbGV4IHVkaWVyZXNpcyBkYWdnZXIgZGVncmVlIGNlbnRcXG5zdGVybGluZyBzZWN0aW9uIGJ1bGxldCBwYXJhZ3JhcGggZ2VybWFuZGJscyByZWdpc3RlcmVkIGNvcHlyaWdodCB0cmFkZW1hcmsgYWN1dGVcXG5kaWVyZXNpcyBub3RlcXVhbCBBRSBPc2xhc2ggaW5maW5pdHkgcGx1c21pbnVzIGxlc3NlcXVhbCBncmVhdGVyZXF1YWwgeWVuIG11XFxucGFydGlhbGRpZmYgc3VtbWF0aW9uIHByb2R1Y3QgcGkgaW50ZWdyYWwgb3JkZmVtaW5pbmUgb3JkbWFzY3VsaW5lIE9tZWdhIGFlIG9zbGFzaFxcbnF1ZXN0aW9uZG93biBleGNsYW1kb3duIGxvZ2ljYWxub3QgcmFkaWNhbCBmbG9yaW4gYXBwcm94ZXF1YWwgRGVsdGEgZ3VpbGxlbW90bGVmdFxcbmd1aWxsZW1vdHJpZ2h0IGVsbGlwc2lzIG5vbmJyZWFraW5nc3BhY2UgQWdyYXZlIEF0aWxkZSBPdGlsZGUgT0Ugb2UgZW5kYXNoIGVtZGFzaFxcbnF1b3RlZGJsbGVmdCBxdW90ZWRibHJpZ2h0IHF1b3RlbGVmdCBxdW90ZXJpZ2h0IGRpdmlkZSBsb3plbmdlIHlkaWVyZXNpcyBZZGllcmVzaXNcXG5mcmFjdGlvbiBjdXJyZW5jeSBndWlsc2luZ2xsZWZ0IGd1aWxzaW5nbHJpZ2h0IGZpIGZsIGRhZ2dlcmRibCBwZXJpb2RjZW50ZXJlZFxcbnF1b3Rlc2luZ2xiYXNlIHF1b3RlZGJsYmFzZSBwZXJ0aG91c2FuZCBBY2lyY3VtZmxleCBFY2lyY3VtZmxleCBBYWN1dGUgRWRpZXJlc2lzXFxuRWdyYXZlIElhY3V0ZSBJY2lyY3VtZmxleCBJZGllcmVzaXMgSWdyYXZlIE9hY3V0ZSBPY2lyY3VtZmxleCBhcHBsZSBPZ3JhdmUgVWFjdXRlXFxuVWNpcmN1bWZsZXggVWdyYXZlIGRvdGxlc3NpIGNpcmN1bWZsZXggdGlsZGUgbWFjcm9uIGJyZXZlIGRvdGFjY2VudCByaW5nIGNlZGlsbGFcXG5odW5nYXJ1bWxhdXQgb2dvbmVrIGNhcm9uIExzbGFzaCBsc2xhc2ggU2Nhcm9uIHNjYXJvbiBaY2Fyb24gemNhcm9uIGJyb2tlbmJhciBFdGhcXG5ldGggWWFjdXRlIHlhY3V0ZSBUaG9ybiB0aG9ybiBtaW51cyBtdWx0aXBseSBvbmVzdXBlcmlvciB0d29zdXBlcmlvciB0aHJlZXN1cGVyaW9yXFxub25laGFsZiBvbmVxdWFydGVyIHRocmVlcXVhcnRlcnMgZnJhbmMgR2JyZXZlIGdicmV2ZSBJZG90YWNjZW50IFNjZWRpbGxhIHNjZWRpbGxhXFxuQ2FjdXRlIGNhY3V0ZSBDY2Fyb24gY2Nhcm9uIGRjcm9hdFwiLnNwbGl0KFxuICAgIC9cXHMrL2dcbiAgKTtcbiAgcmV0dXJuIFBvc3RUYWJsZTtcbn0pKFRhYmxlKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIGZ1bmN0aW9uIDogTmFtZUVudHJ5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiBjb21tZW50IDogU3RvcmUgY29weXJpZ2h0IGluZm9ybWF0aW9uLCBwbGF0Zm9ybUlELCBlbmNvZGluZ0lELCBhbmQgbGFuZ3VhZ2VJRCBpbiB0aGUgTmFtZUVudHJ5IG9iamVjdC4qL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBOYW1lRW50cnkgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIE5hbWVFbnRyeShyYXcsIGVudHJ5KSB7XG4gICAgdGhpcy5yYXcgPSByYXc7XG4gICAgdGhpcy5sZW5ndGggPSByYXcubGVuZ3RoO1xuICAgIHRoaXMucGxhdGZvcm1JRCA9IGVudHJ5LnBsYXRmb3JtSUQ7XG4gICAgdGhpcy5lbmNvZGluZ0lEID0gZW50cnkuZW5jb2RpbmdJRDtcbiAgICB0aGlzLmxhbmd1YWdlSUQgPSBlbnRyeS5sYW5ndWFnZUlEO1xuICB9XG4gIHJldHVybiBOYW1lRW50cnk7XG59KSgpO1xuXG52YXIgTmFtZVRhYmxlID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICB2YXIgc3Vic2V0VGFnO1xuICBfX2V4dGVuZHMoTmFtZVRhYmxlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIE5hbWVUYWJsZSgpIHtcbiAgICByZXR1cm4gTmFtZVRhYmxlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIE5hbWVUYWJsZS5wcm90b3R5cGUudGFnID0gXCJuYW1lXCI7XG4gIE5hbWVUYWJsZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIGNvdW50LFxuICAgICAgZW50cmllcyxcbiAgICAgIGVudHJ5LFxuICAgICAgaSxcbiAgICAgIG5hbWUsXG4gICAgICBzdHJpbmdPZmZzZXQsXG4gICAgICBzdHJpbmdzLFxuICAgICAgdGV4dCxcbiAgICAgIF9qLFxuICAgICAgX2xlbixcbiAgICAgIF9uYW1lO1xuICAgIGRhdGEucG9zID0gdGhpcy5vZmZzZXQ7XG4gICAgZGF0YS5yZWFkU2hvcnQoKTsgLy9mb3JtYXRcbiAgICBjb3VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgc3RyaW5nT2Zmc2V0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICBlbnRyaWVzID0gW107XG4gICAgZm9yIChcbiAgICAgIGkgPSAwO1xuICAgICAgMCA8PSBjb3VudCA/IGkgPCBjb3VudCA6IGkgPiBjb3VudDtcbiAgICAgIGkgPSAwIDw9IGNvdW50ID8gKytpIDogLS1pXG4gICAgKSB7XG4gICAgICBlbnRyaWVzLnB1c2goe1xuICAgICAgICBwbGF0Zm9ybUlEOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICBlbmNvZGluZ0lEOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICBsYW5ndWFnZUlEOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICBuYW1lSUQ6IGRhdGEucmVhZFNob3J0KCksXG4gICAgICAgIGxlbmd0aDogZGF0YS5yZWFkU2hvcnQoKSxcbiAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCArIHN0cmluZ09mZnNldCArIGRhdGEucmVhZFNob3J0KClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzdHJpbmdzID0ge307XG4gICAgZm9yIChpID0gX2ogPSAwLCBfbGVuID0gZW50cmllcy5sZW5ndGg7IF9qIDwgX2xlbjsgaSA9ICsrX2opIHtcbiAgICAgIGVudHJ5ID0gZW50cmllc1tpXTtcbiAgICAgIGRhdGEucG9zID0gZW50cnkub2Zmc2V0O1xuICAgICAgdGV4dCA9IGRhdGEucmVhZFN0cmluZyhlbnRyeS5sZW5ndGgpO1xuICAgICAgbmFtZSA9IG5ldyBOYW1lRW50cnkodGV4dCwgZW50cnkpO1xuICAgICAgaWYgKHN0cmluZ3NbKF9uYW1lID0gZW50cnkubmFtZUlEKV0gPT0gbnVsbCkge1xuICAgICAgICBzdHJpbmdzW19uYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nc1tlbnRyeS5uYW1lSURdLnB1c2gobmFtZSk7XG4gICAgfVxuICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgdGhpcy5jb3B5cmlnaHQgPSBzdHJpbmdzWzBdO1xuICAgIHRoaXMuZm9udEZhbWlseSA9IHN0cmluZ3NbMV07XG4gICAgdGhpcy5mb250U3ViZmFtaWx5ID0gc3RyaW5nc1syXTtcbiAgICB0aGlzLnVuaXF1ZVN1YmZhbWlseSA9IHN0cmluZ3NbM107XG4gICAgdGhpcy5mb250TmFtZSA9IHN0cmluZ3NbNF07XG4gICAgdGhpcy52ZXJzaW9uID0gc3RyaW5nc1s1XTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5wb3N0c2NyaXB0TmFtZSA9IHN0cmluZ3NbNl1bMF0ucmF3LnJlcGxhY2UoXG4gICAgICAgIC9bXFx4MDAtXFx4MTlcXHg4MC1cXHhmZl0vZyxcbiAgICAgICAgXCJcIlxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLnBvc3RzY3JpcHROYW1lID0gc3RyaW5nc1s0XVswXS5yYXcucmVwbGFjZShcbiAgICAgICAgL1tcXHgwMC1cXHgxOVxceDgwLVxceGZmXS9nLFxuICAgICAgICBcIlwiXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnRyYWRlbWFyayA9IHN0cmluZ3NbN107XG4gICAgdGhpcy5tYW51ZmFjdHVyZXIgPSBzdHJpbmdzWzhdO1xuICAgIHRoaXMuZGVzaWduZXIgPSBzdHJpbmdzWzldO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBzdHJpbmdzWzEwXTtcbiAgICB0aGlzLnZlbmRvclVybCA9IHN0cmluZ3NbMTFdO1xuICAgIHRoaXMuZGVzaWduZXJVcmwgPSBzdHJpbmdzWzEyXTtcbiAgICB0aGlzLmxpY2Vuc2UgPSBzdHJpbmdzWzEzXTtcbiAgICB0aGlzLmxpY2Vuc2VVcmwgPSBzdHJpbmdzWzE0XTtcbiAgICB0aGlzLnByZWZlcnJlZEZhbWlseSA9IHN0cmluZ3NbMTVdO1xuICAgIHRoaXMucHJlZmVycmVkU3ViZmFtaWx5ID0gc3RyaW5nc1sxN107XG4gICAgdGhpcy5jb21wYXRpYmxlRnVsbCA9IHN0cmluZ3NbMThdO1xuICAgIHJldHVybiAodGhpcy5zYW1wbGVUZXh0ID0gc3RyaW5nc1sxOV0pO1xuICB9O1xuICBzdWJzZXRUYWcgPSBcIkFBQUFBQVwiO1xuICAvKk5hbWVUYWJsZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlkLCBsaXN0LCBuYW1lSUQsIG5hbWVUYWJsZSwgcG9zdHNjcmlwdE5hbWUsIHN0ckNvdW50LCBzdHJUYWJsZSwgc3RyaW5nLCBzdHJpbmdzLCB0YWJsZSwgdmFsLCBfaSwgX2xlbiwgX3JlZjtcbiAgICAgICAgICAgIHN0cmluZ3MgPSB7fTtcbiAgICAgICAgICAgIF9yZWYgPSB0aGlzLnN0cmluZ3M7XG4gICAgICAgICAgICBmb3IgKGlkIGluIF9yZWYpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSBfcmVmW2lkXTtcbiAgICAgICAgICAgICAgICBzdHJpbmdzW2lkXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc3RzY3JpcHROYW1lID0gbmV3IE5hbWVFbnRyeShcIlwiICsgc3Vic2V0VGFnICsgXCIrXCIgKyB0aGlzLnBvc3RzY3JpcHROYW1lLCB7XG4gICAgICAgICAgICAgICAgcGxhdGZvcm1JRDogMVxuICAgICAgICAgICAgICAgICwgZW5jb2RpbmdJRDogMFxuICAgICAgICAgICAgICAgICwgbGFuZ3VhZ2VJRDogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdHJpbmdzWzZdID0gW3Bvc3RzY3JpcHROYW1lXTtcbiAgICAgICAgICAgIHN1YnNldFRhZyA9IHN1Y2Nlc3Nvck9mKHN1YnNldFRhZyk7XG4gICAgICAgICAgICBzdHJDb3VudCA9IDA7XG4gICAgICAgICAgICBmb3IgKGlkIGluIHN0cmluZ3MpIHtcbiAgICAgICAgICAgICAgICBsaXN0ID0gc3RyaW5nc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKGxpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdHJDb3VudCArPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJsZSA9IG5ldyBEYXRhO1xuICAgICAgICAgICAgc3RyVGFibGUgPSBuZXcgRGF0YTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQoMCk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVNob3J0KHN0ckNvdW50KTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQoNiArIDEyICogc3RyQ291bnQpO1xuICAgICAgICAgICAgZm9yIChuYW1lSUQgaW4gc3RyaW5ncykge1xuICAgICAgICAgICAgICAgIGxpc3QgPSBzdHJpbmdzW25hbWVJRF07XG4gICAgICAgICAgICAgICAgaWYgKGxpc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGxpc3QubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyA9IGxpc3RbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydChzdHJpbmcucGxhdGZvcm1JRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS53cml0ZVNob3J0KHN0cmluZy5lbmNvZGluZ0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQoc3RyaW5nLmxhbmd1YWdlSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydChuYW1lSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUud3JpdGVTaG9ydChzdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLndyaXRlU2hvcnQoc3RyVGFibGUucG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0clRhYmxlLndyaXRlU3RyaW5nKHN0cmluZy5yYXcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5hbWVUYWJsZSA9IHtcbiAgICAgICAgICAgICAgICBwb3N0c2NyaXB0TmFtZTogcG9zdHNjcmlwdE5hbWUucmF3XG4gICAgICAgICAgICAgICAgLCB0YWJsZTogdGFibGUuZGF0YS5jb25jYXQoc3RyVGFibGUuZGF0YSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07Ki9cbiAgcmV0dXJuIE5hbWVUYWJsZTtcbn0pKFRhYmxlKTtcblxudmFyIE1heHBUYWJsZSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgX19leHRlbmRzKE1heHBUYWJsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBNYXhwVGFibGUoKSB7XG4gICAgcmV0dXJuIE1heHBUYWJsZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBNYXhwVGFibGUucHJvdG90eXBlLnRhZyA9IFwibWF4cFwiO1xuICBNYXhwVGFibGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGRhdGEucG9zID0gdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy52ZXJzaW9uID0gZGF0YS5yZWFkSW50KCk7XG4gICAgdGhpcy5udW1HbHlwaHMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLm1heFBvaW50cyA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRoaXMubWF4Q29udG91cnMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLm1heENvbXBvc2l0ZVBvaW50cyA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRoaXMubWF4Q29tcG9uZW50Q29udG91cnMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLm1heFpvbmVzID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgdGhpcy5tYXhUd2lsaWdodFBvaW50cyA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRoaXMubWF4U3RvcmFnZSA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRoaXMubWF4RnVuY3Rpb25EZWZzID0gZGF0YS5yZWFkVUludDE2KCk7XG4gICAgdGhpcy5tYXhJbnN0cnVjdGlvbkRlZnMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLm1heFN0YWNrRWxlbWVudHMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICB0aGlzLm1heFNpemVPZkluc3RydWN0aW9ucyA9IGRhdGEucmVhZFVJbnQxNigpO1xuICAgIHRoaXMubWF4Q29tcG9uZW50RWxlbWVudHMgPSBkYXRhLnJlYWRVSW50MTYoKTtcbiAgICByZXR1cm4gKHRoaXMubWF4Q29tcG9uZW50RGVwdGggPSBkYXRhLnJlYWRVSW50MTYoKSk7XG4gIH07XG4gIC8qTWF4cFRhYmxlLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAoaWRzKSB7XG4gICAgICAgICAgICB2YXIgdGFibGU7XG4gICAgICAgICAgICB0YWJsZSA9IG5ldyBEYXRhO1xuICAgICAgICAgICAgdGFibGUud3JpdGVJbnQodGhpcy52ZXJzaW9uKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDE2KGlkcy5sZW5ndGgpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhQb2ludHMpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhDb250b3Vycyk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVVJbnQxNih0aGlzLm1heENvbXBvc2l0ZVBvaW50cyk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVVJbnQxNih0aGlzLm1heENvbXBvbmVudENvbnRvdXJzKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDE2KHRoaXMubWF4Wm9uZXMpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhUd2lsaWdodFBvaW50cyk7XG4gICAgICAgICAgICB0YWJsZS53cml0ZVVJbnQxNih0aGlzLm1heFN0b3JhZ2UpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhGdW5jdGlvbkRlZnMpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhJbnN0cnVjdGlvbkRlZnMpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhTdGFja0VsZW1lbnRzKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDE2KHRoaXMubWF4U2l6ZU9mSW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIHRhYmxlLndyaXRlVUludDE2KHRoaXMubWF4Q29tcG9uZW50RWxlbWVudHMpO1xuICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYodGhpcy5tYXhDb21wb25lbnREZXB0aCk7XG4gICAgICAgICAgICByZXR1cm4gdGFibGUuZGF0YTtcbiAgICAgICAgfTsqL1xuICByZXR1cm4gTWF4cFRhYmxlO1xufSkoVGFibGUpO1xuXG52YXIgSG10eFRhYmxlID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoSG10eFRhYmxlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEhtdHhUYWJsZSgpIHtcbiAgICByZXR1cm4gSG10eFRhYmxlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIEhtdHhUYWJsZS5wcm90b3R5cGUudGFnID0gXCJobXR4XCI7XG4gIEhtdHhUYWJsZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIGksIGxhc3QsIGxzYkNvdW50LCBtLCBfaiwgX3JlZiwgX3Jlc3VsdHM7XG4gICAgZGF0YS5wb3MgPSB0aGlzLm9mZnNldDtcbiAgICB0aGlzLm1ldHJpY3MgPSBbXTtcbiAgICBmb3IgKFxuICAgICAgaSA9IDAsIF9yZWYgPSB0aGlzLmZpbGUuaGhlYS5udW1iZXJPZk1ldHJpY3M7XG4gICAgICAwIDw9IF9yZWYgPyBpIDwgX3JlZiA6IGkgPiBfcmVmO1xuICAgICAgaSA9IDAgPD0gX3JlZiA/ICsraSA6IC0taVxuICAgICkge1xuICAgICAgdGhpcy5tZXRyaWNzLnB1c2goe1xuICAgICAgICBhZHZhbmNlOiBkYXRhLnJlYWRVSW50MTYoKSxcbiAgICAgICAgbHNiOiBkYXRhLnJlYWRJbnQxNigpXG4gICAgICB9KTtcbiAgICB9XG4gICAgbHNiQ291bnQgPSB0aGlzLmZpbGUubWF4cC5udW1HbHlwaHMgLSB0aGlzLmZpbGUuaGhlYS5udW1iZXJPZk1ldHJpY3M7XG4gICAgdGhpcy5sZWZ0U2lkZUJlYXJpbmdzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF9qLCBfcmVzdWx0cztcbiAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICBmb3IgKFxuICAgICAgICBpID0gX2ogPSAwO1xuICAgICAgICAwIDw9IGxzYkNvdW50ID8gX2ogPCBsc2JDb3VudCA6IF9qID4gbHNiQ291bnQ7XG4gICAgICAgIGkgPSAwIDw9IGxzYkNvdW50ID8gKytfaiA6IC0tX2pcbiAgICAgICkge1xuICAgICAgICBfcmVzdWx0cy5wdXNoKGRhdGEucmVhZEludDE2KCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgIH0pKCk7XG4gICAgdGhpcy53aWR0aHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfaiwgX2xlbiwgX3JlZjEsIF9yZXN1bHRzO1xuICAgICAgX3JlZjEgPSB0aGlzLm1ldHJpY3M7XG4gICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChfaiA9IDAsIF9sZW4gPSBfcmVmMS5sZW5ndGg7IF9qIDwgX2xlbjsgX2orKykge1xuICAgICAgICBtID0gX3JlZjFbX2pdO1xuICAgICAgICBfcmVzdWx0cy5wdXNoKG0uYWR2YW5jZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfS5jYWxsKHRoaXMpO1xuICAgIGxhc3QgPSB0aGlzLndpZHRoc1t0aGlzLndpZHRocy5sZW5ndGggLSAxXTtcbiAgICBfcmVzdWx0cyA9IFtdO1xuICAgIGZvciAoXG4gICAgICBpID0gX2ogPSAwO1xuICAgICAgMCA8PSBsc2JDb3VudCA/IF9qIDwgbHNiQ291bnQgOiBfaiA+IGxzYkNvdW50O1xuICAgICAgaSA9IDAgPD0gbHNiQ291bnQgPyArK19qIDogLS1falxuICAgICkge1xuICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLndpZHRocy5wdXNoKGxhc3QpKTtcbiAgICB9XG4gICAgcmV0dXJuIF9yZXN1bHRzO1xuICB9O1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiBmdW5jdGlvbiA6IGZvckdseXBoICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDogUmV0dXJucyB0aGUgYWR2YW5jZSB3aWR0aCBhbmQgbHNiIGZvciB0aGlzIGdseXBoLiAqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBIbXR4VGFibGUucHJvdG90eXBlLmZvckdseXBoID0gZnVuY3Rpb24oaWQpIHtcbiAgICBpZiAoaWQgaW4gdGhpcy5tZXRyaWNzKSB7XG4gICAgICByZXR1cm4gdGhpcy5tZXRyaWNzW2lkXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGFkdmFuY2U6IHRoaXMubWV0cmljc1t0aGlzLm1ldHJpY3MubGVuZ3RoIC0gMV0uYWR2YW5jZSxcbiAgICAgIGxzYjogdGhpcy5sZWZ0U2lkZUJlYXJpbmdzW2lkIC0gdGhpcy5tZXRyaWNzLmxlbmd0aF1cbiAgICB9O1xuICB9O1xuICAvKkhtdHhUYWJsZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgICAgIHZhciBpZCwgbWV0cmljLCB0YWJsZSwgX2ksIF9sZW47XG4gICAgICAgICAgICB0YWJsZSA9IG5ldyBEYXRhO1xuICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBtYXBwaW5nLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgaWQgPSBtYXBwaW5nW19pXTtcbiAgICAgICAgICAgICAgICBtZXRyaWMgPSB0aGlzLmZvckdseXBoKGlkKTtcbiAgICAgICAgICAgICAgICB0YWJsZS53cml0ZVVJbnQxNihtZXRyaWMuYWR2YW5jZSk7XG4gICAgICAgICAgICAgICAgdGFibGUud3JpdGVVSW50MTYobWV0cmljLmxzYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFibGUuZGF0YTtcbiAgICAgICAgfTsqL1xuICByZXR1cm4gSG10eFRhYmxlO1xufSkoVGFibGUpO1xuXG52YXIgX19zbGljZSA9IFtdLnNsaWNlO1xuXG52YXIgR2x5ZlRhYmxlID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoR2x5ZlRhYmxlLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEdseWZUYWJsZSgpIHtcbiAgICByZXR1cm4gR2x5ZlRhYmxlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG4gIEdseWZUYWJsZS5wcm90b3R5cGUudGFnID0gXCJnbHlmXCI7XG4gIEdseWZUYWJsZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKHRoaXMuY2FjaGUgPSB7fSk7XG4gIH07XG4gIEdseWZUYWJsZS5wcm90b3R5cGUuZ2x5cGhGb3IgPSBmdW5jdGlvbihpZCkge1xuICAgIHZhciBkYXRhLFxuICAgICAgaW5kZXgsXG4gICAgICBsZW5ndGgsXG4gICAgICBsb2NhLFxuICAgICAgbnVtYmVyT2ZDb250b3VycyxcbiAgICAgIHJhdyxcbiAgICAgIHhNYXgsXG4gICAgICB4TWluLFxuICAgICAgeU1heCxcbiAgICAgIHlNaW47XG4gICAgaWYgKGlkIGluIHRoaXMuY2FjaGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlW2lkXTtcbiAgICB9XG4gICAgbG9jYSA9IHRoaXMuZmlsZS5sb2NhO1xuICAgIGRhdGEgPSB0aGlzLmZpbGUuY29udGVudHM7XG4gICAgaW5kZXggPSBsb2NhLmluZGV4T2YoaWQpO1xuICAgIGxlbmd0aCA9IGxvY2EubGVuZ3RoT2YoaWQpO1xuICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAodGhpcy5jYWNoZVtpZF0gPSBudWxsKTtcbiAgICB9XG4gICAgZGF0YS5wb3MgPSB0aGlzLm9mZnNldCArIGluZGV4O1xuICAgIHJhdyA9IG5ldyBEYXRhKGRhdGEucmVhZChsZW5ndGgpKTtcbiAgICBudW1iZXJPZkNvbnRvdXJzID0gcmF3LnJlYWRTaG9ydCgpO1xuICAgIHhNaW4gPSByYXcucmVhZFNob3J0KCk7XG4gICAgeU1pbiA9IHJhdy5yZWFkU2hvcnQoKTtcbiAgICB4TWF4ID0gcmF3LnJlYWRTaG9ydCgpO1xuICAgIHlNYXggPSByYXcucmVhZFNob3J0KCk7XG4gICAgaWYgKG51bWJlck9mQ29udG91cnMgPT09IC0xKSB7XG4gICAgICB0aGlzLmNhY2hlW2lkXSA9IG5ldyBDb21wb3VuZEdseXBoKHJhdywgeE1pbiwgeU1pbiwgeE1heCwgeU1heCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2FjaGVbaWRdID0gbmV3IFNpbXBsZUdseXBoKFxuICAgICAgICByYXcsXG4gICAgICAgIG51bWJlck9mQ29udG91cnMsXG4gICAgICAgIHhNaW4sXG4gICAgICAgIHlNaW4sXG4gICAgICAgIHhNYXgsXG4gICAgICAgIHlNYXhcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhY2hlW2lkXTtcbiAgfTtcbiAgR2x5ZlRhYmxlLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihnbHlwaHMsIG1hcHBpbmcsIG9sZDJuZXcpIHtcbiAgICB2YXIgZ2x5cGgsIGlkLCBvZmZzZXRzLCB0YWJsZSwgX2ksIF9sZW47XG4gICAgdGFibGUgPSBbXTtcbiAgICBvZmZzZXRzID0gW107XG4gICAgZm9yIChfaSA9IDAsIF9sZW4gPSBtYXBwaW5nLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICBpZCA9IG1hcHBpbmdbX2ldO1xuICAgICAgZ2x5cGggPSBnbHlwaHNbaWRdO1xuICAgICAgb2Zmc2V0cy5wdXNoKHRhYmxlLmxlbmd0aCk7XG4gICAgICBpZiAoZ2x5cGgpIHtcbiAgICAgICAgdGFibGUgPSB0YWJsZS5jb25jYXQoZ2x5cGguZW5jb2RlKG9sZDJuZXcpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb2Zmc2V0cy5wdXNoKHRhYmxlLmxlbmd0aCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgIG9mZnNldHM6IG9mZnNldHNcbiAgICB9O1xuICB9O1xuICByZXR1cm4gR2x5ZlRhYmxlO1xufSkoVGFibGUpO1xuXG52YXIgU2ltcGxlR2x5cGggPSAoZnVuY3Rpb24oKSB7XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyogZnVuY3Rpb24gOiBTaW1wbGVHbHlwaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDogU3RvcmVzIHJhdywgeE1pbiwgeU1pbiwgeE1heCwgYW5kIHlNYXggdmFsdWVzIGZvciB0aGlzIGdseXBoLiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgZnVuY3Rpb24gU2ltcGxlR2x5cGgocmF3LCBudW1iZXJPZkNvbnRvdXJzLCB4TWluLCB5TWluLCB4TWF4LCB5TWF4KSB7XG4gICAgdGhpcy5yYXcgPSByYXc7XG4gICAgdGhpcy5udW1iZXJPZkNvbnRvdXJzID0gbnVtYmVyT2ZDb250b3VycztcbiAgICB0aGlzLnhNaW4gPSB4TWluO1xuICAgIHRoaXMueU1pbiA9IHlNaW47XG4gICAgdGhpcy54TWF4ID0geE1heDtcbiAgICB0aGlzLnlNYXggPSB5TWF4O1xuICAgIHRoaXMuY29tcG91bmQgPSBmYWxzZTtcbiAgfVxuICBTaW1wbGVHbHlwaC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmF3LmRhdGE7XG4gIH07XG4gIHJldHVybiBTaW1wbGVHbHlwaDtcbn0pKCk7XG5cbnZhciBDb21wb3VuZEdseXBoID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgQVJHXzFfQU5EXzJfQVJFX1dPUkRTLFxuICAgIE1PUkVfQ09NUE9ORU5UUyxcbiAgICBXRV9IQVZFX0FOX1hfQU5EX1lfU0NBTEUsXG4gICAgV0VfSEFWRV9BX1NDQUxFLFxuICAgIFdFX0hBVkVfQV9UV09fQllfVFdPLFxuICAgIFdFX0hBVkVfSU5TVFJVQ1RJT05TO1xuICBBUkdfMV9BTkRfMl9BUkVfV09SRFMgPSAweDAwMDE7XG4gIFdFX0hBVkVfQV9TQ0FMRSA9IDB4MDAwODtcbiAgTU9SRV9DT01QT05FTlRTID0gMHgwMDIwO1xuICBXRV9IQVZFX0FOX1hfQU5EX1lfU0NBTEUgPSAweDAwNDA7XG4gIFdFX0hBVkVfQV9UV09fQllfVFdPID0gMHgwMDgwO1xuICBXRV9IQVZFX0lOU1RSVUNUSU9OUyA9IDB4MDEwMDtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qIGZ1bmN0aW9uIDogQ29tcG91bmRHbHlwZyBnZW5lcmF0b3IgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLyogY29tbWVudCA6IEl0IHN0b3JlcyByYXcsIHhNaW4sIHlNaW4sIHhNYXgsIHlNYXgsIGdseXBoIGlkLCBhbmQgZ2x5cGggb2Zmc2V0IGZvciB0aGUgY29ycmVzcG9uZGluZyBjb21wb3VuZCBnbHlwaC4qL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGZ1bmN0aW9uIENvbXBvdW5kR2x5cGgocmF3LCB4TWluLCB5TWluLCB4TWF4LCB5TWF4KSB7XG4gICAgdmFyIGRhdGEsIGZsYWdzO1xuICAgIHRoaXMucmF3ID0gcmF3O1xuICAgIHRoaXMueE1pbiA9IHhNaW47XG4gICAgdGhpcy55TWluID0geU1pbjtcbiAgICB0aGlzLnhNYXggPSB4TWF4O1xuICAgIHRoaXMueU1heCA9IHlNYXg7XG4gICAgdGhpcy5jb21wb3VuZCA9IHRydWU7XG4gICAgdGhpcy5nbHlwaElEcyA9IFtdO1xuICAgIHRoaXMuZ2x5cGhPZmZzZXRzID0gW107XG4gICAgZGF0YSA9IHRoaXMucmF3O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBmbGFncyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICB0aGlzLmdseXBoT2Zmc2V0cy5wdXNoKGRhdGEucG9zKTtcbiAgICAgIHRoaXMuZ2x5cGhJRHMucHVzaChkYXRhLnJlYWRVSW50MTYoKSk7XG4gICAgICBpZiAoIShmbGFncyAmIE1PUkVfQ09NUE9ORU5UUykpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoZmxhZ3MgJiBBUkdfMV9BTkRfMl9BUkVfV09SRFMpIHtcbiAgICAgICAgZGF0YS5wb3MgKz0gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEucG9zICs9IDI7XG4gICAgICB9XG4gICAgICBpZiAoZmxhZ3MgJiBXRV9IQVZFX0FfVFdPX0JZX1RXTykge1xuICAgICAgICBkYXRhLnBvcyArPSA4O1xuICAgICAgfSBlbHNlIGlmIChmbGFncyAmIFdFX0hBVkVfQU5fWF9BTkRfWV9TQ0FMRSkge1xuICAgICAgICBkYXRhLnBvcyArPSA0O1xuICAgICAgfSBlbHNlIGlmIChmbGFncyAmIFdFX0hBVkVfQV9TQ0FMRSkge1xuICAgICAgICBkYXRhLnBvcyArPSAyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyogZnVuY3Rpb24gOiBDb21wb3VuZEdseXBnIGVuY29kZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIGNvbW1lbnQgOiBBZnRlciBjcmVhdGluZyBhIHRhYmxlIGZvciB0aGUgY2hhcmFjdGVycyB5b3UgdHlwZWQsIHlvdSBjYWxsIGRpcmVjdG9yeS5lbmNvZGUgdG8gZW5jb2RlIHRoZSB0YWJsZS4qL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgQ29tcG91bmRHbHlwaC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGksIHJlc3VsdCwgX2xlbiwgX3JlZjtcbiAgICByZXN1bHQgPSBuZXcgRGF0YShfX3NsaWNlLmNhbGwodGhpcy5yYXcuZGF0YSkpO1xuICAgIF9yZWYgPSB0aGlzLmdseXBoSURzO1xuICAgIGZvciAoaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgaSA8IF9sZW47ICsraSkge1xuICAgICAgcmVzdWx0LnBvcyA9IHRoaXMuZ2x5cGhPZmZzZXRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gIH07XG4gIHJldHVybiBDb21wb3VuZEdseXBoO1xufSkoKTtcblxudmFyIExvY2FUYWJsZSA9IChmdW5jdGlvbihfc3VwZXIpIHtcbiAgX19leHRlbmRzKExvY2FUYWJsZSwgX3N1cGVyKTtcblxuICBmdW5jdGlvbiBMb2NhVGFibGUoKSB7XG4gICAgcmV0dXJuIExvY2FUYWJsZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBMb2NhVGFibGUucHJvdG90eXBlLnRhZyA9IFwibG9jYVwiO1xuICBMb2NhVGFibGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBmb3JtYXQsIGk7XG4gICAgZGF0YS5wb3MgPSB0aGlzLm9mZnNldDtcbiAgICBmb3JtYXQgPSB0aGlzLmZpbGUuaGVhZC5pbmRleFRvTG9jRm9ybWF0O1xuICAgIGlmIChmb3JtYXQgPT09IDApIHtcbiAgICAgIHJldHVybiAodGhpcy5vZmZzZXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfcmVmLCBfcmVzdWx0cztcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgX3JlZiA9IHRoaXMubGVuZ3RoOyBpIDwgX3JlZjsgaSArPSAyKSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChkYXRhLnJlYWRVSW50MTYoKSAqIDIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH0uY2FsbCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAodGhpcy5vZmZzZXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfcmVmLCBfcmVzdWx0cztcbiAgICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgX3JlZiA9IHRoaXMubGVuZ3RoOyBpIDwgX3JlZjsgaSArPSA0KSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChkYXRhLnJlYWRVSW50MzIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfS5jYWxsKHRoaXMpKTtcbiAgICB9XG4gIH07XG4gIExvY2FUYWJsZS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0c1tpZF07XG4gIH07XG4gIExvY2FUYWJsZS5wcm90b3R5cGUubGVuZ3RoT2YgPSBmdW5jdGlvbihpZCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldHNbaWQgKyAxXSAtIHRoaXMub2Zmc2V0c1tpZF07XG4gIH07XG4gIExvY2FUYWJsZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24ob2Zmc2V0cywgYWN0aXZlR2x5cGhzKSB7XG4gICAgdmFyIExvY2FUYWJsZSA9IG5ldyBVaW50MzJBcnJheSh0aGlzLm9mZnNldHMubGVuZ3RoKTtcbiAgICB2YXIgZ2x5ZlB0ciA9IDA7XG4gICAgdmFyIGxpc3RHbHlmID0gMDtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IExvY2FUYWJsZS5sZW5ndGg7ICsraykge1xuICAgICAgTG9jYVRhYmxlW2tdID0gZ2x5ZlB0cjtcbiAgICAgIGlmIChsaXN0R2x5ZiA8IGFjdGl2ZUdseXBocy5sZW5ndGggJiYgYWN0aXZlR2x5cGhzW2xpc3RHbHlmXSA9PSBrKSB7XG4gICAgICAgICsrbGlzdEdseWY7XG4gICAgICAgIExvY2FUYWJsZVtrXSA9IGdseWZQdHI7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMub2Zmc2V0c1trXTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMub2Zmc2V0c1trICsgMV0gLSBzdGFydDtcbiAgICAgICAgaWYgKGxlbiA+IDApIHtcbiAgICAgICAgICBnbHlmUHRyICs9IGxlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbmV3TG9jYVRhYmxlID0gbmV3IEFycmF5KExvY2FUYWJsZS5sZW5ndGggKiA0KTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IExvY2FUYWJsZS5sZW5ndGg7ICsraikge1xuICAgICAgbmV3TG9jYVRhYmxlWzQgKiBqICsgM10gPSBMb2NhVGFibGVbal0gJiAweDAwMDAwMGZmO1xuICAgICAgbmV3TG9jYVRhYmxlWzQgKiBqICsgMl0gPSAoTG9jYVRhYmxlW2pdICYgMHgwMDAwZmYwMCkgPj4gODtcbiAgICAgIG5ld0xvY2FUYWJsZVs0ICogaiArIDFdID0gKExvY2FUYWJsZVtqXSAmIDB4MDBmZjAwMDApID4+IDE2O1xuICAgICAgbmV3TG9jYVRhYmxlWzQgKiBqXSA9IChMb2NhVGFibGVbal0gJiAweGZmMDAwMDAwKSA+PiAyNDtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0xvY2FUYWJsZTtcbiAgfTtcbiAgcmV0dXJuIExvY2FUYWJsZTtcbn0pKFRhYmxlKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qIGZ1bmN0aW9uIDogaW52ZXJ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiBjb21tZW50IDogQ2hhbmdlIHRoZSBvYmplY3QncyAoa2V5OiB2YWx1ZSkgdG8gY3JlYXRlIGFuIG9iamVjdCB3aXRoICh2YWx1ZToga2V5KS4qL1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbnZhciBpbnZlcnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgdmFyIGtleSwgcmV0LCB2YWw7XG4gIHJldCA9IHt9O1xuICBmb3IgKGtleSBpbiBvYmplY3QpIHtcbiAgICB2YWwgPSBvYmplY3Rba2V5XTtcbiAgICByZXRbdmFsXSA9IGtleTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxuLyp2YXIgc3VjY2Vzc29yT2YgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGFkZGVkLCBhbHBoYWJldCwgY2FycnksIGksIGluZGV4LCBpc1VwcGVyQ2FzZSwgbGFzdCwgbGVuZ3RoLCBuZXh0LCByZXN1bHQ7XG4gICAgICAgIGFscGhhYmV0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JztcbiAgICAgICAgbGVuZ3RoID0gYWxwaGFiZXQubGVuZ3RoO1xuICAgICAgICByZXN1bHQgPSBpbnB1dDtcbiAgICAgICAgaSA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICAgICAgbGFzdCA9IGlucHV0LmNoYXJBdCgtLWkpO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGxhc3QpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBhbHBoYWJldC5pbmRleE9mKGxhc3QudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbGFzdDtcbiAgICAgICAgICAgICAgICAgICAgY2FycnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGFscGhhYmV0LmNoYXJBdCgoaW5kZXggKyAxKSAlIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlzVXBwZXJDYXNlID0gbGFzdCA9PT0gbGFzdC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNVcHBlckNhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBuZXh0LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FycnkgPSBpbmRleCArIDEgPj0gbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FycnkgJiYgaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkZWQgPSBpc1VwcGVyQ2FzZSA/ICdBJyA6ICdhJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFkZGVkICsgbmV4dCArIHJlc3VsdC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dCA9ICtsYXN0ICsgMTtcbiAgICAgICAgICAgICAgICBjYXJyeSA9IG5leHQgPiA5O1xuICAgICAgICAgICAgICAgIGlmIChjYXJyeSkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhcnJ5ICYmIGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJzEnICsgbmV4dCArIHJlc3VsdC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIGkpICsgbmV4dCArIHJlc3VsdC5zbGljZShpICsgMSk7XG4gICAgICAgICAgICBpZiAoIWNhcnJ5KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9OyovXG5cbnZhciBTdWJzZXQgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFN1YnNldChmb250KSB7XG4gICAgdGhpcy5mb250ID0gZm9udDtcbiAgICB0aGlzLnN1YnNldCA9IHt9O1xuICAgIHRoaXMudW5pY29kZXMgPSB7fTtcbiAgICB0aGlzLm5leHQgPSAzMztcbiAgfVxuICAvKlN1YnNldC5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gKGNoYXJhY3Rlcikge1xuICAgICAgICAgICAgdmFyIGksIF9pLCBfcmVmO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFyYWN0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gX2kgPSAwLCBfcmVmID0gY2hhcmFjdGVyLmxlbmd0aDsgMCA8PSBfcmVmID8gX2kgPCBfcmVmIDogX2kgPiBfcmVmOyBpID0gMCA8PSBfcmVmID8gKytfaSA6IC0tX2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2UoY2hhcmFjdGVyLmNoYXJDb2RlQXQoaSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMudW5pY29kZXNbY2hhcmFjdGVyXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3Vic2V0W3RoaXMubmV4dF0gPSBjaGFyYWN0ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pY29kZXNbY2hhcmFjdGVyXSA9IHRoaXMubmV4dCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9OyovXG4gIC8qU3Vic2V0LnByb3RvdHlwZS5lbmNvZGVUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHZhciBjaGFyLCBpLCBzdHJpbmcsIF9pLCBfcmVmO1xuICAgICAgICAgICAgc3RyaW5nID0gJyc7XG4gICAgICAgICAgICBmb3IgKGkgPSBfaSA9IDAsIF9yZWYgPSB0ZXh0Lmxlbmd0aDsgMCA8PSBfcmVmID8gX2kgPCBfcmVmIDogX2kgPiBfcmVmOyBpID0gMCA8PSBfcmVmID8gKytfaSA6IC0tX2kpIHtcbiAgICAgICAgICAgICAgICBjaGFyID0gdGhpcy51bmljb2Rlc1t0ZXh0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfTsqL1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvKiBmdW5jdGlvbiA6IGdlbmVyYXRlQ21hcCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDogUmV0dXJucyB0aGUgdW5pY29kZSBjbWFwIGZvciB0aGlzIGZvbnQuICAgICAgICAgKi9cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgU3Vic2V0LnByb3RvdHlwZS5nZW5lcmF0ZUNtYXAgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWFwcGluZywgcm9tYW4sIHVuaWNvZGUsIHVuaWNvZGVDbWFwLCBfcmVmO1xuICAgIHVuaWNvZGVDbWFwID0gdGhpcy5mb250LmNtYXAudGFibGVzWzBdLmNvZGVNYXA7XG4gICAgbWFwcGluZyA9IHt9O1xuICAgIF9yZWYgPSB0aGlzLnN1YnNldDtcbiAgICBmb3IgKHJvbWFuIGluIF9yZWYpIHtcbiAgICAgIHVuaWNvZGUgPSBfcmVmW3JvbWFuXTtcbiAgICAgIG1hcHBpbmdbcm9tYW5dID0gdW5pY29kZUNtYXBbdW5pY29kZV07XG4gICAgfVxuICAgIHJldHVybiBtYXBwaW5nO1xuICB9O1xuICAvKlN1YnNldC5wcm90b3R5cGUuZ2x5cGhJRHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmV0LCByb21hbiwgdW5pY29kZSwgdW5pY29kZUNtYXAsIHZhbCwgX3JlZjtcbiAgICAgICAgICAgIHVuaWNvZGVDbWFwID0gdGhpcy5mb250LmNtYXAudGFibGVzWzBdLmNvZGVNYXA7XG4gICAgICAgICAgICByZXQgPSBbMF07XG4gICAgICAgICAgICBfcmVmID0gdGhpcy5zdWJzZXQ7XG4gICAgICAgICAgICBmb3IgKHJvbWFuIGluIF9yZWYpIHtcbiAgICAgICAgICAgICAgICB1bmljb2RlID0gX3JlZltyb21hbl07XG4gICAgICAgICAgICAgICAgdmFsID0gdW5pY29kZUNtYXBbdW5pY29kZV07XG4gICAgICAgICAgICAgICAgaWYgKCh2YWwgIT0gbnVsbCkgJiYgX19pbmRleE9mLmNhbGwocmV0LCB2YWwpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQuc29ydCgpO1xuICAgICAgICB9OyovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qIGZ1bmN0aW9uIDogZ2x5cGhzRm9yICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIGNvbW1lbnQgOiBSZXR1cm5zIHNpbXBsZSBnbHlwaCBvYmplY3RzIGZvciB0aGUgaW5wdXQgY2hhcmFjdGVyLiovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFN1YnNldC5wcm90b3R5cGUuZ2x5cGhzRm9yID0gZnVuY3Rpb24oZ2x5cGhJRHMpIHtcbiAgICB2YXIgYWRkaXRpb25hbElEcywgZ2x5cGgsIGdseXBocywgaWQsIF9pLCBfbGVuLCBfcmVmO1xuICAgIGdseXBocyA9IHt9O1xuICAgIGZvciAoX2kgPSAwLCBfbGVuID0gZ2x5cGhJRHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIGlkID0gZ2x5cGhJRHNbX2ldO1xuICAgICAgZ2x5cGhzW2lkXSA9IHRoaXMuZm9udC5nbHlmLmdseXBoRm9yKGlkKTtcbiAgICB9XG4gICAgYWRkaXRpb25hbElEcyA9IFtdO1xuICAgIGZvciAoaWQgaW4gZ2x5cGhzKSB7XG4gICAgICBnbHlwaCA9IGdseXBoc1tpZF07XG4gICAgICBpZiAoZ2x5cGggIT0gbnVsbCA/IGdseXBoLmNvbXBvdW5kIDogdm9pZCAwKSB7XG4gICAgICAgIGFkZGl0aW9uYWxJRHMucHVzaC5hcHBseShhZGRpdGlvbmFsSURzLCBnbHlwaC5nbHlwaElEcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhZGRpdGlvbmFsSURzLmxlbmd0aCA+IDApIHtcbiAgICAgIF9yZWYgPSB0aGlzLmdseXBoc0ZvcihhZGRpdGlvbmFsSURzKTtcbiAgICAgIGZvciAoaWQgaW4gX3JlZikge1xuICAgICAgICBnbHlwaCA9IF9yZWZbaWRdO1xuICAgICAgICBnbHlwaHNbaWRdID0gZ2x5cGg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnbHlwaHM7XG4gIH07XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8qIGZ1bmN0aW9uIDogZW5jb2RlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8qIGNvbW1lbnQgOiBFbmNvZGUgdmFyaW91cyB0YWJsZXMgZm9yIHRoZSBjaGFyYWN0ZXJzIHlvdSB1c2UuICovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIFN1YnNldC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZ2x5SUQsIGluZGV4VG9Mb2NGb3JtYXQpIHtcbiAgICB2YXIgY21hcCxcbiAgICAgIGNvZGUsXG4gICAgICBnbHlmLFxuICAgICAgZ2x5cGhzLFxuICAgICAgaWQsXG4gICAgICBpZHMsXG4gICAgICBsb2NhLFxuICAgICAgbmV3Mm9sZCxcbiAgICAgIG5ld0lEcyxcbiAgICAgIG5leHRHbHlwaElELFxuICAgICAgb2xkMm5ldyxcbiAgICAgIG9sZElELFxuICAgICAgb2xkSURzLFxuICAgICAgdGFibGVzLFxuICAgICAgX3JlZjtcbiAgICBjbWFwID0gQ21hcFRhYmxlLmVuY29kZSh0aGlzLmdlbmVyYXRlQ21hcCgpLCBcInVuaWNvZGVcIik7XG4gICAgZ2x5cGhzID0gdGhpcy5nbHlwaHNGb3IoZ2x5SUQpO1xuICAgIG9sZDJuZXcgPSB7XG4gICAgICAwOiAwXG4gICAgfTtcbiAgICBfcmVmID0gY21hcC5jaGFyTWFwO1xuICAgIGZvciAoY29kZSBpbiBfcmVmKSB7XG4gICAgICBpZHMgPSBfcmVmW2NvZGVdO1xuICAgICAgb2xkMm5ld1tpZHMub2xkXSA9IGlkc1tcIm5ld1wiXTtcbiAgICB9XG4gICAgbmV4dEdseXBoSUQgPSBjbWFwLm1heEdseXBoSUQ7XG4gICAgZm9yIChvbGRJRCBpbiBnbHlwaHMpIHtcbiAgICAgIGlmICghKG9sZElEIGluIG9sZDJuZXcpKSB7XG4gICAgICAgIG9sZDJuZXdbb2xkSURdID0gbmV4dEdseXBoSUQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgbmV3Mm9sZCA9IGludmVydChvbGQybmV3KTtcbiAgICBuZXdJRHMgPSBPYmplY3Qua2V5cyhuZXcyb2xkKS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICB9KTtcbiAgICBvbGRJRHMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgX2ksIF9sZW4sIF9yZXN1bHRzO1xuICAgICAgX3Jlc3VsdHMgPSBbXTtcbiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gbmV3SURzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgIGlkID0gbmV3SURzW19pXTtcbiAgICAgICAgX3Jlc3VsdHMucHVzaChuZXcyb2xkW2lkXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgfSkoKTtcbiAgICBnbHlmID0gdGhpcy5mb250LmdseWYuZW5jb2RlKGdseXBocywgb2xkSURzLCBvbGQybmV3KTtcbiAgICBsb2NhID0gdGhpcy5mb250LmxvY2EuZW5jb2RlKGdseWYub2Zmc2V0cywgb2xkSURzKTtcbiAgICB0YWJsZXMgPSB7XG4gICAgICBjbWFwOiB0aGlzLmZvbnQuY21hcC5yYXcoKSxcbiAgICAgIGdseWY6IGdseWYudGFibGUsXG4gICAgICBsb2NhOiBsb2NhLFxuICAgICAgaG10eDogdGhpcy5mb250LmhtdHgucmF3KCksXG4gICAgICBoaGVhOiB0aGlzLmZvbnQuaGhlYS5yYXcoKSxcbiAgICAgIG1heHA6IHRoaXMuZm9udC5tYXhwLnJhdygpLFxuICAgICAgcG9zdDogdGhpcy5mb250LnBvc3QucmF3KCksXG4gICAgICBuYW1lOiB0aGlzLmZvbnQubmFtZS5yYXcoKSxcbiAgICAgIGhlYWQ6IHRoaXMuZm9udC5oZWFkLmVuY29kZShpbmRleFRvTG9jRm9ybWF0KVxuICAgIH07XG4gICAgaWYgKHRoaXMuZm9udC5vczIuZXhpc3RzKSB7XG4gICAgICB0YWJsZXNbXCJPUy8yXCJdID0gdGhpcy5mb250Lm9zMi5yYXcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZm9udC5kaXJlY3RvcnkuZW5jb2RlKHRhYmxlcyk7XG4gIH07XG4gIHJldHVybiBTdWJzZXQ7XG59KSgpO1xuXG5qc1BERi5BUEkuUERGT2JqZWN0ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgcGFkO1xuXG4gIGZ1bmN0aW9uIFBERk9iamVjdCgpIHt9XG4gIHBhZCA9IGZ1bmN0aW9uKHN0ciwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIChBcnJheShsZW5ndGggKyAxKS5qb2luKFwiMFwiKSArIHN0cikuc2xpY2UoLWxlbmd0aCk7XG4gIH07XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLyogZnVuY3Rpb24gOiBjb252ZXJ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvKiBjb21tZW50IDpDb252ZXJ0cyBwZGYgdGFnJ3MgLyBGb250QkJveCBhbmQgYXJyYXkgdmFsdWVzIGluIC8gVyB0byBzdHJpbmdzICovXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgUERGT2JqZWN0LmNvbnZlcnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIgZSwgaXRlbXMsIGtleSwgb3V0LCB2YWw7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgaXRlbXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfaSwgX2xlbiwgX3Jlc3VsdHM7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gb2JqZWN0Lmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgZSA9IG9iamVjdFtfaV07XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChQREZPYmplY3QuY29udmVydChlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfSkoKS5qb2luKFwiIFwiKTtcbiAgICAgIHJldHVybiBcIltcIiArIGl0ZW1zICsgXCJdXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gXCIvXCIgKyBvYmplY3Q7XG4gICAgfSBlbHNlIGlmIChvYmplY3QgIT0gbnVsbCA/IG9iamVjdC5pc1N0cmluZyA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiKFwiICsgb2JqZWN0ICsgXCIpXCI7XG4gICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIihEOlwiICtcbiAgICAgICAgcGFkKG9iamVjdC5nZXRVVENGdWxsWWVhcigpLCA0KSArXG4gICAgICAgIHBhZChvYmplY3QuZ2V0VVRDTW9udGgoKSwgMikgK1xuICAgICAgICBwYWQob2JqZWN0LmdldFVUQ0RhdGUoKSwgMikgK1xuICAgICAgICBwYWQob2JqZWN0LmdldFVUQ0hvdXJzKCksIDIpICtcbiAgICAgICAgcGFkKG9iamVjdC5nZXRVVENNaW51dGVzKCksIDIpICtcbiAgICAgICAgcGFkKG9iamVjdC5nZXRVVENTZWNvbmRzKCksIDIpICtcbiAgICAgICAgXCJaKVwiXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoe30udG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICBvdXQgPSBbXCI8PFwiXTtcbiAgICAgIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICB2YWwgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgb3V0LnB1c2goXCIvXCIgKyBrZXkgKyBcIiBcIiArIFBERk9iamVjdC5jb252ZXJ0KHZhbCkpO1xuICAgICAgfVxuICAgICAgb3V0LnB1c2goXCI+PlwiKTtcbiAgICAgIHJldHVybiBvdXQuam9pbihcIlxcblwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiXCIgKyBvYmplY3Q7XG4gICAgfVxuICB9O1xuICByZXR1cm4gUERGT2JqZWN0O1xufSkoKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/html2pdf.js/node_modules/jspdf/dist/jspdf.es.min.js\n");

/***/ })

});